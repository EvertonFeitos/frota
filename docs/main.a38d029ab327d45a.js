(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{555:(Un,Tt,F)=>{"use strict";F.d(Tt,{c:()=>S});var x=F(4878);let g;const we=(Te,ce,Ke)=>{const _t=ce.startsWith("animation")?(Te=>(void 0===g&&(g=void 0===Te.style.animationName&&void 0!==Te.style.webkitAnimationName?"-webkit-":""),g))(Te):"";Te.style.setProperty(_t+ce,Ke)},q=(Te=[],ce)=>{if(void 0!==ce){const Ke=Array.isArray(ce)?ce:[ce];return[...Te,...Ke]}return Te},S=Te=>{let ce,Ke,_t,$e,Me,Qe,ve,At,Ze,He,on,Be=[],lt=[],ct=[],Fe=!1,wt={},ft=[],rt=[],Ee={},ze=0,oe=!1,it=!1,jt=!0,zt=!1,Gn=!0,Xn=!1;const sr=Te,pt=[],We=[],ue=[],fe=[],Re=[],St=[],Ot=[],Lt=[],un=[],Yt=[],hr=[],Qn="function"==typeof AnimationEffect||void 0!==x.w&&"function"==typeof x.w.AnimationEffect,In="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Qn,_r=()=>hr,pr=(tt,dn)=>{const Hn=dn.findIndex(Ir=>Ir.c===tt);Hn>-1&&dn.splice(Hn,1)},xn=(tt,dn)=>((null!=dn&&dn.oneTimeCallback?We:pt).push({c:tt,o:dn}),on),sn=()=>{In&&(hr.forEach(tt=>{tt.cancel()}),hr.length=0)},qt=()=>{St.forEach(tt=>{null!=tt&&tt.parentNode&&tt.parentNode.removeChild(tt)}),St.length=0},Cr=()=>void 0!==Me?Me:ve?ve.getFill():"both",ko=()=>void 0!==At?At:void 0!==Qe?Qe:ve?ve.getDirection():"normal",Rr=()=>oe?"linear":void 0!==_t?_t:ve?ve.getEasing():"linear",Zr=()=>it?0:void 0!==Ze?Ze:void 0!==Ke?Ke:ve?ve.getDuration():0,tn=()=>void 0!==$e?$e:ve?ve.getIterations():1,ar=()=>void 0!==He?He:void 0!==ce?ce:ve?ve.getDelay():0,de=()=>{0!==ze&&(ze--,0===ze&&((()=>{un.forEach(eo=>eo()),Yt.forEach(eo=>eo());const tt=jt?1:0,dn=ft,Hn=rt,Ir=Ee;fe.forEach(eo=>{const Oe=eo.classList;dn.forEach(ot=>Oe.add(ot)),Hn.forEach(ot=>Oe.remove(ot));for(const ot in Ir)Ir.hasOwnProperty(ot)&&we(eo,ot,Ir[ot])}),Ze=void 0,At=void 0,He=void 0,pt.forEach(eo=>eo.c(tt,on)),We.forEach(eo=>eo.c(tt,on)),We.length=0,Gn=!0,jt&&(zt=!0),jt=!0})(),ve&&ve.animationFinish()))},ie=()=>{(()=>{Ot.forEach(Ir=>Ir()),Lt.forEach(Ir=>Ir());const tt=lt,dn=ct,Hn=wt;fe.forEach(Ir=>{const eo=Ir.classList;tt.forEach(Oe=>eo.add(Oe)),dn.forEach(Oe=>eo.remove(Oe));for(const Oe in Hn)Hn.hasOwnProperty(Oe)&&we(Ir,Oe,Hn[Oe])})})(),Be.length>0&&In&&(fe.forEach(tt=>{const dn=tt.animate(Be,{id:sr,delay:ar(),duration:Zr(),easing:Rr(),iterations:tn(),fill:Cr(),direction:ko()});dn.pause(),hr.push(dn)}),hr.length>0&&(hr[0].onfinish=()=>{de()})),Fe=!0},G=tt=>{tt=Math.min(Math.max(tt,0),.9999),In&&hr.forEach(dn=>{dn.currentTime=dn.effect.getComputedTiming().delay+Zr()*tt,dn.pause()})},nt=tt=>{hr.forEach(dn=>{dn.effect.updateTiming({delay:ar(),duration:Zr(),easing:Rr(),iterations:tn(),fill:Cr(),direction:ko()})}),void 0!==tt&&G(tt)},Ut=(tt=!1,dn=!0,Hn)=>(tt&&Re.forEach(Ir=>{Ir.update(tt,dn,Hn)}),In&&nt(Hn),on),Sr=()=>{Fe&&(In?hr.forEach(tt=>{tt.pause()}):fe.forEach(tt=>{we(tt,"animation-play-state","paused")}),Xn=!0)},Ar=tt=>new Promise(dn=>{null!=tt&&tt.sync&&(it=!0,xn(()=>it=!1,{oneTimeCallback:!0})),Fe||ie(),zt&&(In&&(G(0),nt()),zt=!1),Gn&&(ze=Re.length+1,Gn=!1);const Hn=()=>{pr(Ir,We),dn()},Ir=()=>{pr(Hn,ue),dn()};xn(Ir,{oneTimeCallback:!0}),(tt=>{ue.push({c:tt,o:{oneTimeCallback:!0}})})(Hn),Re.forEach(eo=>{eo.play()}),In?(hr.forEach(tt=>{tt.play()}),(0===Be.length||0===fe.length)&&de()):de(),Xn=!1}),po=(tt,dn)=>{const Hn=Be[0];return void 0===Hn||void 0!==Hn.offset&&0!==Hn.offset?Be=[{offset:0,[tt]:dn},...Be]:Hn[tt]=dn,on};return on={parentAnimation:ve,elements:fe,childAnimations:Re,id:sr,animationFinish:de,from:po,to:(tt,dn)=>{const Hn=Be[Be.length-1];return void 0===Hn||void 0!==Hn.offset&&1!==Hn.offset?Be=[...Be,{offset:1,[tt]:dn}]:Hn[tt]=dn,on},fromTo:(tt,dn,Hn)=>po(tt,dn).to(tt,Hn),parent:tt=>(ve=tt,on),play:Ar,pause:()=>(Re.forEach(tt=>{tt.pause()}),Sr(),on),stop:()=>{Re.forEach(tt=>{tt.stop()}),Fe&&(sn(),Fe=!1),oe=!1,it=!1,Gn=!0,At=void 0,Ze=void 0,He=void 0,ze=0,zt=!1,jt=!0,Xn=!1,ue.forEach(tt=>tt.c(0,on)),ue.length=0},destroy:tt=>(Re.forEach(dn=>{dn.destroy(tt)}),(tt=>{sn(),tt&&qt()})(tt),fe.length=0,Re.length=0,Be.length=0,pt.length=0,We.length=0,Fe=!1,Gn=!0,on),keyframes:tt=>{const dn=Be!==tt;return Be=tt,dn&&(tt=>{In&&_r().forEach(dn=>{const Hn=dn.effect;if(Hn.setKeyframes)Hn.setKeyframes(tt);else{const Ir=new KeyframeEffect(Hn.target,tt,Hn.getTiming());dn.effect=Ir}})})(Be),on},addAnimation:tt=>{if(null!=tt)if(Array.isArray(tt))for(const dn of tt)dn.parent(on),Re.push(dn);else tt.parent(on),Re.push(tt);return on},addElement:tt=>{if(null!=tt)if(1===tt.nodeType)fe.push(tt);else if(tt.length>=0)for(let dn=0;dn<tt.length;dn++)fe.push(tt[dn]);else console.error("Invalid addElement value");return on},update:Ut,fill:tt=>(Me=tt,Ut(!0),on),direction:tt=>(Qe=tt,Ut(!0),on),iterations:tt=>($e=tt,Ut(!0),on),duration:tt=>(!In&&0===tt&&(tt=1),Ke=tt,Ut(!0),on),easing:tt=>(_t=tt,Ut(!0),on),delay:tt=>(ce=tt,Ut(!0),on),getWebAnimations:_r,getKeyframes:()=>Be,getFill:Cr,getDirection:ko,getDelay:ar,getIterations:tn,getEasing:Rr,getDuration:Zr,afterAddRead:tt=>(un.push(tt),on),afterAddWrite:tt=>(Yt.push(tt),on),afterClearStyles:(tt=[])=>{for(const dn of tt)Ee[dn]="";return on},afterStyles:(tt={})=>(Ee=tt,on),afterRemoveClass:tt=>(rt=q(rt,tt),on),afterAddClass:tt=>(ft=q(ft,tt),on),beforeAddRead:tt=>(Ot.push(tt),on),beforeAddWrite:tt=>(Lt.push(tt),on),beforeClearStyles:(tt=[])=>{for(const dn of tt)wt[dn]="";return on},beforeStyles:(tt={})=>(wt=tt,on),beforeRemoveClass:tt=>(ct=q(ct,tt),on),beforeAddClass:tt=>(lt=q(lt,tt),on),onFinish:xn,isRunning:()=>0!==ze&&!Xn,progressStart:(tt=!1,dn)=>(Re.forEach(Hn=>{Hn.progressStart(tt,dn)}),Sr(),oe=tt,Fe||ie(),Ut(!1,!0,dn),on),progressStep:tt=>(Re.forEach(dn=>{dn.progressStep(tt)}),G(tt),on),progressEnd:(tt,dn,Hn)=>(oe=!1,Re.forEach(Ir=>{Ir.progressEnd(tt,dn,Hn)}),void 0!==Hn&&(Ze=Hn),zt=!1,jt=!0,0===tt?(At="reverse"===ko()?"normal":"reverse","reverse"===At&&(jt=!1),In?(Ut(),G(1-dn)):(He=(1-dn)*Zr()*-1,Ut(!1,!1))):1===tt&&(In?(Ut(),G(dn)):(He=dn*Zr()*-1,Ut(!1,!1))),void 0!==tt&&!ve&&Ar(),on)}}},6081:(Un,Tt,F)=>{"use strict";F.d(Tt,{g:()=>g});var x=F(4878);const g=()=>{if(void 0!==x.w)return x.w.Capacitor}},2782:(Un,Tt,F)=>{"use strict";F.d(Tt,{i:()=>x});const x=g=>g&&""!==g.dir?"rtl"===g.dir.toLowerCase():"rtl"===(null==document?void 0:document.dir.toLowerCase())},5498:(Un,Tt,F)=>{"use strict";F.r(Tt),F.d(Tt,{startFocusVisible:()=>we});const x="ion-focused",H=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],we=q=>{let S=[],Te=!0;const ce=q?q.shadowRoot:document,Ke=q||document.body,_t=ct=>{S.forEach(Fe=>Fe.classList.remove(x)),ct.forEach(Fe=>Fe.classList.add(x)),S=ct},$e=()=>{Te=!1,_t([])},Me=ct=>{Te=H.includes(ct.key),Te||_t([])},Qe=ct=>{if(Te&&void 0!==ct.composedPath){const Fe=ct.composedPath().filter(ve=>!!ve.classList&&ve.classList.contains("ion-focusable"));_t(Fe)}},Be=()=>{ce.activeElement===Ke&&_t([])};return ce.addEventListener("keydown",Me),ce.addEventListener("focusin",Qe),ce.addEventListener("focusout",Be),ce.addEventListener("touchstart",$e,{passive:!0}),ce.addEventListener("mousedown",$e),{destroy:()=>{ce.removeEventListener("keydown",Me),ce.removeEventListener("focusin",Qe),ce.removeEventListener("focusout",Be),ce.removeEventListener("touchstart",$e),ce.removeEventListener("mousedown",$e)},setFocus:_t}}},8875:(Un,Tt,F)=>{"use strict";F.d(Tt,{B:()=>we,G:()=>q});class g{constructor(Te,ce,Ke,_t,$e){this.id=ce,this.name=Ke,this.disableScroll=$e,this.priority=1e6*_t+ce,this.ctrl=Te}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Te=this.ctrl.capture(this.name,this.id,this.priority);return Te&&this.disableScroll&&this.ctrl.disableScroll(this.id),Te}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class H{constructor(Te,ce,Ke,_t){this.id=ce,this.disable=Ke,this.disableScroll=_t,this.ctrl=Te}block(){if(this.ctrl){if(this.disable)for(const Te of this.disable)this.ctrl.disableGesture(Te,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Te of this.disable)this.ctrl.enableGesture(Te,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const we="backdrop-no-scroll",q=new class x{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Te){var ce;return new g(this,this.newID(),Te.name,null!==(ce=Te.priority)&&void 0!==ce?ce:0,!!Te.disableScroll)}createBlocker(Te={}){return new H(this,this.newID(),Te.disable,!!Te.disableScroll)}start(Te,ce,Ke){return this.canStart(Te)?(this.requestedStart.set(ce,Ke),!0):(this.requestedStart.delete(ce),!1)}capture(Te,ce,Ke){if(!this.start(Te,ce,Ke))return!1;const _t=this.requestedStart;let $e=-1e4;if(_t.forEach(Me=>{$e=Math.max($e,Me)}),$e===Ke){this.capturedId=ce,_t.clear();const Me=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Te}});return document.dispatchEvent(Me),!0}return _t.delete(ce),!1}release(Te){this.requestedStart.delete(Te),this.capturedId===Te&&(this.capturedId=void 0)}disableGesture(Te,ce){let Ke=this.disabledGestures.get(Te);void 0===Ke&&(Ke=new Set,this.disabledGestures.set(Te,Ke)),Ke.add(ce)}enableGesture(Te,ce){const Ke=this.disabledGestures.get(Te);void 0!==Ke&&Ke.delete(ce)}disableScroll(Te){this.disabledScroll.add(Te),1===this.disabledScroll.size&&document.body.classList.add(we)}enableScroll(Te){this.disabledScroll.delete(Te),0===this.disabledScroll.size&&document.body.classList.remove(we)}canStart(Te){return!(void 0!==this.capturedId||this.isDisabled(Te))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Te){const ce=this.disabledGestures.get(Te);return!!(ce&&ce.size>0)}newID(){return this.gestureId++,this.gestureId}}},5098:(Un,Tt,F)=>{"use strict";F.r(Tt),F.d(Tt,{MENU_BACK_BUTTON_PRIORITY:()=>ce,OVERLAY_BACK_BUTTON_PRIORITY:()=>Te,blockHardwareBackButton:()=>q,shouldUseCloseWatcher:()=>we,startHardwareBackButton:()=>S});var x=F(467),g=F(4878),H=F(5531);const we=()=>H.c.get("experimentalCloseWatcher",!1)&&void 0!==g.w&&"CloseWatcher"in g.w,q=()=>{document.addEventListener("backbutton",()=>{})},S=()=>{const Ke=document;let _t=!1;const $e=()=>{if(_t)return;let Me=0,Qe=[];const Be=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Fe,ve){Qe.push({priority:Fe,handler:ve,id:Me++})}}});Ke.dispatchEvent(Be);const lt=function(){var Fe=(0,x.A)(function*(ve){try{if(null!=ve&&ve.handler){const wt=ve.handler(ct);null!=wt&&(yield wt)}}catch(wt){console.error(wt)}});return function(wt){return Fe.apply(this,arguments)}}(),ct=()=>{if(Qe.length>0){let Fe={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Qe.forEach(ve=>{ve.priority>=Fe.priority&&(Fe=ve)}),_t=!0,Qe=Qe.filter(ve=>ve.id!==Fe.id),lt(Fe).then(()=>_t=!1)}};ct()};if(we()){let Me;const Qe=()=>{null==Me||Me.destroy(),Me=new g.w.CloseWatcher,Me.onclose=()=>{$e(),Qe()}};Qe()}else Ke.addEventListener("backbutton",$e)},Te=100,ce=99},1656:(Un,Tt,F)=>{"use strict";F.d(Tt,{a:()=>ce,b:()=>Ke,c:()=>H,d:()=>q,e:()=>Be,f:()=>Qe,g:()=>_t,h:()=>Me,i:()=>Te,j:()=>we,k:()=>lt,l:()=>wt,p:()=>Fe,r:()=>$e,s:()=>rt});const H=(Ee,ze)=>{Ee.componentOnReady?Ee.componentOnReady().then(oe=>ze(oe)):$e(()=>ze(Ee))},we=Ee=>void 0!==Ee.componentOnReady,q=(Ee,ze=[])=>{const oe={};return ze.forEach(it=>{Ee.hasAttribute(it)&&(null!==Ee.getAttribute(it)&&(oe[it]=Ee.getAttribute(it)),Ee.removeAttribute(it))}),oe},S=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Te=(Ee,ze)=>{let oe=S;return ze&&ze.length>0&&(oe=oe.filter(it=>!ze.includes(it))),q(Ee,oe)},ce=(Ee,ze,oe,it)=>{var At;if(typeof window<"u"){const Ze=window,He=null===(At=null==Ze?void 0:Ze.Ionic)||void 0===At?void 0:At.config;if(He){const jt=He.get("_ael");if(jt)return jt(Ee,ze,oe,it);if(He._ael)return He._ael(Ee,ze,oe,it)}}return Ee.addEventListener(ze,oe,it)},Ke=(Ee,ze,oe,it)=>{var At;if(typeof window<"u"){const Ze=window,He=null===(At=null==Ze?void 0:Ze.Ionic)||void 0===At?void 0:At.config;if(He){const jt=He.get("_rel");if(jt)return jt(Ee,ze,oe,it);if(He._rel)return He._rel(Ee,ze,oe,it)}}return Ee.removeEventListener(ze,oe,it)},_t=(Ee,ze=Ee)=>Ee.shadowRoot||ze,$e=Ee=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ee):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ee):setTimeout(Ee),Me=Ee=>!!Ee.shadowRoot&&!!Ee.attachShadow,Qe=Ee=>{if(Ee.focus(),Ee.classList.contains("ion-focusable")){const ze=Ee.closest("ion-app");ze&&ze.setFocus([Ee])}},Be=(Ee,ze,oe,it,At)=>{if(Ee||Me(ze)){let Ze=ze.querySelector("input.aux-input");Ze||(Ze=ze.ownerDocument.createElement("input"),Ze.type="hidden",Ze.classList.add("aux-input"),ze.appendChild(Ze)),Ze.disabled=At,Ze.name=oe,Ze.value=it||""}},lt=(Ee,ze,oe)=>Math.max(Ee,Math.min(ze,oe)),Fe=Ee=>{if(Ee){const ze=Ee.changedTouches;if(ze&&ze.length>0){const oe=ze[0];return{x:oe.clientX,y:oe.clientY}}if(void 0!==Ee.pageX)return{x:Ee.pageX,y:Ee.pageY}}return{x:0,y:0}},wt=(Ee,ze)=>{const oe=Ee._original||Ee;return{_original:Ee,emit:ft(oe.emit.bind(oe),ze)}},ft=(Ee,ze=0)=>{let oe;return(...it)=>{clearTimeout(oe),oe=setTimeout(Ee,ze,...it)}},rt=(Ee,ze)=>{if(null!=Ee||(Ee={}),null!=ze||(ze={}),Ee===ze)return!0;const oe=Object.keys(Ee);if(oe.length!==Object.keys(ze).length)return!1;for(const it of oe)if(!(it in ze)||Ee[it]!==ze[it])return!1;return!0}},6031:(Un,Tt,F)=>{"use strict";F.d(Tt,{L:()=>S,a:()=>Te,b:()=>ce,c:()=>Ke,d:()=>_t,e:()=>on,g:()=>pt,t:()=>ve,w:()=>Gn});var x=F(467),g=F(5531),H=F(1771),we=F(1979),q=F(1656);const S="ionViewWillEnter",Te="ionViewDidEnter",ce="ionViewWillLeave",Ke="ionViewDidLeave",_t="ionViewWillUnload",$e=We=>{We.tabIndex=-1,We.focus()},Me=We=>null!==We.offsetParent,Be="ion-last-focus",Fe_saveViewFocus=fe=>{if(g.c.get("focusManagerPriority",!1)){const St=document.activeElement;null!==St&&null!=fe&&fe.contains(St)&&St.setAttribute(Be,"true")}},Fe_setViewFocus=fe=>{const Re=g.c.get("focusManagerPriority",!1);if(Array.isArray(Re)&&!fe.contains(document.activeElement)){const St=fe.querySelector(`[${Be}]`);if(St&&Me(St))return void $e(St);for(const Ot of Re)switch(Ot){case"content":const Lt=fe.querySelector('main, [role="main"]');if(Lt&&Me(Lt))return void $e(Lt);break;case"heading":const un=fe.querySelector('h1, [role="heading"][aria-level="1"]');if(un&&Me(un))return void $e(un);break;case"banner":const Yt=fe.querySelector('header, [role="banner"]');if(Yt&&Me(Yt))return void $e(Yt);break;default:(0,we.p)(`Unrecognized focus manager priority value ${Ot}`)}$e(fe)}},ve=We=>new Promise((ue,fe)=>{(0,H.bN)(()=>{wt(We),ft(We).then(Re=>{Re.animation&&Re.animation.destroy(),rt(We),ue(Re)},Re=>{rt(We),fe(Re)})})}),wt=We=>{const ue=We.enteringEl,fe=We.leavingEl;Fe_saveViewFocus(fe),sr(ue,fe,We.direction),We.showGoBack?ue.classList.add("can-go-back"):ue.classList.remove("can-go-back"),Xn(ue,!1),ue.style.setProperty("pointer-events","none"),fe&&(Xn(fe,!1),fe.style.setProperty("pointer-events","none"))},ft=function(){var We=(0,x.A)(function*(ue){const fe=yield Ee(ue);return fe&&H.L2.isBrowser?ze(fe,ue):oe(ue)});return function(fe){return We.apply(this,arguments)}}(),rt=We=>{const ue=We.enteringEl,fe=We.leavingEl;ue.classList.remove("ion-page-invisible"),ue.style.removeProperty("pointer-events"),void 0!==fe&&(fe.classList.remove("ion-page-invisible"),fe.style.removeProperty("pointer-events")),Fe_setViewFocus(ue)},Ee=function(){var We=(0,x.A)(function*(ue){return ue.leavingEl&&ue.animated&&0!==ue.duration?ue.animationBuilder?ue.animationBuilder:"ios"===ue.mode?(yield F.e(4699).then(F.bind(F,4699))).iosTransitionAnimation:(yield F.e(7179).then(F.bind(F,7179))).mdTransitionAnimation:void 0});return function(fe){return We.apply(this,arguments)}}(),ze=function(){var We=(0,x.A)(function*(ue,fe){yield it(fe,!0);const Re=ue(fe.baseEl,fe);He(fe.enteringEl,fe.leavingEl);const St=yield Ze(Re,fe);return fe.progressCallback&&fe.progressCallback(void 0),St&&jt(fe.enteringEl,fe.leavingEl),{hasCompleted:St,animation:Re}});return function(fe,Re){return We.apply(this,arguments)}}(),oe=function(){var We=(0,x.A)(function*(ue){const fe=ue.enteringEl,Re=ue.leavingEl,St=g.c.get("focusManagerPriority",!1);return yield it(ue,St),He(fe,Re),jt(fe,Re),{hasCompleted:!0}});return function(fe){return We.apply(this,arguments)}}(),it=function(){var We=(0,x.A)(function*(ue,fe){(void 0!==ue.deepWait?ue.deepWait:fe)&&(yield Promise.all([on(ue.enteringEl),on(ue.leavingEl)])),yield At(ue.viewIsReady,ue.enteringEl)});return function(fe,Re){return We.apply(this,arguments)}}(),At=function(){var We=(0,x.A)(function*(ue,fe){ue&&(yield ue(fe))});return function(fe,Re){return We.apply(this,arguments)}}(),Ze=(We,ue)=>{const fe=ue.progressCallback,Re=new Promise(St=>{We.onFinish(Ot=>St(1===Ot))});return fe?(We.progressStart(!0),fe(We)):We.play(),Re},He=(We,ue)=>{zt(ue,ce),zt(We,S)},jt=(We,ue)=>{zt(We,Te),zt(ue,Ke)},zt=(We,ue)=>{if(We){const fe=new CustomEvent(ue,{bubbles:!1,cancelable:!1});We.dispatchEvent(fe)}},Gn=()=>new Promise(We=>(0,q.r)(()=>(0,q.r)(()=>We()))),on=function(){var We=(0,x.A)(function*(ue){const fe=ue;if(fe){if(null!=fe.componentOnReady){if(null!=(yield fe.componentOnReady()))return}else if(null!=fe.__registerHost)return void(yield new Promise(St=>(0,q.r)(St)));yield Promise.all(Array.from(fe.children).map(on))}});return function(fe){return We.apply(this,arguments)}}(),Xn=(We,ue)=>{ue?(We.setAttribute("aria-hidden","true"),We.classList.add("ion-page-hidden")):(We.hidden=!1,We.removeAttribute("aria-hidden"),We.classList.remove("ion-page-hidden"))},sr=(We,ue,fe)=>{void 0!==We&&(We.style.zIndex="back"===fe?"99":"101"),void 0!==ue&&(ue.style.zIndex="100")},pt=We=>We.classList.contains("ion-page")?We:We.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||We},2104:(Un,Tt,F)=>{"use strict";F.r(Tt),F.d(Tt,{GESTURE_CONTROLLER:()=>x.G,createGesture:()=>Ke});var x=F(8875);const g=(Qe,Be,lt,ct)=>{const Fe=H(Qe)?{capture:!!ct.capture,passive:!!ct.passive}:!!ct.capture;let ve,wt;return Qe.__zone_symbol__addEventListener?(ve="__zone_symbol__addEventListener",wt="__zone_symbol__removeEventListener"):(ve="addEventListener",wt="removeEventListener"),Qe[ve](Be,lt,Fe),()=>{Qe[wt](Be,lt,Fe)}},H=Qe=>{if(void 0===we)try{const Be=Object.defineProperty({},"passive",{get:()=>{we=!0}});Qe.addEventListener("optsTest",()=>{},Be)}catch{we=!1}return!!we};let we;const Te=Qe=>Qe instanceof Document?Qe:Qe.ownerDocument,Ke=Qe=>{let Be=!1,lt=!1,ct=!0,Fe=!1;const ve=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Qe),wt=ve.canStart,ft=ve.onWillStart,rt=ve.onStart,Ee=ve.onEnd,ze=ve.notCaptured,oe=ve.onMove,it=ve.threshold,At=ve.passive,Ze=ve.blurOnStart,He={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},jt=((Qe,Be,lt)=>{const ct=lt*(Math.PI/180),Fe="x"===Qe,ve=Math.cos(ct),wt=Be*Be;let ft=0,rt=0,Ee=!1,ze=0;return{start(oe,it){ft=oe,rt=it,ze=0,Ee=!0},detect(oe,it){if(!Ee)return!1;const At=oe-ft,Ze=it-rt,He=At*At+Ze*Ze;if(He<wt)return!1;const jt=Math.sqrt(He),zt=(Fe?At:Ze)/jt;return ze=zt>ve?1:zt<-ve?-1:0,Ee=!1,!0},isGesture:()=>0!==ze,getDirection:()=>ze}})(ve.direction,ve.threshold,ve.maxAngle),zt=x.G.createGesture({name:Qe.gestureName,priority:Qe.gesturePriority,disableScroll:Qe.disableScroll}),Xn=()=>{Be&&(Fe=!1,oe&&oe(He))},sr=()=>!!zt.capture()&&(Be=!0,ct=!1,He.startX=He.currentX,He.startY=He.currentY,He.startTime=He.currentTime,ft?ft(He).then(We):We(),!0),We=()=>{Ze&&(()=>{if(typeof document<"u"){const Ot=document.activeElement;null!=Ot&&Ot.blur&&Ot.blur()}})(),rt&&rt(He),ct=!0},ue=()=>{Be=!1,lt=!1,Fe=!1,ct=!0,zt.release()},fe=Ot=>{const Lt=Be,un=ct;if(ue(),un){if(_t(He,Ot),Lt)return void(Ee&&Ee(He));ze&&ze(He)}},Re=((Qe,Be,lt,ct,Fe)=>{let ve,wt,ft,rt,Ee,ze,oe,it=0;const At=pt=>{it=Date.now()+2e3,Be(pt)&&(!wt&&lt&&(wt=g(Qe,"touchmove",lt,Fe)),ft||(ft=g(pt.target,"touchend",He,Fe)),rt||(rt=g(pt.target,"touchcancel",He,Fe)))},Ze=pt=>{it>Date.now()||Be(pt)&&(!ze&&lt&&(ze=g(Te(Qe),"mousemove",lt,Fe)),oe||(oe=g(Te(Qe),"mouseup",jt,Fe)))},He=pt=>{zt(),ct&&ct(pt)},jt=pt=>{Gn(),ct&&ct(pt)},zt=()=>{wt&&wt(),ft&&ft(),rt&&rt(),wt=ft=rt=void 0},Gn=()=>{ze&&ze(),oe&&oe(),ze=oe=void 0},on=()=>{zt(),Gn()},Xn=(pt=!0)=>{pt?(ve||(ve=g(Qe,"touchstart",At,Fe)),Ee||(Ee=g(Qe,"mousedown",Ze,Fe))):(ve&&ve(),Ee&&Ee(),ve=Ee=void 0,on())};return{enable:Xn,stop:on,destroy:()=>{Xn(!1),ct=lt=Be=void 0}}})(ve.el,Ot=>{const Lt=Me(Ot);return!(lt||!ct||($e(Ot,He),He.startX=He.currentX,He.startY=He.currentY,He.startTime=He.currentTime=Lt,He.velocityX=He.velocityY=He.deltaX=He.deltaY=0,He.event=Ot,wt&&!1===wt(He))||(zt.release(),!zt.start()))&&(lt=!0,0===it?sr():(jt.start(He.startX,He.startY),!0))},Ot=>{Be?!Fe&&ct&&(Fe=!0,_t(He,Ot),requestAnimationFrame(Xn)):(_t(He,Ot),jt.detect(He.currentX,He.currentY)&&(!jt.isGesture()||!sr())&&St())},fe,{capture:!1,passive:At}),St=()=>{ue(),Re.stop(),ze&&ze(He)};return{enable(Ot=!0){Ot||(Be&&fe(void 0),ue()),Re.enable(Ot)},destroy(){zt.destroy(),Re.destroy()}}},_t=(Qe,Be)=>{if(!Be)return;const lt=Qe.currentX,ct=Qe.currentY,Fe=Qe.currentTime;$e(Be,Qe);const ve=Qe.currentX,wt=Qe.currentY,rt=(Qe.currentTime=Me(Be))-Fe;if(rt>0&&rt<100){const ze=(wt-ct)/rt;Qe.velocityX=(ve-lt)/rt*.7+.3*Qe.velocityX,Qe.velocityY=.7*ze+.3*Qe.velocityY}Qe.deltaX=ve-Qe.startX,Qe.deltaY=wt-Qe.startY,Qe.event=Be},$e=(Qe,Be)=>{let lt=0,ct=0;if(Qe){const Fe=Qe.changedTouches;if(Fe&&Fe.length>0){const ve=Fe[0];lt=ve.clientX,ct=ve.clientY}else void 0!==Qe.pageX&&(lt=Qe.pageX,ct=Qe.pageY)}Be.currentX=lt,Be.currentY=ct},Me=Qe=>Qe.timeStamp||Date.now()},4878:(Un,Tt,F)=>{"use strict";F.d(Tt,{d:()=>g,w:()=>x});const x=typeof window<"u"?window:void 0,g=typeof document<"u"?document:void 0},1979:(Un,Tt,F)=>{"use strict";F.d(Tt,{a:()=>g,b:()=>H,p:()=>x});const x=(we,...q)=>console.warn(`[Ionic Warning]: ${we}`,...q),g=(we,...q)=>console.error(`[Ionic Error]: ${we}`,...q),H=(we,...q)=>console.error(`<${we.tagName.toLowerCase()}> must be used inside ${q.join(" or ")}.`)},7849:(Un,Tt,F)=>{"use strict";F.d(Tt,{a:()=>$e,c:()=>Qe,d:()=>lt,f:()=>_t,g:()=>Ke,i:()=>ce,p:()=>Be,r:()=>ct,s:()=>Me});var x=F(467),g=F(1656),H=F(1979);const q="ion-content",S=".ion-content-scroll-host",Te=`${q}, ${S}`,ce=Fe=>"ION-CONTENT"===Fe.tagName,Ke=function(){var Fe=(0,x.A)(function*(ve){return ce(ve)?(yield new Promise(wt=>(0,g.c)(ve,wt)),ve.getScrollElement()):ve});return function(wt){return Fe.apply(this,arguments)}}(),_t=Fe=>Fe.querySelector(S)||Fe.querySelector(Te),$e=Fe=>Fe.closest(Te),Me=(Fe,ve)=>ce(Fe)?Fe.scrollToTop(ve):Promise.resolve(Fe.scrollTo({top:0,left:0,behavior:ve>0?"smooth":"auto"})),Qe=(Fe,ve,wt,ft)=>ce(Fe)?Fe.scrollByPoint(ve,wt,ft):Promise.resolve(Fe.scrollBy({top:wt,left:ve,behavior:ft>0?"smooth":"auto"})),Be=Fe=>(0,H.b)(Fe,q),lt=Fe=>{if(ce(Fe)){const wt=Fe.scrollY;return Fe.scrollY=!1,wt}return Fe.style.setProperty("overflow","hidden"),!0},ct=(Fe,ve)=>{ce(Fe)?Fe.scrollY=ve:Fe.style.removeProperty("overflow")}},5531:(Un,Tt,F)=>{"use strict";F.d(Tt,{a:()=>$e,b:()=>Xn,c:()=>H,g:()=>_t,i:()=>sr});var x=F(1771);class g{constructor(){this.m=new Map}reset(We){this.m=new Map(Object.entries(We))}get(We,ue){const fe=this.m.get(We);return void 0!==fe?fe:ue}getBoolean(We,ue=!1){const fe=this.m.get(We);return void 0===fe?ue:"string"==typeof fe?"true"===fe:!!fe}getNumber(We,ue){const fe=parseFloat(this.m.get(We));return isNaN(fe)?void 0!==ue?ue:NaN:fe}set(We,ue){this.m.set(We,ue)}}const H=new g,Ke="ionic-persist-config",_t=pt=>Me(pt),$e=(pt,We)=>("string"==typeof pt&&(We=pt,pt=void 0),_t(pt).includes(We)),Me=(pt=window)=>{if(typeof pt>"u")return[];pt.Ionic=pt.Ionic||{};let We=pt.Ionic.platforms;return null==We&&(We=pt.Ionic.platforms=Qe(pt),We.forEach(ue=>pt.document.documentElement.classList.add(`plt-${ue}`))),We},Qe=pt=>{const We=H.get("platform");return Object.keys(Gn).filter(ue=>{const fe=null==We?void 0:We[ue];return"function"==typeof fe?fe(pt):Gn[ue](pt)})},lt=pt=>!!(jt(pt,/iPad/i)||jt(pt,/Macintosh/i)&&Ee(pt)),ve=pt=>jt(pt,/android|sink/i),Ee=pt=>zt(pt,"(any-pointer:coarse)"),oe=pt=>it(pt)||At(pt),it=pt=>!!(pt.cordova||pt.phonegap||pt.PhoneGap),At=pt=>{const We=pt.Capacitor;return!(null==We||!We.isNative)},jt=(pt,We)=>We.test(pt.navigator.userAgent),zt=(pt,We)=>{var ue;return null===(ue=pt.matchMedia)||void 0===ue?void 0:ue.call(pt,We).matches},Gn={ipad:lt,iphone:pt=>jt(pt,/iPhone/i),ios:pt=>jt(pt,/iPhone|iPod/i)||lt(pt),android:ve,phablet:pt=>{const We=pt.innerWidth,ue=pt.innerHeight,fe=Math.min(We,ue),Re=Math.max(We,ue);return fe>390&&fe<520&&Re>620&&Re<800},tablet:pt=>{const We=pt.innerWidth,ue=pt.innerHeight,fe=Math.min(We,ue),Re=Math.max(We,ue);return lt(pt)||(pt=>ve(pt)&&!jt(pt,/mobile/i))(pt)||fe>460&&fe<820&&Re>780&&Re<1400},cordova:it,capacitor:At,electron:pt=>jt(pt,/electron/i),pwa:pt=>{var We;return!!(null!==(We=pt.matchMedia)&&void 0!==We&&We.call(pt,"(display-mode: standalone)").matches||pt.navigator.standalone)},mobile:Ee,mobileweb:pt=>Ee(pt)&&!oe(pt),desktop:pt=>!Ee(pt),hybrid:oe};let on;const Xn=pt=>pt&&(0,x.Wi)(pt)||on,sr=(pt={})=>{if(typeof window>"u")return;const We=window.document,ue=window,fe=ue.Ionic=ue.Ionic||{},Re={};pt._ael&&(Re.ael=pt._ael),pt._rel&&(Re.rel=pt._rel),pt._ce&&(Re.ce=pt._ce),(0,x.zb)(Re);const St=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(pt=>{try{const We=pt.sessionStorage.getItem(Ke);return null!==We?JSON.parse(We):{}}catch{return{}}})(ue)),{persistConfig:!1}),fe.config),(pt=>{const We={};return pt.location.search.slice(1).split("&").map(ue=>ue.split("=")).map(([ue,fe])=>{try{return[decodeURIComponent(ue),decodeURIComponent(fe)]}catch{return["",""]}}).filter(([ue])=>((pt,We)=>pt.substr(0,We.length)===We)(ue,"ionic:")).map(([ue,fe])=>[ue.slice(6),fe]).forEach(([ue,fe])=>{We[ue]=fe}),We})(ue)),pt);H.reset(St),H.getBoolean("persistConfig")&&((pt,We)=>{try{pt.sessionStorage.setItem(Ke,JSON.stringify(We))}catch{return}})(ue,St),Me(ue),fe.config=H,fe.mode=on=H.get("mode",We.documentElement.getAttribute("mode")||($e(ue,"ios")?"ios":"md")),H.set("mode",on),We.documentElement.setAttribute("mode",on),We.documentElement.classList.add(on),H.getBoolean("_testing")&&H.set("animated",!1);const Ot=un=>{var Yt;return null===(Yt=un.tagName)||void 0===Yt?void 0:Yt.startsWith("ION-")},Lt=un=>["ios","md"].includes(un);(0,x.iY)(un=>{for(;un;){const Yt=un.mode||un.getAttribute("mode");if(Yt){if(Lt(Yt))return Yt;Ot(un)&&console.warn('Invalid ionic mode: "'+Yt+'", expected: "ios" or "md"')}un=un.parentElement}return on})}},5680:(Un,Tt,F)=>{"use strict";F.d(Tt,{K:()=>we,a:()=>H});var x=F(6081),g=function(q){return q.Unimplemented="UNIMPLEMENTED",q.Unavailable="UNAVAILABLE",q}(g||{}),H=function(q){return q.Body="body",q.Ionic="ionic",q.Native="native",q.None="none",q}(H||{});const we={getEngine(){const q=(0,x.g)();if(null!=q&&q.isPluginAvailable("Keyboard"))return q.Plugins.Keyboard},getResizeMode(){const q=this.getEngine();return null!=q&&q.getResizeMode?q.getResizeMode().catch(S=>{if(S.code!==g.Unimplemented)throw S}):Promise.resolve(void 0)}}},6008:(Un,Tt,F)=>{"use strict";F.r(Tt),F.d(Tt,{KEYBOARD_DID_CLOSE:()=>H,KEYBOARD_DID_OPEN:()=>g,copyVisualViewport:()=>wt,keyboardDidClose:()=>lt,keyboardDidOpen:()=>Qe,keyboardDidResize:()=>Be,resetKeyboardAssist:()=>ce,setKeyboardClose:()=>Me,setKeyboardOpen:()=>$e,startKeyboardAssist:()=>Ke,trackViewportChanges:()=>ve});var x=F(5680);const g="ionKeyboardDidShow",H="ionKeyboardDidHide";let q={},S={},Te=!1;const ce=()=>{q={},S={},Te=!1},Ke=ft=>{if(x.K.getEngine())_t(ft);else{if(!ft.visualViewport)return;S=wt(ft.visualViewport),ft.visualViewport.onresize=()=>{ve(ft),Qe()||Be(ft)?$e(ft):lt(ft)&&Me(ft)}}},_t=ft=>{ft.addEventListener("keyboardDidShow",rt=>$e(ft,rt)),ft.addEventListener("keyboardDidHide",()=>Me(ft))},$e=(ft,rt)=>{ct(ft,rt),Te=!0},Me=ft=>{Fe(ft),Te=!1},Qe=()=>!Te&&q.width===S.width&&(q.height-S.height)*S.scale>150,Be=ft=>Te&&!lt(ft),lt=ft=>Te&&S.height===ft.innerHeight,ct=(ft,rt)=>{const ze=new CustomEvent(g,{detail:{keyboardHeight:rt?rt.keyboardHeight:ft.innerHeight-S.height}});ft.dispatchEvent(ze)},Fe=ft=>{const rt=new CustomEvent(H);ft.dispatchEvent(rt)},ve=ft=>{q=Object.assign({},S),S=wt(ft.visualViewport)},wt=ft=>({width:Math.round(ft.width),height:Math.round(ft.height),offsetTop:ft.offsetTop,offsetLeft:ft.offsetLeft,pageTop:ft.pageTop,pageLeft:ft.pageLeft,scale:ft.scale})},9986:(Un,Tt,F)=>{"use strict";F.d(Tt,{c:()=>S});var x=F(8476);let g;const we=(Te,ce,Ke)=>{const _t=ce.startsWith("animation")?(Te=>(void 0===g&&(g=void 0===Te.style.animationName&&void 0!==Te.style.webkitAnimationName?"-webkit-":""),g))(Te):"";Te.style.setProperty(_t+ce,Ke)},q=(Te=[],ce)=>{if(void 0!==ce){const Ke=Array.isArray(ce)?ce:[ce];return[...Te,...Ke]}return Te},S=Te=>{let ce,Ke,_t,$e,Me,Qe,ve,At,Ze,He,on,Be=[],lt=[],ct=[],Fe=!1,wt={},ft=[],rt=[],Ee={},ze=0,oe=!1,it=!1,jt=!0,zt=!1,Gn=!0,Xn=!1;const sr=Te,pt=[],We=[],ue=[],fe=[],Re=[],St=[],Ot=[],Lt=[],un=[],Yt=[],hr=[],Qn="function"==typeof AnimationEffect||void 0!==x.w&&"function"==typeof x.w.AnimationEffect,In="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Qn,_r=()=>hr,pr=(tt,dn)=>{const Hn=dn.findIndex(Ir=>Ir.c===tt);Hn>-1&&dn.splice(Hn,1)},xn=(tt,dn)=>((null!=dn&&dn.oneTimeCallback?We:pt).push({c:tt,o:dn}),on),sn=()=>{In&&(hr.forEach(tt=>{tt.cancel()}),hr.length=0)},qt=()=>{St.forEach(tt=>{null!=tt&&tt.parentNode&&tt.parentNode.removeChild(tt)}),St.length=0},Cr=()=>void 0!==Me?Me:ve?ve.getFill():"both",ko=()=>void 0!==At?At:void 0!==Qe?Qe:ve?ve.getDirection():"normal",Rr=()=>oe?"linear":void 0!==_t?_t:ve?ve.getEasing():"linear",Zr=()=>it?0:void 0!==Ze?Ze:void 0!==Ke?Ke:ve?ve.getDuration():0,tn=()=>void 0!==$e?$e:ve?ve.getIterations():1,ar=()=>void 0!==He?He:void 0!==ce?ce:ve?ve.getDelay():0,de=()=>{0!==ze&&(ze--,0===ze&&((()=>{un.forEach(eo=>eo()),Yt.forEach(eo=>eo());const tt=jt?1:0,dn=ft,Hn=rt,Ir=Ee;fe.forEach(eo=>{const Oe=eo.classList;dn.forEach(ot=>Oe.add(ot)),Hn.forEach(ot=>Oe.remove(ot));for(const ot in Ir)Ir.hasOwnProperty(ot)&&we(eo,ot,Ir[ot])}),Ze=void 0,At=void 0,He=void 0,pt.forEach(eo=>eo.c(tt,on)),We.forEach(eo=>eo.c(tt,on)),We.length=0,Gn=!0,jt&&(zt=!0),jt=!0})(),ve&&ve.animationFinish()))},ie=()=>{(()=>{Ot.forEach(Ir=>Ir()),Lt.forEach(Ir=>Ir());const tt=lt,dn=ct,Hn=wt;fe.forEach(Ir=>{const eo=Ir.classList;tt.forEach(Oe=>eo.add(Oe)),dn.forEach(Oe=>eo.remove(Oe));for(const Oe in Hn)Hn.hasOwnProperty(Oe)&&we(Ir,Oe,Hn[Oe])})})(),Be.length>0&&In&&(fe.forEach(tt=>{const dn=tt.animate(Be,{id:sr,delay:ar(),duration:Zr(),easing:Rr(),iterations:tn(),fill:Cr(),direction:ko()});dn.pause(),hr.push(dn)}),hr.length>0&&(hr[0].onfinish=()=>{de()})),Fe=!0},G=tt=>{tt=Math.min(Math.max(tt,0),.9999),In&&hr.forEach(dn=>{dn.currentTime=dn.effect.getComputedTiming().delay+Zr()*tt,dn.pause()})},nt=tt=>{hr.forEach(dn=>{dn.effect.updateTiming({delay:ar(),duration:Zr(),easing:Rr(),iterations:tn(),fill:Cr(),direction:ko()})}),void 0!==tt&&G(tt)},Ut=(tt=!1,dn=!0,Hn)=>(tt&&Re.forEach(Ir=>{Ir.update(tt,dn,Hn)}),In&&nt(Hn),on),Sr=()=>{Fe&&(In?hr.forEach(tt=>{tt.pause()}):fe.forEach(tt=>{we(tt,"animation-play-state","paused")}),Xn=!0)},Ar=tt=>new Promise(dn=>{null!=tt&&tt.sync&&(it=!0,xn(()=>it=!1,{oneTimeCallback:!0})),Fe||ie(),zt&&(In&&(G(0),nt()),zt=!1),Gn&&(ze=Re.length+1,Gn=!1);const Hn=()=>{pr(Ir,We),dn()},Ir=()=>{pr(Hn,ue),dn()};xn(Ir,{oneTimeCallback:!0}),(tt=>{ue.push({c:tt,o:{oneTimeCallback:!0}})})(Hn),Re.forEach(eo=>{eo.play()}),In?(hr.forEach(tt=>{tt.play()}),(0===Be.length||0===fe.length)&&de()):de(),Xn=!1}),po=(tt,dn)=>{const Hn=Be[0];return void 0===Hn||void 0!==Hn.offset&&0!==Hn.offset?Be=[{offset:0,[tt]:dn},...Be]:Hn[tt]=dn,on};return on={parentAnimation:ve,elements:fe,childAnimations:Re,id:sr,animationFinish:de,from:po,to:(tt,dn)=>{const Hn=Be[Be.length-1];return void 0===Hn||void 0!==Hn.offset&&1!==Hn.offset?Be=[...Be,{offset:1,[tt]:dn}]:Hn[tt]=dn,on},fromTo:(tt,dn,Hn)=>po(tt,dn).to(tt,Hn),parent:tt=>(ve=tt,on),play:Ar,pause:()=>(Re.forEach(tt=>{tt.pause()}),Sr(),on),stop:()=>{Re.forEach(tt=>{tt.stop()}),Fe&&(sn(),Fe=!1),oe=!1,it=!1,Gn=!0,At=void 0,Ze=void 0,He=void 0,ze=0,zt=!1,jt=!0,Xn=!1,ue.forEach(tt=>tt.c(0,on)),ue.length=0},destroy:tt=>(Re.forEach(dn=>{dn.destroy(tt)}),(tt=>{sn(),tt&&qt()})(tt),fe.length=0,Re.length=0,Be.length=0,pt.length=0,We.length=0,Fe=!1,Gn=!0,on),keyframes:tt=>{const dn=Be!==tt;return Be=tt,dn&&(tt=>{In&&_r().forEach(dn=>{const Hn=dn.effect;if(Hn.setKeyframes)Hn.setKeyframes(tt);else{const Ir=new KeyframeEffect(Hn.target,tt,Hn.getTiming());dn.effect=Ir}})})(Be),on},addAnimation:tt=>{if(null!=tt)if(Array.isArray(tt))for(const dn of tt)dn.parent(on),Re.push(dn);else tt.parent(on),Re.push(tt);return on},addElement:tt=>{if(null!=tt)if(1===tt.nodeType)fe.push(tt);else if(tt.length>=0)for(let dn=0;dn<tt.length;dn++)fe.push(tt[dn]);else console.error("Invalid addElement value");return on},update:Ut,fill:tt=>(Me=tt,Ut(!0),on),direction:tt=>(Qe=tt,Ut(!0),on),iterations:tt=>($e=tt,Ut(!0),on),duration:tt=>(!In&&0===tt&&(tt=1),Ke=tt,Ut(!0),on),easing:tt=>(_t=tt,Ut(!0),on),delay:tt=>(ce=tt,Ut(!0),on),getWebAnimations:_r,getKeyframes:()=>Be,getFill:Cr,getDirection:ko,getDelay:ar,getIterations:tn,getEasing:Rr,getDuration:Zr,afterAddRead:tt=>(un.push(tt),on),afterAddWrite:tt=>(Yt.push(tt),on),afterClearStyles:(tt=[])=>{for(const dn of tt)Ee[dn]="";return on},afterStyles:(tt={})=>(Ee=tt,on),afterRemoveClass:tt=>(rt=q(rt,tt),on),afterAddClass:tt=>(ft=q(ft,tt),on),beforeAddRead:tt=>(Ot.push(tt),on),beforeAddWrite:tt=>(Lt.push(tt),on),beforeClearStyles:(tt=[])=>{for(const dn of tt)wt[dn]="";return on},beforeStyles:(tt={})=>(wt=tt,on),beforeRemoveClass:tt=>(ct=q(ct,tt),on),beforeAddClass:tt=>(lt=q(lt,tt),on),onFinish:xn,isRunning:()=>0!==ze&&!Xn,progressStart:(tt=!1,dn)=>(Re.forEach(Hn=>{Hn.progressStart(tt,dn)}),Sr(),oe=tt,Fe||ie(),Ut(!1,!0,dn),on),progressStep:tt=>(Re.forEach(dn=>{dn.progressStep(tt)}),G(tt),on),progressEnd:(tt,dn,Hn)=>(oe=!1,Re.forEach(Ir=>{Ir.progressEnd(tt,dn,Hn)}),void 0!==Hn&&(Ze=Hn),zt=!1,jt=!0,0===tt?(At="reverse"===ko()?"normal":"reverse","reverse"===At&&(jt=!1),In?(Ut(),G(1-dn)):(He=(1-dn)*Zr()*-1,Ut(!1,!1))):1===tt&&(In?(Ut(),G(dn)):(He=dn*Zr()*-1,Ut(!1,!1))),void 0!==tt&&!ve&&Ar(),on)}}},464:(Un,Tt,F)=>{"use strict";F.d(Tt,{E:()=>_t,a:()=>x,s:()=>ce});const x=$e=>{try{if($e instanceof Te)return $e.value;if(!we()||"string"!=typeof $e||""===$e)return $e;if($e.includes("onload="))return"";const Me=document.createDocumentFragment(),Qe=document.createElement("div");Me.appendChild(Qe),Qe.innerHTML=$e,S.forEach(Fe=>{const ve=Me.querySelectorAll(Fe);for(let wt=ve.length-1;wt>=0;wt--){const ft=ve[wt];ft.parentNode?ft.parentNode.removeChild(ft):Me.removeChild(ft);const rt=H(ft);for(let Ee=0;Ee<rt.length;Ee++)g(rt[Ee])}});const Be=H(Me);for(let Fe=0;Fe<Be.length;Fe++)g(Be[Fe]);const lt=document.createElement("div");lt.appendChild(Me);const ct=lt.querySelector("div");return null!==ct?ct.innerHTML:lt.innerHTML}catch(Me){return console.error(Me),""}},g=$e=>{if($e.nodeType&&1!==$e.nodeType)return;if(typeof NamedNodeMap<"u"&&!($e.attributes instanceof NamedNodeMap))return void $e.remove();for(let Qe=$e.attributes.length-1;Qe>=0;Qe--){const Be=$e.attributes.item(Qe),lt=Be.name;if(!q.includes(lt.toLowerCase())){$e.removeAttribute(lt);continue}const ct=Be.value,Fe=$e[lt];(null!=ct&&ct.toLowerCase().includes("javascript:")||null!=Fe&&Fe.toLowerCase().includes("javascript:"))&&$e.removeAttribute(lt)}const Me=H($e);for(let Qe=0;Qe<Me.length;Qe++)g(Me[Qe])},H=$e=>null!=$e.children?$e.children:$e.childNodes,we=()=>{var $e;const Me=window,Qe=null===($e=null==Me?void 0:Me.Ionic)||void 0===$e?void 0:$e.config;return!Qe||(Qe.get?Qe.get("sanitizerEnabled",!0):!0===Qe.sanitizerEnabled||void 0===Qe.sanitizerEnabled)},q=["class","id","href","src","name","slot"],S=["script","style","iframe","meta","link","object","embed"];class Te{constructor(Me){this.value=Me}}const ce=$e=>{const Me=window,Qe=Me.Ionic;if(!Qe||!Qe.config||"Object"===Qe.config.constructor.name)return Me.Ionic=Me.Ionic||{},Me.Ionic.config=Object.assign(Object.assign({},Me.Ionic.config),$e),Me.Ionic.config},_t=!1},8621:(Un,Tt,F)=>{"use strict";F.d(Tt,{C:()=>q,a:()=>H,d:()=>we});var x=F(467),g=F(4920);const H=function(){var S=(0,x.A)(function*(Te,ce,Ke,_t,$e,Me){var Qe;if(Te)return Te.attachViewToDom(ce,Ke,$e,_t);if(!(Me||"string"==typeof Ke||Ke instanceof HTMLElement))throw new Error("framework delegate is missing");const Be="string"==typeof Ke?null===(Qe=ce.ownerDocument)||void 0===Qe?void 0:Qe.createElement(Ke):Ke;return _t&&_t.forEach(lt=>Be.classList.add(lt)),$e&&Object.assign(Be,$e),ce.appendChild(Be),yield new Promise(lt=>(0,g.c)(Be,lt)),Be});return function(ce,Ke,_t,$e,Me,Qe){return S.apply(this,arguments)}}(),we=(S,Te)=>{if(Te){if(S)return S.removeViewFromDom(Te.parentElement,Te);Te.remove()}return Promise.resolve()},q=()=>{let S,Te;return{attachViewToDom:function(){var _t=(0,x.A)(function*($e,Me,Qe={},Be=[]){var lt,ct;let Fe;if(S=$e,Me){const wt="string"==typeof Me?null===(lt=S.ownerDocument)||void 0===lt?void 0:lt.createElement(Me):Me;Be.forEach(ft=>wt.classList.add(ft)),Object.assign(wt,Qe),S.appendChild(wt),Fe=wt,yield new Promise(ft=>(0,g.c)(wt,ft))}else if(S.children.length>0&&("ION-MODAL"===S.tagName||"ION-POPOVER"===S.tagName)&&!(Fe=S.children[0]).classList.contains("ion-delegate-host")){const ft=null===(ct=S.ownerDocument)||void 0===ct?void 0:ct.createElement("div");ft.classList.add("ion-delegate-host"),Be.forEach(rt=>ft.classList.add(rt)),ft.append(...S.children),S.appendChild(ft),Fe=ft}const ve=document.querySelector("ion-app")||document.body;return Te=document.createComment("ionic teleport"),S.parentNode.insertBefore(Te,S),ve.appendChild(S),null!=Fe?Fe:S});return function(Me,Qe){return _t.apply(this,arguments)}}(),removeViewFromDom:()=>(S&&Te&&(Te.parentNode.insertBefore(S,Te),Te.remove()),Promise.resolve())}}},1970:(Un,Tt,F)=>{"use strict";F.d(Tt,{B:()=>we,G:()=>q});class g{constructor(Te,ce,Ke,_t,$e){this.id=ce,this.name=Ke,this.disableScroll=$e,this.priority=1e6*_t+ce,this.ctrl=Te}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Te=this.ctrl.capture(this.name,this.id,this.priority);return Te&&this.disableScroll&&this.ctrl.disableScroll(this.id),Te}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class H{constructor(Te,ce,Ke,_t){this.id=ce,this.disable=Ke,this.disableScroll=_t,this.ctrl=Te}block(){if(this.ctrl){if(this.disable)for(const Te of this.disable)this.ctrl.disableGesture(Te,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Te of this.disable)this.ctrl.enableGesture(Te,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const we="backdrop-no-scroll",q=new class x{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Te){var ce;return new g(this,this.newID(),Te.name,null!==(ce=Te.priority)&&void 0!==ce?ce:0,!!Te.disableScroll)}createBlocker(Te={}){return new H(this,this.newID(),Te.disable,!!Te.disableScroll)}start(Te,ce,Ke){return this.canStart(Te)?(this.requestedStart.set(ce,Ke),!0):(this.requestedStart.delete(ce),!1)}capture(Te,ce,Ke){if(!this.start(Te,ce,Ke))return!1;const _t=this.requestedStart;let $e=-1e4;if(_t.forEach(Me=>{$e=Math.max($e,Me)}),$e===Ke){this.capturedId=ce,_t.clear();const Me=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Te}});return document.dispatchEvent(Me),!0}return _t.delete(ce),!1}release(Te){this.requestedStart.delete(Te),this.capturedId===Te&&(this.capturedId=void 0)}disableGesture(Te,ce){let Ke=this.disabledGestures.get(Te);void 0===Ke&&(Ke=new Set,this.disabledGestures.set(Te,Ke)),Ke.add(ce)}enableGesture(Te,ce){const Ke=this.disabledGestures.get(Te);void 0!==Ke&&Ke.delete(ce)}disableScroll(Te){this.disabledScroll.add(Te),1===this.disabledScroll.size&&document.body.classList.add(we)}enableScroll(Te){this.disabledScroll.delete(Te),0===this.disabledScroll.size&&document.body.classList.remove(we)}canStart(Te){return!(void 0!==this.capturedId||this.isDisabled(Te))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Te){const ce=this.disabledGestures.get(Te);return!!(ce&&ce.size>0)}newID(){return this.gestureId++,this.gestureId}}},7192:(Un,Tt,F)=>{"use strict";F.r(Tt),F.d(Tt,{MENU_BACK_BUTTON_PRIORITY:()=>Ke,OVERLAY_BACK_BUTTON_PRIORITY:()=>ce,blockHardwareBackButton:()=>S,shouldUseCloseWatcher:()=>q,startHardwareBackButton:()=>Te});var x=F(467),g=F(8476),H=F(9483);F(4261);const q=()=>H.c.get("experimentalCloseWatcher",!1)&&void 0!==g.w&&"CloseWatcher"in g.w,S=()=>{document.addEventListener("backbutton",()=>{})},Te=()=>{const _t=document;let $e=!1;const Me=()=>{if($e)return;let Qe=0,Be=[];const lt=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ve,wt){Be.push({priority:ve,handler:wt,id:Qe++})}}});_t.dispatchEvent(lt);const ct=function(){var ve=(0,x.A)(function*(wt){try{if(null!=wt&&wt.handler){const ft=wt.handler(Fe);null!=ft&&(yield ft)}}catch(ft){console.error(ft)}});return function(ft){return ve.apply(this,arguments)}}(),Fe=()=>{if(Be.length>0){let ve={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Be.forEach(wt=>{wt.priority>=ve.priority&&(ve=wt)}),$e=!0,Be=Be.filter(wt=>wt.id!==ve.id),ct(ve).then(()=>$e=!1)}};Fe()};if(q()){let Qe;const Be=()=>{null==Qe||Qe.destroy(),Qe=new g.w.CloseWatcher,Qe.onclose=()=>{Me(),Be()}};Be()}else _t.addEventListener("backbutton",Me)},ce=100,Ke=99},4920:(Un,Tt,F)=>{"use strict";F.d(Tt,{a:()=>ce,b:()=>Ke,c:()=>H,d:()=>Be,e:()=>wt,f:()=>Qe,g:()=>_t,h:()=>q,i:()=>Te,j:()=>lt,k:()=>we,l:()=>Me,m:()=>ct,n:()=>ve,o:()=>ft,p:()=>Fe,r:()=>$e,s:()=>rt,t:()=>x});const x=(Ee,ze=0)=>new Promise(oe=>{g(Ee,ze,oe)}),g=(Ee,ze=0,oe)=>{let it,At;const Ze={passive:!0},jt=()=>{it&&it()},zt=Gn=>{(void 0===Gn||Ee===Gn.target)&&(jt(),oe(Gn))};return Ee&&(Ee.addEventListener("webkitTransitionEnd",zt,Ze),Ee.addEventListener("transitionend",zt,Ze),At=setTimeout(zt,ze+500),it=()=>{void 0!==At&&(clearTimeout(At),At=void 0),Ee.removeEventListener("webkitTransitionEnd",zt,Ze),Ee.removeEventListener("transitionend",zt,Ze)}),jt},H=(Ee,ze)=>{Ee.componentOnReady?Ee.componentOnReady().then(oe=>ze(oe)):$e(()=>ze(Ee))},we=Ee=>void 0!==Ee.componentOnReady,q=(Ee,ze=[])=>{const oe={};return ze.forEach(it=>{Ee.hasAttribute(it)&&(null!==Ee.getAttribute(it)&&(oe[it]=Ee.getAttribute(it)),Ee.removeAttribute(it))}),oe},S=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Te=(Ee,ze)=>{let oe=S;return ze&&ze.length>0&&(oe=oe.filter(it=>!ze.includes(it))),q(Ee,oe)},ce=(Ee,ze,oe,it)=>{var At;if(typeof window<"u"){const Ze=window,He=null===(At=null==Ze?void 0:Ze.Ionic)||void 0===At?void 0:At.config;if(He){const jt=He.get("_ael");if(jt)return jt(Ee,ze,oe,it);if(He._ael)return He._ael(Ee,ze,oe,it)}}return Ee.addEventListener(ze,oe,it)},Ke=(Ee,ze,oe,it)=>{var At;if(typeof window<"u"){const Ze=window,He=null===(At=null==Ze?void 0:Ze.Ionic)||void 0===At?void 0:At.config;if(He){const jt=He.get("_rel");if(jt)return jt(Ee,ze,oe,it);if(He._rel)return He._rel(Ee,ze,oe,it)}}return Ee.removeEventListener(ze,oe,it)},_t=(Ee,ze=Ee)=>Ee.shadowRoot||ze,$e=Ee=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ee):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ee):setTimeout(Ee),Me=Ee=>!!Ee.shadowRoot&&!!Ee.attachShadow,Qe=Ee=>{if(Ee.focus(),Ee.classList.contains("ion-focusable")){const ze=Ee.closest("ion-app");ze&&ze.setFocus([Ee])}},Be=(Ee,ze,oe,it,At)=>{if(Ee||Me(ze)){let Ze=ze.querySelector("input.aux-input");Ze||(Ze=ze.ownerDocument.createElement("input"),Ze.type="hidden",Ze.classList.add("aux-input"),ze.appendChild(Ze)),Ze.disabled=At,Ze.name=oe,Ze.value=it||""}},lt=(Ee,ze,oe)=>Math.max(Ee,Math.min(ze,oe)),ct=(Ee,ze)=>{if(!Ee){const oe="ASSERT: "+ze;throw console.error(oe),new Error(oe)}},Fe=Ee=>{if(Ee){const ze=Ee.changedTouches;if(ze&&ze.length>0){const oe=ze[0];return{x:oe.clientX,y:oe.clientY}}if(void 0!==Ee.pageX)return{x:Ee.pageX,y:Ee.pageY}}return{x:0,y:0}},ve=Ee=>{const ze="rtl"===document.dir;switch(Ee){case"start":return ze;case"end":return!ze;default:throw new Error(`"${Ee}" is not a valid value for [side]. Use "start" or "end" instead.`)}},wt=(Ee,ze)=>{const oe=Ee._original||Ee;return{_original:Ee,emit:ft(oe.emit.bind(oe),ze)}},ft=(Ee,ze=0)=>{let oe;return(...it)=>{clearTimeout(oe),oe=setTimeout(Ee,ze,...it)}},rt=(Ee,ze)=>{if(null!=Ee||(Ee={}),null!=ze||(ze={}),Ee===ze)return!0;const oe=Object.keys(Ee);if(oe.length!==Object.keys(ze).length)return!1;for(const it of oe)if(!(it in ze)||Ee[it]!==ze[it])return!1;return!0}},4261:(Un,Tt,F)=>{"use strict";F.d(Tt,{B:()=>S,a:()=>Gn,b:()=>Za,c:()=>Cr,d:()=>tn,e:()=>un,f:()=>fr,g:()=>ko,h:()=>kr,i:()=>Zr,j:()=>Ct,k:()=>hr,r:()=>Ke,w:()=>Yt});var x=F(467);var we=Object.defineProperty,S={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Te=new WeakMap,ce=M=>Te.get(M),Ke=(M,Z)=>Te.set(Z.$lazyInstance$=M,Z),$e=(M,Z)=>Z in M,Me=(M,Z)=>(0,console.error)(M,Z),Qe=new Map,lt=new Map,ct=[],rt="s-id",it="slot-fb{display:contents}slot-fb[hidden]{display:none}",At="http://www.w3.org/1999/xlink",Ze=typeof window<"u"?window:{},He=Ze.document||{head:{}},zt={$flags$:0,$resourcesUrl$:"",jmp:M=>M(),raf:M=>requestAnimationFrame(M),ael:(M,Z,et,ht)=>M.addEventListener(Z,et,ht),rel:(M,Z,et,ht)=>M.removeEventListener(Z,et,ht),ce:(M,Z)=>new CustomEvent(M,Z)},Gn=M=>{Object.assign(zt,M)},Xn=(()=>{let M=!1;try{He.addEventListener("e",null,Object.defineProperty({},"passive",{get(){M=!0}}))}catch{}return M})(),pt=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),We=!1,ue=[],fe=[],Re=(M,Z)=>et=>{M.push(et),We||(We=!0,Z&&4&zt.$flags$?Lt(Ot):zt.raf(Ot))},St=M=>{for(let Z=0;Z<M.length;Z++)try{M[Z](performance.now())}catch(et){Me(et)}M.length=0},Ot=()=>{St(ue),St(fe),(We=ue.length>0)&&zt.raf(Ot)},Lt=M=>Promise.resolve(void 0).then(M),un=Re(ue,!1),Yt=Re(fe,!0),hr=M=>{const Z=new URL(M,zt.$resourcesUrl$);return Z.origin!==Ze.location.origin?Z.href:Z.pathname},Qn={},dr=M=>"object"==(M=typeof M)||"function"===M;function Dr(M){var Z,et,ht;return null!=(ht=null==(et=null==(Z=M.head)?void 0:Z.querySelector('meta[name="csp-nonce"]'))?void 0:et.getAttribute("content"))?ht:void 0}((M,Z)=>{for(var et in Z)we(M,et,{get:Z[et],enumerable:!0})})({},{err:()=>Kr,map:()=>xn,ok:()=>pr,unwrap:()=>nn,unwrapErr:()=>sn});var pr=M=>({isOk:!0,isErr:!1,value:M}),Kr=M=>({isOk:!1,isErr:!0,value:M});function xn(M,Z){if(M.isOk){const et=Z(M.value);return et instanceof Promise?et.then(ht=>pr(ht)):pr(et)}if(M.isErr)return Kr(M.value);throw"should never get here"}var nn=M=>{if(M.isOk)return M.value;throw M.value},sn=M=>{if(M.isErr)return M.value;throw M.value},kr=(M,Z,...et)=>{let ht=null,Bt=null,Mt=null,$t=!1,Wt=!1;const Dn=[],Bn=mr=>{for(let Pr=0;Pr<mr.length;Pr++)ht=mr[Pr],Array.isArray(ht)?Bn(ht):null!=ht&&"boolean"!=typeof ht&&(($t="function"!=typeof M&&!dr(ht))&&(ht=String(ht)),$t&&Wt?Dn[Dn.length-1].$text$+=ht:Dn.push($t?lr(null,ht):ht),Wt=$t)};if(Bn(et),Z){Z.key&&(Bt=Z.key),Z.name&&(Mt=Z.name);{const mr=Z.className||Z.class;mr&&(Z.class="object"!=typeof mr?mr:Object.keys(mr).filter(Pr=>mr[Pr]).join(" "))}}if("function"==typeof M)return M(null===Z?{}:Z,Dn,fo);const ir=lr(M,null);return ir.$attrs$=Z,Dn.length>0&&(ir.$children$=Dn),ir.$key$=Bt,ir.$name$=Mt,ir},lr=(M,Z)=>({$flags$:0,$tag$:M,$text$:Z,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),fr={},fo={forEach:(M,Z)=>M.map(Lr).forEach(Z),map:(M,Z)=>M.map(Lr).map(Z).map(ho)},Lr=M=>({vattrs:M.$attrs$,vchildren:M.$children$,vkey:M.$key$,vname:M.$name$,vtag:M.$tag$,vtext:M.$text$}),ho=M=>{if("function"==typeof M.vtag){const et={...M.vattrs};return M.vkey&&(et.key=M.vkey),M.vname&&(et.name=M.vname),kr(M.vtag,et,...M.vchildren||[])}const Z=lr(M.vtag,M.vtext);return Z.$attrs$=M.vattrs,Z.$children$=M.vchildren,Z.$key$=M.vkey,Z.$name$=M.vname,Z},Ur=(M,Z,et,ht,Bt,Mt,$t)=>{let Wt,Dn,Bn,ir;if(1===Mt.nodeType){if(Wt=Mt.getAttribute("c-id"),Wt&&(Dn=Wt.split("."),(Dn[0]===$t||"0"===Dn[0])&&(Bn={$flags$:0,$hostId$:Dn[0],$nodeId$:Dn[1],$depth$:Dn[2],$index$:Dn[3],$tag$:Mt.tagName.toLowerCase(),$elm$:Mt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},Z.push(Bn),Mt.removeAttribute("c-id"),M.$children$||(M.$children$=[]),M.$children$[Bn.$index$]=Bn,M=Bn,ht&&"0"===Bn.$depth$&&(ht[Bn.$index$]=Bn.$elm$))),Mt.shadowRoot)for(ir=Mt.shadowRoot.childNodes.length-1;ir>=0;ir--)Ur(M,Z,et,ht,Bt,Mt.shadowRoot.childNodes[ir],$t);for(ir=Mt.childNodes.length-1;ir>=0;ir--)Ur(M,Z,et,ht,Bt,Mt.childNodes[ir],$t)}else if(8===Mt.nodeType)Dn=Mt.nodeValue.split("."),(Dn[1]===$t||"0"===Dn[1])&&(Wt=Dn[0],Bn={$flags$:0,$hostId$:Dn[1],$nodeId$:Dn[2],$depth$:Dn[3],$index$:Dn[4],$elm$:Mt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Wt?(Bn.$elm$=Mt.nextSibling,Bn.$elm$&&3===Bn.$elm$.nodeType&&(Bn.$text$=Bn.$elm$.textContent,Z.push(Bn),Mt.remove(),M.$children$||(M.$children$=[]),M.$children$[Bn.$index$]=Bn,ht&&"0"===Bn.$depth$&&(ht[Bn.$index$]=Bn.$elm$))):Bn.$hostId$===$t&&("s"===Wt?(Bn.$tag$="slot",Mt["s-sn"]=Dn[5]?Bn.$name$=Dn[5]:"",Mt["s-sr"]=!0,ht&&(Bn.$elm$=He.createElement(Bn.$tag$),Bn.$name$&&Bn.$elm$.setAttribute("name",Bn.$name$),Mt.parentNode.insertBefore(Bn.$elm$,Mt),Mt.remove(),"0"===Bn.$depth$&&(ht[Bn.$index$]=Bn.$elm$)),et.push(Bn),M.$children$||(M.$children$=[]),M.$children$[Bn.$index$]=Bn):"r"===Wt&&(ht?Mt.remove():(Bt["s-cr"]=Mt,Mt["s-cn"]=!0))));else if(M&&"style"===M.$tag$){const mr=lr(null,Mt.textContent);mr.$elm$=Mt,mr.$index$="0",M.$children$=[mr]}},qr=(M,Z)=>{if(1===M.nodeType){let et=0;if(M.shadowRoot)for(;et<M.shadowRoot.childNodes.length;et++)qr(M.shadowRoot.childNodes[et],Z);for(et=0;et<M.childNodes.length;et++)qr(M.childNodes[et],Z)}else if(8===M.nodeType){const et=M.nodeValue.split(".");"o"===et[0]&&(Z.set(et[1]+"."+et[2],M),M.nodeValue="",M["s-en"]=et[3])}},Cr=M=>ct.push(M),ko=M=>ce(M).$modeName$,Zr=M=>ce(M).$hostElement$,tn=(M,Z,et)=>{const ht=Zr(M);return{emit:Bt=>ar(ht,Z,{bubbles:!!(4&et),composed:!!(2&et),cancelable:!!(1&et),detail:Bt})}},ar=(M,Z,et)=>{const ht=zt.ce(Z,et);return M.dispatchEvent(ht),ht},Or=new WeakMap,Zt=(M,Z,et)=>{var ht;const Bt=cn(Z,et),Mt=lt.get(Bt);if(M=11===M.nodeType?M:He,Mt)if("string"==typeof Mt){let Wt,$t=Or.get(M=M.head||M);if($t||Or.set(M,$t=new Set),!$t.has(Bt)){if(M.host&&(Wt=M.querySelector(`[sty-id="${Bt}"]`)))Wt.innerHTML=Mt;else{Wt=He.createElement("style"),Wt.innerHTML=Mt;const Dn=null!=(ht=zt.$nonce$)?ht:Dr(He);null!=Dn&&Wt.setAttribute("nonce",Dn),(!(1&Z.$flags$)||1&Z.$flags$&&"HEAD"!==M.nodeName)&&M.insertBefore(Wt,M.querySelector("link"))}4&Z.$flags$&&(Wt.innerHTML+=it),$t&&$t.add(Bt)}}else M.adoptedStyleSheets.includes(Mt)||(M.adoptedStyleSheets=[...M.adoptedStyleSheets,Mt]);return Bt},cn=(M,Z)=>"sc-"+(Z&&32&M.$flags$?M.$tagName$+"-"+Z:M.$tagName$),Et=(M,Z,et,ht,Bt,Mt)=>{if(et!==ht){let $t=$e(M,Z),Wt=Z.toLowerCase();if("class"===Z){const Dn=M.classList,Bn=_n(et),ir=_n(ht);Dn.remove(...Bn.filter(mr=>mr&&!ir.includes(mr))),Dn.add(...ir.filter(mr=>mr&&!Bn.includes(mr)))}else if("style"===Z){for(const Dn in et)(!ht||null==ht[Dn])&&(Dn.includes("-")?M.style.removeProperty(Dn):M.style[Dn]="");for(const Dn in ht)(!et||ht[Dn]!==et[Dn])&&(Dn.includes("-")?M.style.setProperty(Dn,ht[Dn]):M.style[Dn]=ht[Dn])}else if("key"!==Z)if("ref"===Z)ht&&ht(M);else if($t||"o"!==Z[0]||"n"!==Z[1]){const Dn=dr(ht);if(($t||Dn&&null!==ht)&&!Bt)try{if(M.tagName.includes("-"))M[Z]=ht;else{const ir=null==ht?"":ht;"list"===Z?$t=!1:(null==et||M[Z]!=ir)&&(M[Z]=ir)}}catch{}let Bn=!1;Wt!==(Wt=Wt.replace(/^xlink\:?/,""))&&(Z=Wt,Bn=!0),null==ht||!1===ht?(!1!==ht||""===M.getAttribute(Z))&&(Bn?M.removeAttributeNS(At,Z):M.removeAttribute(Z)):(!$t||4&Mt||Bt)&&!Dn&&(ht=!0===ht?"":ht,Bn?M.setAttributeNS(At,Z,ht):M.setAttribute(Z,ht))}else if(Z="-"===Z[2]?Z.slice(3):$e(Ze,Wt)?Wt.slice(2):Wt[2]+Z.slice(3),et||ht){const Dn=Z.endsWith(Nn);Z=Z.replace(Se,""),et&&zt.rel(M,Z,et,Dn),ht&&zt.ael(M,Z,ht,Dn)}}},Pt=/\s/,_n=M=>M?M.split(Pt):[],Nn="Capture",Se=new RegExp(Nn+"$"),ut=(M,Z,et)=>{const ht=11===Z.$elm$.nodeType&&Z.$elm$.host?Z.$elm$.host:Z.$elm$,Bt=M&&M.$attrs$||Qn,Mt=Z.$attrs$||Qn;for(const $t of an(Object.keys(Bt)))$t in Mt||Et(ht,$t,Bt[$t],void 0,et,Z.$flags$);for(const $t of an(Object.keys(Mt)))Et(ht,$t,Bt[$t],Mt[$t],et,Z.$flags$)};function an(M){return M.includes("ref")?[...M.filter(Z=>"ref"!==Z),"ref"]:M}var Ht,ge,de,Pe=!1,ie=!1,G=!1,nt=!1,Ut=(M,Z,et,ht)=>{var Bt;const Mt=Z.$children$[et];let Wt,Dn,Bn,$t=0;if(Pe||(G=!0,"slot"===Mt.$tag$&&(Ht&&ht.classList.add(Ht+"-s"),Mt.$flags$|=Mt.$children$?2:1)),null!==Mt.$text$)Wt=Mt.$elm$=He.createTextNode(Mt.$text$);else if(1&Mt.$flags$)Wt=Mt.$elm$=He.createTextNode("");else{if(nt||(nt="svg"===Mt.$tag$),Wt=Mt.$elm$=He.createElementNS(nt?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!Pe&&2&Mt.$flags$?"slot-fb":Mt.$tag$),nt&&"foreignObject"===Mt.$tag$&&(nt=!1),ut(null,Mt,nt),!!Wt.getRootNode().querySelector("body")&&(M=>null!=M)(Ht)&&Wt["s-si"]!==Ht&&Wt.classList.add(Wt["s-si"]=Ht),Ir(Wt,ht),Mt.$children$)for($t=0;$t<Mt.$children$.length;++$t)Dn=Ut(M,Mt,$t,Wt),Dn&&Wt.appendChild(Dn);"svg"===Mt.$tag$?nt=!1:"foreignObject"===Wt.tagName&&(nt=!0)}return Wt["s-hn"]=de,3&Mt.$flags$&&(Wt["s-sr"]=!0,Wt["s-cr"]=ge,Wt["s-sn"]=Mt.$name$||"",Wt["s-rf"]=null==(Bt=Mt.$attrs$)?void 0:Bt.ref,Bn=M&&M.$children$&&M.$children$[et],Bn&&Bn.$tag$===Mt.$tag$&&M.$elm$&&vn(M.$elm$)),Wt},vn=M=>{zt.$flags$|=1;const Z=M.closest(de.toLowerCase());if(null!=Z){const et=Array.from(Z.childNodes).find(Bt=>Bt["s-cr"]),ht=Array.from(M.childNodes);for(const Bt of et?ht.reverse():ht)null!=Bt["s-sh"]&&(dn(Z,Bt,null!=et?et:null),Bt["s-sh"]=void 0,G=!0)}zt.$flags$&=-2},Ln=(M,Z)=>{zt.$flags$|=1;const et=Array.from(M.childNodes);if(M["s-sr"]){let ht=M;for(;ht=ht.nextSibling;)ht&&ht["s-sn"]===M["s-sn"]&&ht["s-sh"]===de&&et.push(ht)}for(let ht=et.length-1;ht>=0;ht--){const Bt=et[ht];Bt["s-hn"]!==de&&Bt["s-ol"]&&(dn(To(Bt),Bt,wo(Bt)),Bt["s-ol"].remove(),Bt["s-ol"]=void 0,Bt["s-sh"]=void 0,G=!0),Z&&Ln(Bt,Z)}zt.$flags$&=-2},wn=(M,Z,et,ht,Bt,Mt)=>{let Wt,$t=M["s-cr"]&&M["s-cr"].parentNode||M;for($t.shadowRoot&&$t.tagName===de&&($t=$t.shadowRoot);Bt<=Mt;++Bt)ht[Bt]&&(Wt=Ut(null,et,Bt,M),Wt&&(ht[Bt].$elm$=Wt,dn($t,Wt,wo(Z))))},Sr=(M,Z,et)=>{for(let ht=Z;ht<=et;++ht){const Bt=M[ht];if(Bt){const Mt=Bt.$elm$;tt(Bt),Mt&&(ie=!0,Mt["s-ol"]?Mt["s-ol"].remove():Ln(Mt,!0),Mt.remove())}}},zo=(M,Z,et=!1)=>!(M.$tag$!==Z.$tag$||("slot"===M.$tag$?"$nodeId$"in M&&et&&8!==M.$elm$.nodeType||M.$name$!==Z.$name$:!et&&M.$key$!==Z.$key$)),wo=M=>M&&M["s-ol"]||M,To=M=>(M["s-ol"]?M["s-ol"]:M).parentNode,Ar=(M,Z,et=!1)=>{const ht=Z.$elm$=M.$elm$,Bt=M.$children$,Mt=Z.$children$,$t=Z.$tag$,Wt=Z.$text$;let Dn;null===Wt?(nt="svg"===$t||"foreignObject"!==$t&&nt,"slot"!==$t||Pe?ut(M,Z,nt):M.$name$!==Z.$name$&&(Z.$elm$["s-sn"]=Z.$name$||"",vn(Z.$elm$.parentElement)),null!==Bt&&null!==Mt?((M,Z,et,ht,Bt=!1)=>{let Go,qo,Mt=0,$t=0,Wt=0,Dn=0,Bn=Z.length-1,ir=Z[0],mr=Z[Bn],Pr=ht.length-1,Br=ht[0],Fo=ht[Pr];for(;Mt<=Bn&&$t<=Pr;)if(null==ir)ir=Z[++Mt];else if(null==mr)mr=Z[--Bn];else if(null==Br)Br=ht[++$t];else if(null==Fo)Fo=ht[--Pr];else if(zo(ir,Br,Bt))Ar(ir,Br,Bt),ir=Z[++Mt],Br=ht[++$t];else if(zo(mr,Fo,Bt))Ar(mr,Fo,Bt),mr=Z[--Bn],Fo=ht[--Pr];else if(zo(ir,Fo,Bt))("slot"===ir.$tag$||"slot"===Fo.$tag$)&&Ln(ir.$elm$.parentNode,!1),Ar(ir,Fo,Bt),dn(M,ir.$elm$,mr.$elm$.nextSibling),ir=Z[++Mt],Fo=ht[--Pr];else if(zo(mr,Br,Bt))("slot"===ir.$tag$||"slot"===Fo.$tag$)&&Ln(mr.$elm$.parentNode,!1),Ar(mr,Br,Bt),dn(M,mr.$elm$,ir.$elm$),mr=Z[--Bn],Br=ht[++$t];else{for(Wt=-1,Dn=Mt;Dn<=Bn;++Dn)if(Z[Dn]&&null!==Z[Dn].$key$&&Z[Dn].$key$===Br.$key$){Wt=Dn;break}Wt>=0?(qo=Z[Wt],qo.$tag$!==Br.$tag$?Go=Ut(Z&&Z[$t],et,Wt,M):(Ar(qo,Br,Bt),Z[Wt]=void 0,Go=qo.$elm$),Br=ht[++$t]):(Go=Ut(Z&&Z[$t],et,$t,M),Br=ht[++$t]),Go&&dn(To(ir.$elm$),Go,wo(ir.$elm$))}Mt>Bn?wn(M,null==ht[Pr+1]?null:ht[Pr+1].$elm$,et,ht,$t,Pr):$t>Pr&&Sr(Z,Mt,Bn)})(ht,Bt,Z,Mt,et):null!==Mt?(null!==M.$text$&&(ht.textContent=""),wn(ht,null,Z,Mt,0,Mt.length-1)):!et&&null!==Bt&&Sr(Bt,0,Bt.length-1),nt&&"svg"===$t&&(nt=!1)):(Dn=ht["s-cr"])?Dn.parentNode.textContent=Wt:M.$text$!==Wt&&(ht.data=Wt)},No=M=>{const Z=M.childNodes;for(const et of Z)if(1===et.nodeType){if(et["s-sr"]){const ht=et["s-sn"];et.hidden=!1;for(const Bt of Z)if(Bt!==et)if(Bt["s-hn"]!==et["s-hn"]||""!==ht){if(1===Bt.nodeType&&(ht===Bt.getAttribute("slot")||ht===Bt["s-sn"])||3===Bt.nodeType&&ht===Bt["s-sn"]){et.hidden=!0;break}}else if(1===Bt.nodeType||3===Bt.nodeType&&""!==Bt.textContent.trim()){et.hidden=!0;break}}No(et)}},po=[],Jn=M=>{let Z,et,ht;for(const Bt of M.childNodes){if(Bt["s-sr"]&&(Z=Bt["s-cr"])&&Z.parentNode){et=Z.parentNode.childNodes;const Mt=Bt["s-sn"];for(ht=et.length-1;ht>=0;ht--)if(Z=et[ht],!(Z["s-cn"]||Z["s-nr"]||Z["s-hn"]===Bt["s-hn"]||Z["s-sh"]&&Z["s-sh"]===Bt["s-hn"]))if(Uo(Z,Mt)){let $t=po.find(Wt=>Wt.$nodeToRelocate$===Z);ie=!0,Z["s-sn"]=Z["s-sn"]||Mt,$t?($t.$nodeToRelocate$["s-sh"]=Bt["s-hn"],$t.$slotRefNode$=Bt):(Z["s-sh"]=Bt["s-hn"],po.push({$slotRefNode$:Bt,$nodeToRelocate$:Z})),Z["s-sr"]&&po.map(Wt=>{Uo(Wt.$nodeToRelocate$,Z["s-sn"])&&($t=po.find(Dn=>Dn.$nodeToRelocate$===Z),$t&&!Wt.$slotRefNode$&&(Wt.$slotRefNode$=$t.$slotRefNode$))})}else po.some($t=>$t.$nodeToRelocate$===Z)||po.push({$nodeToRelocate$:Z})}1===Bt.nodeType&&Jn(Bt)}},Uo=(M,Z)=>1===M.nodeType?null===M.getAttribute("slot")&&""===Z||M.getAttribute("slot")===Z:M["s-sn"]===Z||""===Z,tt=M=>{M.$attrs$&&M.$attrs$.ref&&M.$attrs$.ref(null),M.$children$&&M.$children$.map(tt)},dn=(M,Z,et)=>{const ht=null==M?void 0:M.insertBefore(Z,et);return Ir(Z,M),ht},Hn=M=>{const Z=[];return M&&Z.push(...M["s-scs"]||[],M["s-si"],M["s-sc"],...Hn(M.parentElement)),Z},Ir=(M,Z,et=!1)=>{var ht;if(M&&Z&&1===M.nodeType){const Bt=new Set(Hn(Z).filter(Boolean));if(Bt.size&&(null==(ht=M.classList)||ht.add(...M["s-scs"]=[...Bt]),M["s-ol"]||et))for(const Mt of Array.from(M.childNodes))Ir(Mt,M,!0)}},Oe=(M,Z)=>{Z&&!M.$onRenderResolve$&&Z["s-p"]&&Z["s-p"].push(new Promise(et=>M.$onRenderResolve$=et))},ot=(M,Z)=>{if(M.$flags$|=16,!(4&M.$flags$))return Oe(M,M.$ancestorComponent$),Yt(()=>Ft(M,Z));M.$flags$|=512},Ft=(M,Z)=>{const Bt=M.$lazyInstance$;if(!Bt)throw new Error(`Can't render component <${M.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let Mt;return Z&&(M.$flags$|=256,M.$queuedListeners$&&(M.$queuedListeners$.map(([$t,Wt])=>mn(Bt,$t,Wt)),M.$queuedListeners$=void 0),Mt=mn(Bt,"componentWillLoad")),Mt=le(Mt,()=>mn(Bt,"componentWillRender")),le(Mt,()=>De(M,Bt,Z))},le=(M,Z)=>Ue(M)?M.then(Z).catch(et=>{console.error(et),Z()}):Z(),Ue=M=>M instanceof Promise||M&&M.then&&"function"==typeof M.then,De=function(){var M=(0,x.A)(function*(Z,et,ht){var Bt;const Mt=Z.$hostElement$,Wt=Mt["s-rc"];ht&&(M=>{const Z=M.$cmpMeta$,et=M.$hostElement$,ht=Z.$flags$,Mt=Zt(et.shadowRoot?et.shadowRoot:et.getRootNode(),Z,M.$modeName$);10&ht&&2&ht&&(et["s-sc"]=Mt,et.classList.add(Mt+"-h"),2&ht&&et.classList.add(Mt+"-s"))})(Z);qe(Z,et,Mt,ht),Wt&&(Wt.map(Bn=>Bn()),Mt["s-rc"]=void 0);{const Bn=null!=(Bt=Mt["s-p"])?Bt:[],ir=()=>st(Z);0===Bn.length?ir():(Promise.all(Bn).then(ir),Z.$flags$|=4,Bn.length=0)}});return function(et,ht,Bt){return M.apply(this,arguments)}}(),qe=(M,Z,et,ht)=>{try{Z=Z.render&&Z.render(),M.$flags$&=-17,M.$flags$|=2,((M,Z,et=!1)=>{var ht,Bt,Mt,$t,Wt;const Dn=M.$hostElement$,Bn=M.$cmpMeta$,ir=M.$vnode$||lr(null,null),mr=(M=>M&&M.$tag$===fr)(Z)?Z:kr(null,null,Z);if(de=Dn.tagName,Bn.$attrsToReflect$&&(mr.$attrs$=mr.$attrs$||{},Bn.$attrsToReflect$.map(([Pr,Br])=>mr.$attrs$[Br]=Dn[Pr])),et&&mr.$attrs$)for(const Pr of Object.keys(mr.$attrs$))Dn.hasAttribute(Pr)&&!["key","ref","style","class"].includes(Pr)&&(mr.$attrs$[Pr]=Dn[Pr]);if(mr.$tag$=null,mr.$flags$|=4,M.$vnode$=mr,mr.$elm$=ir.$elm$=Dn.shadowRoot||Dn,Ht=Dn["s-sc"],Pe=!!(1&Bn.$flags$),ge=Dn["s-cr"],ie=!1,Ar(ir,mr,et),zt.$flags$|=1,G){Jn(mr.$elm$);for(const Pr of po){const Br=Pr.$nodeToRelocate$;if(!Br["s-ol"]){const Fo=He.createTextNode("");Fo["s-nr"]=Br,dn(Br.parentNode,Br["s-ol"]=Fo,Br)}}for(const Pr of po){const Br=Pr.$nodeToRelocate$,Fo=Pr.$slotRefNode$;if(Fo){const Go=Fo.parentNode;let qo=Fo.nextSibling;if(qo&&1===qo.nodeType){let Vo=null==(ht=Br["s-ol"])?void 0:ht.previousSibling;for(;Vo;){let li=null!=(Bt=Vo["s-nr"])?Bt:null;if(li&&li["s-sn"]===Br["s-sn"]&&Go===li.parentNode){for(li=li.nextSibling;li===Br||null!=li&&li["s-sr"];)li=null==li?void 0:li.nextSibling;if(!li||!li["s-nr"]){qo=li;break}}Vo=Vo.previousSibling}}(!qo&&Go!==Br.parentNode||Br.nextSibling!==qo)&&Br!==qo&&(dn(Go,Br,qo),1===Br.nodeType&&(Br.hidden=null!=(Mt=Br["s-ih"])&&Mt)),Br&&"function"==typeof Fo["s-rf"]&&Fo["s-rf"](Br)}else 1===Br.nodeType&&(et&&(Br["s-ih"]=null!=($t=Br.hidden)&&$t),Br.hidden=!0)}}if(ie&&No(mr.$elm$),zt.$flags$&=-2,po.length=0,2&Bn.$flags$)for(const Pr of mr.$elm$.childNodes)Pr["s-hn"]!==de&&!Pr["s-sh"]&&(et&&null==Pr["s-ih"]&&(Pr["s-ih"]=null!=(Wt=Pr.hidden)&&Wt),Pr.hidden=!0);ge=void 0})(M,Z,ht)}catch(Bt){Me(Bt,M.$hostElement$)}return null},st=M=>{const et=M.$hostElement$,Bt=M.$lazyInstance$,Mt=M.$ancestorComponent$;mn(Bt,"componentDidRender"),64&M.$flags$?mn(Bt,"componentDidUpdate"):(M.$flags$|=64,Pn(et),mn(Bt,"componentDidLoad"),M.$onReadyResolve$(et),Mt||Vt()),M.$onInstanceResolve$(et),M.$onRenderResolve$&&(M.$onRenderResolve$(),M.$onRenderResolve$=void 0),512&M.$flags$&&Lt(()=>ot(M,!1)),M.$flags$&=-517},Ct=M=>{{const Z=ce(M),et=Z.$hostElement$.isConnected;return et&&2==(18&Z.$flags$)&&ot(Z,!1),et}},Vt=M=>{Pn(He.documentElement),Lt(()=>ar(Ze,"appload",{detail:{namespace:"ionic"}}))},mn=(M,Z,et)=>{if(M&&M[Z])try{return M[Z](et)}catch(ht){Me(ht)}},Pn=M=>M.classList.add("hydrated"),nr=(M,Z,et)=>{var ht,Bt;const Mt=M.prototype;if(Z.$members$||Z.$watchers$||M.watchers){M.watchers&&!Z.$watchers$&&(Z.$watchers$=M.watchers);const $t=Object.entries(null!=(ht=Z.$members$)?ht:{});if($t.map(([Wt,[Dn]])=>{31&Dn||2&et&&32&Dn?Object.defineProperty(Mt,Wt,{get(){return((M,Z)=>ce(this).$instanceValues$.get(Z))(0,Wt)},set(Bn){((M,Z,et,ht)=>{const Bt=ce(M);if(!Bt)throw new Error(`Couldn't find host element for "${ht.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const Mt=Bt.$hostElement$,$t=Bt.$instanceValues$.get(Z),Wt=Bt.$flags$,Dn=Bt.$lazyInstance$;et=((M,Z)=>null==M||dr(M)?M:4&Z?"false"!==M&&(""===M||!!M):2&Z?parseFloat(M):1&Z?String(M):M)(et,ht.$members$[Z][0]);const Bn=Number.isNaN($t)&&Number.isNaN(et);if((!(8&Wt)||void 0===$t)&&et!==$t&&!Bn&&(Bt.$instanceValues$.set(Z,et),Dn)){if(ht.$watchers$&&128&Wt){const mr=ht.$watchers$[Z];mr&&mr.map(Pr=>{try{Dn[Pr](et,$t,Z)}catch(Br){Me(Br,Mt)}})}2==(18&Wt)&&ot(Bt,!1)}})(this,Wt,Bn,Z)},configurable:!0,enumerable:!0}):1&et&&64&Dn&&Object.defineProperty(Mt,Wt,{value(...Bn){var ir;const mr=ce(this);return null==(ir=null==mr?void 0:mr.$onInstancePromise$)?void 0:ir.then(()=>{var Pr;return null==(Pr=mr.$lazyInstance$)?void 0:Pr[Wt](...Bn)})}})}),1&et){const Wt=new Map;Mt.attributeChangedCallback=function(Dn,Bn,ir){zt.jmp(()=>{var mr;const Pr=Wt.get(Dn);if(this.hasOwnProperty(Pr))ir=this[Pr],delete this[Pr];else{if(Mt.hasOwnProperty(Pr)&&"number"==typeof this[Pr]&&this[Pr]==ir)return;if(null==Pr){const Br=ce(this),Fo=null==Br?void 0:Br.$flags$;if(Fo&&!(8&Fo)&&128&Fo&&ir!==Bn){const Go=Br.$lazyInstance$,qo=null==(mr=Z.$watchers$)?void 0:mr[Dn];null==qo||qo.forEach(Vo=>{null!=Go[Vo]&&Go[Vo].call(Go,ir,Bn,Dn)})}return}}this[Pr]=(null!==ir||"boolean"!=typeof this[Pr])&&ir})},M.observedAttributes=Array.from(new Set([...Object.keys(null!=(Bt=Z.$watchers$)?Bt:{}),...$t.filter(([Dn,Bn])=>15&Bn[0]).map(([Dn,Bn])=>{var ir;const mr=Bn[1]||Dn;return Wt.set(mr,Dn),512&Bn[0]&&(null==(ir=Z.$attrsToReflect$)||ir.push([Dn,mr])),mr})]))}}return M},Er=function(){var M=(0,x.A)(function*(Z,et,ht,Bt){let Mt;if(!(32&et.$flags$)){if(et.$flags$|=32,ht.$lazyBundleId$){const Bn=(M=>{const ht=M.$tagName$.replace(/-/g,"_"),Bt=M.$lazyBundleId$;if(!Bt)return;const Mt=Qe.get(Bt);return Mt?Mt[ht]:F(8996)(`./${Bt}.entry.js`).then($t=>(Qe.set(Bt,$t),$t[ht]),Me)})(ht);if(Bn&&"then"in Bn){const mr=()=>{};Mt=yield Bn,mr()}else Mt=Bn;if(!Mt)throw new Error(`Constructor for "${ht.$tagName$}#${et.$modeName$}" was not found`);Mt.isProxied||(ht.$watchers$=Mt.watchers,nr(Mt,ht,2),Mt.isProxied=!0);const ir=()=>{};et.$flags$|=8;try{new Mt(et)}catch(mr){Me(mr)}et.$flags$&=-9,et.$flags$|=128,ir(),gr(et.$lazyInstance$)}else Mt=Z.constructor,customElements.whenDefined(Z.localName).then(()=>et.$flags$|=128);if(Mt&&Mt.style){let Bn;"string"==typeof Mt.style?Bn=Mt.style:"string"!=typeof Mt.style&&(et.$modeName$=(M=>ct.map(Z=>Z(M)).find(Z=>!!Z))(Z),et.$modeName$&&(Bn=Mt.style[et.$modeName$]));const ir=cn(ht,et.$modeName$);if(!lt.has(ir)){const mr=()=>{};((M,Z,et)=>{let ht=lt.get(M);pt&&et?(ht=ht||new CSSStyleSheet,"string"==typeof ht?ht=Z:ht.replaceSync(Z)):ht=Z,lt.set(M,ht)})(ir,Bn,!!(1&ht.$flags$)),mr()}}}const $t=et.$ancestorComponent$,Wt=()=>ot(et,!0);$t&&$t["s-rc"]?$t["s-rc"].push(Wt):Wt()});return function(et,ht,Bt,Mt){return M.apply(this,arguments)}}(),gr=M=>{mn(M,"connectedCallback")},no=M=>{const Z=M["s-cr"]=He.createComment("");Z["s-cn"]=!0,dn(M,Z,M.firstChild)},Tr=M=>{mn(M,"disconnectedCallback")},go=function(){var M=(0,x.A)(function*(Z){if(!(1&zt.$flags$)){const et=ce(Z);et.$rmListeners$&&(et.$rmListeners$.map(ht=>ht()),et.$rmListeners$=void 0),null!=et&&et.$lazyInstance$?Tr(et.$lazyInstance$):null!=et&&et.$onReadyPromise$&&et.$onReadyPromise$.then(()=>Tr(et.$lazyInstance$))}});return function(et){return M.apply(this,arguments)}}(),Wr=M=>{const Z=M.cloneNode;M.cloneNode=function(et){const ht=this,Bt=ht.shadowRoot&&true,Mt=Z.call(ht,!!Bt&&et);if(!Bt&&et){let Wt,Dn,$t=0;const Bn=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;$t<ht.childNodes.length;$t++)Wt=ht.childNodes[$t]["s-nr"],Dn=Bn.every(ir=>!ht.childNodes[$t][ir]),Wt&&(Mt.__appendChild?Mt.__appendChild(Wt.cloneNode(!0)):Mt.appendChild(Wt.cloneNode(!0))),Dn&&Mt.appendChild(ht.childNodes[$t].cloneNode(!0))}return Mt}},Ki=M=>{M.__appendChild=M.appendChild,M.appendChild=function(Z){const et=Z["s-sn"]=za(Z),ht=Sa(this.childNodes,et,this.tagName);if(ht){const Bt=fs(ht,et),Mt=Bt[Bt.length-1],$t=dn(Mt.parentNode,Z,Mt.nextSibling);return No(this),$t}return this.__appendChild(Z)}},Mi=M=>{M.__removeChild=M.removeChild,M.removeChild=function(Z){if(Z&&typeof Z["s-sn"]<"u"){const et=Sa(this.childNodes,Z["s-sn"],this.tagName);if(et){const Bt=fs(et,Z["s-sn"]).find(Mt=>Mt===Z);if(Bt)return Bt.remove(),void No(this)}}return this.__removeChild(Z)}},ea=M=>{const Z=M.prepend;M.prepend=function(...et){et.forEach(ht=>{"string"==typeof ht&&(ht=this.ownerDocument.createTextNode(ht));const Bt=ht["s-sn"]=za(ht),Mt=Sa(this.childNodes,Bt,this.tagName);if(Mt){const $t=document.createTextNode("");$t["s-nr"]=ht,Mt["s-cr"].parentNode.__appendChild($t),ht["s-ol"]=$t;const Dn=fs(Mt,Bt)[0];return dn(Dn.parentNode,ht,Dn.nextSibling)}return 1===ht.nodeType&&ht.getAttribute("slot")&&(ht.hidden=!0),Z.call(this,ht)})}},ja=M=>{M.append=function(...Z){Z.forEach(et=>{"string"==typeof et&&(et=this.ownerDocument.createTextNode(et)),this.appendChild(et)})}},Li=M=>{const Z=M.insertAdjacentHTML;M.insertAdjacentHTML=function(et,ht){if("afterbegin"!==et&&"beforeend"!==et)return Z.call(this,et,ht);const Bt=this.ownerDocument.createElement("_");let Mt;if(Bt.innerHTML=ht,"afterbegin"===et)for(;Mt=Bt.firstChild;)this.prepend(Mt);else if("beforeend"===et)for(;Mt=Bt.firstChild;)this.append(Mt)}},bi=M=>{M.insertAdjacentText=function(Z,et){this.insertAdjacentHTML(Z,et)}},Co=M=>{const Z=M.insertAdjacentElement;M.insertAdjacentElement=function(et,ht){return"afterbegin"!==et&&"beforeend"!==et?Z.call(this,et,ht):"afterbegin"===et?(this.prepend(ht),ht):("beforeend"===et&&this.append(ht),ht)}},Yi=M=>{const Z=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(M,"__textContent",Z),Object.defineProperty(M,"textContent",{get(){return" "+Po(this.childNodes).map(Bt=>{var Mt,$t;const Wt=[];let Dn=Bt.nextSibling;for(;Dn&&Dn["s-sn"]===Bt["s-sn"];)(3===Dn.nodeType||1===Dn.nodeType)&&Wt.push(null!=($t=null==(Mt=Dn.textContent)?void 0:Mt.trim())?$t:""),Dn=Dn.nextSibling;return Wt.filter(Bn=>""!==Bn).join(" ")}).filter(Bt=>""!==Bt).join(" ")+" "},set(et){Po(this.childNodes).forEach(Bt=>{let Mt=Bt.nextSibling;for(;Mt&&Mt["s-sn"]===Bt["s-sn"];){const $t=Mt;Mt=Mt.nextSibling,$t.remove()}if(""===Bt["s-sn"]){const $t=this.ownerDocument.createTextNode(et);$t["s-sn"]="",dn(Bt.parentElement,$t,Bt.nextSibling)}else Bt.remove()})}})},Ri=(M,Z)=>{class et extends Array{item(Bt){return this[Bt]}}if(8&Z.$flags$){const ht=M.__lookupGetter__("childNodes");Object.defineProperty(M,"children",{get(){return this.childNodes.map(Bt=>1===Bt.nodeType)}}),Object.defineProperty(M,"childElementCount",{get:()=>M.children.length}),Object.defineProperty(M,"childNodes",{get(){const Bt=ht.call(this);if(!(1&zt.$flags$)&&2&ce(this).$flags$){const Mt=new et;for(let $t=0;$t<Bt.length;$t++){const Wt=Bt[$t]["s-nr"];Wt&&Mt.push(Wt)}return Mt}return et.from(Bt)}})}},Po=M=>{const Z=[];for(const et of Array.from(M))et["s-sr"]&&Z.push(et),Z.push(...Po(et.childNodes));return Z},za=M=>M["s-sn"]||1===M.nodeType&&M.getAttribute("slot")||"",Sa=(M,Z,et)=>{let Bt,ht=0;for(;ht<M.length;ht++)if(Bt=M[ht],Bt["s-sr"]&&Bt["s-sn"]===Z&&Bt["s-hn"]===et||(Bt=Sa(Bt.childNodes,Z,et),Bt))return Bt;return null},fs=(M,Z)=>{const et=[M];for(;(M=M.nextSibling)&&M["s-sn"]===Z;)et.push(M);return et},Za=(M,Z={})=>{var et;const Bt=[],Mt=Z.exclude||[],$t=Ze.customElements,Wt=He.head,Dn=Wt.querySelector("meta[charset]"),Bn=He.createElement("style"),ir=[];let mr,Pr=!0;Object.assign(zt,Z),zt.$resourcesUrl$=new URL(Z.resourcesUrl||"./",He.baseURI).href,zt.$flags$|=2;let Br=!1;if(M.map(Fo=>{Fo[1].map(Go=>{var qo;const Vo={$flags$:Go[0],$tagName$:Go[1],$members$:Go[2],$listeners$:Go[3]};4&Vo.$flags$&&(Br=!0),Vo.$members$=Go[2],Vo.$listeners$=Go[3],Vo.$attrsToReflect$=[],Vo.$watchers$=null!=(qo=Go[4])?qo:{};const li=Vo.$tagName$,la=class extends HTMLElement{constructor(ci){if(super(ci),this.hasRegisteredEventListeners=!1,((M,Z)=>{const et={$flags$:0,$hostElement$:M,$cmpMeta$:Z,$instanceValues$:new Map};et.$onInstancePromise$=new Promise(ht=>et.$onInstanceResolve$=ht),et.$onReadyPromise$=new Promise(ht=>et.$onReadyResolve$=ht),M["s-p"]=[],M["s-rc"]=[],Te.set(M,et)})(ci=this,Vo),1&Vo.$flags$)if(ci.shadowRoot){if("open"!==ci.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${Vo.$tagName$}! Mode is set to ${ci.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else ci.attachShadow({mode:"open",delegatesFocus:!!(16&Vo.$flags$)})}connectedCallback(){const ci=ce(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,ba(this,ci,Vo.$listeners$)),mr&&(clearTimeout(mr),mr=null),Pr?ir.push(this):zt.jmp(()=>(M=>{if(!(1&zt.$flags$)){const Z=ce(M),et=Z.$cmpMeta$,ht=()=>{};if(1&Z.$flags$)ba(M,Z,et.$listeners$),null!=Z&&Z.$lazyInstance$?gr(Z.$lazyInstance$):null!=Z&&Z.$onReadyPromise$&&Z.$onReadyPromise$.then(()=>gr(Z.$lazyInstance$));else{let Bt;if(Z.$flags$|=1,Bt=M.getAttribute(rt),Bt){if(1&et.$flags$){const Mt=Zt(M.shadowRoot,et,M.getAttribute("s-mode"));M.classList.remove(Mt+"-h",Mt+"-s")}((M,Z,et,ht)=>{const Mt=M.shadowRoot,$t=[],Dn=Mt?[]:null,Bn=ht.$vnode$=lr(Z,null);zt.$orgLocNodes$||qr(He.body,zt.$orgLocNodes$=new Map),M[rt]=et,M.removeAttribute(rt),Ur(Bn,$t,[],Dn,M,M,et),$t.map(ir=>{const mr=ir.$hostId$+"."+ir.$nodeId$,Pr=zt.$orgLocNodes$.get(mr),Br=ir.$elm$;Pr&&""===Pr["s-en"]&&Pr.parentNode.insertBefore(Br,Pr.nextSibling),Mt||(Br["s-hn"]=Z,Pr&&(Br["s-ol"]=Pr,Br["s-ol"]["s-nr"]=Br)),zt.$orgLocNodes$.delete(mr)}),Mt&&Dn.map(ir=>{ir&&Mt.appendChild(ir)})})(M,et.$tagName$,Bt,Z)}Bt||12&et.$flags$&&no(M);{let Mt=M;for(;Mt=Mt.parentNode||Mt.host;)if(1===Mt.nodeType&&Mt.hasAttribute("s-id")&&Mt["s-p"]||Mt["s-p"]){Oe(Z,Z.$ancestorComponent$=Mt);break}}et.$members$&&Object.entries(et.$members$).map(([Mt,[$t]])=>{if(31&$t&&M.hasOwnProperty(Mt)){const Wt=M[Mt];delete M[Mt],M[Mt]=Wt}}),Er(M,Z,et)}ht()}})(this))}disconnectedCallback(){zt.jmp(()=>go(this))}componentOnReady(){return ce(this).$onReadyPromise$}};2&Vo.$flags$&&((M,Z)=>{Wr(M),Ki(M),ja(M),ea(M),Co(M),Li(M),bi(M),Yi(M),Ri(M,Z),Mi(M)})(la.prototype,Vo),Vo.$lazyBundleId$=Fo[0],!Mt.includes(li)&&!$t.get(li)&&(Bt.push(li),$t.define(li,nr(la,Vo,1)))})}),Bt.length>0&&(Br&&(Bn.textContent+=it),Bn.textContent+=Bt.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",Bn.innerHTML.length)){Bn.setAttribute("data-styles","");const Fo=null!=(et=zt.$nonce$)?et:Dr(He);null!=Fo&&Bn.setAttribute("nonce",Fo),Wt.insertBefore(Bn,Dn?Dn.nextSibling:Wt.firstChild)}Pr=!1,ir.length?ir.map(Fo=>Fo.connectedCallback()):zt.jmp(()=>mr=setTimeout(Vt,30))},ba=(M,Z,et,ht)=>{et&&et.map(([Bt,Mt,$t])=>{const Wt=se(M,Bt),Dn=B(Z,$t),Bn=Ne(Bt);zt.ael(Wt,Mt,Dn,Bn),(Z.$rmListeners$=Z.$rmListeners$||[]).push(()=>zt.rel(Wt,Mt,Dn,Bn))})},B=(M,Z)=>et=>{var ht;try{256&M.$flags$?null==(ht=M.$lazyInstance$)||ht[Z](et):(M.$queuedListeners$=M.$queuedListeners$||[]).push([Z,et])}catch(Bt){Me(Bt)}},se=(M,Z)=>4&Z?He:8&Z?Ze:16&Z?He.body:M,Ne=M=>Xn?{passive:!!(1&M),capture:!!(2&M)}:!!(2&M)},8607:(Un,Tt,F)=>{"use strict";F.r(Tt),F.d(Tt,{GESTURE_CONTROLLER:()=>x.G,createGesture:()=>Ke});var x=F(1970);const g=(Qe,Be,lt,ct)=>{const Fe=H(Qe)?{capture:!!ct.capture,passive:!!ct.passive}:!!ct.capture;let ve,wt;return Qe.__zone_symbol__addEventListener?(ve="__zone_symbol__addEventListener",wt="__zone_symbol__removeEventListener"):(ve="addEventListener",wt="removeEventListener"),Qe[ve](Be,lt,Fe),()=>{Qe[wt](Be,lt,Fe)}},H=Qe=>{if(void 0===we)try{const Be=Object.defineProperty({},"passive",{get:()=>{we=!0}});Qe.addEventListener("optsTest",()=>{},Be)}catch{we=!1}return!!we};let we;const Te=Qe=>Qe instanceof Document?Qe:Qe.ownerDocument,Ke=Qe=>{let Be=!1,lt=!1,ct=!0,Fe=!1;const ve=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Qe),wt=ve.canStart,ft=ve.onWillStart,rt=ve.onStart,Ee=ve.onEnd,ze=ve.notCaptured,oe=ve.onMove,it=ve.threshold,At=ve.passive,Ze=ve.blurOnStart,He={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},jt=((Qe,Be,lt)=>{const ct=lt*(Math.PI/180),Fe="x"===Qe,ve=Math.cos(ct),wt=Be*Be;let ft=0,rt=0,Ee=!1,ze=0;return{start(oe,it){ft=oe,rt=it,ze=0,Ee=!0},detect(oe,it){if(!Ee)return!1;const At=oe-ft,Ze=it-rt,He=At*At+Ze*Ze;if(He<wt)return!1;const jt=Math.sqrt(He),zt=(Fe?At:Ze)/jt;return ze=zt>ve?1:zt<-ve?-1:0,Ee=!1,!0},isGesture:()=>0!==ze,getDirection:()=>ze}})(ve.direction,ve.threshold,ve.maxAngle),zt=x.G.createGesture({name:Qe.gestureName,priority:Qe.gesturePriority,disableScroll:Qe.disableScroll}),Xn=()=>{Be&&(Fe=!1,oe&&oe(He))},sr=()=>!!zt.capture()&&(Be=!0,ct=!1,He.startX=He.currentX,He.startY=He.currentY,He.startTime=He.currentTime,ft?ft(He).then(We):We(),!0),We=()=>{Ze&&(()=>{if(typeof document<"u"){const Ot=document.activeElement;null!=Ot&&Ot.blur&&Ot.blur()}})(),rt&&rt(He),ct=!0},ue=()=>{Be=!1,lt=!1,Fe=!1,ct=!0,zt.release()},fe=Ot=>{const Lt=Be,un=ct;if(ue(),un){if(_t(He,Ot),Lt)return void(Ee&&Ee(He));ze&&ze(He)}},Re=((Qe,Be,lt,ct,Fe)=>{let ve,wt,ft,rt,Ee,ze,oe,it=0;const At=pt=>{it=Date.now()+2e3,Be(pt)&&(!wt&&lt&&(wt=g(Qe,"touchmove",lt,Fe)),ft||(ft=g(pt.target,"touchend",He,Fe)),rt||(rt=g(pt.target,"touchcancel",He,Fe)))},Ze=pt=>{it>Date.now()||Be(pt)&&(!ze&&lt&&(ze=g(Te(Qe),"mousemove",lt,Fe)),oe||(oe=g(Te(Qe),"mouseup",jt,Fe)))},He=pt=>{zt(),ct&&ct(pt)},jt=pt=>{Gn(),ct&&ct(pt)},zt=()=>{wt&&wt(),ft&&ft(),rt&&rt(),wt=ft=rt=void 0},Gn=()=>{ze&&ze(),oe&&oe(),ze=oe=void 0},on=()=>{zt(),Gn()},Xn=(pt=!0)=>{pt?(ve||(ve=g(Qe,"touchstart",At,Fe)),Ee||(Ee=g(Qe,"mousedown",Ze,Fe))):(ve&&ve(),Ee&&Ee(),ve=Ee=void 0,on())};return{enable:Xn,stop:on,destroy:()=>{Xn(!1),ct=lt=Be=void 0}}})(ve.el,Ot=>{const Lt=Me(Ot);return!(lt||!ct||($e(Ot,He),He.startX=He.currentX,He.startY=He.currentY,He.startTime=He.currentTime=Lt,He.velocityX=He.velocityY=He.deltaX=He.deltaY=0,He.event=Ot,wt&&!1===wt(He))||(zt.release(),!zt.start()))&&(lt=!0,0===it?sr():(jt.start(He.startX,He.startY),!0))},Ot=>{Be?!Fe&&ct&&(Fe=!0,_t(He,Ot),requestAnimationFrame(Xn)):(_t(He,Ot),jt.detect(He.currentX,He.currentY)&&(!jt.isGesture()||!sr())&&St())},fe,{capture:!1,passive:At}),St=()=>{ue(),Re.stop(),ze&&ze(He)};return{enable(Ot=!0){Ot||(Be&&fe(void 0),ue()),Re.enable(Ot)},destroy(){zt.destroy(),Re.destroy()}}},_t=(Qe,Be)=>{if(!Be)return;const lt=Qe.currentX,ct=Qe.currentY,Fe=Qe.currentTime;$e(Be,Qe);const ve=Qe.currentX,wt=Qe.currentY,rt=(Qe.currentTime=Me(Be))-Fe;if(rt>0&&rt<100){const ze=(wt-ct)/rt;Qe.velocityX=(ve-lt)/rt*.7+.3*Qe.velocityX,Qe.velocityY=.7*ze+.3*Qe.velocityY}Qe.deltaX=ve-Qe.startX,Qe.deltaY=wt-Qe.startY,Qe.event=Be},$e=(Qe,Be)=>{let lt=0,ct=0;if(Qe){const Fe=Qe.changedTouches;if(Fe&&Fe.length>0){const ve=Fe[0];lt=ve.clientX,ct=ve.clientY}else void 0!==Qe.pageX&&(lt=Qe.pageX,ct=Qe.pageY)}Be.currentX=lt,Be.currentY=ct},Me=Qe=>Qe.timeStamp||Date.now()},3604:(Un,Tt,F)=>{"use strict";F.d(Tt,{b:()=>ce,c:()=>Ke,d:()=>_t,e:()=>on,g:()=>pt,l:()=>zt,s:()=>Xn,t:()=>ve,w:()=>Gn});var x=F(467),g=F(9483),H=F(4261),we=F(4929),q=F(4920);const ce="ionViewWillLeave",Ke="ionViewDidLeave",_t="ionViewWillUnload",$e=We=>{We.tabIndex=-1,We.focus()},Me=We=>null!==We.offsetParent,Be="ion-last-focus",Fe_saveViewFocus=fe=>{if(g.c.get("focusManagerPriority",!1)){const St=document.activeElement;null!==St&&null!=fe&&fe.contains(St)&&St.setAttribute(Be,"true")}},Fe_setViewFocus=fe=>{const Re=g.c.get("focusManagerPriority",!1);if(Array.isArray(Re)&&!fe.contains(document.activeElement)){const St=fe.querySelector(`[${Be}]`);if(St&&Me(St))return void $e(St);for(const Ot of Re)switch(Ot){case"content":const Lt=fe.querySelector('main, [role="main"]');if(Lt&&Me(Lt))return void $e(Lt);break;case"heading":const un=fe.querySelector('h1, [role="heading"][aria-level="1"]');if(un&&Me(un))return void $e(un);break;case"banner":const Yt=fe.querySelector('header, [role="banner"]');if(Yt&&Me(Yt))return void $e(Yt);break;default:(0,we.p)(`Unrecognized focus manager priority value ${Ot}`)}$e(fe)}},ve=We=>new Promise((ue,fe)=>{(0,H.w)(()=>{wt(We),ft(We).then(Re=>{Re.animation&&Re.animation.destroy(),rt(We),ue(Re)},Re=>{rt(We),fe(Re)})})}),wt=We=>{const ue=We.enteringEl,fe=We.leavingEl;Fe_saveViewFocus(fe),sr(ue,fe,We.direction),We.showGoBack?ue.classList.add("can-go-back"):ue.classList.remove("can-go-back"),Xn(ue,!1),ue.style.setProperty("pointer-events","none"),fe&&(Xn(fe,!1),fe.style.setProperty("pointer-events","none"))},ft=function(){var We=(0,x.A)(function*(ue){const fe=yield Ee(ue);return fe&&H.B.isBrowser?ze(fe,ue):oe(ue)});return function(fe){return We.apply(this,arguments)}}(),rt=We=>{const ue=We.enteringEl,fe=We.leavingEl;ue.classList.remove("ion-page-invisible"),ue.style.removeProperty("pointer-events"),void 0!==fe&&(fe.classList.remove("ion-page-invisible"),fe.style.removeProperty("pointer-events")),Fe_setViewFocus(ue)},Ee=function(){var We=(0,x.A)(function*(ue){return ue.leavingEl&&ue.animated&&0!==ue.duration?ue.animationBuilder?ue.animationBuilder:"ios"===ue.mode?(yield Promise.resolve().then(F.bind(F,5022))).iosTransitionAnimation:(yield Promise.resolve().then(F.bind(F,3615))).mdTransitionAnimation:void 0});return function(fe){return We.apply(this,arguments)}}(),ze=function(){var We=(0,x.A)(function*(ue,fe){yield it(fe,!0);const Re=ue(fe.baseEl,fe);He(fe.enteringEl,fe.leavingEl);const St=yield Ze(Re,fe);return fe.progressCallback&&fe.progressCallback(void 0),St&&jt(fe.enteringEl,fe.leavingEl),{hasCompleted:St,animation:Re}});return function(fe,Re){return We.apply(this,arguments)}}(),oe=function(){var We=(0,x.A)(function*(ue){const fe=ue.enteringEl,Re=ue.leavingEl,St=g.c.get("focusManagerPriority",!1);return yield it(ue,St),He(fe,Re),jt(fe,Re),{hasCompleted:!0}});return function(fe){return We.apply(this,arguments)}}(),it=function(){var We=(0,x.A)(function*(ue,fe){(void 0!==ue.deepWait?ue.deepWait:fe)&&(yield Promise.all([on(ue.enteringEl),on(ue.leavingEl)])),yield At(ue.viewIsReady,ue.enteringEl)});return function(fe,Re){return We.apply(this,arguments)}}(),At=function(){var We=(0,x.A)(function*(ue,fe){ue&&(yield ue(fe))});return function(fe,Re){return We.apply(this,arguments)}}(),Ze=(We,ue)=>{const fe=ue.progressCallback,Re=new Promise(St=>{We.onFinish(Ot=>St(1===Ot))});return fe?(We.progressStart(!0),fe(We)):We.play(),Re},He=(We,ue)=>{zt(ue,ce),zt(We,"ionViewWillEnter")},jt=(We,ue)=>{zt(We,"ionViewDidEnter"),zt(ue,Ke)},zt=(We,ue)=>{if(We){const fe=new CustomEvent(ue,{bubbles:!1,cancelable:!1});We.dispatchEvent(fe)}},Gn=()=>new Promise(We=>(0,q.r)(()=>(0,q.r)(()=>We()))),on=function(){var We=(0,x.A)(function*(ue){const fe=ue;if(fe){if(null!=fe.componentOnReady){if(null!=(yield fe.componentOnReady()))return}else if(null!=fe.__registerHost)return void(yield new Promise(St=>(0,q.r)(St)));yield Promise.all(Array.from(fe.children).map(on))}});return function(fe){return We.apply(this,arguments)}}(),Xn=(We,ue)=>{ue?(We.setAttribute("aria-hidden","true"),We.classList.add("ion-page-hidden")):(We.hidden=!1,We.removeAttribute("aria-hidden"),We.classList.remove("ion-page-hidden"))},sr=(We,ue,fe)=>{void 0!==We&&(We.style.zIndex="back"===fe?"99":"101"),void 0!==ue&&(ue.style.zIndex="100")},pt=We=>We.classList.contains("ion-page")?We:We.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||We},4929:(Un,Tt,F)=>{"use strict";F.d(Tt,{a:()=>g,b:()=>H,p:()=>x});const x=(we,...q)=>console.warn(`[Ionic Warning]: ${we}`,...q),g=(we,...q)=>console.error(`[Ionic Error]: ${we}`,...q),H=(we,...q)=>console.error(`<${we.tagName.toLowerCase()}> must be used inside ${q.join(" or ")}.`)},8476:(Un,Tt,F)=>{"use strict";F.d(Tt,{d:()=>g,w:()=>x});const x=typeof window<"u"?window:void 0,g=typeof document<"u"?document:void 0},9568:(Un,Tt,F)=>{"use strict";F.d(Tt,{m:()=>Qe});var x=F(467),g=F(8476),H=F(7192),we=F(4929),q=F(4920),S=F(9483),Te=F(9986);const ce=Be=>(0,Te.c)().duration(Be?400:300),Ke=Be=>{let lt,ct;const Fe=Be.width+8,ve=(0,Te.c)(),wt=(0,Te.c)();Be.isEndSide?(lt=Fe+"px",ct="0px"):(lt=-Fe+"px",ct="0px"),ve.addElement(Be.menuInnerEl).fromTo("transform",`translateX(${lt})`,`translateX(${ct})`);const rt="ios"===(0,S.b)(Be),Ee=rt?.2:.25;return wt.addElement(Be.backdropEl).fromTo("opacity",.01,Ee),ce(rt).addAnimation([ve,wt])},_t=Be=>{let lt,ct;const Fe=(0,S.b)(Be),ve=Be.width;Be.isEndSide?(lt=-ve+"px",ct=ve+"px"):(lt=ve+"px",ct=-ve+"px");const wt=(0,Te.c)().addElement(Be.menuInnerEl).fromTo("transform",`translateX(${ct})`,"translateX(0px)"),ft=(0,Te.c)().addElement(Be.contentEl).fromTo("transform","translateX(0px)",`translateX(${lt})`),rt=(0,Te.c)().addElement(Be.backdropEl).fromTo("opacity",.01,.32);return ce("ios"===Fe).addAnimation([wt,ft,rt])},$e=Be=>{const lt=(0,S.b)(Be),ct=Be.width*(Be.isEndSide?-1:1)+"px",Fe=(0,Te.c)().addElement(Be.contentEl).fromTo("transform","translateX(0px)",`translateX(${ct})`);return ce("ios"===lt).addAnimation(Fe)},Qe=(()=>{const Be=new Map,lt=[],ct=function(){var ue=(0,x.A)(function*(fe){const Re=yield ze(fe,!0);return!!Re&&Re.open()});return function(Re){return ue.apply(this,arguments)}}(),Fe=function(){var ue=(0,x.A)(function*(fe){const Re=yield void 0!==fe?ze(fe,!0):oe();return void 0!==Re&&Re.close()});return function(Re){return ue.apply(this,arguments)}}(),ve=function(){var ue=(0,x.A)(function*(fe){const Re=yield ze(fe,!0);return!!Re&&Re.toggle()});return function(Re){return ue.apply(this,arguments)}}(),wt=function(){var ue=(0,x.A)(function*(fe,Re){const St=yield ze(Re);return St&&(St.disabled=!fe),St});return function(Re,St){return ue.apply(this,arguments)}}(),ft=function(){var ue=(0,x.A)(function*(fe,Re){const St=yield ze(Re);return St&&(St.swipeGesture=fe),St});return function(Re,St){return ue.apply(this,arguments)}}(),rt=function(){var ue=(0,x.A)(function*(fe){if(null!=fe){const Re=yield ze(fe);return void 0!==Re&&Re.isOpen()}return void 0!==(yield oe())});return function(Re){return ue.apply(this,arguments)}}(),Ee=function(){var ue=(0,x.A)(function*(fe){const Re=yield ze(fe);return!!Re&&!Re.disabled});return function(Re){return ue.apply(this,arguments)}}(),ze=function(){var ue=(0,x.A)(function*(fe,Re=!1){if(yield We(),"start"===fe||"end"===fe){const Ot=lt.filter(un=>un.side===fe&&!un.disabled);if(Ot.length>=1)return Ot.length>1&&Re&&(0,we.p)(`menuController queried for a menu on the "${fe}" side, but ${Ot.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ot.map(un=>un.el)),Ot[0].el;const Lt=lt.filter(un=>un.side===fe);if(Lt.length>=1)return Lt.length>1&&Re&&(0,we.p)(`menuController queried for a menu on the "${fe}" side, but ${Lt.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Lt.map(un=>un.el)),Lt[0].el}else if(null!=fe)return pt(Ot=>Ot.menuId===fe);return pt(Ot=>!Ot.disabled)||(lt.length>0?lt[0].el:void 0)});return function(Re){return ue.apply(this,arguments)}}(),oe=function(){var ue=(0,x.A)(function*(){return yield We(),on()});return function(){return ue.apply(this,arguments)}}(),it=function(){var ue=(0,x.A)(function*(){return yield We(),Xn()});return function(){return ue.apply(this,arguments)}}(),At=function(){var ue=(0,x.A)(function*(){return yield We(),sr()});return function(){return ue.apply(this,arguments)}}(),Ze=(ue,fe)=>{Be.set(ue,fe)},zt=function(){var ue=(0,x.A)(function*(fe,Re,St){if(sr())return!1;if(Re){const Ot=yield oe();Ot&&fe.el!==Ot&&(yield Ot.setOpen(!1,!1))}return fe._setOpen(Re,St)});return function(Re,St,Ot){return ue.apply(this,arguments)}}(),on=()=>pt(ue=>ue._isOpen),Xn=()=>lt.map(ue=>ue.el),sr=()=>lt.some(ue=>ue.isAnimating),pt=ue=>{const fe=lt.find(ue);if(void 0!==fe)return fe.el},We=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ue=>new Promise(fe=>(0,q.c)(ue,fe))));return Ze("reveal",$e),Ze("push",_t),Ze("overlay",Ke),null==g.d||g.d.addEventListener("ionBackButton",ue=>{const fe=on();fe&&ue.detail.register(H.MENU_BACK_BUTTON_PRIORITY,()=>fe.close())}),{registerAnimation:Ze,get:ze,getMenus:it,getOpen:oe,isEnabled:Ee,swipeGesture:ft,isAnimating:At,isOpen:rt,enable:wt,toggle:ve,close:Fe,open:ct,_getOpenSync:on,_createAnimation:(ue,fe)=>{const Re=Be.get(ue);if(!Re)throw new Error("animation not registered");return Re(fe)},_register:ue=>{lt.indexOf(ue)<0&&lt.push(ue)},_unregister:ue=>{const fe=lt.indexOf(ue);fe>-1&&lt.splice(fe,1)},_setOpen:zt}})()},9483:(Un,Tt,F)=>{"use strict";F.d(Tt,{a:()=>$e,b:()=>Xn,c:()=>H,i:()=>sr});var x=F(4261);class g{constructor(){this.m=new Map}reset(We){this.m=new Map(Object.entries(We))}get(We,ue){const fe=this.m.get(We);return void 0!==fe?fe:ue}getBoolean(We,ue=!1){const fe=this.m.get(We);return void 0===fe?ue:"string"==typeof fe?"true"===fe:!!fe}getNumber(We,ue){const fe=parseFloat(this.m.get(We));return isNaN(fe)?void 0!==ue?ue:NaN:fe}set(We,ue){this.m.set(We,ue)}}const H=new g,Ke="ionic-persist-config",$e=(pt,We)=>("string"==typeof pt&&(We=pt,pt=void 0),(pt=>Me(pt))(pt).includes(We)),Me=(pt=window)=>{if(typeof pt>"u")return[];pt.Ionic=pt.Ionic||{};let We=pt.Ionic.platforms;return null==We&&(We=pt.Ionic.platforms=Qe(pt),We.forEach(ue=>pt.document.documentElement.classList.add(`plt-${ue}`))),We},Qe=pt=>{const We=H.get("platform");return Object.keys(Gn).filter(ue=>{const fe=null==We?void 0:We[ue];return"function"==typeof fe?fe(pt):Gn[ue](pt)})},lt=pt=>!!(jt(pt,/iPad/i)||jt(pt,/Macintosh/i)&&Ee(pt)),ve=pt=>jt(pt,/android|sink/i),Ee=pt=>zt(pt,"(any-pointer:coarse)"),oe=pt=>it(pt)||At(pt),it=pt=>!!(pt.cordova||pt.phonegap||pt.PhoneGap),At=pt=>{const We=pt.Capacitor;return!(null==We||!We.isNative)},jt=(pt,We)=>We.test(pt.navigator.userAgent),zt=(pt,We)=>{var ue;return null===(ue=pt.matchMedia)||void 0===ue?void 0:ue.call(pt,We).matches},Gn={ipad:lt,iphone:pt=>jt(pt,/iPhone/i),ios:pt=>jt(pt,/iPhone|iPod/i)||lt(pt),android:ve,phablet:pt=>{const We=pt.innerWidth,ue=pt.innerHeight,fe=Math.min(We,ue),Re=Math.max(We,ue);return fe>390&&fe<520&&Re>620&&Re<800},tablet:pt=>{const We=pt.innerWidth,ue=pt.innerHeight,fe=Math.min(We,ue),Re=Math.max(We,ue);return lt(pt)||(pt=>ve(pt)&&!jt(pt,/mobile/i))(pt)||fe>460&&fe<820&&Re>780&&Re<1400},cordova:it,capacitor:At,electron:pt=>jt(pt,/electron/i),pwa:pt=>{var We;return!!(null!==(We=pt.matchMedia)&&void 0!==We&&We.call(pt,"(display-mode: standalone)").matches||pt.navigator.standalone)},mobile:Ee,mobileweb:pt=>Ee(pt)&&!oe(pt),desktop:pt=>!Ee(pt),hybrid:oe};let on;const Xn=pt=>pt&&(0,x.g)(pt)||on,sr=(pt={})=>{if(typeof window>"u")return;const We=window.document,ue=window,fe=ue.Ionic=ue.Ionic||{},Re={};pt._ael&&(Re.ael=pt._ael),pt._rel&&(Re.rel=pt._rel),pt._ce&&(Re.ce=pt._ce),(0,x.a)(Re);const St=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(pt=>{try{const We=pt.sessionStorage.getItem(Ke);return null!==We?JSON.parse(We):{}}catch{return{}}})(ue)),{persistConfig:!1}),fe.config),(pt=>{const We={};return pt.location.search.slice(1).split("&").map(ue=>ue.split("=")).map(([ue,fe])=>{try{return[decodeURIComponent(ue),decodeURIComponent(fe)]}catch{return["",""]}}).filter(([ue])=>((pt,We)=>pt.substr(0,We.length)===We)(ue,"ionic:")).map(([ue,fe])=>[ue.slice(6),fe]).forEach(([ue,fe])=>{We[ue]=fe}),We})(ue)),pt);H.reset(St),H.getBoolean("persistConfig")&&((pt,We)=>{try{pt.sessionStorage.setItem(Ke,JSON.stringify(We))}catch{return}})(ue,St),Me(ue),fe.config=H,fe.mode=on=H.get("mode",We.documentElement.getAttribute("mode")||($e(ue,"ios")?"ios":"md")),H.set("mode",on),We.documentElement.setAttribute("mode",on),We.documentElement.classList.add(on),H.getBoolean("_testing")&&H.set("animated",!1);const Ot=un=>{var Yt;return null===(Yt=un.tagName)||void 0===Yt?void 0:Yt.startsWith("ION-")},Lt=un=>["ios","md"].includes(un);(0,x.c)(un=>{for(;un;){const Yt=un.mode||un.getAttribute("mode");if(Yt){if(Lt(Yt))return Yt;Ot(un)&&console.warn('Invalid ionic mode: "'+Yt+'", expected: "ios" or "md"')}un=un.parentElement}return on})}},5022:(Un,Tt,F)=>{"use strict";F.r(Tt),F.d(Tt,{iosTransitionAnimation:()=>Be,shadow:()=>ce});var x=F(9986),g=F(3604);F(8476),F(9483),F(4261);const Te=ct=>document.querySelector(`${ct}.ion-cloned-element`),ce=ct=>ct.shadowRoot||ct,Ke=ct=>{const Fe="ION-TABS"===ct.tagName?ct:ct.querySelector("ion-tabs"),ve="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Fe){const wt=Fe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=wt?wt.querySelector(ve):null}return ct.querySelector(ve)},_t=(ct,Fe)=>{const ve="ION-TABS"===ct.tagName?ct:ct.querySelector("ion-tabs");let wt=[];if(null!=ve){const ft=ve.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=ft&&(wt=ft.querySelectorAll("ion-buttons"))}else wt=ct.querySelectorAll("ion-buttons");for(const ft of wt){const rt=ft.closest("ion-header"),Ee=rt&&!rt.classList.contains("header-collapse-condense-inactive"),ze=ft.querySelector("ion-back-button"),oe=ft.classList.contains("buttons-collapse");if(null!==ze&&("start"===ft.slot||""===ft.slot)&&(oe&&Ee&&Fe||!oe))return ze}return null},Me=(ct,Fe,ve,wt,ft,rt,Ee,ze,oe)=>{var it,At;const Ze=Fe?`calc(100% - ${ft.right+4}px)`:ft.left-4+"px",He=Fe?"right":"left",jt=Fe?"left":"right",zt=Fe?"right":"left";let Gn=1,on=1,Xn=`scale(${on})`;const sr="scale(1)";if(rt&&Ee){const nn=(null===(it=rt.textContent)||void 0===it?void 0:it.trim())===(null===(At=ze.textContent)||void 0===At?void 0:At.trim());Gn=oe.width/Ee.width,on=(oe.height-lt)/Ee.height,Xn=nn?`scale(${Gn}, ${on})`:`scale(${on})`}const We=ce(wt).querySelector("ion-icon").getBoundingClientRect(),ue=Fe?We.width/2-(We.right-ft.right)+"px":ft.left-We.width/2+"px",fe=Fe?`-${window.innerWidth-ft.right}px`:`${ft.left}px`,Re=`${oe.top}px`,St=`${ft.top}px`,un=ve?[{offset:0,transform:`translate3d(${fe}, ${St}, 0)`},{offset:1,transform:`translate3d(${ue}, ${Re}, 0)`}]:[{offset:0,transform:`translate3d(${ue}, ${Re}, 0)`},{offset:1,transform:`translate3d(${fe}, ${St}, 0)`}],Qn=ve?[{offset:0,opacity:1,transform:sr},{offset:1,opacity:0,transform:Xn}]:[{offset:0,opacity:0,transform:Xn},{offset:1,opacity:1,transform:sr}],Xr=ve?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],dr=(0,x.c)(),Dr=(0,x.c)(),vr=(0,x.c)(),pr=Te("ion-back-button"),Kr=ce(pr).querySelector(".button-text"),xn=ce(pr).querySelector("ion-icon");pr.text=wt.text,pr.mode=wt.mode,pr.icon=wt.icon,pr.color=wt.color,pr.disabled=wt.disabled,pr.style.setProperty("display","block"),pr.style.setProperty("position","fixed"),Dr.addElement(xn),dr.addElement(Kr),vr.addElement(pr),vr.beforeStyles({position:"absolute",top:"0px",[zt]:"0px"}).beforeAddWrite(()=>{wt.style.setProperty("display","none"),pr.style.setProperty(He,Ze)}).afterAddWrite(()=>{wt.style.setProperty("display",""),pr.style.setProperty("display","none"),pr.style.removeProperty(He)}).keyframes(un),dr.beforeStyles({"transform-origin":`${He} top`}).keyframes(Qn),Dr.beforeStyles({"transform-origin":`${jt} center`}).keyframes(Xr),ct.addAnimation([dr,Dr,vr])},Qe=(ct,Fe,ve,wt,ft,rt,Ee,ze,oe)=>{var it,At;const Ze=Fe?"right":"left",He=Fe?`calc(100% - ${ft.right}px)`:`${ft.left}px`,zt=`${ft.top}px`;let on=Fe?`-${window.innerWidth-Ee.right-8}px`:`${Ee.x+8}px`,Xn=.5;const sr="scale(1)";let pt=`scale(${Xn})`;if(ze&&oe){on=Fe?`-${window.innerWidth-oe.right-8}px`:oe.x-8+"px";const Yt=(null===(it=ze.textContent)||void 0===it?void 0:it.trim())===(null===(At=wt.textContent)||void 0===At?void 0:At.trim());Xn=oe.height/(rt.height-lt),pt=Yt?`scale(${oe.width/rt.width}, ${Xn})`:`scale(${Xn})`}const fe=Ee.top+Ee.height/2-ft.height*Xn/2+"px",Ot=ve?[{offset:0,opacity:0,transform:`translate3d(${on}, ${fe}, 0) ${pt}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${zt}, 0) ${sr}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${zt}, 0) ${sr}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${on}, ${fe}, 0) ${pt}`}],Lt=Te("ion-title"),un=(0,x.c)();Lt.innerText=wt.innerText,Lt.size=wt.size,Lt.color=wt.color,un.addElement(Lt),un.beforeStyles({"transform-origin":`${Ze} top`,height:`${ft.height}px`,display:"",position:"relative",[Ze]:He}).beforeAddWrite(()=>{wt.style.setProperty("opacity","0")}).afterAddWrite(()=>{wt.style.setProperty("opacity",""),Lt.style.setProperty("display","none")}).keyframes(Ot),ct.addAnimation(un)},Be=(ct,Fe)=>{var ve;try{const wt="cubic-bezier(0.32,0.72,0,1)",ft="opacity",rt="transform",Ee="0%",oe="rtl"===ct.ownerDocument.dir,it=oe?"-99.5%":"99.5%",At=oe?"33%":"-33%",Ze=Fe.enteringEl,He=Fe.leavingEl,jt="back"===Fe.direction,zt=Ze.querySelector(":scope > ion-content"),Gn=Ze.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),on=Ze.querySelectorAll(":scope > ion-header > ion-toolbar"),Xn=(0,x.c)(),sr=(0,x.c)();if(Xn.addElement(Ze).duration((null!==(ve=Fe.duration)&&void 0!==ve?ve:0)||540).easing(Fe.easing||wt).fill("both").beforeRemoveClass("ion-page-invisible"),He&&null!=ct){const fe=(0,x.c)();fe.addElement(ct),Xn.addAnimation(fe)}if(zt||0!==on.length||0!==Gn.length?(sr.addElement(zt),sr.addElement(Gn)):sr.addElement(Ze.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Xn.addAnimation(sr),jt?sr.beforeClearStyles([ft]).fromTo("transform",`translateX(${At})`,`translateX(${Ee})`).fromTo(ft,.8,1):sr.beforeClearStyles([ft]).fromTo("transform",`translateX(${it})`,`translateX(${Ee})`),zt){const fe=ce(zt).querySelector(".transition-effect");if(fe){const Re=fe.querySelector(".transition-cover"),St=fe.querySelector(".transition-shadow"),Ot=(0,x.c)(),Lt=(0,x.c)(),un=(0,x.c)();Ot.addElement(fe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Lt.addElement(Re).beforeClearStyles([ft]).fromTo(ft,0,.1),un.addElement(St).beforeClearStyles([ft]).fromTo(ft,.03,.7),Ot.addAnimation([Lt,un]),sr.addAnimation([Ot])}}const pt=Ze.querySelector("ion-header.header-collapse-condense"),{forward:We,backward:ue}=((ct,Fe,ve,wt,ft)=>{const rt=_t(wt,ve),Ee=Ke(ft),ze=Ke(wt),oe=_t(ft,ve),it=null!==rt&&null!==Ee&&!ve,At=null!==ze&&null!==oe&&ve;if(it){const Ze=Ee.getBoundingClientRect(),He=rt.getBoundingClientRect(),jt=ce(rt).querySelector(".button-text"),zt=null==jt?void 0:jt.getBoundingClientRect(),on=ce(Ee).querySelector(".toolbar-title").getBoundingClientRect();Qe(ct,Fe,ve,Ee,Ze,on,He,jt,zt),Me(ct,Fe,ve,rt,He,jt,zt,Ee,on)}else if(At){const Ze=ze.getBoundingClientRect(),He=oe.getBoundingClientRect(),jt=ce(oe).querySelector(".button-text"),zt=null==jt?void 0:jt.getBoundingClientRect(),on=ce(ze).querySelector(".toolbar-title").getBoundingClientRect();Qe(ct,Fe,ve,ze,Ze,on,He,jt,zt),Me(ct,Fe,ve,oe,He,jt,zt,ze,on)}return{forward:it,backward:At}})(Xn,oe,jt,Ze,He);if(on.forEach(fe=>{const Re=(0,x.c)();Re.addElement(fe),Xn.addAnimation(Re);const St=(0,x.c)();St.addElement(fe.querySelector("ion-title"));const Ot=(0,x.c)(),Lt=Array.from(fe.querySelectorAll("ion-buttons,[menuToggle]")),un=fe.closest("ion-header"),Yt=null==un?void 0:un.classList.contains("header-collapse-condense-inactive");let hr;hr=Lt.filter(jt?dr=>{const Dr=dr.classList.contains("buttons-collapse");return Dr&&!Yt||!Dr}:dr=>!dr.classList.contains("buttons-collapse")),Ot.addElement(hr);const Qn=(0,x.c)();Qn.addElement(fe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const In=(0,x.c)();In.addElement(ce(fe).querySelector(".toolbar-background"));const _r=(0,x.c)(),Xr=fe.querySelector("ion-back-button");if(Xr&&_r.addElement(Xr),Re.addAnimation([St,Ot,Qn,In,_r]),Ot.fromTo(ft,.01,1),Qn.fromTo(ft,.01,1),jt)Yt||St.fromTo("transform",`translateX(${At})`,`translateX(${Ee})`).fromTo(ft,.01,1),Qn.fromTo("transform",`translateX(${At})`,`translateX(${Ee})`),_r.fromTo(ft,.01,1);else if(pt||St.fromTo("transform",`translateX(${it})`,`translateX(${Ee})`).fromTo(ft,.01,1),Qn.fromTo("transform",`translateX(${it})`,`translateX(${Ee})`),In.beforeClearStyles([ft,"transform"]),(null==un?void 0:un.translucent)?In.fromTo("transform",oe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):In.fromTo(ft,.01,"var(--opacity)"),We||_r.fromTo(ft,.01,1),Xr&&!We){const Dr=(0,x.c)();Dr.addElement(ce(Xr).querySelector(".button-text")).fromTo("transform",oe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Re.addAnimation(Dr)}}),He){const fe=(0,x.c)(),Re=He.querySelector(":scope > ion-content"),St=He.querySelectorAll(":scope > ion-header > ion-toolbar"),Ot=He.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Re||0!==St.length||0!==Ot.length?(fe.addElement(Re),fe.addElement(Ot)):fe.addElement(He.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Xn.addAnimation(fe),jt){fe.beforeClearStyles([ft]).fromTo("transform",`translateX(${Ee})`,oe?"translateX(-100%)":"translateX(100%)");const Lt=(0,g.g)(He);Xn.afterAddWrite(()=>{"normal"===Xn.getDirection()&&Lt.style.setProperty("display","none")})}else fe.fromTo("transform",`translateX(${Ee})`,`translateX(${At})`).fromTo(ft,1,.8);if(Re){const Lt=ce(Re).querySelector(".transition-effect");if(Lt){const un=Lt.querySelector(".transition-cover"),Yt=Lt.querySelector(".transition-shadow"),hr=(0,x.c)(),Qn=(0,x.c)(),In=(0,x.c)();hr.addElement(Lt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Qn.addElement(un).beforeClearStyles([ft]).fromTo(ft,.1,0),In.addElement(Yt).beforeClearStyles([ft]).fromTo(ft,.7,.03),hr.addAnimation([Qn,In]),fe.addAnimation([hr])}}St.forEach(Lt=>{const un=(0,x.c)();un.addElement(Lt);const Yt=(0,x.c)();Yt.addElement(Lt.querySelector("ion-title"));const hr=(0,x.c)(),Qn=Lt.querySelectorAll("ion-buttons,[menuToggle]"),In=Lt.closest("ion-header"),_r=null==In?void 0:In.classList.contains("header-collapse-condense-inactive"),Xr=Array.from(Qn).filter(xn=>{const nn=xn.classList.contains("buttons-collapse");return nn&&!_r||!nn});hr.addElement(Xr);const dr=(0,x.c)(),Dr=Lt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Dr.length>0&&dr.addElement(Dr);const vr=(0,x.c)();vr.addElement(ce(Lt).querySelector(".toolbar-background"));const pr=(0,x.c)(),Kr=Lt.querySelector("ion-back-button");if(Kr&&pr.addElement(Kr),un.addAnimation([Yt,hr,dr,pr,vr]),Xn.addAnimation(un),pr.fromTo(ft,.99,0),hr.fromTo(ft,.99,0),dr.fromTo(ft,.99,0),jt){if(_r||Yt.fromTo("transform",`translateX(${Ee})`,oe?"translateX(-100%)":"translateX(100%)").fromTo(ft,.99,0),dr.fromTo("transform",`translateX(${Ee})`,oe?"translateX(-100%)":"translateX(100%)"),vr.beforeClearStyles([ft,"transform"]),(null==In?void 0:In.translucent)?vr.fromTo("transform","translateX(0px)",oe?"translateX(-100%)":"translateX(100%)"):vr.fromTo(ft,"var(--opacity)",0),Kr&&!ue){const nn=(0,x.c)();nn.addElement(ce(Kr).querySelector(".button-text")).fromTo("transform",`translateX(${Ee})`,`translateX(${(oe?-124:124)+"px"})`),un.addAnimation(nn)}}else _r||Yt.fromTo("transform",`translateX(${Ee})`,`translateX(${At})`).fromTo(ft,.99,0).afterClearStyles([rt,ft]),dr.fromTo("transform",`translateX(${Ee})`,`translateX(${At})`).afterClearStyles([rt,ft]),pr.afterClearStyles([ft]),Yt.afterClearStyles([ft]),hr.afterClearStyles([ft])})}return Xn}catch(wt){throw wt}},lt=10},3615:(Un,Tt,F)=>{"use strict";F.r(Tt),F.d(Tt,{mdTransitionAnimation:()=>S});var x=F(9986),g=F(3604);F(8476),F(9483),F(4261);const S=(Te,ce)=>{var Ke,_t,$e;const Be="back"===ce.direction,ct=ce.leavingEl,Fe=(0,g.g)(ce.enteringEl),ve=Fe.querySelector("ion-toolbar"),wt=(0,x.c)();if(wt.addElement(Fe).fill("both").beforeRemoveClass("ion-page-invisible"),Be?wt.duration((null!==(Ke=ce.duration)&&void 0!==Ke?Ke:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):wt.duration((null!==(_t=ce.duration)&&void 0!==_t?_t:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),ve){const ft=(0,x.c)();ft.addElement(ve),wt.addAnimation(ft)}if(ct&&Be){wt.duration((null!==($e=ce.duration)&&void 0!==$e?$e:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const ft=(0,x.c)();ft.addElement((0,g.g)(ct)).onFinish(rt=>{1===rt&&ft.elements.length>0&&ft.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),wt.addAnimation(ft)}return wt}},5229:(Un,Tt,F)=>{"use strict";F.d(Tt,{B:()=>Qn,F:()=>Kr,G:()=>In,O:()=>_r,a:()=>Fe,b:()=>ve,c:()=>Ee,d:()=>Xr,e:()=>dr,f:()=>We,g:()=>fe,h:()=>Ot,i:()=>un,j:()=>oe,k:()=>it,l:()=>wt,m:()=>ft,n:()=>_t,o:()=>sr,q:()=>$e,s:()=>hr});var x=F(467),g=F(8476),H=F(4920),we=F(7192),q=F(9483),S=F(8621),Te=F(1970),ce=F(4929);const Ke='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',_t=(xn,nn)=>{const sn=xn.querySelector(Ke);Me(sn,null!=nn?nn:xn)},$e=(xn,nn)=>{const sn=Array.from(xn.querySelectorAll(Ke));Me(sn.length>0?sn[sn.length-1]:null,null!=nn?nn:xn)},Me=(xn,nn)=>{let sn=xn;const qt=null==xn?void 0:xn.shadowRoot;qt&&(sn=qt.querySelector(Ke)||xn),sn?(0,H.f)(sn):nn.focus()};let Qe=0,Be=0;const lt=new WeakMap,ct=xn=>({create:nn=>At(xn,nn),dismiss:(nn,sn,qt)=>Gn(document,nn,sn,xn,qt),getTop:()=>(0,x.A)(function*(){return sr(document,xn)})()}),Fe=ct("ion-alert"),ve=ct("ion-action-sheet"),wt=ct("ion-loading"),ft=ct("ion-modal"),Ee=ct("ion-popover"),oe=xn=>{typeof document<"u"&&zt(document);const nn=Qe++;xn.overlayIndex=nn},it=xn=>(xn.hasAttribute("id")||(xn.id="ion-overlay-"+ ++Be),xn.id),At=(xn,nn)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(xn).then(()=>{const sn=document.createElement(xn);return sn.classList.add("overlay-hidden"),Object.assign(sn,Object.assign(Object.assign({},nn),{hasController:!0})),Re(document).appendChild(sn),new Promise(qt=>(0,H.c)(sn,qt))}):Promise.resolve(),He=(xn,nn)=>{let sn=xn;const qt=null==xn?void 0:xn.shadowRoot;qt&&(sn=qt.querySelector(Ke)||xn),sn?(0,H.f)(sn):nn.focus()},zt=xn=>{0===Qe&&(Qe=1,xn.addEventListener("focus",nn=>{((xn,nn)=>{const sn=sr(nn,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),qt=xn.target;sn&&qt&&!sn.classList.contains(Kr)&&(sn.shadowRoot?(()=>{if(sn.contains(qt))sn.lastFocus=qt;else if("ION-TOAST"===qt.tagName)He(sn.lastFocus,sn);else{const lr=sn.lastFocus;_t(sn),lr===nn.activeElement&&$e(sn),sn.lastFocus=nn.activeElement}})():(()=>{if(sn===qt)sn.lastFocus=void 0;else if("ION-TOAST"===qt.tagName)He(sn.lastFocus,sn);else{const lr=(0,H.g)(sn);if(!lr.contains(qt))return;const fr=lr.querySelector(".ion-overlay-wrapper");if(!fr)return;if(fr.contains(qt)||qt===lr.querySelector("ion-backdrop"))sn.lastFocus=qt;else{const uo=sn.lastFocus;_t(fr,sn),uo===nn.activeElement&&$e(fr,sn),sn.lastFocus=nn.activeElement}}})())})(nn,xn)},!0),xn.addEventListener("ionBackButton",nn=>{const sn=sr(xn);null!=sn&&sn.backdropDismiss&&nn.detail.register(we.OVERLAY_BACK_BUTTON_PRIORITY,()=>{sn.dismiss(void 0,Qn)})}),(0,we.shouldUseCloseWatcher)()||xn.addEventListener("keydown",nn=>{if("Escape"===nn.key){const sn=sr(xn);null!=sn&&sn.backdropDismiss&&sn.dismiss(void 0,Qn)}}))},Gn=(xn,nn,sn,qt,Fr)=>{const kr=sr(xn,qt,Fr);return kr?kr.dismiss(nn,sn):Promise.reject("overlay does not exist")},Xn=(xn,nn)=>((xn,nn)=>(void 0===nn&&(nn="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(xn.querySelectorAll(nn)).filter(sn=>sn.overlayIndex>0)))(xn,nn).filter(sn=>!(xn=>xn.classList.contains("overlay-hidden"))(sn)),sr=(xn,nn,sn)=>{const qt=Xn(xn,nn);return void 0===sn?qt[qt.length-1]:qt.find(Fr=>Fr.id===sn)},pt=(xn=!1)=>{const sn=Re(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");sn&&(xn?sn.setAttribute("aria-hidden","true"):sn.removeAttribute("aria-hidden"))},We=function(){var xn=(0,x.A)(function*(nn,sn,qt,Fr,kr){var lr,fr;if(nn.presented)return;"ION-TOAST"!==nn.el.tagName&&pt(!0),document.body.classList.add(Te.B),vr(nn.el),Dr(nn.el),nn.presented=!0,nn.willPresent.emit(),null===(lr=nn.willPresentShorthand)||void 0===lr||lr.emit();const uo=(0,q.b)(nn),fo=nn.enterAnimation?nn.enterAnimation:q.c.get(sn,"ios"===uo?qt:Fr);(yield St(nn,fo,nn.el,kr))&&(nn.didPresent.emit(),null===(fr=nn.didPresentShorthand)||void 0===fr||fr.emit()),"ION-TOAST"!==nn.el.tagName&&ue(nn.el),nn.keyboardClose&&(null===document.activeElement||!nn.el.contains(document.activeElement))&&nn.el.focus(),nn.el.removeAttribute("aria-hidden")});return function(sn,qt,Fr,kr,lr){return xn.apply(this,arguments)}}(),ue=function(){var xn=(0,x.A)(function*(nn){let sn=document.activeElement;if(!sn)return;const qt=null==sn?void 0:sn.shadowRoot;qt&&(sn=qt.querySelector(Ke)||sn),yield nn.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&sn.focus()});return function(sn){return xn.apply(this,arguments)}}(),fe=function(){var xn=(0,x.A)(function*(nn,sn,qt,Fr,kr,lr,fr){var uo,fo;if(!nn.presented)return!1;const Lr=void 0!==g.d?Xn(g.d).filter(Vr=>"ION-TOAST"!==Vr.tagName):[];1===Lr.length&&Lr[0].id===nn.el.id&&(pt(!1),document.body.classList.remove(Te.B)),nn.presented=!1;try{Dr(nn.el),nn.el.style.setProperty("pointer-events","none"),nn.willDismiss.emit({data:sn,role:qt}),null===(uo=nn.willDismissShorthand)||void 0===uo||uo.emit({data:sn,role:qt});const Vr=(0,q.b)(nn),Ur=nn.leaveAnimation?nn.leaveAnimation:q.c.get(Fr,"ios"===Vr?kr:lr);qt!==In&&(yield St(nn,Ur,nn.el,fr)),nn.didDismiss.emit({data:sn,role:qt}),null===(fo=nn.didDismissShorthand)||void 0===fo||fo.emit({data:sn,role:qt}),(lt.get(nn)||[]).forEach(Yr=>Yr.destroy()),lt.delete(nn),nn.el.classList.add("overlay-hidden"),nn.el.style.removeProperty("pointer-events"),void 0!==nn.el.lastFocus&&(nn.el.lastFocus=void 0)}catch(Vr){console.error(Vr)}return nn.el.remove(),pr(),!0});return function(sn,qt,Fr,kr,lr,fr,uo){return xn.apply(this,arguments)}}(),Re=xn=>xn.querySelector("ion-app")||xn.body,St=function(){var xn=(0,x.A)(function*(nn,sn,qt,Fr){qt.classList.remove("overlay-hidden");const lr=sn(nn.el,Fr);(!nn.animated||!q.c.getBoolean("animated",!0))&&lr.duration(0),nn.keyboardClose&&lr.beforeAddWrite(()=>{const uo=qt.ownerDocument.activeElement;null!=uo&&uo.matches("input,ion-input, ion-textarea")&&uo.blur()});const fr=lt.get(nn)||[];return lt.set(nn,[...fr,lr]),yield lr.play(),!0});return function(sn,qt,Fr,kr){return xn.apply(this,arguments)}}(),Ot=(xn,nn)=>{let sn;const qt=new Promise(Fr=>sn=Fr);return Lt(xn,nn,Fr=>{sn(Fr.detail)}),qt},Lt=(xn,nn,sn)=>{const qt=Fr=>{(0,H.b)(xn,nn,qt),sn(Fr)};(0,H.a)(xn,nn,qt)},un=xn=>"cancel"===xn||xn===Qn,Yt=xn=>xn(),hr=(xn,nn)=>{if("function"==typeof xn)return q.c.get("_zoneGate",Yt)(()=>{try{return xn(nn)}catch(qt){throw qt}})},Qn="backdrop",In="gesture",_r=39,Xr=xn=>{let sn,nn=!1;const qt=(0,S.C)(),Fr=(fr=!1)=>{if(sn&&!fr)return{delegate:sn,inline:nn};const{el:uo,hasController:fo,delegate:Lr}=xn;return nn=null!==uo.parentNode&&!fo,sn=nn?Lr||qt:Lr,{inline:nn,delegate:sn}};return{attachViewToDom:function(){var fr=(0,x.A)(function*(uo){const{delegate:fo}=Fr(!0);if(fo)return yield fo.attachViewToDom(xn.el,uo);const{hasController:Lr}=xn;if(Lr&&void 0!==uo)throw new Error("framework delegate is missing");return null});return function(fo){return fr.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:fr}=Fr();fr&&void 0!==xn.el&&fr.removeViewFromDom(xn.el.parentElement,xn.el)}}},dr=()=>{let xn;const nn=()=>{xn&&(xn(),xn=void 0)};return{addClickListener:(qt,Fr)=>{nn();const kr=void 0!==Fr?document.getElementById(Fr):null;kr?xn=((fr,uo)=>{const fo=()=>{uo.present()};return fr.addEventListener("click",fo),()=>{fr.removeEventListener("click",fo)}})(kr,qt):(0,ce.p)(`A trigger element with the ID "${Fr}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,qt)},removeClickListener:nn}},Dr=xn=>{void 0!==g.d&&xn.setAttribute("aria-hidden","true")},vr=xn=>{var nn;if(void 0===g.d)return;const sn=Xn(g.d);for(let qt=sn.length-1;qt>=0;qt--){const Fr=sn[qt],kr=null!==(nn=sn[qt+1])&&void 0!==nn?nn:xn;(kr.hasAttribute("aria-hidden")||"ION-TOAST"!==kr.tagName)&&Fr.setAttribute("aria-hidden","true")}},pr=()=>{if(void 0===g.d)return;const xn=Xn(g.d);for(let nn=xn.length-1;nn>=0;nn--){const sn=xn[nn];if(sn.removeAttribute("aria-hidden"),"ION-TOAST"!==sn.tagName)break}},Kr="ion-disable-focus-trap"},1288:(Un,Tt,F)=>{"use strict";F.d(Tt,{H:()=>ve,b:()=>Fr,c:()=>Ee,f:()=>Xr,g:()=>rt,h:()=>ct,p:()=>Or,r:()=>Vr});var x=F(467);let H,we,q=!1,S=!1;const _t={},Be=Se=>"object"==(Se=typeof Se)||"function"===Se;function lt(Se){var ut,an,Ht;return null!==(Ht=null===(an=null===(ut=Se.head)||void 0===ut?void 0:ut.querySelector('meta[name="csp-nonce"]'))||void 0===an?void 0:an.getAttribute("content"))&&void 0!==Ht?Ht:void 0}const ct=(Se,ut,...an)=>{let Ht=null,ge=!1,de=!1;const Pe=[],ie=nt=>{for(let Ut=0;Ut<nt.length;Ut++)Ht=nt[Ut],Array.isArray(Ht)?ie(Ht):null!=Ht&&"boolean"!=typeof Ht&&((ge="function"!=typeof Se&&!Be(Ht))&&(Ht=String(Ht)),ge&&de?Pe[Pe.length-1].$text$+=Ht:Pe.push(ge?Fe(null,Ht):Ht),de=ge)};if(ie(an),ut){const nt=ut.className||ut.class;nt&&(ut.class="object"!=typeof nt?nt:Object.keys(nt).filter(Ut=>nt[Ut]).join(" "))}const G=Fe(Se,null);return G.$attrs$=ut,Pe.length>0&&(G.$children$=Pe),G},Fe=(Se,ut)=>({$flags$:0,$tag$:Se,$text$:ut,$elm$:null,$children$:null,$attrs$:null}),ve={},rt=Se=>ho(Se).$hostElement$,Ee=(Se,ut,an)=>{const Ht=rt(Se);return{emit:ge=>ze(Ht,ut,{bubbles:!!(4&an),composed:!!(2&an),cancelable:!!(1&an),detail:ge})}},ze=(Se,ut,an)=>{const Ht=ar.ce(ut,an);return Se.dispatchEvent(Ht),Ht},oe=new WeakMap,He=(Se,ut)=>"sc-"+Se.$tagName$,jt=(Se,ut,an,Ht,ge,de)=>{if(an!==Ht){let Pe=qr(Se,ut),ie=ut.toLowerCase();if("class"===ut){const G=Se.classList,nt=Gn(an),Ut=Gn(Ht);G.remove(...nt.filter(vn=>vn&&!Ut.includes(vn))),G.add(...Ut.filter(vn=>vn&&!nt.includes(vn)))}else if("style"===ut){for(const G in an)(!Ht||null==Ht[G])&&(G.includes("-")?Se.style.removeProperty(G):Se.style[G]="");for(const G in Ht)(!an||Ht[G]!==an[G])&&(G.includes("-")?Se.style.setProperty(G,Ht[G]):Se.style[G]=Ht[G])}else if("ref"===ut)Ht&&Ht(Se);else if(Pe||"o"!==ut[0]||"n"!==ut[1]){const G=Be(Ht);if((Pe||G&&null!==Ht)&&!ge)try{if(Se.tagName.includes("-"))Se[ut]=Ht;else{const nt=null==Ht?"":Ht;"list"===ut?Pe=!1:(null==an||Se[ut]!=nt)&&(Se[ut]=nt)}}catch{}null==Ht||!1===Ht?(!1!==Ht||""===Se.getAttribute(ut))&&Se.removeAttribute(ut):(!Pe||4&de||ge)&&!G&&Se.setAttribute(ut,Ht=!0===Ht?"":Ht)}else ut="-"===ut[2]?ut.slice(3):qr(Zr,ie)?ie.slice(2):ie[2]+ut.slice(3),an&&ar.rel(Se,ut,an,!1),Ht&&ar.ael(Se,ut,Ht,!1)}},zt=/\s/,Gn=Se=>Se?Se.split(zt):[],on=(Se,ut,an,Ht)=>{const ge=11===ut.$elm$.nodeType&&ut.$elm$.host?ut.$elm$.host:ut.$elm$,de=Se&&Se.$attrs$||_t,Pe=ut.$attrs$||_t;for(Ht in de)Ht in Pe||jt(ge,Ht,de[Ht],void 0,an,ut.$flags$);for(Ht in Pe)jt(ge,Ht,de[Ht],Pe[Ht],an,ut.$flags$)},Xn=(Se,ut,an,Ht)=>{const ge=ut.$children$[an];let Pe,ie,de=0;if(null!==ge.$text$)Pe=ge.$elm$=tn.createTextNode(ge.$text$);else{if(q||(q="svg"===ge.$tag$),Pe=ge.$elm$=tn.createElementNS(q?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",ge.$tag$),q&&"foreignObject"===ge.$tag$&&(q=!1),on(null,ge,q),(Se=>null!=Se)(H)&&Pe["s-si"]!==H&&Pe.classList.add(Pe["s-si"]=H),ge.$children$)for(de=0;de<ge.$children$.length;++de)ie=Xn(Se,ge,de),ie&&Pe.appendChild(ie);"svg"===ge.$tag$?q=!1:"foreignObject"===Pe.tagName&&(q=!0)}return Pe},sr=(Se,ut,an,Ht,ge,de)=>{let ie,Pe=Se;for(Pe.shadowRoot&&Pe.tagName===we&&(Pe=Pe.shadowRoot);ge<=de;++ge)Ht[ge]&&(ie=Xn(null,an,ge),ie&&(Ht[ge].$elm$=ie,Pe.insertBefore(ie,ut)))},pt=(Se,ut,an)=>{for(let Ht=ut;Ht<=an;++Ht){const ge=Se[Ht];if(ge){const de=ge.$elm$;Re(ge),de&&de.remove()}}},ue=(Se,ut)=>Se.$tag$===ut.$tag$,fe=(Se,ut)=>{const an=ut.$elm$=Se.$elm$,Ht=Se.$children$,ge=ut.$children$,de=ut.$tag$,Pe=ut.$text$;null===Pe?(q="svg"===de||"foreignObject"!==de&&q,on(Se,ut,q),null!==Ht&&null!==ge?((Se,ut,an,Ht)=>{let Ln,ge=0,de=0,Pe=ut.length-1,ie=ut[0],G=ut[Pe],nt=Ht.length-1,Ut=Ht[0],vn=Ht[nt];for(;ge<=Pe&&de<=nt;)null==ie?ie=ut[++ge]:null==G?G=ut[--Pe]:null==Ut?Ut=Ht[++de]:null==vn?vn=Ht[--nt]:ue(ie,Ut)?(fe(ie,Ut),ie=ut[++ge],Ut=Ht[++de]):ue(G,vn)?(fe(G,vn),G=ut[--Pe],vn=Ht[--nt]):ue(ie,vn)?(fe(ie,vn),Se.insertBefore(ie.$elm$,G.$elm$.nextSibling),ie=ut[++ge],vn=Ht[--nt]):ue(G,Ut)?(fe(G,Ut),Se.insertBefore(G.$elm$,ie.$elm$),G=ut[--Pe],Ut=Ht[++de]):(Ln=Xn(ut&&ut[de],an,de),Ut=Ht[++de],Ln&&ie.$elm$.parentNode.insertBefore(Ln,ie.$elm$));ge>Pe?sr(Se,null==Ht[nt+1]?null:Ht[nt+1].$elm$,an,Ht,de,nt):de>nt&&pt(ut,ge,Pe)})(an,Ht,ut,ge):null!==ge?(null!==Se.$text$&&(an.textContent=""),sr(an,null,ut,ge,0,ge.length-1)):null!==Ht&&pt(Ht,0,Ht.length-1),q&&"svg"===de&&(q=!1)):Se.$text$!==Pe&&(an.data=Pe)},Re=Se=>{Se.$attrs$&&Se.$attrs$.ref&&Se.$attrs$.ref(null),Se.$children$&&Se.$children$.map(Re)},Ot=(Se,ut)=>{ut&&!Se.$onRenderResolve$&&ut["s-p"]&&ut["s-p"].push(new Promise(an=>Se.$onRenderResolve$=an))},Lt=(Se,ut)=>{if(Se.$flags$|=16,!(4&Se.$flags$))return Ot(Se,Se.$ancestorComponent$),Nn(()=>un(Se,ut));Se.$flags$|=512},un=(Se,ut)=>{const Ht=Se.$lazyInstance$;return ut&&(Se.$flags$|=256,Se.$queuedListeners$&&(Se.$queuedListeners$.map(([de,Pe])=>Dr(Ht,de,Pe)),Se.$queuedListeners$=void 0)),Yt(void 0,()=>Qn(Se,Ht,ut))},Yt=(Se,ut)=>hr(Se)?Se.then(ut):ut(),hr=Se=>Se instanceof Promise||Se&&Se.then&&"function"==typeof Se.then,Qn=function(){var Se=(0,x.A)(function*(ut,an,Ht){var ge;const de=ut.$hostElement$,ie=de["s-rc"];Ht&&(Se=>{const ut=Se.$cmpMeta$,an=Se.$hostElement$,Ht=ut.$flags$,de=((Se,ut)=>{var ge;let de=He(ut);const Pe=Rr.get(de);if(Se=11===Se.nodeType?Se:tn,Pe)if("string"==typeof Pe){let G,ie=oe.get(Se=Se.head||Se);if(ie||oe.set(Se,ie=new Set),!ie.has(de)){{G=tn.createElement("style"),G.innerHTML=Pe;const nt=null!==(ge=ar.$nonce$)&&void 0!==ge?ge:lt(tn);null!=nt&&G.setAttribute("nonce",nt),Se.insertBefore(G,Se.querySelector("link"))}ie&&ie.add(de)}}else Se.adoptedStyleSheets.includes(Pe)||(Se.adoptedStyleSheets=[...Se.adoptedStyleSheets,Pe]);return de})(an.shadowRoot?an.shadowRoot:an.getRootNode(),ut);10&Ht&&(an["s-sc"]=de,an.classList.add(de+"-h"))})(ut);In(ut,an),ie&&(ie.map(nt=>nt()),de["s-rc"]=void 0);{const nt=null!==(ge=de["s-p"])&&void 0!==ge?ge:[],Ut=()=>_r(ut);0===nt.length?Ut():(Promise.all(nt).then(Ut),ut.$flags$|=4,nt.length=0)}});return function(an,Ht,ge){return Se.apply(this,arguments)}}(),In=(Se,ut,an)=>{try{ut=ut.render(),Se.$flags$&=-17,Se.$flags$|=2,((Se,ut)=>{const an=Se.$hostElement$,Ht=Se.$vnode$||Fe(null,null),ge=(Se=>Se&&Se.$tag$===ve)(ut)?ut:ct(null,null,ut);we=an.tagName,ge.$tag$=null,ge.$flags$|=4,Se.$vnode$=ge,ge.$elm$=Ht.$elm$=an.shadowRoot||an,H=an["s-sc"],fe(Ht,ge)})(Se,ut)}catch(Ht){Yr(Ht,Se.$hostElement$)}return null},_r=Se=>{const an=Se.$hostElement$,ge=Se.$lazyInstance$,de=Se.$ancestorComponent$;64&Se.$flags$||(Se.$flags$|=64,vr(an),Dr(ge,"componentDidLoad"),Se.$onReadyResolve$(an),de||dr()),Se.$onInstanceResolve$(an),Se.$onRenderResolve$&&(Se.$onRenderResolve$(),Se.$onRenderResolve$=void 0),512&Se.$flags$&&_n(()=>Lt(Se,!1)),Se.$flags$&=-517},Xr=Se=>{{const ut=ho(Se),an=ut.$hostElement$.isConnected;return an&&2==(18&ut.$flags$)&&Lt(ut,!1),an}},dr=Se=>{vr(tn.documentElement),_n(()=>ze(Zr,"appload",{detail:{namespace:"ionicpwaelements"}}))},Dr=(Se,ut,an)=>{if(Se&&Se[ut])try{return Se[ut](an)}catch(Ht){Yr(Ht)}},vr=Se=>Se.classList.add("hydrated"),xn=(Se,ut,an)=>{if(ut.$members$){const Ht=Object.entries(ut.$members$),ge=Se.prototype;if(Ht.map(([de,[Pe]])=>{31&Pe||2&an&&32&Pe?Object.defineProperty(ge,de,{get(){return((Se,ut)=>ho(this).$instanceValues$.get(ut))(0,de)},set(ie){((Se,ut,an,Ht)=>{const ge=ho(Se),de=ge.$instanceValues$.get(ut),Pe=ge.$flags$,ie=ge.$lazyInstance$;an=((Se,ut)=>null==Se||Be(Se)?Se:4&ut?"false"!==Se&&(""===Se||!!Se):2&ut?parseFloat(Se):1&ut?String(Se):Se)(an,Ht.$members$[ut][0]);const G=Number.isNaN(de)&&Number.isNaN(an);(!(8&Pe)||void 0===de)&&an!==de&&!G&&(ge.$instanceValues$.set(ut,an),ie&&2==(18&Pe)&&Lt(ge,!1))})(this,de,ie,ut)},configurable:!0,enumerable:!0}):1&an&&64&Pe&&Object.defineProperty(ge,de,{value(...ie){const G=ho(this);return G.$onInstancePromise$.then(()=>G.$lazyInstance$[de](...ie))}})}),1&an){const de=new Map;ge.attributeChangedCallback=function(Pe,ie,G){ar.jmp(()=>{const nt=de.get(Pe);if(this.hasOwnProperty(nt))G=this[nt],delete this[nt];else if(ge.hasOwnProperty(nt)&&"number"==typeof this[nt]&&this[nt]==G)return;this[nt]=(null!==G||"boolean"!=typeof this[nt])&&G})},Se.observedAttributes=Ht.filter(([Pe,ie])=>15&ie[0]).map(([Pe,ie])=>{const G=ie[1]||Pe;return de.set(G,Pe),G})}}return Se},nn=function(){var Se=(0,x.A)(function*(ut,an,Ht,ge,de){if(!(32&an.$flags$)){an.$flags$|=32;{if((de=ko(Ht)).then){const nt=()=>{};de=yield de,nt()}de.isProxied||(xn(de,Ht,2),de.isProxied=!0);const G=()=>{};an.$flags$|=8;try{new de(an)}catch(nt){Yr(nt)}an.$flags$&=-9,G()}if(de.style){let G=de.style;const nt=He(Ht);if(!Rr.has(nt)){const Ut=()=>{};((Se,ut,an)=>{let Ht=Rr.get(Se);so&&an?(Ht=Ht||new CSSStyleSheet,"string"==typeof Ht?Ht=ut:Ht.replaceSync(ut)):Ht=ut,Rr.set(Se,Ht)})(nt,G,!!(1&Ht.$flags$)),Ut()}}}const Pe=an.$ancestorComponent$,ie=()=>Lt(an,!0);Pe&&Pe["s-rc"]?Pe["s-rc"].push(ie):ie()});return function(an,Ht,ge,de,Pe){return Se.apply(this,arguments)}}(),Fr=(Se,ut={})=>{var an;const ge=[],de=ut.exclude||[],Pe=Zr.customElements,ie=tn.head,G=ie.querySelector("meta[charset]"),nt=tn.createElement("style"),Ut=[];let vn,Ln=!0;Object.assign(ar,ut),ar.$resourcesUrl$=new URL(ut.resourcesUrl||"./",tn.baseURI).href,Se.map(wn=>{wn[1].map(Sr=>{const Io={$flags$:Sr[0],$tagName$:Sr[1],$members$:Sr[2],$listeners$:Sr[3]};Io.$members$=Sr[2],Io.$listeners$=Sr[3];const zo=Io.$tagName$,wo=class extends HTMLElement{constructor(To){super(To),Ur(To=this,Io),1&Io.$flags$&&To.attachShadow({mode:"open"})}connectedCallback(){vn&&(clearTimeout(vn),vn=null),Ln?Ut.push(this):ar.jmp(()=>(Se=>{if(!(1&ar.$flags$)){const ut=ho(Se),an=ut.$cmpMeta$,Ht=()=>{};if(1&ut.$flags$)kr(Se,ut,an.$listeners$);else{ut.$flags$|=1;{let ge=Se;for(;ge=ge.parentNode||ge.host;)if(ge["s-p"]){Ot(ut,ut.$ancestorComponent$=ge);break}}an.$members$&&Object.entries(an.$members$).map(([ge,[de]])=>{if(31&de&&Se.hasOwnProperty(ge)){const Pe=Se[ge];delete Se[ge],Se[ge]=Pe}}),nn(Se,ut,an)}Ht()}})(this))}disconnectedCallback(){ar.jmp(()=>(()=>{if(!(1&ar.$flags$)){const ut=ho(this),an=ut.$lazyInstance$;ut.$rmListeners$&&(ut.$rmListeners$.map(Ht=>Ht()),ut.$rmListeners$=void 0),Dr(an,"disconnectedCallback")}})())}componentOnReady(){return ho(this).$onReadyPromise$}};Io.$lazyBundleId$=wn[0],!de.includes(zo)&&!Pe.get(zo)&&(ge.push(zo),Pe.define(zo,xn(wo,Io,1)))})});{nt.innerHTML=ge+"{visibility:hidden}.hydrated{visibility:inherit}",nt.setAttribute("data-styles","");const wn=null!==(an=ar.$nonce$)&&void 0!==an?an:lt(tn);null!=wn&&nt.setAttribute("nonce",wn),ie.insertBefore(nt,G?G.nextSibling:ie.firstChild)}Ln=!1,Ut.length?Ut.map(wn=>wn.connectedCallback()):ar.jmp(()=>vn=setTimeout(dr,30))},kr=(Se,ut,an,Ht)=>{an&&an.map(([ge,de,Pe])=>{const ie=fr(Se,ge),G=lr(ut,Pe),nt=uo(ge);ar.ael(ie,de,G,nt),(ut.$rmListeners$=ut.$rmListeners$||[]).push(()=>ar.rel(ie,de,G,nt))})},lr=(Se,ut)=>an=>{try{256&Se.$flags$?Se.$lazyInstance$[ut](an):(Se.$queuedListeners$=Se.$queuedListeners$||[]).push([ut,an])}catch(Ht){Yr(Ht)}},fr=(Se,ut)=>16&ut?tn.body:Se,uo=Se=>!!(2&Se),Lr=new WeakMap,ho=Se=>Lr.get(Se),Vr=(Se,ut)=>Lr.set(ut.$lazyInstance$=Se,ut),Ur=(Se,ut)=>{const an={$flags$:0,$hostElement$:Se,$cmpMeta$:ut,$instanceValues$:new Map};return an.$onInstancePromise$=new Promise(Ht=>an.$onInstanceResolve$=Ht),an.$onReadyPromise$=new Promise(Ht=>an.$onReadyResolve$=Ht),Se["s-p"]=[],Se["s-rc"]=[],kr(Se,an,ut.$listeners$),Lr.set(Se,an)},qr=(Se,ut)=>ut in Se,Yr=(Se,ut)=>(0,console.error)(Se,ut),Cr=new Map,ko=(Se,ut,an)=>{const Ht=Se.$tagName$.replace(/-/g,"_"),ge=Se.$lazyBundleId$,de=Cr.get(ge);if(de)return de[Ht];if(!an||!BUILD.hotModuleReplacement){const Pe=ie=>(Cr.set(ge,ie),ie[Ht]);switch(ge){case"pwa-action-sheet":return F.e(6301).then(F.bind(F,6301)).then(Pe,Yr);case"pwa-camera-modal":return F.e(2982).then(F.bind(F,2982)).then(Pe,Yr);case"pwa-toast":return F.e(3574).then(F.bind(F,3574)).then(Pe,Yr);case"pwa-camera-modal-instance":return F.e(5640).then(F.bind(F,5640)).then(Pe,Yr);case"pwa-camera":return F.e(6086).then(F.bind(F,6086)).then(Pe,Yr)}}return F(5235)(`./${ge}.entry.js`).then(Pe=>(Cr.set(ge,Pe),Pe[Ht]),Yr)},Rr=new Map,Zr=typeof window<"u"?window:{},tn=Zr.document||{head:{}},ar={$flags$:0,$resourcesUrl$:"",jmp:Se=>Se(),raf:Se=>requestAnimationFrame(Se),ael:(Se,ut,an,Ht)=>Se.addEventListener(ut,an,Ht),rel:(Se,ut,an,Ht)=>Se.removeEventListener(ut,an,Ht),ce:(Se,ut)=>new CustomEvent(Se,ut)},Or=Se=>Promise.resolve(Se),so=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Zt=[],Nt=[],cn=(Se,ut)=>an=>{Se.push(an),S||(S=!0,ut&&4&ar.$flags$?_n(Pt):ar.raf(Pt))},Et=Se=>{for(let ut=0;ut<Se.length;ut++)try{Se[ut](performance.now())}catch(an){Yr(an)}Se.length=0},Pt=()=>{Et(Zt),Et(Nt),(S=Zt.length>0)&&ar.raf(Pt)},_n=Se=>Or().then(Se),Nn=cn(Nt,!0)},369:(Un,Tt,F)=>{"use strict";F.d(Tt,{w:()=>S});var x=F(467),g=F(119),H=F.n(g);const we={SecureStorage:"ionicSecureStorage",IndexedDB:H().INDEXEDDB,LocalStorage:H().LOCALSTORAGE},q={name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:[we.SecureStorage,we.IndexedDB,we.LocalStorage]};class S{constructor(ce=q){this._db=null,this._secureStorageDriver=null;const Ke=Object.assign({},q,ce||{});this._config=Ke}create(){var ce=this;return(0,x.A)(function*(){const Ke=H().createInstance(ce._config);return ce._db=Ke,yield Ke.setDriver(ce._config.driverOrder||[]),ce})()}defineDriver(ce){var Ke=this;return(0,x.A)(function*(){return ce._driver===we.SecureStorage&&(Ke._secureStorageDriver=ce),H().defineDriver(ce)})()}get driver(){var ce;return(null===(ce=this._db)||void 0===ce?void 0:ce.driver())||null}assertDb(){if(!this._db)throw new Error("Database not created. Must call create() first");return this._db}get(ce){return this.assertDb().getItem(ce)}set(ce,Ke){return this.assertDb().setItem(ce,Ke)}remove(ce){return this.assertDb().removeItem(ce)}clear(){return this.assertDb().clear()}length(){return this.assertDb().length()}keys(){return this.assertDb().keys()}forEach(ce){return this.assertDb().iterate(ce)}setEncryptionKey(ce){var Ke;if(!this._secureStorageDriver)throw new Error("@ionic-enterprise/secure-storage not installed. Encryption support not available");null===(Ke=this._secureStorageDriver)||void 0===Ke||Ke.setEncryptionKey(ce)}}},4401:(Un,Tt,F)=>{"use strict";F.d(Tt,{R:()=>uy});var x=F(467),g=function(i,n){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var a in r)r.hasOwnProperty(a)&&(e[a]=r[a])})(i,n)};function H(i,n){function e(){this.constructor=i}g(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}function we(i,n,e,r){return new(e||(e=Promise))(function(a,c){function h(b){try{m(r.next(b))}catch(_){c(_)}}function f(b){try{m(r.throw(b))}catch(_){c(_)}}function m(b){b.done?a(b.value):new e(function(_){_(b.value)}).then(h,f)}m((r=r.apply(i,n||[])).next())})}function q(i,n){var e,r,a,c,h={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(b){return function(_){if(e)throw new TypeError("Generator is already executing.");for(;h;)try{if(e=1,r&&(a=2&_[0]?r.return:_[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,_[1])).done)return a;switch(r=0,a&&(_=[2&_[0],a.value]),_[0]){case 0:case 1:a=_;break;case 4:return h.label++,{value:_[1],done:!1};case 5:h.label++,r=_[1],_=[0];continue;case 7:_=h.ops.pop(),h.trys.pop();continue;default:if(!(a=(a=h.trys).length>0&&a[a.length-1])&&(6===_[0]||2===_[0])){h=0;continue}if(3===_[0]&&(!a||_[1]>a[0]&&_[1]<a[3])){h.label=_[1];break}if(6===_[0]&&h.label<a[1]){h.label=a[1],a=_;break}if(a&&h.label<a[2]){h.label=a[2],h.ops.push(_);break}a[2]&&h.ops.pop(),h.trys.pop();continue}_=n.call(i,h)}catch(I){_=[6,I],r=0}finally{e=a=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([m,b])}}}var S=function(){function i(n){this.global=n,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return i.prototype.setPlatform=function(n,e){null!=this.platform&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+e+"."),this.platformName=n,this.platform=e},i.prototype.registerFlag=function(n,e,r){if(this.flagRegistry[n]={evaluationFn:e,setHook:r},null!=this.urlFlags[n]){var a=this.urlFlags[n];console.warn("Setting feature override from URL "+n+": "+a+"."),this.set(n,a)}},i.prototype.get=function(n){return n in this.flags||(this.flags[n]=this.evaluateFlag(n)),this.flags[n]},i.prototype.getNumber=function(n){return this.get(n)},i.prototype.getBool=function(n){return this.get(n)},i.prototype.getFlags=function(){return this.flags},Object.defineProperty(i.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),i.prototype.set=function(n,e){if(null==this.flagRegistry[n])throw new Error("Cannot set flag "+n+" as it has not been registered.");this.flags[n]=e,null!=this.flagRegistry[n].setHook&&this.flagRegistry[n].setHook(e)},i.prototype.evaluateFlag=function(n){if(null==this.flagRegistry[n])throw new Error("Cannot evaluate flag '"+n+"': no evaluation function found.");return this.flagRegistry[n].evaluationFn()},i.prototype.setFlags=function(n){this.flags=Object.assign({},n)},i.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},i.prototype.populateURLFlags=function(){var n=this;if(void 0!==this.global&&void 0!==this.global.location&&void 0!==this.global.location.search){var r,a=(r={},this.global.location.search.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(c){for(var h=[],f=1;f<arguments.length;f++)h[f-1]=arguments[f];return function Te(i,n,e){i[decodeURIComponent(n)]=decodeURIComponent(e||"")}(r,h[0],h[1]),h.join("=")}),r);"tfjsflags"in a&&a.tfjsflags.split(",").forEach(function(c){var h=c.split(":"),f=h[0];n.urlFlags[f]=function(b,_){if("true"===(_=_.toLowerCase())||"false"===_)return"true"===_;if(""+ +_===_)return+_;throw new Error("Could not parse value flag value "+_+" for flag "+b+".")}(f,h[1])})}},i}();function ce(){return Ke}var Ke=null,_t=new Map,$e=new Map;function Me(i,n){var e=wt(i,n);return _t.get(e)}function Be(i){for(var n=_t.entries(),e=[];;){var r=n.next(),c=r.value;if(r.done)break;var f=c[1];c[0].split("_")[0]===i&&e.push(f)}return e}function lt(i){var n=i.kernelName,e=i.backendName,r=wt(n,e);if(_t.has(r))throw new Error("The kernel '"+n+"' for backend '"+e+"' is already registered");_t.set(r,i)}function ct(i){var n=i.kernelName;$e.has(n)&&console.warn("Overriding the gradient for '"+n+"'"),$e.set(n,i)}function wt(i,n){return n+"_"+i}function ft(i){for(var n=i.length,e=0,r=0;n>0;)r=Math.random()*n|0,e=i[--n],i[n]=i[r],i[r]=e}function rt(i,n,e){return Math.max(i,Math.min(n,e))}function Ee(i){return i%2==0?i:i+1}function ze(i){for(var n=0,e=0;e<i.length;e++)n+=i[e];return n}function oe(i,n){if(!i)throw new Error("string"==typeof n?n:n())}function it(i,n,e){void 0===e&&(e=""),oe(jt(i,n),function(){return e+" Shapes "+i+" and "+n+" must match"})}function At(i){oe(null!=i,function(){return"The input to the tensor constructor must be a non-null value."})}function Ze(i,n,e){if(void 0===n&&(n=[]),void 0===e&&(e=!1),null==n&&(n=[]),Array.isArray(i)||un(i)&&!e)for(var r=0;r<i.length;++r)Ze(i[r],n,e);else n.push(i);return n}function He(i){if(0===i.length)return 1;for(var n=i[0],e=1;e<i.length;e++)n*=i[e];return n}function jt(i,n){if(i===n)return!0;if(null==i||null==n||i.length!==n.length)return!1;for(var e=0;e<i.length;e++)if(i[e]!==n[e])return!1;return!0}function zt(i){return i%1==0}function Gn(i){if(null!=Math.tanh)return Math.tanh(i);if(i===1/0)return 1;if(i===-1/0)return-1;var n=Math.exp(2*i);return(n-1)/(n+1)}function on(i){var n=Math.ceil(Math.sqrt(i));return[n,Math.ceil(i/n)]}function Xn(i,n){return n<=i.length?i:i+" ".repeat(n-i.length)}function sr(i,n,e){return void 0===n&&(n=function(r){return 0}),new Promise(function(r,a){var c=0,h=function(){if(i())r();else{c++;var f=n(c);null!=e&&c>=e?a():setTimeout(h,f)}};h()})}function pt(i,n){for(var e=1,r=-1,a=0;a<i.length;++a)if(i[a]>=0)e*=i[a];else if(-1===i[a]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+a);r=a}else if(i[a]<0)throw Error("Shapes can not be < 0. Found "+i[a]+" at dim "+a);if(-1===r){if(n>0&&n!==e)throw Error("Size("+n+") must match the product of shape "+i);return i}if(0===e)throw Error("Cannot infer the missing size in ["+i+"] when there are 0 elements");if(n%e!=0)throw Error("The implicit shape can't be a fractional number. Got "+n+" / "+e);var c=i.slice();return c[r]=n/e,c}function We(i,n){var e=n.length;return oe((i=null==i?n.map(function(r,a){return a}):[].concat(i)).every(function(r){return r>=-e&&r<e}),function(){return"All values in axis param must be in range [-"+e+", "+e+") but got axis "+i}),oe(i.every(function(r){return zt(r)}),function(){return"All values in axis param must be integers but got axis "+i}),i.map(function(r){return r<0?e+r:r})}function ue(i,n){for(var e=[],r=[],a=null!=n&&Array.isArray(n)&&0===n.length,c=null==n||a?null:We(n,i).sort(),h=0,f=0;f<i.length;++f){if(null!=c){if(c[h]===f&&1!==i[f])throw new Error("Can't squeeze axis "+f+" since its dim '"+i[f]+"' is not 1");(null==c[h]||c[h]>f)&&1===i[f]&&(e.push(i[f]),r.push(f)),c[h]<=f&&h++}1!==i[f]&&(e.push(i[f]),r.push(f))}return{newShape:e,keptDims:r}}function fe(i,n){var e=null;if(null==i||"float32"===i)e=new Float32Array(n);else if("int32"===i)e=new Int32Array(n);else{if("bool"!==i)throw new Error("Unknown data type "+i);e=new Uint8Array(n)}return e}function Re(i,n){var e=null;if(null==i||"float32"===i)e=new Float32Array(n);else if("int32"===i)e=new Int32Array(n);else if("bool"===i)e=new Uint8Array(n);else{if("string"!==i)throw new Error("Unknown data type "+i);e=new Array(n)}return e}function St(i,n){for(var e=0;e<i.length;e++){var r=i[e];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+n+" being uploaded contains "+r+".")}}function Ot(i){return"bool"===i||"complex64"===i||"float32"===i||"int32"===i||"string"===i}function Lt(i,n){return!("complex64"===n||"float32"===n&&"complex64"!==i||"int32"===n&&"float32"!==i&&"complex64"!==i||"bool"===n&&"bool"===i)}function un(i){return i instanceof Float32Array||i instanceof Int32Array||i instanceof Uint8Array}function Yt(i){if("float32"===i||"int32"===i)return 4;if("complex64"===i)return 8;if("bool"===i)return 1;throw new Error("Unknown dtype "+i)}function hr(i){if(null==i)return 0;var n=0;return i.forEach(function(e){return n+=e.length}),n}function Qn(i){return"string"==typeof i||i instanceof String}function In(i){return"boolean"==typeof i}function _r(i){return"number"==typeof i}function Xr(i){return Array.isArray(i)?Xr(i[0]):i instanceof Float32Array?"float32":i instanceof Int32Array||i instanceof Uint8Array?"int32":_r(i)?"float32":Qn(i)?"string":In(i)?"bool":"float32"}function dr(i){return!!(i&&i.constructor&&i.call&&i.apply)}function Dr(i,n){for(var e=n;e<i;++e)if(i%e==0)return e;return i}function vr(i){var n=i.length;if(n<2)return[];var e=new Array(n-1);e[n-2]=i[n-1];for(var r=n-3;r>=0;--r)e[r]=e[r+1]*i[r+1];return e}function pr(i,n,e){if("string"===n)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(i)&&(i=Ze(i)),e&&St(i,n),h=n,(c=i)instanceof Float32Array&&"float32"===h||c instanceof Int32Array&&"int32"===h||c instanceof Uint8Array&&"bool"===h)return i;var c,h;if(null==n||"float32"===n||"complex64"===n)return new Float32Array(i);if("int32"===n)return new Int32Array(i);if("bool"===n){for(var r=new Uint8Array(i.length),a=0;a<r.length;++a)0!==Math.round(i[a])&&(r[a]=1);return r}throw new Error("Unknown data type "+n)}function Kr(i,n){if(0===i.length)return n[0];var e=i.reduce(function(r,a){return r*a});if(0===e)return[];if(e!==n.length)throw new Error("["+i+"] does not match the input size.");return function r(a,c,h){var f=new Array;if(1===c.length)for(var m=c[0],b=0;b<m;b++)f[b]=h[a+b];else{m=c[0];var _=c.slice(1),I=_.reduce(function(D,T){return D*T});for(b=0;b<m;b++)f[b]=r(a+b*I,_,h)}return f}(0,i,n)}function xn(i,n){for(var e=nn(i,n),r=0;r<e.length;r++)e[r]=1;return e}function nn(i,n){if(null==n||"float32"===n||"complex64"===n)return new Float32Array(i);if("int32"===n)return new Int32Array(i);if("bool"===n)return new Uint8Array(i);throw new Error("Unknown data type "+n)}function sn(){return ce().platform.now()}function qt(i){i.forEach(function(n){oe(Number.isInteger(n)&&n>=0,function(){return"Tensor must have a shape comprised of positive integers but got shape ["+i+"]."})})}function Fr(i,n){return void 0===n&&(n="utf-8"),n=n||"utf-8",ce().platform.encode(i,n)}function kr(i,n){return void 0===n&&(n="utf-8"),n=n||"utf-8",ce().platform.decode(i,n)}function lr(i,n,e){if(0===n)return 0;if(1===n)return i[0];for(var r=i[i.length-1],a=0;a<i.length-1;++a)r+=e[a]*i[a];return r}function fr(i,n,e){if(0===n)return[];if(1===n)return[i];for(var r=new Array(n),a=0;a<r.length-1;++a)r[a]=Math.floor(i/e[a]),i-=r[a]*e[a];return r[r.length-1]=i,r}Object.freeze({shuffle:ft,clamp:rt,nearestLargerEven:Ee,sum:ze,randUniform:function(i,n){var e=Math.random();return n*e+(1-e)*i},distSquared:function(i,n){for(var e=0,r=0;r<i.length;r++){var a=Number(i[r])-Number(n[r]);e+=a*a}return e},assert:oe,assertShapesMatch:it,assertNonNull:At,flatten:Ze,sizeFromShape:He,isScalarShape:function(i){return 0===i.length},arraysEqual:jt,isInt:zt,tanh:Gn,sizeToSquarishShape:on,createShuffledIndices:function(i){for(var n=new Uint32Array(i),e=0;e<i;++e)n[e]=e;return ft(n),n},rightPad:Xn,repeatedTry:sr,inferFromImplicitShape:pt,parseAxisParam:We,squeezeShape:ue,getTypedArrayFromDType:fe,getArrayFromDType:Re,checkConversionForErrors:St,isValidDtype:Ot,hasEncodingLoss:Lt,isTypedArray:un,bytesPerElement:Yt,bytesFromStringArray:hr,isString:Qn,isBoolean:In,isNumber:_r,inferDtype:Xr,isFunction:dr,nearestDivisor:Dr,computeStrides:vr,toTypedArray:pr,toNestedArray:Kr,makeOnesTypedArray:xn,makeZerosTypedArray:nn,now:sn,assertNonNegativeIntegerDimensions:qt,fetch:function(i,n){return ce().platform.fetch(i,n)},encodeString:Fr,decodeString:kr,locToIndex:lr,indexToLoc:fr});var fo=function(){function i(n,e){this.backendTimer=n,this.logger=e,null==e&&(this.logger=new Lr)}return i.prototype.profileKernel=function(n,e,r){var a,c=this,h=this.backendTimer.time(function(){a=r()});return a.forEach(function(f){f.data().then(function(m){(function(b,_,I){if("float32"!==_)return!1;for(var D=0;D<b.length;D++){var T=b[D];if(isNaN(T)||!isFinite(T))return console.warn("Found "+T+" in the result of '"+I+"'"),!0}})(m,f.dtype,n),h.then(function(b){var _="";null!=b.getExtraProfileInfo&&(_=b.getExtraProfileInfo()),c.logger.logKernelProfile(n,f,m,b.kernelMs,e,_)})})}),a},i}(),Lr=function(){function i(){}return i.prototype.logKernelProfile=function(n,e,r,a,c,h){var f="number"==typeof a?Xn(a+"ms",9):a.error,m=Xn(n,25),b=e.rank,_=e.size,I=Xn(e.shape.toString(),14),D="";for(var T in c){var z=c[T].shape||e.shape,J=z.length;D+=T+": "+J+"D "+(J>0?z:"")+" "}console.log("%c"+m+"\t%c"+f+"\t%c"+b+"D "+I+"\t%c"+_+"\t%c"+D+"\t%c"+h,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},i}();function Yr(i,n,e){return Xn(Array.isArray(i)?parseFloat(i[0].toFixed(7))+" + "+parseFloat(i[1].toFixed(7))+"j":Qn(i)?"'"+i+"'":"bool"===e?Cr(i):parseFloat(i.toFixed(7)).toString(),n)}function Cr(i){return 0===i?"false":"true"}function ko(i){for(var n=[],e=0;e<i.length;e+=2)n.push([i[e],i[e+1]]);return n}var Rr=function(){function i(n,e,r){var a=this;if(this.dtype=e,this.shape=n.slice(),this.size=He(n),null!=r){var c=r.length;oe(c===this.size,function(){return"Length of values '"+c+"' does not match the size inferred by the shape '"+a.size+"'."})}if("complex64"===e)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||Re(e,this.size),this.strides=vr(n)}return i.prototype.set=function(n){for(var e=this,r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];0===r.length&&(r=[0]),oe(r.length===this.rank,function(){return"The number of provided coordinates ("+r.length+") must match the rank ("+e.rank+")"});var c=this.locToIndex(r);this.values[c]=n},i.prototype.get=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];0===n.length&&(n=[0]);for(var r=0,a=0,c=n;a<c.length;a++){var h=c[a];if(h<0||h>=this.shape[r])throw new Error("Requested out of range element at "+n+".   Buffer shape="+this.shape);r++}for(var m=n[n.length-1],b=0;b<n.length-1;++b)m+=this.strides[b]*n[b];return this.values[m]},i.prototype.locToIndex=function(n){if(0===this.rank)return 0;if(1===this.rank)return n[0];for(var e=n[n.length-1],r=0;r<n.length-1;++r)e+=this.strides[r]*n[r];return e},i.prototype.indexToLoc=function(n){if(0===this.rank)return[];if(1===this.rank)return[n];for(var e=new Array(this.shape.length),r=0;r<e.length-1;++r)e[r]=Math.floor(n/this.strides[r]),n-=e[r]*this.strides[r];return e[e.length-1]=n,e},Object.defineProperty(i.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),i.prototype.toTensor=function(){return Zr().makeTensor(this.values,this.shape,this.dtype)},i}(),Zr=null,tn=null,ar=null,Or=function(){function i(n,e,r,a){this.kept=!1,this.isDisposedInternal=!1,this.shape=n.slice(),this.dtype=e||"float32",this.size=He(n),this.strides=vr(n),this.dataId=r,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}return i.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},i.prototype.asScalar=function(){return this.throwIfDisposed(),oe(1===this.size,function(){return"The array must have only 1 element."}),this.reshape([])},i.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},i.prototype.as2D=function(n,e){return this.throwIfDisposed(),this.reshape([n,e])},i.prototype.as3D=function(n,e,r){return this.throwIfDisposed(),this.reshape([n,e,r])},i.prototype.as4D=function(n,e,r,a){return this.throwIfDisposed(),this.reshape([n,e,r,a])},i.prototype.as5D=function(n,e,r,a,c){return this.throwIfDisposed(),this.reshape([n,e,r,a,c])},i.prototype.asType=function(n){return this.throwIfDisposed(),tn.cast(this,n)},Object.defineProperty(i.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),i.prototype.buffer=function(){return we(this,void 0,void 0,function(){var n;return q(this,function(e){switch(e.label){case 0:return[4,this.data()];case 1:return n=e.sent(),[2,tn.buffer(this.shape,this.dtype,n)]}})})},i.prototype.bufferSync=function(){return tn.buffer(this.shape,this.dtype,this.dataSync())},i.prototype.array=function(){return we(this,void 0,void 0,function(){var n;return q(this,function(e){switch(e.label){case 0:return[4,this.data()];case 1:return n=e.sent(),[2,Kr(this.shape,n)]}})})},i.prototype.arraySync=function(){return Kr(this.shape,this.dataSync())},i.prototype.data=function(){return we(this,void 0,void 0,function(){var n,e;return q(this,function(r){switch(r.label){case 0:return this.throwIfDisposed(),n=Zr().read(this.dataId),"string"!==this.dtype?[3,2]:[4,n];case 1:e=r.sent();try{return[2,e.map(function(a){return kr(a)})]}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}r.label=2;case 2:return[2,n]}})})},i.prototype.dataSync=function(){this.throwIfDisposed();var n=Zr().readSync(this.dataId);if("string"===this.dtype)try{return n.map(function(e){return kr(e)})}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return n},i.prototype.bytes=function(){return we(this,void 0,void 0,function(){var n;return q(this,function(e){switch(e.label){case 0:return this.throwIfDisposed(),[4,Zr().read(this.dataId)];case 1:return n=e.sent(),"string"===this.dtype?[2,n]:[2,new Uint8Array(n.buffer)]}})})},i.prototype.dispose=function(){this.isDisposed||(Zr().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(i.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),i.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},i.prototype.toFloat=function(){return this.asType("float32")},i.prototype.toInt=function(){return this.asType("int32")},i.prototype.toBool=function(){return this.asType("bool")},i.prototype.print=function(n){return void 0===n&&(n=!1),tn.print(this,n)},i.prototype.reshape=function(n){return this.throwIfDisposed(),tn.reshape(this,n)},i.prototype.reshapeAs=function(n){return this.throwIfDisposed(),this.reshape(n.shape)},i.prototype.expandDims=function(n){return void 0===n&&(n=0),tn.expandDims(this,n)},i.prototype.cumsum=function(n,e,r){return void 0===n&&(n=0),void 0===e&&(e=!1),void 0===r&&(r=!1),tn.cumsum(this,n,e,r)},i.prototype.squeeze=function(n){return this.throwIfDisposed(),tn.squeeze(this,n)},i.prototype.clone=function(){return this.throwIfDisposed(),tn.clone(this)},i.prototype.oneHot=function(n,e,r){return this.throwIfDisposed(),tn.oneHot(this,n,e,r)},i.prototype.toString=function(n){return void 0===n&&(n=!1),function qr(i,n,e,r){var a=vr(n),c=function(b,_,I,D){var T=He(_),z=D[D.length-1],J=new Array(z).fill(0),ee=_.length,ne="complex64"===I?ko(b):b;if(ee>1)for(var me=0;me<T/z;me++)for(var be=me*z,pe=0;pe<z;pe++)J[pe]=Math.max(J[pe],Yr(ne[be+pe],0,I).length);return J}(i,n,e,a),h=n.length,f=function b(_,I,D,T,z,J){void 0===J&&(J=!0);var ee="complex64"===D?2:1,ne=I[0],me=I.length;if(0===me)return"complex64"===D?[Yr(ko(_)[0],0,D)]:"bool"===D?[Cr(_[0])]:[_[0].toString()];if(1===me){if(ne>20){var pe=Array.from(_.slice(0,3*ee)),Ie=Array.from(_.slice((ne-3)*ee,ne*ee));return"complex64"===D&&(pe=ko(pe),Ie=ko(Ie)),["["+pe.map(function(jn,er){return Yr(jn,z[er],D)}).join(", ")+", ..., "+Ie.map(function(jn,er){return Yr(jn,z[ne-3+er],D)}).join(", ")+"]"]}return["["+("complex64"===D?ko(_):Array.from(_)).map(function(jn,er){return Yr(jn,z[er],D)}).join(", ")+"]"]}var Ye=I.slice(1),kt=T.slice(1),It=T[0]*ee,vt=[];if(ne>20){for(var bt=0;bt<3;bt++){var en=(Kt=bt*It)+It;vt.push.apply(vt,b(_.slice(Kt,en),Ye,D,kt,z,!1))}for(vt.push("..."),bt=ne-3;bt<ne;bt++)en=(Kt=bt*It)+It,vt.push.apply(vt,b(_.slice(Kt,en),Ye,D,kt,z,bt===ne-1))}else for(bt=0;bt<ne;bt++){var Kt;en=(Kt=bt*It)+It,vt.push.apply(vt,b(_.slice(Kt,en),Ye,D,kt,z,bt===ne-1))}var Sn=2===me?",":"";for(vt[0]="["+vt[0]+Sn,bt=1;bt<vt.length-1;bt++)vt[bt]=" "+vt[bt]+Sn;var Fn=",\n";for(bt=2;bt<me;bt++)Fn+="\n";return vt[vt.length-1]=" "+vt[vt.length-1]+"]"+(J?"":Fn),vt}(i,n,e,a,c),m=["Tensor"];return r&&(m.push("  dtype: "+e),m.push("  rank: "+h),m.push("  shape: ["+n+"]"),m.push("  values:")),m.push(f.map(function(b){return"    "+b}).join("\n")),m.join("\n")}(this.dataSync(),this.shape,this.dtype,n)},i.prototype.tile=function(n){return this.throwIfDisposed(),tn.tile(this,n)},i.prototype.gather=function(n,e){return void 0===e&&(e=0),this.throwIfDisposed(),tn.gather(this,n,e)},i.prototype.matMul=function(n,e,r){return void 0===e&&(e=!1),void 0===r&&(r=!1),this.throwIfDisposed(),tn.matMul(this,n,e,r)},i.prototype.dot=function(n){return this.throwIfDisposed(),tn.dot(this,n)},i.prototype.norm=function(n,e,r){return void 0===n&&(n="euclidean"),void 0===e&&(e=null),void 0===r&&(r=!1),this.throwIfDisposed(),tn.norm(this,n,e,r)},i.prototype.slice=function(n,e){return this.throwIfDisposed(),tn.slice(this,n,e)},i.prototype.reverse=function(n){return this.throwIfDisposed(),tn.reverse(this,n)},i.prototype.concat=function(n,e){return void 0===e&&(e=0),this.throwIfDisposed(),n instanceof i&&(n=[n]),tn.concat([this].concat(n),e)},i.prototype.split=function(n,e){return void 0===e&&(e=0),this.throwIfDisposed(),tn.split(this,n,e)},i.prototype.stack=function(n,e){return void 0===e&&(e=0),tn.stack([this,n],e)},i.prototype.unstack=function(n){return void 0===n&&(n=0),tn.unstack(this,n)},i.prototype.pad=function(n,e){return void 0===e&&(e=0),tn.pad(this,n,e)},i.prototype.batchNormalization=function(n,e,r,a,c){return void 0===r&&(r=.001),ar("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(n,e,c,a,r)},i.prototype.batchNorm=function(n,e,r,a,c){return void 0===c&&(c=.001),this.throwIfDisposed(),tn.batchNorm(this,n,e,r,a,c)},i.prototype.all=function(n,e){return void 0===n&&(n=null),void 0===e&&(e=!1),this.throwIfDisposed(),tn.all(this,n,e)},i.prototype.any=function(n,e){return void 0===n&&(n=null),void 0===e&&(e=!1),this.throwIfDisposed(),tn.any(this,n,e)},i.prototype.logSumExp=function(n,e){return void 0===n&&(n=null),void 0===e&&(e=!1),this.throwIfDisposed(),tn.logSumExp(this,n,e)},i.prototype.sum=function(n,e){return void 0===n&&(n=null),void 0===e&&(e=!1),this.throwIfDisposed(),tn.sum(this,n,e)},i.prototype.prod=function(n,e){return void 0===n&&(n=null),void 0===e&&(e=!1),this.throwIfDisposed(),tn.prod(this,n,e)},i.prototype.mean=function(n,e){return void 0===n&&(n=null),void 0===e&&(e=!1),this.throwIfDisposed(),tn.mean(this,n,e)},i.prototype.min=function(n,e){return void 0===n&&(n=null),void 0===e&&(e=!1),this.throwIfDisposed(),tn.min(this,n,e)},i.prototype.max=function(n,e){return void 0===n&&(n=null),void 0===e&&(e=!1),this.throwIfDisposed(),tn.max(this,n,e)},i.prototype.argMin=function(n){return void 0===n&&(n=null),this.throwIfDisposed(),tn.argMin(this,n)},i.prototype.argMax=function(n){return void 0===n&&(n=null),this.throwIfDisposed(),tn.argMax(this,n)},i.prototype.cast=function(n){return this.throwIfDisposed(),tn.cast(this,n)},i.prototype.add=function(n){return this.throwIfDisposed(),tn.add(this,n)},i.prototype.addStrict=function(n){return this.throwIfDisposed(),tn.addStrict(this,n)},i.prototype.atan2=function(n){return this.throwIfDisposed(),tn.atan2(this,n)},i.prototype.sub=function(n){return this.throwIfDisposed(),tn.sub(this,n)},i.prototype.subStrict=function(n){return this.throwIfDisposed(),tn.subStrict(this,n)},i.prototype.pow=function(n){return this.throwIfDisposed(),tn.pow(this,n)},i.prototype.powStrict=function(n){return this.throwIfDisposed(),tn.powStrict(this,n)},i.prototype.mul=function(n){return this.throwIfDisposed(),tn.mul(this,n)},i.prototype.mulStrict=function(n){return this.throwIfDisposed(),tn.mulStrict(this,n)},i.prototype.div=function(n){return this.throwIfDisposed(),tn.div(this,n)},i.prototype.divNoNan=function(n){return this.throwIfDisposed(),tn.divNoNan(this,n)},i.prototype.floorDiv=function(n){return this.throwIfDisposed(),tn.floorDiv(this,n)},i.prototype.divStrict=function(n){return this.throwIfDisposed(),tn.divStrict(this,n)},i.prototype.minimum=function(n){return this.throwIfDisposed(),tn.minimum(this,n)},i.prototype.minimumStrict=function(n){return this.throwIfDisposed(),tn.minimumStrict(this,n)},i.prototype.maximum=function(n){return this.throwIfDisposed(),tn.maximum(this,n)},i.prototype.maximumStrict=function(n){return this.throwIfDisposed(),tn.maximumStrict(this,n)},i.prototype.mod=function(n){return this.throwIfDisposed(),tn.mod(this,n)},i.prototype.modStrict=function(n){return this.throwIfDisposed(),tn.modStrict(this,n)},i.prototype.squaredDifferenceStrict=function(n){return this.throwIfDisposed(),tn.squaredDifferenceStrict(this,n)},i.prototype.transpose=function(n){return this.throwIfDisposed(),tn.transpose(this,n)},i.prototype.notEqual=function(n){return this.throwIfDisposed(),tn.notEqual(this,n)},i.prototype.notEqualStrict=function(n){return this.throwIfDisposed(),tn.notEqualStrict(this,n)},i.prototype.less=function(n){return this.throwIfDisposed(),tn.less(this,n)},i.prototype.lessStrict=function(n){return this.throwIfDisposed(),tn.lessStrict(this,n)},i.prototype.equal=function(n){return this.throwIfDisposed(),tn.equal(this,n)},i.prototype.equalStrict=function(n){return this.throwIfDisposed(),tn.equalStrict(this,n)},i.prototype.lessEqual=function(n){return this.throwIfDisposed(),tn.lessEqual(this,n)},i.prototype.lessEqualStrict=function(n){return this.throwIfDisposed(),tn.lessEqualStrict(this,n)},i.prototype.greater=function(n){return this.throwIfDisposed(),tn.greater(this,n)},i.prototype.greaterStrict=function(n){return this.throwIfDisposed(),tn.greaterStrict(this,n)},i.prototype.greaterEqual=function(n){return this.throwIfDisposed(),tn.greaterEqual(this,n)},i.prototype.greaterEqualStrict=function(n){return this.throwIfDisposed(),tn.greaterEqualStrict(this,n)},i.prototype.logicalAnd=function(n){return this.throwIfDisposed(),tn.logicalAnd(this,n)},i.prototype.logicalOr=function(n){return this.throwIfDisposed(),tn.logicalOr(this,n)},i.prototype.logicalNot=function(){return this.throwIfDisposed(),tn.logicalNot(this)},i.prototype.logicalXor=function(n){return this.throwIfDisposed(),tn.logicalXor(this,n)},i.prototype.where=function(n,e){return this.throwIfDisposed(),tn.where(n,this,e)},i.prototype.neg=function(){return this.throwIfDisposed(),tn.neg(this)},i.prototype.ceil=function(){return this.throwIfDisposed(),tn.ceil(this)},i.prototype.floor=function(){return this.throwIfDisposed(),tn.floor(this)},i.prototype.sign=function(){return this.throwIfDisposed(),tn.sign(this)},i.prototype.isNaN=function(){return this.throwIfDisposed(),tn.isNaN(this)},i.prototype.isInf=function(){return this.throwIfDisposed(),tn.isInf(this)},i.prototype.isFinite=function(){return this.throwIfDisposed(),tn.isFinite(this)},i.prototype.exp=function(){return this.throwIfDisposed(),tn.exp(this)},i.prototype.expm1=function(){return this.throwIfDisposed(),tn.expm1(this)},i.prototype.log=function(){return this.throwIfDisposed(),tn.log(this)},i.prototype.log1p=function(){return this.throwIfDisposed(),tn.log1p(this)},i.prototype.sqrt=function(){return this.throwIfDisposed(),tn.sqrt(this)},i.prototype.rsqrt=function(){return this.throwIfDisposed(),tn.rsqrt(this)},i.prototype.square=function(){return this.throwIfDisposed(),tn.square(this)},i.prototype.reciprocal=function(){return this.throwIfDisposed(),tn.reciprocal(this)},i.prototype.abs=function(){return this.throwIfDisposed(),tn.abs(this)},i.prototype.clipByValue=function(n,e){return this.throwIfDisposed(),tn.clipByValue(this,n,e)},i.prototype.relu=function(){return this.throwIfDisposed(),tn.relu(this)},i.prototype.relu6=function(){return this.throwIfDisposed(),tn.relu6(this)},i.prototype.elu=function(){return this.throwIfDisposed(),tn.elu(this)},i.prototype.selu=function(){return this.throwIfDisposed(),tn.selu(this)},i.prototype.leakyRelu=function(n){return void 0===n&&(n=.2),this.throwIfDisposed(),tn.leakyRelu(this,n)},i.prototype.prelu=function(n){return this.throwIfDisposed(),tn.prelu(this,n)},i.prototype.sigmoid=function(){return this.throwIfDisposed(),tn.sigmoid(this)},i.prototype.logSigmoid=function(){return this.throwIfDisposed(),tn.logSigmoid(this)},i.prototype.softplus=function(){return this.throwIfDisposed(),tn.softplus(this)},i.prototype.zerosLike=function(){return this.throwIfDisposed(),tn.zerosLike(this)},i.prototype.onesLike=function(){return this.throwIfDisposed(),tn.onesLike(this)},i.prototype.sin=function(){return this.throwIfDisposed(),tn.sin(this)},i.prototype.cos=function(){return this.throwIfDisposed(),tn.cos(this)},i.prototype.tan=function(){return this.throwIfDisposed(),tn.tan(this)},i.prototype.asin=function(){return this.throwIfDisposed(),tn.asin(this)},i.prototype.acos=function(){return this.throwIfDisposed(),tn.acos(this)},i.prototype.atan=function(){return this.throwIfDisposed(),tn.atan(this)},i.prototype.sinh=function(){return this.throwIfDisposed(),tn.sinh(this)},i.prototype.cosh=function(){return this.throwIfDisposed(),tn.cosh(this)},i.prototype.tanh=function(){return this.throwIfDisposed(),tn.tanh(this)},i.prototype.asinh=function(){return this.throwIfDisposed(),tn.asinh(this)},i.prototype.acosh=function(){return this.throwIfDisposed(),tn.acosh(this)},i.prototype.atanh=function(){return this.throwIfDisposed(),tn.atanh(this)},i.prototype.erf=function(){return this.throwIfDisposed(),tn.erf(this)},i.prototype.round=function(){return this.throwIfDisposed(),tn.round(this)},i.prototype.step=function(n){return void 0===n&&(n=0),this.throwIfDisposed(),tn.step(this,n)},i.prototype.softmax=function(n){return void 0===n&&(n=-1),this.throwIfDisposed(),tn.softmax(this,n)},i.prototype.logSoftmax=function(n){return void 0===n&&(n=-1),this.throwIfDisposed(),tn.logSoftmax(this,n)},i.prototype.resizeBilinear=function(n,e){return void 0===e&&(e=!1),this.throwIfDisposed(),tn.image.resizeBilinear(this,n,e)},i.prototype.resizeNearestNeighbor=function(n,e){return void 0===e&&(e=!1),this.throwIfDisposed(),tn.image.resizeNearestNeighbor(this,n,e)},i.prototype.conv1d=function(n,e,r,a,c,h){return void 0===a&&(a="NWC"),void 0===c&&(c=1),this.throwIfDisposed(),tn.conv1d(this,n,e,r,a,c,h)},i.prototype.conv2d=function(n,e,r,a,c,h){return void 0===a&&(a="NHWC"),void 0===c&&(c=[1,1]),this.throwIfDisposed(),tn.conv2d(this,n,e,r,a,c,h)},i.prototype.conv2dTranspose=function(n,e,r,a,c){return this.throwIfDisposed(),tn.conv2dTranspose(this,n,e,r,a,c)},i.prototype.depthwiseConv2D=function(n,e,r,a,c,h){return void 0===a&&(a="NHWC"),void 0===c&&(c=[1,1]),this.throwIfDisposed(),tn.depthwiseConv2d(this,n,e,r,a,c,h)},i.prototype.separableConv2d=function(n,e,r,a,c,h){return void 0===c&&(c=[1,1]),void 0===h&&(h="NHWC"),this.throwIfDisposed(),tn.separableConv2d(this,n,e,r,a,c,h)},i.prototype.avgPool=function(n,e,r,a){return this.throwIfDisposed(),tn.avgPool(this,n,e,r,a)},i.prototype.maxPool=function(n,e,r,a){return this.throwIfDisposed(),tn.maxPool(this,n,e,r,a)},i.prototype.localResponseNormalization=function(n,e,r,a){return void 0===n&&(n=5),void 0===e&&(e=1),void 0===r&&(r=1),void 0===a&&(a=.5),tn.localResponseNormalization(this,n,e,r,a)},i.prototype.pool=function(n,e,r,a,c){return this.throwIfDisposed(),tn.pool(this,n,e,r,a,c)},i.prototype.variable=function(n,e,r){return void 0===n&&(n=!0),this.throwIfDisposed(),Zr().makeVariable(this,n,e,r)},i.prototype.unsortedSegmentSum=function(n,e){return this.throwIfDisposed(),tn.unsortedSegmentSum(this,n,e)},i.prototype.batchToSpaceND=function(n,e){return this.throwIfDisposed(),tn.batchToSpaceND(this,n,e)},i.prototype.spaceToBatchND=function(n,e){return this.throwIfDisposed(),tn.spaceToBatchND(this,n,e)},i.prototype.topk=function(n,e){return void 0===n&&(n=1),void 0===e&&(e=!0),this.throwIfDisposed(),tn.topk(this,n,e)},i.prototype.stridedSlice=function(n,e,r,a,c,h,f,m){return void 0===a&&(a=0),void 0===c&&(c=0),void 0===h&&(h=0),void 0===f&&(f=0),void 0===m&&(m=0),this.throwIfDisposed(),tn.stridedSlice(this,n,e,r,a,c,h,f,m)},i.prototype.depthToSpace=function(n,e){return this.throwIfDisposed(),tn.depthToSpace(this,n,e)},i.prototype.fft=function(){return this.throwIfDisposed(),tn.spectral.fft(this)},i.prototype.ifft=function(){return this.throwIfDisposed(),tn.spectral.ifft(this)},i.prototype.rfft=function(){return this.throwIfDisposed(),tn.spectral.rfft(this)},i.prototype.irfft=function(){return this.throwIfDisposed(),tn.spectral.irfft(this)},i}();Object.defineProperty(Or,Symbol.hasInstance,{value:function(i){return!!i&&null!=i.dataId&&null!=i.shape&&null!=i.dtype}});var so,Zt,Nt,cn,Et,i,Pt=function(i){function n(e,r,a,c){var h=i.call(this,e.shape,e.dtype,e.dataId,c)||this;return h.trainable=r,h.name=a,h}return H(n,i),n.prototype.assign=function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value ("+e.dtype+") and previous value ("+this.dtype+") must match");if(!jt(e.shape,this.shape))throw new Error("shape of the new value ("+e.shape+") and previous value ("+this.shape+") must match");Zr().disposeTensor(this),this.dataId=e.dataId,Zr().incRef(this,null)},n.prototype.dispose=function(){Zr().disposeVariable(this),this.isDisposedInternal=!0},n}(Or);Object.defineProperty(Pt,Symbol.hasInstance,{value:function(i){return i instanceof Or&&null!=i.assign&&i.assign instanceof Function}}),(i=so||(so={})).R0="R0",i.R1="R1",i.R2="R2",i.R3="R3",i.R4="R4",i.R5="R5",i.R6="R6",function(i){i.float32="float32",i.int32="int32",i.bool="int32",i.complex64="complex64"}(Zt||(Zt={})),function(i){i.float32="float32",i.int32="int32",i.bool="bool",i.complex64="complex64"}(Nt||(Nt={})),function(i){i.float32="float32",i.int32="float32",i.bool="float32",i.complex64="complex64"}(cn||(cn={})),function(i){i.float32="complex64",i.int32="complex64",i.bool="complex64",i.complex64="complex64"}(Et||(Et={}));var _n={float32:cn,int32:Zt,bool:Nt,complex64:Et};function Nn(i,n){if("string"===i||"string"===n){if("string"===i&&"string"===n)return"string";throw new Error("Can not upcast "+i+" with "+n)}return _n[i][n]}function Se(i){return Nn(i,"int32")}function ut(i,n){if(i.dtype===n.dtype)return[i,n];var e=Nn(i.dtype,n.dtype);return[i.cast(e),n.cast(e)]}function an(i,n){oe(i.dtype===n.dtype,function(){return"The dtypes of the first("+i.dtype+") and second("+n.dtype+") input must match"})}function Ht(i){var n=[];return function e(r,a,c){if(null!=r){if(r instanceof Or)return void a.push(r);if(h=r,Array.isArray(h)||"object"==typeof h){var h,f=r;for(var m in f){var b=f[m];c.has(b)||(c.add(b),e(b,a,c))}}}}(i,n,new Set),n}Object.freeze({makeTypesMatch:ut,assertTypesMatch:an,isTensorInList:function(i,n){return n.some(function(e){return e.id===i.id})},getTensorsInContainer:Ht});var ge,Pe=function(){function i(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return i.prototype.dispose=function(){for(var n in this.registeredVariables)this.registeredVariables[n].dispose()},i}(),ie=function(){function i(n){this.ENV=n,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new Pe}return i.prototype.ready=function(){return we(this,void 0,void 0,function(){var n,e,r;return q(this,function(a){switch(a.label){case 0:if(null!=this.pendingBackendInit)return[2,this.pendingBackendInit.then(function(){})];if(null!=this.backendInstance)return[2];n=this.getSortedBackends(),e=0,a.label=1;case 1:return e<n.length?[4,this.initializeBackend(r=n[e]).success]:[3,5];case 2:return a.sent()?[4,this.setBackend(r)]:[3,4];case 3:return a.sent(),[2];case 4:return e++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}})})},Object.defineProperty(i.prototype,"backend",{get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var n=this.initializeBackendsAndReturnBest(),e=n.name;if(n.asyncInit)throw new Error("The highest priority backend '"+e+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(e)}return this.backendInstance},enumerable:!0,configurable:!0}),i.prototype.backendNames=function(){return Object.keys(this.registryFactory)},i.prototype.findBackend=function(n){return n in this.registry||n in this.registryFactory&&!this.initializeBackend(n).asyncInit?this.registry[n]:null},i.prototype.findBackendFactory=function(n){return n in this.registryFactory?this.registryFactory[n].factory:null},i.prototype.registerBackend=function(n,e,r){return void 0===r&&(r=1),n in this.registryFactory?(console.warn(n+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[n]={factory:e,priority:r},!0)},i.prototype.setBackend=function(n){return we(this,void 0,void 0,function(){var e,r,a;return q(this,function(c){switch(c.label){case 0:if(null==this.registryFactory[n])throw new Error("Backend name '"+n+"' not found in registry");return this.backendName=n,null!=this.registry[n]?[3,4]:(this.backendInstance=null,e=this.initializeBackend(n),r=e.success,e.asyncInit?[4,r]:[3,2]);case 1:return a=c.sent(),[3,3];case 2:a=r,c.label=3;case 3:if(!a)return[2,!1];c.label=4;case 4:return this.backendInstance=this.registry[n],this.setupRegisteredKernels(),this.profiler=new fo(this.backendInstance),[2,!0]}})})},i.prototype.setupRegisteredKernels=function(){var n=this;Be(this.backendName).forEach(function(e){null!=e.setupFunc&&e.setupFunc(n.backendInstance)})},i.prototype.disposeRegisteredKernels=function(n){var e=this;Be(n).forEach(function(r){null!=r.disposeFunc&&r.disposeFunc(e.registry[n])})},i.prototype.initializeBackend=function(n){var e=this,r=this.registryFactory[n];if(null==r)throw new Error("Cannot initialize backend "+n+", no registration found.");try{var a=r.factory();if(Promise.resolve(a)===a){var c=++this.pendingBackendInitId,h=a.then(function(f){return!(c<e.pendingBackendInitId||(e.registry[n]=f,e.pendingBackendInit=null,0))}).catch(function(f){return!(c<e.pendingBackendInitId||(e.pendingBackendInit=null,console.warn("Initialization of backend "+n+" failed"),console.warn(f.stack||f.message),1))});return this.pendingBackendInit=h,{success:h,asyncInit:!0}}return this.registry[n]=a,{success:!0,asyncInit:!1}}catch(f){return console.warn("Initialization of backend "+n+" failed"),console.warn(f.stack||f.message),{success:!1,asyncInit:!1}}},i.prototype.removeBackend=function(n){if(!(n in this.registryFactory))throw new Error(n+" backend not found in registry");this.backendName===n&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,n in this.registry&&(this.disposeRegisteredKernels(n),this.registry[n].dispose(),delete this.registry[n]),delete this.registryFactory[n],this.backendName===n&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},i.prototype.getSortedBackends=function(){var n=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(function(e,r){return n.registryFactory[r].priority-n.registryFactory[e].priority})},i.prototype.initializeBackendsAndReturnBest=function(){for(var n=this.getSortedBackends(),e=0;e<n.length;e++){var r=n[e],a=this.initializeBackend(r),h=a.asyncInit;if(h||a.success)return{name:r,asyncInit:h}}throw new Error("Could not initialize any backends, all backend initializations failed.")},i.prototype.moveData=function(n,e){var r=this.state.tensorInfo.get(e),a=r.backend,c=this.readSync(e);a.disposeData(e),r.backend=n,n.move(e,c,r.shape,r.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},i.prototype.tidy=function(n,e){var r,a=this,c=null;if(null==e){if("function"!=typeof n)throw new Error("Please provide a function to tidy()");e=n}else{if("string"!=typeof n&&!(n instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof e)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");c=n}return this.scopedRun(function(){return a.startScope(c)},function(){return a.endScope(r)},function(){return(r=e())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),r})},i.prototype.scopedRun=function(n,e,r){n();try{var a=r();return e(),a}catch(c){throw e(),c}},i.prototype.nextTensorId=function(){return i.nextTensorId++},i.prototype.nextVariableId=function(){return i.nextVariableId++},i.prototype.clone=function(n){var e=this.makeTensorFromDataId(n.dataId,n.shape,n.dtype);return this.addTapeNode(this.state.activeScope.name,{x:n},[e],function(a){return{x:function(){return a.toFloat()}}},[]),e},i.prototype.runKernel=function(n,e,r,a,c){return this.runKernelFunc(null,e,null,n,r,a,c)},i.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},i.prototype.checkKernelForMemLeak=function(n,e,r){var a=this.backend.numDataIds(),c=0;r.forEach(function(m){c+="complex64"===m.dtype?3:1});var f=a-e-c-this.state.numDataMovesStack[this.state.numDataMovesStack.length-1];if(f>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+f+" data ids) after running '"+n+"'")},i.prototype.runKernelFunc=function(n,e,r,a,c,h,f){var m,b=this;void 0===h&&(h=[]),void 0===f&&(f=[]);var _=[],I=this.isTapeOn();null==a&&(a=null!=this.state.activeScope?this.state.activeScope.name:"");var D,T=function(me){I&&(_=me.map(function(be){return b.keep(b.clone(be))}))},z=this.state.numBytes,J=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var ee,ne=Me(a,this.backendName);return D=null!=ne?function(){var me=b.backend.numDataIds();ee=ne.kernelFunc({inputs:e,attrs:c,backend:b.backend});var be=Array.isArray(ee)?ee:[ee];b.shouldCheckForMemLeaks()&&b.checkKernelForMemLeak(a,me,be);var pe=be.map(function(Ye){return b.makeTensorFromDataId(Ye.dataId,Ye.shape,Ye.dtype)}),Ie=pe.filter(function(Ye,kt){return f[kt]});return T((h||[]).slice().concat(Ie)),pe}:function(){var me=b.backend.numDataIds();ee=b.tidy(function(){return n(b.backend,T)});var be=Array.isArray(ee)?ee:[ee];return b.shouldCheckForMemLeaks()&&b.checkKernelForMemLeak(a,me,be),be},this.scopedRun(function(){return b.state.kernelDepth++},function(){return b.state.kernelDepth--},function(){m=b.ENV.getBool("DEBUG")?b.profiler.profileKernel(a,e,function(){return D()}):D()}),I&&this.addTapeNode(a,e,m,r,_),this.state.profiling&&this.state.activeProfile.kernels.push({name:a,bytesAdded:this.state.numBytes-z,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-J,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(e).map(function(me){return e[me].shape}),outputShapes:m.map(function(me){return me.shape})}),Array.isArray(ee)?m:m[0]},i.prototype.makeTensor=function(n,e,r,a){if(null==n)throw new Error("Values passed to engine.makeTensor() are null");a=a||this.backend;var c=n;"string"===(r=r||"float32")&&Qn(n[0])&&(c=n.map(function(_){return Fr(_)}));var h=a.write(c,e,r),f=new Or(e,r,h,this.nextTensorId());if(this.incRef(f,a),"string"===r){var m=this.state.tensorInfo.get(h),b=hr(c);this.state.numBytes+=b-m.bytes,m.bytes=b}return f},i.prototype.makeTensorFromDataId=function(n,e,r,a){var c=new Or(e,r=r||"float32",n,this.nextTensorId());return this.incRef(c,a),c},i.prototype.makeVariable=function(n,e,r,a){void 0===e&&(e=!0),r=r||this.nextVariableId().toString(),null!=a&&a!==n.dtype&&(n=n.asType(a));var c=new Pt(n,e,r,this.nextTensorId());if(null!=this.state.registeredVariables[c.name])throw new Error("Variable with name "+c.name+" was already registered");return this.state.registeredVariables[c.name]=c,this.incRef(c,this.backend),c},i.prototype.incRef=function(n,e){var r=this.state.tensorInfo.has(n.dataId)?this.state.tensorInfo.get(n.dataId).refCount:0;if(this.state.numTensors++,"string"===n.dtype&&this.state.numStringTensors++,0===r){this.state.numDataBuffers++;var a=0;"complex64"!==n.dtype&&"string"!==n.dtype&&(a=n.size*Yt(n.dtype)),this.state.tensorInfo.set(n.dataId,{backend:e||this.backend,dtype:n.dtype,shape:n.shape,bytes:a,refCount:0}),this.state.numBytes+=a}this.state.tensorInfo.get(n.dataId).refCount++,n instanceof Pt||this.track(n)},i.prototype.disposeTensor=function(n){if(this.state.tensorInfo.has(n.dataId)){this.state.numTensors--,"string"===n.dtype&&this.state.numStringTensors--;var e=this.state.tensorInfo.get(n.dataId);e.refCount<=1?("complex64"!==n.dtype&&(this.state.numBytes-=e.bytes),this.state.numDataBuffers--,e.backend.disposeData(n.dataId),this.state.tensorInfo.delete(n.dataId)):this.state.tensorInfo.get(n.dataId).refCount--}},i.prototype.disposeVariables=function(){for(var n in this.state.registeredVariables)this.disposeVariable(this.state.registeredVariables[n])},i.prototype.disposeVariable=function(n){this.disposeTensor(n),null!=this.state.registeredVariables[n.name]&&delete this.state.registeredVariables[n.name]},i.prototype.memory=function(){var n=this.backend.memory();return n.numTensors=this.state.numTensors,n.numDataBuffers=this.state.numDataBuffers,n.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(n.unreliable=!0,null==n.reasons&&(n.reasons=[]),n.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),n},i.prototype.profile=function(n){return we(this,void 0,void 0,function(){var e,r;return q(this,function(a){return this.state.profiling=!0,e=this.state.numBytes,r=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=n(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map(function(c){return c.totalBytesSnapshot})),this.state.activeProfile.newBytes=this.state.numBytes-e,this.state.activeProfile.newTensors=this.state.numTensors-r,[2,this.state.activeProfile]})})},i.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth},i.prototype.addTapeNode=function(n,e,r,a,c){var h=this,f={id:this.state.nextTapeNodeId++,kernelName:n,inputs:e,outputs:r,saved:c},m=function Qe(i){return $e.get(i)}(n);null!=m&&(a=m.gradFunc),null!=a&&(f.gradient=function(b){return b=b.map(function(_,I){if(null==_){var D=r[I],T=nn(D.size,D.dtype);return h.makeTensor(T,D.shape,D.dtype)}return _}),a(b.length>1?b:b[0],c)}),this.state.activeTape.push(f)},i.prototype.keep=function(n){return n.kept=!0,n},i.prototype.startTape=function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++},i.prototype.endTape=function(){this.state.gradientDepth--},i.prototype.startScope=function(n){var e={track:[],name:"unnamed scope",id:this.state.nextScopeId++};n&&(e.name=n),this.state.scopeStack.push(e),this.state.activeScope=e},i.prototype.endScope=function(n){for(var e=this,r=Ht(n),a=new Set(r.map(function(m){return m.id})),c=0;c<this.state.activeScope.track.length;c++){var h=this.state.activeScope.track[c];h.kept||a.has(h.id)||h.dispose()}var f=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],r.forEach(function(m){m.kept||m.scopeId!==f.id||e.track(m)})},i.prototype.gradients=function(n,e,r,a){var c=this;if(void 0===a&&(a=!1),oe(e.length>0,function(){return"gradients() received an empty list of xs."}),null!=r&&"float32"!==r.dtype)throw new Error("dy must have 'float32' dtype, but has '"+r.dtype+"'");var h=this.scopedRun(function(){return c.startTape()},function(){return c.endTape()},function(){return c.tidy("forward",n)});oe(h instanceof Or,function(){return"The result y returned by f() must be a tensor."});var f=function(m,b,_){for(var I={},D={},T=0;T<b.length;T++)I[b[T].id]=!0;for(T=0;T<m.length;T++){var z=(Ye=m[T]).inputs;for(var J in z){for(var ee=z[J],ne=!1,me=0;me<b.length;me++)if(I[ee.id]){Ye.outputs.forEach(function(bt){return I[bt.id]=!0}),ne=!0,D[Ye.id]=!0;break}if(ne)break}}var be={};be[_.id]=!0;var pe={};for(T=m.length-1;T>=0;T--)for(z=(Ye=m[T]).inputs,me=0;me<Ye.outputs.length;me++)if(be[Ye.outputs[me].id]){for(var J in z)be[z[J].id]=!0,pe[Ye.id]=!0;break}var Ie=[];for(T=0;T<m.length;T++){var Ye;if(D[(Ye=m[T]).id]&&pe[Ye.id]){var kt={};for(var J in Ye.inputs){var It=Ye.inputs[J];I[It.id]&&(kt[J]=It)}var vt=Object.assign({},Ye);vt.inputs=kt,vt.outputs=Ye.outputs,Ie.push(vt)}}return Ie}(this.state.activeTape,e,h);if(!a&&0===f.length&&e.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",function(){var m,b,_={};_[h.id]=null==r?(b=xn(He(m=h.shape),"float32"),G.makeTensor(b,m,"float32")):r,function(D,T){for(var J=function(ne){var me=T[ne],be=[];if(me.outputs.forEach(function(kt){var It=D[kt.id];be.push(null!=It?It:null)}),null==me.gradient)throw new Error("Cannot compute gradient: gradient function not found for "+me.kernelName+".");var pe=me.gradient(be),Ie=function(kt){if(!(kt in pe))throw new Error("Cannot backprop through input "+kt+". Available gradients found: "+Object.keys(pe)+".");var It=c.tidy(function(){return pe[kt]()});if("float32"!==It.dtype)throw new Error("Error in gradient for op "+me.kernelName+". The gradient of input "+kt+" must have 'float32' dtype, but has '"+It.dtype+"'");var vt=me.inputs[kt];if(!jt(It.shape,vt.shape))throw new Error("Error in gradient for op "+me.kernelName+". The gradient of input '"+kt+"' has shape '"+It.shape+"', which does not match the shape of the input '"+vt.shape+"'");if(null==D[vt.id])D[vt.id]=It;else{var bt=D[vt.id];D[vt.id]=bt.add(It),bt.dispose()}};for(var Ye in me.inputs)Ie(Ye)},ee=T.length-1;ee>=0;ee--)J(ee)}(_,f);var I=e.map(function(D){return _[D.id]});return 0===c.state.gradientDepth&&(c.state.activeTape.forEach(function(D){for(var T=0,z=D.saved;T<z.length;T++)z[T].dispose()}),c.state.activeTape=null),{value:h,grads:I}})},i.prototype.customGrad=function(n){var e=this;return oe(dr(n),function(){return"The f passed in customGrad(f) must be a function."}),function(){for(var r,a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];oe(a.every(function(f){return f instanceof Or}),function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"});var h={};return a.forEach(function(f,m){h[m]=f}),e.runKernelFunc(function(f,m){return oe((r=n.apply(void 0,a.concat([m]))).value instanceof Or,function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"}),oe(dr(r.gradFunc),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."}),r.value},h,function(f,m){var b=r.gradFunc(f,m),_=Array.isArray(b)?b:[b];oe(_.length===a.length,function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."}),oe(_.every(function(D){return D instanceof Or}),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."});var I={};return _.forEach(function(D,T){I[T]=function(){return D}}),I})}},i.prototype.readSync=function(n){return this.state.tensorInfo.get(n).backend.readSync(n)},i.prototype.read=function(n){return this.state.tensorInfo.get(n).backend.read(n)},i.prototype.time=function(n){return we(this,void 0,void 0,function(){var e,r;return q(this,function(a){switch(a.label){case 0:return e=sn(),[4,this.backend.time(n)];case 1:return(r=a.sent()).wallMs=sn()-e,[2,r]}})})},i.prototype.track=function(n){return null!=this.state.activeScope&&(n.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(n)),n},Object.defineProperty(i.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),i.prototype.reset=function(){for(var n in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new Pe,this.registry)this.disposeRegisteredKernels(n),this.registry[n].dispose(),delete this.registry[n];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},i.nextTensorId=0,i.nextVariableId=0,i}(),G=function(){var i=function(){if(null==ge){var e=void 0;if(typeof window<"u")e=window;else if(typeof global<"u")e=global;else if(typeof process<"u")e=process;else{if(typeof self>"u")throw new Error("Could not find a global object");e=self}ge=e}return ge}();if(null==i._tfengine){var n=new S(i);i._tfengine=new ie(n)}return Ke=i._tfengine.ENV,Zr=function(){return i._tfengine},i._tfengine}();function nt(){return typeof window<"u"&&null!=window.document||typeof WorkerGlobalScope<"u"}var Ut=ce();Ut.registerFlag("DEBUG",function(){return!1},function(i){i&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),Ut.registerFlag("IS_BROWSER",function(){return nt()}),Ut.registerFlag("IS_NODE",function(){return typeof process<"u"&&void 0!==process.versions&&void 0!==process.versions.node}),Ut.registerFlag("IS_CHROME",function(){return typeof navigator<"u"&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}),Ut.registerFlag("PROD",function(){return!1}),Ut.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",function(){return Ut.getBool("DEBUG")}),Ut.registerFlag("DEPRECATION_WARNINGS_ENABLED",function(){return!0}),Ut.registerFlag("IS_TEST",function(){return!1});var vn,Ln,wn,Sr={},Io={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function zo(i,n){Sr[i]=n}function wo(i){i in Sr||(Sr[i]=function(e){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var r=function(a){if(typeof OffscreenCanvas<"u"&&2===a)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e);return r.addEventListener("webglcontextlost",function(a){a.preventDefault(),delete Sr[e]},!1),1===e?r.getContext("webgl",Io)||r.getContext("experimental-webgl",Io):r.getContext("webgl2",Io)}(i));var n=Sr[i];return n.isContextLost()?(delete Sr[i],wo(i)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),Sr[i])}function To(i,n){return[n,i]}function Ar(i){var n=He(i);return on(Math.ceil(n/4))}function No(i,n){return[Math.max(1,Math.ceil(n/2)),Math.max(1,Math.ceil(i/2))]}function po(i,n){var e,r,a,c,h,f,m,b,_,I=i;return 2===ce().getNumber("WEBGL_VERSION")?(e=I.R32F,r=I.R16F,a=I.RGBA16F,c=I.RGBA32F,h=I.RED,f=4,m=1,b=I.HALF_FLOAT,_=I.FLOAT):(e=i.RGBA,r=i.RGBA,a=i.RGBA,c=I.RGBA,h=i.RGBA,f=4,m=4,b=null!=n?n.HALF_FLOAT_OES:null,_=i.FLOAT),{internalFormatFloat:e,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:c,textureFormatFloat:h,downloadTextureFormat:i.RGBA,downloadUnpackNumChannels:f,defaultNumChannels:m,textureTypeHalfFloat:b,textureTypeFloat:_}}function Jn(i,n,e){var r=e();return n&&function(a){var c=a.getError();if(c!==a.NO_ERROR)throw new Error("WebGL Error: "+Hn(a,c))}(i),r}function dn(i){return!!(ce().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===i||5.96e-8<Math.abs(i)&&Math.abs(i)<65504)}function Hn(i,n){switch(n){case i.NO_ERROR:return"NO_ERROR";case i.INVALID_ENUM:return"INVALID_ENUM";case i.INVALID_VALUE:return"INVALID_VALUE";case i.INVALID_OPERATION:return"INVALID_OPERATION";case i.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case i.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case i.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+n}}function Ir(i,n,e){return br(i,n,function(){return i.getExtension(e)},'Extension "'+e+'" not supported on this browser.')}function eo(i,n,e){var r=br(i,n,function(){return i.createShader(i.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(Jn(i,n,function(){return i.shaderSource(r,e)}),Jn(i,n,function(){return i.compileShader(r)}),!1===i.getShaderParameter(r,i.COMPILE_STATUS))throw console.log(i.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function Oe(i,n,e){var r=br(i,n,function(){return i.createShader(i.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(Jn(i,n,function(){return i.shaderSource(r,e)}),Jn(i,n,function(){return i.compileShader(r)}),!1===i.getShaderParameter(r,i.COMPILE_STATUS))throw function(a,c){var h=le.exec(c);if(null==h)return console.log("Couldn't parse line number in error: "+c),void console.log(a);for(var f=+h[1],m=a.split("\n"),b=m.length.toString().length+2,_=m.map(function(ee,ne){return Xn((ne+1).toString(),b)+ee}),I=0,D=0;D<_.length;D++)I=Math.max(_[D].length,I);var T=_.slice(0,f-1),z=_.slice(f-1,f),J=_.slice(f);console.log(T.join("\n")),console.log(c.split("\n")[0]),console.log("%c "+Xn(z[0],I),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(J.join("\n"))}(e,i.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}(function(i){i[i.DENSE=0]="DENSE",i[i.SHARED_BATCH=1]="SHARED_BATCH"})(vn||(vn={})),function(i){i[i.RENDER=0]="RENDER",i[i.UPLOAD=1]="UPLOAD",i[i.PIXELS=2]="PIXELS",i[i.DOWNLOAD=3]="DOWNLOAD"}(Ln||(Ln={})),function(i){i[i.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",i[i.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",i[i.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",i[i.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",i[i.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(wn||(wn={}));var ot,Ft,le=/ERROR: [0-9]+:([0-9]+):/g;function Ue(i,n){return br(i,n,function(){return i.createProgram()},"Unable to create WebGLProgram.")}function De(i,n,e){if(Jn(i,n,function(){return i.linkProgram(e)}),!1===i.getProgramParameter(e,i.LINK_STATUS))throw console.log(i.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function qe(i,n,e){if(Jn(i,n,function(){return i.validateProgram(e)}),!1===i.getProgramParameter(e,i.VALIDATE_STATUS))throw console.log(i.getProgramInfoLog(e)),new Error("Shader program validation failed.")}function st(i,n,e){var r=br(i,n,function(){return i.createBuffer()},"Unable to create WebGLBuffer");return Jn(i,n,function(){return i.bindBuffer(i.ARRAY_BUFFER,r)}),Jn(i,n,function(){return i.bufferData(i.ARRAY_BUFFER,e,i.STATIC_DRAW)}),r}function Ct(i,n,e){var r=br(i,n,function(){return i.createBuffer()},"Unable to create WebGLBuffer");return Jn(i,n,function(){return i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,r)}),Jn(i,n,function(){return i.bufferData(i.ELEMENT_ARRAY_BUFFER,e,i.STATIC_DRAW)}),r}function Vt(i,n){return br(i,n,function(){return i.createTexture()},"Unable to create WebGLTexture.")}function mn(i,n){var e=ce().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(i<=0||n<=0){var r="["+i+"x"+n+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(i>e||n>e)throw r="["+i+"x"+n+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU ["+e+"x"+e+"].")}function Pn(i,n){return br(i,n,function(){return i.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function An(i,n,e,r,a,c,h,f){var m=i.getAttribLocation(e,r);return-1!==m&&(Jn(i,n,function(){return i.bindBuffer(i.ARRAY_BUFFER,a)}),Jn(i,n,function(){return i.vertexAttribPointer(m,c,i.FLOAT,!1,h,f)}),Jn(i,n,function(){return i.enableVertexAttribArray(m)}),!0)}function Cn(i,n,e,r){Wr(i,r),Jn(i,n,function(){return i.activeTexture(i.TEXTURE0+r)}),Jn(i,n,function(){return i.bindTexture(i.TEXTURE_2D,e)})}function nr(i,n,e,r){return br(i,n,function(){return i.getUniformLocation(e,r)},'uniform "'+r+'" not present in program.')}function Er(i,n,e){return i.getUniformLocation(n,e)}function gr(i,n,e,r,a,c){Jn(i,n,function(){return Cn(i,n,r,c)}),Jn(i,n,function(){return i.uniform1i(a,c)})}function xr(i,n,e,r){Jn(i,n,function(){return i.bindFramebuffer(i.FRAMEBUFFER,r)}),Jn(i,n,function(){return i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,e,0)})}function no(i,n,e){Jn(i,n,function(){return i.bindFramebuffer(i.FRAMEBUFFER,e)}),Jn(i,n,function(){return i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,null,0)})}function Tr(i){var n=i.checkFramebufferStatus(i.FRAMEBUFFER);if(n!==i.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+go(i,n))}function go(i,n){switch(n){case i.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case i.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case i.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case i.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+n}}function br(i,n,e,r){var a=Jn(i,n,function(){return e()});if(null==a)throw new Error(r);return a}function Wr(i,n){var e=i.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=n+i.TEXTURE0;if(r<i.TEXTURE0||r>e)throw new Error("textureUnit must be in [gl.TEXTURE0, gl.TEXTURE"+e+"].")}function Ki(i,n){return void 0===n&&(n=2),He(i.slice(0,i.length-n))}function Mi(i){if(0===i.length)throw Error("Cannot get rows and columns of an empty shape array.");return[i.length>1?i[i.length-2]:1,i[i.length-1]]}function ea(i){var n=[1,1,1];return 0===i.length||1===i.length&&1===i[0]||(n=[Ki(i)].concat(Mi(i))),n}function ja(i,n){var e;void 0===n&&(n=!1);var r=ce().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(n&&(r*=2,1===(i=i.map(function(b,_){return _>=i.length-2?Ee(i[_]):i[_]})).length&&(i=[2,i[0]])),2!==i.length){var a=ue(i);i=a.newShape}var c=He(i);if(i.length<=1&&c<=r)return[1,c];if(2===i.length&&i[0]<=r&&i[1]<=r)return i;if(3===i.length&&i[0]*i[1]<=r&&i[2]<=r)return[i[0]*i[1],i[2]];if(3===i.length&&i[0]<=r&&i[1]*i[2]<=r)return[i[0],i[1]*i[2]];if(4===i.length&&i[0]*i[1]*i[2]<=r&&i[3]<=r)return[i[0]*i[1]*i[2],i[3]];if(4===i.length&&i[0]<=r&&i[1]*i[2]*i[3]<=r)return[i[0],i[1]*i[2]*i[3]];if(n){var h=Ki(i),f=2,m=2;return i.length&&(f=(e=Mi(i))[0],m=e[1]),on(c=h*(f/2)*(m/2)).map(function(b){return 2*b})}return on(c)}function Li(i){return i%2==0}function bi(i,n){if(jt(i=i.slice(-2),n=n.slice(-2))||!i.length||!n.length||0===i[0]||0===i[1]||0===n[0]||0===n[1])return!0;if(i.length!==n.length){var e=i.slice(-1)[0],r=n.slice(-1)[0];if(e===r||Li(e)&&Li(r)&&(1===i[0]||1===n[0]))return!0}return i[1]===n[1]&&Li(i[0])&&Li(n[0])}function Co(i){if(null==ot){var n=wo(i);ot=n.getParameter(n.MAX_TEXTURE_SIZE)}return ot}function Yi(i){if(null==Ft){var n=wo(i);Ft=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,Ft)}function Ri(i){if(0===i)return 0;var n=wo(i);return Po(n,"EXT_disjoint_timer_query_webgl2")&&2===i?2:Po(n,"EXT_disjoint_timer_query")?1:0}function Po(i,n){return null!=i.getExtension(n)}function za(i){try{if(null!=wo(i))return!0}catch{return!1}return!1}function Sa(i){if(0===i)return!1;var n=wo(i);if(1===i){if(!Po(n,"OES_texture_float"))return!1}else if(!Po(n,"EXT_color_buffer_float"))return!1;return Za(n)}function fs(i){if(0===i)return!1;var n=wo(i);if(1!==i){if(Po(n,"EXT_color_buffer_float"))return Za(n);if(Po(n,"EXT_color_buffer_half_float")){var e=n.getExtension("EXT_color_buffer_half_float");return function(r,a){var c=po(r,a),h=r.createTexture();r.bindTexture(r.TEXTURE_2D,h),r.texImage2D(r.TEXTURE_2D,0,c.internalFormatHalfFloat,1,1,0,c.textureFormatFloat,c.textureTypeHalfFloat,null);var f=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,f),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,h,0);var m=r.checkFramebufferStatus(r.FRAMEBUFFER)===r.FRAMEBUFFER_COMPLETE;return r.bindTexture(r.TEXTURE_2D,null),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteTexture(h),r.deleteFramebuffer(f),m}(n,e)}return!1}return!!Po(n,"OES_texture_float")&&!!Po(n,"WEBGL_color_buffer_float")&&Za(n)}function Za(i){var n=po(i),e=i.createTexture();i.bindTexture(i.TEXTURE_2D,e),i.texImage2D(i.TEXTURE_2D,0,n.internalFormatFloat,1,1,0,n.textureFormatFloat,n.textureTypeFloat,null);var r=i.createFramebuffer();i.bindFramebuffer(i.FRAMEBUFFER,r),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,e,0);var a=i.checkFramebufferStatus(i.FRAMEBUFFER)===i.FRAMEBUFFER_COMPLETE;return i.bindTexture(i.TEXTURE_2D,null),i.bindFramebuffer(i.FRAMEBUFFER,null),i.deleteTexture(e),i.deleteFramebuffer(r),a}function ba(i){return 2===i&&null!=wo(i).fenceSync}var B=Object.freeze({callAndCheck:Jn,canBeRepresented:dn,getWebGLErrorMessage:Hn,getExtensionOrThrow:Ir,createVertexShader:eo,createFragmentShader:Oe,createProgram:Ue,linkProgram:De,validateProgram:qe,createStaticVertexBuffer:st,createStaticIndexBuffer:Ct,getNumChannels:function(){return 2===ce().getNumber("WEBGL_VERSION")?1:4},createTexture:Vt,validateTextureSize:mn,createFramebuffer:Pn,bindVertexBufferToProgramAttribute:An,bindTextureUnit:Cn,unbindTextureUnit:function(i,n,e){Wr(i,e),Jn(i,n,function(){return i.activeTexture(i.TEXTURE0+e)}),Jn(i,n,function(){return i.bindTexture(i.TEXTURE_2D,null)})},getProgramUniformLocationOrThrow:nr,getProgramUniformLocation:Er,bindTextureToProgramUniformSampler:gr,bindCanvasToFramebuffer:function(i,n){Jn(i,n,function(){return i.bindFramebuffer(i.FRAMEBUFFER,null)}),Jn(i,n,function(){return i.viewport(0,0,i.canvas.width,i.canvas.height)}),Jn(i,n,function(){return i.scissor(0,0,i.canvas.width,i.canvas.height)})},bindColorTextureToFramebuffer:xr,unbindColorTextureFromFramebuffer:no,validateFramebuffer:Tr,getFramebufferErrorMessage:go,getBatchDim:Ki,getRowsCols:Mi,getShapeAs3D:ea,getTextureShapeFromLogicalShape:ja,isReshapeFree:bi,getWebGLMaxTextureSize:Co,resetMaxTextureSize:function(){ot=null},resetMaxTexturesInShader:function(){Ft=null},getMaxTexturesInShader:Yi,getWebGLDisjointQueryTimerVersion:Ri,hasExtension:Po,isWebGLVersionEnabled:za,isCapableOfRenderingToFloatTexture:Sa,isDownloadFloatTextureEnabled:fs,isWebGLFenceEnabled:ba}),se=ce();function Z(i){ce().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(i+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function $t(i,n){return G.tidy(i,n)}function Wt(i){Ht(i).forEach(function(n){return n.dispose()})}function la(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];ce().getBool("IS_TEST")||console.warn.apply(console,i)}function ci(i,n){var e=i;if(un(i))return"string"===n?[]:[i.length];if(!Array.isArray(i))return[];for(var r=[];Array.isArray(e)||un(e)&&"string"!==n;)r.push(e.length),e=e[0];return Array.isArray(i)&&ce().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function a(c,h,f){if(f=f||[],Array.isArray(c)||un(c)){oe(h.length>0,function(){return"Element arr["+f.join("][")+"] should be a primitive, but is an array of "+c.length+" elements"}),oe(c.length===h[0],function(){return"Element arr["+f.join("][")+"] should have "+h[0]+" elements, but has "+c.length+" elements"});for(var m=h.slice(1),b=0;b<c.length;++b)a(c[b],m,f.concat(b))}else oe(0===h.length,function(){return"Element arr["+f.join("][")+"] is a primitive, but should be an array/TypedArray of "+h[0]+" elements"})}(i,r,[]),r}function Pi(i,n,e,r){if(null!=i&&("numeric"!==i&&i!==n||"numeric"===i&&"string"===n))throw new Error("Argument '"+e+"' passed to '"+r+"' must be "+i+" tensor, but got "+n+" tensor")}function Xe(i,n,e,r){if(void 0===r&&(r="numeric"),i instanceof Or)return Pi(r,i.dtype,n,e),i;var a=Xr(i);if("string"!==a&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),Pi(r,a,n,e),null==i||!un(i)&&!Array.isArray(i)&&"number"!=typeof i&&"boolean"!=typeof i&&"string"!=typeof i)throw new Error("Argument '"+n+"' passed to '"+e+"' must be a Tensor or TensorLike, but got '"+(null==i?"null":i.constructor.name)+"'");var h=ci(i,a);un(i)||Array.isArray(i)||(i=[i]);var f="string"!==a?pr(i,a,ce().getBool("DEBUG")):Ze(i,[],!0);return G.makeTensor(f,h,a)}function zi(i,n,e,r){if(void 0===r&&(r="numeric"),!Array.isArray(i))throw new Error("Argument "+n+" passed to "+e+" must be a `Tensor[]` or `TensorLike[]`");return i.map(function(a,c){return Xe(a,n+"["+c+"]",e)},r)}function Aa(i,n){for(var e=0;e<i.length;++e)if(i[i.length-e-1]!==n-1-e)return!1;return!0}function ws(i,n,e){for(var r=i.length+n.length,a=[],c=0,h=0,f=0;f<r;f++)-1===e.indexOf(f)?a.push(i[c++]):a.push(n[h++]);return a}function Ei(i,n){for(var e=[],r=i.length,a=0;a<r;a++)-1===n.indexOf(a)&&e.push(i[a]);return[e,n.map(function(c){return i[c]})]}function xi(i,n){return ws(i,n.map(function(e){return 1}),n)}function ta(i,n,e){oe(Aa(n,e),function(){return i+" supports only inner-most axes for now. Got axes "+n+" and rank-"+e+" input."})}function ca(i,n){if(Aa(i,n))return null;for(var e=[],r=0;r<n;++r)-1===i.indexOf(r)&&e.push(r);return i.forEach(function(a){return e.push(a)}),e}function di(i){return i.map(function(n,e){return[e,n]}).sort(function(n,e){return n[1]-e[1]}).map(function(n){return n[0]})}function qi(i,n){for(var e=[],r=n-i;r<n;++r)e.push(r);return e}function Ua(i,n){var e=i[0].length;i.forEach(function(a,c){oe(a.length===e,function(){return"Error in concat"+e+"D: rank of tensors["+c+"] must be the same as the rank of the rest ("+e+")"})}),oe(n>=0&&n<e,function(){return"Error in concat"+e+"D: axis must be between 0 and "+(e-1)+"."});var r=i[0];i.forEach(function(a,c){for(var h=0;h<e;h++)oe(h===n||a[h]===r[h],function(){return"Error in concat"+e+"D: Shape of tensors["+c+"] ("+a+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+c+"."})})}function X(i,n){for(var e=i[0].slice(),r=1;r<i.length;r++)e[n]+=i[r][n];return e}function $(i){var n=Object.keys(i);if(1!==n.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+n.length+" keys.");var e=n[0],r=i[e];e.endsWith("_")&&(e=e.substring(0,e.length-1));var a=function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];G.startScope(e);try{var f=r.apply(void 0,c);return f instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),G.endScope(f),f}catch(m){throw G.endScope(null),m}};return Object.defineProperty(a,"name",{value:e,configurable:!0}),a}se.registerFlag("HAS_WEBGL",function(){return se.getNumber("WEBGL_VERSION")>0}),se.registerFlag("WEBGL_VERSION",function(){return za(2)?2:za(1)?1:0}),se.registerFlag("WEBGL_BUFFER_SUPPORTED",function(){return 2===se.get("WEBGL_VERSION")}),se.registerFlag("WEBGL_CPU_FORWARD",function(){return!0}),se.registerFlag("WEBGL_FORCE_F16_TEXTURES",function(){return!1}),se.registerFlag("WEBGL_PACK",function(){return se.getBool("HAS_WEBGL")}),se.registerFlag("WEBGL_PACK_NORMALIZATION",function(){return se.getBool("WEBGL_PACK")}),se.registerFlag("WEBGL_PACK_CLIP",function(){return se.getBool("WEBGL_PACK")}),se.registerFlag("WEBGL_PACK_DEPTHWISECONV",function(){return!1}),se.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",function(){return se.getBool("WEBGL_PACK")}),se.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",function(){return se.getBool("WEBGL_PACK")}),se.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",function(){return se.getBool("WEBGL_PACK")}),se.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",function(){return se.getBool("WEBGL_PACK")}),se.registerFlag("WEBGL_PACK_REDUCE",function(){return se.getBool("WEBGL_PACK")}),se.registerFlag("WEBGL_LAZILY_UNPACK",function(){return se.getBool("WEBGL_PACK")}),se.registerFlag("WEBGL_CONV_IM2COL",function(){return se.getBool("WEBGL_PACK")}),se.registerFlag("WEBGL_MAX_TEXTURE_SIZE",function(){return Co(se.getNumber("WEBGL_VERSION"))}),se.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",function(){return Yi(se.getNumber("WEBGL_VERSION"))}),se.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",function(){var i=se.getNumber("WEBGL_VERSION");return 0===i?0:Ri(i)}),se.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",function(){return se.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(i=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4))));var i}),se.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",function(){return Sa(se.getNumber("WEBGL_VERSION"))}),se.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",function(){return!se.getBool("WEBGL_FORCE_F16_TEXTURES")&&se.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")}),se.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",function(){return fs(se.getNumber("WEBGL_VERSION"))}),se.registerFlag("WEBGL_FENCE_API_ENABLED",function(){return ba(se.getNumber("WEBGL_VERSION"))}),se.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",function(){return se.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0}),ar=Z;var xe=$({complex_:function(i,n){var e=Xe(i,"real","complex"),r=Xe(n,"imag","complex");return it(e.shape,r.shape,"real and imag shapes, "+e.shape+" and "+r.shape+", must match in call to tf.complex()."),G.runKernelFunc(function(a){return a.complex(e,r)},{$real:e,$imag:r})}}),je=$({real_:function(i){var n=Xe(i,"input","real");return G.runKernelFunc(function(e){return e.real(n)},{$input:n})}}),mt=$({imag_:function(i){var n=Xe(i,"input","imag");return G.runKernelFunc(function(e){return e.imag(n)},{$input:n})}});function gt(i,n,e){return Qt(i,n,ci(i,e),e)}function Qt(i,n,e,r){if(null==r&&(r=Xr(i)),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!un(i)&&!Array.isArray(i)&&"number"!=typeof i&&"boolean"!=typeof i&&"string"!=typeof i)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=n){qt(n);var a=He(n),c=He(e);oe(a===c,function(){return"Based on the provided shape, ["+n+"], the tensor should have "+a+" values but has "+c});for(var h=0;h<e.length;++h){var m=h!==e.length-1||e[h]!==He(n.slice(h));oe(e[h]===n[h]||!m,function(){return"Error creating a new Tensor. Inferred shape ("+e+") does not match the provided shape ("+n+"). "})}}return un(i)||Array.isArray(i)||(i=[i]),n=n||e,i="string"!==r?pr(i,r,ce().getBool("DEBUG")):Ze(i,[],!0),G.makeTensor(i,n,r)}function Rt(i,n){if((un(i)&&"string"!==n||Array.isArray(i))&&"complex64"!==n)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===n&&un(i)&&!(i instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Qt(i,[],[],n)}function Jt(i,n){At(i);var e=ci(i,n);if(1!==e.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Qt(i,null,e,n)}function pn(i,n,e){if(At(i),null!=n&&2!==n.length)throw new Error("tensor2d() requires shape to have two numbers");var r=ci(i,e);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==n)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Qt(i,n,r,e)}function Wn(i,n,e){if(At(i),null!=n&&3!==n.length)throw new Error("tensor3d() requires shape to have three numbers");var r=ci(i,e);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==n)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Qt(i,n,r,e)}function Kn(i,n,e){if(At(i),null!=n&&4!==n.length)throw new Error("tensor4d() requires shape to have four numbers");var r=ci(i,e);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==n)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Qt(i,n,r,e)}function Jo(i,n){if(void 0===n&&(n="float32"),"complex64"===n){var e=Jo(i,"float32"),r=vo(i,"float32");return xe(e,r)}var a=xn(He(i),n);return G.makeTensor(a,i,n)}function vo(i,n){if(void 0===n&&(n="float32"),"complex64"===n){var e=vo(i,"float32"),r=vo(i,"float32");return xe(e,r)}var a=nn(He(i),n);return G.makeTensor(a,i,n)}function So(i,n,e){return G.runKernelFunc(function(r){return r.fill(i,n,e)},{})}function ua(i,n,e,r){if(void 0===e&&(e=1),void 0===r&&(r="float32"),0===e)throw new Error("Cannot have a step of zero");if(i===n||i<n&&e<0||n<i&&e>1)return vo([0],r);var a=nn(Math.abs(Math.ceil((n-i)/e)),r);n<i&&1===e&&(e=-1),a[0]=i;for(var c=1;c<a.length;c++)a[c]=a[c-1]+e;return Jt(a,r)}var Ui=$({onesLike_:function(i){var n=Xe(i,"x","onesLike");if("complex64"===n.dtype){var e=Ui(je(n)),r=Lo(mt(n));return xe(e,r)}return G.runKernelFunc(function(a){return a.onesLike(n)},{$x:n},function(a,c){return{$x:function(){return Lo(a)}}})}}),Lo=$({zerosLike_:function(i){var n=Xe(i,"x","zerosLike");return G.runKernelFunc(function(e){return e.zerosLike(n)},{$x:n},function(e,r){return{$x:function(){return Lo(e)}}})}}),hi=$({concat_:function(i,n){void 0===n&&(n=0),oe(i.length>=1,function(){return"Pass at least one tensor to concat"});var e=zi(i,"tensors","concat");"complex64"===e[0].dtype&&e.forEach(function(f){if("complex64"!==f.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype "+f.dtype+". ")}),n=We(n,e[0].shape)[0];var r=X(e.map(function(f){return f.shape}),n);if(0===He(r))return gt([],r);if(1===(e=e.filter(function(f){return f.size>0})).length)return e[0];var a=e.map(function(f){return f.shape});return Ua(a,n),G.runKernelFunc(function(f){return f.concat(e,n)},e,function(f){var m=a.map(function(b){return b[n]});return ye(f,m,n).map(function(b){return function(){return b}})},"Concat",{axis:n})}}),Sc=$({concat1d_:function(i){return hi(i,0)}}),Ql=$({concat2d_:function(i,n){return hi(i,n)}}),ae=$({concat3d_:function(i,n){return hi(i,n)}}),j=$({concat4d_:function(i,n){return hi(i,n)}}),ye=$({split_:function(i,n,e){void 0===e&&(e=0);var r,a=Xe(i,"x","split");return e=We(e,a.shape)[0],"number"==typeof n?(oe(a.shape[e]%n==0,function(){return"Number of splits must evenly divide the axis."}),r=new Array(n).fill(a.shape[e]/n)):(oe(a.shape[e]===n.reduce(function(c,h){return c+h}),function(){return"The sum of sizes must match the size of the axis dimension."}),r=n),G.runKernelFunc(function(c){return c.split(a,r,e)},{$x:a},function(c){return{$x:function(){return hi(c,e)}}})}});function Q(i,n){return i(n={exports:{}},n.exports),n.exports}typeof globalThis<"u"||typeof window<"u"||typeof global<"u"&&global;var Ve=Q(function(i){!function(n,e){function a(f){var m,b=this,_=(m=4022871197,function(I){I=I.toString();for(var D=0;D<I.length;D++){var T=.02519603282416938*(m+=I.charCodeAt(D));T-=m=T>>>0,m=(T*=m)>>>0,m+=4294967296*(T-=m)}return 2.3283064365386963e-10*(m>>>0)});b.next=function(){var I=2091639*b.s0+2.3283064365386963e-10*b.c;return b.s0=b.s1,b.s1=b.s2,b.s2=I-(b.c=0|I)},b.c=1,b.s0=_(" "),b.s1=_(" "),b.s2=_(" "),b.s0-=_(f),b.s0<0&&(b.s0+=1),b.s1-=_(f),b.s1<0&&(b.s1+=1),b.s2-=_(f),b.s2<0&&(b.s2+=1),_=null}function c(f,m){return m.c=f.c,m.s0=f.s0,m.s1=f.s1,m.s2=f.s2,m}function h(f,m){var b=new a(f),_=m&&m.state,I=b.next;return I.int32=function(){return 4294967296*b.next()|0},I.double=function(){return I()+11102230246251565e-32*(2097152*I()|0)},I.quick=I,_&&("object"==typeof _&&c(_,b),I.state=function(){return c(b,{})}),I}e&&e.exports?e.exports=h:this.alea=h}(0,i)}),On=Q(function(i){!function(n,e){function a(f){var m=this,b="";m.x=0,m.y=0,m.z=0,m.w=0,m.next=function(){var I=m.x^m.x<<11;return m.x=m.y,m.y=m.z,m.z=m.w,m.w^=m.w>>>19^I^I>>>8},f===(0|f)?m.x=f:b+=f;for(var _=0;_<b.length+64;_++)m.x^=0|b.charCodeAt(_),m.next()}function c(f,m){return m.x=f.x,m.y=f.y,m.z=f.z,m.w=f.w,m}function h(f,m){var b=new a(f),_=m&&m.state,I=function(){return(b.next()>>>0)/4294967296};return I.double=function(){do{var D=((b.next()>>>11)+(b.next()>>>0)/4294967296)/2097152}while(0===D);return D},I.int32=b.next,I.quick=I,_&&("object"==typeof _&&c(_,b),I.state=function(){return c(b,{})}),I}e&&e.exports?e.exports=h:this.xor128=h}(0,i)}),Nr=Q(function(i){!function(n,e){function a(f){var m=this,b="";m.next=function(){var I=m.x^m.x>>>2;return m.x=m.y,m.y=m.z,m.z=m.w,m.w=m.v,(m.d=m.d+362437|0)+(m.v=m.v^m.v<<4^I^I<<1)|0},m.x=0,m.y=0,m.z=0,m.w=0,m.v=0,f===(0|f)?m.x=f:b+=f;for(var _=0;_<b.length+64;_++)m.x^=0|b.charCodeAt(_),_==b.length&&(m.d=m.x<<10^m.x>>>4),m.next()}function c(f,m){return m.x=f.x,m.y=f.y,m.z=f.z,m.w=f.w,m.v=f.v,m.d=f.d,m}function h(f,m){var b=new a(f),_=m&&m.state,I=function(){return(b.next()>>>0)/4294967296};return I.double=function(){do{var D=((b.next()>>>11)+(b.next()>>>0)/4294967296)/2097152}while(0===D);return D},I.int32=b.next,I.quick=I,_&&("object"==typeof _&&c(_,b),I.state=function(){return c(b,{})}),I}e&&e.exports?e.exports=h:this.xorwow=h}(0,i)}),wi=Q(function(i){!function(n,e){function a(f){var m=this;m.next=function(){var b,_,I=m.x,D=m.i;return b=I[D],_=(b^=b>>>7)^b<<24,_^=(b=I[D+1&7])^b>>>10,_^=(b=I[D+3&7])^b>>>3,_^=(b=I[D+4&7])^b<<7,b=I[D+7&7],_^=(b^=b<<13)^b<<9,I[D]=_,m.i=D+1&7,_},function(b,_){var I,D=[];if(_===(0|_))D[0]=_;else for(_=""+_,I=0;I<_.length;++I)D[7&I]=D[7&I]<<15^_.charCodeAt(I)+D[I+1&7]<<13;for(;D.length<8;)D.push(0);for(I=0;I<8&&0===D[I];++I);for(8==I&&(D[7]=-1),b.x=D,b.i=0,I=256;I>0;--I)b.next()}(m,f)}function c(f,m){return m.x=f.x.slice(),m.i=f.i,m}function h(f,m){null==f&&(f=+new Date);var b=new a(f),_=m&&m.state,I=function(){return(b.next()>>>0)/4294967296};return I.double=function(){do{var D=((b.next()>>>11)+(b.next()>>>0)/4294967296)/2097152}while(0===D);return D},I.int32=b.next,I.quick=I,_&&(_.x&&c(_,b),I.state=function(){return c(b,{})}),I}e&&e.exports?e.exports=h:this.xorshift7=h}(0,i)}),da=Q(function(i){!function(n,e){function a(f){var m=this;m.next=function(){var b,_,I=m.w,D=m.X,T=m.i;return m.w=I=I+1640531527|0,_=D[T+34&127],b=D[T=T+1&127],_^=_<<13,b^=b<<17,_=D[T]=(_^=_>>>15)^(b^=b>>>12),m.i=T,_+(I^I>>>16)|0},function(b,_){var I,D,T,z,J,ee=[],ne=128;for(_===(0|_)?(D=_,_=null):(_+="\0",D=0,ne=Math.max(ne,_.length)),T=0,z=-32;z<ne;++z)_&&(D^=_.charCodeAt((z+32)%_.length)),0===z&&(J=D),D^=D<<10,D^=D>>>15,D^=D<<4,D^=D>>>13,z>=0&&(T=0==(I=ee[127&z]^=D+(J=J+1640531527|0))?T+1:0);for(T>=128&&(ee[127&(_&&_.length||0)]=-1),T=127,z=512;z>0;--z)D=ee[T+34&127],I=ee[T=T+1&127],D^=D<<13,I^=I<<17,ee[T]=(D^=D>>>15)^(I^=I>>>12);b.w=J,b.X=ee,b.i=T}(m,f)}function c(f,m){return m.i=f.i,m.w=f.w,m.X=f.X.slice(),m}function h(f,m){null==f&&(f=+new Date);var b=new a(f),_=m&&m.state,I=function(){return(b.next()>>>0)/4294967296};return I.double=function(){do{var D=((b.next()>>>11)+(b.next()>>>0)/4294967296)/2097152}while(0===D);return D},I.int32=b.next,I.quick=I,_&&(_.X&&c(_,b),I.state=function(){return c(b,{})}),I}e&&e.exports?e.exports=h:this.xor4096=h}(0,i)}),Ta=Q(function(i){!function(n,e){function a(f){var m=this,b="";m.next=function(){var I=m.b,D=m.c,T=m.d,z=m.a;return I=I<<25^I>>>7^D,D=D-T|0,T=T<<24^T>>>8^z,z=z-I|0,m.b=I=I<<20^I>>>12^D,m.c=D=D-T|0,m.d=T<<16^D>>>16^z,m.a=z-I|0},m.a=0,m.b=0,m.c=-1640531527,m.d=1367130551,f===Math.floor(f)?(m.a=f/4294967296|0,m.b=0|f):b+=f;for(var _=0;_<b.length+20;_++)m.b^=0|b.charCodeAt(_),m.next()}function c(f,m){return m.a=f.a,m.b=f.b,m.c=f.c,m.d=f.d,m}function h(f,m){var b=new a(f),_=m&&m.state,I=function(){return(b.next()>>>0)/4294967296};return I.double=function(){do{var D=((b.next()>>>11)+(b.next()>>>0)/4294967296)/2097152}while(0===D);return D},I.int32=b.next,I.quick=I,_&&("object"==typeof _&&c(_,b),I.state=function(){return c(b,{})}),I}e&&e.exports?e.exports=h:this.tychei=h}(0,i)}),na=Q(function(i){!function(n,e){var r,a=this,c=256,f="random",m=e.pow(c,6),b=e.pow(2,52),_=2*b,I=c-1;function D(ne,me,be){var pe=[],Ie=J(function It(vt,bt){var en,Kt=[],Sn=typeof vt;if(bt&&"object"==Sn)for(en in vt)try{Kt.push(It(vt[en],bt-1))}catch{}return Kt.length?Kt:"string"==Sn?vt:vt+"\0"}((me=1==me?{entropy:!0}:me||{}).entropy?[ne,ee(n)]:null==ne?function(){try{var It;return r&&(It=r.randomBytes)?It=It(c):(It=new Uint8Array(c),(a.crypto||a.msCrypto).getRandomValues(It)),ee(It)}catch{var vt=a.navigator,bt=vt&&vt.plugins;return[+new Date,a,bt,a.screen,ee(n)]}}():ne,3),pe),Ye=new T(pe),kt=function(){for(var It=Ye.g(6),vt=m,bt=0;It<b;)It=(It+bt)*c,vt*=c,bt=Ye.g(1);for(;It>=_;)It/=2,vt/=2,bt>>>=1;return(It+bt)/vt};return kt.int32=function(){return 0|Ye.g(4)},kt.quick=function(){return Ye.g(4)/4294967296},kt.double=kt,J(ee(Ye.S),n),(me.pass||be||function(It,vt,bt,en){return en&&(en.S&&z(en,Ye),It.state=function(){return z(Ye,{})}),bt?(e[f]=It,vt):It})(kt,Ie,"global"in me?me.global:this==e,me.state)}function T(ne){var me,be=ne.length,pe=this,Ie=0,Ye=pe.i=pe.j=0,kt=pe.S=[];for(be||(ne=[be++]);Ie<c;)kt[Ie]=Ie++;for(Ie=0;Ie<c;Ie++)kt[Ie]=kt[Ye=I&Ye+ne[Ie%be]+(me=kt[Ie])],kt[Ye]=me;(pe.g=function(It){for(var vt,bt=0,en=pe.i,Kt=pe.j,Sn=pe.S;It--;)vt=Sn[en=I&en+1],bt=bt*c+Sn[I&(Sn[en]=Sn[Kt=I&Kt+vt])+(Sn[Kt]=vt)];return pe.i=en,pe.j=Kt,bt})(c)}function z(ne,me){return me.i=ne.i,me.j=ne.j,me.S=ne.S.slice(),me}function J(ne,me){for(var be,pe=ne+"",Ie=0;Ie<pe.length;)me[I&Ie]=I&(be^=19*me[I&Ie])+pe.charCodeAt(Ie++);return ee(me)}function ee(ne){return String.fromCharCode.apply(0,ne)}if(e["seed"+f]=D,J(e.random(),n),i.exports){i.exports=D;try{r=F(8082)}catch{}}}([],Math)});na.alea=Ve,na.xor128=On,na.xorwow=Nr,na.xorshift7=wi,na.xor4096=da,na.tychei=Ta;var Ma=na.alea,rl=function(){function i(n,e,r,a,c){this.mean=n,this.stdDev=e,this.dtype=r,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var h=c||Math.random();this.random=Ma(h.toString())}return i.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var n=this.nextVal;return this.nextVal=NaN,n}for(var e,r,a=!1;!a;){var c=void 0,h=void 0,f=void 0;do{f=(c=2*this.random()-1)*c+(h=2*this.random()-1)*h}while(f>=1||0===f);var m=Math.sqrt(-2*Math.log(f)/f);e=this.mean+this.stdDev*c*m,r=this.mean+this.stdDev*h*m,this.truncated&&!this.isValidTruncated(e)||(a=!0)}return this.truncated&&!this.isValidTruncated(r)||(this.nextVal=this.convertValue(r)),this.convertValue(e)},i.prototype.convertValue=function(n){return null==this.dtype||"float32"===this.dtype?n:Math.round(n)},i.prototype.isValidTruncated=function(n){return n<=this.upper&&n>=this.lower},i}(),Ac=function(){function i(n,e,r,a){this.alpha=n,this.beta=1/e,this.dtype=r;var c=a||Math.random();this.randu=Ma(c.toString()),this.randn=new rl(0,1,r,!1,this.randu()),this.d=n<1?n+2/3:n-1/3,this.c=1/Math.sqrt(9*this.d)}return i.prototype.nextValue=function(){for(var n,e,r,a,c,h;;){do{a=this.randn.nextValue(),h=1+this.c*a}while(h<=0);if(e=1-.331*(n=a*a)*n,r=.5*n+this.d*(1-(h*=h*h)+Math.log(h)),(c=this.randu())<e||Math.log(c)<r)break}return h*=1/this.beta*this.d,this.alpha<1&&(h*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(h)},i.prototype.convertValue=function(n){return"float32"===this.dtype?n:Math.round(n)},i}(),pu=function(){function i(n,e,r,a){var c=this;if(void 0===n&&(n=0),void 0===e&&(e=1),this.canReturnFloat=function(){return null==c.dtype||"float32"===c.dtype},this.min=n,this.range=e-n,this.dtype=r,null==a&&(a=Math.random()),"number"==typeof a&&(a=a.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+n+" - "+e+" <= 1 and dtype is not float");this.random=Ma(a)}return i.prototype.convertValue=function(n){return this.canReturnFloat()?n:Math.round(n)},i.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},i}();function cr(i,n,e){return void 0===n&&(n="float32"),n=n||"float32",qt(i),new Rr(i,n,e)}var Vi=$({batchToSpaceND_:function(i,n,e){var r=Xe(i,"x","batchToSpaceND"),a=n.reduce(function(c,h){return c*h});return oe(r.rank>=1+n.length,function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+n.length}),oe(e.length===n.length,function(){return"crops.length is "+e.length+" but should be equal to blockShape.length  "+n.length}),oe(r.shape[0]%a==0,function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+n.join(" * ")+" === "+a}),G.runKernelFunc(function(c){return c.batchToSpaceND(r,n,e)},{$x:r},function(c){return{$x:function(){return c.spaceToBatchND(n,e)}}})}}),_s=$({broadcastTo_:function(i,n){var e=Xe(i,"broadcastTo","x"),r=e.shape;if(n.some(function(m){return!(m>0)||m%1!=0}))throw new Error("broadcastTo(): Invalid broadcast shape ["+n+"].");if(n.length<e.rank)throw new Error("broadcastTo(): shape.length="+n.length+" < input.rank="+e.rank+".");if(n.length>e.rank){for(var a=e.shape.slice();a.length<n.length;)a.unshift(1);e=e.reshape(a)}for(var c=Array.from(n),h=n.length-1;h>=0;h--)if(e.shape[h]===n[h])c[h]=1;else if(1!==e.shape[h])throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+n+"].");var f=c.map(function(m,b){return m>1?b:-1}).filter(function(m){return m>=0});return 0===f.length?e.clone():G.runKernelFunc(function(m){return m.tile(e,c)},{input:e},function(m){return{input:function(){return m.sum(f,!0)}}})}}),ha=$({cast_:function(i,n){var e=Xe(i,"x","cast");if(!Ot(n))throw new Error("Failed to cast to unknown dtype "+n);if("string"===n&&"string"!==e.dtype||"string"!==n&&"string"===e.dtype)throw new Error("Only strings can be casted to strings");return G.runKernelFunc(function(a){return a.cast(e,n)},{x:e},function(a){return{x:function(){return a.clone()}}},"Cast",{dtype:n})}}),Jl=$({clone_:function(i){var n=Xe(i,"x","clone",null);return G.runKernelFunc(function(){return G.makeTensorFromDataId(n.dataId,n.shape,n.dtype)},{$x:n},function(e){return{$x:function(){return e.toFloat()}}})}}),ec=$({cumsum_:function(i,n,e,r){void 0===n&&(n=0),void 0===e&&(e=!1),void 0===r&&(r=!1);var a=Xe(i,"x","cumsum"),c=ca([n|=0],a.rank),h=a;null!=c&&(h=a.transpose(c));var f=qi(1,a.rank)[0],m=G.runKernelFunc(function(b){return b.cumsum(h,f,e,r)},{permutedX:h},function(b){return{permutedX:function(){return b.cumsum(n,e,!r)}}});return null!=c&&(m=m.transpose(c)),m}}),os=$({depthToSpace_:function(i,n,e){void 0===e&&(e="NHWC");var r=Xe(i,"x","depthToSpace"),a="NHWC"===e?r.shape[1]:r.shape[2],c="NHWC"===e?r.shape[2]:r.shape[3],h="NHWC"===e?r.shape[3]:r.shape[1];return oe(a*n>=0,function(){return"Negative dimension size caused by overflow when multiplying\n      "+a+" and "+n+"  for depthToSpace with input shape\n      "+r.shape}),oe(c*n>=0,function(){return"Negative dimension size caused by overflow when multiplying\n      "+c+" and "+n+" for depthToSpace with input shape\n          "+r.shape}),oe(h%(n*n)==0,function(){return"Dimension size must be evenly divisible by "+n*n+" but is "+h+" for depthToSpace with input shape "+r.shape}),G.runKernelFunc(function(f){return f.depthToSpace(r,n,e)},{$x:r})}}),ps=$({expandDims_:function(i,n){void 0===n&&(n=0);var e=Xe(i,"x","expandDims",null);oe(n<=e.rank,function(){return"Axis must be <= rank of the tensor"});var r=e.shape.slice();return n<0&&(oe(-(e.rank+1)<=n,function(){return"Axis must be in the interval ["+-(e.rank+1)+", "+e.rank+"]"}),n=e.rank+n+1),r.splice(n,0,1),Hi(e,r)}}),mu=$({eye_:function(i,n,e,r){void 0===r&&(r="float32"),null==n&&(n=i);for(var a=cr([i,n],r),c=i<=n?i:n,h=0;h<c;++h)a.set(1,h,h);var f=a.toTensor().as2D(i,n);if(null==e)return f;if(1===e.length)return ol(ps(f,0),[e[0],1,1]);if(2===e.length)return ol(ps(ps(f,0),0),[e[0],e[1],1,1]);if(3===e.length)return ol(ps(ps(ps(f,0),0),0),[e[0],e[1],e[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+e.length+"D.")}}),Hs=$({multinomial_:function(i,n,e,r){void 0===r&&(r=!1);var a=Xe(i,"logits","multinomial"),c=a.size,h=a.rank;if(c<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+c+".");if(h>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+h);e=e||Math.random();var f=1===h?a.as2D(1,-1):a,m=G.runKernelFunc(function(b){return b.multinomial(f,r,n,e)},{logits2D:f});return 1===h?m.as1D():m}}),fa=$({oneHot_:function(i,n,e,r){if(void 0===e&&(e=1),void 0===r&&(r=0),n<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+n);var a=Xe(i,"indices","oneHot","int32"),c=a.shape.concat([n]);return a=a.flatten(),G.runKernelFunc(function(h){return h.oneHot(a,n,e,r)},{$indices:a},function(h){return{$indices:function(){return vo(a.shape,"float32")}}}).reshape(c)}}),Os=$({pad_:function(i,n,e){void 0===e&&(e=0);var r=Xe(i,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");return G.runKernelFunc(function(c){return c.pad(r,n,e)},{x:r},function(c){var h=n.map(function(f){return f[0]});return{x:function(){return c.slice(h,r.shape)}}},"PadV2",{paddings:n,constantValue:e})}}),cd=$({pad1d_:function(i,n,e){return void 0===e&&(e=0),oe(2===n.length,function(){return"Invalid number of paddings. Must be length of 2."}),Os(i,[n],e)}}),Tc=$({pad2d_:function(i,n,e){return void 0===e&&(e=0),oe(2===n.length&&2===n[0].length&&2===n[1].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),Os(i,n,e)}}),ud=$({pad3d_:function(i,n,e){return void 0===e&&(e=0),oe(3===n.length&&2===n[0].length&&2===n[1].length&&2===n[2].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),Os(i,n,e)}}),tc=$({pad4d_:function(i,n,e){return void 0===e&&(e=0),oe(4===n.length&&2===n[0].length&&2===n[1].length&&2===n[2].length&&2===n[3].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),Os(i,n,e)}}),gu=$({rand_:function(i,n,e){var r=He(i),a=null;if(null==e||"float32"===e)a=new Float32Array(r);else if("int32"===e)a=new Int32Array(r);else{if("bool"!==e)throw new Error("Unknown data type "+e);a=new Uint8Array(r)}for(var c=0;c<r;c++)a[c]=n();return G.makeTensor(a,i,e)}}),Tl=$({randomNormal_:function(i,n,e,r,a){if(void 0===n&&(n=0),void 0===e&&(e=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var c=new rl(n,e,r,!1,a),h=cr(i,r),f=0;f<h.values.length;f++)h.values[f]=c.nextValue();return h.toTensor()}}),dd=$({randomGamma_:function(i,n,e,r,a){if(void 0===e&&(e=1),void 0===r&&(r="float32"),null==e&&(e=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type "+r);for(var c=new Ac(n,e,r,a),h=cr(i,r),f=0;f<h.values.length;f++)h.values[f]=c.nextValue();return h.toTensor()}}),Ml=$({randomUniform_:function(i,n,e,r,a){void 0===n&&(n=0),void 0===e&&(e=1),void 0===r&&(r="float32");for(var c=cr(i,r),h=new pu(n,e,null,a),f=0;f<c.values.length;f++)c.values[f]=h.nextValue();return c.toTensor()}}),Hi=$({reshape_:function(i,n){var e=Xe(i,"x","reshape",null);return n=pt(n,e.size),oe(e.size===He(n),function(){return"new shape and old shape must have the same number of elements."}),G.runKernelFunc(function(a){return a.reshape(e,n)},{x:e},function(a){return{x:function(){return a.reshape(e.shape)}}},"Reshape",{shape:n})}}),vu=$({spaceToBatchND_:function(i,n,e){var r=Xe(i,"x","spaceToBatchND");return oe(r.rank>=1+n.length,function(){return"input rank "+r.rank+" should be > than [blockShape] "+n.length}),oe(e.length===n.length,function(){return"paddings.shape[0] "+e.length+" must be equal to [blockShape] "+n.length}),oe(r.shape.reduce(function(a,c,h){return h>0&&h<=n.length?a&&(c+e[h-1][0]+e[h-1][1])%n[h-1]==0:a},!0),function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+e.toString()+" must be divisible by blockShapes "+n.toString()}),G.runKernelFunc(function(a){return a.spaceToBatchND(r,n,e)},{$x:r},function(a){return{$x:function(){return a.batchToSpaceND(n,e)}}})}}),nc=$({squeeze_:function(i,n){var e=Xe(i,"x","squeeze");return Hi(e,ue(e.shape,n).newShape)}}),pa=$({stack_:function(i,n){void 0===n&&(n=0);var e=zi(i,"tensors","stack");if(oe(e.length>=1,function(){return"Pass at least one tensor to tf.stack"}),1===e.length)return e[0].expandDims(n);var a=e[0].shape,c=e[0].dtype;oe(n<=e[0].rank,function(){return"Axis must be <= rank of the tensor"}),e.forEach(function(f){it(a,f.shape,"All tensors passed to stack must have matching shapes")}),e.forEach(function(f){oe(c===f.dtype,function(){return"All tensors passed to stack must have matching dtypes"})});var h=e.map(function(f){return f.expandDims(n)});return hi(h,n)}}),ol=$({tile_:function(i,n){var e=Xe(i,"x","tile",null);return oe(e.rank===n.length,function(){return"Error in transpose: rank of input "+e.rank+" must match length of reps "+n+"."}),G.runKernelFunc(function(c,h){var f=c.tile(e,n);return h([e]),f},{x:e},function(c,h){var f=h[0];return{x:function(){var m=Lo(f);if(1===f.rank)for(var b=0;b<n[0];++b)m=m.add(c.slice([b*f.shape[0]],[f.shape[0]]));else if(2===f.rank)for(b=0;b<n[0];++b)for(var _=0;_<n[1];++_)m=m.add(c.slice([b*f.shape[0],_*f.shape[1]],[f.shape[0],f.shape[1]]));else if(3===f.rank)for(b=0;b<n[0];++b)for(_=0;_<n[1];++_)for(var I=0;I<n[2];++I)m=m.add(c.slice([b*f.shape[0],_*f.shape[1],I*f.shape[2]],[f.shape[0],f.shape[1],f.shape[2]]));else{if(4!==f.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+f.rank+" tensors yet.");for(b=0;b<n[0];++b)for(_=0;_<n[1];++_)for(I=0;I<n[2];++I)for(var D=0;D<n[3];++D)m=m.add(c.slice([b*f.shape[0],_*f.shape[1],I*f.shape[2],D*f.shape[3]],[f.shape[0],f.shape[1],f.shape[2],f.shape[3]]))}return m}}},"Tile",{reps:n},[e])}}),Mc=$({truncatedNormal_:function(i,n,e,r,a){if(void 0===n&&(n=0),void 0===e&&(e=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var c=new rl(n,e,r,!0,a),h=cr(i,r),f=0;f<h.values.length;f++)h.values[f]=c.nextValue();return h.toTensor()}}),Wi=$({unstack_:function(i,n){void 0===n&&(n=0),n=n||0;var e=Xe(i,"x","unstack");return oe(n>=-e.shape.length&&n<e.shape.length,function(){return"Axis = "+n+" is not in [-"+e.shape.length+", "+e.shape.length+")"}),n<0&&(n+=e.shape.length),G.runKernelFunc(function(a){return a.unstack(e,n)},{x:e},function(a){return{x:function(){return pa(a,n)}}},"Unpack",{axis:n})}});function Ns(i,n,e,r){void 0===r&&(r=!0);var a=[];if(r)(a=a.concat(n.slice(0))).push(i[0]/e),a=a.concat(i.slice(1));else{a=a.concat(i[0]);for(var c=n.length,h=0;h<c;++h)a=a.concat([i[h+1]/n[h],n[h]]);a=a.concat(i.slice(c+1))}return a}function Rl(i,n,e){void 0===e&&(e=!0);var r=[];if(e){r.push(n);for(var a=n+1;a<i;++a)a<=2*n?(r.push(a),r.push(a-(n+1))):r.push(a)}else{var c=[],h=[];for(a=1;a<i;++a)a>=2*n+1||a%2==1?h.push(a):c.push(a);r.push.apply(r,c),r.push(0),r.push.apply(r,h)}return r}function Ws(i,n,e,r){void 0===r&&(r=!0);var a=[];a.push(r?i[0]/e:i[0]*e);for(var c=1;c<i.length;++c)a.push(c<=n.length?r?n[c-1]*i[c]:i[c]/n[c-1]:i[c]);return a}function rc(i,n){for(var e=[0],r=0;r<n;++r)e.push(i[r][0]);return e}function oc(i,n,e){for(var r=i.slice(0,1),a=0;a<e;++a)r.push(i[a+1]-n[a][0]-n[a][1]);return r}function is(i,n){if(i.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+i.rank+".");if(n.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+n.rank+".");if("int32"!==n.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+n.dtype+".");if(n.shape[n.rank-1]>i.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+n.shape[n.rank-1]+" vs. "+i.rank);if(0===i.size)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+i.shape+".");for(var e=n.shape,r=e[e.length-1],a=1,c=0;c<e.length-1;++c)a*=e[c];var h=i.shape,f=e.slice();f.pop();var m=1;for(c=r;c<i.rank;++c)m*=h[c],f.push(h[c]);var b=vr(i.shape).map(function(_){return _/m}).concat([1]).slice(0,r);return[f,a,m,b]}function ya(i){return i<=30?i:Dr(i,Math.floor(Math.sqrt(i)))}function xa(i,n,e){var r=n.rank>1?n.shape[n.rank-1]:1,a=n.rank>1?n.rank-1:1,c="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+e.shape+", indices.shape: "+n.shape+", shape: "+i+", sliceDim: "+r+", and batchDim: "+a+".";if(e.rank<a)throw new Error(c+" update.rank < "+a+". ");if(i.length<r+(e.rank-a))throw new Error(c+" Output shape length < "+(r+(e.rank-a)));if(e.rank!==a+i.length-r)throw new Error(c+" update.rank != "+(a+i.length-r));for(var h=0;h<a;++h)if(e.shape[h]!==n.shape[h])throw new Error(c+" updates.shape["+h+"] ("+e.shape[h]+") != indices.shape["+h+"] ("+n.shape[h]+").");for(h=0;h<e.rank-a;++h)if(e.shape[h+a]!==i[h+r])throw new Error(c+" updates.shape["+(h+a)+"] ("+e.shape[h+a]+") != shape["+(h+a)+"] ("+i[h+a]+")")}function Cs(i,n,e){if(n.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+n.rank+".");if(i.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+i.rank+".");if("int32"!==n.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: "+n.dtype);if(e.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+e);if(0===e.length){if(0===n.size)throw new Error("Indices specified for empty output. indices shape: "+n.shape);if(0===i.size)throw new Error("Updates specified for empty output. updates shape: "+i.shape)}xa(e,n,i)}function bl(i,n,e){for(var r=n.shape.length,a=r>1?n.shape[r-1]:1,c=e.length,h=1,f=a;f<c;++f)h*=e[f];var m=a<1?1:a;return{sliceRank:a,numUpdates:He(n.shape)/m,sliceSize:h,strides:vr(e.slice(0,a)).concat([1]),outputSize:He(e)}}function te(i,n,e){oe(i.rank===n.length,function(){return"Error in slice"+i.rank+"D: Length of begin "+n+" must match the rank of the array ("+i.rank+")."}),oe(i.rank===e.length,function(){return"Error in slice"+i.rank+"D: Length of size "+e+" must match the rank of the array ("+i.rank+")."});for(var r=function(c){oe(n[c]+e[c]<=i.shape[c],function(){return"Error in slice"+i.rank+"D: begin["+c+"] + size["+c+"] ("+(n[c]+e[c])+") would overflow input.shape["+c+"] ("+i.shape[c]+")"})},a=0;a<i.rank;++a)r(a)}function Je(i){for(var n=[],e=0;i>0;)1&i&&n.push(e),i/=2,e++;return n}function Y(i,n,e){for(var r=[],a=0;a<i.length;a++)r[a]=Math.ceil((n[a]-i[a])/e[a]);return r}function ke(i,n,e,r,a){var c=n[a];(i&1<<a||null==c)&&(c=(e[a]||1)>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var f=r[a];return c<0&&(c+=f),rt(0,c,f-1)}function dt(i,n,e,r,a){var c=n[a],h=e[a]||1;(i&1<<a||null==c)&&(c=h>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var f=r[a];return c<0&&(c+=f),h>0?rt(0,c,f):rt(-1,c,f-1)}function bn(i,n,e){for(var r=e.length,a=0;a<e.length;a++)if(e[a]>1){r=a;break}for(a=r+1;a<e.length;a++)if(n[a]>0||e[a]!==i[a])return!1;return!0}function Yn(i,n){for(var e=i.length>0?i[i.length-1]:1,r=0;r<i.length-1;r++)e+=i[r]*n[r];return e}function _i(i){return G.customGrad(i)}Object.freeze({prepareAndValidate:is}),Object.freeze({validateUpdateShape:xa,validateInput:Cs,calculateShapes:bl}),Object.freeze({assertParamsValid:te,maskToAxes:Je,computeOutShape:Y,startForAxis:ke,stopForAxis:dt,isSliceContinous:bn,computeFlatOffset:Yn});var Oo=$({softmax_:function(i,n){void 0===n&&(n=-1);var e=Xe(i,"logits","softmax","float32");if(-1===n&&(n=e.rank-1),n!==e.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+e.rank+" and dim was "+n);return G.runKernelFunc(function(r,a){var c=r.softmax(e,n);return a([c]),c},{logits:e},function(r,a){var c=a[0],h=r.mul(c);return{logits:function(){return h.sub(h.sum([n],!0).mul(c))}}},"Softmax",{dim:n},[],[!0])}}),$n=$({logSoftmax_:function(i,n){void 0===n&&(n=-1);var e=Xe(i,"logits","logSoftmax");if(-1===n&&(n=e.rank-1),n!==e.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+e.rank+" and axis was "+n);return _i(function(r,a){var c=r.max(n,!0),h=r.sub(c),f=h.toFloat().sub(h.exp().sum(n,!0).log());return a([f]),{value:f,gradFunc:function(m,b){var _=b[0].exp();return m.sub(m.sum(n,!0).mul(_))}}})(e)}}),jr=function(){function i(n,e){this.backend=n,this.dataMover=e,this.data=new WeakMap,this.dataIdsCount=0}return i.prototype.get=function(n){return this.data.has(n)||this.dataMover.moveData(this.backend,n),this.data.get(n)},i.prototype.set=function(n,e){this.dataIdsCount++,this.data.set(n,e)},i.prototype.has=function(n){return this.data.has(n)},i.prototype.delete=function(n){return this.dataIdsCount--,this.data.delete(n)},i.prototype.numDataIds=function(){return this.dataIdsCount},i}(),Di=function(){function i(){}return i.prototype.time=function(n){return ln("time")},i.prototype.read=function(n){return ln("read")},i.prototype.readSync=function(n){return ln("readSync")},i.prototype.numDataIds=function(){return ln("numDataIds")},i.prototype.disposeData=function(n){return ln("disposeData")},i.prototype.write=function(n,e,r){return ln("write")},i.prototype.move=function(n,e,r,a){return ln("move")},i.prototype.memory=function(){return ln("memory")},i.prototype.floatPrecision=function(){return ln("floatPrecision")},i.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},i.prototype.batchMatMul=function(n,e,r,a){return ln("batchMatMul")},i.prototype.fusedBatchMatMul=function(n){return ln("fusedBatchMatMul")},i.prototype.slice=function(n,e,r){return ln("slice")},i.prototype.stridedSlice=function(n,e,r,a){return ln("stridedSlice")},i.prototype.unstack=function(n,e){return ln("unstack")},i.prototype.reverse=function(n,e){return ln("reverse")},i.prototype.concat=function(n,e){return ln("concat")},i.prototype.neg=function(n){return ln("neg")},i.prototype.add=function(n,e){return ln("add")},i.prototype.addN=function(n){return ln("addN")},i.prototype.subtract=function(n,e){return ln("subtract")},i.prototype.multiply=function(n,e){return ln("multiply")},i.prototype.realDivide=function(n,e){return ln("realDivide")},i.prototype.floorDiv=function(n,e){return ln("floorDiv")},i.prototype.sum=function(n,e){return ln("sum")},i.prototype.prod=function(n,e){return ln("prod")},i.prototype.unsortedSegmentSum=function(n,e,r){return ln("unsortedSegmentSum")},i.prototype.argMin=function(n,e){return ln("argMin")},i.prototype.argMax=function(n,e){return ln("argMax")},i.prototype.equal=function(n,e){return ln("equal")},i.prototype.notEqual=function(n,e){return ln("notEqual")},i.prototype.less=function(n,e){return ln("less")},i.prototype.lessEqual=function(n,e){return ln("lessEqual")},i.prototype.greater=function(n,e){return ln("greater")},i.prototype.greaterEqual=function(n,e){return ln("greaterEqual")},i.prototype.logicalNot=function(n){return ln("logicalNot")},i.prototype.logicalAnd=function(n,e){return ln("logicalAnd")},i.prototype.logicalOr=function(n,e){return ln("logicalOr")},i.prototype.where=function(n){return ln("where")},i.prototype.select=function(n,e,r){return ln("select")},i.prototype.topk=function(n,e,r){return ln("topk")},i.prototype.min=function(n,e){return ln("min")},i.prototype.minimum=function(n,e){return ln("minimum")},i.prototype.mod=function(n,e){return ln("mod")},i.prototype.max=function(n,e){return ln("max")},i.prototype.maximum=function(n,e){return ln("maximum")},i.prototype.all=function(n,e){return ln("all")},i.prototype.any=function(n,e){return ln("any")},i.prototype.squaredDifference=function(n,e){return ln("squaredDifference")},i.prototype.ceil=function(n){return ln("ceil")},i.prototype.floor=function(n){return ln("floor")},i.prototype.round=function(n){return ln("round")},i.prototype.sign=function(n){return ln("sign")},i.prototype.isNaN=function(n){return ln("isNaN")},i.prototype.isInf=function(n){return ln("isInf")},i.prototype.isFinite=function(n){return ln("isFinite")},i.prototype.pow=function(n,e){return ln("pow")},i.prototype.exp=function(n){return ln("exp")},i.prototype.expm1=function(n){return ln("expm1")},i.prototype.softmax=function(n,e){return ln("softmax")},i.prototype.log=function(n){return ln("log")},i.prototype.log1p=function(n){return ln("log1p")},i.prototype.sqrt=function(n){return ln("sqrt")},i.prototype.rsqrt=function(n){return ln("rsqrt")},i.prototype.square=function(n){return ln("square")},i.prototype.reciprocal=function(n){return ln("reciprocal")},i.prototype.relu=function(n){return ln("relu")},i.prototype.relu6=function(n){return ln("relu6")},i.prototype.prelu=function(n,e){return ln("prelu")},i.prototype.elu=function(n){return ln("elu")},i.prototype.eluDer=function(n,e){return ln("eluDer")},i.prototype.selu=function(n){return ln("selu")},i.prototype.int=function(n){return ln("int")},i.prototype.clip=function(n,e,r){return ln("clip")},i.prototype.abs=function(n){return ln("abs")},i.prototype.complexAbs=function(n){return ln("complexAbs")},i.prototype.sigmoid=function(n){return ln("sigmoid")},i.prototype.softplus=function(n){return ln("softplus")},i.prototype.sin=function(n){return ln("sin")},i.prototype.cos=function(n){return ln("cos")},i.prototype.tan=function(n){return ln("tan")},i.prototype.asin=function(n){return ln("asin")},i.prototype.acos=function(n){return ln("acos")},i.prototype.atan=function(n){return ln("atan")},i.prototype.atan2=function(n,e){return ln("atan2")},i.prototype.sinh=function(n){return ln("sinh")},i.prototype.cosh=function(n){return ln("cosh")},i.prototype.tanh=function(n){return ln("tanh")},i.prototype.asinh=function(n){return ln("asinh")},i.prototype.acosh=function(n){return ln("acosh")},i.prototype.atanh=function(n){return ln("atanh")},i.prototype.erf=function(n){return ln("erf")},i.prototype.step=function(n,e){return ln("step")},i.prototype.fusedConv2d=function(n){return ln("fusedConv2d")},i.prototype.conv2d=function(n,e,r){return ln("conv2d")},i.prototype.conv2dDerInput=function(n,e,r){return ln("conv2dDerInput")},i.prototype.conv2dDerFilter=function(n,e,r){return ln("conv2dDerFilter")},i.prototype.fusedDepthwiseConv2D=function(n){return ln("fusedDepthwiseConv2D")},i.prototype.depthwiseConv2D=function(n,e,r){return ln("depthwiseConv2D")},i.prototype.depthwiseConv2DDerInput=function(n,e,r){return ln("depthwiseConv2DDerInput")},i.prototype.depthwiseConv2DDerFilter=function(n,e,r){return ln("depthwiseConv2DDerFilter")},i.prototype.conv3d=function(n,e,r){return ln("conv3d")},i.prototype.conv3dDerInput=function(n,e,r){return ln("conv3dDerInput")},i.prototype.conv3dDerFilter=function(n,e,r){return ln("conv3dDerFilter")},i.prototype.maxPool=function(n,e){return ln("maxPool")},i.prototype.maxPoolBackprop=function(n,e,r,a){return ln("maxPoolBackprop")},i.prototype.avgPool=function(n,e){return ln("avgPool")},i.prototype.avgPoolBackprop=function(n,e,r){return ln("avgPoolBackprop")},i.prototype.avgPool3d=function(n,e){return ln("avgPool3d")},i.prototype.avgPool3dBackprop=function(n,e,r){return ln("avgPool3dBackprop")},i.prototype.maxPool3d=function(n,e){return ln("maxPool3d")},i.prototype.maxPool3dBackprop=function(n,e,r,a){return ln("maxPool3dBackprop")},i.prototype.reshape=function(n,e){return ln("reshape")},i.prototype.cast=function(n,e){return ln("cast")},i.prototype.tile=function(n,e){return ln("tile")},i.prototype.pad=function(n,e,r){return ln("pad")},i.prototype.transpose=function(n,e){return ln("transpose")},i.prototype.gather=function(n,e,r){return ln("gather")},i.prototype.gatherND=function(n,e){return ln("gatherND")},i.prototype.scatterND=function(n,e,r){return ln("scatterND")},i.prototype.batchToSpaceND=function(n,e,r){return ln("batchToSpaceND")},i.prototype.spaceToBatchND=function(n,e,r){return ln("spaceToBatchND")},i.prototype.resizeBilinear=function(n,e,r,a){return ln("resizeBilinear")},i.prototype.resizeBilinearBackprop=function(n,e,r){return ln("resizeBilinearBackprop")},i.prototype.resizeNearestNeighbor=function(n,e,r,a){return ln("resizeNearestNeighbor")},i.prototype.resizeNearestNeighborBackprop=function(n,e,r){return ln("resizeNearestNeighborBackprop")},i.prototype.batchNormalization=function(n,e,r,a,c,h){return ln("batchNormalization")},i.prototype.localResponseNormalization4D=function(n,e,r,a,c){return ln("localResponseNormalization4D")},i.prototype.LRNGrad=function(n,e,r,a,c,h,f){return ln("LRNGrad")},i.prototype.multinomial=function(n,e,r,a){return ln("multinomial")},i.prototype.oneHot=function(n,e,r,a){return ln("oneHot")},i.prototype.cumsum=function(n,e,r,a){return ln("cumsum")},i.prototype.nonMaxSuppression=function(n,e,r,a,c){return ln("nonMaxSuppression")},i.prototype.fft=function(n){return ln("fft")},i.prototype.ifft=function(n){return ln("ifft")},i.prototype.complex=function(n,e){return ln("complex")},i.prototype.real=function(n){return ln("real")},i.prototype.imag=function(n){return ln("imag")},i.prototype.cropAndResize=function(n,e,r,a,c,h){return ln("cropAndResize")},i.prototype.depthToSpace=function(n,e,r){return ln("depthToSpace")},i.prototype.split=function(n,e,r){return ln("split")},i.prototype.sparseToDense=function(n,e,r,a){return ln("sparseToDense")},i.prototype.diag=function(n){return ln("diag")},i.prototype.fill=function(n,e,r){return ln("fill")},i.prototype.onesLike=function(n){return ln("onesLike")},i.prototype.zerosLike=function(n){return ln("zerosLike")},i.prototype.linspace=function(n,e,r){return ln("linspace")},i.prototype.dispose=function(){return ln("dispose")},i}();function ln(i){throw new Error("'"+i+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function oi(i,n){for(var e=i.length,r=[],a=0;a<e;a++){var c=e-1-a;(n[n.length-1-a]||1)>1&&1===(i[c]||1)&&r.unshift(c)}return r}function Ko(i,n){for(var e=[],r=0;r<n.length;r++){var a=i[i.length-r-1],c=n.length-r-1;(null==a||1===a&&n[c]>1)&&e.unshift(c)}return e}function _o(i,n){for(var e=[],r=Math.max(i.length,n.length),a=0;a<r;a++){var c=i[i.length-a-1];null==c&&(c=1);var h=n[n.length-a-1];if(null==h&&(h=1),1===c)e.unshift(h);else if(1===h)e.unshift(c);else{if(c!==h)throw Error("Operands could not be broadcast together with shapes "+i+" and "+n+".");e.unshift(c)}}return e}function ui(i,n,e,r,a,c,h){void 0===h&&(h="channelsLast");var f,m=Ol(n),b=m[0],_=m[1];if("channelsLast"===h)f=[b,_,i[3],i[3]];else{if("channelsFirst"!==h)throw new Error("Unknown dataFormat "+h);f=[b,_,i[1],i[1]]}return ma(i,f,e,r,a,c,!1,h)}function Ai(i,n,e,r,a,c,h){void 0===h&&(h="NDHWC");var f,m,b=Gs(n),_=b[0],I=b[1],D=b[2];if("NDHWC"===h)m="channelsLast",f=[_,I,D,i[4],i[4]];else{if("NCDHW"!==h)throw new Error("Unknown dataFormat "+h);m="channelsFirst",f=[_,I,D,i[1],i[1]]}return Qr(i,f,e,r,a,!1,m,c)}function ma(i,n,e,r,a,c,h,f){void 0===h&&(h=!1),void 0===f&&(f="channelsLast");var m=[-1,-1,-1,-1],b=m[0],_=m[1],I=m[2],D=m[3];if("channelsLast"===f)b=i[0],_=i[1],I=i[2],D=i[3];else{if("channelsFirst"!==f)throw new Error("Unknown dataFormat "+f);b=i[0],D=i[1],_=i[2],I=i[3]}var T,z=n[0],J=n[1],ee=n[3],ne=Ol(e),me=ne[0],be=ne[1],pe=Ol(r),Ie=pe[0],Ye=pe[1],kt=Yo(z,Ie),It=Yo(J,Ye),vt=function(Fn,jn,er,qn,Vn,tr,or,zr){var io,yo,Qo;if("number"==typeof Fn){io={top:Fn,bottom:Fn,left:Fn,right:Fn,type:0===Fn?"VALID":"NUMBER"};var ei=function(mi,ji,Si,va,sa){null==va&&(va=as(mi,ji,Si));var Cc=mi[1],Ic=Is((mi[0]-ji+2*va)/Si+1,sa);oe(zt(Ic),function(){return"The output # of rows ("+Ic+") must be an integer. Change the stride and/or zero pad parameters"});var gl=Is((Cc-ji+2*va)/Si+1,sa);return oe(zt(gl),function(){return"The output # of columns ("+gl+") must be an integer. Change the stride and/or zero pad parameters"}),[Ic,gl]}([jn,er],tr,qn,Fn,zr);yo=ei[0],Qo=ei[1]}else if("same"===Fn){yo=Math.ceil(jn/qn),Qo=Math.ceil(er/Vn);var si=Math.max(0,(yo-1)*qn+tr-jn),gi=Math.max(0,(Qo-1)*Vn+or-er),pi=Math.floor(si/2),vi=si-pi,$a=Math.floor(gi/2);io={top:pi,bottom:vi,left:$a,right:gi-$a,type:"SAME"}}else{if("valid"!==Fn)throw Error("Unknown padding parameter: "+Fn);io={top:0,bottom:0,left:0,right:0,type:"VALID"},yo=Math.ceil((jn-tr+1)/qn),Qo=Math.ceil((er-or+1)/Vn)}return{padInfo:io,outHeight:yo,outWidth:Qo}}(a,_,I,me,be,kt,It,c),en=vt.outHeight,Kt=vt.outWidth,Sn=h?ee*D:ee;return"channelsFirst"===f?T=[b,Sn,en,Kt]:"channelsLast"===f&&(T=[b,en,Kt,Sn]),{batchSize:b,dataFormat:f,inHeight:_,inWidth:I,inChannels:D,outHeight:en,outWidth:Kt,outChannels:Sn,padInfo:vt.padInfo,strideHeight:me,strideWidth:be,filterHeight:z,filterWidth:J,effectiveFilterHeight:kt,effectiveFilterWidth:It,dilationHeight:Ie,dilationWidth:Ye,inShape:i,outShape:T,filterShape:n}}function Qr(i,n,e,r,a,c,h,f){void 0===c&&(c=!1),void 0===h&&(h="channelsLast");var m=[-1,-1,-1,-1,-1],b=m[0],_=m[1],I=m[2],D=m[3],T=m[4];if("channelsLast"===h)b=i[0],_=i[1],I=i[2],D=i[3],T=i[4];else{if("channelsFirst"!==h)throw new Error("Unknown dataFormat "+h);b=i[0],T=i[1],_=i[2],I=i[3],D=i[4]}var z,J=n[0],ee=n[1],ne=n[2],me=n[4],be=Gs(e),pe=be[0],Ie=be[1],Ye=be[2],kt=Gs(r),It=kt[0],vt=kt[1],bt=kt[2],en=Yo(J,It),Kt=Yo(ee,vt),Sn=Yo(ne,bt),Fn=function(or,zr,io,yo,Qo,ei,si,gi,pi,vi,$a){var mi,ji,Si,va;if("number"==typeof or){mi={top:or,bottom:or,left:or,right:or,front:or,back:or,type:0===or?"VALID":"NUMBER"};var sa=function(Kf,Ec,cu,Yl,ql,dy){null==ql&&(ql=as(Kf,Ec,Yl));var _w=Kf[1],h1=Kf[2],a0=Is((Kf[0]-Ec+2*ql)/Yl+1,dy);oe(zt(a0),function(){return"The output # of depths ("+a0+") must be an integer. Change the stride and/or zero pad parameters"});var s0=Is((_w-Ec+2*ql)/Yl+1,dy);oe(zt(s0),function(){return"The output # of rows ("+s0+") must be an integer. Change the stride and/or zero pad parameters"});var l0=Is((h1-Ec+2*ql)/Yl+1,dy);return oe(zt(l0),function(){return"The output # of columns ("+l0+") must be an integer. Change the stride and/or zero pad parameters"}),[a0,s0,l0,1]}([zr,io,yo,1],gi,0,Qo,or,$a);ji=sa[0],Si=sa[1],va=sa[2]}else if("same"===or){var Ca=((ji=Math.ceil(zr/Qo))-1)*Qo+gi-zr,Cc=((Si=Math.ceil(io/ei))-1)*ei+pi-io,Ic=((va=Math.ceil(yo/si))-1)*si+vi-yo,gl=Math.floor(Ca/2),Xf=Ca-gl,su=Math.floor(Cc/2),ld=Cc-su,lu=Math.floor(Ic/2);mi={top:su,bottom:ld,left:lu,right:Ic-lu,front:gl,back:Xf,type:"SAME"}}else{if("valid"!==or)throw Error("Unknown padding parameter: "+or);mi={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},ji=Math.ceil((zr-gi+1)/Qo),Si=Math.ceil((io-pi+1)/ei),va=Math.ceil((yo-vi+1)/si)}return{padInfo:mi,outDepth:ji,outHeight:Si,outWidth:va}}(a,_,I,D,pe,Ie,Ye,en,Kt,Sn,f),er=Fn.outDepth,qn=Fn.outHeight,Vn=Fn.outWidth,tr=c?me*T:me;return"channelsFirst"===h?z=[b,tr,er,qn,Vn]:"channelsLast"===h&&(z=[b,er,qn,Vn,tr]),{batchSize:b,dataFormat:h,inDepth:_,inHeight:I,inWidth:D,inChannels:T,outDepth:er,outHeight:qn,outWidth:Vn,outChannels:tr,padInfo:Fn.padInfo,strideDepth:pe,strideHeight:Ie,strideWidth:Ye,filterDepth:J,filterHeight:ee,filterWidth:ne,effectiveFilterDepth:en,effectiveFilterHeight:Kt,effectiveFilterWidth:Sn,dilationDepth:It,dilationHeight:vt,dilationWidth:bt,inShape:i,outShape:z,filterShape:n}}function as(i,n,e,r){void 0===r&&(r=1);var a=Yo(n,r);return Math.floor((i[0]*(e-1)-e+a)/2)}function Ol(i){return"number"==typeof i?[i,i,i]:2===i.length?[i[0],i[1],1]:i}function Gs(i){return"number"==typeof i?[i,i,i]:i}function Yo(i,n){return n<=1?i:i+(i-1)*(n-1)}function Is(i,n){if(!n)return i;switch(n){case"round":return Math.round(i);case"ceil":return Math.ceil(i);case"floor":return Math.floor(i);default:throw new Error("Unknown roundingMode "+n)}}function Es(i){var n=Ol(i);return 1===n[0]&&1===n[1]&&1===n[2]}function Bi(i,n){return Es(i)||Es(n)}function il(i){if("NHWC"===i)return"channelsLast";if("NCHW"===i)return"channelsFirst";throw new Error("Unknown dataFormat "+i)}function Xs(i,n,e){if("complex64"===n){if("complex64"===i.dtype)return i.clone();var r=vo(i.shape),a=i.toFloat(),c=e.complex(a,r);return r.dispose(),a.dispose(),c}if(!Lt(i.dtype,n))return G.makeTensorFromDataId(i.dataId,i.shape,n);if("complex64"===i.dtype){var h=e.real(i);return c=h.cast(n),h.dispose(),c}if("int32"===n)return e.int(i);if("bool"===n){var f=Rt(0,i.dtype);return c=e.notEqual(i,f),f.dispose(),c}throw new Error("Error in Cast: failed to cast "+i.dtype+" to "+n)}function ms(i,n){return G.makeTensorFromDataId(i.dataId,n,i.dtype)}function Fs(i,n,e){var r=(n-i)/(e-1),a=nn(e,"float32");a[0]=i;for(var c=1;c<a.length;c++)a[c]=a[c-1]+r;return Jt(a,"float32")}function Hr(i,n){if(i.length!==n.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+i.length+", imag: "+n.length+".");for(var e=new Float32Array(2*i.length),r=0;r<e.length;r+=2)e[r]=i[r/2],e[r+1]=n[r/2];return e}function bu(i,n){return{real:i[2*n],imag:i[2*n+1]}}function Nl(i,n,e,r){i[2*r]=n,i[2*r+1]=e}function ks(i,n,e){var r=(e?2:-2)*Math.PI*(i/n);return{real:Math.cos(r),imag:Math.sin(r)}}function yu(i,n,e){var r=function(m,b,_){for(var I=0,D=m.length,T=0,z=!1;I<D;){var J=_(b,m[T=I+(D-I>>>1)]);J>0?I=T+1:(D=T,z=!J)}return z?I:-I-1}(i,n,e||ic);i.splice(r<0?-(r+1):r,0,n)}function ic(i,n){return i>n?1:i<n?-1:0}function Ti(i,n,e,r,a){return ra(i,n,e,r,a,0).selectedIndices}function yl(i,n,e,r,a,c){var h=ra(i,n,e,r,a,c,!0);return h.numValidOutputs.dispose(),{selectedIndices:h.selectedIndices,selectedScores:h.selectedScores}}function ra(i,n,e,r,a,c,h,f){void 0===h&&(h=!1),void 0===f&&(f=!1);for(var m=Array.from(n).map(function(pe,Ie){return{score:pe,boxIndex:Ie,suppressBeginIndex:0}}).filter(function(pe){return pe.score>a}).sort(Ls),b=c>0?-.5/c:0,_=[],I=[];_.length<e&&m.length>0;){var D=m.pop(),T=D.score,z=D.boxIndex,J=D.suppressBeginIndex;if(T<a)break;for(var ee=!1,ne=_.length-1;ne>=J;--ne){var me=Ra(i,z,_[ne]);if(me>=r){ee=!0;break}if(D.score=D.score*Pc(r,b,me),D.score<=a)break}D.suppressBeginIndex=_.length,ee||(D.score===T?(_.push(z),I.push(D.score)):D.score>a&&yu(m,D,Ls))}var be=_.length;return f&&(_.fill(0,be),I.fill(0,be)),{selectedIndices:Jt(_,"int32"),selectedScores:Jt(I,"float32"),numValidOutputs:Rt(be,"int32")}}function Ra(i,n,e){var r=i.subarray(4*n,4*n+4),a=i.subarray(4*e,4*e+4),c=Math.min(r[0],r[2]),h=Math.min(r[1],r[3]),f=Math.max(r[0],r[2]),m=Math.max(r[1],r[3]),b=Math.min(a[0],a[2]),_=Math.min(a[1],a[3]),I=Math.max(a[0],a[2]),D=Math.max(a[1],a[3]),T=(f-c)*(m-h),z=(I-b)*(D-_);if(T<=0||z<=0)return 0;var J=Math.max(c,b),ee=Math.max(h,_),ne=Math.min(f,I),me=Math.min(m,D),be=Math.max(ne-J,0)*Math.max(me-ee,0);return be/(T+z-be)}function Pc(i,n,e){var r=Math.exp(n*e*e);return e<=i?r:0}function Ls(i,n){return i.score-n.score||i.score===n.score&&n.boxIndex-i.boxIndex}function ac(i,n,e){var r=new Array(i.rank).fill(0),a=i.shape.slice();return n.map(function(c){a[e]=c;var h=i.slice(r,a);return r[e]+=c,h})}function gs(i,n){for(var e=new Array(i.rank),r=0;r<e.length;r++)e[r]=i.shape[r]*n[r];var a=cr(e,i.dtype);for(r=0;r<a.values.length;++r){for(var c=a.indexToLoc(r),h=new Array(i.rank),f=0;f<h.length;f++)h[f]=c[f]%i.shape[f];var m=i.locToIndex(h);a.values[r]=i.values[m]}return a.toTensor()}function xl(i,n,e,r,a){for(var c=n[n.length-1],h=[i.length/c,c],f=h[0],m=h[1],b=fe(e,f*r),_=fe("int32",f*r),I=0;I<f;I++){for(var D=I*m,T=i.subarray(D,D+m),z=[],J=0;J<T.length;J++)z.push({value:T[J],index:J});z.sort(function(pe,Ie){return Ie.value-pe.value});var ee=I*r,ne=b.subarray(ee,ee+r),me=_.subarray(ee,ee+r);for(J=0;J<r;J++)ne[J]=z[J].value,me[J]=z[J].index}var be=n.slice();return be[be.length-1]=r,[gt(b,be,e),gt(_,be,"int32")]}function Oc(i,n){for(var e=[],r=0;r<n.length;r++)n[r]&&e.push(r);var a=cr(i,"int32"),c=cr([e.length,i.length],"int32");for(r=0;r<e.length;r++){var h=a.indexToLoc(e[r]);c.values.set(h,r*i.length)}return c.toTensor()}Object.freeze({castTensor:Xs,reshapeTensor:ms,linspaceImpl:Fs,upcastType:Nn,axesAreInnerMostDims:Aa,combineLocations:ws,computeOutAndReduceShapes:Ei,expandShapeToKeepDim:xi,assertAxesAreInnerMostDims:ta,getAxesPermutation:ca,getUndoAxesPermutation:di,getInnerMostAxes:qi,getBroadcastDims:oi,getReductionAxes:Ko,assertAndGetBroadcastShape:_o,assertParamsConsistent:Ua,computeOutShape:X,computePool2DInfo:ui,computePool3DInfo:Ai,computeConv2DInfo:ma,computeConv3DInfo:Qr,computeDefaultPad:as,tupleValuesAreOne:Es,eitherStridesOrDilationsAreOne:Bi,convertConv2DDataFormat:il,PARALLELIZE_THRESHOLD:30,computeOptimalWindowSize:ya});var yh=function(i,n){this.outputShape=[],this.outputShape=i,this.variableNames=n.map(function(a,c){return"T"+c});var e=[];this.variableNames.forEach(function(a){e.push("float v"+a+" = get"+a+"AtOutCoords();")});var r=this.variableNames.map(function(a){return"v"+a}).join(" + ");this.userCode="\n      void main() {\n        "+e.join("\n        ")+"\n\n        float result = "+r+";\n        setOutput(result);\n      }\n    "},xu=function(i,n){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i,this.variableNames=n.map(function(a,c){return"T"+c});var e=[];this.variableNames.forEach(function(a){e.push("vec4 v"+a+" = get"+a+"AtOutCoords();")});var r=this.variableNames.map(function(a){return"v"+a}).join(" + ");this.userCode="\n      void main() {\n        "+e.join("\n        ")+"\n\n        vec4 result = "+r+";\n        setOutput(result);\n      }\n    "},wu=function(i,n,e){this.variableNames=["A"];var r=i.windowSize,a=i.batchSize,h=Math.ceil(i.inSize/r);e||this.variableNames.push("bestIndicesA"),this.outputShape=[a,h],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < "+r+"; i++) {\n          int inIdx = "+(e?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));")+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+("max"===n?">":"<")+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "};function hd(i,n){return["x","y","z","w","u","v"].slice(0,n).map(function(e){return i+"."+e})}function Va(i,n){return 1===n?[i]:hd(i,n)}function Ja(){var i,n,e,r,a,c,h,f,m,b;return 2===ce().getNumber("WEBGL_VERSION")?(i="#version 300 es",n="in",e="out",r="in",a="texture",c="outputColor",h="out vec4 outputColor;",f="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",m="",b="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(i="",n="attribute",e="varying",r="varying",a="texture2D",c="gl_FragColor",h="",f="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",m="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",b="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:i,attribute:n,varyingVs:e,varyingFs:r,texture2D:a,output:c,defineOutput:h,defineSpecialNaN:f,defineSpecialInf:m,defineRound:b}}function sc(i,n,e){void 0===e&&(e="index");var r=vr(n);return r.map(function(a,c){return"int "+i[c]+" = "+e+" / "+a+"; "+(c===r.length-1?"int "+i[c+1]+" = "+e+" - "+i[c]+" * "+a:"index -= "+i[c]+" * "+a)+";"}).join("")}function xh(i){var n=vr(i).map(function(e){return e.toString()});return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * "+n[0]+" + coords.y * "+n[1]+" + coords.z;\n  }\n"}var np="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n";function og(i,n,e,r){var a=[];i.forEach(function(T){var z=He(T.shapeInfo.logicalShape);T.shapeInfo.isUniform?a.push("uniform float "+T.name+(z>1?"["+z+"]":"")+";"):(a.push("uniform sampler2D "+T.name+";"),a.push("uniform int offset"+T.name+";"))});var c,h,T,f=a.join("\n"),m=i.map(function(T){return function(z,J,ee){void 0===ee&&(ee=!1);var ne="";return ne+=ee?N(z):A(z),z.shapeInfo.logicalShape.length<=J.logicalShape.length&&(ne+=ee?function(pe,Ie){var Ye,er,kt=pe.name,It=kt.charAt(0).toUpperCase()+kt.slice(1),vt="get"+It+"AtOutCoords",bt=pe.shapeInfo.logicalShape.length,en=Ie.logicalShape.length,Kt=oi(pe.shapeInfo.logicalShape,Ie.logicalShape),Sn=fn(en),Fn=en-bt,jn=["x","y","z","w","u","v"];Ye=0===bt?"":en<2&&Kt.length>=1?"coords = 0;":Kt.map(function(io){return"coords."+jn[io+Fn]+" = 0;"}).join("\n"),er=en<2&&bt>0?"coords":pe.shapeInfo.logicalShape.map(function(io,yo){return"coords."+jn[yo+Fn]}).join(", ");var qn="return outputValue;",Vn=1===He(pe.shapeInfo.logicalShape),tr=1===He(Ie.logicalShape);if(1!==bt||Vn||tr){if(Vn&&!tr)qn=1===en?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(Kt.length){var or=bt-2,zr=bt-1;Kt.indexOf(or)>-1&&Kt.indexOf(zr)>-1?qn="return vec4(outputValue.x);":Kt.indexOf(or)>-1?qn="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":Kt.indexOf(zr)>-1&&(qn="return vec4(outputValue.xx, outputValue.zz);")}}else qn="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 "+vt+"() {\n      "+Sn+" coords = getOutputCoords();\n      "+Ye+"\n      vec4 outputValue = get"+It+"("+er+");\n      "+qn+"\n    }\n  "}(z,J):function(pe,Ie){var Ye=pe.name,kt=Ye.charAt(0).toUpperCase()+Ye.slice(1),It="get"+kt+"AtOutCoords",en=pe.shapeInfo.logicalShape.length,Kt=Ie.logicalShape.length;if(!pe.shapeInfo.isUniform&&en===Kt&&null==pe.shapeInfo.flatOffset&&jt(pe.shapeInfo.texShape,Ie.texShape))return"\n      float "+It+"() {\n        return sampleTexture("+Ye+", resultUV);\n      }\n    ";var Fn=fn(Kt),jn=oi(pe.shapeInfo.logicalShape,Ie.logicalShape),er=Kt-en,qn=["x","y","z","w","u","v"];return"\n    float "+It+"() {\n      "+Fn+" coords = getOutputCoords();\n      "+(0===en?"":Kt<2&&jn.length>=1?"coords = 0;":jn.map(function(tr){return"coords."+qn[tr+er]+" = 0;"}).join("\n"))+"\n      return get"+kt+"("+(Kt<2&&en>0?"coords":pe.shapeInfo.logicalShape.map(function(tr,or){return"coords."+qn[or+er]}).join(", "))+");\n    }\n  "}(z,J)),ne}(T,n,r)}).join("\n"),b=n.texShape,_=Ja(),I="\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return "+_.texture2D+"(textureSampler, uv).r;\n    }\n  ",D=(T=_).version+"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    "+T.varyingFs+" vec2 resultUV;\n    "+T.defineOutput+"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    "+T.defineSpecialNaN+"\n    "+T.defineSpecialInf+"\n    "+T.defineRound+"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    "+V+"\n    "+O+"\n    "+K+"\n  ";return n.isPacked?(c=function(T,z){switch(T.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return Ie=z,1===(Ye=[Math.ceil(Ie[0]/2),Math.ceil(Ie[1]/2)])[0]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * "+Ye[1]+".0);\n      }\n    ":1===Ye[1]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * "+Ye[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+Ye[0]+", "+Ye[1]+"));\n      return 2 * (resTexRC.x * "+Ye[1]+" + resTexRC.y);\n    }\n  ";case 2:return function(pe,Ie){var Ye=[Math.ceil(Ie[0]/2),Math.ceil(Ie[1]/2)];if(jt(pe,Ie))return"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2("+Ye[0]+", "+Ye[1]+"));\n      }\n    ";var kt=Math.ceil(pe[1]/2);return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+Ye[0]+", "+Ye[1]+"));\n\n      int index = resTexRC.x * "+Ye[1]+" + resTexRC.y;\n      int r = 2 * (index / "+kt+");\n      int c = imod(index, "+kt+") * 2;\n\n      return ivec2(r, c);\n    }\n  "}(T,z);case 3:return J=T,ee=z,ne=[Math.ceil(ee[0]/2),Math.ceil(ee[1]/2)],be=(me=Math.ceil(J[2]/2))*Math.ceil(J[1]/2),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+ne[0]+", "+ne[1]+"));\n      int index = resTexRC.x * "+ne[1]+" + resTexRC.y;\n\n      int b = index / "+be+";\n      index -= b * "+be+";\n\n      int r = 2 * (index / "+me+");\n      int c = imod(index, "+me+") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";default:return function(pe,Ie){for(var Ye=[Math.ceil(Ie[0]/2),Math.ceil(Ie[1]/2)],kt=Math.ceil(pe[pe.length-1]/2),It=kt*Math.ceil(pe[pe.length-2]/2),vt=It,bt="",en="b, r, c",Kt=2;Kt<pe.length-1;Kt++)bt="\n      int b"+Kt+" = index / "+(vt*=pe[pe.length-Kt-1])+";\n      index -= b"+Kt+" * "+vt+";\n    "+bt,en="b"+Kt+", "+en;return"\n    ivec"+pe.length+" getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+Ye[0]+", "+Ye[1]+"));\n      int index = resTexRC.x * "+Ye[1]+" + resTexRC.y;\n\n      "+bt+"\n\n      int b = index / "+It+";\n      index -= b * "+It+";\n\n      int r = 2 * (index / "+kt+");\n      int c = imod(index, "+kt+") * 2;\n\n      return ivec"+pe.length+"("+en+");\n    }\n  "}(T,z)}var Ie,Ye,J,ee,ne,me,be}(n.logicalShape,b),h=function(T){return"\n    void setOutput(vec4 val) {\n      "+T.output+" = val;\n    }\n  "}(_)):(c=function(T,z){switch(T.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return 1===(me=z)[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+me[1]+".0);\n      }\n    ":1===me[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+me[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+me[0]+", "+me[1]+"));\n      return resTexRC.x * "+me[1]+" + resTexRC.y;\n    }\n  ";case 2:return function(ne,me){return jt(ne,me)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+me[0]+", "+me[1]+"));\n      }\n    ":1===ne[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+me[0]+", "+me[1]+"));\n        int index = resTexRC.x * "+me[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===ne[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+me[0]+", "+me[1]+"));\n        int index = resTexRC.x * "+me[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+me[0]+", "+me[1]+"));\n      int index = resTexRC.x * "+me[1]+" + resTexRC.y;\n      int r = index / "+ne[1]+";\n      int c = index - r * "+ne[1]+";\n      return ivec2(r, c);\n    }\n  "}(T,z);case 3:return J=z,ee=sc(["r","c","d"],T),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+J[0]+", "+J[1]+"));\n      int index = resTexRC.x * "+J[1]+" + resTexRC.y;\n      "+ee+"\n      return ivec3(r, c, d);\n    }\n  ";case 4:return function(ne,me){var be=sc(["r","c","d","d2"],ne);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+me[0]+", "+me[1]+"));\n      int index = resTexRC.x * "+me[1]+" + resTexRC.y;\n      "+be+"\n      return ivec4(r, c, d, d2);\n    }\n  "}(T,z);case 5:return function(ne,me){var be=sc(["r","c","d","d2","d3"],ne);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+me[0]+",\n                             "+me[1]+"));\n\n      int index = resTexRC.x * "+me[1]+" + resTexRC.y;\n\n      "+be+"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}(T,z);case 6:return function(ne,me){var be=sc(["r","c","d","d2","d3","d4"],ne);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+me[0]+", "+me[1]+"));\n      int index = resTexRC.x * "+me[1]+" + resTexRC.y;\n\n      "+be+"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}(T,z);default:throw new Error(T.length+"-D output sampling is not yet supported")}var me,J,ee}(n.logicalShape,b),h=function(T){return"\n    void setOutput(float val) {\n      "+T.output+" = vec4(val, 0, 0, 0);\n    }\n  "}(_)),r&&(D+=Ae),[D,I,h,f,c,m,e].join("\n")}function A(i){var n=i.shapeInfo.logicalShape;switch(n.length){case 0:return function(e){var r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1);if(e.shapeInfo.isUniform)return"float "+a+"() {return "+r+";}";var c=e.shapeInfo.texShape;if(1===c[0]&&1===c[1])return"\n      float "+a+"() {\n        return sampleTexture("+r+", halfCR);\n      }\n    ";var m=e.shapeInfo.texShape;return"\n    float "+a+"() {\n      vec2 uv = uvFromFlat("+m[0]+", "+m[1]+", "+Le(r)+");\n      return sampleTexture("+r+", uv);\n    }\n  "}(i);case 1:return function(e){var r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1);if(e.shapeInfo.isUniform)return"\n      float "+a+"(int index) {\n        "+Gt(e)+"\n      }\n    ";var c=e.shapeInfo.texShape,h=c[0],f=c[1];if(1===f&&1===h)return"\n      float "+a+"(int index) {\n        return sampleTexture("+r+", halfCR);\n      }\n    ";var m=Le(r);return 1===f?"\n      float "+a+"(int index) {\n        vec2 uv = vec2(0.5, (float(index + "+m+") + 0.5) / "+h+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":1===h?"\n      float "+a+"(int index) {\n        vec2 uv = vec2((float(index + "+m+") + 0.5) / "+f+".0, 0.5);\n        return sampleTexture("+r+", uv);\n      }\n    ":"\n    float "+a+"(int index) {\n      vec2 uv = uvFromFlat("+h+", "+f+", index + "+m+");\n      return sampleTexture("+r+", uv);\n    }\n  "}(i);case 2:return function(e){var r=e.shapeInfo.logicalShape,a=e.name,c="get"+a.charAt(0).toUpperCase()+a.slice(1),h=e.shapeInfo.texShape;if(null!=h&&jt(r,h))return"\n    float "+c+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+h[1]+".0, "+h[0]+".0);\n      return sampleTexture("+a+", uv);\n    }\n  ";var b=ue(r),_=b.newShape,I=b.keptDims;if(_.length<r.length)return"\n      "+A(rn(e,_))+"\n      float "+c+"(int row, int col) {\n        return "+c+"("+ur(["row","col"],I)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+c+"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2("+r[1]+", 1)));\n        "+Gt(e)+"\n      }\n    ";var z=h[0],J=h[1],ee=Le(a);return 1===J?"\n    float "+c+"(int row, int col) {\n      float index = dot(vec3(row, col, "+ee+"), vec3("+r[1]+", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / "+z+".0);\n      return sampleTexture("+a+", uv);\n    }\n  ":1===z?"\n    float "+c+"(int row, int col) {\n      float index = dot(vec3(row, col, "+ee+"), vec3("+r[1]+", 1, 1));\n      vec2 uv = vec2((index + 0.5) / "+J+".0, 0.5);\n      return sampleTexture("+a+", uv);\n    }\n  ":"\n  float "+c+"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * "+r[1]+" + col + "+ee+";\n    vec2 uv = uvFromFlat("+z+", "+J+", index);\n    return sampleTexture("+a+", uv);\n  }\n"}(i);case 3:return function(e){var r=e.shapeInfo.logicalShape,a=e.name,c="get"+a.charAt(0).toUpperCase()+a.slice(1),h=r[1]*r[2],f=r[2],m=ue(r),b=m.newShape,_=m.keptDims;if(b.length<r.length)return"\n        "+A(rn(e,b))+"\n        float "+c+"(int row, int col, int depth) {\n          return "+c+"("+ur(["row","col","depth"],_)+");\n        }\n      ";if(e.shapeInfo.isUniform)return"\n      float "+c+"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3("+h+", "+f+", 1)));\n        "+Gt(e)+"\n      }\n    ";var T=e.shapeInfo.texShape,z=T[0],J=T[1],ee=e.shapeInfo.flatOffset;return J===h&&null==ee?"\n        float "+c+"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2("+f+", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+J+".0, "+z+".0);\n          return sampleTexture("+a+", uv);\n        }\n      ":J===f&&null==ee?"\n    float "+c+"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2("+r[1]+", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+J+".0, "+z+".0);\n      return sampleTexture("+a+", uv);\n    }\n  ":"\n      float "+c+"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * "+h+" + col * "+f+" + depth + "+Le(a)+";\n        vec2 uv = uvFromFlat("+z+", "+J+", index);\n        return sampleTexture("+a+", uv);\n      }\n  "}(i);case 4:return function(e){var r=e.shapeInfo.logicalShape,a=e.name,c="get"+a.charAt(0).toUpperCase()+a.slice(1),h=r[3],f=r[2]*h,m=r[1]*f,b=ue(r),_=b.newShape,I=b.keptDims;if(_.length<r.length)return"\n      "+A(rn(e,_))+"\n      float "+c+"(int row, int col, int depth, int depth2) {\n        return "+c+"("+ur(["row","col","depth","depth2"],I)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+c+"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4("+m+", "+f+", "+h+", 1)));\n        "+Gt(e)+"\n      }\n    ";var T=e.shapeInfo.flatOffset,z=e.shapeInfo.texShape,J=z[0],ee=z[1];return ee===m&&null==T?"\n      float "+c+"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3("+f+", "+h+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+ee+".0, "+J+".0);\n        return sampleTexture("+a+", uv);\n      }\n    ":ee===h&&null==T?"\n      float "+c+"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3("+r[1]*r[2]+", "+r[2]+", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+ee+".0, "+J+".0);\n        return sampleTexture("+a+", uv);\n      }\n    ":"\n    float "+c+"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+m+" + col * "+f+" +\n          depth * "+h+" + depth2;\n      vec2 uv = uvFromFlat("+J+", "+ee+", index + "+Le(a)+");\n      return sampleTexture("+a+", uv);\n    }\n  "}(i);case 5:return function(e){var r=e.shapeInfo.logicalShape,a=e.name,c="get"+a.charAt(0).toUpperCase()+a.slice(1),h=r[4],f=r[3]*h,m=r[2]*f,b=r[1]*m,_=ue(r),I=_.newShape,D=_.keptDims;if(I.length<r.length)return"\n      "+A(rn(e,I))+"\n      float "+c+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+c+"("+ur(["row","col","depth","depth2","depth3"],D)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+c+"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+b+", "+m+", "+f+", "+h+")) +\n          depth3;\n        "+Gt(e)+"\n      }\n    ";var z=e.shapeInfo.flatOffset,J=e.shapeInfo.texShape,ee=J[0],ne=J[1];return ne===b&&null==z?"\n      float "+c+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4("+m+", "+f+", "+h+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+ne+".0, "+ee+".0);\n        return sampleTexture("+a+", uv);\n      }\n    ":ne===h&&null==z?"\n      float "+c+"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+r[1]*r[2]*r[3]+",\n               "+r[2]*r[3]+", "+r[3]+", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+ne+".0, "+ee+".0);\n        return sampleTexture("+a+", uv);\n      }\n    ":"\n    float "+c+"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+b+" + col * "+m+" + depth * "+f+" +\n          depth2 * "+h+" + depth3 + "+Le(a)+";\n      vec2 uv = uvFromFlat("+ee+", "+ne+", index);\n      return sampleTexture("+a+", uv);\n    }\n  "}(i);case 6:return function(e){var r=e.shapeInfo.logicalShape,a=e.name,c="get"+a.charAt(0).toUpperCase()+a.slice(1),h=ue(r),f=h.newShape,m=h.keptDims;if(f.length<r.length)return"\n      "+A(rn(e,f))+"\n      float "+c+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+c+"("+ur(["row","col","depth","depth2","depth3","depth4"],m)+");\n      }\n    ";var _=r[5],I=r[4]*_,D=r[3]*I,T=r[2]*D,z=r[1]*T;if(e.shapeInfo.isUniform)return"\n      float "+c+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4("+z+", "+T+", "+D+", "+I+")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2("+_+", 1)));\n        "+Gt(e)+"\n      }\n    ";var J=e.shapeInfo.flatOffset,ee=e.shapeInfo.texShape,ne=ee[0],me=ee[1];return me===z&&null==J?"\n      float "+c+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4("+T+", "+D+", "+I+", "+_+")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+me+".0, "+ne+".0);\n        return sampleTexture("+a+", uv);\n      }\n    ":me===_&&null==J?"\n      float "+c+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4("+r[1]*r[2]*r[3]*r[4]+",\n               "+r[2]*r[3]*r[4]+",\n               "+r[3]*r[4]+",\n               "+r[4]+")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+me+".0, "+ne+".0);\n        return sampleTexture("+a+", uv);\n      }\n    ":"\n    float "+c+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+z+" + col * "+T+" + depth * "+D+" +\n          depth2 * "+I+" + depth3 * "+_+" + depth4 + "+Le(a)+";\n      vec2 uv = uvFromFlat("+ne+", "+me+", index);\n      return sampleTexture("+a+", uv);\n    }\n  "}(i);default:throw new Error(n.length+"-D input sampling is not yet supported")}}function N(i){var n,a,c,h,f,m,b;switch(i.shapeInfo.logicalShape.length){case 0:return"\n    vec4 get"+(n=i.name).charAt(0).toUpperCase()+n.slice(1)+"() {\n      return "+Ja().texture2D+"("+n+", halfCR);\n    }\n  ";case 1:return h="get"+(c=(a=i).name).charAt(0).toUpperCase()+c.slice(1),f=a.shapeInfo.texShape,m=[Math.ceil(f[0]/2),Math.ceil(f[1]/2)],b=Ja(),"\n    vec4 "+h+"(int index) {\n      vec2 uv = packedUVfrom1D(\n        "+m[0]+", "+m[1]+", index);\n      return "+b.texture2D+"("+c+", uv);\n    }\n  ";case 2:return function(a){var c=a.shapeInfo.logicalShape,h=a.name,f="get"+h.charAt(0).toUpperCase()+h.slice(1),m=a.shapeInfo.texShape,b=m[0],_=m[1],I=Ja();if(null!=m&&jt(c,m))return"\n      vec4 "+f+"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2("+_+".0, "+b+".0);\n\n        return "+I.texture2D+"("+h+", uv);\n      }\n    ";var D=[Math.ceil(m[0]/2),Math.ceil(m[1]/2)];return"\n    vec4 "+f+"(int row, int col) {\n      vec2 uv = packedUVfrom2D("+Math.ceil(c[1]/2)+", "+D[0]+", "+D[1]+", row, col);\n      return "+I.texture2D+"("+h+", uv);\n    }\n  "}(i);case 3:return function(a){var c=a.shapeInfo.logicalShape,h=a.name,f="get"+h.charAt(0).toUpperCase()+h.slice(1),m=a.shapeInfo.texShape,b=[Math.ceil(m[0]/2),Math.ceil(m[1]/2)];if(1===c[0])return"\n        "+N(rn(a,c.slice(1)))+"\n        vec4 "+f+"(int b, int row, int col) {\n          return "+f+"("+ur(["b","row","col"],[1,2])+");\n        }\n      ";var D=b[0],T=b[1],z=Math.ceil(c[2]/2);return"\n    vec4 "+f+"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        "+D+", "+T+", "+z*Math.ceil(c[1]/2)+", "+z+", b, row, col);\n      return "+Ja().texture2D+"("+h+", uv);\n    }\n  "}(i);default:return function(a){for(var c=a.shapeInfo.logicalShape,h=c.length,f=a.name,m="get"+f.charAt(0).toUpperCase()+f.slice(1),b=a.shapeInfo.texShape,_=[Math.ceil(b[0]/2),Math.ceil(b[1]/2)],I=_[0],D=_[1],T=Math.ceil(c[h-1]/2),z=T*Math.ceil(c[h-2]/2),J="int b, int row, int col",ee="b * "+z+" + (row / 2) * "+T+" + (col / 2)",ne=2;ne<h-1;ne++)J="int b"+ne+", "+J,ee="b"+ne+" * "+(z*=c[h-ne-1])+" + "+ee;return"\n    vec4 "+m+"("+J+") {\n      int index = "+ee+";\n      int texR = index / "+D+";\n      int texC = index - texR * "+D+";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+D+", "+I+");\n      return "+Ja().texture2D+"("+f+", uv);\n    }\n  "}(i)}}var V="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",O="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",K="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Ae="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function Le(i){return"offset"+i}function Gt(i){var n=i.name,e=He(i.shapeInfo.logicalShape);return e<2?"return "+n+";":"\n    for (int i = 0; i < "+e+"; i++) {\n      if (i == index) {\n        return "+n+"[i];\n      }\n    }\n  "}function fn(i){if(i<=1)return"int";if(2===i)return"ivec2";if(3===i)return"ivec3";if(4===i)return"ivec4";if(5===i)return"ivec5";if(6===i)return"ivec6";throw Error("GPU for rank "+i+" is not yet supported")}function rn(i,n){var e=JSON.parse(JSON.stringify(i));return e.shapeInfo.logicalShape=n,e}function ur(i,n){return n.map(function(e){return i[e]}).join(", ")}var mo=function(i,n,e,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,oe(i.length>2,function(){return"Packed arg"+(e.charAt(0).toUpperCase()+e.slice(1))+" supports only inputs with rank above 2."});var c=Math.ceil(i[i.length-1]/n);this.outputShape=i.slice(0,-1),c>1&&this.outputShape.push(c),r||this.variableNames.push("bestIndicesA");var h,f,m=this.outputShape,b=m.length,_=fn(b),I=Va("coords",b);if(1===c){var D=fn(f=b+1);h="\n        "+D+" sourceLocR = "+D+"("+I.join()+", 0);\n        ++"+I[b-1]+";\n        "+D+" sourceLocG = "+D+"("+I.join()+", 0);\n        ++"+I[b-2]+";\n        "+D+" sourceLocA = "+D+"("+I.join()+", 0);\n        --"+I[b-1]+";\n        "+D+" sourceLocB = "+D+"("+I.join()+", 0);\n        --"+I[b-2]+";"}else f=b,h="\n        "+_+" sourceLocR = coords;\n        ++"+I[b-1]+";\n        "+_+" sourceLocG = coords;\n        ++"+I[b-2]+";\n        "+_+" sourceLocA = coords;\n        --"+I[b-1]+";\n        "+_+" sourceLocB = coords;\n        --"+I[b-2]+";";var T=["x","y","z","w","u","v"].slice(0,f),z="."+T[f-1],J=T.map(function(It){return"int "+It}),ee=Va("sourceLocR",f-1).concat("inIdx.r"),ne=Va("sourceLocG",f-1).concat("inIdx.g"),me=Va("sourceLocB",f-1).concat("inIdx.b"),be=Va("sourceLocA",f-1).concat("inIdx.a"),pe="max"===e?"greaterThan":"lessThan",Ie=r?"":"\n          inIdx = round(vec4(getBestIndicesAChannel("+ee.join()+"),\n                             getBestIndicesAChannel("+ne.join()+"),\n                             getBestIndicesAChannel("+me.join()+"),\n                             getBestIndicesAChannel("+be.join()+")));",Ye="vec4(\n            getAChannel("+ee.join()+"),\n            hasNextCol ? getAChannel("+ne.join()+") : 0.,\n            hasNextRow ? getAChannel("+me.join()+") : 0.,\n            hasNextRow && hasNextCol ? getAChannel("+be.join()+") : 0.)",kt=r?"":"\n      float getBestIndicesAChannel("+J.join()+") {\n        return getChannel(getBestIndicesA("+T.join()+"),\n                                          vec2("+T.slice(-2).join()+"));\n      }";this.userCode="\n      float getAChannel("+J.join()+") {\n        return getChannel(getA("+T.join()+"),\n                               vec2("+T.slice(-2).join()+"));\n      }\n      "+kt+"\n      void main() {\n        "+_+" coords = getOutputCoords();\n        bool hasNextCol = "+I[b-1]+" < "+(m[b-1]-1)+";\n        bool hasNextRow = "+I[b-2]+" < "+(m[b-2]-1)+";\n        "+h+"\n        ivec4 srcIdx = ivec4(sourceLocR"+z+", sourceLocG"+z+",\n          sourceLocB"+z+", sourceLocA"+z+") * "+n+";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = "+Ye+";\n\n        for (int i = 0; i < "+n+"; i++) {\n          inIdx = srcIdx;\n          "+Ie+"\n          vec4 candidate = "+Ye+";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4("+pe+"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    "},ii=function(i){this.variableNames=["dy"],this.outputShape=i.inShape;var f=i.effectiveFilterHeight,m=i.effectiveFilterWidth;this.userCode="\n      const ivec2 pads = ivec2("+(f-1-i.padInfo.top)+", "+(m-1-i.padInfo.left)+");\n      const float avgMultiplier = float("+1/(i.filterHeight*i.filterWidth)+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+f+";\n            wR += "+i.dilationHeight+") {\n          float dyR = float(dyRCorner + wR) / "+i.strideHeight+".0;\n\n          if (dyR < 0.0 || dyR >= "+i.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+m+";\n            wC+= "+i.dilationWidth+") {\n            float dyC = float(dyCCorner + wC) / "+i.strideWidth+".0;\n\n            if (dyC < 0.0 || dyC >= "+i.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Mo=function(i){this.variableNames=["dy"],this.outputShape=i.inShape;var _=i.effectiveFilterDepth,I=i.effectiveFilterHeight,D=i.effectiveFilterWidth;this.userCode="\n      const ivec3 pads = ivec3("+(_-1-i.padInfo.front)+", "+(I-1-i.padInfo.top)+", "+(D-1-i.padInfo.left)+");\n      const float avgMultiplier = float("+1/(i.filterDepth*i.filterHeight*i.filterWidth)+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+_+";\n            wD += "+i.dilationDepth+") {\n          float dyD = float(dyDCorner + wD) / "+i.strideDepth+".0;\n\n          if (dyD < 0.0 || dyD >= "+i.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+I+";\n              wR += "+i.dilationHeight+") {\n            float dyR = float(dyRCorner + wR) / "+i.strideHeight+".0;\n\n            if (dyR < 0.0 || dyR >= "+i.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+D+";\n                wC += "+i.dilationWidth+") {\n              float dyC = float(dyCCorner + wC) / "+i.strideWidth+".0;\n\n              if (dyC < 0.0 || dyC >= "+i.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},$i=function(i,n,e,r,a,c){this.outputShape=[],this.variableNames=["x","mean","variance"],_o(i,n),_o(i,e);var h="0.0";null!=r&&(_o(i,r),this.variableNames.push("offset"),h="getOffsetAtOutCoords()");var f="1.0";null!=a&&(_o(i,a),this.variableNames.push("scale"),f="getScaleAtOutCoords()"),this.outputShape=i,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+h+";\n        float scale = "+f+";\n        float inv = scale * inversesqrt(variance + float("+c+"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    "},Ha=function(i,n,e,r,a,c){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],_o(i,n),_o(i,e);var h="vec4(0.0)";null!=r&&(_o(i,r),this.variableNames.push("offset"),h="getOffsetAtOutCoords()");var f="vec4(1.0)";null!=a&&(_o(i,a),this.variableNames.push("scale"),f="getScaleAtOutCoords()"),this.outputShape=i,this.userCode="\n      void main() {\n        vec4 offset = "+h+";\n        vec4 scale = "+f+";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4("+c+"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    "},ss=function(i,n,e){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=_o(n,e),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        "+i+"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    "},Ks="return a + b;",Fl="return a - b;",Nc="return a * b;",Fc="return (a < 0.) ? b * a : a;",ki=function(i,n,e){this.variableNames=["A","B"],this.outputShape=_o(n,e),this.userCode="\n      float binaryOperation(float a, float b) {\n        "+i+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "},Ss="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",Ys=function(i,n,e,r){void 0===r&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=_o(n,e);var a=this.outputShape.length,c="";if(r)if(0===a||1===He(this.outputShape))c="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(c="\n          "+fn(a)+" coords = getOutputCoords();\n        ",1===a)c+="\n            result.y = (coords + 1) >= "+this.outputShape[0]+" ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ";else{var h=Va("coords",a);c+="\n            bool nextRowOutOfBounds =\n              ("+h[a-2]+" + 1) >= "+this.outputShape[a-2]+";\n            bool nextColOutOfBounds =\n              ("+h[a-1]+" + 1) >= "+this.outputShape[a-1]+";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        "+i+"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        "+c+"\n\n        setOutput(result);\n      }\n    "},_u=function(){function i(n){this.variableNames=["A"],this.outputShape=n,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}return i.prototype.getCustomSetupFunc=function(n,e){var r=this;return function(a,c){null==r.minLoc&&(r.minLoc=a.getUniformLocationNoThrow(c,"minVal"),r.maxLoc=a.getUniformLocationNoThrow(c,"maxVal")),a.gl.uniform1f(r.minLoc,n),a.gl.uniform1f(r.maxLoc,e)}},i}(),ri=function(){function i(n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}return i.prototype.getCustomSetupFunc=function(n,e){var r=this;return function(a,c){null==r.minLoc&&(r.minLoc=a.getUniformLocationNoThrow(c,"minVal"),r.maxLoc=a.getUniformLocationNoThrow(c,"maxVal")),a.gl.uniform1f(r.minLoc,n),a.gl.uniform1f(r.maxLoc,e)}},i}(),wh=function(i){this.variableNames=["real","imag"],this.outputShape=i,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "},Cu=function(i){this.outputShape=[],this.outputShape=X(i,1),this.variableNames=i.map(function(f,m){return"T"+m});var n=new Array(i.length-1);n[0]=i[0][1];for(var e=1;e<n.length;e++)n[e]=n[e-1]+i[e][1];var r=["if (yC < "+n[0]+") setOutput(getT0(yR, yC));"];for(e=1;e<n.length;e++)r.push("else if (yC < "+n[e]+") setOutput(getT"+e+"(yR, yC-"+n[e-1]+"));");r.push("else setOutput(getT"+n.length+"(yR, yC-"+n[n.length-1]+"));"),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        "+r.join("\n        ")+"\n      }\n    "},ls=function(i,n){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=X(i,n);var e=this.outputShape,r=e.length,a=fn(r),c=Va("coords",r),h=["x","y","z","w","u","v"].slice(0,r);this.variableNames=i.map(function(ee,ne){return"T"+ne});var f=new Array(i.length-1);f[0]=i[0][n];for(var m=1;m<f.length;m++)f[m]=f[m-1]+i[m][n];var b=h[n],_=h.slice(-2),I=h.join(),D="if ("+b+" < "+f[0]+") {\n        return getChannel(\n            getT0("+I+"), vec2("+_.join()+"));\n        }";for(m=1;m<f.length;m++){var T=f[m-1];D+="\n        if ("+b+" < "+f[m]+"  && "+b+" >= "+f[m-1]+") {\n          return getChannel(\n            getT"+m+"("+Iu(h,b,T)+"),\n            vec2("+Iu(_,b,T)+"));\n        }"}var J=f[f.length-1];D+="\n        return getChannel(\n          getT"+f.length+"("+Iu(h,b,J)+"),\n          vec2("+Iu(_,b,J)+"));",this.userCode="\n      float getValue("+h.map(function(ee){return"int "+ee})+") {\n        "+D+"\n      }\n\n      void main() {\n        "+a+" coords = getOutputCoords();\n        vec4 result = vec4(getValue("+c+"), 0., 0., 0.);\n\n        "+c[r-1]+" = "+c[r-1]+" + 1;\n        if ("+c[r-1]+" < "+e[r-1]+") {\n          result.g = getValue("+c+");\n        }\n\n        "+c[r-2]+" = "+c[r-2]+" + 1;\n        if ("+c[r-2]+" < "+e[r-2]+") {\n          result.a = getValue("+c+");\n        }\n\n        "+c[r-1]+" = "+c[r-1]+" - 1;\n        if ("+c[r-2]+" < "+e[r-2]+" &&\n            "+c[r-1]+" < "+e[r-1]+") {\n          result.b = getValue("+c+");\n        }\n        setOutput(result);\n      }\n    "};function Iu(i,n,e){var r=i.indexOf(n);return i.map(function(a,c){return c===r?a+" - "+e:a}).join()}var Eu=function(i){this.variableNames=["x","dy"],this.outputShape=i.filterShape,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+i.batchSize+"; b++) {\n          for (int yR = 0; yR < "+i.outHeight+"; yR++) {\n            int xR = wR + yR * "+i.strideHeight+" - "+i.padInfo.top+";\n\n            if (xR < 0 || xR >= "+i.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+i.outWidth+"; yC++) {\n              int xC = wC + yC * "+i.strideWidth+" - "+i.padInfo.left+";\n\n              if (xC < 0 || xC >= "+i.inWidth+") {\n                continue;\n              }\n\n              if ("+("channelsLast"===i.dataFormat)+") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},cc=function(i){this.variableNames=["dy","W"],this.outputShape=i.inShape;var n=i.filterHeight,e=i.filterWidth,c="channelsLast"===i.dataFormat;this.userCode="\n      const ivec2 pads = ivec2("+(n-1-i.padInfo.top)+", "+(e-1-i.padInfo.left)+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords["+(c?3:1)+"];\n\n        ivec2 dyCorner = ivec2(coords["+(c?1:2)+"], coords["+(c?2:3)+"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+n+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+i.strideHeight+".0;\n\n          if (dyR < 0.0 || dyR >= "+i.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+n+" - 1 - wR;\n\n          for (int wC = 0; wC < "+e+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i.strideWidth+".0;\n\n            if (dyC < 0.0 || dyC >= "+i.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+e+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+i.outChannels+"; d2++) {\n\n              if ("+c+") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Ia=function(i){this.variableNames=["x","dy"],this.outputShape=i.filterShape,this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+i.batchSize+"; b++) {\n          for (int yF = 0; yF < "+i.outDepth+"; yF++) {\n            int xF = wF + yF * "+i.strideDepth+" - "+i.padInfo.front+";\n\n            if (xF < 0 || xF >= "+i.inDepth+") {\n              continue;\n            }\n\n            for (int yR = 0; yR < "+i.outHeight+"; yR++) {\n              int xR = wR + yR * "+i.strideHeight+" - "+i.padInfo.top+";\n\n              if (xR < 0 || xR >= "+i.inHeight+") {\n                continue;\n              }\n\n              for (int yC = 0; yC < "+i.outWidth+"; yC++) {\n                int xC = wC + yC * "+i.strideWidth+" - "+i.padInfo.left+";\n\n                if (xC < 0 || xC >= "+i.inWidth+") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},rp=function(i){this.variableNames=["dy","W"],this.outputShape=i.inShape;var n=i.filterDepth,e=i.filterHeight,r=i.filterWidth;this.userCode="\n      const ivec3 pads = ivec3("+(n-1-i.padInfo.front)+", "+(e-1-i.padInfo.top)+", "+(r-1-i.padInfo.left)+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+n+"; wF++) {\n          float dyF = float(dyFCorner + wF) / "+i.strideDepth+".0;\n\n          if (dyF < 0.0 || dyF >= "+i.outDepth+".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = "+n+" - 1 - wF;\n\n          for (int wR = 0; wR < "+e+"; wR++) {\n            float dyR = float(dyRCorner + wR) / "+i.strideHeight+".0;\n\n            if (dyR < 0.0 || dyR >= "+i.outHeight+".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = "+e+" - 1 - wR;\n\n            for (int wC = 0; wC < "+r+"; wC++) {\n              float dyC = float(dyCCorner + wC) / "+i.strideWidth+".0;\n\n              if (dyC < 0.0 || dyC >= "+i.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = "+r+" - 1 - wC;\n\n              for (int d2 = 0; d2 < "+i.outChannels+"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Du=function(i){this.variableNames=["x","dy"],this.outputShape=i.filterShape,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+i.outChannels/i.inChannels+" + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < "+i.batchSize+"; b++) {\n          for (int yR = 0; yR < "+i.outHeight+"; yR++) {\n            int xR = wR + yR * "+i.strideHeight+" - "+i.padInfo.top+";\n\n            if (xR < 0 || xR >= "+i.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+i.outWidth+"; yC++) {\n              int xC = wC + yC * "+i.strideWidth+" - "+i.padInfo.left+";\n\n              if (xC < 0 || xC >= "+i.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ig=function(i){this.variableNames=["dy","W"],this.outputShape=i.inShape;var n=i.filterHeight,e=i.filterWidth,f=i.outChannels/i.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+(n-1-i.padInfo.top)+", "+(e-1-i.padInfo.left)+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+n+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+i.strideHeight+".0;\n\n          if (dyR < 0.0 || dyR >= "+i.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+n+" - 1 - wR;\n\n          for (int wC = 0; wC < "+e+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i.strideWidth+".0;\n\n            if (dyC < 0.0 || dyC >= "+i.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+e+" - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+f+"; dm++) {\n              int d2 = d1 * "+f+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Bs=function(i,n,e,r){void 0===n&&(n=!1),void 0===e&&(e=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=i.outShape;var a=i.padInfo.top,c=i.padInfo.left,h=i.strideHeight,f=i.strideWidth,m=i.dilationHeight,b=i.dilationWidth,_=i.filterHeight,I=i.filterWidth,D=4*Math.floor(i.inChannels/4),T=i.inChannels%4,z="channelsLast"===i.dataFormat,J=z?1:2,ee=z?2:3,ne=z?3:1,me="",be="";e&&(me=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+e+"\n        }":"\n          float activation(float x) {\n            "+e+"\n          }\n        ",be="result = activation(result);");var pe=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+me+"\n\n      const ivec2 strides = ivec2("+h+", "+f+");\n      const ivec2 pads = ivec2("+a+", "+c+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords["+ne+"];\n\n        ivec2 xRCCorner =\n            ivec2(coords["+J+"], coords["+ee+"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+_+"; wR++) {\n          int xR = xRCorner + wR * "+m+";\n\n          if (xR < 0 || xR >= "+i.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+I+"; wC++) {\n            int xC = xCCorner + wC * "+b+";\n\n            if (xC < 0 || xC >= "+i.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+D+"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if ("+z+") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if ("+(1===T)+") {\n\n              if ("+z+") {\n                dotProd +=\n                    getX(batch, xR, xC, "+D+") *\n                    getW(wR, wC, "+D+", d2);\n              } else {\n                dotProd +=\n                    getX(batch, "+D+", xR, xC) *\n                    getW(wR, wC, "+D+", d2);\n              }\n\n            } else if ("+(2===T)+") {\n              vec2 wValues = vec2(\n                getW(wR, wC, "+D+", d2),\n                getW(wR, wC, "+D+" + 1, d2)\n              );\n\n              if ("+z+") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, "+D+"),\n                  getX(batch, xR, xC, "+D+" + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, "+D+", xR, xC),\n                  getX(batch, "+D+" + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if ("+(3===T)+") {\n              vec3 wValues = vec3(\n                getW(wR, wC, "+D+", d2),\n                getW(wR, wC, "+D+" + 1, d2),\n                getW(wR, wC, "+D+" + 2, d2)\n              );\n\n              if ("+z+") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, "+D+"),\n                  getX(batch, xR, xC, "+D+" + 1),\n                  getX(batch, xR, xC, "+D+" + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, "+D+", xR, xC),\n                  getX(batch, "+D+" + 1, xR, xC),\n                  getX(batch, "+D+" + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        "+pe+"\n        "+be+"\n        setOutput(result);\n      }\n    "},op=function(i){this.variableNames=["x","W"],this.outputShape=i.outShape;var n=i.padInfo.front,e=i.padInfo.top,r=i.padInfo.left,a=i.strideDepth,c=i.strideHeight,h=i.strideWidth,f=i.dilationDepth,m=i.dilationHeight,b=i.dilationWidth,_=i.filterDepth,I=i.filterHeight,D=i.filterWidth,T=4*Math.floor(i.inChannels/4),z=i.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3("+a+", "+c+", "+h+");\n      const ivec3 pads = ivec3("+n+", "+e+", "+r+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+_+"; wF++) {\n          int xF = xFCorner + wF * "+f+";\n\n          if (xF < 0 || xF >= "+i.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+I+"; wR++) {\n            int xR = xRCorner + wR * "+m+";\n\n            if (xR < 0 || xR >= "+i.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+D+"; wC++) {\n              int xC = xCCorner + wC * "+b+";\n\n              if (xC < 0 || xC >= "+i.inWidth+") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < "+T+"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if ("+(1===z)+") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, "+T+") *\n                  getW(wF, wR, wC, "+T+", d2);\n              } else if ("+(2===z)+") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, "+T+"),\n                  getX(batch, xF, xR, xC, "+T+" + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, "+T+", d2),\n                  getW(wF, wR, wC, "+T+" + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if ("+(3===z)+") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, "+T+"),\n                  getX(batch, xF, xR, xC, "+T+" + 1),\n                  getX(batch, xF, xR, xC, "+T+" + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, "+T+", d2),\n                  getW(wF, wR, wC, "+T+" + 1, d2),\n                  getW(wF, wR, wC, "+T+" + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},_h=function(i,n,e,r){void 0===n&&(n=!1),void 0===e&&(e=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=i.outShape;var a=i.inHeight,c=i.inWidth,h=i.padInfo.top,f=i.padInfo.left,m=i.strideHeight,b=i.strideWidth,_=i.dilationHeight,I=i.dilationWidth,D=i.filterHeight,T=i.filterWidth,z=i.outChannels/i.inChannels,J="",ee="";e&&(J=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+e+"\n        }":"\n          float activation(float x) {\n            "+e+"\n          }\n        ",ee="result = activation(result);");var ne=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+J+"\n\n      const ivec2 strides = ivec2("+m+", "+b+");\n      const ivec2 pads = ivec2("+h+", "+f+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+z+";\n        int q = d2 - d1 * "+z+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+D+"; wR++) {\n          int xR = xRCorner + wR * "+_+";\n\n          if (xR < 0 || xR >= "+a+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+T+"; wC++) {\n            int xC = xCCorner + wC * "+I+";\n\n            if (xC < 0 || xC >= "+c+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        "+ne+"\n        "+ee+"\n        setOutput(result);\n      }\n    "},Ch=function(i,n,e,r){void 0===n&&(n=!1),void 0===e&&(e=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i.outShape;for(var a=i.inHeight,c=i.inWidth,h=i.padInfo.top,f=i.padInfo.left,m=i.strideHeight,b=i.strideWidth,_=i.dilationHeight,I=i.dilationWidth,D=i.filterHeight,T=i.filterWidth,z=T,J="int xR; int xC; int xCOffset;",ee=0;ee<D;ee++)for(var ne=0;ne<T;ne++)J+="\n          vec4 xTexelR"+ee+"C"+2*ne+" = vec4(0.);\n          vec4 wR"+ee+"C"+ne+" = vec4(0.);\n          vec4 xR"+ee+"C"+ne+" = vec4(0.);";for(ee=0;ee<D;ee++)for(var me=0;me<z;me++){if(J+="\n          xR = xRCorner + "+ee*_+";\n          xC = xCCorner + "+(ne=2*me)*I+";\n        ",1===b){if(ne<T&&(J+=f%2==1?"\n                xCOffset = xC + 1;\n                if(xR >= 0 && xR < "+a+" && xCOffset >= 0 && xCOffset < "+c+") {\n                  xTexelR"+ee+"C"+ne+" = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+c+") {\n                    xTexelR"+ee+"C"+ne+".zw = vec2(0.);\n                  }\n                } else {\n                  xTexelR"+ee+"C"+ne+" = vec4(0.);\n                }\n\n                xCOffset = xC + 1 - 2;\n                if(xR >= 0 && xR < "+a+" && xCOffset >= 0 && xCOffset < "+c+") {\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+c+") {\n                    previous.zw = vec2(0.);\n                  }\n\n                  xR"+ee+"C"+ne+" = vec4(previous.zw, xTexelR"+ee+"C"+ne+".xy);\n                } else {\n                  xR"+ee+"C"+ne+" = vec4(0, 0, xTexelR"+ee+"C"+ne+".xy);\n                }\n              ":"\n                if(xR >= 0 && xR < "+a+" && xC >= 0 && xC < "+c+") {\n                  xTexelR"+ee+"C"+ne+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+ee+"C"+ne+" = vec4(0.);\n                }\n\n                xR"+ee+"C"+ne+" = xTexelR"+ee+"C"+ne+";\n              ",ne+1<T)){var be=f%2==0?Ee(I):I;I%2==0&&f%2==1||I%2!=0&&f%2!=1?(J+="\n                  xCOffset = xC + "+f%2+" + "+be+";\n\n                  if(xR >= 0 && xR < "+a+" &&\n                    xCOffset >= 0 && xCOffset < "+c+") {\n                    xTexelR"+ee+"C"+(ne+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n                ",I>1&&(J+="\n                    xCOffset -= 2;\n                    if(xR >= 0 && xR < "+a+" &&\n                      xCOffset >= 0 && xCOffset < "+c+") {\n                      xTexelR"+ee+"C"+ne+" = getX(batch, xR, xCOffset, d1);\n                    } else {\n                      xTexelR"+ee+"C"+ne+" = vec4(0.);\n                    }\n                  "),J+="\n                  xR"+ee+"C"+(ne+1)+" = vec4(\n                    xTexelR"+ee+"C"+ne+".zw, xTexelR"+ee+"C"+(ne+2)+".xy);\n                "):J+="\n                  xCOffset = xC + "+be+";\n\n                  if(xR >= 0 && xR < "+a+" &&\n                    xCOffset >= 0 && xCOffset < "+c+") {\n                    xTexelR"+ee+"C"+(ne+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n\n                  xR"+ee+"C"+(ne+1)+" = xTexelR"+ee+"C"+(ne+2)+";\n                "}}else ne<T&&(J+="\n              if(xR >= 0 && xR < "+a+") {\n            ",f%2==1?(J+="\n                xCOffset = xC + 1 - "+b+";\n                if(xCOffset >= 0 && xCOffset < "+c+") {\n                  xTexelR"+ee+"C"+ne+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+ee+"C"+ne+" = vec4(0.);\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < "+c+") {\n                  xTexelR"+ee+"C"+(ne+2)+" = getX(batch, xR, xC + 1, d1);\n                } else {\n                  xTexelR"+ee+"C"+(ne+2)+" = vec4(0.);\n                }\n\n                xR"+ee+"C"+ne+" = vec4(\n                  xTexelR"+ee+"C"+ne+".zw, xTexelR"+ee+"C"+(ne+2)+".zw);\n              ",ne+1<T&&(J+="\n                  vec4 final = vec4(0.);\n                  xCOffset = xC + 1 + "+b+";\n                  if(xCOffset >= 0 && xCOffset < "+c+") {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xR"+ee+"C"+(ne+1)+" = vec4(xTexelR"+ee+"C"+(ne+2)+".xy, final.xy);\n                ")):(J+="\n                if(xC >= 0 && xC < "+c+") {\n                  xTexelR"+ee+"C"+ne+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+ee+"C"+ne+" = vec4(0.);\n                }\n\n                xCOffset = xC + "+b+";\n                if(xCOffset >= 0 && xCOffset < "+c+") {\n                  xTexelR"+ee+"C"+(ne+2)+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+ee+"C"+(ne+2)+" = vec4(0.);\n                }\n\n                xR"+ee+"C"+ne+" = vec4(\n                  xTexelR"+ee+"C"+ne+".xy, xTexelR"+ee+"C"+(ne+2)+".xy);\n              ",ne+1<T&&(J+="\n                  xR"+ee+"C"+(ne+1)+" = vec4(\n                    xTexelR"+ee+"C"+ne+".zw, xTexelR"+ee+"C"+(ne+2)+".zw);\n                ")),J+="}");ne<T&&(J+="\n            vec4 wTexelR"+ee+"C"+ne+" = getW("+ee+", "+ne+", d1, q);\n            wR"+ee+"C"+ne+" = vec4(wTexelR"+ee+"C"+ne+".xz, wTexelR"+ee+"C"+ne+".xz);\n          ",ne+1<T&&(J+="\n              vec4 wTexelR"+ee+"C"+(ne+1)+" = getW("+ee+", "+(ne+1)+", d1, q);\n              wR"+ee+"C"+(ne+1)+" =\n                vec4(wTexelR"+ee+"C"+(ne+1)+".xz, wTexelR"+ee+"C"+(ne+1)+".xz);"))}for(ee=0;ee<D;ee++)for(ne=0;ne<T;ne++)J+="dotProd += xR"+ee+"C"+ne+" * wR"+ee+"C"+ne+";";var pe="",Ie="";e&&(pe=r?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+e+"\n        }":"vec4 activation(vec4 x) {\n          "+e+"\n        }",Ie="result = activation(result);");var Ye=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+pe+"\n\n      const ivec2 strides = ivec2("+m+", "+b+");\n      const ivec2 pads = ivec2("+h+", "+f+");\n\n      void main() {\n\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 dotProd = vec4(0.);\n\n        "+J+"\n\n        vec4 result = dotProd;\n        "+Ye+"\n        "+Ie+"\n        setOutput(result);\n      }\n    "},fd=function(i,n,e,r,a){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var c=i[0],h=i[1],f=i[2],_=e[0],I=e[1];this.outputShape=[n[0],_,I,i[3]];var T=[h-1+".0",f-1+".0"],z=T[0],J=T[1],ee=_>1?[""+(h-1)/(_-1),"(y2-y1) * height_ratio","y1*"+z+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+z],pe=I>1?[""+(f-1)/(I-1),"(x2-x1) * width_ratio","x1*"+J+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+J];this.userCode="\n      const float height_ratio = float("+ee[0]+");\n      const float width_ratio = float("+pe[0]+");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= "+c+") {\n          return;\n        }\n\n        float height_scale = "+ee[1]+";\n        float width_scale = "+pe[1]+";\n\n        float in_y = "+ee[2]+";\n        if( in_y < 0.0 || in_y > "+z+" ) {\n          setOutput(float("+a+"));\n          return;\n        }\n        float in_x = "+pe[2]+";\n        if( in_x < 0.0 || in_x > "+J+" ) {\n          setOutput(float("+a+"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if("+("bilinear"===r?1:0)+" == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    "},al=function(i,n,e){this.variableNames=["x"],this.outputShape=i;var r=i.length,a=i[i.length-1],c=e?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(e?"return "+a+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+fn(r)+" coords = getOutputCoords();\n        int end = "+pd(r,"coords")+";\n        float val = 0.0;\n        for (int i = "+a+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+c+" end) {\n            continue;\n          }\n          if (idx == end && "+n+") {\n            continue;\n          }\n          "+pd(r,"coords")+" = idx;\n          val += getX("+function(h,f){if(1===h)return""+f;if(2===h)return f+".x, "+f+".y";if(3===h)return f+".x, "+f+".y, "+f+".z";if(4===h)return f+".x, "+f+".y, "+f+".z, "+f+".w";throw Error("Cumulative sum for rank "+h+" is not yet supported")}(r,"coords")+");\n        }\n        setOutput(val);\n      }\n    "};function pd(i,n){if(1===i)return""+n;if(2===i)return n+".y";if(3===i)return n+".z";if(4===i)return n+".w";throw Error("Cumulative sum for rank "+i+" is not yet supported")}var md=function(i){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=vn.DENSE;var n=Ar(i),e=Ja();this.outputShape=i,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+sc(["r","c","d"],i)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+n[0]+", "+n[1]+"));\n        int index = 4 * (resTexRC.x * "+n[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        "+e.output+" = result;\n      }\n    "},ip=function(i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=vn.DENSE;var n=Ar(i),e=Ja();this.outputShape=i,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+sc(["r","c","d"],i)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+n[0]+", "+n[1]+"));\n        int index = 4 * (resTexRC.x * "+n[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        "+e.output+" = result;\n      }\n    "},wl=function(){function i(n,e,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=n,this.blockSize=e,this.dataFormat=r,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = "+this.getHeightCoordString()+";\n      int w = "+this.getWidthCoordString()+";\n      int d = "+this.getDepthCoordString()+";\n\n      int in_h = h / "+e+";\n      int offset_h = imod(h, "+e+");\n      int in_w = w / "+e+";\n      int offset_w = imod(w, "+e+");\n      int offset_d = (offset_h * "+e+" + offset_w) *\n        "+this.getOutputDepthSize()+";\n      int in_d = d + offset_d;\n\n      float result = "+this.getInputSamplingString()+";\n      setOutput(result);\n    }\n  "}return i.prototype.getHeightCoordString=function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"},i.prototype.getWidthCoordString=function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"},i.prototype.getDepthCoordString=function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"},i.prototype.getOutputDepthSize=function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]},i.prototype.getInputSamplingString=function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},i}(),Eo=function(i){this.variableNames=["X"],this.outputShape=[i,i],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "},gd=function(i){this.variableNames=["A"],this.outTexUsage=Ln.DOWNLOAD;var n=Ja();this.outputShape=i,this.userCode="\n      "+np+"\n\n      void main() {\n        float x = getAAtOutCoords();\n        "+n.output+" = encode_float(x);\n      }\n    "},ap=function(i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=Ln.DOWNLOAD;var n=Ja();this.outputShape=i,this.userCode="\n      "+np+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        "+n.output+" = encode_float(x);\n      }\n    "},sp=function(i,n,e){void 0===e&&(e=!1),this.variableNames=["A"];var r=Ja(),a=n[0],c=n[1];this.outputShape=i;var h="result";e&&(h="floor(result * 255. + 0.5)"),this.userCode="\n      "+xh(i)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n        \n        int r = flatIndex / "+c+";\n        int c = imod(flatIndex, "+c+");\n        vec2 uv = (vec2(c, r) + halfCR) / vec2("+c+".0, "+a+".0);\n        vec4 values = "+r.texture2D+"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        "+r.output+" = vec4("+h+", 0., 0., 0.);\n      }\n    "},A0=function(i,n,e){void 0===e&&(e=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=Ja(),a=n[0],c=n[1];this.outputShape=i;var h="",f="result";e&&(f="floor(result * 255. + 0.5)");for(var m=0;m<=1;m++)for(var b=0;b<=1;b++){var _=2*m+b;h+="\n          localCoords = coords;\n          if(localCoords[2] + "+b+" < "+i[2]+") {\n            localCoords[2] += "+b+";\n            if(localCoords[1] + "+m+" < "+i[1]+") {\n              localCoords[1] += "+m+";\n\n              flatIndex = getFlatIndex(localCoords);\n              offset = imod(flatIndex, 4);\n\n              flatIndex = idiv(flatIndex, 4, 1.);\n\n              r = flatIndex / "+c+";\n              c = imod(flatIndex, "+c+");\n              uv = (vec2(c, r) + halfCR) / vec2("+c+".0, "+a+".0);\n              values = "+r.texture2D+"(A, uv);\n\n              if(offset == 0) {\n                result["+_+"] = values[0];\n              } else if(offset == 1) {\n                result["+_+"] = values[1];\n              } else if(offset == 2) {\n                result["+_+"] = values[2];\n              } else {\n                result["+_+"] = values[3];\n              }\n            }\n          }\n        "}this.userCode="\n      "+xh(i)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        vec4 result = vec4(0.);\n        int flatIndex, r, c, offset;\n        ivec3 localCoords;\n        vec2 uv;\n        vec4 values;\n\n        "+h+"\n\n        "+r.output+" = "+f+";\n      }\n    "},sg=function(i,n,e){this.variableNames=["real","imag"];var r=n[1];this.outputShape=n;var a=e?"2.0 * "+Math.PI:"-2.0 * "+Math.PI;this.userCode="\n      const float exponentMultiplier = "+a+";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        "+i+"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float("+r+");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < "+r+"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / "+(e?r+".0":"1.0")+";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    "},lp=function(){function i(n,e){this.outputShape=[],this.variableNames=["x"],this.outputShape=n,this.userCode="\n      uniform float value;\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}return i.prototype.getCustomSetupFunc=function(n){var e=this;return function(r,a){null==e.valueLoc&&(e.valueLoc=r.getUniformLocationNoThrow(a,"value")),r.gl.uniform1f(e.valueLoc,n)}},i}(),Lc=function(i,n,e){this.variableNames=["A","indices"];var r=i.slice();r[e]=n,this.outputShape=r,this.rank=r.length;var a=fn(this.rank),c=function(h,f){var m=h.length;if(m>4)throw Error("Gather for rank "+m+" is not yet supported");if(1===m)return"int(getIndices(resRC))";for(var b=["resRC.x","resRC.y","resRC.z","resRC.w"],_=[],I=0;I<h.length;I++)_.push(I===f?"int(getIndices("+b[I]+"))":""+b[I]);return _.join()}(i,e);this.userCode="\n      void main() {\n        "+a+" resRC = getOutputCoords();\n        setOutput(getA("+c+"));\n      }\n    "},lg=function(i,n,e){this.sliceDim=i,this.strides=n,this.variableNames=["x","indices"],this.outputShape=e;var r=fn(n.length),a=fn(e.length);this.userCode="\n        "+r+" strides = "+r+"("+this.strides+");\n         void main() {\n          "+a+" coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < "+this.sliceDim+"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * "+(this.sliceDim>1?"strides[j]":"strides")+";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      "};function cp(i,n){var e=Ja();return eo(i,n,e.version+"\n    precision highp float;\n    "+e.attribute+" vec3 clipSpacePos;\n    "+e.attribute+" vec2 uv;\n    "+e.varyingVs+" vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }")}function up(i,n){return st(i,n,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function dp(i,n){return Ct(i,n,new Uint16Array([0,1,2,2,1,3]))}function Bc(i,n,e,r,a,c,h){mn(e,r);var f=Vt(i,n),m=i.TEXTURE_2D;return Jn(i,n,function(){return i.bindTexture(m,f)}),Jn(i,n,function(){return i.texParameteri(m,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE)}),Jn(i,n,function(){return i.texParameteri(m,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE)}),Jn(i,n,function(){return i.texParameteri(m,i.TEXTURE_MIN_FILTER,i.NEAREST)}),Jn(i,n,function(){return i.texParameteri(m,i.TEXTURE_MAG_FILTER,i.NEAREST)}),Jn(i,n,function(){return i.texImage2D(m,0,a,e,r,0,c,h,null)}),Jn(i,n,function(){return i.bindTexture(i.TEXTURE_2D,null)}),f}function kn(i,n,e,r,a){var c=To(e,r);return Bc(i,n,c[0],c[1],a.internalFormatFloat,a.textureFormatFloat,i.FLOAT)}function Bo(i,n,e,r,a){var c=To(e,r);return Bc(i,n,c[0],c[1],a.internalFormatHalfFloat,a.textureFormatFloat,a.textureTypeHalfFloat)}function Eh(i,n,e,r,a){var c=To(e,r);return Bc(i,n,c[0],c[1],i.RGBA,i.RGBA,i.UNSIGNED_BYTE)}function Dh(i,n,e,r,a){var c=No(e,r);return Bc(i,n,c[0],c[1],a.internalFormatPackedFloat,i.RGBA,i.FLOAT)}function yi(i,n,e,r,a){var c=No(e,r);return Bc(i,n,c[0],c[1],a.internalFormatPackedHalfFloat,i.RGBA,a.textureTypeHalfFloat)}function vd(i,n,e,r){return Jn(i,n,function(){return i.bindBuffer(i.ARRAY_BUFFER,r)}),An(i,n,e,"clipSpacePos",r,3,20,0)&&An(i,n,e,"uv",r,2,20,12)}function Ll(i,n,e,r,a,c,h){var f,m,b;Jn(i,n,function(){return i.bindTexture(i.TEXTURE_2D,e)}),c instanceof Uint8Array?(f=new Uint8Array(r*a*4),m=i.UNSIGNED_BYTE,b=i.RGBA):(f=new Float32Array(r*a*4),m=i.FLOAT,b=h.internalFormatPackedFloat),f.set(c),Jn(i,n,function(){return i.texImage2D(i.TEXTURE_2D,0,b,r,a,0,i.RGBA,m,f)}),Jn(i,n,function(){return i.bindTexture(i.TEXTURE_2D,null)})}function qs(i,n,e,r){Jn(i,n,function(){return i.bindTexture(i.TEXTURE_2D,e)}),r.data instanceof Uint8Array?Jn(i,n,function(){return i.texImage2D(i.TEXTURE_2D,0,i.RGBA,r.width,r.height,0,i.RGBA,i.UNSIGNED_BYTE,r.data)}):Jn(i,n,function(){return i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,r)}),Jn(i,n,function(){return i.bindTexture(i.TEXTURE_2D,null)})}function bd(i,n,e,r,a){var c=i.createBuffer();Jn(i,n,function(){return i.bindBuffer(i.PIXEL_PACK_BUFFER,c)});var h=16*e*r;return Jn(i,n,function(){return i.bufferData(i.PIXEL_PACK_BUFFER,h,i.STREAM_READ)}),Jn(i,n,function(){return i.readPixels(0,0,r,e,i.RGBA,i.FLOAT,0)}),Jn(i,n,function(){return i.bindBuffer(i.PIXEL_PACK_BUFFER,null)}),c}function kh(i,n,e){var r=i,a=new Float32Array(e);return r.bindBuffer(r.PIXEL_PACK_BUFFER,n),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}function Sh(i,n,e,r,a){var c=To(e,r),h=c[0],f=c[1],m=new Uint8Array(e*r*4);return Jn(i,n,function(){return i.readPixels(0,0,h,f,a.downloadTextureFormat,i.UNSIGNED_BYTE,m)}),new Float32Array(m.buffer)}function cg(i,n,e,r,a,c,h,f){var D,m=i,b=new Float32Array((D=No(c,h))[0]*D[1]*4);return m.bindBuffer(m.PIXEL_PACK_BUFFER,n),m.getBufferSubData(m.PIXEL_PACK_BUFFER,0,b),m.bindBuffer(m.PIXEL_PACK_BUFFER,null),b}function ug(i,n,e,r){var a=new Float32Array(e*r*4);return Jn(i,n,function(){return i.readPixels(0,0,r,e,i.RGBA,i.FLOAT,a)}),a}var hp=Object.freeze({createVertexShader:cp,createVertexBuffer:up,createIndexBuffer:dp,createFloat32MatrixTexture:kn,createFloat16MatrixTexture:Bo,createUnsignedBytesMatrixTexture:Eh,createPackedMatrixTexture:Dh,createFloat16PackedMatrixTexture:yi,bindVertexProgramAttributeStreams:vd,uploadDenseMatrixToTexture:Ll,uploadPixelDataToTexture:qs,createBufferFromOutputTexture:bd,downloadFloat32MatrixFromBuffer:kh,downloadByteEncodedFloatMatrixFromOutputTexture:Sh,downloadPackedMatrixFromBuffer:cg,downloadMatrixFromPackedOutputTexture:ug}),Ah=function(){function i(n){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var e=ce().getNumber("WEBGL_VERSION");null!=n?(this.gl=n,zo(e,n)):this.gl=wo(e);var r="WEBGL_color_buffer_float";if(1===ce().getNumber("WEBGL_VERSION")){if(this.textureFloatExtension=Ir(this.gl,this.debug,"OES_texture_float"),Po(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=Ir(this.gl,this.debug,"OES_texture_half_float");else if(ce().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),Po(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=Ir(this.gl,this.debug,"EXT_color_buffer_half_float");else if(ce().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(Po(this.gl,r="EXT_color_buffer_float"))this.colorBufferFloatExtension=this.gl.getExtension(r);else{if(!Po(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=up(this.gl,this.debug),this.indexBuffer=dp(this.gl,this.debug),this.framebuffer=Pn(this.gl,this.debug),this.textureConfig=po(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(i.prototype,"debug",{get:function(){return ce().getBool("DEBUG")},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){var n=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var e=this.gl;Jn(e,this.debug,function(){return e.finish()}),Jn(e,this.debug,function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)}),Jn(e,this.debug,function(){return e.deleteFramebuffer(n.framebuffer)}),Jn(e,this.debug,function(){return e.bindBuffer(e.ARRAY_BUFFER,null)}),Jn(e,this.debug,function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)}),Jn(e,this.debug,function(){return e.deleteBuffer(n.indexBuffer)}),this.disposed=!0}},i.prototype.createFloat32MatrixTexture=function(n,e){return this.throwIfDisposed(),kn(this.gl,this.debug,n,e,this.textureConfig)},i.prototype.createFloat16MatrixTexture=function(n,e){return this.throwIfDisposed(),Bo(this.gl,this.debug,n,e,this.textureConfig)},i.prototype.createUnsignedBytesMatrixTexture=function(n,e){return this.throwIfDisposed(),Eh(this.gl,this.debug,n,e)},i.prototype.uploadPixelDataToTexture=function(n,e){this.throwIfDisposed(),qs(this.gl,this.debug,n,e)},i.prototype.uploadDenseMatrixToTexture=function(n,e,r,a){this.throwIfDisposed(),Ll(this.gl,this.debug,n,e,r,a,this.textureConfig)},i.prototype.createFloat16PackedMatrixTexture=function(n,e){return this.throwIfDisposed(),yi(this.gl,this.debug,n,e,this.textureConfig)},i.prototype.createPackedMatrixTexture=function(n,e){return this.throwIfDisposed(),Dh(this.gl,this.debug,n,e,this.textureConfig)},i.prototype.deleteMatrixTexture=function(n){var e=this;this.throwIfDisposed(),this.outputTexture===n&&(no(this.gl,this.debug,this.framebuffer),this.outputTexture=null),Jn(this.gl,this.debug,function(){return e.gl.deleteTexture(n)})},i.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(n,e,r){var a=this;return this.downloadMatrixDriver(n,function(){return Sh(a.gl,a.debug,e,r,a.textureConfig)})},i.prototype.downloadPackedMatrixFromBuffer=function(n,e,r,a,c,h){return cg(this.gl,n,0,0,0,c,h)},i.prototype.downloadFloat32MatrixFromBuffer=function(n,e){return kh(this.gl,n,e)},i.prototype.createBufferFromTexture=function(n,e,r){this.bindTextureToFrameBuffer(n);var a=bd(this.gl,this.debug,e,r);return this.unbindTextureToFrameBuffer(),a},i.prototype.createAndWaitForFence=function(){var n=this.createFence(this.gl);return this.pollFence(n)},i.prototype.createFence=function(n){var e,r,a=this;if(ce().getBool("WEBGL_FENCE_API_ENABLED")){var c=n,h=c.fenceSync(c.SYNC_GPU_COMMANDS_COMPLETE,0);n.flush(),r=function(){var f=c.clientWaitSync(h,0,0);return f===c.ALREADY_SIGNALED||f===c.CONDITION_SATISFIED},e=h}else ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(e=this.beginQuery(),this.endQuery(),r=function(){return a.isQueryAvailable(e,ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):r=function(){return!0};return{query:e,isFencePassed:r}},i.prototype.downloadMatrixFromPackedTexture=function(n,e,r){var a=this;return this.downloadMatrixDriver(n,function(){return ug(a.gl,a.debug,e,r)})},i.prototype.createProgram=function(n){this.throwIfDisposed();var e=this.gl,r=Oe(e,this.debug,n),a=cp(e,this.debug),c=Ue(e,this.debug);return Jn(e,this.debug,function(){return e.attachShader(c,a)}),Jn(e,this.debug,function(){return e.attachShader(c,r)}),De(e,this.debug,c),this.debug&&qe(e,this.debug,c),this.vertexAttrsAreBound||(this.setProgram(c),this.vertexAttrsAreBound=vd(e,this.debug,this.program,this.vertexBuffer)),c},i.prototype.deleteProgram=function(n){var e=this;this.throwIfDisposed(),n===this.program&&(this.program=null),null!=n&&Jn(this.gl,this.debug,function(){return e.gl.deleteProgram(n)})},i.prototype.setProgram=function(n){var e=this;this.throwIfDisposed(),this.program=n,null!=this.program&&this.debug&&qe(this.gl,this.debug,this.program),Jn(this.gl,this.debug,function(){return e.gl.useProgram(n)})},i.prototype.getUniformLocation=function(n,e,r){return void 0===r&&(r=!0),this.throwIfDisposed(),r?nr(this.gl,this.debug,n,e):Er(this.gl,n,e)},i.prototype.getAttributeLocation=function(n,e){var r=this;return this.throwIfDisposed(),Jn(this.gl,this.debug,function(){return r.gl.getAttribLocation(n,e)})},i.prototype.getUniformLocationNoThrow=function(n,e){return this.throwIfDisposed(),this.gl.getUniformLocation(n,e)},i.prototype.setInputMatrixTexture=function(n,e,r){this.throwIfDisposed(),this.throwIfNoProgram(),gr(this.gl,this.debug,0,n,e,r)},i.prototype.setOutputMatrixTexture=function(n,e,r){this.setOutputMatrixTextureDriver(n,r,e)},i.prototype.setOutputPackedMatrixTexture=function(n,e,r){this.throwIfDisposed();var a=No(e,r);this.setOutputMatrixTextureDriver(n,a[0],a[1])},i.prototype.setOutputMatrixWriteRegion=function(n,e,r,a){this.setOutputMatrixWriteRegionDriver(r,n,a,e)},i.prototype.setOutputPackedMatrixWriteRegion=function(n,e,r,a){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},i.prototype.debugValidate=function(){null!=this.program&&qe(this.gl,this.debug,this.program),Tr(this.gl)},i.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var n=this.gl;this.debug&&this.debugValidate(),Jn(n,this.debug,function(){return n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0)})},i.prototype.blockUntilAllProgramsCompleted=function(){var n=this;this.throwIfDisposed(),Jn(this.gl,this.debug,function(){return n.gl.finish()})},i.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=Ir(this.gl,this.debug,2===ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},i.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},i.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},i.prototype.beginQuery=function(){if(2===ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var n=this.gl,e=this.getQueryTimerExtensionWebGL2(),r=n.createQuery();return n.beginQuery(e.TIME_ELAPSED_EXT,r),r}var a=this.getQueryTimerExtensionWebGL1(),c=a.createQueryEXT();return a.beginQueryEXT(a.TIME_ELAPSED_EXT,c),c},i.prototype.endQuery=function(){if(2!==ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var n=this.getQueryTimerExtensionWebGL1();n.endQueryEXT(n.TIME_ELAPSED_EXT)}else{var e=this.gl,r=this.getQueryTimerExtensionWebGL2();e.endQuery(r.TIME_ELAPSED_EXT)}},i.prototype.waitForQueryAndGetTime=function(n){return we(this,void 0,void 0,function(){var e=this;return q(this,function(r){switch(r.label){case 0:return[4,sr(function(){return e.disposed||e.isQueryAvailable(n,ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return r.sent(),[2,this.getQueryTime(n,ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})})},i.prototype.getQueryTime=function(n,e){if(0===e)return null;if(2===e){var r=this.gl;return r.getQueryParameter(n,r.QUERY_RESULT)/1e6}var a=this.getQueryTimerExtensionWebGL1();return a.getQueryObjectEXT(n,a.QUERY_RESULT_EXT)/1e6},i.prototype.isQueryAvailable=function(n,e){if(0===e)return!0;if(2===e){var r=this.gl,a=this.getQueryTimerExtensionWebGL2(),c=r.getQueryParameter(n,r.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),c&&!this.disjoint}return c=(a=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(n,a.QUERY_RESULT_AVAILABLE_EXT),null==this.disjoint&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),c&&!this.disjoint},i.prototype.pollFence=function(n){var e=this;return new Promise(function(r){e.addItemToPoll(function(){return n.isFencePassed()},function(){return r()})})},i.prototype.pollItems=function(){for(var n=function(r){for(var a=0;a<r.length&&r[a]();++a);return a-1}(this.itemsToPoll.map(function(r){return r.isDoneFn})),e=0;e<=n;++e)(0,this.itemsToPoll[e].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(n+1)},i.prototype.addItemToPoll=function(n,e){var r=this;this.itemsToPoll.push({isDoneFn:n,resolveFn:e}),this.itemsToPoll.length>1||sr(function(){return r.pollItems(),0===r.itemsToPoll.length})},i.prototype.bindTextureToFrameBuffer=function(n){this.throwIfDisposed(),xr(this.gl,this.debug,n,this.framebuffer),this.debug&&Tr(this.gl)},i.prototype.unbindTextureToFrameBuffer=function(){null!=this.outputTexture?(xr(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&Tr(this.gl)):no(this.gl,this.debug,this.framebuffer)},i.prototype.downloadMatrixDriver=function(n,e){this.bindTextureToFrameBuffer(n);var r=e();return this.unbindTextureToFrameBuffer(),r},i.prototype.setOutputMatrixTextureDriver=function(n,e,r){this.throwIfDisposed();var a=this.gl;xr(a,this.debug,n,this.framebuffer),this.debug&&Tr(a),this.outputTexture=n,Jn(a,this.debug,function(){return a.viewport(0,0,e,r)}),Jn(a,this.debug,function(){return a.scissor(0,0,e,r)})},i.prototype.setOutputMatrixWriteRegionDriver=function(n,e,r,a){var c=this;this.throwIfDisposed(),Jn(this.gl,this.debug,function(){return c.gl.scissor(n,e,r,a)})},i.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},i.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},i}();function ts(i,n){if(i.length!==n.length)throw Error("Binary was compiled with "+i.length+" inputs, but was executed with "+n.length+" inputs");i.forEach(function(e,r){var a=e.logicalShape,c=n[r],h=c.shape;if(!jt(a,h))throw Error("Binary was compiled with different shapes than the current args. Shapes "+a+" and "+h+" must match");if(!e.isUniform||!c.isUniform){var f=e.texShape,m=c.isUniform?null:c.texData.texShape;if(!jt(f,m))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+f+" and "+m+" must match")}})}var ga=function(i,n,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i;for(var a=e.inChannels,c=e.strideWidth,h=e.strideHeight,f=e.padInfo,m=e.outWidth,b=e.dilationWidth,_=e.dilationHeight,I=e.dataFormat,D=f.left,T=f.top,z=a*e.filterWidth,J=Ja(),ee="channelsLast"===I,ne=ee?0:1,me=ee?1:2,be="",pe=0;pe<=1;pe++)for(var Ie=0;Ie<=1;Ie++)be+="\n          blockIndex = rc.y + "+Ie+";\n          pos = rc.x + "+pe+";\n\n          if(blockIndex < "+i[1]+" && pos < "+i[0]+") {\n            offsetY = int(blockIndex / ("+m+")) * "+h+" - "+T+";\n            d0 = offsetY + "+_+" * (pos / "+z+");\n\n            if(d0 < "+n[ne]+" && d0 >= 0) {\n\n              offsetX = int(mod(float(blockIndex), "+m+".) * "+c+". - "+D+".);\n              d1 = offsetX + "+b+" * (int(mod(float(pos), "+z+".) / "+a+".));\n\n              if(d1 < "+n[me]+" && d1 >= 0) {\n\n                ch = int(mod(float(pos), "+a+".));\n\n                if ("+ee+") {\n                  innerDims = vec2(d1, ch);\n                  result["+(2*pe+Ie)+"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result["+(2*pe+Ie)+"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ";this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        "+be+"\n\n        "+J.output+" = result;\n      }\n    "},_l=function(i,n,e,r,a){this.variableNames=["x"],this.outputShape=[];var h=n,f=i[3]-1;this.outputShape=i;var m="float("+e+") + float("+r+") * sum";this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+h+"; j <= "+h+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+f+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+(.5===a?"inversesqrt("+m+")":1===a?"1.0/("+m+")":"exp(log("+m+") * float(-"+a+"));")+";\n        setOutput(val);\n      }\n    "},dg=function(i,n,e,r,a){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=i,this.depth=i[3],this.depthRadius=n,this.bias=e,this.alpha=r,this.beta=a,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < "+this.depth+"; ++d) {\n          int depthBegin = int(max(0.0, float(d - "+n+")));\n          int depthEnd = int(min(float("+this.depth+"),\n              float(d + "+n+" + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = "+this.depth+";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float("+r+") * norm + float("+e+");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float("+r+")\n                * float("+a+")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * "+a+");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    "},Zs=function(i,n,e,r,a){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var h=n,f=i[3]-1;this.outputShape=i;var m="float("+e+") + float("+r+") * sum";this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < "+this.outputShape[3]+";\n        bool hasNextRow = c < "+this.outputShape[2]+";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - "+h+";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - "+h+"; j <= "+h+"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2("+f+"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * "+(.5===a?"inversesqrt("+m+")":1===a?"1.0/("+m+")":"exp(log("+m+") * float(-"+a+"));")+";\n        setOutput(result);\n      }\n    "},Qs=function(i){this.variableNames=["dy","maxPos"],this.outputShape=i.inShape;var a=i.effectiveFilterHeight,c=i.effectiveFilterWidth;this.userCode="\n      const ivec2 pads = ivec2("+(a-1-i.padInfo.top)+", "+(c-1-i.padInfo.left)+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+a+";\n          wR += "+i.dilationHeight+") {\n          float dyR = float(dyRCorner + wR) / "+i.strideHeight+".0;\n\n          if (dyR < 0.0 || dyR >= "+i.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+c+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i.strideWidth+".0;\n\n            if (dyC < 0.0 || dyC >= "+i.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+(a*c-1)+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+c+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},fp=function(i){this.variableNames=["dy","maxPos"],this.outputShape=i.inShape;var f=i.effectiveFilterDepth,m=i.effectiveFilterHeight,b=i.effectiveFilterWidth;this.userCode="\n      const ivec3 pads = ivec3("+(f-1-i.padInfo.front)+", "+(m-1-i.padInfo.top)+", "+(b-1-i.padInfo.left)+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+f+";\n           wD += "+i.dilationDepth+") {\n          float dyD = float(dyDCorner + wD) / "+i.strideDepth+".0;\n\n          if (dyD < 0.0 || dyD >= "+i.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+m+";\n              wR += "+i.dilationHeight+") {\n            float dyR = float(dyRCorner + wR) / "+i.strideHeight+".0;\n\n            if (dyR < 0.0 || dyR >= "+i.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+b+";\n                wC += "+i.dilationWidth+") {\n              float dyC = float(dyCCorner + wC) / "+i.strideWidth+".0;\n\n              if (dyC < 0.0 || dyC >= "+i.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = "+(f*m*b-1)+" -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * "+m+" * "+b+" +\n                  wR * "+b+" + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Th=function(i,n,e,r,a,c,h){void 0===e&&(e=!1),void 0===r&&(r=!1),void 0===a&&(a=!1),void 0===c&&(c=null),void 0===h&&(h=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n;var m=Math.ceil((e?i[1]:i[2])/2),b=e?"i * 2, rc.y":"rc.y, i * 2",_=r?"rc.z, i * 2":"i * 2, rc.z",I=e?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],D=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],T="",z="";c&&(T=h?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+c+"\n        }":"vec4 activation(vec4 x) {\n          "+c+"\n        }",z="result = activation(result);");var J=a?"result += getBiasAtOutCoords();":"";a&&this.variableNames.push("bias"),h&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+T+"\n\n      const float sharedDimension = "+m+".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < "+m+"; i++) {\n          vec4 a = getMatrixA(rc.x, "+b+");\n          vec4 b = getMatrixB(rc.x, "+_+");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += ("+I[0]+" * "+D[0]+");\n          result += ("+I[1]+" * "+D[1]+");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        "+J+"\n\n        "+z+"\n\n        setOutput(result);\n      }\n    "},pp=function(){function i(n,e,r){this.variableNames=["probs"],this.outputShape=[n,r],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(e-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(e-1)+"));\n      }\n    "}return i.prototype.getCustomSetupFunc=function(n){var e=this;return function(r,a){null==e.seedLoc&&(e.seedLoc=r.getUniformLocation(a,"seed")),r.gl.uniform1f(e.seedLoc,n)}},i}(),hg=function(i,n,e,r){this.variableNames=["indices"],this.outputShape=[i,n],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+r+"), float("+e+"),\n                      float(index == coords.y)));\n      }\n    "},Mh=function(i){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=i;var f,b,_,n=i.length;if(0===n)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var e=Va("rc",n),r=fn(n),a=function(f,m,b){if(1===f)return"rc > "+m[0];for(var _="",I=f-2;I<f;I++)_+=b[I]+" >= "+m[I],I<f-1&&(_+="||");return _}(n,i,e),c=function(f,m,b,_){if(1===f)return"";var I=_.slice(-2);return"\n    int r = "+I[0]+";\n    int c = "+I[1]+";\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= "+m+";\n    bool rEdge = rp1 >= "+b+";\n  "}(n,i[i.length-1],i[i.length-2],e),h=(_=function(I,D){for(var T=[],z=0;z<=1;z++)for(var J=0;J<=1;J++){for(var ee=(0===z?"r":"rp1")+", "+(0===J?"c":"cp1"),ne=2;ne<I;ne++)ee=D[D.length-1-ne]+","+ee;T.push(ee)}return T}(b=(f=i).length,e),1===b?"getA(rc),\n            rc + 1 >= "+f[0]+" ? 0. : getA(rc + 1),\n            0, 0":"getA("+_[0]+"),\n          cEdge ? 0. : getA("+_[1]+"),\n          rEdge ? 0. : getA("+_[2]+"),\n          rEdge || cEdge ? 0. : getA("+_[3]+")");this.userCode="\n        void main() {\n          "+r+" rc = getOutputCoords();\n\n          if("+a+") {\n            setOutput(vec4(0));\n          } else {\n            "+c+"\n\n            setOutput(vec4("+h+"));\n          }\n        }\n      "}},yd=function(i,n,e){this.variableNames=["x"],this.outputShape=n.map(function(m,b){return m[0]+i[b]+m[1]});var r=i.length,a=fn(r),c=n.map(function(m){return m[0]}).join(","),h=n.map(function(m,b){return m[0]+i[b]}).join(","),f=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?"\n      "+a+" start = "+a+"("+c+");\n      "+a+" end = "+a+"("+h+");\n\n      void main() {\n        "+a+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+e+"));\n        } else {\n          "+a+" coords = outC - start;\n          setOutput(getX("+f+"));\n        }\n      }\n    ":"\n        int start = "+c+";\n        int end = "+h+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+e+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "},ku=function(i,n,e){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map(function(ee,ne){return ee[0]+i[ne]+ee[1]});for(var r=i.length,a=fn(r),c=n.map(function(ee){return ee[0]}).join(","),h=n.map(function(ee,ne){return ee[0]+i[ne]}).join(","),f=Va("rc",r),m=Va("source",r),b=f[r-1]+" < "+this.outputShape[r-1],_=1===r?"source":"vec2("+m.slice(-2).join()+")",I=[a+" rc = outputLoc;",f[r-1]+" += 1;\n       if("+b+") {\n      ",1===r?"":"}\n       rc = outputLoc;\n       "+f[r-2]+" += 1;\n       if("+f[r-2]+" < "+this.outputShape[r-2]+") {",1===r?"":"  "+f[r-1]+" += 1;\n         if("+b+") {"],D=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",T="",z=0,J=1===r?2:4;z<J;z++)T+="\n        "+I[z]+"\n        if ("+D+") {\n          result["+z+"] = float("+e+");\n        } else {\n          "+a+" source = rc - start;\n          result["+z+"] = getChannel(getX("+m.join()+"), "+_+");\n        }\n      ";this.userCode="\n      const "+a+" start = "+a+"("+c+");\n      const "+a+" end = "+a+"("+h+");\n\n      void main() {\n        "+a+" outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        "+(T+=1===r?"} ":"}}")+"\n        setOutput(result);\n      }\n    "},uc=function(i,n,e){if(this.variableNames=["x"],"avg"===n&&e)throw new Error("Cannot compute positions for average pool.");var r=i.filterWidth,a=i.strideHeight,c=i.strideWidth,h=i.dilationHeight,f=i.dilationWidth,m=i.effectiveFilterHeight,b=i.effectiveFilterWidth,_=i.padInfo.top,I=i.padInfo.left;this.outputShape=i.outShape;var D="avg"===n,T="0.0";if(D||(T="-1.0 / 1e-20"),e)this.userCode="\n        const ivec2 strides = ivec2("+a+", "+c+");\n        const ivec2 pads = ivec2("+_+", "+I+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+m+";\n              wR += "+h+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+i.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+b+";\n                wC += "+f+") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+i.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+b+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var z=n+"("+n+"("+n+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(z="avgValue / count");var J=4*Math.floor(r/4),ee=r%4,ne="\n      if ("+D+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+a+", "+c+");\n      const ivec2 pads = ivec2("+_+", "+I+");\n      const float initializationValue = "+T+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+i.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+T+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+m+";\n            wR += "+h+") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+i.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+J+"; wC += 4) {\n            int xC = xCCorner + wC * "+f+";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+f+", d),\n              getValue(batch, xR, xC + 2 * "+f+", d),\n              getValue(batch, xR, xC + 3 * "+f+", d)\n            );\n\n            "+ne+"\n          }\n\n          int xC = xCCorner + "+J+";\n          if ("+(1===ee)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+ne+"\n          } else if ("+(2===ee)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+f+", d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+ne+"\n          } else if ("+(3===ee)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+f+", d),\n              getValue(batch, xR, xC + 2 * "+f+", d),\n              initializationValue\n            );\n\n            "+ne+"\n          }\n        }\n        setOutput("+z+");\n      }\n    "}},$c=function(i,n,e){if(this.variableNames=["x"],"avg"===n&&e)throw new Error("Cannot compute positions for average pool.");var r=i.filterWidth,a=i.strideDepth,c=i.strideHeight,h=i.strideWidth,f=i.dilationDepth,m=i.dilationHeight,b=i.dilationWidth,_=i.effectiveFilterDepth,I=i.effectiveFilterHeight,D=i.effectiveFilterWidth,T=i.padInfo.front,z=i.padInfo.top,J=i.padInfo.left;this.outputShape=i.outShape;var ee="avg"===n,ne="0.0";if(ee||(ne="-1.0 / 1e-20"),e)this.userCode="\n        const ivec3 strides =\n            ivec3("+a+", "+c+", "+h+");\n        const ivec3 pads = ivec3("+T+", "+z+", "+J+");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < "+_+";\n              wD += "+f+") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= "+i.inDepth+") {\n              continue;\n            }\n\n            for (int wR = 0; wR < "+I+";\n                wR += "+m+") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= "+i.inHeight+") {\n                continue;\n              }\n\n              for (int wC = 0; wC < "+D+";\n                  wC += "+b+") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= "+i.inWidth+") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value >= currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition =\n                      wD * "+I+" * "+D+" +\n                      wR * "+D+" + wC;;\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var me=n+"("+n+"("+n+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(me="avgValue / count");var be=4*Math.floor(r/4),pe=r%4,Ie="\n      if ("+ee+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec3 strides =\n        ivec3("+a+", "+c+", "+h+");\n      const ivec3 pads = ivec3("+T+", "+z+", "+J+");\n      const float initializationValue = "+ne+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= "+i.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+ne+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < "+_+";\n            wD += "+f+") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= "+i.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+I+";\n            wR += "+m+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+i.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+be+"; wC += 4) {\n              int xC = xCCorner + wC * "+b+";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+b+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+b+", ch),\n                getValue(batch, xD, xR, xC + 3 * "+b+", ch)\n              );\n\n              "+Ie+"\n            }\n\n            int xC = xCCorner + "+be+";\n            if ("+(1===pe)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              "+Ie+"\n            } else if ("+(2===pe)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+b+", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              "+Ie+"\n            } else if ("+(3===pe)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+b+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+b+", ch),\n                initializationValue\n              );\n\n              "+Ie+"\n            }\n          }\n          setOutput("+me+");\n        }\n      }\n    "}},Su=function(i,n){this.variableNames=["x"];var e=i.windowSize,r=i.batchSize,a=i.inSize,c=Math.ceil(a/e);this.outputShape=[r,c];var h="0.0",f="";"prod"===n?h="1.0":"min"===n?(h="1.0 / 1e-20",f="min"):"max"===n&&(h="-1.0 / 1e-20",f="max");var m=n+"("+n+"("+n+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===n?m="sumValue":"prod"===n?m="prodValue":"all"===n?m="allValue":"any"===n&&(m="anyValue");var b=4*Math.floor(e/4),_=e%4,I="\n      if ("+("sum"===n)+") {\n        sumValue += dot(values, ones);\n      } else if ("+("prod"===n)+") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = "+f+"(values, minMaxValue);\n      }\n    ",D="vec4";"all"===n?(h="1.0",I="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",D="bvec4"):"any"===n&&(h="0.0",I="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",D="bvec4");var T="";a%e>0&&(T="\n        if (inIdx < 0 || inIdx >= "+a+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+h+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+T+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+e+";\n\n        vec4 minMaxValue = vec4("+h+");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+b+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+D+" values = "+D+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+I+"\n        }\n\n        int inIdx = inOffset + "+b+";\n        if ("+(1===_)+") {\n          "+D+" values = "+D+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+I+"\n        } else if ("+(2===_)+") {\n          "+D+" values = "+D+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+I+"\n        } else if ("+(3===_)+") {\n          "+D+" values = "+D+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+I+"\n        }\n        setOutput("+m+");\n      }\n    "},Rh=function(i,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i;for(var e="",r=0;r<4;r++){var a="thisRC = rc;";r%2==1&&(a+="thisRC.z += 1;"),r>1&&(a+="thisRC.y += 1;"),e+="\n        "+a+"\n        "+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+"\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result["+r+"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        "+(r>0?"}":"")+"\n      "}this.userCode="\n      \n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      "+sc(["r","c","d"],n)+"\n      return ivec3(r, c, d);\n    }\n  \n      "+xh(i)+"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = "+i[1]+";\n        int cols = "+i[2]+";\n\n        "+e+"\n\n        setOutput(result);\n      }\n    "},mp=function(i,n,e){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n.shape;var r=n.shape,a=r[1],c=r[2],h=i.shape,f=h[1],m=h[2],b=[e&&f>1?a-1:a,e&&m>1?c-1:c],_=[e&&f>1?f-1:f,e&&m>1?m-1:m],I=b[0]/_[0],D=b[1]/_[1],T=1/I,z=1/D,J=2*Math.ceil(T)+2,ee=2*Math.ceil(z)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+I+");\n        const float widthScale = float("+D+");\n\n        const float invHeightScale = float("+T+");\n        const float invWidthScale = float("+z+");\n\n        const int winHeight = int("+J+");\n        const int winWidth = int("+ee+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+f+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+m+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(a-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(c-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},gp=function(i,n,e,r){this.variableNames=["A"],this.outputShape=[];var c=i[1],h=i[2];this.outputShape=[i[0],n,e,i[3]];var m=[r&&n>1?c-1:c,r&&e>1?h-1:h],b=[r&&n>1?n-1:n,r&&e>1?e-1:e];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+m[0]/b[0]+",\n          "+m[1]/b[1]+");\n      const vec2 inputShapeRC = vec2("+c+".0, "+h+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "},Ph=function(i,n,e,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var c=i[1],h=i[2],f=i[3];this.outputShape=[i[0],n,e,f];var m=[r&&n>1?c-1:c,r&&e>1?h-1:h],b=[r&&n>1?n-1:n,r&&e>1?e-1:e];this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          "+m[0]/b[0]+",\n          "+m[1]/b[1]+",\n          "+m[1]/b[1]+");\n      const vec3 inputShapeRC = vec3("+c+".0, "+h+".0,\n                                     "+h+".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < "+(f-1)+";\n        bool hasNextRow = coords.z < "+(e-1)+";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    "},vp=function(i,n,e){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n.shape;var r=n.shape,a=r[1],c=r[2],h=i.shape,f=h[1],m=h[2],b=[e&&f>1?a-1:a,e&&m>1?c-1:c],_=[e&&f>1?f-1:f,e&&m>1?m-1:m],I=b[0]/_[0],D=b[1]/_[1],T=1/I,z=1/D,J=2*Math.ceil(T)+2,ee=2*Math.ceil(z)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+I+");\n        const float widthScale = float("+D+");\n\n        const float invHeightScale = float("+T+");\n        const float invWidthScale = float("+z+");\n\n        const int winHeight = int("+J+");\n        const int winWidth = int("+ee+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+f+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+m+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+b[0]+") *\n                (float(dyR) / float("+_[0]+"));\n\n            float sourceFracCol =\n                float("+b[1]+") *\n                  (float(dyC) / float("+_[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+a+") - 1),\n                "+e+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+c+") - 1),\n                "+e+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},Oh=function(i,n,e,r){this.variableNames=["A"],this.outputShape=[];var c=i[1],h=i[2];this.outputShape=[i[0],n,e,i[3]];var m=[r&&n>1?c-1:c,r&&e>1?h-1:h],b=[r&&n>1?n-1:n,r&&e>1?e-1:e];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+m[0]/b[0]+",\n          "+m[1]/b[1]+");\n      const vec2 inputShapeRC = vec2("+c+".0, "+h+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+(r?"0.5":"0.0")+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "},dc=function(i,n){this.variableNames=["x"];var e=i.length;if(e>4)throw new Error("WebGL backend: Reverse of rank-"+e+" tensor is not yet supported");if(this.outputShape=i,1!==e){var r=i.map(function(c,h){return-1!==n.indexOf(f=h)&&1!==i[f]?i[f]+" - coords["+f+"] - 1":"coords["+f+"]";var f}).join(","),a=fn(e);this.userCode="\n      void main() {\n        "+a+" coords = getOutputCoords();\n        setOutput(getX("+r+"));\n      }\n    "}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+i[0]+" - coord - 1));\n        }\n      "},Pa=function(i,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var e=i.length;if(e>4)throw new Error("WebGL backend: Reverse of rank-"+e+" tensor is not yet supported");this.outputShape=i;var m,r=Va("rc",e),a=r[e-1]+" + 1 < "+this.outputShape[e-1],c=r[e-2]+" + 1 < "+this.outputShape[e-2],h=fn(e);function f(m){var b=i.map(function(_,I){return T=m,-1!==n.indexOf(D=I)&&1!==i[D]?i[D]+" - "+T[D]+" - 1":""+T[D];var D,T});return"getChannel(getX("+b.join(",")+"), vec2("+b.slice(-2).join(",")+"))"}this.userCode=1===e?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX("+i[0]+" - rc - 1),\n            "+i[0]+" - rc - 1);\n          if("+a+"){\n              result.g = getChannel(getX("+i[0]+" - (rc  + 1) - 1),\n                "+i[0]+" - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      ":"\n        void main() {\n          "+h+" rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = "+f(r.slice())+";\n          if("+a+"){\n            result.g = "+((m=r.slice())[e-1]="("+m[e-1]+" + 1)",f(m)+";\n          }\n          if(")+c+") {\n            result.b = "+function(m){return m[e-2]="("+m[e-2]+" + 1)",f(m)}(r.slice())+";\n            if("+a+") {\n              result.a = "+function(m){return m[e-1]="("+m[e-1]+" + 1)",m[e-2]="("+m[e-2]+" + 1)",f(m)}(r.slice())+";\n            }\n          }\n          setOutput(result);\n        }\n    "},sl=function(i,n,e,r,a,c,h){void 0===h&&(h=!0),this.variableNames=["updates","indices","defaultValue"],this.outputShape=c;var f=fn(a.length),m=fn(c.length),b="";1===e?b="i":2===e&&(b="i, j");var I="";1===r?I="i":2===r&&(I="i, coords[1]"),this.userCode="\n        "+f+" strides = "+f+"("+a+");\n\n        void main() {\n          "+m+" coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < "+i+"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < "+n+"; j++) {\n              int index = round(getIndices("+b+"));\n              flattenedIndex += index * "+(n>1?"strides[j]":"strides")+";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += getUpdates("+I+");\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      "},Oi=function(i,n){this.variableNames=["x","segmentIds"];var e=i.windowSize,r=i.batchSize,a=i.inSize,c=i.numSegments,h=c*Math.ceil(a/e);this.outputShape=[r,h];var f=4*Math.floor(e/4),m=e%4,b="\n        sumValue += dot(values, segFilter);\n    ",_="";a%e>0&&(_="\n        if (inIdx < 0 || inIdx >= "+a+") {\n          return initializationValue;\n        }\n      ");var I="";a%e>0&&(I="\n        if (inIdx < 0 || inIdx >= "+a+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        "+_+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+I+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+c+")) * float("+e+"));\n        int currentSeg = int(mod(float(outIdx), float("+c+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+f+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+b+"\n        }\n\n        int inIdx = inOffset + "+f+";\n        if ("+(1===m)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+b+"\n        } else if ("+(2===m)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+b+"\n        } else if ("+(3===m)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+b+"\n        }\n        setOutput(sumValue);\n      }\n    "},fg=function(i,n,e){var r,a;if(this.variableNames=["c","a","b"],this.outputShape=n,e>4)throw Error("Where for rank "+e+" is not yet supported");if(1===e)a="resRC",r="resRC";else{for(var c=["resRC.x","resRC.y","resRC.z","resRC.w"],h=[],f=[],m=0;m<n.length;m++)f.push(""+c[m]),m<i&&h.push(""+c[m]);r=h.join(),a=f.join()}var b=fn(e);this.userCode="\n      void main() {\n        "+b+" resRC = getOutputCoords();\n        float cVal = getC("+r+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+a+"));\n        } else {\n          setOutput(getB("+a+"));\n        }\n      }\n    "},pg=function(){function i(n){this.variableNames=["source"],this.outputShape=n,this.rank=n.length;var e,r=fn(this.rank),a="uniform int start["+this.rank+"];",c=function(h){if(1===h)return"sourceLoc";if(h<=6)return Nh.slice(0,h).map(function(f){return"sourceLoc."+f}).join(",");throw Error("Slicing for rank "+h+" is not yet supported")}(this.rank);e="\n        "+r+" sourceLoc;\n        "+r+" coords = getOutputCoords();\n        "+n.map(function(h,f){return"sourceLoc."+Nh[f]+" = start["+f+"] + coords."+Nh[f]+";"}).join("\n")+"\n      ",this.userCode="\n      "+a+"\n      void main() {\n        "+e+"\n        setOutput(getSource("+c+"));\n      }\n    "}return i.prototype.getCustomSetupFunc=function(n){var e=this;if(n.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+n.length+")");return function(r,a){null==e.startLoc&&(e.startLoc=r.getUniformLocationNoThrow(a,"start"),null==e.startLoc)||r.gl.uniform1iv(e.startLoc,n)}},i}(),Nh=["x","y","z","w","u","v"],mg=function(){function i(n){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.rank=n.length;var e=fn(this.rank),r=Va("coords",this.rank),a=Va("sourceLoc",this.rank),c=1===this.rank?"sourceLoc":"vec2("+a.slice(-2).join()+")",h="getChannel(getSource("+a.join()+"), "+c+")",f="\n      result.x = "+h+";\n      if (++"+r[this.rank-1]+" < "+n[this.rank-1]+") {\n        ++"+a[this.rank-1]+";\n        result.y = "+h+";\n        --"+a[this.rank-1]+";\n      }\n    ",m=1===this.rank?"":"\n      --"+r[this.rank-1]+";\n      if (++"+r[this.rank-2]+" < "+n[this.rank-2]+") {\n        ++"+a[this.rank-2]+";\n        result.z = "+h+";\n        if (++"+r[this.rank-1]+" < "+n[this.rank-1]+") {\n          ++"+a[this.rank-1]+";\n          result.w = "+h+";\n        }\n      }\n    ",b=this.rank<=4?"sourceLoc = coords +\n            "+e+"("+n.map(function(_,I){return"start["+I+"]"}).join()+");":n.map(function(_,I){return a[I]+" = "+r[I]+" + start["+I+"];"}).join("\n");this.userCode="\n      uniform int start["+this.rank+"];\n      void main() {\n        "+e+" coords = getOutputCoords();\n        "+e+" sourceLoc;\n        "+b+"\n        vec4 result = vec4(0.);\n        "+f+"\n        "+m+"\n        setOutput(result);\n      }\n    "}return i.prototype.getCustomSetupFunc=function(n){var e=this;if(n.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+n.length+")");return function(r,a){null==e.startLoc&&(e.startLoc=r.getUniformLocationNoThrow(a,"start"),null==e.startLoc)||r.gl.uniform1iv(e.startLoc,n)}},i}(),gg=function(i,n,e){this.variableNames=["x"],this.outputShape=e;var r=e.length,a=fn(e.length),c=fn(e.length),h="";if(1===r)h="coords * strides + begin";else{var f=0;h=e.map(function(m,b){return f++,1===e.length?"coords * strides["+b+"] + begin["+b+"]":"coords["+(f-1)+"] * strides["+b+"] + begin["+b+"]"}).join(",")}this.userCode="\n      "+a+" begin = "+a+"("+i+");\n      "+a+" strides = "+a+"("+n+");\n\n      void main() {\n        "+c+" coords = getOutputCoords();\n        setOutput(getX("+h+"));\n      }\n    "},vg=function(){function i(n){this.gpgpu=n,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return i.prototype.acquireTexture=function(n,e,r){var a,c=Au(e,r),h=As(n,c,r);if(h in this.freeTextures||(this.freeTextures[h]=[]),h in this.usedTextures||(this.usedTextures[h]=[]),this.freeTextures[h].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var f=this.freeTextures[h].shift();return this.usedTextures[h].push(f),f}return this.numUsedTextures++,this.log(),c===wn.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(n[0],n[1]):c===wn.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(n[0],n[1]):c===wn.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(n[0],n[1]):c===wn.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(n[0],n[1]):c===wn.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(n[0],n[1])),this.usedTextures[h].push(a),a},i.prototype.releaseTexture=function(n,e,r,a){if(null!=this.freeTextures){var c=As(e,Au(r,a),a);c in this.freeTextures||(this.freeTextures[c]=[]),this.freeTextures[c].push(n),this.numFreeTextures++,this.numUsedTextures--;var h=this.usedTextures[c],f=h.indexOf(n);if(f<0)throw new Error("Cannot release a texture that was never provided by this texture manager");h.splice(f,1),this.log()}},i.prototype.log=function(){this.logEnabled&&console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+(this.numFreeTextures+this.numUsedTextures)+")")},i.prototype.getNumUsedTextures=function(){return this.numUsedTextures},i.prototype.getNumFreeTextures=function(){return this.numFreeTextures},i.prototype.dispose=function(){var n=this;if(null!=this.freeTextures){for(var e in this.freeTextures)this.freeTextures[e].forEach(function(r){n.gpgpu.deleteMatrixTexture(r)});for(var e in this.usedTextures)this.usedTextures[e].forEach(function(a){n.gpgpu.deleteMatrixTexture(a)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},i}();function Au(i,n){if(i===Ln.UPLOAD)return wn.PACKED_2X2_FLOAT32;if(i===Ln.RENDER||null==i)return e=n,ce().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?wn.PACKED_2X2_FLOAT32:wn.UNPACKED_FLOAT32:e?wn.PACKED_2X2_FLOAT16:wn.UNPACKED_FLOAT16;var e;if(i===Ln.DOWNLOAD||i===Ln.PIXELS)return wn.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+i)}function As(i,n,e){return i[0]+"_"+i[1]+"_"+n+"_"+e}var bp=function(i,n){this.variableNames=["A"];for(var e=new Array(i.length),r=0;r<e.length;r++)e[r]=i[r]*n[r];this.outputShape=e,this.rank=e.length;var a=fn(this.rank),c=function(h){var f=h.length;if(f>5)throw Error("Tile for rank "+f+" is not yet supported");if(1===f)return"imod(resRC, "+h[0]+")";for(var m=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],b=[],_=0;_<h.length;_++)b.push("imod("+m[_]+", "+h[_]+")");return b.join()}(i);this.userCode="\n      void main() {\n        "+a+" resRC = getOutputCoords();\n        setOutput(getA("+c+"));\n      }\n    "},Tu=function(i,n){this.variableNames=["A"];for(var e=new Array(i.length),r=0;r<e.length;r++)e[r]=i[n[r]];this.outputShape=e,this.rank=e.length;var a=fn(this.rank),c=function(h){var f=h.length;if(f>6)throw Error("Transpose for rank "+f+" is not yet supported");for(var m=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],b=new Array(f),_=0;_<h.length;_++)b[h[_]]=m[_];return b.join()}(n);this.userCode="\n    void main() {\n      "+a+" resRC = getOutputCoords();\n      setOutput(getA("+c+"));\n    }\n    "},xd=function(i,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var e=new Array(i.length),r=0;r<e.length;r++)e[r]=i[n[r]];if(this.outputShape=e,this.rank=e.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var a=fn(this.rank),c=hd("rc",this.rank),h=new Array(this.rank);for(r=0;r<n.length;r++)h[n[r]]=c[r];var f="vec2("+h.slice(-2).join()+")",m="++"+c[this.rank-1]+" < "+e[this.rank-1],b="getChannel(getA("+h.join()+"), "+f+")";this.userCode="\n    void main() {\n      "+a+" rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = "+b+";\n      if("+m+") {\n        result[1] = "+b+";\n      }\n      --"+c[this.rank-1]+";\n      if(++"+c[this.rank-2]+" < "+e[this.rank-2]+") {\n        result[2] = "+b+";\n        if("+m+") {\n          result[3] = "+b+";\n        }\n      }\n      setOutput(result);\n    }\n    "},Mu=1.7580993408473768,Ru=1.0507009873554805,Wo=function(i,n){this.variableNames=["A"],this.outputShape=i,this.userCode="\n      float unaryOperation(float x) {\n        "+n+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},$s="if (isnan(x)) return x;",hc="return abs(x);",jc=$s+"\n  return (x < 0.0) ? 0.0 : x;\n",yg=$s+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",wd="return (x >= 0.0) ? x : (exp(x) - 1.0);",yp="\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = "+Mu+";\n  float scale = "+Ru+";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n",xp="return -x;",_d="return ceil(x);",xg="return floor(x);",wg="return exp(x);",_g="return exp(x) - 1.0;",Fh=$s+"\n  return sin(x);\n",zc=$s+"\n  return cos(x);\n",Lh=$s+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n",Cd=$s+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n",Cg=$s+"\n  return atan(x);\n",Pu=$s+"return log(x + sqrt(x * x + 1.0));",wp=$s+"\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));",Ou=$s+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;",js="return x;",Bh="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",_p="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Cp="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",Ts=function(i,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i,this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        "+n+"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},Ig=function(i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=i;var n=i.length,e=Va("rc",n),r=fn(n),a=function(f,m){if(1===f)return"rc";for(var b="",_=0;_<f;_++)b+=m[_],_<f-1&&(b+=",");return b}(n,e),c=e.slice(-2),h=n<=1?"rc":"vec2("+c.join(",")+")";this.userCode="\n      void main() {\n        "+r+" rc = getOutputCoords();\n        vec4 packedInput = getA("+a+");\n\n        setOutput(getChannel(packedInput, "+h+"));\n      }\n    "},Uc={};function Vc(i,n){if(void 0===n&&(n=!1),"linear"===i)return"return x;";if("relu"===i)return n?Bh:jc;if("elu"===i)return n?Cp:wd;if("relu6"===i)return n?_p:yg;if("prelu"===i)return n?Ss:Fc;throw new Error("Activation "+i+" has not been implemented for the WebGL backend.")}var Nu=function(i){function n(e){var r,a=i.call(this)||this;if(a.pendingRead=new WeakMap,a.pendingDisposal=new WeakSet,a.dataRefCount=new WeakMap,a.numBytesInGPU=0,a.uploadWaitMs=0,a.downloadWaitMs=0,a.warnedAboutMemory=!1,a.pendingDeletes=0,a.disposed=!1,!ce().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null==e){var c=wo(ce().getNumber("WEBGL_VERSION"));a.binaryCache=((r=ce().getNumber("WEBGL_VERSION"))in Uc||(Uc[r]={}),Uc[r]),a.gpgpu=new Ah(c),a.canvas=c.canvas,a.gpgpuCreatedLocally=!0}else a.gpgpu=e,a.binaryCache={},a.gpgpuCreatedLocally=!1,a.canvas=e.gl.canvas;return a.textureManager=new vg(a.gpgpu),a.numMBBeforeWarning=null==ce().global.screen?1024:ce().global.screen.height*ce().global.screen.width*window.devicePixelRatio*600/1024/1024,a.texData=new jr(a,G),a}return H(n,i),n.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},n.prototype.write=function(e,r,a){if(ce().getBool("DEBUG")&&this.checkNumericalProblems(e),"complex64"===a&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var c={};return this.texData.set(c,{shape:r,dtype:a,values:e,usage:Ln.UPLOAD}),c},n.prototype.move=function(e,r,a,c){if(ce().getBool("DEBUG")&&this.checkNumericalProblems(r),"complex64"===c)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:a,dtype:c,values:r,usage:Ln.UPLOAD})},n.prototype.readSync=function(e){var r=this.texData.get(e),a=r.values,c=r.dtype,h=r.complexTensors,m=r.shape;if(null!=r.slice){var _;_=r.isPacked?new Ts(m,js):new Wo(m,js);var I=this.runWebGLProgram(_,[{dataId:e,shape:m,dtype:c}],c),D=this.readSync(I.dataId);return this.disposeData(I.dataId),D}if(null!=a)return this.convertAndCacheOnCPU(e);if("string"===c)return a;var T,z,J=null!=this.activeTimers;return J&&(T=sn()),z="complex64"===c?Hr(h.real.dataSync(),h.imag.dataSync()):this.getValuesFromTexture(e),J&&(this.downloadWaitMs+=sn()-T),this.convertAndCacheOnCPU(e,z)},n.prototype.read=function(e){return we(this,void 0,void 0,function(){var r,a,c,h,m,b,_,I,D,T,z,J,ee,ne,me,Ie,Ye,kt,It;return q(this,function(vt){switch(vt.label){case 0:if(this.pendingRead.has(e))return r=this.pendingRead.get(e),[2,new Promise(function(bt){return r.push(bt)})];if(a=this.texData.get(e),c=a.values,h=a.shape,m=a.dtype,b=a.complexTensors,_=a.isPacked,null!=a.slice)return I=_?new Ts(h,js):new Wo(h,js),D=this.runWebGLProgram(I,[{dataId:e,shape:h,dtype:m}],m),T=this.read(D.dataId),this.disposeData(D.dataId),[2,T];if(null!=c)return[2,this.convertAndCacheOnCPU(e)];if(!ce().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===ce().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return z=null,"complex64"!==m&&ce().get("WEBGL_BUFFER_SUPPORTED")&&(J=this.decode(e),ee=this.texData.get(J.dataId),z=(It=this.gpgpu).createBufferFromTexture.apply(It,[ee.texture].concat(Ar(h)))),this.pendingRead.set(e,[]),"complex64"===m?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:vt.sent(),vt.label=2;case 2:return"complex64"!==m?[3,4]:[4,Promise.all([b.real.data(),b.imag.data()])];case 3:return me=vt.sent(),ne=Hr(me[0],me[1]),[3,5];case 4:null==z?ne=this.getValuesFromTexture(e):(Ie=He(h),ne=this.gpgpu.downloadFloat32MatrixFromBuffer(z,Ie)),vt.label=5;case 5:return null!=J&&this.disposeData(J.dataId),Ye=this.convertAndCacheOnCPU(e,ne),kt=this.pendingRead.get(e),this.pendingRead.delete(e),kt.forEach(function(bt){return bt(Ye)}),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e),this.pendingDeletes--),[2,Ye]}})})},n.prototype.checkNumericalProblems=function(e){if(null!=e)for(var r=0;r<e.length;r++){var a=e[r];if(!dn(a))throw ce().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error("The value "+a+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'"):Error("The value "+a+" cannot be represented on this device.")}},n.prototype.getValuesFromTexture=function(e){var r,a=this.texData.get(e),c=a.shape,h=a.dtype,f=a.isPacked,m=He(c);if(ce().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var b=this.decode(e),_=this.texData.get(b.dataId),I=(r=this.gpgpu).downloadMatrixFromPackedTexture.apply(r,[_.texture].concat(Ar(c))).subarray(0,m);return this.disposeData(b.dataId),I}var D=ce().getBool("WEBGL_PACK")&&!0===f,T=D?ea(c):c,z=D?new ap(T):new gd(T),J=this.runWebGLProgram(z,[{shape:T,dtype:h,dataId:e}],"float32"),ee=this.texData.get(J.dataId),ne=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(ee.texture,ee.texShape[0],ee.texShape[1]).subarray(0,m);return this.disposeData(J.dataId),ne},n.prototype.time=function(e){return we(this,void 0,void 0,function(){var r,a,c,h,f,m,b;return q(this,function(_){switch(_.label){case 0:return r=this.activeTimers,a=[],c=!1,null==this.programTimersStack?(this.programTimersStack=a,c=!0):this.activeTimers.push(a),this.activeTimers=a,e(),h=Ze(this.activeTimers.map(function(I){return I.query})).filter(function(I){return null!=I}),f=Ze(this.activeTimers.map(function(I){return I.name})).filter(function(I){return null!=I}),this.activeTimers=r,c&&(this.programTimersStack=null),m={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(h)]:[3,2];case 1:return b=_.sent(),m.kernelMs=ze(b),m.getExtraProfileInfo=function(){return b.map(function(I,D){return{name:f[D],ms:I}}).map(function(I){return I.name+": "+I.ms}).join(", ")},[3,3];case 2:m.kernelMs={error:"WebGL query timers are not supported in this environment."},_.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,m]}})})},n.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},n.prototype.startTimer=function(){return ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:sn(),endMs:null}},n.prototype.endTimer=function(e){return ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=sn(),e)},n.prototype.getQueryTime=function(e){return we(this,void 0,void 0,function(){var r;return q(this,function(a){return ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(e)]:[2,(r=e).endMs-r.startMs]})})},n.prototype.disposeData=function(e){if(!this.pendingDisposal.has(e)){if(this.pendingRead.has(e))return this.pendingDisposal.add(e),void this.pendingDeletes++;if(this.texData.has(e)){this.releaseGPUData(e);var r=this.texData.get(e).complexTensors;null!=r&&(r.real.dispose(),r.imag.dispose()),this.texData.delete(e)}}},n.prototype.releaseGPUData=function(e){var r=this.texData.get(e),a=r.texture,c=r.dtype,h=r.texShape,f=r.usage,m=r.isPacked,b=r.slice,_=b&&b.origDataId||e,I=this.dataRefCount.get(_);I>1?this.dataRefCount.set(_,I-1):(this.dataRefCount.delete(_),null!=a&&(this.numBytesInGPU-=this.computeBytes(h,c),this.textureManager.releaseTexture(a,h,f,m)));var D=this.texData.get(e);D.texture=null,D.texShape=null,D.isPacked=!1,D.slice=null},n.prototype.getTexture=function(e){return this.uploadToGPU(e),this.texData.get(e).texture},n.prototype.getDataInfo=function(e){return this.texData.get(e)},n.prototype.getCPUBackend=function(){return ce().getBool("WEBGL_CPU_FORWARD")?(null==this.cpuBackend&&(this.cpuBackend=G.findBackend("cpu")),this.cpuBackend):null},n.prototype.shouldExecuteOnCPU=function(e,r){var a=this;return void 0===r&&(r=128),null!=this.getCPUBackend()&&e.every(function(c){return null==a.texData.get(c.dataId).texture&&c.size<r})},n.prototype.getGPGPUContext=function(){return this.gpgpu},n.prototype.complex=function(e,r){var a=this.makeOutput(e.shape,"complex64");return this.texData.get(a.dataId).complexTensors={real:G.keep(e.clone()),imag:G.keep(r.clone())},a},n.prototype.real=function(e){return this.texData.get(e.dataId).complexTensors.real.clone()},n.prototype.imag=function(e){return this.texData.get(e.dataId).complexTensors.imag.clone()},n.prototype.slice=function(e,r,a){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.slice(e,r,a);if(0===He(a))return gt([],a,e.dtype);var c=this.texData.get(e.dataId).isPacked,h=bn(e.shape,r,a);if(c||!h){var f=ce().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new mg(a):new pg(a),m=f.getCustomSetupFunc(r);return this.compileAndRun(f,[e],null,m)}return this.uploadToGPU(e.dataId),this.shallowSlice(e,r,a)},n.prototype.shallowSlice=function(e,r,a){var c=this.texData.get(e.dataId),h=this.makeOutput(a,e.dtype),f=this.texData.get(h.dataId);Object.assign(f,c),f.shape=a,f.dtype=e.dtype;var m=Yn(r,e.strides);c.slice&&(m+=c.slice.flatOffset),f.slice={flatOffset:m,origDataId:c.slice&&c.slice.origDataId||e.dataId};var b=this.dataRefCount.get(f.slice.origDataId)||1;return this.dataRefCount.set(f.slice.origDataId,b+1),h},n.prototype.stridedSlice=function(e,r,a,c){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.stridedSlice(e,r,a,c);var h=Y(r,a,c);if(h.some(function(m){return 0===m}))return gt([],h);var f=new gg(r,c,h);return this.compileAndRun(f,[e])},n.prototype.reverse=function(e,r){var a=ce().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Pa(e.shape,r):new dc(e.shape,r);return this.compileAndRun(a,[e])},n.prototype.concat=function(e,r){if("complex64"===e[0].dtype){var a=e.map(function(T){return je(T)}),c=e.map(function(T){return mt(T)});return xe(this.concat(a,r),this.concat(c,r))}if(this.shouldExecuteOnCPU(e))return this.cpuBackend.concat(e,r);if(1===e.length)return e[0];if(e.length>ce().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var h=Math.floor(e.length/2),f=this.concat(e.slice(0,h),r),m=this.concat(e.slice(h),r);return this.concat([f,m],r)}if(ce().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].rank>1){var b=new ls(e.map(function(T){return T.shape}),r);return this.compileAndRun(b,e)}var _=X(e.map(function(T){return T.shape}),r),I=e.map(function(T){return T.as2D(-1,He(T.shape.slice(r)))}),D=new Cu(I.map(function(T){return T.shape}));return this.compileAndRun(D,I).reshape(_)},n.prototype.neg=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.neg(e);if(ce().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,xp,e.dtype);var r=new Wo(e.shape,xp);return this.compileAndRun(r,[e])},n.prototype.batchMatMul=function(e,r,a,c){var h=a?e.shape[2]:e.shape[1],f=c?r.shape[1]:r.shape[2],m=a?e.shape[1]:e.shape[2],b=e.shape[0];if((1===h||1===f)&&m>1e3){a&&(e=e.transpose([0,2,1])),c&&(r=r.transpose([0,2,1]));var _=1===f?e:e.as3D(b,m,1),I=1===f?2:1,D=1===f?r.as3D(b,1,m):r;return this.multiply(_,D).sum(I,!0)}var T=Nn(e.dtype,r.dtype),z=new Th(e.shape,[b,h,f],a,c);return this.compileAndRun(z,[e,r],T)},n.prototype.fusedBatchMatMul=function(e){var r=e.a,a=e.b,c=e.transposeA,h=e.transposeB,f=e.bias,m=e.activation,b=e.preluActivationWeights,_=c?r.shape[2]:r.shape[1],I=h?a.shape[1]:a.shape[2],D=r.shape[0],T=Nn(r.dtype,a.dtype),z=null!=f,J=null!=b,ee=m?Vc(m,!0):null,ne=new Th(r.shape,[D,_,I],c,h,z,ee,J),me=[r,a];return f&&me.push(f),b&&me.push(b),this.compileAndRun(ne,me,T)},n.prototype.multiply=function(e,r){if("complex64"===e.dtype){var a=this.texData.get(e.dataId),c=this.texData.get(r.dataId),h=new ss("return areal * breal - aimag * bimag;",e.shape,r.shape),f=new ss("return areal * bimag + aimag * breal;",e.shape,r.shape),m=[this.makeComplexComponentTensorInfo(e,a.complexTensors.real),this.makeComplexComponentTensorInfo(e,a.complexTensors.imag),this.makeComplexComponentTensorInfo(r,c.complexTensors.real),this.makeComplexComponentTensorInfo(r,c.complexTensors.imag)],b=this.compileAndRun(h,m),_=this.compileAndRun(f,m),I=this.complex(b,_);return b.dispose(),_.dispose(),I}if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.multiply(e,r);if(ce().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,Nc,e.dtype);var D=new ki(Nc,e.shape,r.shape);return this.compileAndRun(D,[e,r],e.dtype)},n.prototype.batchNormalization=function(e,r,a,c,h,f){var m=[e,r,a],b=null;null!=f&&(b=f.shape,m.push(f));var _=null;if(null!=h&&(_=h.shape,m.push(h)),ce().getBool("WEBGL_PACK_NORMALIZATION")){var I=new Ha(e.shape,r.shape,a.shape,b,_,c);return this.compileAndRun(I,m)}var D=new $i(e.shape,r.shape,a.shape,b,_,c);return this.compileAndRun(D,m)},n.prototype.localResponseNormalization4D=function(e,r,a,c,h){var f=ce().getBool("WEBGL_PACK_NORMALIZATION")?new Zs(e.shape,r,a,c,h):new _l(e.shape,r,a,c,h);return this.compileAndRun(f,[e])},n.prototype.LRNGrad=function(e,r,a,c,h,f,m){var b=new dg(r.shape,c,h,f,m);return this.compileAndRun(b,[r,a,e])},n.prototype.tile=function(e,r){if("string"===e.dtype){var a=this.readSync(e.dataId).map(function(h){return kr(h)});return gs(cr(e.shape,e.dtype,a),r)}var c=new bp(e.shape,r);return this.compileAndRun(c,[e])},n.prototype.pad=function(e,r,a){var c=ce().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ku(e.shape,r,a):new yd(e.shape,r,a);return this.compileAndRun(c,[e])},n.prototype.transpose=function(e,r){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.transpose(e,r);var a=ce().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new xd(e.shape,r):new Tu(e.shape,r);return this.compileAndRun(a,[e])},n.prototype.gather=function(e,r,a){if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.gather(e,r,a);var c=new Lc(e.shape,r.size,a);return this.compileAndRun(c,[e,r])},n.prototype.batchToSpaceND=function(e,r,a){oe(e.rank<=4,function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"});var c=r.reduce(function(I,D){return I*D}),h=Ns(e.shape,r,c),f=Rl(h.length,r.length),m=Ws(e.shape,r,c),b=rc(a,r.length),_=oc(m,a,r.length);return e.reshape(h).transpose(f).reshape(m).slice(b,_)},n.prototype.spaceToBatchND=function(e,r,a){oe(e.rank<=4,function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"});var c=r.reduce(function(D,T){return D*T}),h=[[0,0]];h.push.apply(h,a);for(var f=1+r.length;f<e.shape.length;++f)h.push([0,0]);var m=e.pad(h),b=Ns(m.shape,r,c,!1),_=Rl(b.length,r.length,!1),I=Ws(m.shape,r,c,!1);return m.reshape(b).transpose(_).reshape(I)},n.prototype.reduce=function(e,r,a){var c=e.shape[0],h=e.shape[1],f=ya(h),m=new Su({windowSize:f,inSize:h,batchSize:c},r),b=this.compileAndRun(m,[e],a);return 1===b.shape[1]?b:this.reduce(b,r,a)},n.prototype.argReduce=function(e,r,a){void 0===a&&(a=null);var c=e.shape[0],h=e.shape[1];null!=a&&(c=a.shape[0],h=a.shape[1]);var f=ya(h),m=new wu({windowSize:f,inSize:h,batchSize:c},r,null==a),b=[e];null!=a&&b.push(a);var _=this.compileAndRun(m,b,"int32");return 1===_.shape[1]?_:this.argReduce(e,r,_)},n.prototype.argReducePacked=function(e,r,a){void 0===a&&(a=null);var c=null!=a?a.shape:e.shape,h=ya(c[c.length-1]),f=new mo(c,h,r,null==a),b=this.compileAndRun(f,null==a?[e]:[e,a],"int32");return b.rank===e.rank?this.argReducePacked(e,r,b):b},n.prototype.sum=function(e,r){ta("sum",r,e.rank);var a=Ei(e.shape,r),c=a[0],h=He(a[1]),f=e.as2D(-1,h),m=Se(e.dtype);return this.reduce(f,"sum",m).reshape(c)},n.prototype.prod=function(e,r){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.prod(e,r);var a=Ei(e.shape,r),c=a[0],h=He(a[1]),f=e.as2D(-1,h),m=Se(e.dtype);return this.reduce(f,"prod",m).reshape(c)},n.prototype.unsortedSegmentSum=function(e,r,a){var c=0,h=ca([c],e.rank),f=e;null!=h&&(f=e.transpose(h),c=qi(1,e.rank)[0]);var m=function(T,z,J){for(var ee=[],ne=T.length,me=0;me<ne;me++)ee.push(me!==z?T[me]:J);return ee}(f.shape,c,a),b=He([f.shape[c]]),_=f.as2D(-1,b),I=Se(e.dtype),D=this.segOpCompute(_,"unsortedSegmentSum",r,I,a).reshape(m);return null!=h&&(D=D.transpose(di(h))),D},n.prototype.segOpCompute=function(e,r,a,c,h){var f=e.shape[0],m=e.shape[1],b=function(D,T){var z,J=!1;for(D<=30?(z=D,J=!0):z=Dr(D,Math.floor(Math.sqrt(D)));!J;)z>T||z===D?J=!0:z=Dr(D,z+1);return z}(m,h),_=new Oi({windowSize:b,inSize:m,batchSize:f,numSegments:h},r),I=this.compileAndRun(_,[e,a],c);return I.shape[1]===h?I:(a=ua(0,h).tile([m/b]),this.segOpCompute(I,r,a,c,h))},n.prototype.argMinMaxReduce=function(e,r,a){var c=[r];if(ta("arg"+a.charAt(0).toUpperCase()+a.slice(1),c,e.rank),!ce().getBool("WEBGL_PACK_REDUCE")||e.rank<=2){var h=Ei(e.shape,c),f=h[0],m=He(h[1]),b=e.as2D(-1,m);return this.argReduce(b,a).reshape(f)}return this.argReducePacked(e,a)},n.prototype.argMin=function(e,r){return this.argMinMaxReduce(e,r,"min")},n.prototype.argMax=function(e,r){return this.argMinMaxReduce(e,r,"max")},n.prototype.cumsum=function(e,r,a,c){if(r!==e.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(e.rank-1)+" but got axis="+r);var h=new al(e.shape,a,c);return this.compileAndRun(h,[e])},n.prototype.equal=function(e,r){if(ce().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,"\n  return vec4(equal(a, b));\n","bool");var a=new ki("return float(a == b);",e.shape,r.shape);return this.compileAndRun(a,[e,r],"bool")},n.prototype.notEqual=function(e,r){if(ce().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,"\n  return vec4(notEqual(a, b));\n","bool");var a=new ki("return float(a != b);",e.shape,r.shape);return this.compileAndRun(a,[e,r],"bool")},n.prototype.less=function(e,r){if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.less(e,r);if(ce().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,"\n  return vec4(lessThan(a, b));\n","bool");var a=new ki("return float(a < b);",e.shape,r.shape);return this.compileAndRun(a,[e,r],"bool")},n.prototype.lessEqual=function(e,r){if(ce().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,"\n  return vec4(lessThanEqual(a, b));\n","bool");var a=new ki("return float(a <= b);",e.shape,r.shape);return this.compileAndRun(a,[e,r],"bool")},n.prototype.greater=function(e,r){if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.greater(e,r);if(ce().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,"\n  return vec4(greaterThan(a, b));\n","bool");var a=new ki("return float(a > b);",e.shape,r.shape);return this.compileAndRun(a,[e,r],"bool")},n.prototype.greaterEqual=function(e,r){if(ce().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,"\n  return vec4(greaterThanEqual(a, b));\n","bool");var a=new ki("return float(a >= b);",e.shape,r.shape);return this.compileAndRun(a,[e,r],"bool")},n.prototype.logicalNot=function(e){var r=new Wo(e.shape,"return float(!(x >= 1.0));");return this.compileAndRun(r,[e])},n.prototype.logicalAnd=function(e,r){if(ce().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n","bool");var a=new ki("return float(a >= 1.0 && b >= 1.0);",e.shape,r.shape);return this.compileAndRun(a,[e,r],"bool")},n.prototype.logicalOr=function(e,r){if(ce().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n","bool");var a=new ki("return float(a >= 1.0 || b >= 1.0);",e.shape,r.shape);return this.compileAndRun(a,[e,r],"bool")},n.prototype.select=function(e,r,a){var c=new fg(e.rank,r.shape,r.rank);return this.compileAndRun(c,[e,r,a],Nn(r.dtype,a.dtype))},n.prototype.where=function(e){la("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var r=e.dataSync();return Oc(e.shape,r)},n.prototype.topk=function(e,r,a){return xl(e.dataSync(),e.shape,e.dtype,r)},n.prototype.min=function(e,r){ta("min",r,e.rank);var a=Ei(e.shape,r),c=a[0],h=He(a[1]),f=e.as2D(-1,h);return this.reduce(f,"min",f.dtype).reshape(c)},n.prototype.minimum=function(e,r){if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.minimum(e,r);var a=ce().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ys("\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,r.shape):new ki("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",e.shape,r.shape);return this.compileAndRun(a,[e,r])},n.prototype.mod=function(e,r){var a=ce().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ys("\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,r.shape):new ki("if (b == 0.0) return NAN;\n  return mod(a, b);",e.shape,r.shape);return this.compileAndRun(a,[e,r])},n.prototype.max=function(e,r){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.max(e,r);ta("max",r,e.rank);var a=Ei(e.shape,r),c=a[0],h=He(a[1]),f=e.as2D(-1,h);return this.reduce(f,"max",f.dtype).reshape(c)},n.prototype.maximum=function(e,r){if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.maximum(e,r);var a=ce().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ys("\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,r.shape):new ki("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",e.shape,r.shape);return this.compileAndRun(a,[e,r])},n.prototype.all=function(e,r){ta("all",r,e.rank);var a=Ei(e.shape,r),c=a[0],h=He(a[1]),f=e.as2D(-1,h);return this.reduce(f,"all",f.dtype).reshape(c)},n.prototype.any=function(e,r){ta("any",r,e.rank);var a=Ei(e.shape,r),c=a[0],h=He(a[1]),f=e.as2D(-1,h);return this.reduce(f,"any",f.dtype).reshape(c)},n.prototype.realDivide=function(e,r){if(ce().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n","float32",!0);var a=new ki("\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",e.shape,r.shape);return this.compileAndRun(a,[e,r],"float32")},n.prototype.floorDiv=function(e,r){if(ce().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n","int32");var a=new ki("\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",e.shape,r.shape);return this.compileAndRun(a,[e,r],"int32")},n.prototype.add=function(e,r){if("complex64"===e.dtype&&"complex64"===r.dtype)return this.complexSeparableBinaryOp(e,r,Ks);if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.add(e,r);var a=Nn(e.dtype,r.dtype);if(ce().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,Ks,a);var c=new ki(Ks,e.shape,r.shape);return this.compileAndRun(c,[e,r],a)},n.prototype.packedUnaryOp=function(e,r,a){var c=new Ts(e.shape,r);return this.compileAndRun(c,[e],a)},n.prototype.packedBinaryOp=function(e,r,a,c,h){void 0===h&&(h=!1);var f=new Ys(a,e.shape,r.shape,h);return this.compileAndRun(f,[e,r],c)},n.prototype.complexSeparableBinaryOp=function(e,r,a){var c=this,h=this.texData.get(e.dataId),f=this.texData.get(r.dataId),m=[[h.complexTensors.real,f.complexTensors.real],[h.complexTensors.imag,f.complexTensors.imag]].map(function(D){var T=D[0],z=D[1],J=c.makeComplexComponentTensorInfo(e,T),ee=c.makeComplexComponentTensorInfo(r,z),ne=new ki(a,e.shape,r.shape);return c.compileAndRun(ne,[J,ee],Nn(T.dtype,z.dtype))}),b=m[0],_=m[1],I=this.complex(b,_);return b.dispose(),_.dispose(),I},n.prototype.makeComplexComponentTensorInfo=function(e,r){return{dataId:r.dataId,dtype:r.dtype,shape:e.shape}},n.prototype.addN=function(e){if(1===e.length)return e[0];if(e.length>ce().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var r=Math.floor(e.length/2),a=this.addN(e.slice(0,r)),c=this.addN(e.slice(r));return this.addN([a,c])}var h=e.map(function(b){return b.dtype}).reduce(function(b,_){return Nn(b,_)}),f=e.map(function(b){return b.shape}),m=ce().getBool("WEBGL_PACK")?new xu(e[0].shape,f):new yh(e[0].shape,f);return this.compileAndRun(m,e,h)},n.prototype.subtract=function(e,r){if("complex64"===e.dtype&&"complex64"===r.dtype)return this.complexSeparableBinaryOp(e,r,Fl);if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.subtract(e,r);var a=Nn(e.dtype,r.dtype);if(ce().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,Fl,e.dtype);var c=new ki(Fl,e.shape,r.shape);return this.compileAndRun(c,[e,r],a)},n.prototype.pow=function(e,r){var a=ce().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ys("\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,r.shape):new ki("\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nif (b == 0.0) {\n  return 1.0;\n}\nreturn (round(mod(b, 2.0)) != 1) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",e.shape,r.shape),c=Nn(e.dtype,r.dtype);return this.compileAndRun(a,[e,r],c)},n.prototype.ceil=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.ceil(e);if(ce().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,_d,e.dtype);var r=new Wo(e.shape,_d);return this.compileAndRun(r,[e])},n.prototype.floor=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.floor(e);if(ce().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,xg,e.dtype);var r=new Wo(e.shape,xg);return this.compileAndRun(r,[e])},n.prototype.sign=function(e){var r=new Wo(e.shape,"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n");return this.compileAndRun(r,[e])},n.prototype.isNaN=function(e){var r=new Wo(e.shape,"return float(isnan(x));");return this.compileAndRun(r,[e],"bool")},n.prototype.isInf=function(e){var r=new Wo(e.shape,"return float(isinf(x));");return this.compileAndRun(r,[e],"bool")},n.prototype.isFinite=function(e){var r=new Wo(e.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(r,[e],"bool")},n.prototype.round=function(e){var r=new Wo(e.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n");return this.compileAndRun(r,[e])},n.prototype.exp=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.exp(e);if(ce().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,wg,e.dtype);var r=new Wo(e.shape,wg);return this.compileAndRun(r,[e])},n.prototype.expm1=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.expm1(e);if(ce().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,_g,e.dtype);var r=new Wo(e.shape,_g);return this.compileAndRun(r,[e])},n.prototype.softmax=function(e,r){var a=We([r],e.shape),c=this.max(e,a),h=xi(c.shape,a),f=this.subtract(e,c.reshape(h)),m=this.exp(f),b=this.sum(m,a).reshape(h);return this.realDivide(m,b)},n.prototype.log=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.log(e);if(ce().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,"\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n",e.dtype);var r=new Wo(e.shape,"if (x < 0.0) return NAN;\n  return log(x);");return this.compileAndRun(r,[e])},n.prototype.log1p=function(e){var r=new Wo(e.shape,"return log(1.0 + x);");return this.compileAndRun(r,[e])},n.prototype.sqrt=function(e){var r=new Wo(e.shape,"return sqrt(x);");return this.compileAndRun(r,[e])},n.prototype.rsqrt=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.rsqrt(e);var r=new Wo(e.shape,"return inversesqrt(x);");return this.compileAndRun(r,[e])},n.prototype.reciprocal=function(e){var r=new Wo(e.shape,"return 1.0 / x;");return this.compileAndRun(r,[e])},n.prototype.relu=function(e){var r;return r=ce().getBool("WEBGL_PACK")?new Ts(e.shape,Bh):new Wo(e.shape,jc),this.compileAndRun(r,[e])},n.prototype.relu6=function(e){var r;return r=ce().getBool("WEBGL_PACK")?new Ts(e.shape,_p):new Wo(e.shape,yg),this.compileAndRun(r,[e])},n.prototype.prelu=function(e,r){var a=ce().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ys(Ss,e.shape,r.shape):new ki(Fc,e.shape,r.shape);return this.compileAndRun(a,[e,r])},n.prototype.elu=function(e){if(ce().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Cp,e.dtype);var r=new Wo(e.shape,wd);return this.compileAndRun(r,[e])},n.prototype.eluDer=function(e,r){var a=ce().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ys("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",e.shape,r.shape):new ki("return (b >= 1.0) ? a : a * (b + 1.0);",e.shape,r.shape);return this.compileAndRun(a,[e,r])},n.prototype.selu=function(e){var r=new Wo(e.shape,yp);return this.compileAndRun(r,[e])},n.prototype.int=function(e){var r=new Wo(e.shape,"return float(int(x));");return this.compileAndRun(r,[e],"int32")},n.prototype.clip=function(e,r,a){var c,h=(c=ce().getBool("WEBGL_PACK_CLIP")?new ri(e.shape):new _u(e.shape)).getCustomSetupFunc(r,a);return this.compileAndRun(c,[e],null,h)},n.prototype.abs=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.abs(e);if(ce().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,hc,e.dtype);var r=new Wo(e.shape,hc);return this.compileAndRun(r,[e])},n.prototype.complexAbs=function(e){var r=this.texData.get(e.dataId),a=new wh(e.shape),c=[this.makeComplexComponentTensorInfo(e,r.complexTensors.real),this.makeComplexComponentTensorInfo(e,r.complexTensors.imag)];return this.compileAndRun(a,c)},n.prototype.sigmoid=function(e){var r=new Wo(e.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(r,[e])},n.prototype.softplus=function(e){var r=new Wo(e.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n");return this.compileAndRun(r,[e])},n.prototype.sin=function(e){var r=new Wo(e.shape,Fh);return this.compileAndRun(r,[e])},n.prototype.cos=function(e){var r=new Wo(e.shape,zc);return this.compileAndRun(r,[e])},n.prototype.tan=function(e){var r=new Wo(e.shape,"return tan(x);");return this.compileAndRun(r,[e])},n.prototype.asin=function(e){var r=new Wo(e.shape,Lh);return this.compileAndRun(r,[e])},n.prototype.acos=function(e){var r=new Wo(e.shape,Cd);return this.compileAndRun(r,[e])},n.prototype.atan=function(e){var r=new Wo(e.shape,Cg);return this.compileAndRun(r,[e])},n.prototype.atan2=function(e,r){var a=ce().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ys("\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,r.shape):new ki("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",e.shape,r.shape);return this.compileAndRun(a,[e,r])},n.prototype.sinh=function(e){var r=new Wo(e.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n");return this.compileAndRun(r,[e])},n.prototype.cosh=function(e){var r=new Wo(e.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n");return this.compileAndRun(r,[e])},n.prototype.tanh=function(e){var r=new Wo(e.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n");return this.compileAndRun(r,[e])},n.prototype.asinh=function(e){var r=new Wo(e.shape,Pu);return this.compileAndRun(r,[e])},n.prototype.acosh=function(e){var r=new Wo(e.shape,wp);return this.compileAndRun(r,[e])},n.prototype.atanh=function(e){var r=new Wo(e.shape,Ou);return this.compileAndRun(r,[e])},n.prototype.erf=function(e){var r=new Wo(e.shape,'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = 0.3275911;\n  float a1 = 0.254829592;\n  float a2 = -0.284496736;\n  float a3 = 1.421413741;\n  float a4 = -1.453152027;\n  float a5 = 1.061405429;\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n');return this.compileAndRun(r,[e])},n.prototype.step=function(e,r){var c,a=new Wo(e.shape,(void 0===(c=r)&&(c=0),$s+"\n    return x > 0.0 ? 1.0 : float("+c+");\n  "));return this.compileAndRun(a,[e])},n.prototype.conv2dByMatMul=function(e,r,a,c,h,f){var m=e.shape,b=this.texData.get(e.dataId),T="channelsLast"===a.dataFormat,J=m[2]%2!=0&&!!b.isPacked;if((1==m[0]*m[1]*m[2]||1===a.outChannels)&&a.inChannels>1e3||!ce().getBool("WEBGL_LAZILY_UNPACK")||!ce().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!J){var ne=this.reshape(e,[1,T?m[0]*m[1]*m[2]:m[0]*m[2]*m[3],a.inChannels]),me=this.reshape(r,[1,a.inChannels,a.outChannels]);return this.reshape(this.fusedBatchMatMul({a:ne,b:me,transposeA:!1,transposeB:!1,bias:c,activation:h,preluActivationWeights:f}),a.outShape)}var pe={dataId:e.dataId,shape:[1,T?m[0]*m[1]*(m[2]+1):m[0]*m[2]*(m[3]+1),a.inChannels],dtype:e.dtype},Ie=b.shape;b.shape=b.shape.slice(),b.shape[b.shape.length-2]++,oe(bi(b.shape,pe.shape),function(){return"packed reshape "+b.shape+" to "+pe.shape+" isn't free"});var Ye=this.reshape(r,[1,a.inChannels,a.outChannels]),kt=this.fusedBatchMatMul({a:pe,b:Ye,transposeA:!1,transposeB:!1,bias:c,activation:h,preluActivationWeights:f}),It=this.texData.get(kt.dataId);return oe(It.isPacked,function(){return"batchMatMul result is expected to be packed"}),b.shape=Ie,It.shape=a.outShape,G.makeTensorFromDataId(kt.dataId,a.outShape,kt.dtype)},n.prototype.conv2dWithIm2Row=function(e,r,a,c,h,f){var I=a.outWidth,D=a.outHeight,T="channelsLast"===a.dataFormat,z=a.filterWidth*a.filterHeight*a.inChannels,J=D*I,ee=[z,J],ne=e.squeeze([0]),me=r.reshape([1,z,-1]),be=new ga(ee,ne.shape,a),pe=this.compileAndRun(be,[ne]).reshape([1,ee[0],ee[1]]),Ie=null!=c,Ye=null!=f,kt=h?Vc(h,!0):null,It=new Th(pe.shape,[1,J,a.outChannels],!0,!1,Ie,kt,Ye),vt=[pe,me];return c&&vt.push(c),Ye&&vt.push(f),this.compileAndRun(It,vt).reshape(T?[1,D,I,a.outChannels]:[1,a.outChannels,D,I])},n.prototype.fusedConv2d=function(e){var r=e.input,a=e.filter,c=e.convInfo,h=e.bias,f=e.activation,m=e.preluActivationWeights;if(1===c.filterHeight&&1===c.filterWidth&&1===c.dilationHeight&&1===c.dilationWidth&&1===c.strideHeight&&1===c.strideWidth&&("SAME"===c.padInfo.type||"VALID"===c.padInfo.type))return this.conv2dByMatMul(r,a,c,h,f,m);if(ce().getBool("WEBGL_CONV_IM2COL")&&1===r.shape[0])return this.conv2dWithIm2Row(r,a,c,h,f,m);var b=null!=h,_=null!=m,I=f?Vc(f,!1):null,D=new Bs(c,b,I,_),T=[r,a];return h&&T.push(h),m&&T.push(m),this.compileAndRun(D,T)},n.prototype.conv2d=function(e,r,a){if(1===a.filterHeight&&1===a.filterWidth&&1===a.dilationHeight&&1===a.dilationWidth&&1===a.strideHeight&&1===a.strideWidth&&("SAME"===a.padInfo.type||"VALID"===a.padInfo.type))return this.conv2dByMatMul(e,r,a);if(ce().getBool("WEBGL_CONV_IM2COL")&&1===e.shape[0])return this.conv2dWithIm2Row(e,r,a);var c=new Bs(a);return this.compileAndRun(c,[e,r])},n.prototype.conv2dDerInput=function(e,r,a){var c=new cc(a);return this.compileAndRun(c,[e,r])},n.prototype.conv2dDerFilter=function(e,r,a){var c=new Eu(a);return this.compileAndRun(c,[e,r])},n.prototype.fusedDepthwiseConv2D=function(e){var r,a=e.input,c=e.filter,h=e.convInfo,f=e.bias,m=e.activation,b=e.preluActivationWeights,_=ce().getBool("WEBGL_PACK_DEPTHWISECONV")&&h.strideWidth<=2&&h.outChannels/h.inChannels==1,I=m?Vc(m,_):null,D=[a,c],T=null!=f,z=null!=b;return T&&D.push(f),z&&D.push(b),_?(r=new Ch(h,T,I,z),this.compileAndRun(r,D)):(r=new _h(h,T,I,z),this.compileAndRun(r,D))},n.prototype.depthwiseConv2D=function(e,r,a){var c;return ce().getBool("WEBGL_PACK_DEPTHWISECONV")&&a.strideWidth<=2&&a.outChannels/a.inChannels==1?(c=new Ch(a),this.compileAndRun(c,[e,r])):(c=new _h(a),this.compileAndRun(c,[e,r]))},n.prototype.depthwiseConv2DDerInput=function(e,r,a){var c=new ig(a);return this.compileAndRun(c,[e,r])},n.prototype.depthwiseConv2DDerFilter=function(e,r,a){var c=new Du(a);return this.compileAndRun(c,[e,r])},n.prototype.conv3d=function(e,r,a){var c=new op(a);return this.compileAndRun(c,[e,r])},n.prototype.conv3dDerInput=function(e,r,a){var c=new rp(a);return this.compileAndRun(c,[e,r])},n.prototype.conv3dDerFilter=function(e,r,a){var c=new Ia(a);return this.compileAndRun(c,[e,r])},n.prototype.maxPool=function(e,r){var a=new uc(r,"max",!1);return this.compileAndRun(a,[e])},n.prototype.avgPool=function(e,r){var a=new uc(r,"avg",!1);return this.compileAndRun(a,[e],"float32")},n.prototype.maxPoolBackprop=function(e,r,a,c){var h=new uc(c,"max",!0),f=this.compileAndRun(h,[r]),m=new Qs(c),b=this.compileAndRun(m,[e,f],r.dtype);return f.dispose(),b},n.prototype.avgPoolBackprop=function(e,r,a){var c=new ii(a);return this.compileAndRun(c,[e],r.dtype)},n.prototype.cast=function(e,r){return Xs(e,r,this)},n.prototype.unstack=function(e,r){for(var a=e.shape[r],c=new Array(e.rank-1),h=0,f=0;f<e.rank;f++)f!==r&&(c[h++]=e.shape[f]);var m=new Array(e.rank).fill(0),b=e.shape.slice();b[r]=1;var _=new Array(a);for(f=0;f<_.length;f++)m[r]=f,_[f]=this.slice(e,m,b).reshape(c);return _},n.prototype.avgPool3d=function(e,r){var a=new $c(r,"avg",!1);return this.compileAndRun(a,[e],"float32")},n.prototype.avgPool3dBackprop=function(e,r,a){var c=new Mo(a);return this.compileAndRun(c,[e],r.dtype)},n.prototype.maxPool3d=function(e,r){var a=new $c(r,"max",!1);return this.compileAndRun(a,[e],"float32")},n.prototype.maxPool3dBackprop=function(e,r,a,c){var h=new $c(c,"max",!0),f=this.compileAndRun(h,[r]),m=new fp(c),b=this.compileAndRun(m,[e,f],r.dtype);return f.dispose(),b},n.prototype.reshape=function(e,r){var a=this.texData.get(e.dataId);if(a.isPacked&&!bi(e.shape,r)&&(null===a.texture||!bi(a.shape,r))){var c=this.packedReshape(e,r);return G.makeTensorFromDataId(c.dataId,c.shape,c.dtype)}return ms(e,r)},n.prototype.resizeBilinear=function(e,r,a,c){var h=ce().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Ph(e.shape,r,a,c):new gp(e.shape,r,a,c);return this.compileAndRun(h,[e],"float32")},n.prototype.resizeBilinearBackprop=function(e,r,a){var c=new mp(e,r,a);return this.compileAndRun(c,[e])},n.prototype.resizeNearestNeighbor=function(e,r,a,c){var h=new Oh(e.shape,r,a,c);return this.compileAndRun(h,[e])},n.prototype.resizeNearestNeighborBackprop=function(e,r,a){var c=new vp(e,r,a);return this.compileAndRun(c,[e])},n.prototype.multinomial=function(e,r,a,c){var h=r?e:Oo(e),b=new pp(h.shape[0],h.shape[1],a),_=b.getCustomSetupFunc(c);return this.compileAndRun(b,[h],"int32",_)},n.prototype.oneHot=function(e,r,a,c){var h=new hg(e.size,r,a,c);return this.compileAndRun(h,[e])},n.prototype.diag=function(e){var r=new Eo(e.size);return this.compileAndRun(r,[e])},n.prototype.nonMaxSuppression=function(e,r,a,c,h){return la("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),Ti(e.dataSync(),r.dataSync(),a,c,h)},n.prototype.cropAndResize=function(e,r,a,c,h,f){var m=new fd(e.shape,r.shape,c,h,f);return this.compileAndRun(m,[e,r,a],"float32")},n.prototype.depthToSpace=function(e,r,a){oe(r>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+r});var c=e.shape[0],b=("NHWC"===a?e.shape[1]:e.shape[2])*r,_=("NHWC"===a?e.shape[2]:e.shape[3])*r,I=("NHWC"===a?e.shape[3]:e.shape[1])/(r*r),D=new wl("NHWC"===a?[c,b,_,I]:[c,I,b,_],r,a);return this.compileAndRun(D,[e])},n.prototype.split=function(e,r,a){return ac(e,r,a)},n.prototype.scatterND=function(e,r,a){var c=bl(0,e,a),h=c.sliceRank,f=c.numUpdates,m=c.sliceSize,b=c.strides,_=c.outputSize,I=[_/m,m],D=e.reshape([f,h]),T=r.reshape([f,m]);if(0===_)return ms(gt([]),a);var z=Rt(0),J=new sl(f,h,D.rank,T.rank,b,I);return this.compileAndRun(J,[T,D,z]).reshape(a)},n.prototype.sparseToDense=function(e,r,a,c){var h=bl(0,e,a),I=new sl(h.numUpdates,h.sliceRank,e.rank,r.rank,h.strides,[h.outputSize,1],!1);return this.compileAndRun(I,[r,e,c]).reshape(a)},n.prototype.fft=function(e){return this.fftImpl(e,!1)},n.prototype.ifft=function(e){return this.fftImpl(e,!0)},n.prototype.fftImpl=function(e,r){var a=this.texData.get(e.dataId),c=new sg("return real * expR - imag * expI;",e.shape,r),h=new sg("return real * expI + imag * expR;",e.shape,r),f=[this.makeComplexComponentTensorInfo(e,a.complexTensors.real),this.makeComplexComponentTensorInfo(e,a.complexTensors.imag)],m=this.compileAndRun(c,f),b=this.compileAndRun(h,f),_=this.complex(m,b).as2D(e.shape[0],e.shape[1]);return m.dispose(),b.dispose(),_},n.prototype.gatherND=function(e,r){var a=r.shape,c=a[a.length-1],h=is(e,r),f=h[0],m=h[1],b=h[2],_=h[3],I=r.reshape([m,c]),D=e.reshape([e.size/b,b]),T=new lg(c,_,[m,b]);return this.compileAndRun(T,[D,I]).reshape(f)},n.prototype.fill=function(e,r,a){if("string"===(a=a||Xr(r))){var c=Re(a,He(e));return c.fill(r),G.makeTensor(c,e,a,this)}var h=new lp(e,r),f=h.getCustomSetupFunc(r);return this.compileAndRun(h,[],a,f)},n.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported under string dtype");return this.fill(e.shape,1,e.dtype)},n.prototype.zerosLike=function(e){return this.fill(e.shape,"string"===e.dtype?"":0,e.dtype)},n.prototype.linspace=function(e,r,a){return Fs(e,r,a)},n.prototype.makeTensorInfo=function(e,r){var a=this.write(null,e,r);return this.texData.get(a).usage=null,{dataId:a,shape:e,dtype:r}},n.prototype.makeOutput=function(e,r){var a=this.makeTensorInfo(e,r).dataId;return G.makeTensorFromDataId(a,e,r,this)},n.prototype.unpackTensor=function(e){var r=new Ig(e.shape);return this.runWebGLProgram(r,[e],e.dtype)},n.prototype.packTensor=function(e){var r=new Mh(e.shape);return this.runWebGLProgram(r,[e],e.dtype,null,!0)},n.prototype.packedReshape=function(e,r){var a=[Ki(e.shape)].concat(Mi(e.shape)),c={dtype:e.dtype,shape:a,dataId:e.dataId},h=[Ki(r)].concat(Mi(r)),f=new Rh(h,a),m=this.runWebGLProgram(f,[c],e.dtype,null,!0);return{dataId:m.dataId,shape:r,dtype:m.dtype}},n.prototype.decode=function(e){var r,a=this.texData.get(e),c=a.isPacked,h=a.shape,f=a.dtype,m=ea(h);return r=c?new ip(m):new md(m),{dtype:f,shape:h,dataId:this.runWebGLProgram(r,[{shape:m,dtype:f,dataId:e}],f,null,!0).dataId}},n.prototype.runWebGLProgram=function(e,r,a,c,h){var f=this;void 0===h&&(h=!1);var m=this.makeTensorInfo(e.outputShape,a),b=this.texData.get(m.dataId);if(e.packedOutput&&(b.isPacked=!0),e.outPackingScheme===vn.DENSE){var _=Ar(e.outputShape);b.texShape=_.map(function(be){return 2*be})}if(null!=e.outTexUsage&&(b.usage=e.outTexUsage),0===He(m.shape))return b.values=fe(m.dtype,0),m;var I=[],D=r.map(function(be){if("complex64"===be.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var pe=f.texData.get(be.dataId);if(null==pe.texture){if(!e.packedInputs&&He(be.shape)<=ce().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:be.shape,texData:null,isUniform:!0,uniformValues:pe.values};e.packedInputs&&(pe.isPacked=!0,pe.shape=be.shape)}else if(!!pe.isPacked!=!!e.packedInputs)be=pe.isPacked?f.unpackTensor(be):f.packTensor(be),I.push(be),pe=f.texData.get(be.dataId);else if(pe.isPacked&&!bi(pe.shape,be.shape)){var Ie=be,Ye=be.shape;be.shape=pe.shape,be=f.packedReshape(be,Ye),I.push(be),pe=f.texData.get(be.dataId),Ie.shape=Ye}return f.uploadToGPU(be.dataId),{shape:be.shape,texData:pe,isUniform:!1}});this.uploadToGPU(m.dataId);var T,be,Ye,z={shape:m.shape,texData:b,isUniform:!1},J=(be=e,Ye="",D.concat(z).forEach(function(vt){Ye+=vt.shape+"_"+(vt.isUniform?"uniform":vt.texData.texShape)+"_"+(null!=vt.texData&&null!=vt.texData.slice&&vt.texData.slice.flatOffset>0)}),be.constructor.name+"_"+Ye+"_"+be.userCode),ee=this.getAndSaveBinary(J,function(){return function(be,pe,Ie,Ye){var kt=pe.userCode,It=Ie.map(function(Vn,tr){var or={logicalShape:Vn.shape,texShape:Vn.isUniform?null:Vn.texData.texShape,isUniform:Vn.isUniform,isPacked:!Vn.isUniform&&Vn.texData.isPacked,flatOffset:null};return null!=Vn.texData&&null!=Vn.texData.slice&&Vn.texData.slice.flatOffset>0&&(or.flatOffset=Vn.texData.slice.flatOffset),{name:pe.variableNames[tr],shapeInfo:or}}),vt=It.map(function(Vn){return Vn.shapeInfo}),bt={logicalShape:Ye.shape,texShape:Ye.texData.texShape,isUniform:!1,isPacked:Ye.texData.isPacked,flatOffset:null},en=og(It,bt,kt,pe.packedInputs),Kt=be.createProgram(en),Sn=null,Fn=be.getUniformLocation(Kt,"NAN",!1);1===ce().getNumber("WEBGL_VERSION")&&(Sn=be.getUniformLocation(Kt,"INFINITY",!1));for(var jn={},er=0;er<pe.variableNames.length;er++){var qn=pe.variableNames[er];jn[qn]=be.getUniformLocation(Kt,qn,!1),jn["offset"+qn]=be.getUniformLocation(Kt,"offset"+qn,!1)}return{program:pe,source:en,webGLProgram:Kt,uniformLocations:jn,inShapeInfos:vt,outShapeInfo:bt,infLoc:Sn,nanLoc:Fn}}(f.gpgpu,e,D,z)}),ne=null!=this.activeTimers;if(ne&&(T=this.startTimer()),function(be,pe,Ie,Ye,kt){ts(pe.inShapeInfos,Ie),ts([pe.outShapeInfo],[Ye]);var It=Ye.texData.texture,vt=Ye.texData.texShape;Ye.texData.isPacked?be.setOutputPackedMatrixTexture(It,vt[0],vt[1]):be.setOutputMatrixTexture(It,vt[0],vt[1]),be.setProgram(pe.webGLProgram),1===ce().getNumber("WEBGL_VERSION")&&null!==pe.infLoc&&be.gl.uniform1f(pe.infLoc,1/0),null!==pe.nanLoc&&be.gl.uniform1f(pe.nanLoc,NaN),Ie.forEach(function(bt,en){var Kt=pe.program.variableNames[en],Sn=pe.uniformLocations[Kt],Fn=pe.uniformLocations["offset"+Kt];if(null!=Sn)if(bt.isUniform)if(He(bt.shape)<2)be.gl.uniform1f(Sn,bt.uniformValues[0]);else{var jn=bt.uniformValues;jn instanceof Float32Array||(jn=new Float32Array(jn)),be.gl.uniform1fv(Sn,jn)}else null!=bt.texData.slice&&null!=Fn&&be.gl.uniform1i(Fn,bt.texData.slice.flatOffset),be.setInputMatrixTexture(bt.texData.texture,Sn,en)}),null!=kt&&kt(be,pe.webGLProgram),be.executeProgram()}(this.gpgpu,ee,D,z,c),I.forEach(function(be){return f.disposeData(be.dataId)}),ne&&(T=this.endTimer(T),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(T)})),!ce().getBool("WEBGL_LAZILY_UNPACK")&&b.isPacked&&!1===h){var me=this.unpackTensor(m);return this.disposeData(m.dataId),me}return m},n.prototype.compileAndRun=function(e,r,a,c,h){void 0===h&&(h=!1);var f=this.runWebGLProgram(e,r,a=a||r[0].dtype,c,h);return G.makeTensorFromDataId(f.dataId,f.shape,f.dtype)},n.prototype.getAndSaveBinary=function(e,r){return e in this.binaryCache||(this.binaryCache[e]=r()),this.binaryCache[e]},n.prototype.getTextureManager=function(){return this.textureManager},n.prototype.dispose=function(){var e=this;this.disposed||(ce().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(function(r){e.gpgpu.deleteProgram(e.binaryCache[r].webGLProgram),delete e.binaryCache[r]}),this.textureManager.dispose(),null!=this.canvas&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},n.prototype.floatPrecision=function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=$t(function(){if(!ce().get("WEBGL_RENDER_FLOAT32_ENABLED")){var r=ce().getBool("DEBUG");ce().set("DEBUG",!1);var a=e.abs(Rt(1e-8)).dataSync()[0];if(ce().set("DEBUG",r),a>0)return 32}return 16})),this.floatPrecisionValue},n.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},n.prototype.uploadToGPU=function(e){var r,a=this.texData.get(e),c=a.shape,h=a.dtype,f=a.values,b=a.usage,_=a.isPacked;if(null==a.texture){var I,D=null!=this.activeTimers;D&&(I=sn());var T=a.texShape;if(null==T&&(T=ja(c,_),a.texShape=T),null!=f){var z=ea(c),J=void 0,ee=T[1],ne=T[0],me=f instanceof Uint8Array;_?(ee=(r=No(T[0],T[1]))[0],J=new A0(z,[ne=r[1],ee],me)):J=new sp(z,[ne,ee],me);var be=this.makeTensorInfo([ne,ee],h);this.texData.get(be.dataId).usage=me?Ln.PIXELS:Ln.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(be.dataId),ee,ne,f);var pe=this.runWebGLProgram(J,[be],h,null,!0),Ie=this.texData.get(pe.dataId);a.texture=Ie.texture,a.texShape=Ie.texShape,a.isPacked=Ie.isPacked,a.usage=Ie.usage,this.disposeData(be.dataId),this.texData.delete(pe.dataId),a.values=null,D&&(this.uploadWaitMs+=sn()-I)}else{var Ye=this.acquireTexture(T,b,h,_);a.texture=Ye}}},n.prototype.convertAndCacheOnCPU=function(e,r){var a=this.texData.get(e),c=a.dtype;return this.releaseGPUData(e),null!=r&&(a.values=function(h,f){if("float32"===f||"complex64"===f)return h;if("int32"===f||"bool"===f){for(var m="int32"===f?new Int32Array(h.length):new Uint8Array(h.length),b=0;b<m.length;++b)m[b]=Math.round(h[b]);return m}throw new Error("Unknown dtype "+f)}(r,c)),a.values},n.prototype.acquireTexture=function(e,r,a,c){if(this.numBytesInGPU+=this.computeBytes(e,a),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var h=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+h+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(e,r,c)},n.prototype.computeBytes=function(e,r){return e[0]*e[1]*Yt(r)},n}(Di);nt()&&G.registerBackend("webgl",function(){return new Nu},2);var $h=$({square_:function(i){var n=Xe(i,"x","square");return G.runKernelFunc(function(r,a){return a([n]),r.square(n)},{x:n},null,"Square",{},[n],[])}}),Id="SquaredDifference",jh=$({squaredDifference_:function(i,n){var e,r=Xe(i,"a","squaredDifference"),a=Xe(n,"b","squaredDifference");return e=ut(r,a),_o((r=e[0]).shape,(a=e[1]).shape),G.runKernelFunc(function(f,m){var b=f.squaredDifference(r,a);return m([r,a]),b},{a:r,b:a},function(f,m){var b=m[0],_=m[1],I=Rt(2);return{a:function(){return f.mul(b.sub(_).mul(I))},b:function(){return f.mul(_.sub(b).mul(I))}}},Id,{},[r,a],[])}}),Eg=$({abs_:function(i){var n=Xe(i,"x","abs");return"complex64"===n.dtype?G.runKernelFunc(function(e){return e.complexAbs(n)},{$x:n}):G.runKernelFunc(function(e,r){var a=e.abs(n);return r([n]),a},{x:n},function(e,r){var a=r[0];return{x:function(){return e.mul(a.toFloat().step(-1))}}},"Abs")}}),Ep=$({acos_:function(i){var n=Xe(i,"x","acos");return G.runKernelFunc(function(e,r){var a=e.acos(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return e.divStrict(Rt(1).sub(a.toFloat().square()).sqrt()).neg()}}})}}),Dg=$({acosh_:function(i){var n=Xe(i,"x","acosh");return G.runKernelFunc(function(e,r){var a=e.acosh(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return e.divStrict(a.toFloat().square().sub(1).sqrt())}}})}}),kg=$({asin_:function(i){var n=Xe(i,"x","asin");return G.runKernelFunc(function(e,r){var a=e.asin(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return e.divStrict(Rt(1).sub(a.toFloat().square()).sqrt())}}})}}),Ed=$({asinh_:function(i){var n=Xe(i,"x","asinh");return G.runKernelFunc(function(e,r){var a=e.asinh(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return e.divStrict(Rt(1).add(a.toFloat().square()).sqrt())}}})}}),fc=$({atan_:function(i){var n=Xe(i,"x","atan");return G.runKernelFunc(function(e,r){var a=e.atan(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return e.div(a.toFloat().square().add(1))}}})}}),M0=$({atanh_:function(i){var n=Xe(i,"x","atanh");return G.runKernelFunc(function(e,r){var a=e.atanh(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return e.div(Rt(1).sub(a.toFloat().square()))}}})}}),Dp=$({ceil_:function(i){var n=Xe(i,"x","ceil");return G.runKernelFunc(function(e){return e.ceil(n)},{$x:n},function(e){return{$x:function(){return Lo(e)}}})}}),Hc=$({clipByValue_:function(i,n,e){var r=Xe(i,"x","clipByValue");return oe(n<=e,function(){return"Error in clip: min ("+n+") must be less than or equal to max ("+e+")."}),G.runKernelFunc(function(h,f){var m=h.clip(r,n,e);return f([r]),m},{x:r},function(h,f){var m=f[0];return{x:function(){return h.where(m.greaterEqual(n).logicalAnd(m.lessEqual(e)),Lo(h))}}},"ClipByValue",{min:n,max:e},[r])}}),Cl=$({cos_:function(i){var n=Xe(i,"x","cos");return G.runKernelFunc(function(r,a){var c=r.cos(n);return a([n]),c},{x:n},function(r,a){var c=a[0];return{x:function(){return c.toFloat().sin().neg().mul(r)}}},"Cos",{},[n])}}),Fu=$({cosh_:function(i){var n=Xe(i,"x","cosh");return G.runKernelFunc(function(e,r){var a=e.cosh(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return a.toFloat().sinh().mulStrict(e)}}})}}),Ea=$({erf_:function(i){var n=Xe(i,"x","erf");return oe("int32"===n.dtype||"float32"===n.dtype,function(){return"Input dtype must be `int32` or `float32`."}),"int32"===n.dtype&&(n=n.toFloat()),G.runKernelFunc(function(e,r){var a=e.erf(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return e.mul(a.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}})}}),kp=$({exp_:function(i){var n=Xe(i,"x","exp");return G.runKernelFunc(function(e,r){var a=e.exp(n);return r([a]),a},{x:n},function(e,r){return{x:function(){return e.mulStrict(r[0])}}},"Exp",{},[],[!0])}}),Sp=$({expm1_:function(i){var n=Xe(i,"x","expm1");return G.runKernelFunc(function(e,r){var a=e.expm1(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return e.mul(a.exp())}}})}}),zh=$({floor_:function(i){var n=Xe(i,"x","floor");return G.runKernelFunc(function(e){return e.floor(n)},{$x:n},function(e){return{$x:function(){return Lo(e)}}})}}),Sg=$({log_:function(i){var n=Xe(i,"x","log");return G.runKernelFunc(function(r,a){var c=r.log(n);return a([n]),c},{x:n},function(r,a){var c=a[0];return{x:function(){return r.div(c.toFloat())}}},"Log",{},[n])}}),Uh=$({log1p_:function(i){var n=Xe(i,"x","log1p");return G.runKernelFunc(function(e,r){var a=e.log1p(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return e.div(a.add(1))}}})}}),Dd=$({logSigmoid_:function(i){var n=Xe(i,"x","logSigmoid");return G.runKernelFunc(function(e,r){var a=e.softplus(n.neg()).neg();return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return e.mul(a.neg().sigmoid())}}})}}),kd=$({neg_:function(i){var n=Xe(i,"x","neg");return G.runKernelFunc(function(r){return r.neg(n)},{x:n},function(r){return{x:function(){return r.neg()}}},"Neg",{},[n])}}),Ap=$({reciprocal_:function(i){var n=Xe(i,"x","reciprocal");return G.runKernelFunc(function(e,r){var a=e.reciprocal(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return e.div(a.square().neg())}}})}}),Vh=$({round_:function(i){var n=Xe(i,"x","round");return G.runKernelFunc(function(e){return e.round(n)},{$x:n},function(e){return{$x:function(){return Lo(e)}}})}}),Lu=$({rsqrt_:function(i){var n=Xe(i,"x","rsqrt");return G.runKernelFunc(function(r,a){var c=r.rsqrt(n);return a([n]),c},{x:n},function(r,a){var c=a[0];return{x:function(){return r.div(c.pow(1.5).mul(2)).neg()}}},"Rsqrt",{},[n])}}),Hh=$({sigmoid_:function(i){var n=Xe(i,"x","sigmoid");return G.runKernelFunc(function(e,r){var a=e.sigmoid(n);return r([a]),a},{x:n},function(e,r){var a=r[0];return{x:function(){return e.mul(a.mul(Rt(1).sub(a)))}}},"Sigmoid")}}),Ag=$({sign_:function(i){var n=Xe(i,"x","sign");return G.runKernelFunc(function(e){return e.sign(n)},{$x:n},function(e){return{$x:function(){return Lo(e)}}})}}),R0=$({isNaN_:function(i){var n=Xe(i,"x","isNaN");return G.runKernelFunc(function(e){return e.isNaN(n)},{$x:n},function(e){return{$x:function(){return Lo(e)}}})}}),Tg=$({isInf_:function(i){var n=Xe(i,"x","isInf");return G.runKernelFunc(function(e){return e.isInf(n)},{$x:n},function(e){return{$x:function(){return Lo(e)}}})}}),Mg=$({isFinite_:function(i){var n=Xe(i,"x","isFinite");return G.runKernelFunc(function(e){return e.isFinite(n)},{$x:n},function(e){return{$x:function(){return Lo(e)}}})}}),Rg=$({sin_:function(i){var n=Xe(i,"x","sin");return G.runKernelFunc(function(r,a){var c=r.sin(n);return a([n]),c},{x:n},function(r,a){var c=a[0];return{x:function(){return c.toFloat().cos().mul(r)}}},"Sin",{},[n])}}),Tp=$({sinh_:function(i){var n=Xe(i,"x","sinh");return G.runKernelFunc(function(e,r){var a=e.sinh(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return a.toFloat().cosh().mulStrict(e)}}})}}),Mp=$({softplus_:function(i){var n=Xe(i,"x","softplus");return G.runKernelFunc(function(e,r){var a=e.softplus(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return e.mul(a.sigmoid())}}})}}),Pg=$({sqrt_:function(i){var n=Xe(i,"x","sqrt");return G.runKernelFunc(function(e,r){var a=e.sqrt(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return e.div(a.toFloat().sqrt().mul(2))}}})}}),Jy=$({step_:function(i,n){void 0===n&&(n=0);var e=Xe(i,"x","step");return G.runKernelFunc(function(r){return r.step(e,n)},{$x:e},function(r){return{$x:function(){return Lo(r)}}})}}),Rp=$({tan_:function(i){var n=Xe(i,"x","tan");return G.runKernelFunc(function(e,r){var a=e.tan(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return e.div(a.cos().square())}}})}}),Og=$({tanh_:function(i){var n=Xe(i,"x","tanh");return G.runKernelFunc(function(e,r){var a=e.tanh(n);return r([a]),a},{x:n},function(e,r){var a=r[0];return{x:function(){return Rt(1).sub(a.square()).mulStrict(e)}}},"Tanh",{},null,[!0])}});function ns(i,n,e,r,a,c){var h,f,m=Xe(i,"x","batchNorm"),b=Xe(n,"mean","batchNorm"),_=Xe(e,"variance","batchNorm");return null!=a&&(h=Xe(a,"scale","batchNorm")),null!=r&&(f=Xe(r,"offset","batchNorm")),oe(2===m.rank,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+m.rank+"."}),oe(2===b.rank||1===b.rank,function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+b.rank+"."}),oe(2===_.rank||1===_.rank,function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+_.rank+"."}),null!=h&&oe(2===h.rank||1===h.rank,function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+h.rank+"."}),null!=f&&oe(2===f.rank||1===f.rank,function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+f.rank+"."}),Gh(m,b,_,f,h,c)}function Ng(i,n,e,r,a,c){var h,f,m=Xe(i,"x","batchNorm"),b=Xe(n,"mean","batchNorm"),_=Xe(e,"variance","batchNorm");return null!=a&&(h=Xe(a,"scale","batchNorm")),null!=r&&(f=Xe(r,"offset","batchNorm")),oe(3===m.rank,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+m.rank+"."}),oe(3===b.rank||1===b.rank,function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+b.rank+"."}),oe(3===_.rank||1===_.rank,function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+_.rank+"."}),null!=h&&oe(3===h.rank||1===h.rank,function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+h.rank+"."}),null!=f&&oe(3===f.rank||1===f.rank,function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+f.rank+"."}),Gh(m,b,_,f,h,c)}function Wh(i,n,e,r,a,c){var h,f,m=Xe(i,"x","batchNorm"),b=Xe(n,"mean","batchNorm"),_=Xe(e,"variance","batchNorm");return null!=a&&(h=Xe(a,"scale","batchNorm")),null!=r&&(f=Xe(r,"offset","batchNorm")),oe(4===m.rank,function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+m.rank+"."}),oe(4===b.rank||1===b.rank,function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+b.rank+"."}),oe(4===_.rank||1===_.rank,function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+_.rank+"."}),null!=h&&oe(4===h.rank||1===h.rank,function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+h.rank+"."}),null!=f&&oe(4===f.rank||1===f.rank,function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+f.rank+"."}),Gh(m,b,_,f,h,c)}function Gh(i,n,e,r,a,c){null==c&&(c=.001);var h,f,m,b=Xe(i,"x","batchNorm"),_=Xe(n,"mean","batchNorm"),I=Xe(e,"variance","batchNorm");return null!=a&&(h=Xe(a,"scale","batchNorm")),null!=r&&(f=Xe(r,"offset","batchNorm")),oe(_.rank===I.rank,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),oe(null==f||_.rank===f.rank,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),oe(null==h||_.rank===h.rank,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}),m=0===b.rank||1===b.rank?b.as4D(1,1,1,b.size):2===b.rank?b.as4D(1,1,b.shape[0],b.shape[1]):3===b.rank?b.as4D(1,b.shape[0],b.shape[1],b.shape[2]):b,G.runKernelFunc(function(T,z){var J=T.batchNormalization(m,Bu(_),Bu(I),c,Bu(h),Bu(f));return z([b,_,I,h]),J},{x:b,mean:_,variance:I,scale:h,offset:f},function(T,z){var ee=z[0],ne=z[1],me=z[2],be=z[3],pe=null==be?Rt(1):be,Ie=Ko(ne.shape,m.shape),Ye=[];if(1===ne.rank){for(var kt=0;kt<m.shape.length-1;++kt)Ye.push(m.shape[kt]);Ye.push(1)}var It=ee.sub(ne),vt=T.mul(pe),bt=Lu(me.add(Rt(c))),en=bt.mul(bt).mul(bt).mul(Rt(-.5));return{x:function(){return 1===ne.rank?T.mul(ol(bt.as4D(1,1,1,ne.shape[0]),Ye)).mul(pe).reshape(ee.shape):T.mul(bt).mul(pe).reshape(ee.shape)},mean:function(){var Kt=bt.mul(Rt(-1)).mul(vt);return 1===ne.rank&&(Kt=Kt.sum(Ie)),Kt.reshape(ne.shape)},variance:function(){var Kt=en.mul(It).mul(vt);return 1===ne.rank&&(Kt=Kt.sum(Ie)),Kt.reshape(ne.shape)},scale:function(){var Kt=It.mul(bt),Sn=T.mul(Kt);return 1===ne.rank&&(Sn=Sn.sum(Ie)),Sn.reshape(ne.shape)},offset:function(){var Kt=T;return 1===ne.rank&&(Kt=Kt.sum(Ie)),Kt.reshape(ne.shape)}}},"BatchNormalization",{varianceEpsilon:c},[b,_,I,h]).reshape(b.shape)}function Bu(i){return null==i?null:0===i.rank?i.as1D():1===i.rank?i:2===i.rank?i.as4D(1,1,i.shape[0],i.shape[1]):3===i.rank?i.as4D(1,i.shape[0],i.shape[1],i.shape[2]):i}function Pp(){Z("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var Xh=$({batchNormalization2d_:function(i,n,e,r,a,c){return void 0===r&&(r=.001),Pp(),ns(i,n,e,c,a,r)}}),Op=$({batchNormalization3d_:function(i,n,e,r,a,c){return void 0===r&&(r=.001),Pp(),Ng(i,n,e,c,a,r)}}),Wc=$({batchNormalization4d_:function(i,n,e,r,a,c){return void 0===r&&(r=.001),Pp(),Wh(i,n,e,c,a,r)}}),P0=$({batchNormalization_:function(i,n,e,r,a,c){return void 0===r&&(r=.001),Pp(),Gh(i,n,e,c,a,r)}}),Np=$({batchNorm_:Gh}),Gc=$({batchNorm2d_:ns}),O0=$({batchNorm3d_:Ng}),Fg=$({batchNorm4d_:Wh}),vs=$({logicalAnd_:function(i,n){var e=Xe(i,"a","logicalAnd","bool"),r=Xe(n,"b","logicalAnd","bool");return _o(e.shape,r.shape),G.runKernelFunc(function(a){return a.logicalAnd(e,r)},{a:e,b:r},null,"LogicalAnd")}}),Kh=$({logicalNot_:function(i){var n=Xe(i,"x","logicalNot","bool");return G.runKernelFunc(function(e){return e.logicalNot(n)},{$x:n})}}),Yh=$({logicalOr_:function(i,n){var e=Xe(i,"a","logicalOr","bool"),r=Xe(n,"b","logicalOr","bool");return _o(e.shape,r.shape),G.runKernelFunc(function(a){return a.logicalOr(e,r)},{$a:e,$b:r})}}),Lg=$({logicalXor_:function(i,n){var e=Xe(i,"a","logicalXor","bool"),r=Xe(n,"b","logicalXor","bool");return _o(e.shape,r.shape),Yh(i,n).logicalAnd(vs(i,n).logicalNot())}}),Xc=$({where_:function(i,n,e){var r=Xe(n,"a","where"),a=Xe(e,"b","where"),c=Xe(i,"condition","where","bool");return it(r.shape,a.shape,"Error in where: "),1===c.rank?oe(c.shape[0]===r.shape[0],function(){return"The first dimension of `a` must match the size of `condition`."}):it(c.shape,a.shape,"Error in where: "),G.runKernelFunc(function(h,f){var m=h.select(c,r,a);return f([c]),m},{$condition:c,$a:r,$b:a},function(h,f){var m=f[0];return{$condition:function(){return Lo(m).toFloat()},$a:function(){return h.mul(m.cast(h.dtype))},$b:function(){return h.mul(m.logicalNot().cast(h.dtype))}}})}}),Sd=function(i){return we(this,void 0,void 0,function(){var n,e,r;return q(this,function(a){switch(a.label){case 0:return[4,(n=Xe(i,"condition","whereAsync","bool")).data()];case 1:return e=a.sent(),r=Oc(n.shape,e),i!==n&&n.dispose(),[2,r]}})})},jo=$({add_:function(i,n){var e,r=Xe(i,"a","add"),a=Xe(n,"b","add");e=ut(r,a);var c=_o((r=e[0]).shape,(a=e[1]).shape);return G.runKernelFunc(function(h){return h.add(r,a)},{a:r,b:a},function(h){return{a:function(){var f=h,m=Ko(r.shape,c);return m.length>0&&(f=f.sum(m)),f.reshape(r.shape)},b:function(){var f=h,m=Ko(a.shape,c);return m.length>0&&(f=f.sum(m)),f.reshape(a.shape)}}},"Add")}}),N0=$({addN_:function(i){oe(Array.isArray(i),function(){return"The argument passed to tf.addN() must be a list of tensors"}),oe(i.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+i.length});var n=i.map(function(a,c){return Xe(a,"tensors"+c,"addN")}),e=n[0];return n.forEach(function(a){if(a.dtype!==e.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),n.forEach(function(a){if(!jt(a.shape,e.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}),G.runKernelFunc(function(a){return a.addN(n)},n,function(a){var c={};return n.forEach(function(h,f){c[f]=function(){return a.clone()}}),c},"AddN")}}),Gi=$({addStrict_:function(i,n){var e=Xe(i,"a","addStrict"),r=Xe(n,"b","addStrict");return it(e.shape,r.shape,"Error in addStrict: "),e.add(r)}}),F0=$({atan2_:function(i,n){var e,r=Xe(i,"a","atan2"),a=Xe(n,"b","atan2");e=ut(r,a);var c=_o((r=e[0]).shape,(a=e[1]).shape);return G.runKernelFunc(function(h,f){var m=h.atan2(r,a);return f([r,a]),m},{$a:r,$b:a},function(h,f){var m=f[0],b=f[1];return{$a:function(){var _=jo(m.square(),b.square()),I=h.mul(b.div(_)),D=Ko(m.shape,c);return D.length>0&&(I=I.sum(D)),I.reshape(m.shape)},$b:function(){var _=jo(m.square(),b.square()),I=kd(h.mul(m.div(_))),D=Ko(b.shape,c);return D.length>0&&(I=I.sum(D)),I.reshape(b.shape)}}})}}),Ms=$({div_:function(i,n){var e,r=Xe(i,"a","div"),a=Xe(n,"b","div");if(e=ut(r,a),a=e[1],"int32"===(r=e[0]).dtype&&"int32"===a.dtype)return qh(r,a);var c=_o(r.shape,a.shape);return G.runKernelFunc(function(h,f){var m=h.realDivide(r,a);return f([r,a]),m},{a:r,b:a},function(h,f){var m=f[0],b=f[1];return{a:function(){var _=h.div(b.toFloat()),I=Ko(m.shape,c);return I.length>0?_.sum(I).reshape(m.shape):_},b:function(){var _=h.mul(m.toFloat()),I=Ko(b.shape,c);I.length>0&&(_=_.sum(I).reshape(b.shape));var D=b.square();return _.div(D.toFloat()).neg()}}},"Div")}}),Bg=$({divNoNan_:function(i,n){var e,r=Xe(i,"a","div"),a=Xe(n,"b","div");r=(e=ut(r,a))[0];var c=Ms(r,a=e[1]),h=Lo(c),f=a.equal(h);return Xc(f,h,c)}}),$g=$({divStrict_:function(i,n){var e=Xe(i,"a","div"),r=Xe(n,"b","div");return it(e.shape,r.shape,"Error in divideStrict: "),e.div(r)}}),qh=$({floorDiv_:function(i,n){var e,r=Xe(i,"a","floorDiv"),a=Xe(n,"b","floorDiv");e=ut(r,a);var c=_o((r=e[0]).shape,(a=e[1]).shape);return G.runKernelFunc(function(h,f){var m=h.floorDiv(r,a);return f([r,a]),m},{a:r,b:a},function(h,f){var m=f[0],b=f[1];return{a:function(){var _=h.div(b.toFloat()),I=Ko(m.shape,c);return I.length>0?_.sum(I).reshape(m.shape):_},b:function(){var _=h.mul(m.toFloat()),I=Ko(b.shape,c);I.length>0&&(_=_.sum(I).reshape(b.shape));var D=b.square();return _.div(D.toFloat()).neg()}}},"FloorDiv")}}),Ad=$({maximum_:function(i,n){var e,r=Xe(i,"a","maximum"),a=Xe(n,"b","maximum");return e=ut(r,a),a=e[1],"bool"===(r=e[0]).dtype&&(r=r.toInt(),a=a.toInt()),_o(r.shape,a.shape),G.runKernelFunc(function(c,h){var f=c.maximum(r,a);return h([r,a]),f},{a:r,b:a},function(c,h){var f=h[0],m=h[1];return{a:function(){return c.mul(f.greaterEqual(m).toFloat())},b:function(){return c.mul(f.less(m).toFloat())}}},"Maximum")}}),jg=$({maximumStrict_:function(i,n){var e=Xe(i,"a","maximumStrict"),r=Xe(n,"b","maximumStrict");return it(e.shape,r.shape,"Error in maximumStrict: "),e.maximum(r)}}),Td=$({minimum_:function(i,n){var e,r=Xe(i,"a","minimum"),a=Xe(n,"b","minimum");return e=ut(r,a),a=e[1],"bool"===(r=e[0]).dtype&&(r=r.toInt(),a=a.toInt()),_o(r.shape,a.shape),G.runKernelFunc(function(c,h){var f=c.minimum(r,a);return h([r,a]),f},{a:r,b:a},function(c,h){var f=h[0],m=h[1];return{a:function(){return c.mul(f.lessEqual(m).toFloat())},b:function(){return c.mul(f.greater(m).toFloat())}}},"Minimum")}}),zg=$({minimumStrict_:function(i,n){var e=Xe(i,"a","minimumStrict"),r=Xe(n,"b","minimumStrict");return it(e.shape,r.shape,"Error in minimumStrict: "),e.minimum(r)}}),Md=$({mod_:function(i,n){var e,r=Xe(i,"a","mod"),a=Xe(n,"b","mod");e=ut(r,a);var c=_o((r=e[0]).shape,(a=e[1]).shape);return G.runKernelFunc(function(h,f){var m=h.mod(r,a);return f([r,a]),m},{$a:r,$b:a},function(h,f){var m=f[0],b=f[1];return{$a:function(){var _=Ko(m.shape,c);return _.length>0?h.sum(_).reshape(m.shape):h},$b:function(){var _=h.mul(m.div(b).floor().neg()),I=Ko(b.shape,c);return I.length>0?_.sum(I).reshape(b.shape):_}}})}}),Fp=$({modStrict_:function(i,n){var e=Xe(i,"a","modStrict"),r=Xe(n,"b","modStrict");return it(e.shape,r.shape,"Error in modStrict: "),e.mod(r)}}),rs=$({mul_:function(i,n){var e,r=Xe(i,"a","mul"),a=Xe(n,"b","mul");e=ut(r,a);var c=_o((r=e[0]).shape,(a=e[1]).shape);return G.runKernelFunc(function(h,f){var m=h.multiply(r,a);return f([r,a]),m},{a:r,b:a},function(h,f){var m=f[0],b=f[1];return{a:function(){var _=h.mul(b.toFloat()),I=Ko(m.shape,c);return I.length>0?_.sum(I).reshape(m.shape):_},b:function(){var _=h.mul(m.toFloat()),I=Ko(b.shape,c);return I.length>0?_.sum(I).reshape(b.shape):_}}},"Mul")}}),ll=$({mulStrict_:function(i,n){var e=Xe(i,"a","mul"),r=Xe(n,"b","mul");return it(e.shape,r.shape,"Error in multiplyStrict: "),e.mul(r)}}),Rd=$({pow_:function(i,n){var e,r=Xe(i,"base","pow"),a=Xe(n,"exp","pow");e=ut(r,a);var c=_o((r=e[0]).shape,(a=e[1]).shape);return G.runKernelFunc(function(f,m){var b=f.pow(r,a);return m([r,a,b]),b},{a:r,b:a},function(f,m){var b=m[0],_=m[1],I=m[2];return{a:function(){var D=_.toFloat(),T=f.mul(D.mul(b.pow(D.sub(Rt(1))))),z=Ko(b.shape,c);return z.length>0&&(T=T.sum(z)),T.reshape(b.shape)},b:function(){var D=b.greater(0),T=b.log().where(D,Lo(b)),z=f.mul(I.mul(T)),J=Ko(_.shape,c);return J.length>0&&(z=z.sum(J)),z.reshape(_.shape)}}},"Pow",{},[r,a],[!0])}}),Pd=$({powStrict_:function(i,n){return it(i.shape,n.shape,"Error in powStrict: "),i.pow(n)}}),L0=$({squaredDifferenceStrict_:function(i,n){var e=Xe(i,"a","squaredDifferenceStrict"),r=Xe(n,"b","squaredDifferenceStrict");return it(e.shape,r.shape,"Error in squaredDifferenceStrict: "),e.squaredDifference(r)}}),Wa=$({sub_:function(i,n){var e,r=Xe(i,"a","sub"),a=Xe(n,"b","sub");e=ut(r,a);var c=_o((r=e[0]).shape,(a=e[1]).shape);return G.runKernelFunc(function(h){return h.subtract(r,a)},{a:r,b:a},function(h){return{a:function(){var f=h,m=Ko(r.shape,c);return m.length>0&&(f=f.sum(m)),f.reshape(r.shape)},b:function(){var f=h,m=Ko(a.shape,c);return m.length>0&&(f=f.sum(m)),f.neg().reshape(a.shape)}}},"Sub")}}),B0=$({subStrict_:function(i,n){var e=Xe(i,"a","subStrict"),r=Xe(n,"b","subStrict");return it(e.shape,r.shape,"Error in subStrict: "),e.sub(r)}}),$0=$({equal_:function(i,n){var e,r=Xe(i,"a","equal"),a=Xe(n,"b","equal");return e=ut(r,a),_o((r=e[0]).shape,(a=e[1]).shape),G.runKernelFunc(function(c){return c.equal(r,a)},{$a:r,$b:a})}}),j0=$({equalStrict_:function(i,n){var e=Xe(i,"a","equalStrict"),r=Xe(n,"b","equalStrict");return it(e.shape,r.shape,"Error in equalStrict: "),e.equal(r)}}),z0=$({greater_:function(i,n){var e,r=Xe(i,"a","greater"),a=Xe(n,"b","greater");return e=ut(r,a),_o((r=e[0]).shape,(a=e[1]).shape),G.runKernelFunc(function(c){return c.greater(r,a)},{a:r,b:a},null,"Greater")}}),pc=$({greaterEqual_:function(i,n){var e,r=Xe(i,"a","greaterEqual"),a=Xe(n,"b","greaterEqual");return e=ut(r,a),_o((r=e[0]).shape,(a=e[1]).shape),G.runKernelFunc(function(c,h){var f=c.greaterEqual(r,a);return h([r,a]),f},{a:r,b:a},function(c,h){var f=h[0],m=h[1];return{a:function(){return Lo(f)},b:function(){return Lo(m)}}},"GreaterEqual")}}),$u=$({greaterEqualStrict_:function(i,n){var e=Xe(i,"a","greaterEqualStrict"),r=Xe(n,"b","greaterEqualStrict");return it(e.shape,r.shape,"Error in greaterEqualStrict: "),e.greaterEqual(r)}}),Lp=$({greaterStrict_:function(i,n){var e=Xe(i,"a","greaterStrict"),r=Xe(n,"b","greaterStrict");return it(e.shape,r.shape,"Error in greaterStrict: "),e.greater(r)}}),Ug=$({less_:function(i,n){var e,r=Xe(i,"a","less"),a=Xe(n,"b","less");return e=ut(r,a),_o((r=e[0]).shape,(a=e[1]).shape),G.runKernelFunc(function(c){return c.less(r,a)},{a:r,b:a},null,"Less")}}),Bp=$({lessEqual_:function(i,n){var e,r=Xe(i,"a","lessEqual"),a=Xe(n,"b","lessEqual");return e=ut(r,a),_o((r=e[0]).shape,(a=e[1]).shape),G.runKernelFunc(function(c,h){var f=c.lessEqual(r,a);return h([r,a]),f},{a:r,b:a},null,"LessEqual")}}),ju=$({lessEqualStrict_:function(i,n){var e=Xe(i,"a","lessEqualStrict"),r=Xe(n,"b","lessEqualStrict");return it(e.shape,r.shape,"Error in lessEqualStrict: "),e.lessEqual(r)}}),U0=$({lessStrict_:function(i,n){var e=Xe(i,"a","lessStrict"),r=Xe(n,"b","lessStrict");return it(e.shape,r.shape,"Error in lessStrict: "),e.less(r)}}),Zh=$({notEqual_:function(i,n){var e,r=Xe(i,"a","notEqual"),a=Xe(n,"b","notEqual");return e=ut(r,a),_o((r=e[0]).shape,(a=e[1]).shape),G.runKernelFunc(function(c){return c.notEqual(r,a)},{a:r,b:a},null,"NotEqual")}}),Vg=$({notEqualStrict_:function(i,n){var e=Xe(i,"a","notEqualStrict"),r=Xe(n,"b","notEqualStrict");return it(e.shape,r.shape,"Error in notEqualStrict: "),e.notEqual(r)}});function Kc(i,n){for(var e=[],r=i;r<n;++r)e.push(r);return e}function Yc(i){for(var n=[],e=0;e<i.length;++e)for(var r=0;r<i[e].length;++r)n.push(i[e][r]);return n}var Od=$({gather_:function(i,n,e){void 0===e&&(e=0);var r=Xe(i,"x","gather"),a=Xe(n,"indices","gather","int32");e=We(e,r.shape)[0];var c=function(h,f,m){for(var b=h.shape[m],_=[],I=1,D=1,T=0;T<m;T++)_.push(h.shape[T]),I*=h.shape[T];for(T=0;T<f.rank;T++)_.push(f.shape[T]);for(T=m+1;T<h.rank;T++)_.push(h.shape[T]),D*=h.shape[T];return{batchSize:I,sliceSize:D,dimSize:b,outputShape:_}}(r,a,e);return G.runKernelFunc(function(h,f){var m=h.gather(r,a.flatten(),e);return f([a]),m},{x:r,indices:a},function(h,f){var m=f[0];return{x:function(){var b=r.shape,_=m.size,I=b.slice(0,e),D=I.length,T=b.slice(e,b.length).slice(1),z=T.length,J=Kc(0,D),ee=Kc(D+1,D+1+z),ne=Yc([I,[_],T]),me=h.reshape(ne),be=m.reshape([_]),pe=Yc([[D],J,ee]),Ie=me.transpose(pe),Ye=Nd(Ie,be,r.shape[e]),kt=di(pe);return Ye.transpose(kt)},indices:function(){return m}}},"Gather",{axis:e}).reshape(c.outputShape)}}),Nd=$({unsortedSegmentSum_:function(i,n,e){var r=Xe(i,"x","unsortedSegmentSum"),a=Xe(n,"segmentIds","unsortedSegmentSum","int32");return oe(zt(e),function(){return"numSegments must be of dtype int"}),G.runKernelFunc(function(c,h){var f=c.unsortedSegmentSum(r,a,e);return h([a]),f},{$x:r},function(c,h){var f=h[0];return{$x:function(){return function(m,b){for(var _=Ad(b,Lo(b)),I=Od(m,_),D=pc(b,Rt(0,"int32")),T=I.rank-D.rank,z=0;z<T;++z)D=ps(D,z+1);D=vs(D,Jo(I.shape,"bool"));var J=Lo(I);return Xc(D,I,J)}(c,f)}}})}});function Wg(i,n,e,r,a,c,h){void 0===c&&(c="NHWC"),oe(i.length===n.rank,function(){return"Length of inShape ("+i.length+") and rank of dy ("+n.rank+") must match"});var f=i,m=n,b=!1;3===n.rank&&(b=!0,m=n.as4D(1,n.shape[0],n.shape[1],n.shape[2]),f=[1,i[0],i[1],i[2]]),oe(4===f.length,function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+f.length+"."}),oe(4===m.rank,function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+m.rank}),oe(4===e.rank,function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+e.rank});var _="NHWC"===c?f[3]:f[1],I="NHWC"===c?m.shape[3]:m.shape[1];oe(_===e.shape[2],function(){return"Error in conv2dDerInput: depth of input ("+_+") must match input depth for filter "+e.shape[2]+"."}),oe(I===e.shape[3],function(){return"Error in conv2dDerInput: depth of output ("+I+") must match output depth for filter "+e.shape[3]+"."}),null!=h&&oe(zt(a),function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+h+" but got pad "+a+"."});var D=il(c),T=ma(f,e.shape,r,1,a,h,!1,D),z=G.runKernelFunc(function(J,ee){var ne=J.conv2dDerInput(m,e,T);return ee([e,m]),ne},{dy4D:m,filter:e},function(J,ee){var ne=ee[0],me=ee[1];return{dy4D:function(){return Js(J,ne,r,a,c,1,h)},filter:function(){return Fd(J,me,ne.shape,r,a,c,h)}}});return b?z.as3D(z.shape[1],z.shape[2],z.shape[3]):z}function Qh(i){var c,n="number"==typeof(c=i)?[c,c,c]:2===c.length?[c[0],c[1],1]:c;return 1===n[0]&&1===n[1]&&1===n[2]}function Jh(i,n,e,r,a){oe(i.length===n.rank,function(){return"Length of inShape ("+i.length+") and rank of dy ("+n.rank+") must match"});var c=i,h=n,f=!1;4===n.rank&&(f=!0,h=n.as5D(1,n.shape[0],n.shape[1],n.shape[2],n.shape[3]),c=[1,i[0],i[1],i[2],i[3]]);var m=c[4],b=h.shape[4];oe(5===c.length,function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+c.length+"."}),oe(5===h.rank,function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+h.rank}),oe(5===e.rank,function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+e.rank}),oe(m===e.shape[3],function(){return"Error in conv3dDerInput: depth of input ("+m+") must match input depth for filter "+e.shape[3]+"."}),oe(b===e.shape[4],function(){return"Error in conv3dDerInput: depth of output ("+b+") must match output depth for filter "+e.shape[4]+"."});var _=Qr(c,e.shape,r,1,a),I=G.runKernelFunc(function(D){return D.conv3dDerInput(h,e,_)},{dy5D:h});return f?I.as4D(I.shape[1],I.shape[2],I.shape[3],I.shape[4]):I}var bs=$({conv1d_:function(i,n,e,r,a,c,h){void 0===a&&(a="NWC"),void 0===c&&(c=1);var f=Xe(i,"x","conv1d"),m=Xe(n,"filter","conv1d"),b=f,_=!1;2===f.rank&&(_=!0,b=f.as3D(1,f.shape[0],f.shape[1])),oe(3===b.rank,function(){return"Error in conv1d: input must be rank 3, but got rank "+b.rank+"."}),oe(3===m.rank,function(){return"Error in conv1d: filter must be rank 3, but got rank "+m.rank+"."}),null!=h&&oe(zt(r),function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+h+" but got pad "+r+"."}),oe(b.shape[2]===m.shape[1],function(){return"Error in conv1d: depth of input ("+b.shape[2]+") must match input depth for filter "+m.shape[1]+"."}),oe(Bi(e,c),function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+e+" and dilation '"+c+"'"}),oe("NWC"===a,function(){return"Error in conv1d: got dataFormat of "+a+" but only NWC is currently supported."});var I=m.as4D(1,m.shape[0],m.shape[1],m.shape[2]),D=b.as4D(b.shape[0],1,b.shape[1],b.shape[2]),T=Js(D,I,[1,e],r,"NHWC",[1,c],h);return _?T.as2D(T.shape[2],T.shape[3]):T.as3D(T.shape[0],T.shape[2],T.shape[3])}}),Js=$({conv2d_:function(i,n,e,r,a,c,h){void 0===a&&(a="NHWC"),void 0===c&&(c=[1,1]);var f=Xe(i,"x","conv2d"),m=Xe(n,"filter","conv2d"),b=f,_=!1;3===f.rank&&(_=!0,b=f.as4D(1,f.shape[0],f.shape[1],f.shape[2])),oe(4===b.rank,function(){return"Error in conv2d: input must be rank 4, but got rank "+b.rank+"."}),oe(4===m.rank,function(){return"Error in conv2d: filter must be rank 4, but got rank "+m.rank+"."}),null!=h&&oe(zt(r),function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+h+" but got pad "+r+"."});var I="NHWC"===a?b.shape[3]:b.shape[1];oe(I===m.shape[2],function(){return"Error in conv2d: depth of input ("+I+") must match input depth for filter "+m.shape[2]+"."}),oe(Bi(e,c),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+e+" and dilations '"+c+"'"});var D=il(a),T=ma(b.shape,m.shape,e,c,r,h,!1,D),J=G.runKernelFunc(function(ee,ne){var me=ee.conv2d(b,m,T);return ne([m,b]),me},{x:b,filter:m},function(ee,ne){var be=ne[0],pe=ne[1];return oe(Es(c),function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+c+"'"}),{x:function(){return $p(pe.shape,ee,be,e,r,a)},filter:function(){return Fd(pe,ee,be.shape,e,r,a)}}},"Conv2D",T,[m,b]);return _?J.as3D(J.shape[1],J.shape[2],J.shape[3]):J}}),Rs=$({conv3d_:function(i,n,e,r,a,c){void 0===a&&(a="NDHWC"),void 0===c&&(c=[1,1,1]);var T,h=Xe(i,"x","conv3d"),f=Xe(n,"filter","conv3d"),m=h,b=!1;4===h.rank&&(b=!0,m=h.as5D(1,h.shape[0],h.shape[1],h.shape[2],h.shape[3])),oe(5===m.rank,function(){return"Error in conv3d: input must be rank 5, but got rank "+m.rank+"."}),oe(5===f.rank,function(){return"Error in conv3d: filter must be rank 5, but got rank "+f.rank+"."}),oe(m.shape[4]===f.shape[3],function(){return"Error in conv3d: depth of input ("+m.shape[4]+") must match input depth for filter "+f.shape[3]+"."}),oe((T=c,Qh(e)||Qh(T)),function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+e+" and dilations '"+c+"'"}),oe("NDHWC"===a,function(){return"Error in conv3d: got dataFormat of "+a+" but only NDHWC is currently supported."});var _=Qr(m.shape,f.shape,e,c,r),I=G.runKernelFunc(function(D,T){var z=D.conv3d(m,f,_);return T([m,f]),z},{x:m,$filter:f},function(D,T){oe(Qh(c),function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+c+"'"});var z=T[0],J=T[1];return{x:function(){return Jh(z.shape,D,J,e,r)},$filter:function(){return function(ee,ne,me,be,pe){var Ie=ee;4===ee.rank&&(Ie=ee.as5D(1,ee.shape[0],ee.shape[1],ee.shape[2],ee.shape[3]));var Ye=ne;4===Ye.rank&&(Ye=ne.as5D(1,ne.shape[0],ne.shape[1],ne.shape[2],ne.shape[3])),oe(5===Ie.rank,function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+Ie.shape+"."}),oe(5===Ye.rank,function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+Ye.shape+"."}),oe(5===me.length,function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+me+"."}),oe(Ie.shape[4]===me[3],function(){return"Error in conv3dDerFilter: depth of input "+Ie.shape[4]+") must match input depth in filter ("+me[3]+"."}),oe(Ye.shape[4]===me[4],function(){return"Error in conv3dDerFilter: depth of dy ("+Ye.shape[4]+") must match output depth for filter ("+me[4]+")."});var kt=Qr(Ie.shape,me,be,1,pe);return G.runKernelFunc(function(It){return It.conv3dDerFilter(Ie,Ye,kt)},{x5D:Ie,dy5D:Ye})}(z,D,J.shape,e,r)}}});return b?I.as4D(I.shape[1],I.shape[2],I.shape[3],I.shape[4]):I}}),Fd=$({conv2dDerFilter_:function(i,n,e,r,a,c,h){void 0===c&&(c="NHWC");var f=i;3===i.rank&&(f=i.as4D(1,i.shape[0],i.shape[1],i.shape[2]));var m=n;3===m.rank&&(m=n.as4D(1,n.shape[0],n.shape[1],n.shape[2])),oe(4===f.rank,function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+f.shape+"."}),oe(4===m.rank,function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+m.shape+"."}),oe(4===e.length,function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+e+"."});var b="NHWC"===c?f.shape[3]:f.shape[1],_="NHWC"===c?m.shape[3]:m.shape[1];oe(b===e[2],function(){return"Error in conv2dDerFilter: depth of input "+b+") must match input depth in filter ("+e[2]+"."}),oe(_===e[3],function(){return"Error in conv2dDerFilter: depth of dy ("+_+") must match output depth for filter ("+e[3]+")."}),null!=h&&oe(zt(a),function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+h+" but got pad "+a+"."});var I=il(c),D=ma(f.shape,e,r,1,a,h,!1,I);return G.runKernelFunc(function(T){return T.conv2dDerFilter(f,m,D)},{x4D:f,dy4D:m})}}),$p=$({conv2dDerInput_:Wg}),qc=$({depthwiseConv2d_:function(i,n,e,r,a,c,h){void 0===a&&(a="NHWC"),void 0===c&&(c=[1,1]);var f=Xe(i,"x","depthwiseConv2d"),m=Xe(n,"filter","depthwiseConv2d"),b=f,_=!1;3===f.rank&&(_=!0,b=f.as4D(1,f.shape[0],f.shape[1],f.shape[2])),oe(4===b.rank,function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+b.rank+"."}),oe(4===m.rank,function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+m.rank+"."}),oe(b.shape[3]===m.shape[2],function(){return"Error in depthwiseConv2d: number of input channels ("+b.shape[3]+") must match the inChannels dimension in filter "+m.shape[2]+"."}),null==c&&(c=[1,1]),oe(Bi(e,c),function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+e+" and dilations '"+c+"'"}),null!=h&&oe(zt(r),function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+h+" but got pad "+r+"."});var I=ma(b.shape,m.shape,e,c,r,h,!0),T=G.runKernelFunc(function(z,J){var ee=z.depthwiseConv2D(b,m,I);return J([b,m]),ee},{x:b,filter:m},function(z,J){oe(Es(c),function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+c+"'"});var ee=J[0],ne=J[1];return{x:function(){return V0(ee.shape,z,ne,I)},filter:function(){return H0(ee,z,ne.shape,I)}}},"DepthwiseConv2dNative",I,[b,m]);return _?T.as3D(T.shape[1],T.shape[2],T.shape[3]):T}}),V0=$({depthwiseConv2dDerInput_:function(i,n,e,r){var a=n,c=!1;3===n.rank&&(c=!0,a=n.as4D(1,n.shape[0],n.shape[1],n.shape[2]));var h=G.runKernelFunc(function(f){return f.depthwiseConv2DDerInput(a,e,r)},{dy4D:a});return c?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}}),H0=$({depthwiseConv2dDerFilter_:function(i,n,e,r){var a=i;3===i.rank&&(a=i.as4D(1,i.shape[0],i.shape[1],i.shape[2]));var c=n;return 3===c.rank&&(c=n.as4D(1,n.shape[0],n.shape[1],n.shape[2])),G.runKernelFunc(function(h){return h.depthwiseConv2DDerFilter(a,c,r)},{x4D:a,dy4D:c})}}),Oa=$({separableConv2d_:function(i,n,e,r,a,c,h){void 0===c&&(c=[1,1]),void 0===h&&(h="NHWC");var f=Xe(i,"x","separableConv2d"),m=Xe(n,"depthwiseFilter","separableConv2d"),b=Xe(e,"pointwiseFilter","separableConv2d"),_=f,I=!1;if(3===f.rank&&(I=!0,_=f.as4D(1,f.shape[0],f.shape[1],f.shape[2])),"NCHW"===h)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");oe(4===_.rank,function(){return"Error in separableConv2d: input must be rank 4, but got rank "+_.rank+"."}),oe(4===m.rank,function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+m.rank+"."}),oe(4===b.rank,function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+m.rank+"."}),oe(1===b.shape[0],function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+b.shape[0]+"."}),oe(1===b.shape[1],function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+b.shape[1]+"."});var D=m.shape[2],T=m.shape[3];oe(b.shape[2]===D*T,function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+D*T+", but got "+b.shape[2]+"."});var z=qc(_,m,r,a,h,c),J=Js(z,b,1,"valid",h);return I?J.as3D(J.shape[1],J.shape[2],J.shape[3]):J}}),zu=$({conv2dTranspose_:function(i,n,e,r,a,c){return Wg(e,Xe(i,"x","conv2dTranspose"),Xe(n,"filter","conv2dTranspose"),r,a,"NHWC",c)}}),Gg=$({conv3dTranspose_:function(i,n,e,r,a){return Jh(e,Xe(i,"x","conv3dTranspose"),Xe(n,"filter","conv3dTranspose"),r,a)}}),Ld=$({matMul_:function(i,n,e,r){var a;void 0===e&&(e=!1),void 0===r&&(r=!1);var c=Xe(i,"a","matMul"),h=Xe(n,"b","matMul");a=ut(c,h),c=a[0],h=a[1];var f=e?c.shape[c.rank-2]:c.shape[c.rank-1],m=r?h.shape[h.rank-1]:h.shape[h.rank-2],b=e?c.shape[c.rank-1]:c.shape[c.rank-2],_=r?h.shape[h.rank-2]:h.shape[h.rank-1],I=c.shape.slice(0,-2),D=h.shape.slice(0,-2),T=He(I),z=He(D);oe(c.rank>=2&&h.rank>=2&&c.rank===h.rank,function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+c.rank+" and "+h.rank+"."}),oe(jt(I,D),function(){return"Error in matMul: outer dimensions ("+I+") and ("+D+") of Tensors with shapes "+c.shape+" and "+h.shape+" must match."}),oe(f===m,function(){return"Error in matMul: inner shapes ("+f+") and ("+m+") of Tensors with shapes "+c.shape+" and "+h.shape+" and transposeA="+e+" and transposeB="+r+" must match."});var J=c.shape.slice(0,-2).concat([b,_]),ee=e?c.as3D(T,f,b):c.as3D(T,b,f),ne=r?h.as3D(z,_,m):h.as3D(z,m,_);return G.runKernelFunc(function(be,pe){var Ie=be.batchMatMul(ee,ne,e,r);return pe([ee,ne]),Ie},{a:ee,b:ne},function(be,pe){var Ye=pe[0],kt=pe[1];return e||r?!e&&r?{a:function(){return be.matMul(kt,!1,!1)},b:function(){return be.matMul(Ye,!0,!1)}}:e&&!r?{a:function(){return kt.matMul(be,!1,!0)},b:function(){return Ye.matMul(be,!1,!1)}}:{a:function(){return kt.matMul(be,!0,!0)},b:function(){return be.matMul(Ye,!0,!0)}}:{a:function(){return be.matMul(kt,!1,!0)},b:function(){return Ye.matMul(be,!0,!1)}}},"BatchMatMul",{transposeA:e,transposeB:r}).reshape(J)}}),W0=$({dot_:function(i,n){var e=Xe(i,"t1","dot"),r=Xe(n,"t2","dot");oe(!(1!==e.rank&&2!==e.rank||1!==r.rank&&2!==r.rank),function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+e.rank+" and "+r.rank+"."});var a=1===e.rank?e.size:e.shape[1],c=1===r.rank?r.size:r.shape[0];return oe(a===c,function(){return"Error in dot: inner dimensions of inputs must match, but got "+a+" and "+c+"."}),1===e.rank&&1===r.rank?e.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():1===e.rank&&2===r.rank?e.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():2===e.rank&&1===r.rank?e.matMul(r.as2D(-1,1)).as1D():e.matMul(r.as2D(r.shape[0],r.shape[1]))}}),Xg=$({outerProduct_:function(i,n){var e=Xe(i,"v1","outerProduct"),r=Xe(n,"v2","outerProduct");return oe(1===e.rank&&1===r.rank,function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+e.rank+" and "+r.rank+"."}),e.as2D(-1,1).matMul(r.as2D(1,-1))}}),Uu=$({reverse_:function(i,n){var e=Xe(i,"x","reverse");if(0===e.rank)return e.clone();var r=We(n,e.shape);return G.runKernelFunc(function(a){return a.reverse(e,r)},{$x:e},function(a){return{$x:function(){return a.reverse(r)}}}).reshapeAs(e)}}),jp=$({reverse1d_:function(i){var n=Xe(i,"x","reverse");return oe(1===n.rank,function(){return"Error in reverse1D: x must be rank 1 but got rank "+n.rank+"."}),Uu(n,0)}}),cl=$({reverse2d_:function(i,n){var e=Xe(i,"x","reverse");return oe(2===e.rank,function(){return"Error in reverse2D: x must be rank 2 but got rank "+e.rank+"."}),Uu(e,n)}}),Kg=$({reverse3d_:function(i,n){var e=Xe(i,"x","reverse");return oe(3===e.rank,function(){return"Error in reverse3D: x must be rank 3 but got rank "+e.rank+"."}),Uu(e,n)}}),el=$({reverse4d_:function(i,n){var e=Xe(i,"x","reverse");return oe(4===e.rank,function(){return"Error in reverse4D: x must be rank 4 but got rank "+e.rank+"."}),Uu(e,n)}});function Yg(i,n,e,r,a,c){var h=Xe(i,"x","maxPool"),f=h,m=!1;3===h.rank&&(m=!0,f=h.as4D(1,h.shape[0],h.shape[1],h.shape[2])),null==r&&(r=[1,1]),oe(4===f.rank,function(){return"Error in maxPool: input must be rank 4 but got rank "+f.rank+"."}),oe(Bi(e,r),function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+e+" and dilations '"+r+"'"}),null!=c&&oe(zt(a),function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+c+" but got pad "+a+"."});var b=ui(f.shape,n,e,r,a,c);if(1===b.filterWidth&&1===b.filterHeight&&jt(b.inShape,b.outShape))return h.clone();var I=G.runKernelFunc(function(D,T){var z=D.maxPool(f,b);return T([f,z]),z},{x:f},function(D,T){var z=T[0],J=T[1];return{x:function(){return function(ee,ne,me,be,pe,Ie,Ye){var It=Xe(ee,"dy","maxPoolBackprop"),vt=Xe(ne,"input","maxPoolBackprop"),bt=Xe(me,"output","maxPoolBackprop");oe(vt.rank===It.rank,function(){return"Rank of input ("+vt.rank+") does not match rank of dy ("+It.rank+")"}),null==Ie&&(Ie=[1,1]),oe(Bi(pe,Ie),function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+pe+" and dilations '"+Ie+"'"}),oe(4===It.rank,function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+It.rank+"."}),oe(4===vt.rank,function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+vt.rank+"."});var en=ui(vt.shape,be,pe,Ie,Ye,void 0);return G.runKernelFunc(function(Kt){return Kt.maxPoolBackprop(It,vt,bt,en)},{$dy:It,$input:vt})}(D,z,J,n,e,r,a)}}},"MaxPool",b,[f]);return m?I.as3D(I.shape[1],I.shape[2],I.shape[3]):I}function qg(i,n,e,r,a,c){var h=Xe(i,"x","avgPool","float32");null==r&&(r=[1,1]),oe(Bi(e,r),function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+e+" and dilations '"+r+"'"});var f=h,m=!1;3===h.rank&&(m=!0,f=h.as4D(1,h.shape[0],h.shape[1],h.shape[2])),oe(4===f.rank,function(){return"Error in avgPool: x must be rank 4 but got rank "+f.rank+"."}),null!=c&&oe(zt(a),function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+c+" but got pad "+a+"."});var b=ui(f.shape,n,e,r,a,c);if(1===b.filterWidth&&1===b.filterHeight&&jt(b.inShape,b.outShape))return h.clone();var _=G.runKernelFunc(function(I){return I.avgPool(f,b)},{x:f},function(I){return{x:function(){return function(D,T,z,J,ee,ne){var me=Xe(D,"dy","avgPoolBackprop"),be=Xe(T,"input","avgPoolBackprop");oe(be.rank===me.rank,function(){return"Rank of input ("+be.rank+") does not match rank of dy ("+me.rank+")"}),null==ee&&(ee=[1,1]),oe(Bi(J,ee),function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+J+" and dilations '"+ee+"'"});var pe=be,Ie=me,Ye=!1;3===be.rank&&(Ye=!0,pe=be.as4D(1,be.shape[0],be.shape[1],be.shape[2]),Ie=me.as4D(1,me.shape[0],me.shape[1],me.shape[2])),oe(4===Ie.rank,function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+Ie.rank+"."}),oe(4===pe.rank,function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+pe.rank+"."});var kt=ui(pe.shape,z,J,ee,ne),It=G.runKernelFunc(function(vt){return vt.avgPoolBackprop(Ie,pe,kt)},{dy4D:Ie,input4D:pe});return Ye?It.as3D(It.shape[1],It.shape[2],It.shape[3]):It}(I,f,n,e,r,a)}}},"AvgPool",b);return _=_.cast(h.dtype),m?_.as3D(_.shape[1],_.shape[2],_.shape[3]):_}var Ga=$({maxPool_:function(i,n,e,r,a){return Yg(i,n,e,1,r,a)}}),Vu=$({avgPool_:function(i,n,e,r,a){return qg(i,n,e,1,r,a)}}),zp=$({pool_:function(i,n,e,r,a,c){null==a&&(a=[1,1]),null==c&&(c=1),0===r&&(r="valid");var h=Xe(i,"x","maxPool"),f=h,m=!1;3===h.rank&&(m=!0,f=h.as4D(1,h.shape[0],h.shape[1],h.shape[2])),oe(Bi(c,a),function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+c+" and dilations '"+a+"'"});var b,Ie,Ye,kt,It,_=ui(f.shape,n,c,a,r),I=[_.dilationHeight,_.dilationWidth];b="same"===r?(Ie=I,Ye=[_.filterHeight,_.filterWidth].map(function(vt,bt){return vt+(vt-1)*(Ie[bt]-1)}).map(function(vt){return vt-1}),kt=Ye.map(function(vt){return Math.floor(vt/2)}),It=Ye.map(function(vt,bt){return vt-kt[bt]}),Ye.map(function(vt,bt){return[kt[bt],It[bt]]})):[[0,0],[0,0]];var D=1===I[0]&&1===I[1],T=function(pe,Ie,Ye){var kt=Ye.map(function(Fn){return Fn[0]}),It=Ye.map(function(Fn){return Fn[1]}),vt=pe.concat(kt,It),bt=Ie.map(function(Fn,jn){return(Fn-vt[jn]%Fn)%Fn}),en=It.map(function(Fn,jn){return Fn+bt[jn]});return[Ie.map(function(Fn,jn){return[kt[jn],en[jn]]}),Ie.map(function(Fn,jn){return[0,bt[jn]]})]}([_.inHeight,_.inWidth],I,b),J=T[1],ee=D?r:"valid",ne=D?f:vu(f,I,T[0]),me=("avg"===e?function(){return qg(ne,n,c,1,ee)}:function(){return Yg(ne,n,c,1,ee)})(),be=D?me:Vi(me,I,J);return m?be.as3D(be.shape[1],be.shape[2],be.shape[3]):be}}),Zg=$({maxPool3d_:function(i,n,e,r,a,c,h){void 0===c&&(c="NDHWC");var f=Xe(i,"x","maxPool3d"),m=f,b=!1;4===f.rank&&(b=!0,m=f.as5D(1,f.shape[0],f.shape[1],f.shape[2],f.shape[3])),null==h&&(h=[1,1,1]),oe(5===m.rank,function(){return"Error in maxPool3d: x must be rank 5 but got rank "+m.rank+"."}),oe("NDHWC"===c,function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+c}),oe(Bi(e,h),function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+e+" and dilations '"+h+"'"}),null!=a&&oe(zt(r),function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."});var _=Ai(m.shape,n,e,h,r,a,c),I=G.runKernelFunc(function(D,T){var z=D.maxPool3d(m,_);return T([m,z]),z},{x:m},function(D,T){var z=T[0],J=T[1];return{x:function(){return function(ee,ne,me,be,pe,Ie,Ye,kt){var It=Xe(ee,"dy","maxPool3dBackprop"),vt=Xe(ne,"input","maxPool3dBackprop"),bt=Xe(me,"output","maxPool3dBackprop"),en=It,Kt=vt,Sn=bt,Fn=!1;4===vt.rank&&(Fn=!0,en=It.as5D(1,It.shape[0],It.shape[1],It.shape[2],It.shape[3]),Kt=vt.as5D(1,vt.shape[0],vt.shape[1],vt.shape[2],vt.shape[3]),Sn=bt.as5D(1,bt.shape[0],bt.shape[1],bt.shape[2],bt.shape[3])),oe(5===en.rank,function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+en.rank+"."}),oe(5===Kt.rank,function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+Kt.rank+"."}),oe(5===Sn.rank,function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+Sn.rank+"."}),null==Ie&&(Ie=[1,1,1]),oe(Bi(pe,Ie),function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+pe+" and dilations '"+Ie+"'"}),null!=kt&&oe(zt(Ye),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+kt+" but got pad "+Ye+"."});var jn=Ai(Kt.shape,be,pe,Ie,Ye,kt),er=G.runKernelFunc(function(qn){return qn.maxPool3dBackprop(en,Kt,Sn,jn)},{dy5D:en,input5D:Kt});return Fn?er.as4D(er.shape[1],er.shape[2],er.shape[3],er.shape[4]):er}(D,z,J,n,e,h,r,a)}}});return b?I.as4D(I.shape[1],I.shape[2],I.shape[3],I.shape[4]):I}}),ef=$({avgPool3d_:function(i,n,e,r,a,c,h){void 0===c&&(c="NDHWC");var f=Xe(i,"x","avgPool3d","float32"),m=f,b=!1;4===f.rank&&(b=!0,m=f.as5D(1,f.shape[0],f.shape[1],f.shape[2],f.shape[3])),null==h&&(h=[1,1,1]),oe(5===m.rank,function(){return"Error in avgPool3d: x must be rank 5 but got rank "+m.rank+"."}),oe("NDHWC"===c,function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+c}),oe(Bi(e,h),function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+e+" and dilations '"+h+"'"}),null!=a&&oe(zt(r),function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."});var _=Ai(m.shape,n,e,h,r,a,c),I=G.runKernelFunc(function(D){return D.avgPool3d(m,_)},{x:m},function(D){return{x:function(){return function(T,z,J,ee,ne,me,be){var pe=Xe(T,"dy","avgPool3dBackprop"),Ie=Xe(z,"input","avgPool3dBackprop"),Ye=pe,kt=Ie,It=!1;4===Ie.rank&&(It=!0,Ye=pe.as5D(1,pe.shape[0],pe.shape[1],pe.shape[2],pe.shape[3]),kt=Ie.as5D(1,Ie.shape[0],Ie.shape[1],Ie.shape[2],Ie.shape[3])),oe(5===Ye.rank,function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+Ye.rank+"."}),oe(5===kt.rank,function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+kt.rank+"."}),null==ne&&(ne=[1,1,1]),oe(Bi(ee,ne),function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+ee+" and dilations '"+ne+"'"}),null!=be&&oe(zt(me),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+be+" but got pad "+me+"."});var vt=Ai(kt.shape,J,ee,ne,me,be),bt=G.runKernelFunc(function(en){return en.avgPool3dBackprop(Ye,kt,vt)},{dy5D:Ye,input5D:kt});return It?bt.as4D(bt.shape[1],bt.shape[2],bt.shape[3],bt.shape[4]):bt}(D,m,n,e,h,r,a)}}});return I=I.cast(m.dtype),b?I.as4D(I.shape[1],I.shape[2],I.shape[3],I.shape[4]):I}}),ul=$({slice_:function(i,n,e){var r,a,c=Xe(i,"x","slice");if(0===c.rank)throw new Error("Slicing scalar is not possible");(r="number"==typeof n?[n].concat(new Array(c.rank-1).fill(0)):n.length<c.rank?n.concat(new Array(c.rank-n.length).fill(0)):n.slice()).forEach(function(m){oe(-1!==m,function(){return"slice() does not support negative begin indexing."})}),a=(a=null==e?new Array(c.rank).fill(-1):"number"==typeof e?[e].concat(new Array(c.rank-1).fill(-1)):e.length<c.rank?e.concat(new Array(c.rank-e.length).fill(-1)):e).map(function(m,b){return m>=0?m:(oe(-1===m,function(){return"Negative size values should be exactly -1 but got "+m+" for the slice() size at index "+b+"."}),c.shape[b]-r[b])}),te(c,r,a);var h=c.shape;return G.runKernelFunc(function(m){return m.slice(c,r,a)},{x:c},function(m){for(var b=[],_=0;_<m.rank;_++)b.push([r[_],h[_]-r[_]-a[_]]);return{x:function(){return m.pad(b)}}},"Slice",{begin:r,size:a})}}),Qg=$({slice1d_:function(i,n,e){var r=Xe(i,"x","slice1d");return oe(1===r.rank,function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"}),ul(r,[n],[e])}}),Jg=$({slice2d_:function(i,n,e){var r=Xe(i,"x","slice2d");return oe(2===r.rank,function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"}),ul(r,n,e)}}),Up=$({slice3d_:function(i,n,e){var r=Xe(i,"x","slice3d");return oe(3===r.rank,function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"}),ul(r,n,e)}}),G0=$({slice4d_:function(i,n,e){var r=Xe(i,"x","slice4d");return oe(4===r.rank,function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"}),ul(r,n,e)}});function ev(i,n,e,r,a){return n.rank<e.rank&&(n=n.reshape(xi(n.shape,r))),i.rank<e.rank&&(i=i.reshape(xi(i.shape,r))),{x:function(){var c=i.mul(e.equal(n).cast(i.dtype));return null==a?c:c.transpose(a)}}}var X0=$({all_:function(i,n,e){void 0===n&&(n=null),void 0===e&&(e=!1);var r=Xe(i,"x","all","bool"),a=We(n,r.shape),c=a,h=ca(c,r.rank);null!=h&&(r=r.transpose(h),c=qi(c.length,r.rank));var f=G.runKernelFunc(function(b){return b.all(r,c)},{$x:r});if(e){var m=xi(f.shape,a);return f.reshape(m)}return f}}),K0=$({any_:function(i,n,e){void 0===n&&(n=null),void 0===e&&(e=!1);var r=Xe(i,"x","any","bool"),a=We(n,r.shape),c=a,h=ca(c,r.rank);null!=h&&(r=r.transpose(h),c=qi(c.length,r.rank));var f=G.runKernelFunc(function(b){return b.any(r,c)},{$x:r});if(e){var m=xi(f.shape,a);return f.reshape(m)}return f}}),tv=$({argMax_:function(i,n){void 0===n&&(n=0);var e=Xe(i,"x","argMax");null==n&&(n=0);var r=We(n,e.shape),a=ca(r,e.rank);return null!=a&&(e=e.transpose(a),r=qi(r.length,e.rank)),G.runKernelFunc(function(f,m){var b=f.argMax(e,r[0]);return m([e]),b},{x:e},function(f,m){var b=m[0];return{x:function(){return Lo(b)}}},"ArgMax",{axis:r[0]},[e])}}),ex=$({argMin_:function(i,n){void 0===n&&(n=0);var e=Xe(i,"x","argMin");null==n&&(n=0);var r=We(n,e.shape),a=ca(r,e.rank);return null!=a&&(e=e.transpose(a),r=qi(r.length,e.rank)),G.runKernelFunc(function(c,h){var f=c.argMin(e,r[0]);return h([e]),f},{$x:e},function(c,h){var f=h[0];return{$x:function(){return Lo(f)}}})}}),nv=$({logSumExp_:function(i,n,e){void 0===n&&(n=null),void 0===e&&(e=!1);var r=Xe(i,"x","logSumExp"),a=We(n,r.shape),c=r.max(a,!0),h=r.sub(c).exp().sum(a).log(),f=c.reshape(h.shape).add(h);if(e){var m=xi(f.shape,a);return f.reshape(m)}return f}}),tf=$({max_:function(i,n,e){void 0===n&&(n=null),void 0===e&&(e=!1);var r=Xe(i,"x","max"),a=r,c=We(n,r.shape),h=c,f=ca(h,r.rank);null!=f&&(r=r.transpose(f),h=qi(h.length,r.rank));var b=G.runKernelFunc(function(I,D){var T=I.max(r,h);return D([a,T]),T},{x:r},function(I,D){return ev(I,D[1],D[0],c,f)},"Max",{axes:h},[r],[!0]);if(e){var _=xi(b.shape,c);b=b.reshape(_)}return b}}),Y0=$({mean_:function(i,n,e){void 0===n&&(n=null),void 0===e&&(e=!1);var r=Xe(i,"x","mean"),a=We(n,r.shape),c=He(Ei(r.shape,a)[1]);return _i(function(h){var f=Rt(c);return{value:(f.dtype===h.dtype?h:h.cast(f.dtype)).div(f).sum(n,e),gradFunc:function(m){var b=h.shape.slice();return a.forEach(function(_){b[_]=1}),m.reshape(b).mul(Jo(h.shape,"float32")).div(c)}}})(r)}}),tx=$({min_:function(i,n,e){void 0===n&&(n=null),void 0===e&&(e=!1);var r=Xe(i,"x","min"),a=r,c=We(n,r.shape),h=c,f=ca(h,r.rank);null!=f&&(r=r.transpose(f),h=qi(h.length,r.rank));var b=G.runKernelFunc(function(I,D){var T=I.min(r,h);return D([a,T]),T},{x:r},function(I,D){return ev(I,D[1],D[0],c,f)},"Min",{axes:h},[r],[!0]);if(e){var _=xi(b.shape,c);b=b.reshape(_)}return b}}),q0=$({moments_:function(i,n,e){void 0===n&&(n=null),void 0===e&&(e=!1);var r=We(n,(i=Xe(i,"x","moments")).shape),a=i.mean(r,e),c=a.shape;e||(c=xi(a.shape,r));var h=i.toFloat().sub(a.reshape(c)).square();return{mean:a,variance:h.mean(r,e)}}}),Vp=$({sum_:function(i,n,e){void 0===n&&(n=null),void 0===e&&(e=!1);var r=Xe(i,"x","sum");"bool"===r.dtype&&(r=r.toInt());var a=We(n,r.shape);return _i(function(c){var h=ca(a,c.rank),f=a,m=c;null!=h&&(m=c.transpose(h),f=qi(f.length,c.rank));var b=function(T){var z=c.shape.slice();return a.forEach(function(J){z[J]=1}),T.reshape(z).mul(Jo(c.shape,"float32"))},I=G.runKernelFunc(function(T){return T.sum(m,f)},{x:m},function(T){return{x:function(){return b(T)}}},"Sum",{axes:f});if(e){var D=xi(I.shape,a);I=I.reshape(D)}return{value:I,gradFunc:b}})(r)}}),Hp=$({prod_:function(i,n,e){void 0===n&&(n=null),void 0===e&&(e=!1);var r=Xe(i,"x","prod");"bool"===r.dtype&&(r=r.toInt());var a=We(n,r.shape),c=ca(a,r.rank),h=a,f=r;null!=c&&(f=r.transpose(c),h=qi(h.length,r.rank));var m=G.runKernelFunc(function(_){return _.prod(f,h)},{permutedX:f});if(e){var b=xi(m.shape,a);m=m.reshape(b)}return m}}),rv=$({elu_:function(i){var n=Xe(i,"x","elu");return G.runKernelFunc(function(e,r){var a=e.elu(n);return r([a]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return G.runKernelFunc(function(c){return c.eluDer(e,a)},{dy:e,y:a})}}})}}),mc=$({leakyRelu_:function(i,n){void 0===n&&(n=.2);var e=Xe(i,"x","leakyRelu");return Ad(Rt(n).mul(e),e)}}),Bd=$({prelu_:function(i,n){var e=Xe(i,"x","prelu"),r=Xe(n,"alpha","prelu");return G.runKernelFunc(function(a,c){var h=a.prelu(e,r);return c([e,r]),h},{x:e,alpha:r},function(a,c){var h=c[0],f=c[1],m=h.greater(0);return{x:function(){return Xc(m,a,a.mul(f))},alpha:function(){var b=Xc(m,Lo(a),a.mul(h)),_=Ko(f.shape,a.shape);return _.length>0&&(b=b.sum(_)),b.reshape(f.shape)}}},"Prelu")}}),oa=$({relu_:function(i){var n=Xe(i,"x","relu");return"bool"===n.dtype?n.toInt():G.runKernelFunc(function(e,r){var a=e.relu(n);return r([n]),a},{x:n},function(e,r){var a=r[0];return{x:function(){return e.mulStrict(a.step().toFloat())}}},"Relu")}}),Wp=$({relu6_:function(i){var n=Xe(i,"x","relu6");return"bool"===n.dtype?n.toInt():G.runKernelFunc(function(e,r){var a=e.relu6(n);return r([n]),a},{x:n},function(e,r){var a=r[0],c=a.lessEqual(6).mul(a.step());return{x:function(){return e.mulStrict(c.toFloat())}}},"Relu6")}}),nf=$({selu_:function(i){var n=Xe(i,"x","selu");return G.runKernelFunc(function(e,r){var a=e.selu(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){var c=a.greater(Rt(0)),h=Rt(Mu),f=Rt(Ru),m=e.mul(f),b=e.mul(h).mul(a.toFloat().exp());return Xc(c,m,b)}}})}}),Zc=$({transpose_:function(i,n){var e=Xe(i,"x","transpose");return null==n&&(n=e.shape.map(function(a,c){return c}).reverse()),oe(e.rank===n.length,function(){return"Error in transpose: rank of input "+e.rank+" must match length of perm "+n+"."}),n.forEach(function(a){oe(a>=0&&a<e.rank,function(){return"All entries in 'perm' must be between 0 and "+(e.rank-1)+" but got "+n})}),e.rank<=1?e.clone():G.runKernelFunc(function(a){return a.transpose(e,n)},{x:e},function(a){var c=di(n);return{x:function(){return a.transpose(c)}}},"Transpose",{perm:n})}}),nx=$({localResponseNormalization_:function(i,n,e,r,a){void 0===n&&(n=5),void 0===e&&(e=1),void 0===r&&(r=1),void 0===a&&(a=.5);var c=Xe(i,"x","localResponseNormalization");oe(4===c.rank||3===c.rank,function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+c.rank+"."}),oe(zt(n),function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+n+"."});var h=c,f=!1;3===c.rank&&(f=!0,h=c.as4D(1,c.shape[0],c.shape[1],c.shape[2]));var m=G.runKernelFunc(function(b,_){var I=b.localResponseNormalization4D(h,n,e,r,a);return _([h,I]),I},{x4D:h},function(b,_){var I=_[0],D=_[1];return{x4D:function(){return G.runKernelFunc(function(T){return T.LRNGrad(b,I,D,n,e,r,a)},{})}}});return f?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),ov=$({norm_:function(i,n,e,r){void 0===n&&(n="euclidean"),void 0===e&&(e=null),void 0===r&&(r=!1);var a=function f(m,b,_){if(void 0===_&&(_=null),0===m.rank)return m.abs();if(1!==m.rank&&null===_)return f(m.reshape([-1]),b,_);if(1===m.rank||"number"==typeof _||Array.isArray(_)&&1===_.length){if(1===b)return m.abs().sum(_);if(b===1/0)return m.abs().max(_);if(b===-1/0)return m.abs().min(_);if("euclidean"===b||2===b)return m.abs().pow(Rt(2,"int32")).sum(_).sqrt();throw new Error("Error in norm: invalid ord value: "+b)}if(Array.isArray(_)&&2===_.length){if(1===b)return m.abs().sum(_[0]).max(_[1]-1);if(b===1/0)return m.abs().sum(_[1]).max(_[0]);if(b===-1/0)return m.abs().sum(_[1]).min(_[0]);if("fro"===b||"euclidean"===b)return m.square().sum(_).sqrt();throw new Error("Error in norm: invalid ord value: "+b)}throw new Error("Error in norm: invalid axis: "+_)}(i=Xe(i,"x","norm"),n,e),c=a.shape;if(r){var h=We(e,i.shape);c=xi(a.shape,h)}return a.reshape(c)}}),Z0=$({basicLSTMCell_:function(i,n,e,r,a,c){var h=Xe(i,"forgetBias","basicLSTMCell"),f=Xe(n,"lstmKernel","basicLSTMCell"),m=Xe(e,"lstmBias","basicLSTMCell"),b=Xe(r,"data","basicLSTMCell"),_=Xe(a,"c","basicLSTMCell"),I=Xe(c,"h","basicLSTMCell"),D=b.concat(I,1).matMul(f).add(m),z=D.shape[1]/4,J=[D.shape[0],z],ee=D.slice([0,0],J),ne=D.slice([0,z],J),me=D.slice([0,2*z],J),be=D.slice([0,3*z],J),pe=ee.sigmoid().mulStrict(ne.tanh()).addStrict(_.mulStrict(h.add(me).sigmoid())),Ie=pe.tanh().mulStrict(be.sigmoid());return[pe,Ie]}}),Q0=$({multiRNNCell_:function(i,n,e,r){for(var a=Xe(n,"data","multiRNNCell"),c=zi(e,"c","multiRNNCell"),h=zi(r,"h","multiRNNCell"),f=a,m=[],b=0;b<i.length;b++){var _=i[b](f,c[b],h[b]);m.push(_[0]),m.push(_[1]),f=_[1]}var I=[],D=[];for(b=0;b<m.length;b+=2)I.push(m[b]),D.push(m[b+1]);return[I,D]}}),rx=$({movingAverage_:function(i,n,e,r,a){void 0===a&&(a=!0);var c=Xe(i,"v","movingAverage"),h=Xe(n,"x","movingAverage"),f=Xe(e,"decay","movingAverage");an(c,h),oe(jt(c.shape,h.shape),function(){return"Shape mismatch in v and x"});var m=Rt(1),b=m.sub(f),_=h.sub(c).mul(b);if(a){oe(null!=r,function(){return"When using zeroDebias: true, step is required."});var I=Xe(r,"step","movingAverage");_=_.div(m.sub(Rd(f,I)))}return c.add(_)}}),ox=$({stridedSlice_:function(i,n,e,r,a,c,h,f,m){if(void 0===a&&(a=0),void 0===c&&(c=0),void 0===h&&(h=0),void 0===f&&(f=0),void 0===m&&(m=0),null==r&&(r=new Array(n.length)),0!==h)throw new Error("ellipsis mask is not yet supported");var b=Xe(i,"x","stridedSlice"),_=Je(f),I=b.shape.slice();_.forEach(function(ee){n[ee]=0,e[ee]=1,I.splice(ee,0,1)}),b=b.reshape(I);for(var D=0;D<b.rank;D++)n[D]=ke(a,n,r,b.shape,D),e[D]=dt(c,e,r,b.shape,D),r[D]=r[D]||1;var T=Je(m);T.forEach(function(ee){e[ee]=n[ee]+1,r[ee]=1});var z=Y(n,e,r),J=z.filter(function(ee,ne){return-1===T.indexOf(ne)});return r.every(function(ee){return 1===ee})?ul(b,n,z).reshape(J):G.runKernelFunc(function(ee){return ee.stridedSlice(b,n,e,r)},{$x:b}).reshape(J)}}),rf=$({topk_:function(i,n,e){void 0===n&&(n=1),void 0===e&&(e=!0);var r=Xe(i,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var a=r.shape[r.shape.length-1];if(n>a)throw new Error("'k' passed to topk() must be <= the last dimension ("+a+") but got "+n);var c=G.runKernelFunc(function(h){return h.topk(r,n,e)},{$x:r});return{values:c[0],indices:c[1]}}}),J0=$({scatterND_:function(i,n,e){var r=Xe(i,"indices","scatterND","int32"),a=Xe(n,"updates","scatterND");return Cs(a,r,e),G.runKernelFunc(function(c){return c.scatterND(r,a,e)},{indices:r,updates:a},null,"ScatterNd",{shape:e})}}),$d=$({fft_:function(i){oe("complex64"===i.dtype,function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+i.dtype+"."});var n=i.shape[i.shape.length-1],r=i.as2D(i.size/n,n);return G.runKernelFunc(function(a){return a.fft(r)},{input:i}).reshape(i.shape)}}),Hu=$({ifft_:function(i){oe("complex64"===i.dtype,function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+i.dtype+"."});var n=i.shape[i.shape.length-1],r=i.as2D(i.size/n,n);return G.runKernelFunc(function(a){return a.ifft(r)},{input:i}).reshape(i.shape)}}),gc=$({rfft_:function(i,n){oe("float32"===i.dtype,function(){return"The dtype for rfft() must be real value but got "+i.dtype});var e,r=i.shape[i.shape.length-1],a=i.size/r;if(null!=n&&n<r){var c=i.shape.map(function(ne){return 0}),h=i.shape.map(function(ne){return ne});h[i.shape.length-1]=n,e=i.slice(c,h),r=n}else if(null!=n&&n>r){var f=i.shape.map(function(ne){return ne});f[i.shape.length-1]=n-r,e=i.concat(vo(f),i.shape.length-1),r=n}else e=i;var m=e.zerosLike(),b=xe(e,m).as2D(a,r),_=$d(b),I=Math.floor(r/2)+1,D=je(_),T=mt(_),z=D.split([I,r-I],D.shape.length-1),J=T.split([I,r-I],T.shape.length-1),ee=e.shape.slice();return ee[e.shape.length-1]=I,xe(z[0],J[0]).reshape(ee)}}),Wu=$({irfft_:function(i){var n=i.shape[i.shape.length-1],e=i.size/n;if(n<=2){var r=i.as2D(e,n),a=Hu(r);return je(a)}var c=[e,2*(n-1)],h=je(i).as2D(e,n),f=mt(i).as2D(e,n),m=h.slice([0,1],[e,n-2]).reverse(1),b=f.slice([0,1],[e,n-2]).reverse(1).mul(Rt(-1)),_=h.concat(m,1),I=f.concat(b,1);return r=xe(_,I).as2D(c[0],c[1]),a=Hu(r),je(a)}}),af=Object.freeze({fft:$d,ifft:Hu,rfft:gc,irfft:Wu}),Gu=$({sparseToDense_:function(i,n,e,r){void 0===r&&(r=0);var a=Xe(i,"sparseIndices","sparseToDense","int32"),c=Xe(n,"sparseValues","sparseToDense"),h=Xe(r,"defaultValue","sparseToDense",c.dtype);return function(f,m,b,_){if("int32"!==f.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+f.dtype+".");if(f.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+f.shape+".");var I=f.rank>0?f.shape[0]:1,D=f.rank>1?f.shape[1]:1;if(b.length!==D)throw new Error("outputShape has incorrect number of elements:, "+b.length+", should be: "+D+".");if(0!==m.rank&&(1!==m.rank||m.size!==I))throw new Error("sparseValues has incorrect shape "+m.shape+", should be [] or ["+I+"]");if(m.dtype!==_.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(a,c,e,h),G.runKernelFunc(function(f){return f.sparseToDense(a,c,e,h)},{$sparseIndices:a,$sparseValues:c,$defaultValue:h})}}),jd=$({gatherND_:function(i,n){var e=Xe(n,"indices","gatherND","int32"),r=Xe(i,"x","gatherND");return G.runKernelFunc(function(a){return a.gatherND(r,e)},{x:r,indices:e},null,"GatherNd")}}),Xu=$({diag_:function(i){var n=Xe(i,"x","diag").flatten(),e=i.shape.concat(i.shape);return G.runKernelFunc(function(r){return r.diag(n)},{$x:n}).reshape(e)}}),Gp=$({dropout_:function(i,n,e,r){var a=Xe(i,"x","dropout");if(oe("float32"===a.dtype,function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+a.dtype+" tensor instead."}),oe(n>=0&&n<1,function(){return"rate must be a float in the range [0, 1), but got "+n+"."}),0===n)return i instanceof Or?a.clone():a;var c=function(m,b){if(null==b)return m.shape.slice();if(jt(m.shape,b))return b;if(m.shape.length===b.length){for(var _=[],I=0;I<m.shape.length;I++)_.push(null==b[I]&&null!=m.shape[I]?m.shape[I]:b[I]);return _}return b}(a,e),h=1-n,f=Ml(c,0,1,"float32",r).add(h).floor().div(h);return a.mul(f)}});function Ku(i,n,e){for(var r=1-i%2,a=new Float32Array(i),c=0;c<i;++c){var h=2*Math.PI*c/(i+r-1);a[c]=n-e*Math.cos(h)}return Jt(a,"float32")}var cs,vc=$({hannWindow_:function(i){return Ku(i,.5,.5)}}),zd=$({hammingWindow_:function(i){return Ku(i,.54,.46)}}),iv=$({frame_:function(i,n,e,r,a){void 0===r&&(r=!1),void 0===a&&(a=0);for(var c=0,h=[];c+n<=i.size;)h.push(ul(i,c,n)),c+=e;if(r)for(;c<i.size;){var f=c+n-i.size,m=hi([ul(i,c,n-f),So([f],a)]);h.push(m),c+=e}return 0===h.length?pn([],[0,n]):hi(h).as2D(h.length,n)}}),sf=$({stft_:function(i,n,e,r,a){void 0===a&&(a=vc),null==r&&(r=Math.floor(Math.pow(2,Math.ceil(Math.log(n)/Math.log(2)))));for(var h=iv(i,n,e),f=rs(h,a(n)),m=[],b=0;b<h.shape[0];b++)m.push(gc(f.slice([b,0],[1,n]),r));return hi(m)}}),Ud=Object.freeze({hannWindow:vc,hammingWindow:zd,frame:iv,stft:sf});!function(i){i[i.NONE=0]="NONE",i[i.MEAN=1]="MEAN",i[i.SUM=2]="SUM",i[i.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(cs||(cs={}));var eb=$({absoluteDifference_:function(i,n,e,r){void 0===r&&(r=cs.SUM_BY_NONZERO_WEIGHTS);var a=Xe(i,"labels","absoluteDifference"),c=Xe(n,"predictions","absoluteDifference"),h=null;null!=e&&(h=Xe(e,"weights","absoluteDifference")),it(a.shape,c.shape,"Error in absoluteDifference: ");var f=a.sub(c).abs();return Bl(f,h,r)}}),Bl=$({computeWeightedLoss_:function(i,n,e){void 0===e&&(e=cs.SUM_BY_NONZERO_WEIGHTS);var r=Xe(i,"losses","computeWeightedLoss"),a=null;null!=n&&(a=Xe(n,"weights","computeWeightedLoss"));var c=null==a?r:r.mul(a);if(e===cs.NONE)return c;if(e===cs.SUM)return c.sum();if(e===cs.MEAN){if(null==a)return c.mean();var h=r.size/a.size,f=c.sum().div(a.sum());return h>1?f.div(Rt(h)):f}if(e===cs.SUM_BY_NONZERO_WEIGHTS){if(null==a)return c.sum().div(Rt(r.size));var m=a.mul(Jo(r.shape)).notEqual(Rt(0)).sum().toFloat();return c.sum().div(m)}throw Error("Unknown reduction: "+e)}}),Xp=$({cosineDistance_:function(i,n,e,r,a){void 0===a&&(a=cs.SUM_BY_NONZERO_WEIGHTS);var c=Xe(i,"labels","cosineDistance"),h=Xe(n,"predictions","cosineDistance"),f=null;null!=r&&(f=Xe(r,"weights","cosineDistance")),it(c.shape,h.shape,"Error in cosineDistance: ");var m=Rt(1).sub(c.mul(h).sum(e,!0));return Bl(m,f,a)}}),sv=$({hingeLoss_:function(i,n,e,r){void 0===r&&(r=cs.SUM_BY_NONZERO_WEIGHTS);var a=Xe(i,"labels","hingeLoss"),c=Xe(n,"predictions","hingeLoss"),h=null;null!=e&&(h=Xe(e,"weights","hingeLoss")),it(a.shape,c.shape,"Error in hingeLoss: ");var f=Rt(1);a=Rt(2).mul(a).sub(f);var m=f.sub(a.mul(c)).relu();return Bl(m,h,r)}}),tb=$({huberLoss_:function(i,n,e,r,a){void 0===r&&(r=1),void 0===a&&(a=cs.SUM_BY_NONZERO_WEIGHTS);var c=Xe(i,"labels","huberLoss"),h=Xe(n,"predictions","huberLoss"),f=null;null!=e&&(f=Xe(e,"weights","huberLoss")),it(c.shape,h.shape,"Error in huberLoss: ");var m=Rt(r),b=h.sub(c).abs(),_=Td(b,m),I=b.sub(_),D=Rt(.5).mul(_.square()).add(m.mul(I));return Bl(D,f,a)}}),nb=$({logLoss_:function(i,n,e,r,a){void 0===r&&(r=1e-7),void 0===a&&(a=cs.SUM_BY_NONZERO_WEIGHTS);var c=Xe(i,"labels","logLoss"),h=Xe(n,"predictions","logLoss"),f=null;null!=e&&(f=Xe(e,"weights","logLoss")),it(c.shape,h.shape,"Error in logLoss: ");var m=Rt(1),b=Rt(r),_=c.mul(h.add(b).log()).neg().sub(m.sub(c).mul(m.sub(h).add(b).log()));return Bl(_,f,a)}}),Vd=$({meanSquaredError_:function(i,n,e,r){void 0===r&&(r=cs.SUM_BY_NONZERO_WEIGHTS);var a=Xe(i,"labels","meanSquaredError"),c=Xe(n,"predictions","meanSquaredError"),h=null;null!=e&&(h=Xe(e,"weights","meanSquaredError")),it(a.shape,c.shape,"Error in meanSquaredError: ");var f=a.squaredDifference(c);return Bl(f,h,r)}}),lv=$({sigmoidCrossEntropy_:function(i,n,e,r,a){void 0===r&&(r=0),void 0===a&&(a=cs.SUM_BY_NONZERO_WEIGHTS);var c=Xe(i,"multiClassLabels","sigmoidCrossEntropy"),h=Xe(n,"logits","sigmoidCrossEntropy"),f=null;if(null!=e&&(f=Xe(e,"weights","sigmoidCrossEntropy")),it(c.shape,h.shape,"Error in sigmoidCrossEntropy: "),r>0){var m=Rt(r),b=Rt(1),_=Rt(.5);c=c.mul(b.sub(m)).add(_.mul(m))}var I=function(D,T){var z=Xe(D,"labels","sigmoidCrossEntropyWithLogits"),J=Xe(T,"logits","sigmoidCrossEntropyWithLogits");it(z.shape,J.shape,"Error in sigmoidCrossEntropyWithLogits: ");var ee=J.relu(),ne=J.mul(z),me=J.abs().neg().exp().log1p();return ee.sub(ne).add(me)}(c,h);return Bl(I,f,a)}}),Kp=$({softmaxCrossEntropy_:function(i,n,e,r,a){void 0===r&&(r=0),void 0===a&&(a=cs.SUM_BY_NONZERO_WEIGHTS);var c=Xe(i,"onehotLabels","softmaxCrossEntropy"),h=Xe(n,"logits","softmaxCrossEntropy"),f=null;if(null!=e&&(f=Xe(e,"weights","softmaxCrossEntropy")),it(c.shape,h.shape,"Error in softmaxCrossEntropy: "),r>0){var m=Rt(r),b=Rt(1),_=Rt(c.shape[1]);c=c.mul(b.sub(m)).add(m.div(_))}var I=function(D,T,z){if(void 0===z&&(z=-1),-1===z&&(z=T.rank-1),z!==T.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+T.rank+" and dim was "+z);return _i(function(J,ee,ne){var me=ee.logSumExp([z],!0),be=ee.toFloat().sub(me);return ne([J,be]),{value:be.mul(J).neg().sum([z]),gradFunc:function(pe,Ie){var Ye=Ie[0],kt=Ie[1],It=xi(pe.shape,[z]);return[pe.reshape(It).mul(Ye.toFloat().sub(kt.exp())),pe.reshape(It).mul(kt.exp().sub(Ye.toFloat()))]}}})(D,T)}(c,h);return Bl(I,f,a)}}),rb=Object.freeze({get Reduction(){return cs},absoluteDifference:eb,computeWeightedLoss:Bl,cosineDistance:Xp,hingeLoss:sv,huberLoss:tb,logLoss:nb,meanSquaredError:Vd,sigmoidCrossEntropy:lv,softmaxCrossEntropy:Kp});function ob(i,n){return void 0===n&&(n=!1),G.tidy(function(){if(2!==i.shape.length)throw new Error("qr2d() requires a 2D Tensor, but got a "+i.shape.length+"D Tensor.");for(var e=i.shape[0],r=i.shape[1],a=mu(e),c=i.clone(),h=pn([[1]],[1,1]),f=h.clone(),m=e>=r?r:e,b=function(I){var D,T=c,z=f,J=a;D=G.tidy(function(){var ee=c.slice([I,I],[e-I,1]),ne=ee.norm(),me=c.slice([I,I],[1,1]),be=pn([[-1]]).where(me.greater(0),pn([[1]])),pe=me.sub(be.mul(ne)),Ie=ee.div(pe);f=1===Ie.shape[0]?h.clone():h.concat(Ie.slice([1,0],[Ie.shape[0]-1,Ie.shape[1]]),0);var Ye=be.matMul(pe).div(ne).neg(),kt=c.slice([I,0],[e-I,r]),It=Ye.mul(f);if(0===I)c=kt.sub(It.matMul(f.transpose().matMul(kt)));else{var vt=kt.sub(It.matMul(f.transpose().matMul(kt)));c=c.slice([0,0],[I,r]).concat(vt,0)}var bt=a.slice([0,I],[e,a.shape[1]-I]);if(0===I)a=bt.sub(bt.matMul(f).matMul(It.transpose()));else{var en=bt.sub(bt.matMul(f).matMul(It.transpose()));a=a.slice([0,0],[e,I]).concat(en,1)}return[f,c,a]}),f=D[0],c=D[1],a=D[2],Wt([T,z,J])},_=0;_<m;++_)b(_);return!n&&e>r&&(a=a.slice([0,0],[e,r]),c=c.slice([0,0],[r,r])),[a,c]})}var ix=$({bandPart_:function(i,n,e){if(n%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+n+".");if(e%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+e+".");var r=Xe(i,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var a=r.shape,c=r.shape.slice(-2),h=c[0],f=c[1];if(!(n<=h))throw new Error("bandPart(): numLower ("+n+") must not be greater than the number of rows ("+h+").");if(!(e<=f))throw new Error("bandPart(): numUpper ("+e+") must not be greater than the number of columns ("+f+").");n<0&&(n=h),e<0&&(e=f);var m=ua(0,h,1,"int32").reshape([-1,1]),b=ua(0,f,1,"int32"),_=Wa(m,b),I=vs(_.lessEqual(Rt(+n,"int32")),_.greaterEqual(Rt(-e,"int32"))),D=vo([h,f],r.dtype);return pa(Wi(r.reshape([-1,h,f])).map(function(T){return Xc(I,T,D)})).reshape(a)}}),Hd=$({gramSchmidt_:function(i){var n;if(Array.isArray(i)){n=!1,oe(null!=i&&i.length>0,function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"});for(var e=i[0].shape[0],r=function(m){oe(i[m].shape[0]===e,function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+i[m].shape[0]+" vs. "+e+")"})},a=1;a<i.length;++a)r(a)}else n=!0,i=ye(i,i.shape[0],0).map(function(m){return nc(m,[0])});oe(i.length<=i[0].shape[0],function(){return"Gram-Schmidt: Number of vectors ("+i.length+") exceeds number of dimensions ("+i[0].shape[0]+")."});var c=[],h=i,f=function(m){c.push(G.tidy(function(){var b=h[m];if(m>0)for(var _=0;_<m;++_){var I=Vp(c[_].mulStrict(b)).mul(c[_]);b=b.sub(I)}return b.div(ov(b,"euclidean"))}))};for(a=0;a<i.length;++a)f(a);return n?pa(c,0):c}}),ib=$({qr_:function(i,n){if(void 0===n&&(n=!1),i.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+i.rank);if(2===i.rank)return ob(i,n);var e=i.shape.slice(0,i.shape.length-2).reduce(function(h,f){return h*f}),r=Wi(i.reshape([e,i.shape[i.shape.length-2],i.shape[i.shape.length-1]]),0),a=[],c=[];return r.forEach(function(h){var f=ob(h,n),b=f[1];a.push(f[0]),c.push(b)}),[pa(a,0).reshape(i.shape),pa(c,0).reshape(i.shape)]}}),lf=Object.freeze({bandPart:ix,gramSchmidt:Hd,qr:ib});function Yu(i,n,e,r,a,c){null==r&&(r=.5),null==a&&(a=Number.NEGATIVE_INFINITY),null==c&&(c=0);var h=i.shape[0];return e=Math.min(e,h),oe(0<=r&&r<=1,function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"}),oe(2===i.rank,function(){return"boxes must be a 2D tensor, but was of rank '"+i.rank+"'"}),oe(4===i.shape[1],function(){return"boxes must have 4 columns, but 2nd dimension was "+i.shape[1]}),oe(1===n.rank,function(){return"scores must be a 1D tensor"}),oe(n.shape[0]===h,function(){return"scores has incompatible shape with boxes. Expected "+h+", but was "+n.shape[0]}),oe(0<=c&&c<=1,function(){return"softNmsSigma must be in [0, 1], but was '"+c+"'"}),{maxOutputSize:e,iouThreshold:r,scoreThreshold:a,softNmsSigma:c}}var Yp=$({resizeBilinear_:function(i,n,e){void 0===e&&(e=!1);var r=Xe(i,"images","resizeBilinear");oe(3===r.rank||4===r.rank,function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."}),oe(2===n.length,function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+n+"."});var a=r,c=!1;3===r.rank&&(c=!0,a=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var h=n[0],f=n[1],m=G.runKernelFunc(function(b,_){return _([a]),b.resizeBilinear(a,h,f,e)},{x:a},function(b,_){return{x:function(){return G.runKernelFunc(function(I){return I.resizeBilinearBackprop(b,_[0],e)},{})}}},"ResizeBilinear",{alignCorners:e,newHeight:h,newWidth:f});return c?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),cv=$({resizeNearestNeighbor_:function(i,n,e){void 0===e&&(e=!1);var r=Xe(i,"images","resizeNearestNeighbor");oe(3===r.rank||4===r.rank,function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."}),oe(2===n.length,function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+n+"."}),oe("float32"===r.dtype||"int32"===r.dtype,function(){return"`images` must have `int32` or `float32` as dtype"});var a=r,c=!1;3===r.rank&&(c=!0,a=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var h=n[0],f=n[1],m=G.runKernelFunc(function(b,_){return _([a]),b.resizeNearestNeighbor(a,h,f,e)},{batchImages:a},function(b,_){return{batchImages:function(){return G.runKernelFunc(function(I){return I.resizeNearestNeighborBackprop(b,_[0],e)},{})}}});return c?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),qp=$({nonMaxSuppression_:function(i,n,e,r,a){void 0===r&&(r=.5),void 0===a&&(a=Number.NEGATIVE_INFINITY);var c=Xe(i,"boxes","nonMaxSuppression"),h=Xe(n,"scores","nonMaxSuppression"),f=Yu(c,h,e,r,a);return G.runKernelFunc(function(b){return b.nonMaxSuppression(c,h,e,r,a)},{boxes:c,scores:h},null,"NonMaxSuppressionV3",{maxOutputSize:e=f.maxOutputSize,iouThreshold:r=f.iouThreshold,scoreThreshold:a=f.scoreThreshold})}}),uv=$({nonMaxSuppressionWithScore_:function(i,n,e,r,a,c){void 0===r&&(r=.5),void 0===a&&(a=Number.NEGATIVE_INFINITY),void 0===c&&(c=0);var h=Xe(i,"boxes","nonMaxSuppression"),f=Xe(n,"scores","nonMaxSuppression"),m=Yu(h,f,e,r,a,c),b={maxOutputSize:e=m.maxOutputSize,iouThreshold:r=m.iouThreshold,scoreThreshold:a=m.scoreThreshold,softNmsSigma:c=m.softNmsSigma},_=G.runKernel("NonMaxSuppressionV5",{boxes:h,scores:f},b);return{selectedIndices:_[0],selectedScores:_[1]}}}),dv=$({cropAndResize_:function(i,n,e,r,a,c){var h=Xe(i,"image","cropAndResize"),f=Xe(n,"boxes","cropAndResize","float32"),m=Xe(e,"boxInd","cropAndResize","int32");a=a||"bilinear",c=c||0;var b=f.shape[0];return oe(4===h.rank,function(){return"Error in cropAndResize: image must be rank 4,but got rank "+h.rank+"."}),oe(2===f.rank&&4===f.shape[1],function(){return"Error in cropAndResize: boxes must be have size ["+b+",4] but had shape "+f.shape+"."}),oe(1===m.rank&&m.shape[0]===b,function(){return"Error in cropAndResize: boxInd must be have size ["+b+"] but had shape "+f.shape+"."}),oe(2===r.length,function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."}),oe(r[0]>=1&&r[1]>=1,function(){return"cropSize must be atleast [1,1], but was "+r}),oe("bilinear"===a||"nearest"===a,function(){return"method must be bilinear or nearest, but was "+a}),G.runKernelFunc(function(_,I){return _.cropAndResize(h,f,m,r,a,c)},{images:h,boxes:f,boxInd:m},null,"CropAndResize",{method:a,extrapolationValue:c,cropSize:r})}}),qu=Object.freeze({resizeBilinear:Yp,resizeNearestNeighbor:cv,nonMaxSuppression:qp,nonMaxSuppressionAsync:function(i,n,e,r,a){return void 0===r&&(r=.5),void 0===a&&(a=Number.NEGATIVE_INFINITY),we(this,void 0,void 0,function(){var c,h,f,m,I;return q(this,function(D){switch(D.label){case 0:return c=Xe(i,"boxes","nonMaxSuppressionAsync"),h=Xe(n,"scores","nonMaxSuppressionAsync"),f=Yu(c,h,e,r,a),e=f.maxOutputSize,r=f.iouThreshold,a=f.scoreThreshold,[4,Promise.all([c.data(),h.data()])];case 1:return m=D.sent(),I=Ti(m[0],m[1],e,r,a),c!==i&&c.dispose(),h!==n&&h.dispose(),[2,I]}})})},nonMaxSuppressionWithScore:uv,nonMaxSuppressionWithScoreAsync:function(i,n,e,r,a,c){return void 0===r&&(r=.5),void 0===a&&(a=Number.NEGATIVE_INFINITY),void 0===c&&(c=0),we(this,void 0,void 0,function(){var h,f,m,b,D;return q(this,function(T){switch(T.label){case 0:return h=Xe(i,"boxes","nonMaxSuppressionAsync"),f=Xe(n,"scores","nonMaxSuppressionAsync"),m=Yu(h,f,e,r,a,c),e=m.maxOutputSize,r=m.iouThreshold,a=m.scoreThreshold,c=m.softNmsSigma,[4,Promise.all([h.data(),f.data()])];case 1:return b=T.sent(),D=yl(b[0],b[1],e,r,a,c),h!==i&&h.dispose(),f!==n&&f.dispose(),[2,D]}})})},cropAndResize:dv}),Wd=function(i,n){return!(i>0)||"linear"===n},uf=function(i,n,e){if(null==e||"linear"===e)return i;if("relu"===e)return i.mul(n.step());throw new Error("Gradient for activation "+e+" has not been implemented yet.")},df=function(i,n){var e=n,r=Ko(i.shape,n.shape);return r.length>0&&(e=e.sum(r)),e.reshape(i.shape)},Gd=function(i,n,e){if("linear"===n)return i;if("relu"===n)return oa(i);if("elu"===n)return rv(i);if("relu6"===n)return Wp(i);if("prelu"===n)return Bd(i,e);throw new Error("Unknown fused activation "+n+".")},hv=$({fusedMatMul_:function(i){var n,e=i.a,r=i.b,a=i.transposeA,c=void 0!==a&&a,h=i.transposeB,f=void 0!==h&&h,m=i.bias,b=i.activation,_=void 0===b?"linear":b,I=i.preluActivationWeights;if(!1===Wd(G.state.gradientDepth,_)){var D=Ld(e,r,c,f);return null!=m&&(D=jo(D,m)),Gd(D,_,I)}var T=Xe(e,"a","fused matMul"),z=Xe(r,"b","fused matMul");n=ut(T,z),T=n[0],z=n[1];var J=c?T.shape[T.rank-2]:T.shape[T.rank-1],ee=f?z.shape[z.rank-1]:z.shape[z.rank-2],ne=c?T.shape[T.rank-1]:T.shape[T.rank-2],me=f?z.shape[z.rank-2]:z.shape[z.rank-1],be=T.shape.slice(0,-2),pe=z.shape.slice(0,-2),Ie=He(be),Ye=He(pe);oe(T.rank>=2&&z.rank>=2&&T.rank===z.rank,function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+T.rank+" and "+z.rank+"."}),oe(jt(be,pe),function(){return"Error in fused matMul: outer dimensions ("+be+") and ("+pe+") of Tensors with shapes "+T.shape+" and "+z.shape+" must match."}),oe(J===ee,function(){return"Error in fused matMul: inner shapes ("+J+") and ("+ee+") of Tensors with shapes "+T.shape+" and "+z.shape+" and transposeA="+c+" and transposeB="+f+" must match."});var kt,It,vt=T.shape.slice(0,-2).concat([ne,me]),bt=c?T.as3D(Ie,J,ne):T.as3D(Ie,ne,J),en=f?z.as3D(Ye,me,ee):z.as3D(Ye,ee,me);null!=m&&_o(vt,(kt=ut(kt=Xe(m,"bias","fused matMul"),T)[0]).shape),null!=I&&(It=Xe(I,"prelu weights","fused matMul"));var Kt={a:bt,b:en};return null!=m&&(Kt.bias=kt),null!=I&&(Kt.preluActivationWeights=It),G.runKernelFunc(function(Fn,jn){var er=Fn.fusedBatchMatMul({a:bt,b:en,transposeA:c,transposeB:f,bias:kt,activation:_,preluActivationWeights:It});return jn([bt,en,er]),er},Kt,function(Fn,jn){var er=jn[0],qn=jn[1],tr=uf(Fn,jn[2],_),or={};return null!=m&&(or={bias:function(){return df(kt,tr)}}),Object.assign(c||f?!c&&f?{a:function(){return tr.matMul(qn,!1,!1)},b:function(){return tr.matMul(er,!0,!1)}}:c&&!f?{a:function(){return qn.matMul(tr,!1,!0)},b:function(){return er.matMul(tr,!1,!1)}}:{a:function(){return qn.matMul(tr,!0,!0)},b:function(){return tr.matMul(er,!0,!0)}}:{a:function(){return tr.matMul(qn,!1,!0)},b:function(){return er.matMul(tr,!0,!1)}},or)},"_FusedMatMul",{transposeA:c,transposeB:f,activation:_},[bt,en],[!0]).reshape(vt)}}),Xd=$({fusedConv2d_:function(i){var n=i.x,e=i.filter,r=i.strides,a=i.pad,c=i.dataFormat,h=void 0===c?"NHWC":c,f=i.dilations,m=void 0===f?[1,1]:f,b=i.dimRoundingMode,_=i.bias,I=i.activation,D=void 0===I?"linear":I,T=i.preluActivationWeights;if(!1===Wd(G.state.gradientDepth,D=D||"linear")){var z=Js(n,e,r,a,h,m,b);return null!=_&&(z=jo(z,_)),Gd(z,D,T)}var J=Xe(n,"x","conv2d"),ee=Xe(e,"filter","conv2d"),ne=J,me=!1;3===J.rank&&(me=!0,ne=J.as4D(1,J.shape[0],J.shape[1],J.shape[2])),oe(4===ne.rank,function(){return"Error in fused conv2d: input must be rank 4, but got rank "+ne.rank+"."}),oe(4===ee.rank,function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+ee.rank+"."}),null!=b&&oe(zt(a),function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+b+" but got pad "+a+"."}),oe(ne.shape[3]===ee.shape[2],function(){return"Error in conv2d: depth of input ("+ne.shape[3]+") must match input depth for filter "+ee.shape[2]+"."}),oe(Bi(r,m),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+m+"'"}),oe("NHWC"===h,function(){return"Error in conv2d: got dataFormat of "+h+" but only NHWC is currently supported."});var be,pe,Ie=ma(ne.shape,ee.shape,r,m,a,b);null!=_&&(be=ut(be=Xe(_,"bias","fused conv2d"),J)[0],_o(Ie.outShape,be.shape)),null!=T&&(pe=Xe(T,"prelu weights","fused conv2d"));var Ye={x:ne,filter:ee};null!=_&&(Ye.bias=be),null!=T&&(Ye.preluActivationWeights=pe);var It=G.runKernelFunc(function(vt,bt){var en=vt.fusedConv2d({input:ne,filter:ee,convInfo:Ie,bias:be,activation:D,preluActivationWeights:pe});return bt([ee,ne,en]),en},Ye,function(vt,bt){var Kt=bt[0],Sn=bt[1],jn=uf(vt,bt[2],D);oe(Es(m),function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+m+"'"});var er={};return null!=_&&(er={bias:function(){return df(be,jn)}}),Object.assign({x:function(){return $p(Sn.shape,jn,Kt,r,a)},filter:function(){return Fd(Sn,jn,Kt.shape,r,a)}},er)},"FusedConv2D",{convInfo:Ie,activation:D},[ee,ne],[!0]);return me?It.as3D(It.shape[1],It.shape[2],It.shape[3]):It}}),hf=$({fusedDepthwiseConv2d_:function(i){var n=i.x,e=i.filter,r=i.strides,a=i.pad,c=i.dataFormat,h=void 0===c?"NHWC":c,f=i.dilations,m=void 0===f?[1,1]:f,b=i.dimRoundingMode,_=i.bias,I=i.activation,D=void 0===I?"linear":I,T=i.preluActivationWeights;if(!1===Wd(G.state.gradientDepth,D)){var z=qc(n,e,r,a,h,m,b);return null!=_&&(z=jo(z,_)),Gd(z,D,T)}var J=Xe(n,"x","depthwiseConv2d"),ee=Xe(e,"filter","depthwiseConv2d"),ne=J,me=!1;3===J.rank&&(me=!0,ne=J.as4D(1,J.shape[0],J.shape[1],J.shape[2])),oe(4===ne.rank,function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+ne.rank+"."}),oe(4===ee.rank,function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+ee.rank+"."}),oe(ne.shape[3]===ee.shape[2],function(){return"Error in fused depthwiseConv2d: number of input channels ("+ne.shape[3]+") must match the inChannels dimension in filter "+ee.shape[2]+"."}),null==m&&(m=[1,1]),oe(Bi(r,m),function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+m+"'"}),null!=b&&oe(zt(a),function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+b+" but got pad "+a+"."});var be,pe,Ie=ma(ne.shape,ee.shape,r,m,a,b,!0);null!=_&&(be=ut(be=Xe(_,"bias","fused conv2d"),J)[0],_o(Ie.outShape,be.shape)),null!=T&&(pe=Xe(T,"prelu weights","fused depthwiseConv2d"));var Ye={x:ne,filter:ee};null!=_&&(Ye.bias=be),null!=T&&(Ye.preluActivationWeights=pe);var It=G.runKernelFunc(function(vt,bt){var en=vt.fusedDepthwiseConv2D({input:ne,filter:ee,convInfo:Ie,bias:be,activation:D,preluActivationWeights:pe});return bt([ee,ne,en]),en},Ye,function(vt,bt){oe(Es(m),function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+m+"'"});var en=bt[0],Kt=bt[1],Fn=uf(vt,bt[2],D),jn={};return null!=_&&(jn={bias:function(){return df(be,Fn)}}),Object.assign({x:function(){return V0(Kt.shape,Fn,en,Ie)},filter:function(){return H0(Kt,Fn,en.shape,Ie)}},jn)},"FusedDepthwiseConv2D",{convInfo:Ie,activation:D},[ee,ne],[!0]);return me?It.as3D(It.shape[1],It.shape[2],It.shape[3]):It}}),Qc=Object.freeze({matMul:hv,conv2d:Xd,depthwiseConv2d:hf}),fv=Object.freeze({image:qu,linalg:lf,losses:rb,spectral:af,fused:Qc,signal:Ud,square:$h,squaredDifference:jh,conv1d:bs,conv2d:Js,conv3d:Rs,depthwiseConv2d:qc,separableConv2d:Oa,conv2dTranspose:zu,conv3dTranspose:Gg,op:$,batchNormalization2d:Xh,batchNormalization3d:Op,batchNormalization4d:Wc,batchNormalization:P0,batchNorm:Np,batchNorm2d:Gc,batchNorm3d:O0,batchNorm4d:Fg,booleanMaskAsync:function(i,n,e){return we(this,void 0,void 0,function(){var r,a,c,h,f,m,b,_,I,D,T,z,J;return q(this,function(ee){switch(ee.label){case 0:for(r=Xe(i,"tensor","boolMask"),a=Xe(n,"mask","boolMask","bool"),c=null==e?0:e,f=r.shape,oe((h=a.rank)>0,function(){return"mask cannot be scalar"}),it(f.slice(c,c+h),a.shape,"mask's shape must match the first K dimensions of tensor's shape,"),m=1,b=c;b<c+h;b++)m*=f[b];return _=f.slice(0,c).concat([m],f.slice(c+h)),I=r.reshape(_),D=a.reshape([-1]),[4,Sd(D)];case 1:return T=ee.sent(),z=T.squeeze([1]),J=Od(I,z,c),i!==r&&r.dispose(),n!==a&&a.dispose(),z.dispose(),I.dispose(),D.dispose(),T.dispose(),[2,J]}})})},complex:xe,real:je,imag:mt,concat:hi,concat1d:Sc,concat2d:Ql,concat3d:ae,concat4d:j,split:ye,matMul:Ld,dot:W0,outerProduct:Xg,reverse:Uu,reverse1d:jp,reverse2d:cl,reverse3d:Kg,reverse4d:el,maxPool:Ga,avgPool:Vu,pool:zp,maxPool3d:Zg,avgPool3d:ef,slice:ul,slice1d:Qg,slice2d:Jg,slice3d:Up,slice4d:G0,abs:Eg,acos:Ep,acosh:Dg,asin:kg,asinh:Ed,atan:fc,atanh:M0,ceil:Dp,clipByValue:Hc,cos:Cl,cosh:Fu,erf:Ea,exp:kp,expm1:Sp,floor:zh,log:Sg,log1p:Uh,logSigmoid:Dd,neg:kd,reciprocal:Ap,round:Vh,rsqrt:Lu,sigmoid:Hh,sign:Ag,isNaN:R0,isInf:Tg,isFinite:Mg,sin:Rg,sinh:Tp,softplus:Mp,sqrt:Pg,step:Jy,tan:Rp,tanh:Og,all:X0,any:K0,argMax:tv,argMin:ex,logSumExp:nv,max:tf,mean:Y0,min:tx,moments:q0,sum:Vp,prod:Hp,equal:$0,equalStrict:j0,greater:z0,greaterEqual:pc,greaterEqualStrict:$u,greaterStrict:Lp,less:Ug,lessEqual:Bp,lessEqualStrict:ju,lessStrict:U0,notEqual:Zh,notEqualStrict:Vg,add:jo,addN:N0,addStrict:Gi,atan2:F0,div:Ms,divNoNan:Bg,divStrict:$g,floorDiv:qh,maximum:Ad,maximumStrict:jg,minimum:Td,minimumStrict:zg,mod:Md,modStrict:Fp,mul:rs,mulStrict:ll,pow:Rd,powStrict:Pd,squaredDifferenceStrict:L0,sub:Wa,subStrict:B0,elu:rv,leakyRelu:mc,prelu:Bd,relu:oa,relu6:Wp,selu:nf,logicalAnd:vs,logicalNot:Kh,logicalOr:Yh,logicalXor:Lg,where:Xc,whereAsync:Sd,buffer:cr,print:function Zi(i,n){void 0===n&&(n=!1),console.log(i.toString(n))},batchToSpaceND:Vi,broadcastTo:_s,cast:ha,clone:Jl,cumsum:ec,depthToSpace:os,expandDims:ps,eye:mu,multinomial:Hs,oneHot:fa,pad:Os,pad1d:cd,pad2d:Tc,pad3d:ud,pad4d:tc,rand:gu,randomNormal:Tl,randomGamma:dd,randomUniform:Ml,reshape:Hi,spaceToBatchND:vu,squeeze:nc,stack:pa,tile:ol,truncatedNormal:Mc,unstack:Wi,setdiff1dAsync:function(i,n){return we(this,void 0,void 0,function(){var e,r,a,c,h,f,m,b,_,I;return q(this,function(D){switch(D.label){case 0:return e=Xe(i,"x","setdiff1d"),r=Xe(n,"y","setdiff1d"),oe(e.dtype===r.dtype,function(){return"x and y should have the same dtype, but got x ("+e.dtype+") and y ("+r.dtype+")."}),oe(1===e.rank,function(){return"x should be 1D tensor, but got x ("+e.shape+")."}),oe(1===r.rank,function(){return"y should be 1D tensor, but got y ("+r.shape+")."}),[4,e.data()];case 1:return a=D.sent(),[4,r.data()];case 2:for(c=D.sent(),h=new Set(c),f=0,_=0;_<a.length;_++)h.has(a[_])||f++;for(m=new Rr([f],e.dtype),b=new Rr([f],"int32"),_=0,I=0;_<a.length;_++)h.has(a[_])||(m.values[I]=a[_],b.values[I]=_,I++);return[2,[m.toTensor(),b.toTensor()]]}})})},fill:So,linspace:function lo(i,n,e){if(e<=0)throw new Error("The number of values should be positive.");return G.runKernelFunc(function(r){return r.linspace(i,n,e)},{})},ones:Jo,range:ua,scalar:Rt,tensor:gt,tensor1d:Jt,tensor2d:pn,tensor3d:Wn,tensor4d:Kn,tensor5d:function wr(i,n,e){if(At(i),null!=n&&5!==n.length)throw new Error("tensor5d() requires shape to have five numbers");var r=ci(i,e);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==n)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Qt(i,n,r,e)},tensor6d:function $r(i,n,e){if(At(i),null!=n&&6!==n.length)throw new Error("tensor6d() requires shape to have six numbers");var r=ci(i,e);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==n)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Qt(i,n=n||r,r,e)},variable:function Ho(i,n,e,r){return void 0===n&&(n=!0),G.makeVariable(i,n,e,r)},zeros:vo,onesLike:Ui,zerosLike:Lo,transpose:Zc,softmax:Oo,logSoftmax:$n,localResponseNormalization:nx,norm:ov,gather:Od,unsortedSegmentSum:Nd,basicLSTMCell:Z0,multiRNNCell:Q0,movingAverage:rx,stridedSlice:ox,topk:rf,scatterND:J0,fft:$d,ifft:Hu,rfft:gc,irfft:Wu,sparseToDense:Gu,gatherND:jd,diag:Xu,dropout:Gp,hannWindow:vc,hammingWindow:zd,frame:iv,stft:sf,inTopKAsync:function(i,n,e){return void 0===e&&(e=1),we(this,void 0,void 0,function(){var r,a,c,h,f,m,b,_,I,D,T,z,J,ee;return q(this,function(ne){switch(ne.label){case 0:return r=Xe(i,"predictions","inTopK"),a=Xe(n,"targets","inTopK"),oe(r.rank>1,function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank}),oe(r.rank-1===a.rank,function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+a.rank}),it(r.shape.slice(0,r.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),c=r.shape[r.shape.length-1],oe(e>0&&e<=c,function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+c+"), but got "+e}),[4,r.data()];case 1:return h=ne.sent(),[4,a.data()];case 2:for(f=ne.sent(),_=(m=[h.length/c,c])[1],I=fe("bool",b=m[0]),D=0;D<b;D++){for(z=h.subarray(T=D*_,T+_),J=[],ee=0;ee<z.length;ee++)J.push({value:z[ee],index:ee});for(J.sort(function(me,be){return be.value-me.value}),I[D]=0,ee=0;ee<e;ee++)if(J[ee].index===f[D]){I[D]=1;break}}return i!==r&&r.dispose(),n!==a&&a.dispose(),[2,gt(I,a.shape,"bool")]}})})}});function Zn(i,n){Array.isArray(i)||(i=[i]),i.forEach(function(e){null!=e&&oe("complex64"!==e.dtype,function(){return n+" does not support complex64 tensors."})})}function Zp(i,n,e,r){if("linear"===e)return i.linear(n);if("relu"===e)return i.relu(n);if("elu"===e)return i.elu(n);if("relu6"===e)return i.relu6(n);if("prelu"===e)return i.prelu(n,r);throw new Error("Activation "+e+" has not been implemented for the CPU backend.")}var ff=function(i){function n(){var e=i.call(this)||this;return e.blockSize=48,e.firstUse=!0,e.data=new jr(e,G),e}return H(n,i),n.prototype.write=function(e,r,a){this.firstUse&&(this.firstUse=!1,ce().get("IS_NODE")&&la("\n============================\nHi there \u{1f44b}. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));var c={};return this.data.set(c,{values:e,dtype:a}),c},n.prototype.move=function(e,r,a,c){this.data.set(e,{values:r,dtype:c})},n.prototype.numDataIds=function(){return this.data.numDataIds()},n.prototype.read=function(e){return we(this,void 0,void 0,function(){return q(this,function(r){return[2,this.readSync(e)]})})},n.prototype.readSync=function(e){var r=this.data.get(e),c=r.complexTensors;return"complex64"===r.dtype?Hr(this.readSync(c.real.dataId),this.readSync(c.imag.dataId)):this.data.get(e).values},n.prototype.bufferSync=function(e){var r=this.readSync(e.dataId),a=r;if("string"===e.dtype)try{a=r.map(function(c){return kr(c)})}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return cr(e.shape,e.dtype,a)},n.prototype.makeOutput=function(e,r,a){var c=this.write(e,r,a);return G.makeTensorFromDataId(c,r,a,this)},n.prototype.disposeData=function(e){if(this.data.has(e)){var r=this.data.get(e).complexTensors;null!=r&&(r.real.dispose(),r.imag.dispose()),this.data.delete(e)}},n.prototype.time=function(e){return we(this,void 0,void 0,function(){var r;return q(this,function(a){return r=sn(),e(),[2,{kernelMs:sn()-r}]})})},n.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},n.prototype.complex=function(e,r){var a=this.makeOutput(null,e.shape,"complex64");return this.data.get(a.dataId).complexTensors={real:G.keep(e.clone()),imag:G.keep(r.clone())},a},n.prototype.real=function(e){return this.data.get(e.dataId).complexTensors.real.clone()},n.prototype.imag=function(e){return this.data.get(e.dataId).complexTensors.imag.clone()},n.prototype.slice=function(e,r,a){if(Zn(e,"slice"),bn(e.shape,r,a)){var c=Yn(r,e.strides),h=He(a);return gt(this.readSync(e.dataId).subarray(c,c+h),a,e.dtype)}for(var f=cr(a,e.dtype),m=this.bufferSync(e),b=0;b<f.size;++b){var _=f.indexToLoc(b).map(function(I,D){return I+r[D]});f.values[b]=m.get.apply(m,_)}return f.toTensor()},n.prototype.stridedSlice=function(e,r,a,c){Zn(e,"stridedSlice");var h=Y(r,a,c);if(h.some(function(T){return 0===T}))return gt([],h);for(var f=cr(h,e.dtype),m=this.bufferSync(e),b=0;b<f.size;b++){for(var _=f.indexToLoc(b),I=new Array(_.length),D=0;D<I.length;D++)I[D]=_[D]*c[D]+r[D];f.set.apply(f,[m.get.apply(m,I)].concat(_))}return f.toTensor()},n.prototype.diag=function(e){for(var r=this.readSync(e.dataId),a=cr([e.size,e.size],e.dtype),c=a.values,h=0;h<r.length;h++)c[h*e.size+h]=r[h];return a.toTensor()},n.prototype.unstack=function(e,r){for(var a=e.shape[r],c=new Array(e.rank-1),h=0,f=0;f<e.rank;f++)f!==r&&(c[h++]=e.shape[f]);var m=new Array(e.rank).fill(0),b=e.shape.slice();b[r]=1;var _=new Array(a);for(f=0;f<_.length;f++)m[r]=f,_[f]=this.slice(e,m,b).reshape(c);return _},n.prototype.reverse=function(e,r){Zn(e,"reverse");for(var a=cr(e.shape,e.dtype),c=this.bufferSync(e),h=function(m){var b=a.indexToLoc(m),_=b.slice();r.forEach(function(I){return _[I]=e.shape[I]-1-_[I]}),a.set.apply(a,[c.get.apply(c,_)].concat(b))},f=0;f<a.size;f++)h(f);return a.toTensor()},n.prototype.concat=function(e,r){var a=this;if("complex64"===e[0].dtype){var c=e.map(function(T){return je(T)}),h=e.map(function(T){return mt(T)});return xe(this.concat(c,r),this.concat(h,r))}var f=e.map(function(T){var z=He(T.shape.slice(r));return T.as2D(-1,z)}),m=X(f.map(function(T){return T.shape}),1),b=cr(m,e[0].dtype).values;if(1===f[0].shape[0]){var _=0;f.forEach(function(T){b.set(a.readSync(T.dataId),_),_+=T.size})}else{var I=0;f.forEach(function(T){for(var z=a.readSync(T.dataId),J=0,ee=0;ee<T.shape[0];++ee)for(var ne=ee*m[1]+I,me=0;me<T.shape[1];++me)b[ne+me]=z[J++];I+=T.shape[1]})}var D=X(e.map(function(T){return T.shape}),r);return gt(b,D,e[0].dtype)},n.prototype.neg=function(e){return Zn(e,"neg"),this.multiply(Rt(-1),e)},n.prototype.add=function(e,r){return"complex64"===e.dtype||"complex64"===r.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),r.cast("complex64"),function(a,c,h,f){return{real:a+h,imag:c+f}}):this.broadcastedBinaryOp(e,r,Nn(e.dtype,r.dtype),function(a,c){return a+c})},n.prototype.addN=function(e){var r=this;Zn(e,"addN");for(var a=e.map(function(_){return r.readSync(_.dataId)}),c=cr(e[0].shape,e[0].dtype),h=c.values,f=0;f<e.length;f++)for(var m=a[f],b=0;b<h.length;b++)h[b]+=m[b];return c.toTensor()},n.prototype.softmax=function(e,r){var a=We([r],e.shape),c=this.max(e,a),h=xi(c.shape,a),f=this.subtract(e,c.reshape(h)),m=this.exp(f),b=this.sum(m,a).reshape(h);return this.realDivide(m,b)},n.prototype.subtract=function(e,r){return"complex64"===e.dtype||"complex64"===r.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),r.cast("complex64"),function(a,c,h,f){return{real:a-h,imag:c-f}}):this.broadcastedBinaryOp(e,r,Nn(e.dtype,r.dtype),function(a,c){return a-c})},n.prototype.pow=function(e,r){return Zn([e,r],"pow"),this.broadcastedBinaryOp(e,r,e.dtype,function(a,c){return Math.pow(a,c)})},n.prototype.batchMatMul=function(e,r,a,c){Zn([e,r],"matMul");for(var h=a?e.shape[1]:e.shape[2],f=a?e.shape[2]:e.shape[1],m=c?r.shape[1]:r.shape[2],b=e.shape[0],_=this.readSync(e.dataId),I=this.readSync(r.dataId),D=a?[e.strides[0],1,e.strides[1]]:[e.strides[0],e.strides[1],1],T=D[0],z=D[1],J=D[2],ee=c?[1,r.strides[1],r.strides[0]]:[r.strides[1],1,r.strides[0]],ne=ee[0],me=ee[1],be=ee[2],pe=f*m,Ie=cr([b,f,m],e.dtype),Ye=Ie.values,kt=this.blockSize,It=0;It<b;It++)for(var vt=0;vt<f;vt+=kt)for(var bt=0;bt<m;bt+=kt)for(var en=0;en<h;en+=kt)for(var Kt=Math.min(vt+kt,f),Sn=Math.min(bt+kt,m),Fn=Math.min(en+kt,h),jn=vt;jn<Kt;jn++)for(var er=bt;er<Sn;er++){for(var qn=0,Vn=en;Vn<Fn;Vn++)qn+=_[It*T+jn*z+Vn*J]*I[Vn*ne+er*me+It*be];Ye[It*pe+(jn*m+er)]+=qn}return Ie.toTensor()},n.prototype.fusedBatchMatMul=function(e){var f=e.bias,m=e.activation,b=e.preluActivationWeights,_=this.batchMatMul(e.a,e.b,e.transposeA,e.transposeB);return f&&(_=this.add(_,f)),m&&(_=Zp(this,_,m,b)),_},n.prototype.multiply=function(e,r){return"complex64"===e.dtype||"complex64"===r.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),r.cast("complex64"),function(a,c,h,f){return{real:a*h-c*f,imag:a*f+c*h}}):this.broadcastedBinaryOp(e,r,Nn(e.dtype,r.dtype),function(a,c){return a*c})},n.prototype.realDivide=function(e,r){return Zn([e,r],"realDivide"),this.broadcastedBinaryOp(e,r,"float32",function(a,c){return a/c})},n.prototype.floorDiv=function(e,r){return Zn([e,r],"floorDiv"),this.broadcastedBinaryOp(e,r,"int32",function(a,c){return Math.floor(a/c)})},n.prototype.sum=function(e,r){Zn(e,"sum"),ta("sum",r,e.rank);for(var a=Ei(e.shape,r),h=a[1],f=vo(a[0],Nn(e.dtype,"int32")),m=He(h),b=this.readSync(f.dataId),_=this.readSync(e.dataId),I=0;I<b.length;++I){for(var D=I*m,T=0,z=0;z<m;++z)T+=_[D+z];b[I]=T}return f},n.prototype.prod=function(e,r){Zn(e,"sum");for(var a=Ei(e.shape,r),h=a[1],f=vo(a[0],Nn(e.dtype,"int32")),m=He(h),b=this.readSync(f.dataId),_=this.readSync(e.dataId),I=0;I<b.length;++I){for(var D=I*m,T=1,z=0;z<m;++z)T*=_[D+z];b[I]=T}return f},n.prototype.unsortedSegmentSum=function(e,r,a){Zn(e,"unsortedSegmentSum");for(var c=[],h=e.rank-r.rank,f=0;f<h;++f)r=r.expandDims(f+1);for(f=0;f<a;++f){var m=Rt(f,"int32"),b=$0(m,r).asType("float32").mul(e).sum(0);c.push(b)}return pa(c)},n.prototype.argMin=function(e,r){Zn(e,"argMin");var a=[r];ta("argMin",a,e.rank);for(var c=Ei(e.shape,a),f=c[1],m=vo(c[0],"int32"),b=He(f),_=this.readSync(m.dataId),I=this.readSync(e.dataId),D=0;D<_.length;++D){for(var T=D*b,z=I[T],J=0,ee=0;ee<b;++ee){var ne=I[T+ee];ne<z&&(z=ne,J=ee)}_[D]=J}return m},n.prototype.argMax=function(e,r){Zn(e,"argMax");var a=[r];ta("argMax",a,e.rank);for(var c=Ei(e.shape,a),f=c[1],m=vo(c[0],"int32"),b=He(f),_=this.readSync(m.dataId),I=this.readSync(e.dataId),D=0;D<_.length;++D){for(var T=D*b,z=I[T],J=0,ee=0;ee<b;++ee){var ne=I[T+ee];ne>z&&(z=ne,J=ee)}_[D]=J}return m},n.prototype.cumsum=function(e,r,a,c){if(Zn(e,"cumsum"),r!==e.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(e.rank-1)+" but got axis="+r);for(var h=Nn(e.dtype,"int32"),f=vo(e.shape,h),m=this.readSync(f.dataId),b=this.readSync(e.dataId),_=e.shape[e.rank-1],I=c?function(ee,ne){return ee+_-ne-1}:function(ee,ne){return ee+ne},D=0;D<b.length;D+=_)for(var T=0;T<_;T++){var z=I(D,T);if(0===T)m[z]=a?0:b[z];else{var J=I(D,T-1);m[z]=a?b[J]+m[J]:b[z]+m[J]}}return f},n.prototype.equal=function(e,r){return Zn([e,r],"equal"),this.broadcastedBinaryOp(e,r,"bool",function(a,c){return a===c?1:0})},n.prototype.notEqual=function(e,r){return Zn([e,r],"notEqual"),this.broadcastedBinaryOp(e,r,"bool",function(a,c){return a!==c?1:0})},n.prototype.less=function(e,r){return Zn([e,r],"less"),this.broadcastedBinaryOp(e,r,"bool",function(a,c){return a<c?1:0})},n.prototype.lessEqual=function(e,r){return Zn([e,r],"lessEqual"),this.broadcastedBinaryOp(e,r,"bool",function(a,c){return a<=c?1:0})},n.prototype.greater=function(e,r){return Zn([e,r],"greater"),this.broadcastedBinaryOp(e,r,"bool",function(a,c){return a>c?1:0})},n.prototype.greaterEqual=function(e,r){return Zn([e,r],"greaterEqual"),this.broadcastedBinaryOp(e,r,"bool",function(a,c){return a>=c?1:0})},n.prototype.logicalNot=function(e){Zn(e,"logicalNot");for(var r=this.readSync(e.dataId),a=new Uint8Array(r.length),c=0;c<r.length;++c)a[c]=r[c]?0:1;return this.makeOutput(a,e.shape,"bool")},n.prototype.logicalAnd=function(e,r){return Zn([e,r],"logicalAnd"),this.broadcastedBinaryOp(e,r,"bool",function(a,c){return a&&c})},n.prototype.logicalOr=function(e,r){return Zn([e,r],"logicalOr"),this.broadcastedBinaryOp(e,r,"bool",function(a,c){return a||c})},n.prototype.select=function(e,r,a){Zn([e,r,a],"select");for(var c=this.readSync(e.dataId),h=this.readSync(r.dataId),f=this.readSync(a.dataId),m=vo(r.shape,Nn(r.dtype,a.dtype)),b=this.readSync(m.dataId),_=0,I=0===e.rank||e.rank>1||1===r.rank?1:He(r.shape.slice(1)),D=0;D<c.length;D++)for(var T=0;T<I;T++)b[_++]=1===c[D]?h[D]:f[D];return m},n.prototype.where=function(e){Zn([e],"where");var r=this.readSync(e.dataId);return Oc(e.shape,r)},n.prototype.topk=function(e,r,a){return Zn(e,"topk"),xl(this.readSync(e.dataId),e.shape,e.dtype,r)},n.prototype.min=function(e,r){Zn(e,"min"),ta("min",r,e.rank);for(var a=Ei(e.shape,r),h=a[1],f=vo(a[0],e.dtype),m=He(h),b=this.readSync(f.dataId),_=this.readSync(e.dataId),I=0;I<b.length;++I){for(var D=I*m,T=_[D],z=0;z<m;++z){var J=_[D+z];J<T&&(T=J)}b[I]=T}return f},n.prototype.minimum=function(e,r){return Zn([e,r],"minimum"),this.broadcastedBinaryOp(e,r,e.dtype,function(a,c){return Math.min(a,c)})},n.prototype.mod=function(e,r){return Zn([e,r],"mod"),this.broadcastedBinaryOp(e,r,e.dtype,function(a,c){var h=a%c;return a<0&&c<0||a>=0&&c>=0?h:(h+c)%c})},n.prototype.max=function(e,r){Zn(e,"max"),ta("max",r,e.rank);for(var a=Ei(e.shape,r),h=a[1],f=vo(a[0],e.dtype),m=He(h),b=this.readSync(f.dataId),_=this.readSync(e.dataId),I=0;I<b.length;++I){for(var D=I*m,T=_[D],z=0;z<m;++z){var J=_[D+z];J>T&&(T=J)}b[I]=T}return f},n.prototype.maximum=function(e,r){return Zn([e,r],"maximum"),this.broadcastedBinaryOp(e,r,e.dtype,function(a,c){return Math.max(a,c)})},n.prototype.all=function(e,r){Zn(e,"all"),ta("all",r,e.rank);for(var a=Ei(e.shape,r),h=a[1],f=vo(a[0],e.dtype),m=He(h),b=this.readSync(f.dataId),_=this.readSync(e.dataId),I=0;I<b.length;++I){for(var D=I*m,T=_[D],z=0;z<m;++z)T=T&&_[D+z];b[I]=T}return f},n.prototype.any=function(e,r){Zn(e,"any"),ta("any",r,e.rank);for(var a=Ei(e.shape,r),h=a[1],f=vo(a[0],e.dtype),m=He(h),b=this.readSync(f.dataId),_=this.readSync(e.dataId),I=0;I<b.length;++I){for(var D=I*m,T=_[D],z=0;z<m;++z)T=T||_[D+z];b[I]=T}return f},n.prototype.squaredDifference=function(e,r){return Zn([e,r],"squaredDifference"),this.broadcastedBinaryOp(e,r,e.dtype,function(a,c){var h=a-c;return h*h})},n.prototype.ceil=function(e){Zn(e,"ceil");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),c=0;c<r.length;++c)a[c]=Math.ceil(r[c]);return this.makeOutput(a,e.shape,"float32")},n.prototype.floor=function(e){Zn(e,"floor");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),c=0;c<r.length;++c)a[c]=Math.floor(r[c]);return this.makeOutput(a,e.shape,"float32")},n.prototype.sign=function(e){Zn(e,"x");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),c=0;c<r.length;++c)a[c]=r[c]<0?-1:r[c]>0?1:0;return this.makeOutput(a,e.shape,"float32")},n.prototype.isNaN=function(e){Zn(e,"x");for(var r=this.readSync(e.dataId),a=new Uint8Array(r.length),c=0;c<r.length;++c)Number.isNaN(r[c])&&(a[c]=1);return this.makeOutput(a,e.shape,"bool")},n.prototype.isInf=function(e){Zn(e,"x");for(var r=this.readSync(e.dataId),a=new Uint8Array(r.length),c=0;c<r.length;++c)Math.abs(r[c])===1/0&&(a[c]=1);return this.makeOutput(a,e.shape,"bool")},n.prototype.isFinite=function(e){Zn(e,"x");for(var r=this.readSync(e.dataId),a=new Uint8Array(r.length),c=0;c<r.length;++c)Number.isFinite(r[c])&&(a[c]=1);return this.makeOutput(a,e.shape,"bool")},n.prototype.round=function(e){Zn(e,"round");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),c=0;c<r.length;++c){var h=Math.floor(r[c]);a[c]=r[c]-h<.5?Math.floor(r[c]):r[c]-h>.5?Math.ceil(r[c]):h%2==0?h:h+1}return this.makeOutput(a,e.shape,"float32")},n.prototype.exp=function(e){Zn(e,"exp");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),c=0;c<r.length;++c)a[c]=Math.exp(r[c]);return this.makeOutput(a,e.shape,"float32")},n.prototype.expm1=function(e){Zn(e,"expm1");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),c=0;c<r.length;++c)a[c]=Math.expm1(r[c]);return this.makeOutput(a,e.shape,"float32")},n.prototype.log=function(e){Zn(e,"log");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),c=0;c<r.length;++c)a[c]=Math.log(r[c]);return this.makeOutput(a,e.shape,"float32")},n.prototype.log1p=function(e){Zn(e,"log1p");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),c=0;c<r.length;++c)a[c]=Math.log1p(r[c]);return this.makeOutput(a,e.shape,"float32")},n.prototype.sqrt=function(e){Zn(e,"sqrt");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),c=0;c<r.length;++c)a[c]=Math.sqrt(r[c]);return this.makeOutput(a,e.shape,"float32")},n.prototype.rsqrt=function(e){Zn(e,"rsqrt");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),c=0;c<r.length;++c)a[c]=1/Math.sqrt(r[c]);return this.makeOutput(a,e.shape,"float32")},n.prototype.reciprocal=function(e){Zn(e,"reciprocal");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),c=0;c<r.length;++c)a[c]=1/r[c];return this.makeOutput(a,e.shape,"float32")},n.prototype.linear=function(e){return e},n.prototype.relu=function(e){Zn(e,"relu");for(var r=vo(e.shape,e.dtype),a=this.readSync(r.dataId),c=this.readSync(e.dataId),h=0;h<c.length;++h)a[h]=Math.max(0,c[h]);return r},n.prototype.relu6=function(e){Zn(e,"relu");for(var r=vo(e.shape,e.dtype),a=this.readSync(r.dataId),c=this.readSync(e.dataId),h=0;h<c.length;++h)a[h]=Math.min(Math.max(0,c[h]),6);return r},n.prototype.prelu=function(e,r){return Zn([e,r],"prelu"),this.broadcastedBinaryOp(e,r,e.dtype,function(a,c){return a<0?c*a:a})},n.prototype.elu=function(e){Zn(e,"elu");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c){var h=a[c];r[c]=h>=0?h:Math.exp(h)-1}return this.makeOutput(r,e.shape,"float32")},n.prototype.eluDer=function(e,r){Zn([e,r],"eluDer");for(var a=new Float32Array(r.size),c=this.readSync(r.dataId),h=this.readSync(e.dataId),f=0;f<c.length;++f){var m=c[f];a[f]=m>=1?h[f]:h[f]*(m+1)}return this.makeOutput(a,r.shape,"float32")},n.prototype.selu=function(e){Zn(e,"selu");for(var r=Mu,a=Ru,c=new Float32Array(e.size),h=this.readSync(e.dataId),f=0;f<h.length;++f){var m=h[f];c[f]=m>=0?a*m:r*(Math.exp(m)-1)}return this.makeOutput(c,e.shape,"float32")},n.prototype.clip=function(e,r,a){Zn(e,"clip");for(var c=new Float32Array(e.size),h=this.readSync(e.dataId),f=0;f<h.length;++f){var m=h[f];c[f]=m>a?a:m<r?r:m}return this.makeOutput(c,e.shape,"float32")},n.prototype.abs=function(e){for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=Math.abs(a[c]);return this.makeOutput(r,e.shape,"float32")},n.prototype.complexAbs=function(e){for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<e.size;++c)r[c]=Math.hypot(a[2*c],a[2*c+1]);return this.makeOutput(r,e.shape,"float32")},n.prototype.int=function(e){Zn(e,"int");for(var r=new Int32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=a[c];return this.makeOutput(r,e.shape,"int32")},n.prototype.sigmoid=function(e){Zn(e,"sigmoid");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=1/(1+Math.exp(-a[c]));return this.makeOutput(r,e.shape,"float32")},n.prototype.softplus=function(e){Zn(e,"softplus");for(var r=Math.log(1.1920928955078125e-7)+2,a=new Float32Array(e.size),c=this.readSync(e.dataId),h=0;h<c.length;++h){var _,f=c[h]>-r,m=c[h]<r,b=Math.exp(c[h]);_=m?b:f?c[h]:Math.log(1+b),a[h]=_}return this.makeOutput(a,e.shape,"float32")},n.prototype.sin=function(e){Zn(e,"sin");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=Math.sin(a[c]);return this.makeOutput(r,e.shape,"float32")},n.prototype.cos=function(e){Zn(e,"cos");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=Math.cos(a[c]);return this.makeOutput(r,e.shape,"float32")},n.prototype.tan=function(e){Zn(e,"tan");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=Math.tan(a[c]);return this.makeOutput(r,e.shape,"float32")},n.prototype.asin=function(e){Zn(e,"asin");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=Math.asin(a[c]);return this.makeOutput(r,e.shape,"float32")},n.prototype.acos=function(e){Zn(e,"acos");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=Math.acos(a[c]);return this.makeOutput(r,e.shape,"float32")},n.prototype.atan=function(e){Zn(e,"atan");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=Math.atan(a[c]);return this.makeOutput(r,e.shape,"float32")},n.prototype.atan2=function(e,r){return Zn([e,r],"atan2"),this.broadcastedBinaryOp(e,r,e.dtype,function(a,c){return Math.atan2(a,c)})},n.prototype.sinh=function(e){Zn(e,"sinh");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=Math.sinh(a[c]);return this.makeOutput(r,e.shape,"float32")},n.prototype.cosh=function(e){Zn(e,"cosh");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=Math.cosh(a[c]);return this.makeOutput(r,e.shape,"float32")},n.prototype.tanh=function(e){Zn(e,"tanh");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=Gn(a[c]);return this.makeOutput(r,e.shape,"float32")},n.prototype.asinh=function(e){Zn(e,"asinh");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=Math.asinh(a[c]);return this.makeOutput(r,e.shape,"float32")},n.prototype.acosh=function(e){Zn(e,"acosh");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=Math.acosh(a[c]);return this.makeOutput(r,e.shape,"float32")},n.prototype.atanh=function(e){Zn(e,"atanh");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=Math.atanh(a[c]);return this.makeOutput(r,e.shape,"float32")},n.prototype.erf=function(e){Zn(e,"erf");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c){var h=Math.sign(a[c]),f=Math.abs(a[c]),m=1/(1+.3275911*f);r[c]=h*(1-((((1.061405429*m-1.453152027)*m+1.421413741)*m-.284496736)*m+.254829592)*m*Math.exp(-f*f))}return this.makeOutput(r,e.shape,"float32")},n.prototype.step=function(e,r){void 0===r&&(r=0),Zn(e,"step");for(var a=new Float32Array(e.size),c=this.readSync(e.dataId),h=0;h<c.length;++h){var f=c[h];a[h]=isNaN(f)?NaN:f>0?1:r}return this.makeOutput(a,e.shape,"float32")},n.prototype.fusedConv2d=function(e){var h=e.bias,f=e.activation,m=e.preluActivationWeights,b=this.conv2d(e.input,e.filter,e.convInfo);return h&&(b=this.add(b,h)),f&&(b=Zp(this,b,f,m)),b},n.prototype.conv2d=function(e,r,a){Zn([e,r],"conv2d");for(var c=a.filterHeight,h=a.filterWidth,f=a.dilationHeight,m=a.dilationWidth,b=a.padInfo.left,_=a.padInfo.top,I="channelsLast"===a.dataFormat,D=cr(a.outShape,e.dtype),T=e.strides[0],z=I?e.strides[1]:e.strides[2],J=I?e.strides[2]:1,ee=I?1:e.strides[1],ne=D.strides[0],me=I?D.strides[1]:D.strides[2],be=I?D.strides[2]:1,pe=I?1:D.strides[1],Ie=this.readSync(e.dataId),Ye=this.readSync(r.dataId),kt=D.values,It=0;It<a.batchSize;++It)for(var vt=It*T,bt=It*ne,en=0;en<a.outHeight;++en)for(var Kt=bt+en*me,Sn=en*a.strideHeight-_,Fn=0;Fn<c;Fn++){var jn=Sn+Fn*f;if(!(jn<0||jn>=a.inHeight))for(var er=Fn*r.strides[0],qn=vt+jn*z,Vn=0;Vn<a.outWidth;++Vn)for(var tr=Kt+Vn*be,or=Vn*a.strideWidth-b,zr=0;zr<h;zr++){var io=or+zr*m;if(!(io<0||io>=a.inWidth))for(var yo=qn+io*J,Qo=er+zr*r.strides[1],ei=0;ei<a.inChannels;++ei){for(var si=Ie[yo+ei*ee],gi=0;gi<a.outChannels;++gi)kt[tr+gi*pe]+=si*Ye[Qo+gi];Qo+=a.outChannels}}}return D.toTensor()},n.prototype.conv3d=function(e,r,a){for(var c=a.filterDepth,h=a.filterHeight,f=a.filterWidth,m=a.dilationDepth,b=a.dilationHeight,_=a.dilationWidth,I=a.padInfo.front,D=a.padInfo.left,T=a.padInfo.top,z=cr(a.outShape,e.dtype),J=this.readSync(e.dataId),ee=this.readSync(r.dataId),ne=z.values,me=0;me<a.batchSize;++me)for(var be=me*e.strides[0],pe=me*z.strides[0],Ie=0;Ie<a.outDepth;++Ie)for(var Ye=pe+Ie*z.strides[1],kt=Ie*a.strideDepth-I,It=0;It<c;It++){var vt=kt+It*m;if(!(vt<0||vt>=a.inDepth))for(var bt=It*r.strides[0],en=be+vt*e.strides[1],Kt=0;Kt<a.outHeight;++Kt)for(var Sn=Ye+Kt*z.strides[2],Fn=Kt*a.strideHeight-T,jn=0;jn<h;jn++){var er=Fn+jn*b;if(!(er<0||er>=a.inHeight))for(var qn=bt+jn*r.strides[1],Vn=en+er*e.strides[2],tr=0;tr<a.outWidth;++tr)for(var or=Sn+tr*a.outChannels,zr=tr*a.strideWidth-D,io=0;io<f;io++){var yo=zr+io*_;if(!(yo<0||yo>=a.inWidth))for(var ei=Vn+yo*a.inChannels,si=qn+io*r.strides[2],gi=0;gi<a.inChannels;++gi){for(var pi=J[ei+gi],vi=0;vi<a.outChannels;++vi)ne[or+vi]+=pi*ee[si+vi];si+=a.outChannels}}}}return z.toTensor()},n.prototype.conv2dDerInput=function(e,r,a){Zn([e,r],"conv2dDerInput");for(var c=cr(a.inShape,"float32"),h=c.values,f=this.readSync(e.dataId),m=this.readSync(r.dataId),b=r.strides,_=b[0],I=b[1],D=b[2],T=a.batchSize,z=a.filterHeight,J=a.filterWidth,ee=a.inChannels,ne=a.inHeight,me=a.inWidth,be=a.outChannels,pe=a.outHeight,Ie=a.outWidth,Ye=a.strideHeight,kt=a.strideWidth,vt=z-1-a.padInfo.top,bt=J-1-a.padInfo.left,en="channelsLast"===a.dataFormat,Kt=c.strides[0],Sn=en?c.strides[1]:c.strides[2],Fn=en?c.strides[2]:1,jn=en?1:c.strides[1],er=e.strides[0],qn=en?e.strides[1]:e.strides[2],Vn=en?e.strides[2]:1,tr=en?1:e.strides[1],or=0;or<T;++or)for(var zr=0;zr<ee;++zr)for(var io=0;io<ne;++io)for(var yo=io-vt,Qo=Math.max(0,Math.ceil(yo/Ye)),ei=Math.min(pe,(z+yo)/Ye),si=0;si<me;++si){for(var gi=si-bt,pi=Math.max(0,Math.ceil(gi/kt)),vi=Math.min(Ie,(J+gi)/kt),$a=0,mi=Qo;mi<ei;++mi)for(var ji=mi*Ye-yo,Si=pi;Si<vi;++Si)for(var va=er*or+qn*mi+Vn*Si,sa=_*(z-1-ji)+I*(J-1-(Si*kt-gi))+D*zr,Ca=0;Ca<be;++Ca)$a+=f[va+tr*Ca]*m[sa+Ca];h[Kt*or+Sn*io+Fn*si+jn*zr]=$a}return c.toTensor()},n.prototype.conv3dDerInput=function(e,r,a){for(var c=cr(a.inShape,"float32"),h=c.values,f=c.strides,m=f[0],b=f[1],_=f[2],I=f[3],D=this.readSync(e.dataId),T=e.strides,z=T[0],J=T[1],ee=T[2],ne=T[3],me=this.readSync(r.dataId),be=r.strides,pe=be[0],Ie=be[1],Ye=be[2],kt=be[3],It=a.batchSize,vt=a.filterDepth,bt=a.filterHeight,en=a.filterWidth,Kt=a.inChannels,Sn=a.inDepth,Fn=a.inHeight,jn=a.inWidth,er=a.outChannels,qn=a.outDepth,Vn=a.outHeight,tr=a.outWidth,or=a.strideDepth,zr=a.strideHeight,io=a.strideWidth,yo=vt-1-a.padInfo.front,Qo=bt-1-a.padInfo.top,ei=en-1-a.padInfo.left,si=0;si<It;++si)for(var gi=0;gi<Kt;++gi)for(var pi=0;pi<Sn;++pi)for(var vi=pi-yo,$a=Math.max(0,Math.ceil(vi/or)),mi=Math.min(qn,(vt+vi)/or),ji=0;ji<Fn;++ji)for(var Si=ji-Qo,va=Math.max(0,Math.ceil(Si/zr)),sa=Math.min(Vn,(bt+Si)/zr),Ca=0;Ca<jn;++Ca){for(var Cc=Ca-ei,Ic=Math.max(0,Math.ceil(Cc/io)),gl=Math.min(tr,(en+Cc)/io),Xf=0,su=$a;su<mi;++su)for(var ld=su*or-vi,lu=va;lu<sa;++lu)for(var Kf=lu*zr-Si,Ec=Ic;Ec<gl;++Ec)for(var cu=z*si+J*su+ee*lu+ne*Ec,Yl=pe*(vt-1-ld)+Ie*(bt-1-Kf)+Ye*(en-1-(Ec*io-Cc))+kt*gi,ql=0;ql<er;++ql)Xf+=D[cu+ql]*me[Yl+ql];h[m*si+b*pi+_*ji+I*Ca+gi]=Xf}return c.toTensor()},n.prototype.conv2dDerFilter=function(e,r,a){Zn([e,r],"conv2dDerFilter");for(var c=a.strideHeight,h=a.strideWidth,f=a.filterHeight,m=a.filterWidth,b="channelsLast"===a.dataFormat,_=cr(a.filterShape,"float32"),I=a.padInfo.left,D=a.padInfo.top,T=this.bufferSync(e),z=this.bufferSync(r),J=0;J<f;++J)for(var ee=Math.max(0,Math.ceil((D-J)/c)),ne=Math.min(a.outHeight,(a.inHeight+D-J)/c),me=0;me<m;++me)for(var be=Math.max(0,Math.ceil((I-me)/h)),pe=Math.min(a.outWidth,(a.inWidth+I-me)/h),Ie=0;Ie<a.inChannels;++Ie)for(var Ye=0;Ye<a.outChannels;++Ye){for(var kt=0,It=0;It<a.batchSize;++It)for(var vt=ee;vt<ne;++vt)for(var bt=J+vt*c-D,en=be;en<pe;++en){var Kt=me+en*h-I;kt+=b?T.get(It,bt,Kt,Ie)*z.get(It,vt,en,Ye):T.get(It,Ie,bt,Kt)*z.get(It,Ye,vt,en)}_.set(kt,J,me,Ie,Ye)}return _.toTensor()},n.prototype.conv3dDerFilter=function(e,r,a){for(var c=a.strideDepth,h=a.strideHeight,f=a.strideWidth,m=a.filterDepth,b=a.filterHeight,_=a.filterWidth,I=cr(a.filterShape,"float32"),D=I.values,T=I.strides,z=T[0],J=T[1],ee=T[2],ne=T[3],me=this.readSync(r.dataId),be=r.strides,pe=be[0],Ie=be[1],Ye=be[2],kt=be[3],It=this.readSync(e.dataId),vt=e.strides,bt=vt[0],en=vt[1],Kt=vt[2],Sn=vt[3],Fn=a.padInfo.front,jn=a.padInfo.left,er=a.padInfo.top,qn=0;qn<m;++qn)for(var Vn=Math.max(0,Math.ceil((Fn-qn)/c)),tr=Math.min(a.outDepth,(a.inDepth+Fn-qn)/c),or=qn*z,zr=0;zr<b;++zr)for(var io=Math.max(0,Math.ceil((er-zr)/h)),yo=Math.min(a.outHeight,(a.inHeight+er-zr)/h),Qo=zr*J+or,ei=0;ei<_;++ei)for(var si=Math.max(0,Math.ceil((jn-ei)/f)),gi=Math.min(a.outWidth,(a.inWidth+jn-ei)/f),pi=ei*ee+Qo,vi=0;vi<a.inChannels;++vi)for(var $a=vi*ne+pi,mi=0;mi<a.outChannels;++mi){for(var ji=0,Si=0;Si<a.batchSize;++Si)for(var va=Si*bt,sa=Si*pe,Ca=Vn;Ca<tr;++Ca)for(var Cc=(qn+Ca*c-Fn)*en+va,Ic=Ca*Ie+sa,gl=io;gl<yo;++gl)for(var Xf=(zr+gl*h-er)*Kt+Cc,su=gl*Ye+Ic,ld=si;ld<gi;++ld)ji+=It[(ei+ld*f-jn)*Sn+Xf+vi]*me[ld*kt+su+mi];D[$a+mi]=ji}return I.toTensor()},n.prototype.fusedDepthwiseConv2D=function(e){var h=e.bias,f=e.activation,m=e.preluActivationWeights,b=this.depthwiseConv2D(e.input,e.filter,e.convInfo);return h&&(b=this.add(b,h)),f&&(b=Zp(this,b,f,m)),b},n.prototype.depthwiseConv2D=function(e,r,a){Zn([e,r],"depthwiseConv2D");for(var c=a.filterHeight,h=a.filterWidth,f=a.dilationHeight,m=a.dilationWidth,b=a.padInfo.left,_=a.padInfo.top,I=a.outChannels/a.inChannels,D=cr(a.outShape,e.dtype),T=this.readSync(e.dataId),z=this.readSync(r.dataId),J=D.values,ee=0;ee<a.batchSize;++ee)for(var ne=ee*e.strides[0],me=ee*D.strides[0],be=0;be<a.outHeight;++be)for(var pe=me+be*D.strides[1],Ie=be*a.strideHeight-b,Ye=0;Ye<c;++Ye){var kt=Ie+Ye*f;if(!(kt<0||kt>=a.inHeight))for(var It=Ye*r.strides[0],vt=ne+kt*e.strides[1],bt=0;bt<a.outWidth;++bt)for(var en=pe+bt*D.strides[2],Kt=bt*a.strideWidth-_,Sn=0;Sn<h;++Sn){var Fn=Kt+Sn*m;if(!(Fn<0||Fn>=a.inWidth))for(var er=vt+Fn*a.inChannels,qn=en,Vn=It+Sn*r.strides[1],tr=0;tr<a.inChannels;++tr){for(var or=T[er+tr],zr=0;zr<I;++zr)J[qn+zr]+=or*z[Vn+zr];qn+=I,Vn+=I}}}return D.toTensor()},n.prototype.depthwiseConv2DDerInput=function(e,r,a){Zn([e,r],"depthwiseConv2DDerInput");for(var c=cr(a.inShape,"float32"),h=c.values,f=c.strides,m=f[0],b=f[1],_=f[2],I=this.readSync(e.dataId),D=e.strides,T=D[0],z=D[1],J=D[2],ee=this.readSync(r.dataId),ne=r.strides,me=ne[0],be=ne[1],pe=ne[2],Ie=a.batchSize,Ye=a.filterHeight,kt=a.filterWidth,It=a.inChannels,vt=a.inHeight,bt=a.inWidth,Kt=a.outHeight,Sn=a.outWidth,Fn=a.strideHeight,jn=a.strideWidth,er=Ye-1-a.padInfo.top,qn=kt-1-a.padInfo.left,Vn=a.outChannels/It,tr=0;tr<Ie;++tr)for(var or=0;or<It;++or)for(var zr=0;zr<vt;++zr)for(var io=zr-er,yo=Math.max(0,Math.ceil(io/Fn)),Qo=Math.min(Kt,(Ye+io)/Fn),ei=0;ei<bt;++ei){for(var si=ei-qn,gi=Math.max(0,Math.ceil(si/jn)),pi=Math.min(Sn,(kt+si)/jn),vi=0,$a=yo;$a<Qo;++$a)for(var mi=$a*Fn-io,ji=gi;ji<pi;++ji)for(var Si=T*tr+z*$a+J*ji,va=me*(Ye-1-mi)+be*(kt-1-(ji*jn-si))+pe*or,sa=0;sa<Vn;++sa)vi+=I[Si+(or*Vn+sa)]*ee[va+sa];h[m*tr+b*zr+_*ei+or]=vi}return c.toTensor()},n.prototype.depthwiseConv2DDerFilter=function(e,r,a){Zn([e,r],"depthwiseConv2DDerFilter");for(var c=a.strideHeight,h=a.strideWidth,f=a.filterHeight,m=a.filterWidth,b=cr(a.filterShape,"float32"),_=a.padInfo.left,I=a.padInfo.top,D=a.outChannels/a.inChannels,T=this.bufferSync(e),z=this.bufferSync(r),J=0;J<f;++J)for(var ee=Math.max(0,Math.ceil((I-J)/c)),ne=Math.min(a.outHeight,(a.inHeight+I-J)/c),me=0;me<m;++me)for(var be=Math.max(0,Math.ceil((_-me)/h)),pe=Math.min(a.outWidth,(a.inWidth+_-me)/h),Ie=0;Ie<a.outChannels;++Ie){for(var Ye=Math.trunc(Ie/D),kt=Ie%D,It=0,vt=0;vt<a.batchSize;++vt)for(var bt=ee;bt<ne;++bt)for(var en=J+bt*c-I,Kt=be;Kt<pe;++Kt)It+=T.get(vt,en,me+Kt*h-_,Ye)*z.get(vt,bt,Kt,Ie);b.set(It,J,me,Ye,kt)}return b.toTensor()},n.prototype.tile=function(e,r){return Zn(e,"tile"),gs(this.bufferSync(e),r)},n.prototype.pad=function(e,r,a){Zn(e,"pad");var c=r.map(function(D,T){return D[0]+e.shape[T]+D[1]}),h=r.map(function(D){return D[0]}),f=this.bufferSync(e),m=cr(c,e.dtype);0!==a&&m.values.fill(a);for(var b=0;b<e.size;b++){var _=f.indexToLoc(b),I=_.map(function(D,T){return D+h[T]});m.set.apply(m,[f.get.apply(f,_)].concat(I))}return m.toTensor()},n.prototype.transpose=function(e,r){Zn(e,"transpose");for(var a=new Array(e.rank),c=0;c<a.length;c++)a[c]=e.shape[r[c]];var h=this.readSync(e.dataId),f=cr(a,e.dtype),m=this.bufferSync(e);for(c=0;c<e.size;++c){for(var b=m.indexToLoc(c),_=new Array(b.length),I=0;I<_.length;I++)_[I]=b[r[I]];var D=f.locToIndex(_);f.values[D]=h[c]}return f.toTensor()},n.prototype.gather=function(e,r,a){Zn([e,r],"gather");var c=e.shape.slice(),h=this.readSync(r.dataId);c[a]=h.length;for(var f=cr(c,e.dtype),m=this.bufferSync(e),b=0;b<f.size;++b){var _=f.indexToLoc(b),I=_.slice();I[a]=h[_[a]];var D=m.locToIndex(I);f.values[b]=m.values[D]}return f.toTensor()},n.prototype.batchToSpaceND=function(e,r,a){Zn([e],"batchToSpaceND");var c=r.reduce(function(I,D){return I*D}),h=Ns(e.shape,r,c),f=Rl(h.length,r.length),m=Ws(e.shape,r,c),b=rc(a,r.length),_=oc(m,a,r.length);return e.reshape(h).transpose(f).reshape(m).slice(b,_)},n.prototype.spaceToBatchND=function(e,r,a){Zn([e],"spaceToBatchND");var c=r.reduce(function(D,T){return D*T}),h=[[0,0]];h.push.apply(h,a);for(var f=1+r.length;f<e.shape.length;++f)h.push([0,0]);var m=e.pad(h),b=Ns(m.shape,r,c,!1),_=Rl(b.length,r.length,!1),I=Ws(m.shape,r,c,!1);return m.reshape(b).transpose(_).reshape(I)},n.prototype.pool=function(e,r,a){Zn(e,"pool");for(var c=r.strideHeight,h=r.strideWidth,f=r.dilationHeight,m=r.dilationWidth,b=r.effectiveFilterHeight,_=r.effectiveFilterWidth,I=r.padInfo.top,D=r.padInfo.left,T="max"===a?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,z=this.readSync(e.dataId),J=cr(r.outShape,e.dtype),ee=J.values,ne=r.outShape[1]*r.outShape[2]*r.outShape[3],me=r.outShape[2]*r.outShape[3],be=r.outShape[3],pe=0;pe<r.batchSize;++pe)for(var Ie=pe*ne,Ye=pe*e.strides[0],kt=0;kt<r.inChannels;++kt)for(var It=0;It<r.outHeight;++It)for(var vt=It*c-I,bt=Math.max(0,vt),en=Math.min(r.inHeight,b+vt),Kt=Ie+It*me,Sn=0;Sn<r.outWidth;++Sn){for(var Fn=Sn*h-D,jn=Math.max(0,Fn),er=Math.min(r.inWidth,_+Fn),qn=T,Vn=0,tr=0,or=bt;or<en;or+=f){for(var zr=Ye+or*e.strides[1],io=jn;io<er;io+=m){var yo=z[zr+io*e.strides[2]+kt];"max"===a&&yo>qn?qn=yo:"avg"===a&&(Vn+=yo,tr++)}if(isNaN(qn))break}ee[Kt+Sn*be+kt]="avg"===a?Vn/tr:qn}return J.toTensor()},n.prototype.maxPool=function(e,r){return this.pool(e,r,"max")},n.prototype.maxPoolPositions=function(e,r){for(var a=cr(r.outShape,"int32"),c=r.strideHeight,h=r.strideWidth,f=r.dilationHeight,m=r.dilationWidth,b=r.effectiveFilterHeight,_=r.effectiveFilterWidth,I=r.padInfo.top,D=r.padInfo.left,T=this.bufferSync(e),z=0;z<r.batchSize;++z)for(var J=0;J<r.inChannels;++J)for(var ee=0;ee<r.outHeight;++ee){for(var ne=ee*c-I,me=ne;me<0;)me+=f;for(var be=Math.min(r.inHeight,b+ne),pe=0;pe<r.outWidth;++pe){for(var Ie=pe*h-D,Ye=Ie;Ye<0;)Ye+=m;for(var kt=Math.min(r.inWidth,_+Ie),It=Number.NEGATIVE_INFINITY,vt=-1,bt=me;bt<be;bt+=f)for(var en=bt-ne,Kt=Ye;Kt<kt;Kt+=m){var Sn=Kt-Ie,Fn=T.get(z,bt,Kt,J);Fn>It&&(It=Fn,vt=en*_+Sn)}a.set(vt,z,ee,pe,J)}}return a.toTensor()},n.prototype.maxPoolBackprop=function(e,r,a,c){Zn([r,a],"maxPoolBackprop");for(var h=this.maxPoolPositions(r,c),f=c.strideHeight,m=c.strideWidth,b=c.dilationHeight,_=c.dilationWidth,I=c.effectiveFilterHeight,D=c.effectiveFilterWidth,T=D-1-c.padInfo.left,z=I-1-c.padInfo.top,J=cr(r.shape,"float32"),ee=this.bufferSync(h),ne=this.bufferSync(e),me=0;me<c.batchSize;++me)for(var be=0;be<c.inChannels;++be)for(var pe=0;pe<c.inHeight;++pe)for(var Ie=0;Ie<c.inWidth;++Ie){for(var Ye=pe-z,kt=Ie-T,It=0,vt=0;vt<I;vt+=b){var bt=(Ye+vt)/f;if(!(bt<0||bt>=c.outHeight||Math.floor(bt)!==bt))for(var en=0;en<D;en+=_){var Kt=(kt+en)/m;if(!(Kt<0||Kt>=c.outWidth||Math.floor(Kt)!==Kt)){var Sn=I*D-1-ee.get(me,bt,Kt,be)===vt*D+en?1:0;0!==Sn&&(It+=ne.get(me,bt,Kt,be)*Sn)}}}J.set(It,me,pe,Ie,be)}return J.toTensor()},n.prototype.avgPoolBackprop=function(e,r,a){Zn([e,r],"avgPoolBackprop");for(var c=a.strideHeight,h=a.strideWidth,f=a.filterHeight,m=a.filterWidth,b=a.dilationHeight,_=a.dilationWidth,I=a.effectiveFilterHeight,D=a.effectiveFilterWidth,T=D-1-a.padInfo.left,z=I-1-a.padInfo.top,J=cr(r.shape,"float32"),ee=1/(f*m),ne=this.bufferSync(e),me=0;me<a.batchSize;++me)for(var be=0;be<a.inChannels;++be)for(var pe=0;pe<a.inHeight;++pe)for(var Ie=0;Ie<a.inWidth;++Ie){for(var Ye=pe-z,kt=Ie-T,It=0,vt=0;vt<I;vt+=b){var bt=(Ye+vt)/c;if(!(bt<0||bt>=a.outHeight||Math.floor(bt)!==bt))for(var en=0;en<D;en+=_){var Kt=(kt+en)/h;Kt<0||Kt>=a.outWidth||Math.floor(Kt)!==Kt||(It+=ne.get(me,bt,Kt,be))}}J.set(It*ee,me,pe,Ie,be)}return J.toTensor()},n.prototype.pool3d=function(e,r,a){Zn(e,"pool3d");for(var c=r.strideDepth,h=r.strideHeight,f=r.strideWidth,m=r.dilationDepth,b=r.dilationHeight,_=r.dilationWidth,I=r.effectiveFilterDepth,D=r.effectiveFilterHeight,T=r.effectiveFilterWidth,z=r.padInfo.front,J=r.padInfo.top,ee=r.padInfo.left,ne="max"===a?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,me=this.readSync(e.dataId),be=cr(r.outShape,e.dtype),pe=be.values,Ie=r.outShape[1]*r.outShape[2]*r.outShape[3]*r.outShape[4],Ye=r.outShape[2]*r.outShape[3]*r.outShape[4],kt=r.outShape[3]*r.outShape[4],It=r.outShape[4],vt=0;vt<r.batchSize;++vt)for(var bt=vt*Ie,en=vt*e.strides[0],Kt=0;Kt<r.inChannels;++Kt)for(var Sn=0;Sn<r.outDepth;++Sn){for(var Fn=Sn*c-z,jn=Fn;jn<0;)jn+=m;for(var er=Math.min(r.inDepth,I+Fn),qn=bt+Sn*Ye,Vn=0;Vn<r.outHeight;++Vn){for(var tr=Vn*h-J,or=tr;or<0;)or+=b;for(var zr=Math.min(r.inHeight,D+tr),io=qn+Vn*kt,yo=0;yo<r.outWidth;++yo){for(var Qo=yo*f-ee,ei=Qo;ei<0;)ei+=_;for(var si=Math.min(r.inWidth,T+Qo),gi=io+yo*It,pi=ne,vi=0,$a=0,mi=jn;mi<er;mi+=m){for(var ji=en+mi*e.strides[1],Si=or;Si<zr;Si+=b){for(var va=ji+Si*e.strides[2],sa=ei;sa<si;sa+=_){var Ca=me[va+sa*e.strides[3]+Kt];if("max"===a&&Ca>pi?pi=Ca:"avg"===a&&(vi+=Ca,$a++),isNaN(pi))break}if(isNaN(pi))break}if(isNaN(pi))break}pe[gi+Kt]="avg"===a?vi/$a:pi}}}return be.toTensor()},n.prototype.avgPool3d=function(e,r){return Zn(e,"avgPool3d"),this.pool3d(e,r,"avg").toFloat()},n.prototype.avgPool3dBackprop=function(e,r,a){Zn([e,r],"avgPool3dBackprop");for(var c=a.strideDepth,h=a.strideHeight,f=a.strideWidth,m=a.filterDepth,b=a.filterHeight,_=a.filterWidth,I=a.dilationDepth,D=a.dilationHeight,T=a.dilationWidth,z=a.effectiveFilterDepth,J=a.effectiveFilterHeight,ee=a.effectiveFilterWidth,ne=z-1-a.padInfo.front,me=ee-1-a.padInfo.left,be=J-1-a.padInfo.top,pe=cr(r.shape,"float32"),Ie=1/(m*b*_),Ye=this.bufferSync(e),kt=0;kt<a.batchSize;++kt)for(var It=0;It<a.inChannels;++It)for(var vt=0;vt<a.inDepth;++vt)for(var bt=0;bt<a.inHeight;++bt)for(var en=0;en<a.inWidth;++en){for(var Kt=vt-ne,Sn=bt-be,Fn=en-me,jn=0,er=0;er<z;er+=I){var qn=(Kt+er)/c;if(!(qn<0||qn>=a.outDepth||Math.floor(qn)!==qn))for(var Vn=0;Vn<J;Vn+=D){var tr=(Sn+Vn)/h;if(!(tr<0||tr>=a.outHeight||Math.floor(tr)!==tr))for(var or=0;or<ee;or+=T){var zr=(Fn+or)/f;zr<0||zr>=a.outWidth||Math.floor(zr)!==zr||(jn+=Ye.get(kt,qn,tr,zr,It))}}}pe.set(jn*Ie,kt,vt,bt,en,It)}return pe.toTensor()},n.prototype.maxPool3d=function(e,r){return Zn(e,"maxPool3d"),this.pool3d(e,r,"max").toFloat()},n.prototype.maxPool3dPositions=function(e,r){for(var a=cr(r.outShape,"int32"),c=r.strideDepth,h=r.strideHeight,f=r.strideWidth,m=r.dilationDepth,b=r.dilationHeight,_=r.dilationWidth,I=r.effectiveFilterDepth,D=r.effectiveFilterHeight,T=r.effectiveFilterWidth,z=r.padInfo.front,J=r.padInfo.top,ee=r.padInfo.left,ne=this.bufferSync(e),me=0;me<r.batchSize;++me)for(var be=0;be<r.inChannels;++be)for(var pe=0;pe<r.outDepth;++pe){for(var Ie=pe*c-z,Ye=Ie;Ye<0;)Ye+=m;for(var kt=Math.min(r.inDepth,I+Ie),It=0;It<r.outHeight;++It){for(var vt=It*h-J,bt=vt;bt<0;)bt+=b;for(var en=Math.min(r.inHeight,D+vt),Kt=0;Kt<r.outWidth;++Kt){for(var Sn=Kt*f-ee,Fn=Sn;Fn<0;)Fn+=_;for(var jn=Math.min(r.inWidth,T+Sn),er=Number.NEGATIVE_INFINITY,qn=-1,Vn=Ye;Vn<kt;Vn+=m)for(var tr=Vn-Ie,or=bt;or<en;or+=b)for(var zr=or-vt,io=Fn;io<jn;io+=_){var yo=io-Sn,Qo=ne.get(me,Vn,or,io,be);Qo>=er&&(er=Qo,qn=tr*D*T+zr*D+yo)}a.set(qn,me,pe,It,Kt,be)}}}return a.toTensor()},n.prototype.maxPool3dBackprop=function(e,r,a,c){Zn([r,a],"maxPool3dBackprop");for(var h=this.maxPool3dPositions(r,c),f=c.strideDepth,m=c.strideHeight,b=c.strideWidth,_=c.dilationDepth,I=c.dilationHeight,D=c.dilationWidth,T=c.effectiveFilterDepth,z=c.effectiveFilterHeight,J=c.effectiveFilterWidth,ee=T-1-c.padInfo.front,ne=J-1-c.padInfo.left,me=z-1-c.padInfo.top,be=cr(r.shape,"float32"),pe=this.bufferSync(h),Ie=this.bufferSync(e),Ye=0;Ye<c.batchSize;++Ye)for(var kt=0;kt<c.inChannels;++kt)for(var It=0;It<c.inDepth;++It)for(var vt=0;vt<c.inHeight;++vt)for(var bt=0;bt<c.inWidth;++bt){for(var en=It-ee,Kt=vt-me,Sn=bt-ne,Fn=0,jn=0;jn<T;jn+=_){var er=(en+jn)/f;if(!(er<0||er>=c.outDepth||Math.floor(er)!==er))for(var qn=0;qn<z;qn+=I){var Vn=(Kt+qn)/m;if(!(Vn<0||Vn>=c.outHeight||Math.floor(Vn)!==Vn))for(var tr=0;tr<J;tr+=D){var or=(Sn+tr)/b;if(!(or<0||or>=c.outWidth||Math.floor(or)!==or)){var zr=T*z*J-1-pe.get(Ye,er,Vn,or,kt)===jn*z*J+qn*J+tr?1:0;0!==zr&&(Fn+=Ie.get(Ye,er,Vn,or,kt)*zr)}}}}be.set(Fn,Ye,It,vt,bt,kt)}return be.toTensor()},n.prototype.cast=function(e,r){return Xs(e,r,this)},n.prototype.reshape=function(e,r){return ms(e,r)},n.prototype.avgPool=function(e,r){return Zn(e,"avgPool"),this.pool(e,r,"avg").toFloat()},n.prototype.resizeBilinear=function(e,r,a,c){Zn(e,"resizeBilinear");for(var h=e.shape,f=h[0],m=h[1],b=h[2],_=h[3],I=this.readSync(e.dataId),D=new Float32Array(He([f,r,a,_])),T=[c&&r>1?m-1:m,c&&a>1?b-1:b],z=[c&&r>1?r-1:r,c&&a>1?a-1:a],J=0,ee=T[0]/z[0],ne=T[1]/z[1],me=0;me<f;me++)for(var be=0;be<r;be++)for(var pe=ee*be,Ie=Math.floor(pe),Ye=pe-Ie,kt=Math.min(m-1,Math.ceil(pe)),It=me*e.strides[0]+Ie*e.strides[1],vt=me*e.strides[0]+kt*e.strides[1],bt=0;bt<a;bt++)for(var en=ne*bt,Kt=Math.floor(en),Sn=en-Kt,Fn=Math.min(b-1,Math.ceil(en)),jn=It+Kt*e.strides[2],er=vt+Kt*e.strides[2],qn=It+Fn*e.strides[2],Vn=vt+Fn*e.strides[2],tr=0;tr<_;tr++){var or=I[jn+tr],zr=I[er+tr],io=or+(I[qn+tr]-or)*Sn;D[J++]=io+(zr+(I[Vn+tr]-zr)*Sn-io)*Ye}return gt(D,[f,r,a,_])},n.prototype.resizeBilinearBackprop=function(e,r,a){Zn([e,r],"resizeBilinearBackprop");for(var c=r.shape,h=c[0],f=c[1],m=c[2],b=c[3],_=e.shape,I=_[1],D=_[2],T=new Float32Array(h*f*m*b),z=[a&&I>1?f-1:f,a&&D>1?m-1:m],J=[a&&I>1?I-1:I,a&&D>1?D-1:D],ee=z[0]/J[0],ne=z[1]/J[1],me=this.readSync(e.dataId),be=0,pe=0;pe<h;pe++)for(var Ie=pe*r.strides[0],Ye=0;Ye<I;Ye++)for(var kt=Ye*ee,It=Math.floor(kt),vt=Math.min(Math.ceil(kt),f-1),bt=Ie+It*r.strides[1],en=Ie+vt*r.strides[1],Kt=kt-It,Sn=1-Kt,Fn=0;Fn<D;Fn++)for(var jn=Fn*ne,er=Math.floor(jn),qn=Math.min(Math.ceil(jn),m-1),Vn=jn-er,tr=1-Vn,or=bt+er*r.strides[2],zr=bt+qn*r.strides[2],io=en+er*r.strides[2],yo=en+qn*r.strides[2],Qo=Sn*tr,ei=Sn*Vn,si=Kt*tr,gi=Kt*Vn,pi=0;pi<b;pi++){var vi=me[be++];T[or+pi]+=vi*Qo,T[zr+pi]+=vi*ei,T[io+pi]+=vi*si,T[yo+pi]+=vi*gi}return Kn(T,[h,m,f,b],r.dtype)},n.prototype.resizeNearestNeighbor=function(e,r,a,c){Zn(e,"resizeNearestNeighbor");for(var h=e.shape,f=h[0],m=h[1],b=h[2],_=h[3],I=this.readSync(e.dataId),D=new Float32Array(f*r*a*_),T=[c&&r>1?m-1:m,c&&a>1?b-1:b],z=[c&&r>1?r-1:r,c&&a>1?a-1:a],J=T[0]/z[0],ee=T[1]/z[1],ne=0,me=0;me<f;me++)for(var be=me*e.strides[0],pe=0;pe<r;pe++)for(var Ie=J*pe,Ye=be+Math.min(m-1,c?Math.round(Ie):Math.floor(Ie))*e.strides[1],kt=0;kt<a;kt++)for(var It=ee*kt,vt=Ye+Math.min(b-1,c?Math.round(It):Math.floor(It))*e.strides[2],bt=0;bt<_;bt++)D[ne++]=I[vt+bt];return gt(D,[f,r,a,_],e.dtype)},n.prototype.resizeNearestNeighborBackprop=function(e,r,a){Zn([e,r],"resizeNearestNeighborBackprop");for(var c=r.shape,h=c[0],f=c[1],m=c[2],b=c[3],_=e.shape,I=_[1],D=_[2],T=new Float32Array(h*f*m*b),z=this.readSync(e.dataId),J=[a&&I>1?f-1:f,a&&D>1?m-1:m],ee=[a&&I>1?I-1:I,a&&D>1?D-1:D],ne=J[0]/ee[0],me=J[1]/ee[1],be=1/ne,pe=1/me,Ie=2*Math.ceil(be)+2,Ye=2*Math.ceil(pe)+2,kt=0;kt<h;kt++)for(var It=kt*r.strides[0],vt=0;vt<f;vt++)for(var bt=It+vt*r.strides[1],en=Math.floor(vt*be),Kt=Math.floor(en-Ie/2),Sn=0;Sn<m;Sn++)for(var Fn=bt+Sn*r.strides[2],jn=Math.floor(Sn*pe),er=Math.floor(jn-Ye/2),qn=0;qn<b;qn++){for(var Vn=0,tr=0;tr<Ie;tr++){var or=tr+Kt;if(!(or<0||or>=I)){var zr=It+or*e.strides[1],io=or*ne;if(vt===Math.min(f-1,a?Math.round(io):Math.floor(io)))for(var yo=0;yo<Ye;yo++){var Qo=yo+er;if(!(Qo<0||Qo>=D)){var ei=zr+Qo*e.strides[2],si=Qo*me;Sn===Math.min(m-1,a?Math.round(si):Math.floor(si))&&(Vn+=z[ei+qn])}}}}T[Fn+qn]=Vn}return Kn(T,r.shape,r.dtype)},n.prototype.batchNormalization=function(e,r,a,c,h,f){Zn([e,r,a,h,f],"batchNorm");for(var m=this.readSync(e.dataId),b=this.readSync(r.dataId),_=this.readSync(a.dataId),I=h?this.readSync(h.dataId):new Float32Array([1]),D=f?this.readSync(f.dataId):new Float32Array([0]),T=new Float32Array(m.length),z=D.length,J=I.length,ee=_.length,ne=b.length,me=0,be=0,pe=0,Ie=0,Ye=0;Ye<m.length;++Ye)T[Ye]=D[me++]+(m[Ye]-b[be++])*I[pe++]/Math.sqrt(_[Ie++]+c),me>=z&&(me=0),be>=ne&&(be=0),pe>=J&&(pe=0),Ie>=ee&&(Ie=0);return Kn(T,e.shape)},n.prototype.localResponseNormalization4D=function(e,r,a,c,h){Zn(e,"localResponseNormalization4D");var f=e.shape[3],m=f-1,b=this.readSync(e.dataId),_=e.size,I=new Float32Array(_);function D(ee){for(var ne=ee%f,me=ee-ne+Math.max(0,ne-r),be=ee-ne+Math.min(ne+r,m),pe=0;me<=be;me++){var Ie=b[me];pe+=Ie*Ie}return pe}for(var T=0;T<_;T++){var z=D(T),J=b[T]*Math.pow(a+c*z,-h);I[T]=J}return Kn(I,e.shape)},n.prototype.LRNGrad=function(e,r,a,c,h,f,m){Zn(e,"LRNGrad");for(var b=e.shape[3],_=this.readSync(e.dataId),I=this.readSync(r.dataId),D=this.readSync(a.dataId),T=new Float32Array(e.size),z=e.size,J=0;J<z;J++){for(var ee=J%b,ne=J-ee+Math.max(0,ee-c),me=J-ee+Math.min(b,ee+c+1),be=0,pe=ne;pe<me;pe++)be+=Math.pow(I[pe],2);for(be=f*be+h,pe=ne;pe<me;pe++){var Ie=-2*f*m*I[pe]*D[J]/be;J===pe&&(Ie+=Math.pow(be,-m)),T[pe]+=Ie*=_[J]}}return Kn(T,e.shape)},n.prototype.multinomial=function(e,r,a,c){Zn(e,"multinomial");for(var h=r?e:Oo(e),f=h.shape[0],m=h.shape[1],b=vo([f,a],"int32"),_=this.readSync(b.dataId),I=this.readSync(h.dataId),D=0;D<f;++D){var T=D*m,z=new Float32Array(m-1);z[0]=I[T];for(var J=1;J<z.length;++J)z[J]=z[J-1]+I[T+J];for(var ee=Ma(c.toString()),ne=D*a,me=0;me<a;++me){var be=ee();_[ne+me]=z.length;for(var pe=0;pe<z.length;pe++)if(be<z[pe]){_[ne+me]=pe;break}}}return b},n.prototype.oneHot=function(e,r,a,c){Zn(e,"oneHot");var h=new Float32Array(e.size*r);h.fill(c);for(var f=this.readSync(e.dataId),m=0;m<e.size;++m)f[m]>=0&&f[m]<r&&(h[m*r+f[m]]=a);return pn(h,[e.size,r],"int32")},n.prototype.nonMaxSuppression=function(e,r,a,c,h){return Zn(e,"nonMaxSuppression"),Ti(this.readSync(e.dataId),this.readSync(r.dataId),a,c,h)},n.prototype.fft=function(e){return this.fftBatch(e,!1)},n.prototype.ifft=function(e){return this.fftBatch(e,!0)},n.prototype.fftBatch=function(e,r){for(var a=e.shape[0],c=e.shape[1],h=cr(e.shape,"float32"),f=cr(e.shape,"float32"),m=je(e).as2D(a,c),b=mt(e).as2D(a,c),_=0;_<a;_++)for(var I=m.slice([_,0],[1,c]),D=b.slice([_,0],[1,c]),T=xe(I,D),z=this.readSync(this.fftImpl(T,r).dataId),J=0;J<c;J++){var ee=bu(z,J);h.values[_*c+J]=ee.real,f.values[_*c+J]=ee.imag}return xe(h.toTensor(),f.toTensor()).as2D(a,c)},n.prototype.fftImpl=function(e,r){var a=e.as1D(),c=a.size;if(this.isExponentOf2(c)){var h=this.fftRadix2(a,c,r).as2D(e.shape[0],e.shape[1]);return r&&(h=xe(je(h).div(Rt(c)),mt(h).div(Rt(c)))),h}var f=this.readSync(e.dataId),m=function(b){for(var _=new Float32Array(b.length/2),I=new Float32Array(b.length/2),D=0;D<b.length;D+=2)_[D/2]=b[D],I[D/2]=b[D+1];return{real:_,imag:I}}(this.fourierTransformByMatmul(f,c,r));return xe(m.real,m.imag).as2D(e.shape[0],e.shape[1])},n.prototype.isExponentOf2=function(e){return!(e&e-1)},n.prototype.fftRadix2=function(e,r,a){if(1===r)return e;var c=this.readSync(e.dataId),h=r/2,f=function(ne){for(var me=Math.ceil(ne.length/4),be=new Float32Array(me),pe=new Float32Array(me),Ie=0;Ie<ne.length;Ie+=4)be[Math.floor(Ie/4)]=ne[Ie],pe[Math.floor(Ie/4)]=ne[Ie+1];return{real:be,imag:pe}}(c),m=xe(f.real,f.imag).as1D(),b=function(ne){for(var me=Math.floor(ne.length/4),be=new Float32Array(me),pe=new Float32Array(me),Ie=2;Ie<ne.length;Ie+=4)be[Math.floor(Ie/4)]=ne[Ie],pe[Math.floor(Ie/4)]=ne[Ie+1];return{real:be,imag:pe}}(c),_=xe(b.real,b.imag).as1D();m=this.fftRadix2(m,h,a),_=this.fftRadix2(_,h,a);var I=function(ne,me){for(var be=new Float32Array(ne/2),pe=new Float32Array(ne/2),Ie=0;Ie<Math.ceil(ne/2);Ie++){var Ye=(me?2:-2)*Math.PI*(Ie/ne);be[Ie]=Math.cos(Ye),pe[Ie]=Math.sin(Ye)}return{real:be,imag:pe}}(r,a),D=xe(I.real,I.imag).mul(_),T=m.add(D),z=m.sub(D),J=je(T).concat(je(z)),ee=mt(T).concat(mt(z));return xe(J,ee).as1D()},n.prototype.fourierTransformByMatmul=function(e,r,a){for(var c=new Float32Array(2*r),h=0;h<r;h++){for(var f=0,m=0,b=0;b<r;b++){var _=ks(h*b,r,a),I=bu(e,b);f+=I.real*_.real-I.imag*_.imag,m+=I.real*_.imag+I.imag*_.real}a&&(f/=r,m/=r),Nl(c,f,m,h)}return c},n.prototype.depthToSpace=function(e,r,a){oe("NHWC"===a,function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+a}),oe(r>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+r});for(var c=e.shape[0],h=e.shape[1],f=e.shape[2],m=e.shape[3],b=h*r,_=f*r,I=m/(r*r),D=this.readSync(e.dataId),T=new Float32Array(c*b*_*I),z=0,J=0;J<c;++J)for(var ee=0;ee<b;++ee)for(var ne=Math.floor(ee/r),me=ee%r,be=0;be<_;++be)for(var pe=Math.floor(be/r),Ie=(me*r+be%r)*I,Ye=0;Ye<I;++Ye)T[z++]=D[Ye+Ie+m*(pe+f*(ne+h*J))];return Kn(T,[c,b,_,I])},n.prototype.broadcastedBinaryOp=function(e,r,a,c){var h=_o(e.shape,r.shape),f=cr(h,a),m=this.readSync(e.dataId),b=this.readSync(r.dataId),_=oi(e.shape,h),I=oi(r.shape,h),D=f.values;if(_.length+I.length===0)for(var T=0;T<D.length;++T)D[T]=c(m[T%m.length],b[T%b.length]);else{var z=this.bufferSync(e),J=this.bufferSync(r),ee=function(ne){var me=f.indexToLoc(ne),be=me.slice(-e.rank);_.forEach(function(kt){return be[kt]=0});var pe=z.locToIndex(be),Ie=me.slice(-r.rank);I.forEach(function(kt){return Ie[kt]=0});var Ye=J.locToIndex(Ie);D[ne]=c(m[pe],b[Ye])};for(T=0;T<D.length;++T)ee(T)}return f.toTensor()},n.prototype.broadcastedBinaryComplexOp=function(e,r,a){var c=_o(e.shape,r.shape),h=cr(c,"float32"),f=cr(c,"float32"),m=this.readSync(e.dataId),b=this.readSync(r.dataId),_=oi(e.shape,c),I=oi(r.shape,c),D=h.values,T=f.values;if(_.length+I.length===0)for(var z=0;z<D.length;z++){var J=z%m.length,ee=z%b.length,ne=a(m[2*J],m[2*J+1],b[2*ee],b[2*ee+1]);D[z]=ne.real,T[z]=ne.imag}else{var me=this.bufferSync(this.data.get(e.dataId).complexTensors.real),be=this.bufferSync(this.data.get(r.dataId).complexTensors.real),pe=function(Ie){var Ye=h.indexToLoc(Ie),kt=Ye.slice(-e.rank);_.forEach(function(Kt){return kt[Kt]=0});var It=me.locToIndex(kt),vt=Ye.slice(-r.rank);I.forEach(function(Kt){return vt[Kt]=0});var bt=be.locToIndex(vt),en=a(m[2*It],m[2*It+1],b[2*bt],b[2*bt+1]);D[Ie]=en.real,T[Ie]=en.imag};for(z=0;z<D.length;z++)pe(z)}return this.complex(h.toTensor(),f.toTensor())},n.prototype.split=function(e,r,a){return ac(e,r,a)},n.prototype.dispose=function(){},n.prototype.floatPrecision=function(){return 32},n.prototype.epsilon=function(){return 1e-7},n.prototype.cropAndResize=function(e,r,a,c,h,f){for(var m=e.shape,b=m[0],_=m[1],I=m[2],D=m[3],T=r.shape[0],z=c[0],J=c[1],ee=cr([T,z,J,D],"float32"),ne=this.readSync(r.dataId),me=this.readSync(a.dataId),be=this.readSync(e.dataId),pe=e.strides,Ie=ee.strides,Ye=0;Ye<T;Ye++){var kt=4*Ye,It=ne[kt],vt=ne[kt+1],bt=ne[kt+2],en=ne[kt+3],Kt=me[Ye];if(!(Kt>=b))for(var Sn=z>1?(bt-It)*(_-1)/(z-1):0,Fn=J>1?(en-vt)*(I-1)/(J-1):0,jn=0;jn<z;jn++){var er=z>1?It*(_-1)+jn*Sn:.5*(It+bt)*(_-1);if(er<0||er>_-1)for(var qn=0;qn<J;qn++)for(var Vn=0;Vn<D;Vn++){var tr=Vn+qn*Ie[2]+jn*Ie[1]+Ye*Ie[0];ee.values[tr]=f}else if("bilinear"===h){var or=Math.floor(er),zr=Math.ceil(er),io=er-or;for(qn=0;qn<J;qn++)if((mi=J>1?vt*(I-1)+qn*Fn:.5*(vt+en)*(I-1))<0||mi>I-1)for(Vn=0;Vn<D;Vn++)ee.values[tr=Vn+qn*Ie[2]+jn*Ie[1]+Ye*Ie[0]]=f;else{var yo=Math.floor(mi),Qo=Math.ceil(mi),ei=mi-yo;for(Vn=0;Vn<D;Vn++){var si=be[tr=Vn+yo*pe[2]+or*pe[1]+Kt*pe[0]],gi=be[tr=Vn+Qo*pe[2]+or*pe[1]+Kt*pe[0]],pi=be[tr=Vn+yo*pe[2]+zr*pe[1]+Kt*pe[0]],vi=si+(gi-si)*ei,$a=pi+(be[tr=Vn+Qo*pe[2]+zr*pe[1]+Kt*pe[0]]-pi)*ei;ee.values[tr=Vn+qn*Ie[2]+jn*Ie[1]+Ye*Ie[0]]=vi+($a-vi)*io}}}else for(qn=0;qn<J;++qn){var mi;if((mi=J>1?vt*(I-1)+qn*Fn:.5*(vt+en)*(I-1))<0||mi>I-1)for(Vn=0;Vn<D;Vn++)ee.values[tr=Vn+qn*Ie[2]+jn*Ie[1]+Ye*Ie[0]]=f;else{var ji=Math.round(mi),Si=Math.round(er);for(Vn=0;Vn<D;Vn++)ee.values[Vn+qn*Ie[2]+jn*Ie[1]+Ye*Ie[0]]=be[Vn+ji*pe[2]+Si*pe[1]+Kt*pe[0]]}}}}return ee.toTensor()},n.prototype.sparseToDense=function(e,r,a,c){var h=bl(0,e,a);return this.scatter(e,r,a,h.outputSize,h.sliceSize,h.numUpdates,h.sliceRank,h.strides,c,!1)},n.prototype.gatherND=function(e,r){var a=r.shape,c=a[a.length-1],h=is(e,r),f=h[0],m=h[1],b=h[2],_=h[3];if(0===m)return gt([],f,e.dtype);for(var I=new Rr([m,b],e.dtype),D=this.readSync(r.dataId),T=this.readSync(e.dataId),z=0;z<m;z++){for(var J=[],ee=0,ne=0;ne<c;ne++){var me=D[z*c+ne];ee+=me*_[ne],J.push(me)}if(ee<0||ee>=e.size/b)throw new Error("Invalid indices: "+J+" does not index into "+e.shape);for(var be=0;be<b;be++)I.values[z*b+be]=T[ee*b+be]}return I.toTensor().reshape(f)},n.prototype.scatterND=function(e,r,a){var c=bl(0,e,a),h=c.sliceRank,f=c.numUpdates,m=c.sliceSize,b=c.strides,_=c.outputSize,I=Rt(0);return this.scatter(e,r,a,_,m,f,h,b,I,!0)},n.prototype.fill=function(e,r,a){var c=Re(a=a||Xr(r),He(e));return c.fill(r),G.makeTensor(c,e,a,this)},n.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported for string tensors");return this.fill(e.shape,1,e.dtype)},n.prototype.zerosLike=function(e){var r=Re(e.dtype,He(e.shape));return this.makeOutput(r,e.shape,e.dtype)},n.prototype.linspace=function(e,r,a){return Fs(e,r,a)},n.prototype.scatter=function(e,r,a,c,h,f,m,b,_,I){var D=[c/h,h],T=this.readSync(e.dataId),z=this.readSync(r.dataId);if(0===c)return gt([],a,r.dtype);var J=new Rr(D,r.dtype);J.values.fill(this.readSync(_.dataId)[0]);for(var ee=0;ee<f;ee++){for(var ne=[],me=0,be=0;be<m;be++){var pe=T[ee*m+be];ne.push(pe),me+=pe*b[be]}if(me<0||me>=c/h)throw new Error("Invalid indices: "+ne+" does not index into "+a);for(var Ie=0;Ie<h;Ie++)I?J.values[me*h+Ie]+=z[ee*h+Ie]:J.values[me*h+Ie]=0===r.rank?z[0]:z[ee*h+Ie]}return J.toTensor().reshape(a)},n}(Di);G.registerBackend("cpu",function(){return new ff},1);for(var Zu=0,pf=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(i){var n=i.inputs,r=i.attrs,c=n.boxes,h=n.scores,m=r.maxOutputSize,b=r.iouThreshold,_=r.scoreThreshold,I=r.softNmsSigma,D=i.backend;Zn(c,"NonMaxSuppressionWithScore");var T=yl(D.data.get(c.dataId).values,D.data.get(h.dataId).values,m,b,_,I);return[T.selectedIndices,T.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(i){var r=i.inputs.x,a=i.backend;Zn(r,"square");for(var c=a.data.get(r.dataId).values,h=new Float32Array(c.length),f=0;f<c.length;++f){var m=c[f];h[f]=m*m}return{dataId:a.write(h,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:Id,backendName:"cpu",kernelFunc:function(i){var n=i.inputs,a=n.a,c=n.b,h=i.backend;Zn([a,c],Id);var f=h.data.get(a.dataId).values,m=h.data.get(c.dataId).values,b=function(D,T,z,J,ee,ne){var me=_o(D,T),be=me.length,pe=vr(me),Ie=fe(ee,He(me)),Ye=D.length,kt=T.length,It=vr(D),vt=vr(T),bt=oi(D,me),en=oi(T,me);if(bt.length+en.length===0)for(var Kt=0;Kt<Ie.length;++Kt)Ie[Kt]=ne(z[Kt%z.length],J[Kt%J.length]);else{var Sn=function(Fn){var jn=fr(Fn,be,pe),er=jn.slice(-Ye);bt.forEach(function(or){return er[or]=0});var qn=lr(er,Ye,It),Vn=jn.slice(-kt);en.forEach(function(or){return Vn[or]=0});var tr=lr(Vn,kt,vt);Ie[Fn]=ne(z[qn],J[tr])};for(Kt=0;Kt<Ie.length;++Kt)Sn(Kt)}return[Ie,me]}(a.shape,c.shape,f,m,a.dtype,function(D,T){var z=D-T;return z*z}),I=b[1];return{dataId:h.write(b[0],I,a.dtype),shape:I,dtype:a.dtype}}}];Zu<pf.length;Zu++)lt(pf[Zu]);for(var yc,Qp=function(i){this.variableNames=["A"];var n=Ja(),e=i[0],r=i[1];this.outputShape=i,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+r+".0, "+e+".0);\n\n        vec4 values = "+n.texture2D+"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "},Jp=function(i){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var n=Ja(),e=i[0],r=i[1];this.outputShape=i,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2("+r+".0, "+e+".0);\n            vec4 values = "+n.texture2D+"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        "+n.output+" = result;\n      }\n    "},mf=0,em=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(i){var e=i.backend,a=i.inputs.pixels,h=typeof HTMLVideoElement<"u"&&a instanceof HTMLVideoElement,f=typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement,m=h?[a.videoWidth,a.videoHeight]:[a.width,a.height],b=m[0],_=m[1],I=[_,b],D=[_,b,i.attrs.numChannels];(f||h)&&(null==yc&&(yc=document.createElement("canvas").getContext("2d")),yc.canvas.width=b,yc.canvas.height=_,yc.drawImage(a,0,0,b,_),a=yc.canvas);var T=e.makeTensorInfo(I,"int32");e.texData.get(T.dataId).usage=Ln.PIXELS,e.gpgpu.uploadPixelDataToTexture(e.getTexture(T.dataId),a);var z=ce().getBool("WEBGL_PACK")?new Jp(D):new Qp(D),J=e.runWebGLProgram(z,[T],"int32");return e.disposeData(T.dataId),J}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(i){var n=i.inputs,e=i.backend,r=i.attrs;la("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var h=n.scores,m=r.maxOutputSize,b=r.iouThreshold,_=r.scoreThreshold,I=r.softNmsSigma,D=e,T=yl(D.readSync(n.boxes.dataId),D.readSync(h.dataId),m,b,_,I);return[T.selectedIndices,T.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(i){var r=i.inputs.x,a=i.backend,c=new Wo(r.shape,"return x * x;");return a.runWebGLProgram(c,[r],r.dtype)}},{kernelName:Id,backendName:"webgl",kernelFunc:function(i){var n=i.inputs,a=n.a,c=n.b,h=i.backend,f=ce().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ys("return (a - b) * (a - b);",a.shape,c.shape):new ki("return (a - b) * (a - b);",a.shape,c.shape);return h.compileAndRun(f,[a,c])}}];mf<em.length;mf++)lt(em[mf]);for(var gf=0,tm=[{kernelName:"Square",gradFunc:function(i,n){var e=n[0];return{x:function(){return i.mul(e.toFloat().mul(2))}}}},{kernelName:Id,gradFunc:function(i,n){var e=n[0],r=n[1],a=Rt(2);return{a:function(){return rs(i,rs(a,Wa(e,r)))},b:function(){return rs(i,rs(a,Wa(r,e)))}}}}];gf<tm.length;gf++)ct(tm[gf]);var pv=function(){function i(){}return i.prototype.fetch=function(n,e){return fetch(n,e)},i.prototype.now=function(){return performance.now()},i.prototype.encode=function(n,e){if("utf-8"!==e&&"utf8"!==e)throw new Error("Browser's encoder only supports utf-8, but got "+e);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(n)},i.prototype.decode=function(n,e){return new TextDecoder(e).decode(n)},i}();ce().get("IS_BROWSER")&&ce().setPlatform("browser",new pv);var dl,mv=function(){function i(){this.util=F(745),this.textEncoder=new this.util.TextEncoder}return i.prototype.fetch=function(n,e){return null!=ce().global.fetch?ce().global.fetch(n,e):(null==dl&&(dl=F(7318)),dl(n,e))},i.prototype.now=function(){var n=process.hrtime();return 1e3*n[0]+n[1]/1e6},i.prototype.encode=function(n,e){if("utf-8"!==e&&"utf8"!==e)throw new Error("Node built-in encoder only supports utf-8, but got "+e);return this.textEncoder.encode(n)},i.prototype.decode=function(n,e){return 0===n.length?"":new this.util.TextDecoder(e).decode(n)},i}();ce().get("IS_NODE")&&ce().setPlatform("node",new mv);var nm={float32:4,int32:4,uint16:2,uint8:1,bool:1},vf=4;function gv(i,n){for(var e={},r=0,a=function(f){var m=f.name,b=f.dtype,_=f.shape,I=He(_),D=void 0;if("quantization"in f){var T=f.quantization;if("uint8"!==T.dtype&&"uint16"!==T.dtype)throw new Error("Weight "+f.name+" has unknown quantization dtype "+T.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var z=nm[T.dtype],J=i.slice(r,r+I*z),ee="uint8"===T.dtype?new Uint8Array(J):new Uint16Array(J);if("float32"===b)D=Float32Array.from(ee,function(Ye){return Ye*T.scale+T.min});else{if("int32"!==b)throw new Error("Unsupported dtype in weight '"+m+"': "+b);D=Int32Array.from(ee,function(Ye){return Math.round(Ye*T.scale+T.min)})}r+=I*z}else if("string"===b){var ne=He(f.shape);D=[];for(var me=0;me<ne;me++){var be=new Uint32Array(i.slice(r,r+vf))[0];r+=vf;var pe=new Uint8Array(i.slice(r,r+be));D.push(pe),r+=be}}else{var Ie=nm[b];if(J=i.slice(r,r+I*Ie),"float32"===b)D=new Float32Array(J);else if("int32"===b)D=new Int32Array(J);else{if("bool"!==b)throw new Error("Unsupported dtype in weight '"+m+"': "+b);D=new Uint8Array(J)}r+=I*Ie}e[m]=gt(D,_,b)},c=0,h=n;c<h.length;c++)a(h[c]);return e}function ab(i){if(null===i)throw new Error("Invalid input value: "+JSON.stringify(i));var n=0,e=[];i.forEach(function(c){if(n+=c.byteLength,e.push(c.byteLength===c.buffer.byteLength?c:new c.constructor(c)),!(c instanceof Float32Array||c instanceof Int32Array||c instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+c.constructor.name)});var r=new Uint8Array(n),a=0;return e.forEach(function(c){r.set(new Uint8Array(c.buffer),a),a+=c.byteLength}),r.buffer}var rm=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function bf(i){return rm?Buffer.byteLength(i):new Blob([i]).size}function yf(i){var n=0;i.forEach(function(a){n+=a.byteLength});var e=new Uint8Array(n),r=0;return i.forEach(function(a){e.set(new Uint8Array(a),r),r+=a.byteLength}),e.buffer}function om(i){for(i=i.trim();i.endsWith("/");)i=i.slice(0,i.length-1);var n=i.split("/");return n[n.length-1]}function Ju(i){if(i.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==i.modelTopology?0:bf(JSON.stringify(i.modelTopology)),weightSpecsBytes:null==i.weightSpecs?0:bf(JSON.stringify(i.weightSpecs)),weightDataBytes:null==i.weightData?0:i.weightData.byteLength}}var Ps=function(){function i(){this.saveRouters=[],this.loadRouters=[]}return i.getInstance=function(){return null==i.instance&&(i.instance=new i),i.instance},i.registerSaveRouter=function(n){i.getInstance().saveRouters.push(n)},i.registerLoadRouter=function(n){i.getInstance().loadRouters.push(n)},i.getSaveHandlers=function(n){return i.getHandlers(n,"save")},i.getLoadHandlers=function(n,e){return i.getHandlers(n,"load",e)},i.getHandlers=function(n,e,r){var a=[];return("load"===e?i.getInstance().loadRouters:i.getInstance().saveRouters).forEach(function(c){var h=c(n,r);null!==h&&a.push(h)}),a},i}(),$l="://",C=function(){function i(){this.managers={}}return i.getInstance=function(){return null==i.instance&&(i.instance=new i),i.instance},i.registerManager=function(n,e){oe(null!=n,function(){return"scheme must not be undefined or null."}),n.endsWith($l)&&(n=n.slice(0,n.indexOf($l))),oe(n.length>0,function(){return"scheme must not be an empty string."});var r=i.getInstance();oe(null==r.managers[n],function(){return"A model store manager is already registered for scheme '"+n+"'."}),r.managers[n]=e},i.getManager=function(n){var e=this.getInstance().managers[n];if(null==e)throw new Error("Cannot find model manager for scheme '"+n+"'");return e},i.getSchemes=function(){return Object.keys(this.getInstance().managers)},i}();function u(i){if(-1===i.indexOf($l))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+C.getSchemes().join(","));return{scheme:i.split($l)[0],path:i.split($l)[1]}}function p(i,n,e){return void 0===e&&(e=!1),we(this,void 0,void 0,function(){var r,a,c,h,f,m,b,_,I;return q(this,function(D){switch(D.label){case 0:return oe(i!==n,function(){return"Old path and new path are the same: '"+i+"'"}),oe((r=Ps.getLoadHandlers(i)).length>0,function(){return"Copying failed because no load handler is found for source URL "+i+"."}),oe(r.length<2,function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+i+"."}),a=r[0],oe((c=Ps.getSaveHandlers(n)).length>0,function(){return"Copying failed because no save handler is found for destination URL "+n+"."}),oe(c.length<2,function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+n+"."}),h=c[0],f=u(i).scheme,m=u(i).path,b=f===u(i).scheme,[4,a.load()];case 1:return _=D.sent(),e&&b?[4,C.getManager(f).removeModel(m)]:[3,3];case 2:D.sent(),D.label=3;case 3:return[4,h.save(_)];case 4:return I=D.sent(),!e||b?[3,6]:[4,C.getManager(f).removeModel(m)];case 5:D.sent(),D.label=6;case 6:return[2,I.modelArtifactsInfo]}})})}var y="models_store",E="model_info_store";function L(){if(!ce().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var i=window||self,n=i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB||i.shimIndexedDB;if(null==n)throw new Error("The current browser does not appear to support IndexedDB.");return n}function re(i){var n=i.result;n.createObjectStore(y,{keyPath:"modelPath"}),n.createObjectStore(E,{keyPath:"modelPath"})}var _e=function(){function i(n){if(this.indexedDB=L(),null==n||!n)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=n}return i.prototype.save=function(n){return we(this,void 0,void 0,function(){return q(this,function(e){if(n.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,n)]})})},i.prototype.load=function(){return we(this,void 0,void 0,function(){return q(this,function(n){return[2,this.databaseAction(this.modelPath)]})})},i.prototype.databaseAction=function(n,e){var r=this;return new Promise(function(a,c){var h=r.indexedDB.open("tensorflowjs",1);h.onupgradeneeded=function(){return re(h)},h.onsuccess=function(){var f=h.result;if(null==e){var m=f.transaction(y,"readonly"),b=m.objectStore(y).get(r.modelPath);b.onsuccess=function(){if(null==b.result)return f.close(),c(new Error("Cannot find model with path '"+r.modelPath+"' in IndexedDB."));a(b.result.modelArtifacts)},b.onerror=function(J){return f.close(),c(b.error)},m.oncomplete=function(){return f.close()}}else{var _,I=Ju(e),D=f.transaction(E,"readwrite"),T=D.objectStore(E),z=T.put({modelPath:r.modelPath,modelArtifactsInfo:I});z.onsuccess=function(){var J=(_=f.transaction(y,"readwrite")).objectStore(y).put({modelPath:r.modelPath,modelArtifacts:e,modelArtifactsInfo:I});J.onsuccess=function(){return a({modelArtifactsInfo:I})},J.onerror=function(ee){var ne=(T=D.objectStore(E)).delete(r.modelPath);ne.onsuccess=function(){return f.close(),c(J.error)},ne.onerror=function(me){return f.close(),c(J.error)}}},z.onerror=function(J){return f.close(),c(z.error)},D.oncomplete=function(){null==_?f.close():_.oncomplete=function(){return f.close()}}}},h.onerror=function(f){return c(h.error)}})},i.URL_SCHEME="indexeddb://",i}(),Ge=function(i){return ce().getBool("IS_BROWSER")&&!Array.isArray(i)&&i.startsWith(_e.URL_SCHEME)?(n=i.slice(_e.URL_SCHEME.length),new _e(n)):null;var n};Ps.registerSaveRouter(Ge),Ps.registerLoadRouter(Ge);var xt=function(){function i(){this.indexedDB=L()}return i.prototype.listModels=function(){return we(this,void 0,void 0,function(){var n=this;return q(this,function(e){return[2,new Promise(function(r,a){var c=n.indexedDB.open("tensorflowjs",1);c.onupgradeneeded=function(){return re(c)},c.onsuccess=function(){var h=c.result,f=h.transaction(E,"readonly"),m=f.objectStore(E).getAll();m.onsuccess=function(){for(var b={},_=0,I=m.result;_<I.length;_++){var D=I[_];b[D.modelPath]=D.modelArtifactsInfo}r(b)},m.onerror=function(b){return h.close(),a(m.error)},f.oncomplete=function(){return h.close()}},c.onerror=function(h){return a(c.error)}})]})})},i.prototype.removeModel=function(n){return we(this,void 0,void 0,function(){var e=this;return q(this,function(r){var a;return n=(a=n).startsWith(_e.URL_SCHEME)?a.slice(_e.URL_SCHEME.length):a,[2,new Promise(function(c,h){var f=e.indexedDB.open("tensorflowjs",1);f.onupgradeneeded=function(){return re(f)},f.onsuccess=function(){var m,b=f.result,_=b.transaction(E,"readwrite"),I=_.objectStore(E),D=I.get(n);D.onsuccess=function(){if(null==D.result)return b.close(),h(new Error("Cannot find model with path '"+n+"' in IndexedDB."));var T=I.delete(n),z=function(){var J=(m=b.transaction(y,"readwrite")).objectStore(y).delete(n);J.onsuccess=function(){return c(D.result.modelArtifactsInfo)},J.onerror=function(ee){return h(D.error)}};T.onsuccess=z,T.onerror=function(J){return z(),b.close(),h(D.error)}},D.onerror=function(T){return b.close(),h(D.error)},_.oncomplete=function(){null==m?b.close():m.oncomplete=function(){return b.close()}}},f.onerror=function(m){return h(f.error)}})]})})},i}();if(ce().getBool("IS_BROWSER"))try{C.registerManager(_e.URL_SCHEME,new xt)}catch{}var Xt="/",hn="tensorflowjs_models",Mn="info",gn="model_topology",Tn="weight_specs",Rn="weight_data",yr="model_metadata";function to(i){return{info:[hn,i,Mn].join(Xt),topology:[hn,i,gn].join(Xt),weightSpecs:[hn,i,Tn].join(Xt),weightData:[hn,i,Rn].join(Xt),modelMetadata:[hn,i,yr].join(Xt)}}function co(i){var n=i.split(Xt);if(n.length<3)throw new Error("Invalid key format: "+i);return n.slice(1,n.length-1).join(Xt)}var Mr=function(){function i(n){if(!ce().getBool("IS_BROWSER")||typeof window>"u"||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==n||!n)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=n,this.keys=to(this.modelPath)}return i.prototype.save=function(n){return we(this,void 0,void 0,function(){var e,r,a;return q(this,function(c){if(n.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");e=JSON.stringify(n.modelTopology),r=JSON.stringify(n.weightSpecs),a=Ju(n);try{return this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,e),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,function(h){if(rm)return Buffer.from(h).toString("base64");for(var f=new Uint8Array(h),m="",b=0,_=f.length;b<_;b++)m+=String.fromCharCode(f[b]);return btoa(m)}(n.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:n.format,generatedBy:n.generatedBy,convertedBy:n.convertedBy,userDefinedMetadata:n.userDefinedMetadata})),[2,{modelArtifactsInfo:a}]}catch{throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+a.modelTopologyBytes+", weightSpecsBytes="+a.weightSpecsBytes+", weightDataBytes="+a.weightDataBytes+".")}return[2]})})},i.prototype.load=function(){return we(this,void 0,void 0,function(){var n,e,r,a,c,h,f;return q(this,function(m){if(null==(n=JSON.parse(this.LS.getItem(this.keys.info))))throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==n.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(e={},null==(r=JSON.parse(this.LS.getItem(this.keys.topology))))throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(e.modelTopology=r,null==(a=JSON.parse(this.LS.getItem(this.keys.weightSpecs))))throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(e.weightSpecs=a,null!=(c=this.LS.getItem(this.keys.modelMetadata))&&(h=JSON.parse(c),e.format=h.format,e.generatedBy=h.generatedBy,e.convertedBy=h.convertedBy,e.userDefinedMetadata=h.userDefinedMetadata),null==(f=this.LS.getItem(this.keys.weightData)))throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return e.weightData=function(b){if(rm){var _=Buffer.from(b,"base64");return _.buffer.slice(_.byteOffset,_.byteOffset+_.byteLength)}for(var I=atob(b),D=new Uint8Array(I.length),T=0;T<I.length;++T)D.set([I.charCodeAt(T)],T);return D.buffer}(f),[2,e]})})},i.URL_SCHEME="localstorage://",i}(),ao=function(i){return ce().getBool("IS_BROWSER")&&!Array.isArray(i)&&i.startsWith(Mr.URL_SCHEME)?(n=i.slice(Mr.URL_SCHEME.length),new Mr(n)):null;var n};Ps.registerSaveRouter(ao),Ps.registerLoadRouter(ao);var Jr=function(){function i(){oe(ce().getBool("IS_BROWSER"),function(){return"Current environment is not a web browser"}),oe(typeof window>"u"||void 0!==window.localStorage,function(){return"Current browser does not appear to support localStorage"}),this.LS=window.localStorage}return i.prototype.listModels=function(){return we(this,void 0,void 0,function(){var n,e,r,a,c,h;return q(this,function(f){for(n={},e=hn+Xt,r=Xt+Mn,a=0;a<this.LS.length;++a)(c=this.LS.key(a)).startsWith(e)&&c.endsWith(r)&&(h=co(c),n[h]=JSON.parse(this.LS.getItem(c)));return[2,n]})})},i.prototype.removeModel=function(n){return we(this,void 0,void 0,function(){var e,r;return q(this,function(a){var c;if(n=(c=n).startsWith(Mr.URL_SCHEME)?c.slice(Mr.URL_SCHEME.length):c,e=to(n),null==this.LS.getItem(e.info))throw new Error("Cannot find model at path '"+n+"'");return r=JSON.parse(this.LS.getItem(e.info)),this.LS.removeItem(e.info),this.LS.removeItem(e.topology),this.LS.removeItem(e.weightSpecs),this.LS.removeItem(e.weightData),[2,r]})})},i}();if(ce().getBool("IS_BROWSER"))try{C.registerManager(Mr.URL_SCHEME,new Jr)}catch{}function Ci(i){return new Promise(function(n){return setTimeout(n)}).then(i)}var wa=function(){function i(n){if(!ce().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");n.startsWith(i.URL_SCHEME)&&(n=n.slice(i.URL_SCHEME.length)),null!=n&&0!==n.length||(n="model"),this.modelTopologyFileName=n+".json",this.weightDataFileName=n+".weights.bin"}return i.prototype.save=function(n){return we(this,void 0,void 0,function(){var e,c,h,f;return q(this,function(m){switch(m.label){case 0:if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(e=window.URL.createObjectURL(new Blob([n.weightData],{type:"application/octet-stream"})),!(n.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return c=window.URL.createObjectURL(new Blob([JSON.stringify({modelTopology:n.modelTopology,format:n.format,generatedBy:n.generatedBy,convertedBy:n.convertedBy,weightsManifest:[{paths:["./"+this.weightDataFileName],weights:n.weightSpecs}]})],{type:"application/json"})),(h=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,h.href=c,[4,Ci(function(){return h.dispatchEvent(new MouseEvent("click"))})];case 2:return m.sent(),null==n.weightData?[3,4]:((f=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,f.href=e,[4,Ci(function(){return f.dispatchEvent(new MouseEvent("click"))})]);case 3:m.sent(),m.label=4;case 4:return[2,{modelArtifactsInfo:Ju(n)}]}})})},i.URL_SCHEME="downloads://",i}(),Ji=function(){function i(n){if(null==n||n.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+n);this.files=n}return i.prototype.load=function(){return we(this,void 0,void 0,function(){var n,e,r=this;return q(this,function(a){return n=this.files[0],e=this.files.slice(1),[2,new Promise(function(c,h){var f=new FileReader;f.onload=function(m){var b=JSON.parse(m.target.result),_=b.modelTopology;if(null!=_){0===e.length&&c({modelTopology:_});var I=b.weightsManifest;if(null!=I){var D;try{D=r.checkManifestAndWeightFiles(I,e)}catch(ee){return void h(ee)}var T=[],z=[],J=[];I.forEach(function(ee){ee.paths.forEach(function(ne){z.push(ne),J.push(null)}),T.push.apply(T,ee.weights)}),I.forEach(function(ee){ee.paths.forEach(function(ne){var me=new FileReader;me.onload=function(be){var pe=be.target.result,Ie=z.indexOf(ne);J[Ie]=pe,-1===J.indexOf(null)&&c({modelTopology:_,weightSpecs:T,weightData:yf(J),format:b.format,generatedBy:b.generatedBy,convertedBy:b.convertedBy,userDefinedMetadata:b.userDefinedMetadata})},me.onerror=function(be){return h("Failed to weights data from file of path '"+ne+"'.")},me.readAsArrayBuffer(D[ne])})})}else h(new Error("weightManifest field is missing from file "+n.name))}else h(new Error("modelTopology field is missing from file "+n.name))},f.onerror=function(m){return h("Failed to read model topology and weights manifest JSON from file '"+n.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},f.readAsText(n)})]})})},i.prototype.checkManifestAndWeightFiles=function(n,e){for(var r=[],a=e.map(function(m){return om(m.name)}),c={},h=0,f=n;h<f.length;h++)f[h].paths.forEach(function(m){var b=om(m);if(-1!==r.indexOf(b))throw new Error("Duplicate file basename found in weights manifest: '"+b+"'");if(r.push(b),-1===a.indexOf(b))throw new Error("Weight file with basename '"+b+"' is not provided.");c[m]=e[a.indexOf(b)]});if(r.length!==e.length)throw new Error("Mismatch in the number of files in weights manifest ("+r.length+") and the number of weight files provided ("+e.length+").");return c},i}();function Da(i,n,e,r){var c;oe(null!=(c=i)&&Array.isArray(c)&&c.length>0,function(){return"promises must be a none empty array"}),function(c,h){oe(c>=0&&c<=1,function(){return"Progress fraction must be in range [0, 1], but got startFraction "+c}),oe(h>=0&&h<=1,function(){return"Progress fraction must be in range [0, 1], but got endFraction "+h}),oe(h>=c,function(){return"startFraction must be no more than endFraction, but got startFraction "+c+" and endFraction "+h})}(e=null==e?0:e,r=null==r?1:r);var a=0;return Promise.all(i.map(function(c){return c.then(function(h){var f=e+ ++a/i.length*(r-e);return n(f),h}),c}))}function Na(i,n){return we(this,void 0,void 0,function(){var e,r,a,c,h,f,m,b,_;return q(this,function(I){switch(I.label){case 0:return null==n&&(n={}),e=null==n.fetchFunc?ce().platform.fetch:n.fetchFunc,r=i.map(function(D){return e(D,n.requestInit,{isBinary:!0})}),a=0,c=.5,null!=n.onProgress?[3,2]:[4,Promise.all(r)];case 1:return h=I.sent(),[3,4];case 2:return[4,Da(r,n.onProgress,a,c)];case 3:h=I.sent(),I.label=4;case 4:return f=h.map(function(D){return D.arrayBuffer()}),m=.5,b=1,null!=n.onProgress?[3,6]:[4,Promise.all(f)];case 5:return _=I.sent(),[3,8];case 6:return[4,Da(f,n.onProgress,m,b)];case 7:_=I.sent(),I.label=8;case 8:return[2,_]}})})}function ys(i){var n=this;return function(e,r,a){return void 0===r&&(r=""),we(n,void 0,void 0,function(){var c,h,f,m,b,_,I,D,T,z;return q(this,function(J){switch(J.label){case 0:if(c=e.map(function(){return!1}),h={},f=null!=a?a.map(function(){return!1}):[],m=[],e.forEach(function(ee,ne){var me=0;ee.weights.forEach(function(be){var Ie=nm["quantization"in be?be.quantization.dtype:be.dtype]*He(be.shape),Ye=function(){c[ne]=!0,null==h[ne]&&(h[ne]=[]),h[ne].push({manifestEntry:be,groupOffset:me,sizeBytes:Ie})};null!=a?a.forEach(function(kt,It){kt===be.name&&(Ye(),f[It]=!0)}):Ye(),m.push(be.name),me+=Ie})}),!f.every(function(ee){return ee}))throw b=a.filter(function(ee,ne){return!f[ne]}),new Error("Could not find weights in manifest with names: "+b.join(", ")+". \nManifest JSON has weights with names: "+m.join(", ")+".");return _=c.reduce(function(ee,ne,me){return ne&&ee.push(me),ee},[]),I=[],_.forEach(function(ee){e[ee].paths.forEach(function(ne){var me=r+(r.endsWith("/")?"":"/")+ne;I.push(me)})}),[4,i(I)];case 1:return D=J.sent(),T={},z=0,_.forEach(function(ee){for(var ne=e[ee].paths.length,me=0,be=0;be<ne;be++)me+=D[z+be].byteLength;for(var pe=new ArrayBuffer(me),Ie=new Uint8Array(pe),Ye=0,kt=0;kt<ne;kt++){var It=new Uint8Array(D[z+kt]);Ie.set(It,Ye),Ye+=It.byteLength}h[ee].forEach(function(vt){var bt=gv(pe.slice(vt.groupOffset,vt.groupOffset+vt.sizeBytes),[vt.manifestEntry]);for(var en in bt)T[en]=bt[en]}),z+=ne}),[2,T]}})})}}Ps.registerSaveRouter(function(i){return ce().getBool("IS_BROWSER")&&!Array.isArray(i)&&i.startsWith(wa.URL_SCHEME)?(void 0===(n=i.slice(wa.URL_SCHEME.length))&&(n="model"),new wa(n)):null;var n});var ia=function(){function i(n,e){if(this.DEFAULT_METHOD="POST",null==e&&(e={}),this.weightPathPrefix=e.weightPathPrefix,this.onProgress=e.onProgress,null!=e.fetchFunc?(oe("function"==typeof e.fetchFunc,function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"}),this.fetch=e.fetchFunc):this.fetch=ce().platform.fetch,oe(null!=n&&n.length>0,function(){return"URL path for http must not be null, undefined or empty."}),Array.isArray(n)&&oe(2===n.length,function(){return"URL paths for http must have a length of 2, (actual length is "+n.length+")."}),this.path=n,null!=e.requestInit&&null!=e.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=e.requestInit||{}}return i.prototype.save=function(n){return we(this,void 0,void 0,function(){var e,c;return q(this,function(h){switch(h.label){case 0:if(n.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(e=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,e.body.append("model.json",new Blob([JSON.stringify({modelTopology:n.modelTopology,format:n.format,generatedBy:n.generatedBy,convertedBy:n.convertedBy,userDefinedMetadata:n.userDefinedMetadata,weightsManifest:[{paths:["./model.weights.bin"],weights:n.weightSpecs}]})],{type:"application/json"}),"model.json"),null!=n.weightData&&e.body.append("model.weights.bin",new Blob([n.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,e)];case 1:if((c=h.sent()).ok)return[2,{modelArtifactsInfo:Ju(n),responses:[c]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+c.status+".")}})})},i.prototype.load=function(){return we(this,void 0,void 0,function(){var n,e,r,a,c,h,f,m,b,_,I,D;return q(this,function(T){switch(T.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(n=T.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+n.status+". Please verify this URL points to the model JSON of the model to load.");T.label=2;case 2:return T.trys.push([2,4,,5]),[4,n.json()];case 3:return e=T.sent(),[3,5];case 4:throw T.sent(),r="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 5:if(c=e.weightsManifest,h=e.generatedBy,f=e.convertedBy,m=e.format,b=e.userDefinedMetadata,null==(a=e.modelTopology)&&null==c)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return null==c?[3,7]:[4,this.loadWeights(c)];case 6:D=T.sent(),_=D[0],I=D[1],T.label=7;case 7:return[2,{modelTopology:a,weightSpecs:_,weightData:I,userDefinedMetadata:b,generatedBy:h,convertedBy:f,format:m}]}})})},i.prototype.loadWeights=function(n){return we(this,void 0,void 0,function(){var r,a,c,h,f,m,b,I,D;return q(this,function(T){switch(T.label){case 0:for(void 0,void 0,J=(z=Array.isArray(this.path)?this.path[1]:this.path).lastIndexOf("/"),ee=z.lastIndexOf("?"),r=[z.substring(0,J)+"/",ee>J?z.substring(ee):""],a=r[0],c=r[1],h=this.weightPathPrefix||a,f=[],m=0,b=n;m<b.length;m++)f.push.apply(f,b[m].weights);return I=[],n.forEach(function(z){z.paths.forEach(function(J){I.push(h+J+c)})}),[4,Na(I,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return D=T.sent(),[2,[f,yf(D)]]}var z,J,ee})})},i.URL_SCHEME_REGEX=/^https?:\/\//,i}();function aa(i){return null!=i.match(ia.URL_SCHEME_REGEX)}var Fa=function(i,n){return typeof fetch>"u"?null:(Array.isArray(i)?i.every(function(e){return aa(e)}):aa(i))?_a(i,{onProgress:n}):null};function _a(i,n){return new ia(i,n)}Ps.registerSaveRouter(Fa),Ps.registerLoadRouter(Fa);var jl,hl=function(){function i(n){this.modelArtifacts=n}return i.prototype.load=function(){return we(this,void 0,void 0,function(){return q(this,function(n){return[2,this.modelArtifacts]})})},i}(),zs=function(){function i(n){this.saveHandler=n}return i.prototype.save=function(n){return we(this,void 0,void 0,function(){return q(this,function(e){return[2,this.saveHandler(n)]})})},i}(),xs=Object.freeze({browserFiles:function(i){return new Ji(i)},browserHTTPRequest:function(i,n){return _a(i,n)},concatenateArrayBuffers:yf,decodeWeights:gv,encodeWeights:function(i,n){return we(this,void 0,void 0,function(){var e,r,a,c,h,f=this;return q(this,function(m){switch(m.label){case 0:for(e=[],r=[],a=Array.isArray(i)?i.map(function(b){return b.name}):Object.keys(i),c=function(b){var _=a[b],I=Array.isArray(i)?i[b].tensor:i[_];if("float32"!==I.dtype&&"int32"!==I.dtype&&"bool"!==I.dtype&&"string"!==I.dtype)throw new Error("Unsupported dtype in weight '"+_+"': "+I.dtype);var D={name:_,shape:I.shape,dtype:I.dtype};if("string"===I.dtype){var T=new Promise(function(z){return we(f,void 0,void 0,function(){var J,ee,ne,me,be,pe,Ie;return q(this,function(Ye){switch(Ye.label){case 0:return[4,I.bytes()];case 1:for(J=Ye.sent(),ee=J.reduce(function(kt,It){return kt+It.length},0)+vf*J.length,ne=new Uint8Array(ee),me=0,be=0;be<J.length;be++)pe=J[be],Ie=new Uint8Array(new Uint32Array([pe.length]).buffer),ne.set(Ie,me),ne.set(pe,me+=vf),me+=pe.length;return z(ne),[2]}})})});r.push(T)}else r.push(I.data());null!=n&&(D.group=n),e.push(D)},h=0;h<a.length;++h)c(h);return[4,Promise.all(r)];case 1:return[2,{data:ab(m.sent()),specs:e}]}})})},fromMemory:function(i,n,e,r){return 1===arguments.length?null!=i.modelTopology||null!=i.weightSpecs?new hl(i):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new hl({modelTopology:i})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new hl({modelTopology:i,weightSpecs:n,weightData:e,trainingConfig:r}))},getLoadHandlers:function(i,n){return Ps.getLoadHandlers(i,n)},getModelArtifactsInfoForJSON:Ju,getSaveHandlers:function(i){return Ps.getSaveHandlers(i)},http:_a,isHTTPScheme:aa,loadWeights:function(i,n,e,r){return void 0===n&&(n=""),we(this,void 0,void 0,function(){return q(this,function(a){return[2,ys(function(c){return Na(c,{requestInit:r})})(i,n,e)]})})},registerLoadRouter:function(i){return Ps.registerLoadRouter(i)},registerSaveRouter:function(i){return Ps.registerSaveRouter(i)},weightsLoaderFactory:ys,withSaveHandler:function(i){return new zs(i)},copyModel:function(i,n){return we(this,void 0,void 0,function(){return q(this,function(e){return[2,p(i,n,!1)]})})},listModels:function(){return we(this,void 0,void 0,function(){var i,n,e,r,a,c,h;return q(this,function(f){switch(f.label){case 0:i=C.getSchemes(),n={},e=0,r=i,f.label=1;case 1:return e<r.length?[4,C.getManager(a=r[e]).listModels()]:[3,4];case 2:for(h in c=f.sent())n[a+$l+h]=c[h];f.label=3;case 3:return e++,[3,1];case 4:return[2,n]}})})},moveModel:function(i,n){return we(this,void 0,void 0,function(){return q(this,function(e){return[2,p(i,n,!0)]})})},removeModel:function(i){return we(this,void 0,void 0,function(){var n;return q(this,function(e){return n=u(i),[2,C.getManager(n.scheme).removeModel(n.path)]})})}}),Il=$({confusionMatrix_:function(i,n,e){var r=Xe(i,"labels","confusionMatrix"),a=Xe(n,"predictions","confusionMatrix");oe(null==e||e>0&&Number.isInteger(e),function(){return"If provided, numClasses must be a positive integer, but got "+e}),oe(1===r.rank,function(){return"Expected the rank of labels to be 1, but got "+r.rank}),oe(1===a.rank,function(){return"Expected the rank of predictions to be 1, but got "+a.rank}),oe(r.shape[0]===a.shape[0],function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+a.shape[0]+". Labels and predictions should have the same number of elements."}),oe(e>0&&Number.isInteger(e),function(){return"numClasses is required to be a positive integer, but got "+e});var c=fa(r.asType("int32"),e),h=fa(a.asType("int32"),e);return c.transpose().matMul(h).asType("int32")}}),vv=(Object.freeze({confusionMatrix:Il}),$({fromPixels_:function(i,n){if(void 0===n&&(n=3),n>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==i)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var e=!1,r=!1,a=!1,c=!1,h=!1;if(i.data instanceof Uint8Array)e=!0;else if(typeof ImageData<"u"&&i instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement)a=!0;else if(typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement)c=!0;else{if(null==i.getContext)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+i.constructor.name);h=!0}if(a&&a&&i.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(null!=Me("FromPixels",G.backendName))return G.runKernel("FromPixels",{pixels:i},{numChannels:n});var f,m,b=a?[i.videoWidth,i.videoHeight]:[i.width,i.height],_=b[0],I=b[1];if(h?f=i.getContext("2d").getImageData(0,0,_,I).data:r||e?f=i.data:(c||a)&&(null==jl&&(jl=document.createElement("canvas").getContext("2d")),jl.canvas.width=_,jl.canvas.height=I,jl.drawImage(i,0,0,_,I),f=jl.getImageData(0,0,_,I).data),4===n)m=new Int32Array(f);else{var D=_*I;m=new Int32Array(D*n);for(var T=0;T<D;T++)for(var z=0;z<n;++z)m[T*n+z]=f[4*T+z]}return Wn(m,[I,_,n],"int32")}})),im=Object.freeze({toPixels:function(i,n){return we(this,void 0,void 0,function(){var e,r,a,c,h,f,m,b,_,T,z,J,ee,ne,me,be,pe,Ie,Ye,kt,It;return q(this,function(vt){switch(vt.label){case 0:if(e=Xe(i,"img","toPixels"),i instanceof Or||(e=e.toInt()),2!==e.rank&&3!==e.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+e.rank+".");if(r=e.shape.slice(0,2),a=r[0],c=r[1],(h=2===e.rank?1:e.shape[2])>4||2===h)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+h);return[4,e.data()];case 1:return f=vt.sent(),m=e.min(),b=e.max(),[4,Promise.all([m.data(),b.data()])];case 2:if(_=vt.sent(),T=_[0][0],z=_[1][0],m.dispose(),b.dispose(),"float32"===e.dtype){if(T<0||z>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+T+" - "+z+"].")}else{if("int32"!==e.dtype)throw new Error("Unsupported type for toPixels: "+e.dtype+". Please use float32 or int32 tensors.");if(T<0||z>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+T+" - "+z+"].")}for(J="float32"===e.dtype?255:1,ee=new Uint8ClampedArray(c*a*4),ne=0;ne<a*c;++ne)me=void 0,be=void 0,pe=void 0,Ie=void 0,1===h?(me=f[ne]*J,be=f[ne]*J,pe=f[ne]*J,Ie=255):3===h?(me=f[3*ne]*J,be=f[3*ne+1]*J,pe=f[3*ne+2]*J,Ie=255):4===h&&(me=f[4*ne]*J,be=f[4*ne+1]*J,pe=f[4*ne+2]*J,Ie=f[4*ne+3]*J),ee[0+(Ye=4*ne)]=Math.round(me),ee[Ye+1]=Math.round(be),ee[Ye+2]=Math.round(pe),ee[Ye+3]=Math.round(Ie);return null!=n&&(n.width=c,n.height=a,kt=n.getContext("2d"),It=new ImageData(ee,c,a),kt.putImageData(It,0,0)),e!==i&&e.dispose(),[2,ee]}})})},fromPixels:vv}),bv=function(){function i(){}return i.prototype.getClassName=function(){return this.constructor.className},i.fromConfig=function(n,e){return new n(e)},i}(),sb=function(){function i(){this.classNameMap={}}return i.getMap=function(){return null==i.instance&&(i.instance=new i),i.instance},i.register=function(n){i.getMap().classNameMap[n.className]=[n,n.fromConfig]},i}();function Jc(i){oe(null!=i.className,function(){return"Class being registered does not have the static className property defined."}),oe("string"==typeof i.className,function(){return"className is required to be a string, but got type "+typeof i.className}),oe(i.className.length>0,function(){return"Class being registered has an empty-string as its className, which is disallowed."}),sb.register(i)}function yv(){return 32===G.backend.floatPrecision()?.001:.1}function wf(i,n,e){var r=!0;if((un(i)||un(n))&&(r=!1),un(i)&&un(n)&&(r=!0),r){var a=i.constructor.name,c=n.constructor.name;if(a!==c)throw new Error("Arrays are of different type. Actual: "+a+". Expected: "+c)}if(Array.isArray(i)&&Array.isArray(n)){var h=ci(i),f=ci(n);if(!jt(h,f))throw new Error("Arrays have different shapes. Actual: ["+h+"]. Expected: ["+f+"]")}var m=un(i)?i:Ze(i),b=un(n)?n:Ze(n);if(m.length!==b.length)throw new Error("Arrays have different lengths actual: "+m.length+" vs expected: "+b.length+".\nActual:   "+m+".\nExpected: "+b+".");for(var _=0;_<b.length;++_){var I=m[_],D=b[_];if(!e(I,D))throw new Error("Arrays differ: actual["+_+"] = "+I+", expected["+_+"] = "+D+".\nActual:   "+m+".\nExpected: "+b+".")}}function cb(i,n,e){return!isFinite(i)&&!isFinite(n)||!(isNaN(i)||isNaN(n)||Math.abs(i-n)>e)}Object.freeze({Serializable:bv,SerializationMap:sb,registerClass:Jc}),Object.freeze({TEST_EPSILON_FLOAT16:.1,expectArraysClose:function(i,n,e){return null==e&&(e=yv()),wf(i,n,function(r,a){return cb(r,a,e)})},testEpsilon:yv,expectPromiseToFail:function(i,n){i().then(function(){return n.fail()},function(){return n()})},expectArraysEqual:function(i,n){var e="string"==typeof n||"number"==typeof n||"boolean"==typeof n?[n]:n;return Qn(i)||Qn(i[0])||Qn(n)||Qn(n[0])?wf(i,e,function(r,a){return r==a}):wf(i,n,function(r,a){return cb(r,a,0)})},expectNumbersClose:function(i,n,e){if(null==e&&(e=yv()),!cb(i,n,e))throw new Error("Numbers differ: actual === "+i+", expected === "+n)},expectValuesInRange:function(i,n,e){for(var r=0;r<i.length;r++)if(i[r]<n||i[r]>e)throw new Error("Value out of range:"+i[r]+" low: "+n+", high: "+e)},expectArrayBuffersEqual:function(i,n){expect(new Float32Array(i)).toEqual(new Float32Array(n))}}),Object.freeze({gpgpu_util:hp,webgl_util:B,forceHalfFloat:function(){ce().set("WEBGL_FORCE_F16_TEXTURES",!0)},MathBackendWebGL:Nu,setWebGLContext:zo,GPGPUContext:Ah});var Kd=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return H(n,i),n.prototype.minimize=function(e,r,a){void 0===r&&(r=!1);var c=this.computeGradients(e,a),h=c.value,f=c.grads;if(null!=a){var m=a.map(function(b){return{name:b.name,tensor:f[b.name]}});this.applyGradients(m)}else this.applyGradients(f);return Wt(f),r?h:(h.dispose(),null)},Object.defineProperty(n.prototype,"iterations",{get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),n.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},n.prototype.computeGradients=function(e,r){return function ni(i,n){oe(dr(i),function(){return"The f passed in variableGrads(f) must be a function"}),oe(null==n||Array.isArray(n)&&n.every(function(_){return _ instanceof Pt}),function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"});var e=null!=n;if(!e)for(var r in n=[],G.registeredVariables)n.push(G.registeredVariables[r]);var a=e?n.filter(function(_){return!_.trainable}):null,c=n.length;oe((n=n.filter(function(_){return _.trainable})).length>0,function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+c+" variables is trainable."});var h=G.gradients(i,n,null,!0),f=h.value,m=h.grads;oe(m.some(function(_){return null!=_}),function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."}),oe(0===f.rank,function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+f.rank+" tensor"});var b={};return n.forEach(function(_,I){null!=m[I]&&(b[_.name]=m[I])}),null!=a&&a.forEach(function(_){return b[_.name]=null}),{value:f,grads:b}}(e,r)},n.prototype.dispose=function(){null!=this.iterations_&&Wt(this.iterations_)},n.prototype.saveIterations=function(){return we(this,void 0,void 0,function(){return q(this,function(e){return null==this.iterations_&&(this.iterations_=0),[2,{name:"iter",tensor:Rt(this.iterations_,"int32")}]})})},n.prototype.getWeights=function(){return we(this,void 0,void 0,function(){return q(this,function(e){throw new Error("getWeights() is not implemented for this optimizer yet.")})})},n.prototype.setWeights=function(e){return we(this,void 0,void 0,function(){return q(this,function(r){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())})})},n.prototype.extractIterations=function(e){return we(this,void 0,void 0,function(){var r;return q(this,function(a){switch(a.label){case 0:return r=this,[4,e[0].tensor.data()];case 1:return r.iterations_=a.sent()[0],[2,e.slice(1)]}})})},n}(bv);Object.defineProperty(Kd,Symbol.hasInstance,{value:function(i){return null!=i.minimize&&null!=i.computeGradients&&null!=i.applyGradients}});var sx=function(i){function n(e,r,a){void 0===a&&(a=null);var c=i.call(this)||this;return c.learningRate=e,c.rho=r,c.epsilon=a,c.accumulatedGrads=[],c.accumulatedUpdates=[],null==a&&(c.epsilon=G.backend.epsilon()),c}return H(n,i),n.prototype.applyGradients=function(e){var r=this;(Array.isArray(e)?e.map(function(a){return a.name}):Object.keys(e)).forEach(function(a,c){var h=G.registeredVariables[a];null==r.accumulatedGrads[c]&&(r.accumulatedGrads[c]={originalName:a+"/accum_grad",variable:$t(function(){return Lo(h).variable(!1)})}),null==r.accumulatedUpdates[c]&&(r.accumulatedUpdates[c]={originalName:a+"/accum_var",variable:$t(function(){return Lo(h).variable(!1)})});var f=Array.isArray(e)?e[c].tensor:e[a];if(null!=f){var m=r.accumulatedGrads[c].variable,b=r.accumulatedUpdates[c].variable;$t(function(){var _=m.mul(r.rho).add(f.square().mul(1-r.rho)),I=b.add(r.epsilon).sqrt().div(m.add(r.epsilon).sqrt()).mul(f),D=b.mul(r.rho).add(I.square().mul(1-r.rho));m.assign(_),b.assign(D);var T=I.mul(-r.learningRate).add(h);h.assign(T)})}}),this.incrementIterations()},n.prototype.dispose=function(){null!=this.accumulatedUpdates&&(Wt(this.accumulatedGrads.map(function(e){return e.variable})),Wt(this.accumulatedUpdates.map(function(e){return e.variable})))},n.prototype.getWeights=function(){return we(this,void 0,void 0,function(){var e;return q(this,function(r){switch(r.label){case 0:return e=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(e.map(function(a){return{name:a.originalName,tensor:a.variable}}))]}})})},n.prototype.setWeights=function(e){return we(this,void 0,void 0,function(){var r;return q(this,function(a){switch(a.label){case 0:return[4,this.extractIterations(e)];case 1:return e=a.sent(),this.accumulatedGrads=e.slice(0,r=e.length/2).map(function(c){return{originalName:c.name,variable:c.tensor.variable(!1)}}),this.accumulatedUpdates=e.slice(r,2*r).map(function(c){return{originalName:c.name,variable:c.tensor.variable(!1)}}),[2]}})})},n.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},n.fromConfig=function(e,r){return new e(r.learningRate,r.rho,r.epsilon)},n.className="Adadelta",n}(Kd);Jc(sx);var lx=function(i){function n(e,r){void 0===r&&(r=.1);var a=i.call(this)||this;return a.learningRate=e,a.initialAccumulatorValue=r,a.accumulatedGrads=[],a}return H(n,i),n.prototype.applyGradients=function(e){var r=this;(Array.isArray(e)?e.map(function(a){return a.name}):Object.keys(e)).forEach(function(a,c){var h=G.registeredVariables[a];null==r.accumulatedGrads[c]&&(r.accumulatedGrads[c]={originalName:a+"/accumulator",variable:$t(function(){return So(h.shape,r.initialAccumulatorValue).variable(!1)})});var f=Array.isArray(e)?e[c].tensor:e[a];if(null!=f){var m=r.accumulatedGrads[c].variable;$t(function(){var b=m.add(f.square());m.assign(b);var _=f.div(b.add(G.backend.epsilon()).sqrt()).mul(-r.learningRate).add(h);h.assign(_)})}}),this.incrementIterations()},n.prototype.dispose=function(){null!=this.accumulatedGrads&&Wt(this.accumulatedGrads.map(function(e){return e.variable}))},n.prototype.getWeights=function(){return we(this,void 0,void 0,function(){return q(this,function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulatedGrads.map(function(r){return{name:r.originalName,tensor:r.variable}}))]}})})},n.prototype.setWeights=function(e){return we(this,void 0,void 0,function(){return q(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(e)];case 1:return e=r.sent(),this.accumulatedGrads=e.map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),[2]}})})},n.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},n.fromConfig=function(e,r){return new e(r.learningRate,r.initialAccumulatorValue)},n.className="Adagrad",n}(Kd);Jc(lx);var cx=function(i){function n(e,r,a,c){void 0===c&&(c=null);var h=i.call(this)||this;return h.learningRate=e,h.beta1=r,h.beta2=a,h.epsilon=c,h.accumulatedFirstMoment=[],h.accumulatedSecondMoment=[],$t(function(){h.accBeta1=Rt(r).variable(),h.accBeta2=Rt(a).variable()}),null==c&&(h.epsilon=G.backend.epsilon()),h}return H(n,i),n.prototype.applyGradients=function(e){var r=this,a=Array.isArray(e)?e.map(function(c){return c.name}):Object.keys(e);$t(function(){var c=Wa(1,r.accBeta1),h=Wa(1,r.accBeta2);a.forEach(function(f,m){var b=G.registeredVariables[f];null==r.accumulatedFirstMoment[m]&&(r.accumulatedFirstMoment[m]={originalName:f+"/m",variable:$t(function(){return Lo(b).variable(!1)})}),null==r.accumulatedSecondMoment[m]&&(r.accumulatedSecondMoment[m]={originalName:f+"/v",variable:$t(function(){return Lo(b).variable(!1)})});var _=Array.isArray(e)?e[m].tensor:e[f];if(null!=_){var I=r.accumulatedFirstMoment[m].variable,D=r.accumulatedSecondMoment[m].variable,T=I.mul(r.beta1).add(_.mul(1-r.beta1)),z=D.mul(r.beta2).add(_.square().mul(1-r.beta2)),J=T.div(c),ee=z.div(h);I.assign(T),D.assign(z);var ne=J.div(ee.sqrt().add(r.epsilon)).mul(-r.learningRate).add(b);b.assign(ne)}}),r.accBeta1.assign(r.accBeta1.mul(r.beta1)),r.accBeta2.assign(r.accBeta2.mul(r.beta2))}),this.incrementIterations()},n.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&Wt(this.accumulatedFirstMoment.map(function(e){return e.variable})),null!=this.accumulatedSecondMoment&&Wt(this.accumulatedSecondMoment.map(function(e){return e.variable}))},n.prototype.getWeights=function(){return we(this,void 0,void 0,function(){var e;return q(this,function(r){switch(r.label){case 0:return e=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(e.map(function(a){return{name:a.originalName,tensor:a.variable}}))]}})})},n.prototype.setWeights=function(e){return we(this,void 0,void 0,function(){var r,a=this;return q(this,function(c){switch(c.label){case 0:return[4,this.extractIterations(e)];case 1:return e=c.sent(),$t(function(){a.accBeta1.assign(Rd(a.beta1,a.iterations_+1)),a.accBeta2.assign(Rd(a.beta2,a.iterations_+1))}),this.accumulatedFirstMoment=e.slice(0,r=e.length/2).map(function(h){return{originalName:h.name,variable:h.tensor.variable(!1)}}),this.accumulatedSecondMoment=e.slice(r,2*r).map(function(h){return{originalName:h.name,variable:h.tensor.variable(!1)}}),[2]}})})},n.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},n.fromConfig=function(e,r){return new e(r.learningRate,r.beta1,r.beta2,r.epsilon)},n.className="Adam",n}(Kd);Jc(cx);var db=function(i){function n(e,r,a,c,h){void 0===c&&(c=null),void 0===h&&(h=0);var f=i.call(this)||this;return f.learningRate=e,f.beta1=r,f.beta2=a,f.epsilon=c,f.decay=h,f.accumulatedFirstMoment=[],f.accumulatedWeightedInfNorm=[],$t(function(){f.iteration=Rt(0).variable(),f.accBeta1=Rt(r).variable()}),null==c&&(f.epsilon=G.backend.epsilon()),f}return H(n,i),n.prototype.applyGradients=function(e){var r=this,a=Array.isArray(e)?e.map(function(c){return c.name}):Object.keys(e);$t(function(){var c=Wa(1,r.accBeta1),h=Ms(-r.learningRate,r.iteration.mul(r.decay).add(1));a.forEach(function(f,m){var b=G.registeredVariables[f];null==r.accumulatedFirstMoment[m]&&(r.accumulatedFirstMoment[m]={originalName:f+"/m",variable:Lo(b).variable(!1)}),null==r.accumulatedWeightedInfNorm[m]&&(r.accumulatedWeightedInfNorm[m]={originalName:f+"/v",variable:Lo(b).variable(!1)});var _=Array.isArray(e)?e[m].tensor:e[f];if(null!=_){var I=r.accumulatedFirstMoment[m].variable,D=r.accumulatedWeightedInfNorm[m].variable,T=I.mul(r.beta1).add(_.mul(1-r.beta1)),z=D.mul(r.beta2),J=_.abs(),ee=z.maximum(J);I.assign(T),D.assign(ee);var ne=h.div(c).mul(T.div(ee.add(r.epsilon))).add(b);b.assign(ne)}}),r.iteration.assign(r.iteration.add(1)),r.accBeta1.assign(r.accBeta1.mul(r.beta1))}),this.incrementIterations()},n.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&Wt(this.accumulatedFirstMoment.map(function(e){return e.variable})),null!=this.accumulatedWeightedInfNorm&&Wt(this.accumulatedWeightedInfNorm.map(function(e){return e.variable}))},n.prototype.getWeights=function(){return we(this,void 0,void 0,function(){return q(this,function(e){throw new Error("getWeights() is not implemented for Adamax yet.")})})},n.prototype.setWeights=function(e){return we(this,void 0,void 0,function(){return q(this,function(r){throw new Error("setWeights() is not implemented for Adamax yet.")})})},n.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},n.fromConfig=function(e,r){return new e(r.learningRate,r.beta1,r.beta2,r.epsilon,r.decay)},n.className="Adamax",n}(Kd);Jc(db);var Yd=function(i){function n(e){var r=i.call(this)||this;return r.learningRate=e,r.setLearningRate(e),r}return H(n,i),n.prototype.applyGradients=function(e){var r=this;(Array.isArray(e)?e.map(function(a){return a.name}):Object.keys(e)).forEach(function(a,c){var h=Array.isArray(e)?e[c].tensor:e[a];if(null!=h){var f=G.registeredVariables[a];$t(function(){var m=r.c.mul(h).add(f);f.assign(m)})}}),this.incrementIterations()},n.prototype.setLearningRate=function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=function Dn(i){return G.keep(i)}(Rt(-e))},n.prototype.dispose=function(){this.c.dispose()},n.prototype.getWeights=function(){return we(this,void 0,void 0,function(){return q(this,function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()]]}})})},n.prototype.setWeights=function(e){return we(this,void 0,void 0,function(){return q(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(e)];case 1:if(0!==(e=r.sent()).length)throw new Error("SGD optimizer does not have settable weights.");return[2]}})})},n.prototype.getConfig=function(){return{learningRate:this.learningRate}},n.fromConfig=function(e,r){return new e(r.learningRate)},n.className="SGD",n}(Kd);Jc(Yd);var _f=function(i){function n(e,r,a){void 0===a&&(a=!1);var c=i.call(this,e)||this;return c.learningRate=e,c.momentum=r,c.useNesterov=a,c.accumulations=[],c.m=Rt(c.momentum),c}return H(n,i),n.prototype.applyGradients=function(e){var r=this;(Array.isArray(e)?e.map(function(a){return a.name}):Object.keys(e)).forEach(function(a,c){var h=G.registeredVariables[a];null==r.accumulations[c]&&(r.accumulations[c]={originalName:a+"/momentum",variable:$t(function(){return Lo(h).variable(!1)})});var f=r.accumulations[c].variable,m=Array.isArray(e)?e[c].tensor:e[a];null!=m&&$t(function(){var b,_=r.m.mul(f).add(m);b=r.useNesterov?r.c.mul(m.add(_.mul(r.m))).add(h):r.c.mul(_).add(h),f.assign(_),h.assign(b)})}),this.incrementIterations()},n.prototype.dispose=function(){this.m.dispose(),null!=this.accumulations&&Wt(this.accumulations.map(function(e){return e.variable}))},n.prototype.setMomentum=function(e){this.momentum=e},n.prototype.getWeights=function(){return we(this,void 0,void 0,function(){return q(this,function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulations.map(function(r){return{name:r.originalName,tensor:r.variable}}))]}})})},n.prototype.setWeights=function(e){return we(this,void 0,void 0,function(){return q(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(e)];case 1:return e=r.sent(),this.accumulations=e.map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),[2]}})})},n.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},n.fromConfig=function(e,r){return new e(r.learningRate,r.momentum,r.useNesterov)},n.className="Momentum",n}(Yd);Jc(_f);var xv=function(i){function n(e,r,a,c,h){void 0===r&&(r=.9),void 0===a&&(a=0),void 0===c&&(c=null),void 0===h&&(h=!1);var f=i.call(this)||this;if(f.learningRate=e,f.decay=r,f.momentum=a,f.epsilon=c,f.accumulatedMeanSquares=[],f.accumulatedMoments=[],f.accumulatedMeanGrads=[],f.centered=h,null==c&&(f.epsilon=G.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.");return f}return H(n,i),n.prototype.applyGradients=function(e){var r=this;(Array.isArray(e)?e.map(function(a){return a.name}):Object.keys(e)).forEach(function(a,c){var h=G.registeredVariables[a];null==r.accumulatedMeanSquares[c]&&(r.accumulatedMeanSquares[c]={originalName:a+"/rms",variable:$t(function(){return Lo(h).variable(!1)})}),null==r.accumulatedMoments[c]&&(r.accumulatedMoments[c]={originalName:a+"/momentum",variable:$t(function(){return Lo(h).variable(!1)})}),null==r.accumulatedMeanGrads[c]&&r.centered&&(r.accumulatedMeanGrads[c]={originalName:a+"/mg",variable:$t(function(){return Lo(h).variable(!1)})});var f=Array.isArray(e)?e[c].tensor:e[a];if(null!=f){var m=r.accumulatedMeanSquares[c].variable,b=r.accumulatedMoments[c].variable;$t(function(){var _=m.mul(r.decay).add(f.square().mul(1-r.decay));if(r.centered){var I=r.accumulatedMeanGrads[c].variable,D=I.mul(r.decay).add(f.mul(1-r.decay)),T=b.mul(r.momentum).add(f.mul(r.learningRate).div(_.sub(D.square().add(r.epsilon)).sqrt()));m.assign(_),I.assign(D),b.assign(T);var z=h.sub(T);h.assign(z)}else{var J=m.mul(r.decay).add(f.square().mul(1-r.decay));T=b.mul(r.momentum).add(f.mul(r.learningRate).div(J.add(r.epsilon).sqrt())),m.assign(J),b.assign(T),z=h.sub(T),h.assign(z)}})}}),this.incrementIterations()},n.prototype.dispose=function(){null!=this.accumulatedMeanSquares&&Wt(this.accumulatedMeanSquares.map(function(e){return e.variable})),null!=this.accumulatedMeanGrads&&this.centered&&Wt(this.accumulatedMeanGrads.map(function(e){return e.variable})),null!=this.accumulatedMoments&&Wt(this.accumulatedMoments.map(function(e){return e.variable}))},n.prototype.getWeights=function(){return we(this,void 0,void 0,function(){var e;return q(this,function(r){switch(r.label){case 0:return e=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&e.push.apply(e,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(e.map(function(a){return{name:a.originalName,tensor:a.variable}}))]}})})},n.prototype.setWeights=function(e){return we(this,void 0,void 0,function(){var r;return q(this,function(a){switch(a.label){case 0:return[4,this.extractIterations(e)];case 1:return e=a.sent(),this.accumulatedMeanSquares=e.slice(0,r=this.centered?e.length/3:e.length/2).map(function(c){return{originalName:c.name,variable:c.tensor.variable(!1)}}),this.accumulatedMoments=e.slice(r,2*r).map(function(c){return{originalName:c.name,variable:c.tensor.variable(!1)}}),this.centered&&(this.accumulatedMeanGrads=e.slice(2*r,3*r).map(function(c){return{originalName:c.name,variable:c.tensor.variable(!1)}})),[2]}})})},n.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},n.fromConfig=function(e,r){return new e(r.learningRate,r.decay,r.momentum,r.epsilon,r.centered)},n.className="RMSProp",n}(Kd);Jc(xv),function(){function i(){}i.sgd=function(n){return new Yd(n)},i.momentum=function(n,e,r){return void 0===r&&(r=!1),new _f(n,e,r)},i.rmsprop=function(n,e,r,a,c){return void 0===e&&(e=.9),void 0===r&&(r=0),void 0===a&&(a=null),void 0===c&&(c=!1),new xv(n,e,r,a,c)},i.adam=function(n,e,r,a){return void 0===n&&(n=.001),void 0===e&&(e=.9),void 0===r&&(r=.999),void 0===a&&(a=null),new cx(n,e,r,a)},i.adadelta=function(n,e,r){return void 0===n&&(n=.001),void 0===e&&(e=.95),void 0===r&&(r=null),new sx(n,e,r)},i.adamax=function(n,e,r,a,c){return void 0===n&&(n=.002),void 0===e&&(e=.9),void 0===r&&(r=.999),void 0===a&&(a=null),void 0===c&&(c=0),new db(n,e,r,a,c)},i.adagrad=function(n,e){return void 0===e&&(e=.1),new lx(n,e)}}(),typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"&&setImmediate,Or.prototype.squaredDifference=function(i){return jh(this,i)},tn=fv;var am=function(i,n){return(am=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var a in r)r.hasOwnProperty(a)&&(e[a]=r[a])})(i,n)};function Do(i,n){function e(){this.constructor=i}am(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}var Fi=function(){return Fi=Object.assign||function(n){for(var e,r=1,a=arguments.length;r<a;r++)for(var c in e=arguments[r])Object.prototype.hasOwnProperty.call(e,c)&&(n[c]=e[c]);return n},Fi.apply(this,arguments)};function ro(i,n,e,r){return new(e||(e=Promise))(function(c,h){function f(_){try{b(r.next(_))}catch(I){h(I)}}function m(_){try{b(r.throw(_))}catch(I){h(I)}}function b(_){_.done?c(_.value):function a(c){return c instanceof e?c:new e(function(h){h(c)})}(_.value).then(f,m)}b((r=r.apply(i,n||[])).next())})}function oo(i,n){var r,a,c,h,e={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return h={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h;function f(b){return function(_){return function m(b){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,a&&(c=2&b[0]?a.return:b[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,b[1])).done)return c;switch(a=0,c&&(b=[2&b[0],c.value]),b[0]){case 0:case 1:c=b;break;case 4:return e.label++,{value:b[1],done:!1};case 5:e.label++,a=b[1],b=[0];continue;case 7:b=e.ops.pop(),e.trys.pop();continue;default:if(!(c=(c=e.trys).length>0&&c[c.length-1])&&(6===b[0]||2===b[0])){e=0;continue}if(3===b[0]&&(!c||b[1]>c[0]&&b[1]<c[3])){e.label=b[1];break}if(6===b[0]&&e.label<c[1]){e.label=c[1],c=b;break}if(c&&e.label<c[2]){e.label=c[2],e.ops.push(b);break}c[2]&&e.ops.pop(),e.trys.pop();continue}b=n.call(i,e)}catch(_){b=[6,_],a=0}finally{r=c=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([b,_])}}}function ed(){for(var i=0,n=0,e=arguments.length;n<e;n++)i+=arguments[n].length;var r=Array(i),a=0;for(n=0;n<e;n++)for(var c=arguments[n],h=0,f=c.length;h<f;h++,a++)r[a]=c[h];return r}var qd=function(){function i(n,e){if(!nu(n)||!nu(e))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:n,height:e}));this._width=n,this._height=e}return Object.defineProperty(i.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),i.prototype.reverse=function(){return new i(1/this.width,1/this.height)},i}();function If(i,n){return i instanceof Or&&i.shape.length===n}function tu(i){return If(i,3)}function El(i){return If(i,4)}function mb(i){return i%2==0}function cm(i){return i&&i.width&&i.height}function xc(i){return i.reduce(function(n,e){return n.add(e)},new Ii(0,0)).div(new Ii(i.length,i.length))}function Zd(i,n,e){return Array(i).fill(0).map(function(r,a){return n+a*e})}function nu(i){return!!i&&i!==1/0&&i!==-1/0&&!isNaN(i)||0===i}function um(i){return nu(i)&&0<=i&&i<=1}var Ii=function(){function i(n,e){this._x=n,this._y=e}return Object.defineProperty(i.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),i.prototype.add=function(n){return new i(this.x+n.x,this.y+n.y)},i.prototype.sub=function(n){return new i(this.x-n.x,this.y-n.y)},i.prototype.mul=function(n){return new i(this.x*n.x,this.y*n.y)},i.prototype.div=function(n){return new i(this.x/n.x,this.y/n.y)},i.prototype.abs=function(){return new i(Math.abs(this.x),Math.abs(this.y))},i.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},i.prototype.floor=function(){return new i(Math.floor(this.x),Math.floor(this.y))},i}(),zl=function(){function i(n,e){void 0===e&&(e=!0);var r=n||{},a=[r.left,r.top,r.right,r.bottom].every(nu),c=[r.x,r.y,r.width,r.height].every(nu);if(!c&&!a)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(r));var h=c?[r.x,r.y,r.width,r.height]:[r.left,r.top,r.right-r.left,r.bottom-r.top],f=h[0],m=h[1],b=h[2],_=h[3];i.assertIsValidBox({x:f,y:m,width:b,height:_},"Box.constructor",e),this._x=f,this._y=m,this._width=b,this._height=_}return i.isRect=function(n){return!!n&&[n.x,n.y,n.width,n.height].every(nu)},i.assertIsValidBox=function(n,e,r){if(void 0===r&&(r=!1),!i.isRect(n))throw new Error(e+" - invalid box: "+JSON.stringify(n)+", expected object with properties x, y, width, height");if(!r&&(n.width<0||n.height<0))throw new Error(e+" - width ("+n.width+") and height ("+n.height+") must be positive numbers")},Object.defineProperty(i.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"topLeft",{get:function(){return new Ii(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"topRight",{get:function(){return new Ii(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bottomLeft",{get:function(){return new Ii(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bottomRight",{get:function(){return new Ii(this.right,this.bottom)},enumerable:!0,configurable:!0}),i.prototype.round=function(){var n=[this.x,this.y,this.width,this.height].map(function(h){return Math.round(h)});return new i({x:n[0],y:n[1],width:n[2],height:n[3]})},i.prototype.floor=function(){var n=[this.x,this.y,this.width,this.height].map(function(h){return Math.floor(h)});return new i({x:n[0],y:n[1],width:n[2],height:n[3]})},i.prototype.toSquare=function(){var n=this,e=n.x,r=n.y,a=n.width,c=n.height,h=Math.abs(a-c);return a<c&&(e-=h/2,a+=h),c<a&&(r-=h/2,c+=h),new i({x:e,y:r,width:a,height:c})},i.prototype.rescale=function(n){var e=cm(n)?n.width:n,r=cm(n)?n.height:n;return new i({x:this.x*e,y:this.y*r,width:this.width*e,height:this.height*r})},i.prototype.pad=function(n,e){var r=[this.x-n/2,this.y-e/2,this.width+n,this.height+e];return new i({x:r[0],y:r[1],width:r[2],height:r[3]})},i.prototype.clipAtImageBorders=function(n,e){var r=this,c=r.y,h=r.right,f=r.bottom,m=Math.max(r.x,0),b=Math.max(c,0),I=f-b;return new i({x:m,y:b,width:Math.min(h-m,n-m),height:Math.min(I,e-b)}).floor()},i.prototype.shift=function(n,e){return new i({x:this.x+n,y:this.y+e,width:this.width,height:this.height})},i.prototype.padAtBorders=function(n,e){var r=this.width+1,a=this.height+1,f=r,m=a,b=this.left,_=this.top,I=this.right,D=this.bottom;return I>e&&(f=-I+e+r,I=e),D>n&&(m=-D+n+a,D=n),b<1&&(m=2-b,b=1),_<1&&(m=2-_,_=1),{dy:1,edy:m,dx:1,edx:f,y:_,ey:D,x:b,ex:I,w:r,h:a}},i.prototype.calibrate=function(n){return new i({left:this.left+n.left*this.width,top:this.top+n.top*this.height,right:this.right+n.right*this.width,bottom:this.bottom+n.bottom*this.height}).toSquare().round()},i}(),Ef=function(i){function n(e,r,a,c,h){return void 0===h&&(h=!1),i.call(this,{left:e,top:r,right:a,bottom:c},h)||this}return Do(n,i),n}(zl),Iv=function(){function i(n,e,r,a,c){this._imageDims=new qd(c.width,c.height),this._score=n,this._classScore=e,this._className=r,this._box=new zl(a).rescale(this._imageDims)}return Object.defineProperty(i.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"relativeBox",{get:function(){return new zl(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),i.prototype.forSize=function(n,e){return new i(this.score,this.classScore,this.className,this.relativeBox,{width:n,height:e})},i}(),pl=function(i){function n(e,r,a){return i.call(this,e,e,"",r,a)||this}return Do(n,i),n.prototype.forSize=function(e,r){var a=i.prototype.forSize.call(this,e,r);return new n(a.score,a.relativeBox,a.imageDims)},n}(Iv);function dm(i,n,e){void 0===e&&(e=!0);var c=Math.max(0,Math.min(i.right,n.right)-Math.max(i.left,n.left))*Math.max(0,Math.min(i.bottom,n.bottom)-Math.max(i.top,n.top));return e?c/(i.area+n.area-c):c/Math.min(i.area,n.area)}function Dl(i,n,e,r){void 0===r&&(r=!0);for(var a=n.map(function(f,m){return{score:f,boxIndex:m}}).sort(function(f,m){return f.score-m.score}).map(function(f){return f.boxIndex}),c=[],h=function(){var f=a.pop();c.push(f);for(var m=a,b=[],_=0;_<m.length;_++)b.push(dm(i[f],i[m[_]],r));a=a.filter(function(z,J){return b[J]<=e})};a.length>0;)h();return c}function Qd(i,n){return $t(function(){var e=n[0],r=n[1],a=n[2],c=So(ed(i.shape.slice(0,3),[1]),e),h=So(ed(i.shape.slice(0,3),[1]),r),f=So(ed(i.shape.slice(0,3),[1]),a),m=hi([c,h,f],3);return Wa(i,m)})}function td(i){return 1/(1+Math.exp(-i))}var ka,Jd=function(i){function n(e,r,a,c,h){return void 0===h&&(h=!1),i.call(this,{x:e,y:r,width:a,height:c},h)||this}return Do(n,i),n}(zl),fm=function(){function i(n,e,r){void 0===r&&(r=new Ii(0,0));var a=e.width,c=e.height;this._imgDims=new qd(a,c),this._shift=r,this._positions=n.map(function(h){return h.mul(new Ii(a,c)).add(r)})}return Object.defineProperty(i.prototype,"shift",{get:function(){return new Ii(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"relativePositions",{get:function(){var n=this;return this._positions.map(function(e){return e.sub(n._shift).div(new Ii(n.imageWidth,n.imageHeight))})},enumerable:!0,configurable:!0}),i.prototype.forSize=function(n,e){return new this.constructor(this.relativePositions,{width:n,height:e})},i.prototype.shiftBy=function(n,e){return new this.constructor(this.relativePositions,this._imgDims,new Ii(n,e))},i.prototype.shiftByPoint=function(n){return this.shiftBy(n.x,n.y)},i.prototype.align=function(n,e){if(void 0===e&&(e={}),n){var r=n instanceof pl?n.box.floor():new zl(n);return this.shiftBy(r.x,r.y).align(null,e)}var a=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},e),h=a.minBoxPadding;return a.useDlibAlignment?this.alignDlib():this.alignMinBbox(h)},i.prototype.alignDlib=function(){var n=this.getRefPointsForAlignment(),r=n[1],a=n[2],c=function(I){return a.sub(I).magnitude()},h=(c(n[0])+c(r))/2,f=Math.floor(h/.45),m=xc(n),b=Math.floor(Math.max(0,m.x-.5*f)),_=Math.floor(Math.max(0,m.y-.43*f));return new Jd(b,_,Math.min(f,this.imageWidth+b),Math.min(f,this.imageHeight+_))},i.prototype.alignMinBbox=function(n){var e=function vb(i){var n=i.map(function(f){return f.x}),e=i.map(function(f){return f.y}),r=n.reduce(function(f,m){return m<f?m:f},1/0),a=e.reduce(function(f,m){return m<f?m:f},1/0),c=n.reduce(function(f,m){return f<m?m:f},0),h=e.reduce(function(f,m){return f<m?m:f},0);return new Ef(r,a,c,h)}(this.positions);return e.pad(e.width*n,e.height*n)},i.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},i}(),_x=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Do(n,i),n.prototype.getRefPointsForAlignment=function(){var e=this.positions;return[e[0],e[1],xc([e[3],e[4]])]},n}(fm),yb=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Do(n,i),n.prototype.getJawOutline=function(){return this.positions.slice(0,17)},n.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},n.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},n.prototype.getNose=function(){return this.positions.slice(27,36)},n.prototype.getLeftEye=function(){return this.positions.slice(36,42)},n.prototype.getRightEye=function(){return this.positions.slice(42,48)},n.prototype.getMouth=function(){return this.positions.slice(48,68)},n.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(xc)},n}(fm),Dv=function(){function i(n,e){this._label=n,this._distance=e}return Object.defineProperty(i.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),i.prototype.toString=function(n){return void 0===n&&(n=!0),this.label+(n?" ("+function yx(i,n){void 0===n&&(n=2);var e=Math.pow(10,n);return Math.floor(i*e)/e}(this.distance)+")":"")},i}(),kv=function(i){function n(e,r){var a=i.call(this,e)||this;return a._label=r,a}return Do(n,i),n.assertIsValidLabeledBox=function(e,r){if(zl.assertIsValidBox(e,r),!nu(e.label))throw new Error(r+" - expected property label ("+e.label+") to be a number")},Object.defineProperty(n.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),n}(zl),Ro=function(){function i(n,e){if("string"!=typeof n)throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(e)||e.some(function(r){return!(r instanceof Float32Array)}))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=n,this._descriptors=e}return Object.defineProperty(i.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),i.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map(function(n){return Array.from(n)})}},i.fromJSON=function(n){var e=n.descriptors.map(function(r){return new Float32Array(r)});return new i(n.label,e)},i}();function ru(i,n){return Object.assign({},i,{detection:n})}function Sv(){var i=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D,Image:HTMLImageElement,ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:i,readFile:function(){throw new Error("readFile - filesystem not available for browser environment")}}}function Av(i){var n="";if(!i)try{i=F(Object(function(){var a=new Error("Cannot find module 'fs'");throw a.code="MODULE_NOT_FOUND",a}()))}catch(r){n=r.toString()}return{readFile:i?function(r){return new Promise(function(a,c){i.readFile(r,function(h,f){return h?c(h):a(f)})})}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+n)}}}function wb(){var i=global.Canvas||global.HTMLCanvasElement,n=global.Image||global.HTMLImageElement,a=global.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},c=Av();return Fi({Canvas:i||function(){return function h(){}}(),CanvasRenderingContext2D:global.CanvasRenderingContext2D||function(){return function h(){}}(),Image:n||function(){return function h(){}}(),ImageData:global.ImageData||function(){return function h(){}}(),Video:global.HTMLVideoElement||function(){return function h(){}}(),createCanvasElement:function(){if(i)return new i;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},createImageElement:function(){if(n)return new n;throw new Error("createImageElement - missing Image implementation for nodejs environment")},fetch:a},c)}function Df(){return"object"==typeof window&&typeof document<"u"&&typeof HTMLImageElement<"u"&&typeof HTMLCanvasElement<"u"&&typeof HTMLVideoElement<"u"&&typeof ImageData<"u"&&typeof CanvasRenderingContext2D<"u"}function ou(){return"object"==typeof global&&typeof process<"u"&&!!process.version}function pm(i){ka=i}function Sf(){Df()&&pm(Sv()),ou()&&pm(wb())}!function(i){function n(e,r,a,c){var h=i.call(this,e,r)||this;return h._score=a,h._classScore=c,h}Do(n,i),n.assertIsValidPredictedBox=function(e,r){if(kv.assertIsValidLabeledBox(e,r),!um(e.score)||!um(e.classScore))throw new Error(r+" - expected properties score ("+e.score+") and ("+e.classScore+") to be a number between [0, 1]")},Object.defineProperty(n.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0})}(kv);var Xa={getEnv:function kf(){if(!ka)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return ka},setEnv:pm,initialize:Sf,createBrowserEnv:Sv,createFileSystem:Av,createNodejsEnv:wb,monkeyPatch:function Tv(i){if(ka||Sf(),!ka)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var n=i.Canvas,e=void 0===n?ka.Canvas:n,r=i.Image,a=void 0===r?ka.Image:r;ka.Canvas=e,ka.Image=a,ka.createCanvasElement=i.createCanvasElement||function(){return new e},ka.createImageElement=i.createImageElement||function(){return new a},ka.ImageData=i.ImageData||ka.ImageData,ka.Video=i.Video||ka.Video,ka.fetch=i.fetch||ka.fetch,ka.readFile=i.readFile||ka.readFile},isBrowser:Df,isNodejs:ou};function mm(i){return Xa.isNodejs()||"string"!=typeof i?i:document.getElementById(i)}function ml(i){var n=Xa.getEnv(),e=n.Canvas;if(i instanceof n.CanvasRenderingContext2D)return i;var a=mm(i);if(!(a instanceof e))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var c=a.getContext("2d");if(!c)throw new Error("resolveContext2d - canvas 2d context is null");return c}Sf();var nd=function(i){return i.TOP_LEFT="TOP_LEFT",i.TOP_RIGHT="TOP_RIGHT",i.BOTTOM_LEFT="BOTTOM_LEFT",i.BOTTOM_RIGHT="BOTTOM_RIGHT",i}(nd||{}),_b=function(){return function i(n){void 0===n&&(n={});var r=n.backgroundColor,a=n.fontColor,c=n.fontSize,h=n.fontStyle,f=n.padding;this.anchorPosition=n.anchorPosition||nd.TOP_LEFT,this.backgroundColor=r||"rgba(0, 0, 0, 0.5)",this.fontColor=a||"rgba(255, 255, 255, 1)",this.fontSize=c||14,this.fontStyle=h||"Georgia",this.padding=f||4}}();!function(){function i(n,e,r){void 0===r&&(r={}),this.text="string"==typeof n?[n]:n instanceof i?n.text:n,this.anchor=e,this.options=new _b(r)}i.prototype.measureWidth=function(n){var e=this.options.padding;return this.text.map(function(r){return n.measureText(r).width}).reduce(function(r,a){return r<a?a:r},0)+2*e},i.prototype.measureHeight=function(){var n=this.options;return this.text.length*n.fontSize+2*n.padding},i.prototype.getUpperLeft=function(n,e){var r=this.options.anchorPosition,a=r===nd.BOTTOM_RIGHT||r===nd.TOP_RIGHT,c=r===nd.BOTTOM_LEFT||r===nd.BOTTOM_RIGHT,h=this.measureWidth(n),f=this.measureHeight(),m=a?this.anchor.x-h:this.anchor.x,b=c?this.anchor.y-f:this.anchor.y;if(e){var I=e.height;return{x:Math.max(Math.min(m,e.width-h),0),y:Math.max(Math.min(b,I-f),0)}}return{x:m,y:b}},i.prototype.draw=function(n){var e=mm(n),r=ml(e),a=this.options,c=a.backgroundColor,h=a.fontColor,f=a.fontSize,b=a.padding;r.font=f+"px "+a.fontStyle;var _=this.measureWidth(r),I=this.measureHeight();r.fillStyle=c;var D=this.getUpperLeft(r,e);r.fillRect(D.x,D.y,_,I),r.fillStyle=h,this.text.forEach(function(T,z){r.fillText(T,b+D.x,b+D.y+(z+1)*f)})}}();function Ib(i){var n=Xa.getEnv();return i instanceof n.Image&&i.complete||i instanceof n.Video&&i.readyState>=3}function Eb(i){return new Promise(function(n,e){if(!(i instanceof Blob))return e("bufferToImage - expected buf to be of type: Blob");var r=new FileReader;r.onload=function(){if("string"!=typeof r.result)return e("bufferToImage - expected reader.result to be a string, in onload");var a=Xa.getEnv().createImageElement();a.onload=function(){return n(a)},a.onerror=e,a.src=r.result},r.onerror=e,r.readAsDataURL(i)})}function Mv(i){var n=Xa.getEnv(),r=n.Video;return i instanceof n.Image?new qd(i.naturalWidth,i.naturalHeight):i instanceof r?new qd(i.videoWidth,i.videoHeight):new qd(i.width,i.height)}function gm(i){var n=i.width,e=i.height,a=(0,Xa.getEnv().createCanvasElement)();return a.width=n,a.height=e,a}function Rv(i,n){var e=Xa.getEnv().ImageData;if(!(i instanceof e||Ib(i)))throw new Error("createCanvasFromMedia - media has not finished loading yet");var r=n||Mv(i),a=r.width,c=r.height,h=gm({width:a,height:c});return i instanceof e?ml(h).putImageData(i,0,0):ml(h).drawImage(i,0,0,a,c),h}function Us(i,n){return ro(this,void 0,void 0,function(){var e,r,a,c,h,f;return oo(this,function(m){switch(m.label){case 0:return e=n||Xa.getEnv().createCanvasElement(),r=i.shape.slice(El(i)?1:0),a=r[0],c=r[1],h=r[2],f=$t(function(){return i.as3D(a,c,h).toInt()}),[4,im.toPixels(f,e)];case 1:return m.sent(),f.dispose(),[2,e]}})})}function Db(i){var n=Xa.getEnv();return i instanceof n.Image||i instanceof n.Canvas||i instanceof n.Video}var Pv=function(){function i(n,e){var r=this;if(void 0===e&&(e=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(n))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+n);this._treatAsBatchInput=e,this._batchSize=n.length,n.forEach(function(a,c){if(tu(a))return r._imageTensors[c]=a,void(r._inputDimensions[c]=a.shape);if(El(a)){var h=a.shape[0];if(1!==h)throw new Error("NetInput - tf.Tensor4D with batchSize "+h+" passed, but not supported in input array");return r._imageTensors[c]=a,void(r._inputDimensions[c]=a.shape.slice(1))}var f=a instanceof Xa.getEnv().Canvas?a:Rv(a);r._canvases[c]=f,r._inputDimensions[c]=[f.height,f.width,3]})}return Object.defineProperty(i.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"reshapedInputDimensions",{get:function(){var n=this;return Zd(this.batchSize,0,1).map(function(e,r){return n.getReshapedInputDimensions(r)})},enumerable:!0,configurable:!0}),i.prototype.getInput=function(n){return this.canvases[n]||this.imageTensors[n]},i.prototype.getInputDimensions=function(n){return this._inputDimensions[n]},i.prototype.getInputHeight=function(n){return this._inputDimensions[n][0]},i.prototype.getInputWidth=function(n){return this._inputDimensions[n][1]},i.prototype.getReshapedInputDimensions=function(n){if("number"!=typeof this.inputSize)throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");return function gb(i,n){var e=i.width,r=i.height,a=n/Math.max(r,e);return new qd(Math.round(e*a),Math.round(r*a))}({width:this.getInputWidth(n),height:this.getInputHeight(n)},this.inputSize)},i.prototype.toBatchTensor=function(n,e){var r=this;return void 0===e&&(e=!0),this._inputSize=n,$t(function(){var a=Zd(r.batchSize,0,1).map(function(h){var f=r.getInput(h);if(f instanceof Or){var m=El(f)?f:f.expandDims();return m=function Ev(i,n){return void 0===n&&(n=!1),$t(function(){var e=i.shape.slice(1),r=e[0],a=e[1];if(r===a)return i;var c=Math.abs(r-a),h=Math.round(c*(n?.5:1)),f=r>a?2:1,m=function(T){var z=i.shape.slice();return z[f]=T,So(z,0)},b=m(h),_=c-b.shape[f],D=[n&&_?m(_):null,i,b].filter(function(T){return!!T}).map(function(T){return T.toFloat()});return hi(D,f)})}(m,e),(m.shape[1]!==n||m.shape[2]!==n)&&(m=qu.resizeBilinear(m,[n,n])),m.as3D(n,n,3)}if(f instanceof Xa.getEnv().Canvas)return im.fromPixels(function Dx(i,n,e){void 0===e&&(e=!1);var r=Xa.getEnv(),c=r.Canvas;if(!(i instanceof r.Image||i instanceof c))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var h=Mv(i),f=n/Math.max(h.height,h.width),m=f*h.width,b=f*h.height,_=gm({width:n,height:n}),I=i instanceof c?i:Rv(i),D=Math.abs(m-b)/2,T=e&&m<b?D:0,z=e&&b<m?D:0;return ml(_).drawImage(I,T,z,m,b),_}(f,n,e));throw new Error("toBatchTensor - at batchIdx "+h+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+f)});return pa(a.map(function(h){return h.toFloat()})).as4D(r.batchSize,n,n,3)})},i}();function La(i){return ro(this,void 0,void 0,function(){var n,e,r;return oo(this,function(a){switch(a.label){case 0:if(i instanceof Pv)return[2,i];if(!(n=Array.isArray(i)?i:[i]).length)throw new Error("toNetInput - empty array passed as input");return e=function(c){return Array.isArray(i)?" at input index "+c+":":""},(r=n.map(mm)).forEach(function(c,h){if(!Db(c)&&!tu(c)&&!El(c))throw"string"==typeof n[h]?new Error("toNetInput -"+e(h)+" string passed, but could not resolve HTMLElement for element id "+n[h]):new Error("toNetInput -"+e(h)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id");if(El(c)){var f=c.shape[0];if(1!==f)throw new Error("toNetInput -"+e(h)+" tf.Tensor4D with batchSize "+f+" passed, but not supported in input array")}}),[4,Promise.all(r.map(function(c){return Db(c)&&function Ex(i){return new Promise(function(n,e){if(i instanceof Xa.getEnv().Canvas||Ib(i))return n();function r(c){c.currentTarget&&(c.currentTarget.removeEventListener("load",r),c.currentTarget.removeEventListener("error",a),n(c))}function a(c){c.currentTarget&&(c.currentTarget.removeEventListener("load",r),c.currentTarget.removeEventListener("error",a),e(c))}i.addEventListener("load",r),i.addEventListener("error",a)})}(c)}))];case 1:return a.sent(),[2,new Pv(r,Array.isArray(i))]}})})}function Af(i,n){return ro(this,void 0,void 0,function(){var e,r,a,c,h,f;return oo(this,function(b){switch(b.label){case 0:return e=Xa.getEnv().Canvas,r=i,i instanceof e?[3,5]:[4,La(i)];case 1:if((a=b.sent()).batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return(c=a.getInput(0))instanceof e?(h=c,[3,4]):[3,2];case 2:return[4,Us(c)];case 3:h=b.sent(),b.label=4;case 4:r=h,b.label=5;case 5:return f=ml(r),[2,n.map(function(_){return _ instanceof pl?_.forSize(r.width,r.height).box.floor():_}).map(function(_){return _.clipAtImageBorders(r.width,r.height)}).map(function(_){var I=_.x,D=_.y,T=_.width,z=_.height,J=gm({width:T,height:z});return ml(J).putImageData(f.getImageData(I,D,T,z),0,0),J})]}})})}function Ov(i,n){return ro(this,void 0,void 0,function(){return oo(this,function(e){if(!tu(i)&&!El(i))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(El(i)&&i.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,$t(function(){var r=i.shape.slice(El(i)?1:0),a=r[0],c=r[1],h=r[2];return n.map(function(b){return b instanceof pl?b.forSize(c,a).box:b}).map(function(b){return b.clipAtImageBorders(c,a)}).map(function(b){var _=b.x,I=b.y,D=b.width,T=b.height;return Up(i.as3D(a,c,h),[I,_,0],[T,D,h])})})]})})}function kb(i,n){return ro(this,void 0,void 0,function(){var r;return oo(this,function(a){switch(a.label){case 0:return[4,(0,Xa.getEnv().fetch)(i,n)];case 1:if(!((r=a.sent()).status<400))throw new Error("failed to fetch: ("+r.status+") "+r.statusText+", from url: "+r.url);return[2,r]}})})}function Sb(i){return ro(this,void 0,void 0,function(){var n,e;return oo(this,function(r){switch(r.label){case 0:return[4,kb(i)];case 1:return[4,(n=r.sent()).blob()];case 2:if(!(e=r.sent()).type.startsWith("image/"))throw new Error("fetchImage - expected blob type to be of type image/*, instead have: "+e.type+", for url: "+n.url);return[2,Eb(e)]}})})}function Ab(i){return ro(this,void 0,void 0,function(){return oo(this,function(n){switch(n.label){case 0:return[4,kb(i)];case 1:return[2,n.sent().json()]}})})}function Tb(i,n){var e=n+"-weights_manifest.json";if(!i)return{modelBaseUri:"",manifestUri:e};if("/"===i)return{modelBaseUri:"/",manifestUri:"/"+e};var r=i.startsWith("http://")?"http://":i.startsWith("https://")?"https://":"",a=(i=i.replace(r,"")).split("/").filter(function(f){return f}),c=i.endsWith(".json")?a[a.length-1]:e,h=r+(i.endsWith(".json")?a.slice(0,a.length-1):a).join("/");return{modelBaseUri:h=i.startsWith("/")?"/"+h:h,manifestUri:"/"===h?"/"+c:h+"/"+c}}function Nv(i,n){return ro(this,void 0,void 0,function(){var e,a,c;return oo(this,function(h){switch(h.label){case 0:return e=Tb(i,n),a=e.modelBaseUri,[4,Ab(e.manifestUri)];case 1:return c=h.sent(),[2,xs.loadWeights(c,a)]}})})}var wc=function(){function i(n){this._name=n,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(i.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),i.prototype.getParamFromPath=function(n){var e=this.traversePropertyPath(n);return e.obj[e.objProp]},i.prototype.reassignParamFromPath=function(n,e){var r=this.traversePropertyPath(n),a=r.obj,c=r.objProp;a[c].dispose(),a[c]=e},i.prototype.getParamList=function(){var n=this;return this._paramMappings.map(function(e){var r=e.paramPath;return{path:r,tensor:n.getParamFromPath(r)}})},i.prototype.getTrainableParams=function(){return this.getParamList().filter(function(n){return n.tensor instanceof Pt})},i.prototype.getFrozenParams=function(){return this.getParamList().filter(function(n){return!(n.tensor instanceof Pt)})},i.prototype.variable=function(){var n=this;this.getFrozenParams().forEach(function(e){n.reassignParamFromPath(e.path,e.tensor.variable())})},i.prototype.freeze=function(){var n=this;this.getTrainableParams().forEach(function(e){var r=e.path,a=e.tensor,c=gt(a.dataSync());a.dispose(),n.reassignParamFromPath(r,c)})},i.prototype.dispose=function(n){void 0===n&&(n=!0),this.getParamList().forEach(function(e){if(n&&e.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+e.path);e.tensor.dispose()}),this._params=void 0},i.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map(function(n){return Array.from(n.tensor.dataSync())}).reduce(function(n,e){return n.concat(e)}))},i.prototype.load=function(n){return ro(this,void 0,void 0,function(){return oo(this,function(e){switch(e.label){case 0:return n instanceof Float32Array?(this.extractWeights(n),[2]):[4,this.loadFromUri(n)];case 1:return e.sent(),[2]}})})},i.prototype.loadFromUri=function(n){return ro(this,void 0,void 0,function(){var e;return oo(this,function(r){switch(r.label){case 0:if(n&&"string"!=typeof n)throw new Error(this._name+".loadFromUri - expected model uri");return[4,Nv(n,this.getDefaultModelName())];case 1:return e=r.sent(),this.loadFromWeightMap(e),[2]}})})},i.prototype.loadFromDisk=function(n){return ro(this,void 0,void 0,function(){var e,r,a,c,f,m,b,_,I;return oo(this,function(D){switch(D.label){case 0:if(n&&"string"!=typeof n)throw new Error(this._name+".loadFromDisk - expected model file path");return e=Xa.getEnv().readFile,r=Tb(n,this.getDefaultModelName()),a=r.manifestUri,c=r.modelBaseUri,f=xs.weightsLoaderFactory(function(T){return Promise.all(T.map(function(z){return e(z).then(function(J){return J.buffer})}))}),_=(b=JSON).parse,[4,e(a)];case 1:return m=_.apply(b,[D.sent().toString()]),[4,f(m,c)];case 2:return I=D.sent(),this.loadFromWeightMap(I),[2]}})})},i.prototype.loadFromWeightMap=function(n){var e=this.extractParamsFromWeigthMap(n),a=e.params;this._paramMappings=e.paramMappings,this._params=a},i.prototype.extractWeights=function(n){var e=this.extractParams(n),a=e.params;this._paramMappings=e.paramMappings,this._params=a},i.prototype.traversePropertyPath=function(n){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var e=n.split("/").reduce(function(c,h){if(!c.nextObj.hasOwnProperty(h))throw new Error("traversePropertyPath - object does not have property "+h+", for path "+n);return{obj:c.nextObj,objProp:h,nextObj:c.nextObj[h]}},{nextObj:this.params}),r=e.obj,a=e.objProp;if(!(r&&a&&r[a]instanceof Or))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+n);return{obj:r,objProp:a}},i}();function tl(i,n,e){return $t(function(){var r=Oa(i,n.depthwise_filter,n.pointwise_filter,e,"same");return jo(r,n.bias)})}function Fv(i,n,e){return void 0===e&&(e=!1),$t(function(){var r=oa(e?jo(Js(i,n.conv0.filters,[2,2],"same"),n.conv0.bias):tl(i,n.conv0,[2,2])),a=tl(r,n.conv1,[1,1]),h=tl(oa(jo(r,a)),n.conv2,[1,1]);return oa(jo(r,jo(a,h)))})}function vm(i,n,e,r){return void 0===e&&(e=!1),void 0===r&&(r=!0),$t(function(){var a=oa(e?jo(Js(i,n.conv0.filters,r?[2,2]:[1,1],"same"),n.conv0.bias):tl(i,n.conv0,r?[2,2]:[1,1])),c=tl(a,n.conv1,[1,1]),f=tl(oa(jo(a,c)),n.conv2,[1,1]),b=tl(oa(jo(a,jo(c,f))),n.conv3,[1,1]);return oa(jo(a,jo(c,jo(f,b))))})}function Ba(i,n,e,r){return void 0===e&&(e="same"),void 0===r&&(r=!1),$t(function(){var a=jo(Js(i,n.filters,[1,1],e),n.bias);return r?oa(a):a})}function kl(i,n){Object.keys(i).forEach(function(e){n.some(function(r){return r.originalPath===e})||i[e].dispose()})}function bm(i,n){return function(e,r,a,c){var h=Kn(i(e*r*a*a),[a,a,e,r]),f=Jt(i(r));return n.push({paramPath:c+"/filters"},{paramPath:c+"/bias"}),{filters:h,bias:f}}}function Lv(i,n){return function(e,r,a){var c=pn(i(e*r),[e,r]),h=Jt(i(r));return n.push({paramPath:a+"/weights"},{paramPath:a+"/bias"}),{weights:c,bias:h}}}var Bv=function(){return function i(n,e,r){this.depthwise_filter=n,this.pointwise_filter=e,this.bias=r}}();function ym(i,n){return function(e,r,a){var c=Kn(i(9*e),[3,3,e,1]),h=Kn(i(e*r),[1,1,e,r]),f=Jt(i(r));return n.push({paramPath:a+"/depthwise_filter"},{paramPath:a+"/pointwise_filter"},{paramPath:a+"/bias"}),new Bv(c,h,f)}}function eh(i){return function(n){var e=i(n+"/depthwise_filter",4),r=i(n+"/pointwise_filter",4),a=i(n+"/bias",1);return new Bv(e,r,a)}}function Ul(i,n){return function(e,r,a){var c=i[e];if(!If(c,r))throw new Error("expected weightMap["+e+"] to be a Tensor"+r+"D, instead have "+c);return n.push({originalPath:e,paramPath:a||e}),c}}function iu(i){var n=i;return{extractWeights:function e(a){var c=n.slice(0,a);return n=n.slice(a),c},getRemainingWeights:function r(){return n}}}function $v(i,n){var e=bm(i,n),r=ym(i,n);function a(h,f,m,b){return void 0===b&&(b=!1),{conv0:b?e(h,f,3,m+"/conv0"):r(h,f,m+"/conv0"),conv1:r(f,f,m+"/conv1"),conv2:r(f,f,m+"/conv2")}}return{extractDenseBlock3Params:a,extractDenseBlock4Params:function c(h,f,m,b){void 0===b&&(b=!1);var _=a(h,f,m,b);return{conv0:_.conv0,conv1:_.conv1,conv2:_.conv2,conv3:r(f,f,m+"/conv3")}}}}function jv(i){return function(n){return{filters:i(n+"/filters",4),bias:i(n+"/bias",1)}}}function Tf(i,n){var e=Ul(i,n),r=jv(e),a=eh(e);return{extractDenseBlock3Params:function c(f,m){return void 0===m&&(m=!1),{conv0:m?r(f+"/conv0"):a(f+"/conv0"),conv1:a(f+"/conv1"),conv2:a(f+"/conv2")}},extractDenseBlock4Params:function h(f,m){return void 0===m&&(m=!1),{conv0:m?r(f+"/conv0"):a(f+"/conv0"),conv1:a(f+"/conv1"),conv2:a(f+"/conv2"),conv3:a(f+"/conv3")}}}}var Vl=function(i){function n(){return i.call(this,"FaceFeatureExtractor")||this}return Do(n,i),n.prototype.forwardInput=function(e){var r=this.params;if(!r)throw new Error("FaceFeatureExtractor - load model before inference");return $t(function(){var f=vm(Qd(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(Rt(255)),r.dense0,!0);return f=vm(f,r.dense1),f=vm(f,r.dense2),f=vm(f,r.dense3),Vu(f,[7,7],[2,2],"valid")})},n.prototype.forward=function(e){return ro(this,void 0,void 0,function(){var r;return oo(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,La(e)];case 1:return[2,r.apply(this,[a.sent()])]}})})},n.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},n.prototype.extractParamsFromWeigthMap=function(e){return function zv(i){var n=[],e=Tf(i,n).extractDenseBlock4Params,r={dense0:e("dense0",!0),dense1:e("dense1"),dense2:e("dense2"),dense3:e("dense3")};return kl(i,n),{params:r,paramMappings:n}}(e)},n.prototype.extractParams=function(e){return function Mb(i){var n=[],e=iu(i),a=e.getRemainingWeights,c=$v(e.extractWeights,n).extractDenseBlock4Params,h=c(3,32,"dense0",!0),f=c(32,64,"dense1"),m=c(64,128,"dense2"),b=c(128,256,"dense3");if(0!==a().length)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:n,params:{dense0:h,dense1:f,dense2:m,dense3:b}}}(e)},n}(wc);function Hl(i,n){return $t(function(){return jo(Ld(i,n.weights),n.bias)})}function Rb(i){var n={},e={};return Object.keys(i).forEach(function(r){(r.startsWith("fc")?e:n)[r]=i[r]}),{featureExtractorMap:n,classifierMap:e}}var rd=function(i){function n(e,r){var a=i.call(this,e)||this;return a._faceFeatureExtractor=r,a}return Do(n,i),Object.defineProperty(n.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),n.prototype.runNet=function(e){var r=this,a=this.params;if(!a)throw new Error(this._name+" - load model before inference");return $t(function(){var c=e instanceof Pv?r.faceFeatureExtractor.forwardInput(e):e;return Hl(c.as2D(c.shape[0],-1),a.fc)})},n.prototype.dispose=function(e){void 0===e&&(e=!0),this.faceFeatureExtractor.dispose(e),i.prototype.dispose.call(this,e)},n.prototype.loadClassifierParams=function(e){var r=this.extractClassifierParams(e),c=r.paramMappings;this._params=r.params,this._paramMappings=c},n.prototype.extractClassifierParams=function(e){return function kx(i,n,e){var r=[],a=iu(i),h=a.getRemainingWeights,m=Lv(a.extractWeights,r)(n,e,"fc");if(0!==h().length)throw new Error("weights remaing after extract: "+h().length);return{paramMappings:r,params:{fc:m}}}(e,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},n.prototype.extractParamsFromWeigthMap=function(e){var r=Rb(e),c=r.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(r.featureExtractorMap),function Uv(i){var n=[],e=Ul(i,n),a={fc:function r(c){return{weights:e(c+"/weights",2),bias:e(c+"/bias",1)}}("fc")};return kl(i,n),{params:a,paramMappings:n}}(c)},n.prototype.extractParams=function(e){var r=this.getClassifierChannelsIn(),a=this.getClassifierChannelsOut(),c=a*r+a,h=e.slice(0,e.length-c),f=e.slice(e.length-c);return this.faceFeatureExtractor.extractWeights(h),this.extractClassifierParams(f)},n}(wc),Vv=["neutral","happy","sad","angry","fearful","disgusted","surprised"],od=function(){function i(n){var e=this;if(7!==n.length)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+n.length);Vv.forEach(function(r,a){e[r]=n[a]})}return i.prototype.asSortedArray=function(){var n=this;return Vv.map(function(e){return{expression:e,probability:n[e]}}).sort(function(e,r){return r.probability-e.probability})},i}(),th=function(i){function n(e){return void 0===e&&(e=new Vl),i.call(this,"FaceExpressionNet",e)||this}return Do(n,i),n.prototype.forwardInput=function(e){var r=this;return $t(function(){return Oo(r.runNet(e))})},n.prototype.forward=function(e){return ro(this,void 0,void 0,function(){var r;return oo(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,La(e)];case 1:return[2,r.apply(this,[a.sent()])]}})})},n.prototype.predictExpressions=function(e){return ro(this,void 0,void 0,function(){var r,a,c,h,f=this;return oo(this,function(m){switch(m.label){case 0:return[4,La(e)];case 1:return r=m.sent(),[4,this.forwardInput(r)];case 2:return a=m.sent(),[4,Promise.all(Wi(a).map(function(b){return ro(f,void 0,void 0,function(){var _;return oo(this,function(I){switch(I.label){case 0:return[4,b.data()];case 1:return _=I.sent(),b.dispose(),[2,_]}})})}))];case 3:return c=m.sent(),a.dispose(),h=c.map(function(b){return new od(b)}),[2,r.isBatchInput?h:h[0]]}})})},n.prototype.getDefaultModelName=function(){return"face_expression_model"},n.prototype.getClassifierChannelsIn=function(){return 256},n.prototype.getClassifierChannelsOut=function(){return 7},n}(rd);function nh(i,n){return Object.assign({},i,{expressions:n})}function Hv(i,n){var e=i.detection.box,r=n.shiftBy(e.x,e.y),a=r.align(),c=i.detection.imageDims,h=new pl(i.detection.score,a.rescale(c.reverse()),c);return Object.assign({},i,{landmarks:r,unshiftedLandmarks:n,alignedRect:h})}function Fb(i,n,e){return jo(Js(i,n.filters,e,"same"),n.bias)}function wm(i,n,e){void 0===e&&(e=!0);var r=e?oa(i):i;return r=tl(r,n.separable_conv0,[1,1]),r=tl(oa(r),n.separable_conv1,[1,1]),r=Ga(r,[3,3],[2,2],"same"),jo(r,Fb(i,n.expansion_conv,[2,2]))}var Lb=function(i){function n(e){var r=i.call(this,"TinyXception")||this;return r._numMainBlocks=e,r}return Do(n,i),n.prototype.forwardInput=function(e){var r=this,a=this.params;if(!a)throw new Error("TinyXception - load model before inference");return $t(function(){var f=Qd(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(Rt(256)),m=oa(Fb(f,a.entry_flow.conv_in,[2,2]));return m=wm(m,a.entry_flow.reduction_block_0,!1),m=wm(m,a.entry_flow.reduction_block_1),Zd(r._numMainBlocks,0,1).forEach(function(b){m=function Px(i,n){var e=tl(oa(i),n.separable_conv0,[1,1]);return e=tl(oa(e),n.separable_conv1,[1,1]),e=tl(oa(e),n.separable_conv2,[1,1]),jo(e,i)}(m,a.middle_flow["main_block_"+b])}),m=wm(m,a.exit_flow.reduction_block),m=oa(tl(m,a.exit_flow.separable_conv,[1,1]))})},n.prototype.forward=function(e){return ro(this,void 0,void 0,function(){var r;return oo(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,La(e)];case 1:return[2,r.apply(this,[a.sent()])]}})})},n.prototype.getDefaultModelName=function(){return"tiny_xception_model"},n.prototype.extractParamsFromWeigthMap=function(e){return function xm(i,n){var e=[],r=function Rx(i,n){var e=Ul(i,n),r=jv(e),a=eh(e);return{extractConvParams:r,extractSeparableConvParams:a,extractReductionBlockParams:function c(f){return{separable_conv0:a(f+"/separable_conv0"),separable_conv1:a(f+"/separable_conv1"),expansion_conv:r(f+"/expansion_conv")}},extractMainBlockParams:function h(f){return{separable_conv0:a(f+"/separable_conv0"),separable_conv1:a(f+"/separable_conv1"),separable_conv2:a(f+"/separable_conv2")}}}}(i,e),c=r.extractSeparableConvParams,h=r.extractReductionBlockParams,f=r.extractMainBlockParams,I={conv_in:(0,r.extractConvParams)("entry_flow/conv_in"),reduction_block_0:h("entry_flow/reduction_block_0"),reduction_block_1:h("entry_flow/reduction_block_1")},D={};Zd(n,0,1).forEach(function(ee){D["main_block_"+ee]=f("middle_flow/main_block_"+ee)});var J={reduction_block:h("exit_flow/reduction_block"),separable_conv:c("exit_flow/separable_conv")};return kl(i,e),{params:{entry_flow:I,middle_flow:D,exit_flow:J},paramMappings:e}}(e,this._numMainBlocks)},n.prototype.extractParams=function(e){return function Nb(i,n){var e=[],r=iu(i),c=r.getRemainingWeights,h=function Mx(i,n){var e=bm(i,n),r=ym(i,n);return{extractConvParams:e,extractSeparableConvParams:r,extractReductionBlockParams:function a(h,f,m){return{separable_conv0:r(h,f,m+"/separable_conv0"),separable_conv1:r(f,f,m+"/separable_conv1"),expansion_conv:e(h,f,1,m+"/expansion_conv")}},extractMainBlockParams:function c(h,f){return{separable_conv0:r(h,h,f+"/separable_conv0"),separable_conv1:r(h,h,f+"/separable_conv1"),separable_conv2:r(h,h,f+"/separable_conv2")}}}}(r.extractWeights,e),m=h.extractSeparableConvParams,b=h.extractReductionBlockParams,_=h.extractMainBlockParams,z={conv_in:(0,h.extractConvParams)(3,32,3,"entry_flow/conv_in"),reduction_block_0:b(32,64,"entry_flow/reduction_block_0"),reduction_block_1:b(64,128,"entry_flow/reduction_block_1")},J={};Zd(n,0,1).forEach(function(be){J["main_block_"+be]=_(128,"middle_flow/main_block_"+be)});var me={reduction_block:b(128,256,"exit_flow/reduction_block"),separable_conv:m(256,512,"exit_flow/separable_conv")};if(0!==c().length)throw new Error("weights remaing after extract: "+c().length);return{paramMappings:e,params:{entry_flow:z,middle_flow:J,exit_flow:me}}}(e,this._numMainBlocks)},n}(wc),_m=function(i){return i.FEMALE="female",i.MALE="male",i}(_m||{}),Wv=function(i){function n(e){void 0===e&&(e=new Lb(2));var r=i.call(this,"AgeGenderNet")||this;return r._faceFeatureExtractor=e,r}return Do(n,i),Object.defineProperty(n.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),n.prototype.runNet=function(e){var r=this,a=this.params;if(!a)throw new Error(this._name+" - load model before inference");return $t(function(){var c=e instanceof Pv?r.faceFeatureExtractor.forwardInput(e):e,h=Vu(c,[7,7],[2,2],"valid").as2D(c.shape[0],-1);return{age:Hl(h,a.fc.age).as1D(),gender:Hl(h,a.fc.gender)}})},n.prototype.forwardInput=function(e){var r=this;return $t(function(){var a=r.runNet(e);return{age:a.age,gender:Oo(a.gender)}})},n.prototype.forward=function(e){return ro(this,void 0,void 0,function(){var r;return oo(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,La(e)];case 1:return[2,r.apply(this,[a.sent()])]}})})},n.prototype.predictAgeAndGender=function(e){return ro(this,void 0,void 0,function(){var r,a,c,h,f,m,b=this;return oo(this,function(_){switch(_.label){case 0:return[4,La(e)];case 1:return r=_.sent(),[4,this.forwardInput(r)];case 2:return a=_.sent(),c=Wi(a.age),h=Wi(a.gender),f=c.map(function(I,D){return{ageTensor:I,genderTensor:h[D]}}),[4,Promise.all(f.map(function(I){var D=I.ageTensor,T=I.genderTensor;return ro(b,void 0,void 0,function(){var z,J,ee,ne,me;return oo(this,function(be){switch(be.label){case 0:return[4,D.data()];case 1:return z=be.sent()[0],[4,T.data()];case 2:return J=be.sent()[0],ne=(ee=J>.5)?_m.MALE:_m.FEMALE,me=ee?J:1-J,D.dispose(),T.dispose(),[2,{age:z,gender:ne,genderProbability:me}]}})})}))];case 3:return m=_.sent(),a.age.dispose(),a.gender.dispose(),[2,r.isBatchInput?m:m[0]]}})})},n.prototype.getDefaultModelName=function(){return"age_gender_model"},n.prototype.dispose=function(e){void 0===e&&(e=!0),this.faceFeatureExtractor.dispose(e),i.prototype.dispose.call(this,e)},n.prototype.loadClassifierParams=function(e){var r=this.extractClassifierParams(e),c=r.paramMappings;this._params=r.params,this._paramMappings=c},n.prototype.extractClassifierParams=function(e){return function Ox(i){var n=[],e=iu(i),a=e.getRemainingWeights,c=Lv(e.extractWeights,n),h=c(512,1,"fc/age"),f=c(512,2,"fc/gender");if(0!==a().length)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:n,params:{fc:{age:h,gender:f}}}}(e)},n.prototype.extractParamsFromWeigthMap=function(e){var r=Rb(e),c=r.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(r.featureExtractorMap),function Nx(i){var n=[],e=Ul(i,n);function r(c){return{weights:e(c+"/weights",2),bias:e(c+"/bias",1)}}var a={fc:{age:r("fc/age"),gender:r("fc/gender")}};return kl(i,n),{params:a,paramMappings:n}}(c)},n.prototype.extractParams=function(e){var a=e.slice(0,e.length-1539),c=e.slice(e.length-1539);return this.faceFeatureExtractor.extractWeights(a),this.extractClassifierParams(c)},n}(wc),Gv=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Do(n,i),n.prototype.postProcess=function(e,r,a){var c=a.map(function(f){var m=f.width,b=f.height,_=r/Math.max(b,m);return{width:m*_,height:b*_}}),h=c.length;return $t(function(){var f=function(D,T){return pa([So([68],D),So([68],T)],1).as2D(1,136).as1D()},m=function(D,T){var z=c[D],J=z.width,ee=z.height;return T(J,ee)?Math.abs(J-ee)/2:0};return e.mul(So([h,136],r)).sub(pa(Array.from(Array(h),function(D,T){return f(function(D){return m(D,function(T,z){return T<z})}(T),function(D){return m(D,function(T,z){return z<T})}(T))}))).div(pa(Array.from(Array(h),function(D,T){return f(c[T].width,c[T].height)})))})},n.prototype.forwardInput=function(e){var r=this;return $t(function(){var a=r.runNet(e);return r.postProcess(a,e.inputSize,e.inputDimensions.map(function(c){return{height:c[0],width:c[1]}}))})},n.prototype.forward=function(e){return ro(this,void 0,void 0,function(){var r;return oo(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,La(e)];case 1:return[2,r.apply(this,[a.sent()])]}})})},n.prototype.detectLandmarks=function(e){return ro(this,void 0,void 0,function(){var r,a,c,h=this;return oo(this,function(f){switch(f.label){case 0:return[4,La(e)];case 1:return r=f.sent(),a=$t(function(){return Wi(h.forwardInput(r))}),[4,Promise.all(a.map(function(m,b){return ro(h,void 0,void 0,function(){var _,I,D,T,z;return oo(this,function(J){switch(J.label){case 0:return D=(I=Array).from,[4,m.data()];case 1:return _=D.apply(I,[J.sent()]),T=_.filter(function(ee,ne){return mb(ne)}),z=_.filter(function(ee,ne){return!mb(ne)}),[2,new yb(Array(68).fill(0).map(function(ee,ne){return new Ii(T[ne],z[ne])}),{height:r.getInputHeight(b),width:r.getInputWidth(b)})]}})})}))];case 2:return c=f.sent(),a.forEach(function(m){return m.dispose()}),[2,r.isBatchInput?c:c[0]]}})})},n.prototype.getClassifierChannelsOut=function(){return 136},n}(rd),rh=function(i){function n(e){return void 0===e&&(e=new Vl),i.call(this,"FaceLandmark68Net",e)||this}return Do(n,i),n.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},n.prototype.getClassifierChannelsIn=function(){return 256},n}(Gv),Fx=function(i){function n(){return i.call(this,"TinyFaceFeatureExtractor")||this}return Do(n,i),n.prototype.forwardInput=function(e){var r=this.params;if(!r)throw new Error("TinyFaceFeatureExtractor - load model before inference");return $t(function(){var f=Fv(Qd(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(Rt(255)),r.dense0,!0);return f=Fv(f,r.dense1),f=Fv(f,r.dense2),Vu(f,[14,14],[2,2],"valid")})},n.prototype.forward=function(e){return ro(this,void 0,void 0,function(){var r;return oo(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,La(e)];case 1:return[2,r.apply(this,[a.sent()])]}})})},n.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},n.prototype.extractParamsFromWeigthMap=function(e){return function Mf(i){var n=[],e=Tf(i,n).extractDenseBlock3Params,r={dense0:e("dense0",!0),dense1:e("dense1"),dense2:e("dense2")};return kl(i,n),{params:r,paramMappings:n}}(e)},n.prototype.extractParams=function(e){return function Rf(i){var n=[],e=iu(i),a=e.getRemainingWeights,c=$v(e.extractWeights,n).extractDenseBlock3Params,h=c(3,32,"dense0",!0),f=c(32,64,"dense1"),m=c(64,128,"dense2");if(0!==a().length)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:n,params:{dense0:h,dense1:f,dense2:m}}}(e)},n}(wc),Lx=function(i){function n(e){return void 0===e&&(e=new Fx),i.call(this,"FaceLandmark68TinyNet",e)||this}return Do(n,i),n.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},n.prototype.getClassifierChannelsIn=function(){return 128},n}(Gv);function Pf(i,n,e,r,a){void 0===a&&(a="same");var c=n.conv,f=c.bias,m=Js(i,c.filters,e,a);return m=function Cm(i,n){return jo(rs(i,n.weights),n.biases)}(m=jo(m,f),n.scale),r?oa(m):m}function $x(i,n){return Pf(i,n,[1,1],!1)}function jx(i,n){return Pf(i,n,[2,2],!0,"valid")}function zx(i,n){function c(f,m,b,_){var I=function r(f,m,b,_){var I=function e(f,m,b){var _=i(f),I=_.length/(m*b*b);if(function Cv(i){return i%1!=0}(I))throw new Error("depth has to be an integer: "+I+", weights.length: "+_.length+", numFilters: "+m+", filterSize: "+b);return $t(function(){return Zc(Kn(_,[m,I,b,b]),[2,3,1,0])})}(f,m,b),D=Jt(i(m));return n.push({paramPath:_+"/filters"},{paramPath:_+"/bias"}),{filters:I,bias:D}}(f,m,b,_+"/conv"),D=function a(f,m){var b=Jt(i(f)),_=Jt(i(f));return n.push({paramPath:m+"/weights"},{paramPath:m+"/biases"}),{weights:b,biases:_}}(m,_+"/scale");return{conv:I,scale:D}}return{extractConvLayerParams:c,extractResidualLayerParams:function h(f,m,b,_,I){return void 0===I&&(I=!1),{conv1:c((I?.5:1)*f,m,b,_+"/conv1"),conv2:c(f,m,b,_+"/conv2")}}}}function Vx(i){var n=[],e=function G_(i,n){var e=Ul(i,n);function a(h){var f=e(h+"/conv/filters",4),m=e(h+"/conv/bias",1),b=function r(h){return{weights:e(h+"/scale/weights",1),biases:e(h+"/scale/biases",1)}}(h);return{conv:{filters:f,bias:m},scale:b}}return{extractConvLayerParams:a,extractResidualLayerParams:function c(h){return{conv1:a(h+"/conv1"),conv2:a(h+"/conv2")}}}}(i,n),a=e.extractResidualLayerParams,c=(0,e.extractConvLayerParams)("conv32_down"),h=a("conv32_1"),f=a("conv32_2"),m=a("conv32_3"),b=a("conv64_down"),_=a("conv64_1"),I=a("conv64_2"),D=a("conv64_3"),T=a("conv128_down"),z=a("conv128_1"),J=a("conv128_2"),ee=a("conv256_down"),ne=a("conv256_1"),me=a("conv256_2"),be=a("conv256_down_out"),pe=i.fc;if(n.push({originalPath:"fc",paramPath:"fc"}),!function _v(i){return If(i,2)}(pe))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+pe);var Ie={conv32_down:c,conv32_1:h,conv32_2:f,conv32_3:m,conv64_down:b,conv64_1:_,conv64_2:I,conv64_3:D,conv128_down:T,conv128_1:z,conv128_2:J,conv256_down:ee,conv256_1:ne,conv256_2:me,conv256_down_out:be,fc:pe};return kl(i,n),{params:Ie,paramMappings:n}}function _c(i,n){var e=function Bx(i,n){return Pf(i,n,[1,1],!0)}(i,n.conv1);return e=$x(e,n.conv2),e=jo(e,i),oa(e)}function Im(i,n){var e=jx(i,n.conv1);e=$x(e,n.conv2);var r=Vu(i,2,2,"valid"),a=vo(r.shape),c=r.shape[3]!==e.shape[3];if(r.shape[1]!==e.shape[1]||r.shape[2]!==e.shape[2]){var f=ed(e.shape);f[1]=1;var m=vo(f),b=ed((e=hi([e,m],1)).shape);b[2]=1;var _=vo(b);e=hi([e,_],2)}return r=c?hi([r,a],3):r,e=jo(r,e),oa(e)}!function(i){Do(function n(){return null!==i&&i.apply(this,arguments)||this},i)}(rh);var Hx=function(i){function n(){return i.call(this,"FaceRecognitionNet")||this}return Do(n,i),n.prototype.forwardInput=function(e){var r=this.params;if(!r)throw new Error("FaceRecognitionNet - load model before inference");return $t(function(){var f=jx(Qd(e.toBatchTensor(150,!0).toFloat(),[122.782,117.001,104.298]).div(Rt(256)),r.conv32_down);f=_c(f=Ga(f,3,2,"valid"),r.conv32_1),f=_c(f,r.conv32_2),f=_c(f,r.conv32_3),f=_c(f=Im(f,r.conv64_down),r.conv64_1),f=_c(f,r.conv64_2),f=_c(f,r.conv64_3),f=_c(f=Im(f,r.conv128_down),r.conv128_1),f=_c(f,r.conv128_2),f=_c(f=Im(f,r.conv256_down),r.conv256_1);var m=(f=Im(f=_c(f,r.conv256_2),r.conv256_down_out)).mean([1,2]);return Ld(m,r.fc)})},n.prototype.forward=function(e){return ro(this,void 0,void 0,function(){var r;return oo(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,La(e)];case 1:return[2,r.apply(this,[a.sent()])]}})})},n.prototype.computeFaceDescriptor=function(e){return ro(this,void 0,void 0,function(){var r,a,c,h=this;return oo(this,function(f){switch(f.label){case 0:return[4,La(e)];case 1:return r=f.sent(),a=$t(function(){return Wi(h.forwardInput(r))}),[4,Promise.all(a.map(function(m){return m.data()}))];case 2:return c=f.sent(),a.forEach(function(m){return m.dispose()}),[2,r.isBatchInput?c:c[0]]}})})},n.prototype.getDefaultModelName=function(){return"face_recognition_model"},n.prototype.extractParamsFromWeigthMap=function(e){return Vx(e)},n.prototype.extractParams=function(e){return function Ux(i){var n=iu(i),e=n.extractWeights,r=n.getRemainingWeights,a=[],c=zx(e,a),f=c.extractResidualLayerParams,m=(0,c.extractConvLayerParams)(4704,32,7,"conv32_down"),b=f(9216,32,3,"conv32_1"),_=f(9216,32,3,"conv32_2"),I=f(9216,32,3,"conv32_3"),D=f(36864,64,3,"conv64_down",!0),T=f(36864,64,3,"conv64_1"),z=f(36864,64,3,"conv64_2"),J=f(36864,64,3,"conv64_3"),ee=f(147456,128,3,"conv128_down",!0),ne=f(147456,128,3,"conv128_1"),me=f(147456,128,3,"conv128_2"),be=f(589824,256,3,"conv256_down",!0),pe=f(589824,256,3,"conv256_1"),Ie=f(589824,256,3,"conv256_2"),Ye=f(589824,256,3,"conv256_down_out"),kt=$t(function(){return Zc(pn(e(32768),[128,256]),[1,0])});if(a.push({paramPath:"fc"}),0!==r().length)throw new Error("weights remaing after extract: "+r().length);return{params:{conv32_down:m,conv32_1:b,conv32_2:_,conv32_3:I,conv64_down:D,conv64_1:T,conv64_2:z,conv64_3:J,conv128_down:ee,conv128_1:ne,conv128_2:me,conv256_down:be,conv256_1:pe,conv256_2:Ie,conv256_down_out:Ye,fc:kt},paramMappings:a}}(e)},n}(wc);function oh(i,n,e){return Object.assign({},i,{gender:n,genderProbability:e})}var Em=function(){function i(n){var e=void 0===n?{}:n,r=e.minFaceSize,a=e.scaleFactor,c=e.maxNumScales,h=e.scoreThresholds,f=e.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=r||20,this._scaleFactor=a||.709,this._maxNumScales=c||10,this._scoreThresholds=h||[.6,.7,.7],this._scaleSteps=f,"number"!=typeof this._minFaceSize||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if("number"!=typeof this._scaleFactor||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if("number"!=typeof this._maxNumScales||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||3!==this._scoreThresholds.length||this._scoreThresholds.some(function(m){return"number"!=typeof m}))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some(function(m){return"number"!=typeof m})))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(i.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),i}();function Wl(i,n,e){return $t(function(){var r=Js(i,n.filters,e,"same");return r=jo(r,n.batch_norm_offset),Hc(r,0,6)})}function Wx(i,n,e){var r=i.arraySync(),a=Math.min(r[n][0],r[n][2]),c=Math.min(r[n][1],r[n][3]),h=Math.max(r[n][0],r[n][2]),f=Math.max(r[n][1],r[n][3]),m=Math.min(r[e][0],r[e][2]),b=Math.min(r[e][1],r[e][3]),_=Math.max(r[e][0],r[e][2]),I=Math.max(r[e][1],r[e][3]),D=(h-a)*(f-c),T=(_-m)*(I-b);if(D<=0||T<=0)return 0;var z=Math.max(a,m),J=Math.max(c,b),ee=Math.min(h,_),ne=Math.min(f,I),me=Math.max(ee-z,0)*Math.max(ne-J,0);return me/(D+T-me)}function ih(i,n){return $t(function(){var e=i.shape[0];return{boxPredictionEncoding:Hi(Ba(i,n.box_encoding_predictor),[e,-1,1,4]),classPrediction:Hi(Ba(i,n.class_predictor),[e,-1,3])}})}var Lf=function(){function i(n){var e=void 0===n?{}:n,r=e.minConfidence,a=e.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=r||.5,this._maxResults=a||100,"number"!=typeof this._minConfidence||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if("number"!=typeof this._maxResults)throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(i.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),i}(),Bf=function(i){function n(){return i.call(this,"SsdMobilenetv1")||this}return Do(n,i),n.prototype.forwardInput=function(e){var r=this.params;if(!r)throw new Error("SsdMobilenetv1 - load model before inference");return $t(function(){var a=e.toBatchTensor(512,!1).toFloat(),h=function Vb(i,n){return $t(function(){var e=null,r=Wl(i,n.conv_0,[2,2]);if([n.conv_1,n.conv_2,n.conv_3,n.conv_4,n.conv_5,n.conv_6,n.conv_7,n.conv_8,n.conv_9,n.conv_10,n.conv_11,n.conv_12,n.conv_13].forEach(function(c,h){var f=h+1,m=function Ub(i){return[2,4,6,12].some(function(n){return n===i})?[2,2]:[1,1]}(f);r=function zb(i,n,e){return $t(function(){var r=qc(i,n.filters,e,"same");return r=Np(r,n.batch_norm_mean,n.batch_norm_variance,n.batch_norm_offset,n.batch_norm_scale,.0010000000474974513),Hc(r,0,6)})}(r,c.depthwise_conv,m),r=Wl(r,c.pointwise_conv,[1,1]),11===f&&(e=r)}),null===e)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:r,conv11:e}})}(Wa(rs(a,Rt(.007843137718737125)),Rt(1)),r.mobilenetv1),f=function Kx(i,n,e){return $t(function(){var r=Wl(i,e.conv_0,[1,1]),a=Wl(r,e.conv_1,[2,2]),c=Wl(a,e.conv_2,[1,1]),h=Wl(c,e.conv_3,[2,2]),f=Wl(h,e.conv_4,[1,1]),m=Wl(f,e.conv_5,[2,2]),b=Wl(m,e.conv_6,[1,1]),_=Wl(b,e.conv_7,[2,2]),I=ih(n,e.box_predictor_0),D=ih(i,e.box_predictor_1),T=ih(a,e.box_predictor_2),z=ih(h,e.box_predictor_3),J=ih(m,e.box_predictor_4),ee=ih(_,e.box_predictor_5);return{boxPredictions:hi([I.boxPredictionEncoding,D.boxPredictionEncoding,T.boxPredictionEncoding,z.boxPredictionEncoding,J.boxPredictionEncoding,ee.boxPredictionEncoding],1),classPredictions:hi([I.classPrediction,D.classPrediction,T.classPrediction,z.classPrediction,J.classPrediction,ee.classPrediction],1)}})}(h.out,h.conv11,r.prediction_layer);return function Ff(i,n,e){return $t(function(){var r=i.shape[0],a=function Xx(i,n){var e=function Gx(i){var n=Wi(Zc(i,[1,0])),e=[Wa(n[2],n[0]),Wa(n[3],n[1])];return{sizes:e,centers:[jo(n[0],Ms(e[0],Rt(2))),jo(n[1],Ms(e[1],Rt(2)))]}}(i),r=e.sizes,a=e.centers,c=Wi(Zc(n,[1,0])),h=Ms(rs(kp(Ms(c[2],Rt(5))),r[0]),Rt(2)),f=jo(rs(Ms(c[0],Rt(10)),r[0]),a[0]),m=Ms(rs(kp(Ms(c[3],Rt(5))),r[1]),Rt(2)),b=jo(rs(Ms(c[1],Rt(10)),r[1]),a[1]);return Zc(pa([Wa(f,h),Wa(b,m),jo(f,h),jo(b,m)]),[1,0])}(Hi(ol(e.extra_dim,[r,1,1]),[-1,4]),Hi(i,[-1,4]));a=Hi(a,[r,a.shape[0]/r,4]);var c=Hh(ul(n,[0,0,1],[-1,-1,-1])),h=ul(c,[0,0,0],[-1,-1,1]);return h=Hi(h,[r,h.shape[1]]),{boxes:Wi(a),scores:Wi(h)}})}(f.boxPredictions,f.classPredictions,r.output_layer)})},n.prototype.forward=function(e){return ro(this,void 0,void 0,function(){var r;return oo(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,La(e)];case 1:return[2,r.apply(this,[a.sent()])]}})})},n.prototype.locateFaces=function(e,r){return void 0===r&&(r={}),ro(this,void 0,void 0,function(){var a,c,h,f,m,b,_,I,D,T,z,J,ee,me,be,pe,Ie,Ye,kt,It;return oo(this,function(vt){switch(vt.label){case 0:return a=new Lf(r),c=a.maxResults,h=a.minConfidence,[4,La(e)];case 1:for(f=vt.sent(),m=this.forwardInput(f),I=(b=m.boxes)[0],D=(_=m.scores)[0],T=1;T<b.length;T++)b[T].dispose(),_[T].dispose();return ee=(J=Array).from,[4,D.data()];case 2:return z=ee.apply(J,[vt.sent()]),me=function Hb(i,n,e,r,a){var h=Math.min(e,i.shape[0]),f=n.map(function(_,I){return{score:_,boxIndex:I}}).filter(function(_){return _.score>a}).sort(function(_,I){return I.score-_.score}),m=function(_){return _<=r?1:0},b=[];return f.forEach(function(_){if(!(b.length>=h)){for(var I=_.score,D=b.length-1;D>=0;--D){var T=Wx(i,_.boxIndex,b[D]);if(0!==T&&(_.score*=m(T),_.score<=a))break}I===_.score&&b.push(_.boxIndex)}}),b}(I,z,c,.5,h),be=f.getReshapedInputDimensions(0),Ie=(pe=f.inputSize)/be.width,Ye=pe/be.height,kt=I.arraySync(),It=me.map(function(bt){var en=[Math.max(0,kt[bt][0]),Math.min(1,kt[bt][2])].map(function(qn){return qn*Ye}),Kt=en[0],Sn=en[1],Fn=[Math.max(0,kt[bt][1]),Math.min(1,kt[bt][3])].map(function(qn){return qn*Ie}),jn=Fn[0];return new pl(z[bt],new Jd(jn,Kt,Fn[1]-jn,Sn-Kt),{height:f.getInputHeight(0),width:f.getInputWidth(0)})}),I.dispose(),D.dispose(),[2,It]}})})},n.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},n.prototype.extractParamsFromWeigthMap=function(e){return function jb(i){var n=[],e=function Of(i,n){var e=Ul(i,n);function r(b,_,I){return{filters:e(b+"/Conv2d_"+_+"_pointwise/weights",4,I+"/filters"),batch_norm_offset:e(b+"/Conv2d_"+_+"_pointwise/convolution_bn_offset",1,I+"/batch_norm_offset")}}function a(b){var _="mobilenetv1/conv_"+b,I="MobilenetV1/Conv2d_"+b+"_depthwise",D=_+"/depthwise_conv",T=_+"/pointwise_conv";return{depthwise_conv:{filters:e(I+"/depthwise_weights",4,D+"/filters"),batch_norm_scale:e(I+"/BatchNorm/gamma",1,D+"/batch_norm_scale"),batch_norm_offset:e(I+"/BatchNorm/beta",1,D+"/batch_norm_offset"),batch_norm_mean:e(I+"/BatchNorm/moving_mean",1,D+"/batch_norm_mean"),batch_norm_variance:e(I+"/BatchNorm/moving_variance",1,D+"/batch_norm_variance")},pointwise_conv:r("MobilenetV1",b,T)}}function h(b,_){return{filters:e(b+"/weights",4,_+"/filters"),bias:e(b+"/biases",1,_+"/bias")}}function f(b){return{box_encoding_predictor:h("Prediction/BoxPredictor_"+b+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+b+"/box_encoding_predictor"),class_predictor:h("Prediction/BoxPredictor_"+b+"/ClassPredictor","prediction_layer/box_predictor_"+b+"/class_predictor")}}return{extractMobilenetV1Params:function c(){return{conv_0:r("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:a(1),conv_2:a(2),conv_3:a(3),conv_4:a(4),conv_5:a(5),conv_6:a(6),conv_7:a(7),conv_8:a(8),conv_9:a(9),conv_10:a(10),conv_11:a(11),conv_12:a(12),conv_13:a(13)}},extractPredictionLayerParams:function m(){return{conv_0:r("Prediction",0,"prediction_layer/conv_0"),conv_1:r("Prediction",1,"prediction_layer/conv_1"),conv_2:r("Prediction",2,"prediction_layer/conv_2"),conv_3:r("Prediction",3,"prediction_layer/conv_3"),conv_4:r("Prediction",4,"prediction_layer/conv_4"),conv_5:r("Prediction",5,"prediction_layer/conv_5"),conv_6:r("Prediction",6,"prediction_layer/conv_6"),conv_7:r("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:f(0),box_predictor_1:f(1),box_predictor_2:f(2),box_predictor_3:f(3),box_predictor_4:f(4),box_predictor_5:f(5)}}}}(i,n),r=e.extractMobilenetV1Params,a=e.extractPredictionLayerParams,c=i["Output/extra_dim"];if(n.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!tu(c))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+c);var h={mobilenetv1:r(),prediction_layer:a(),output_layer:{extra_dim:c}};return kl(i,n),{params:h,paramMappings:n}}(e)},n.prototype.extractParams=function(e){return function $b(i){var n=[],e=iu(i),r=e.extractWeights,a=e.getRemainingWeights,c=function Dm(i,n){function r(m,b,_,I,D){var T=Kn(i(m*b*_*_),[_,_,m,b]),z=Jt(i(b));return n.push({paramPath:I+"/filters"},{paramPath:I+"/"+(D?"batch_norm_offset":"bias")}),{filters:T,bias:z}}function a(m,b,_,I){var D=r(m,b,_,I,!0);return{filters:D.filters,batch_norm_offset:D.bias}}function c(m,b,_){var I=function e(m,b){var _=Kn(i(9*m),[3,3,m,1]),I=Jt(i(m)),D=Jt(i(m)),T=Jt(i(m)),z=Jt(i(m));return n.push({paramPath:b+"/filters"},{paramPath:b+"/batch_norm_scale"},{paramPath:b+"/batch_norm_offset"},{paramPath:b+"/batch_norm_mean"},{paramPath:b+"/batch_norm_variance"}),{filters:_,batch_norm_scale:I,batch_norm_offset:D,batch_norm_mean:T,batch_norm_variance:z}}(m,_+"/depthwise_conv");return{depthwise_conv:I,pointwise_conv:a(m,b,1,_+"/pointwise_conv")}}return{extractMobilenetV1Params:function h(){return{conv_0:a(3,32,3,"mobilenetv1/conv_0"),conv_1:c(32,64,"mobilenetv1/conv_1"),conv_2:c(64,128,"mobilenetv1/conv_2"),conv_3:c(128,128,"mobilenetv1/conv_3"),conv_4:c(128,256,"mobilenetv1/conv_4"),conv_5:c(256,256,"mobilenetv1/conv_5"),conv_6:c(256,512,"mobilenetv1/conv_6"),conv_7:c(512,512,"mobilenetv1/conv_7"),conv_8:c(512,512,"mobilenetv1/conv_8"),conv_9:c(512,512,"mobilenetv1/conv_9"),conv_10:c(512,512,"mobilenetv1/conv_10"),conv_11:c(512,512,"mobilenetv1/conv_11"),conv_12:c(512,1024,"mobilenetv1/conv_12"),conv_13:c(1024,1024,"mobilenetv1/conv_13")}},extractPredictionLayerParams:function f(){return{conv_0:a(1024,256,1,"prediction_layer/conv_0"),conv_1:a(256,512,3,"prediction_layer/conv_1"),conv_2:a(512,128,1,"prediction_layer/conv_2"),conv_3:a(128,256,3,"prediction_layer/conv_3"),conv_4:a(256,128,1,"prediction_layer/conv_4"),conv_5:a(128,256,3,"prediction_layer/conv_5"),conv_6:a(256,64,1,"prediction_layer/conv_6"),conv_7:a(64,128,3,"prediction_layer/conv_7"),box_predictor_0:{box_encoding_predictor:r(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),class_predictor:r(512,9,1,"prediction_layer/box_predictor_0/class_predictor")},box_predictor_1:{box_encoding_predictor:r(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),class_predictor:r(1024,18,1,"prediction_layer/box_predictor_1/class_predictor")},box_predictor_2:{box_encoding_predictor:r(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),class_predictor:r(512,18,1,"prediction_layer/box_predictor_2/class_predictor")},box_predictor_3:{box_encoding_predictor:r(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),class_predictor:r(256,18,1,"prediction_layer/box_predictor_3/class_predictor")},box_predictor_4:{box_encoding_predictor:r(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),class_predictor:r(256,18,1,"prediction_layer/box_predictor_4/class_predictor")},box_predictor_5:{box_encoding_predictor:r(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),class_predictor:r(128,18,1,"prediction_layer/box_predictor_5/class_predictor")}}}}}(r,n),f=c.extractPredictionLayerParams,m=(0,c.extractMobilenetV1Params)(),b=f(),I={extra_dim:Wn(r(20472),[1,5118,4])};if(n.push({paramPath:"output_layer/extra_dim"}),0!==a().length)throw new Error("weights remaing after extract: "+a().length);return{params:{mobilenetv1:m,prediction_layer:b,output_layer:I},paramMappings:n}}(e)},n}(wc);!function(i){Do(function n(){return null!==i&&i.apply(this,arguments)||this},i)}(Bf);var Gb=[new Ii(.738768,.874946),new Ii(2.42204,2.65704),new Ii(4.30971,7.04493),new Ii(10.246,4.59428),new Ii(12.6868,11.8741)],Xv=[new Ii(1.603231,2.094468),new Ii(6.041143,7.080126),new Ii(2.882459,3.518061),new Ii(4.266906,5.178857),new Ii(9.041765,10.66308)],km=[117.001,114.697,97.404],Sm=function(i){return"number"==typeof i};function Kv(i){return $t(function(){var n=rs(i,Rt(.10000000149011612));return jo(oa(Wa(i,n)),n)})}function au(i,n){return $t(function(){var e=Os(i,[[0,0],[1,1],[1,1],[0,0]]);return e=Js(e,n.conv.filters,[1,1],"valid"),e=Wa(e,n.bn.sub),e=rs(e,n.bn.truediv),Kv(e=jo(e,n.conv.bias))})}function Gl(i,n){return $t(function(){var e=Os(i,[[0,0],[1,1],[1,1],[0,0]]);return e=Oa(e,n.depthwise_filter,n.pointwise_filter,[1,1],"valid"),Kv(e=jo(e,n.bias))})}var ah=function(){function i(n){var e=void 0===n?{}:n,r=e.inputSize,a=e.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=r||416,this._scoreThreshold=a||.5,"number"!=typeof this._inputSize||this._inputSize%32!=0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if("number"!=typeof this._scoreThreshold||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(i.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),i}(),nw=function(i){function n(e){var r=i.call(this,"TinyYolov2")||this;return function ew(i){if(!i)throw new Error("invalid config: "+i);if("boolean"!=typeof i.withSeparableConvs)throw new Error("config.withSeparableConvs has to be a boolean, have: "+i.withSeparableConvs);if(!Sm(i.iouThreshold)||i.iouThreshold<0||i.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+i.iouThreshold);if(!Array.isArray(i.classes)||!i.classes.length||!i.classes.every(function(n){return"string"==typeof n}))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(i.classes));if(!Array.isArray(i.anchors)||!i.anchors.length||!i.anchors.map(function(n){return n||{}}).every(function(n){return Sm(n.x)&&Sm(n.y)}))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(i.anchors));if(i.meanRgb&&(!Array.isArray(i.meanRgb)||3!==i.meanRgb.length||!i.meanRgb.every(Sm)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(i.meanRgb))}(e),r._config=e,r}return Do(n,i),Object.defineProperty(n.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),n.prototype.runTinyYolov2=function(e,r){var a=au(e,r.conv0);return a=au(a=Ga(a,[2,2],[2,2],"same"),r.conv1),a=au(a=Ga(a,[2,2],[2,2],"same"),r.conv2),a=au(a=Ga(a,[2,2],[2,2],"same"),r.conv3),a=au(a=Ga(a,[2,2],[2,2],"same"),r.conv4),a=au(a=Ga(a,[2,2],[2,2],"same"),r.conv5),a=au(a=Ga(a,[2,2],[1,1],"same"),r.conv6),Ba(a=au(a,r.conv7),r.conv8,"valid",!1)},n.prototype.runMobilenet=function(e,r){var a=this.config.isFirstLayerConv2d?Kv(Ba(e,r.conv0,"valid",!1)):Gl(e,r.conv0);return a=Gl(a=Ga(a,[2,2],[2,2],"same"),r.conv1),a=Gl(a=Ga(a,[2,2],[2,2],"same"),r.conv2),a=Gl(a=Ga(a,[2,2],[2,2],"same"),r.conv3),a=Gl(a=Ga(a,[2,2],[2,2],"same"),r.conv4),a=Gl(a=Ga(a,[2,2],[2,2],"same"),r.conv5),a=Ga(a,[2,2],[1,1],"same"),a=r.conv6?Gl(a,r.conv6):a,Ba(a=r.conv7?Gl(a,r.conv7):a,r.conv8,"valid",!1)},n.prototype.forwardInput=function(e,r){var a=this,c=this.params;if(!c)throw new Error("TinyYolov2 - load model before inference");return $t(function(){var h=e.toBatchTensor(r,!1).toFloat();return h=(h=a.config.meanRgb?Qd(h,a.config.meanRgb):h).div(Rt(256)),a.config.withSeparableConvs?a.runMobilenet(h,c):a.runTinyYolov2(h,c)})},n.prototype.forward=function(e,r){return ro(this,void 0,void 0,function(){var a;return oo(this,function(c){switch(c.label){case 0:return a=this.forwardInput,[4,La(e)];case 1:return[4,a.apply(this,[c.sent(),r])];case 2:return[2,c.sent()]}})})},n.prototype.detect=function(e,r){return void 0===r&&(r={}),ro(this,void 0,void 0,function(){var a,c,h,f,m,b,_,I,D,T,z,J,me=this;return oo(this,function(be){switch(be.label){case 0:return a=new ah(r),c=a.inputSize,h=a.scoreThreshold,[4,La(e)];case 1:return f=be.sent(),[4,this.forwardInput(f,c)];case 2:return m=be.sent(),b=$t(function(){return Wi(m)[0].expandDims()}),_={width:f.getInputWidth(0),height:f.getInputHeight(0)},[4,this.extractBoxes(b,f.getReshapedInputDimensions(0),h)];case 3:return I=be.sent(),m.dispose(),b.dispose(),D=I.map(function(pe){return pe.box}),T=I.map(function(pe){return pe.score}),z=I.map(function(pe){return pe.classScore}),J=I.map(function(pe){return me.config.classes[pe.label]}),[2,Dl(D.map(function(pe){return pe.rescale(c)}),T,this.config.iouThreshold,!0).map(function(pe){return new Iv(T[pe],z[pe],J[pe],D[pe],_)})]}})})},n.prototype.getDefaultModelName=function(){return""},n.prototype.extractParamsFromWeigthMap=function(e){return function tw(i,n){var f,e=[],r=function Kb(i,n){var e=Ul(i,n);function a(f){return{filters:e(f+"/filters",4),bias:e(f+"/bias",1)}}return{extractConvParams:a,extractConvWithBatchNormParams:function c(f){var m=a(f+"/conv"),b=function r(f){return{sub:e(f+"/sub",1),truediv:e(f+"/truediv",1)}}(f+"/bn");return{conv:m,bn:b}},extractSeparableConvParams:eh(e)}}(i,e),a=r.extractConvParams,c=r.extractConvWithBatchNormParams,h=r.extractSeparableConvParams;if(n.withSeparableConvs){var m=n.filterSizes&&n.filterSizes.length||9;f={conv0:n.isFirstLayerConv2d?a("conv0"):h("conv0"),conv1:h("conv1"),conv2:h("conv2"),conv3:h("conv3"),conv4:h("conv4"),conv5:h("conv5"),conv6:m>7?h("conv6"):void 0,conv7:m>8?h("conv7"):void 0,conv8:a("conv8")}}else f={conv0:c("conv0"),conv1:c("conv1"),conv2:c("conv2"),conv3:c("conv3"),conv4:c("conv4"),conv5:c("conv5"),conv6:c("conv6"),conv7:c("conv7"),conv8:a("conv8")};return kl(i,e),{params:f,paramMappings:e}}(e,this.config)},n.prototype.extractParams=function(e){var r=this.config.filterSizes||n.DEFAULT_FILTER_SIZES,a=r?r.length:void 0;if(7!==a&&8!==a&&9!==a)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+a+" filterSizes in config");return function Xb(i,n,e,r){var D,a=iu(i),h=a.getRemainingWeights,f=[],m=function $f(i,n){var e=bm(i,n),c=ym(i,n);return{extractConvParams:e,extractConvWithBatchNormParams:function a(h,f,m){var b=e(h,f,3,m+"/conv"),_=function r(h,f){var m=Jt(i(h)),b=Jt(i(h));return n.push({paramPath:f+"/sub"},{paramPath:f+"/truediv"}),{sub:m,truediv:b}}(f,m+"/bn");return{conv:b,bn:_}},extractSeparableConvParams:c}}(a.extractWeights,f),b=m.extractConvParams,_=m.extractConvWithBatchNormParams,I=m.extractSeparableConvParams;if(n.withSeparableConvs){var T=r[0],z=r[1],J=r[2],ee=r[3],ne=r[4],me=r[5],be=r[6],pe=r[7],Ie=r[8];D={conv0:n.isFirstLayerConv2d?b(T,z,3,"conv0"):I(T,z,"conv0"),conv1:I(z,J,"conv1"),conv2:I(J,ee,"conv2"),conv3:I(ee,ne,"conv3"),conv4:I(ne,me,"conv4"),conv5:I(me,be,"conv5"),conv6:pe?I(be,pe,"conv6"):void 0,conv7:Ie?I(pe,Ie,"conv7"):void 0,conv8:b(Ie||pe||be,5*e,1,"conv8")}}else J=r[2],ee=r[3],ne=r[4],me=r[5],be=r[6],pe=r[7],Ie=r[8],D={conv0:_(T=r[0],z=r[1],"conv0"),conv1:_(z,J,"conv1"),conv2:_(J,ee,"conv2"),conv3:_(ee,ne,"conv3"),conv4:_(ne,me,"conv4"),conv5:_(me,be,"conv5"),conv6:_(be,pe,"conv6"),conv7:_(pe,Ie,"conv7"),conv8:b(Ie,5*e,1,"conv8")};if(0!==h().length)throw new Error("weights remaing after extract: "+h().length);return{params:D,paramMappings:f}}(e,this.config,this.boxEncodingSize,r)},n.prototype.extractBoxes=function(e,r,a){return ro(this,void 0,void 0,function(){var c,h,f,m,b,_,I,D,T,z,J,ee,ne,me,be,pe,Ie,Ye,kt,It,vt,bt,en,Kt,Sn,Fn,jn,er,qn,Vn=this;return oo(this,function(tr){switch(tr.label){case 0:return c=r.width,h=r.height,f=Math.max(c,h),m=f/c,b=f/h,_=e.shape[1],I=this.config.anchors.length,D=$t(function(){var or=e.reshape([_,_,I,Vn.boxEncodingSize]);return[or.slice([0,0,0,0],[_,_,I,4]),or.slice([0,0,0,4],[_,_,I,1]),Vn.withClassScores?Oo(or.slice([0,0,0,5],[_,_,I,Vn.config.classes.length]),3):Rt(0)]}),T=D[0],J=D[2],ee=[],[4,(z=D[1]).array()];case 1:return ne=tr.sent(),[4,T.array()];case 2:me=tr.sent(),be=0,tr.label=3;case 3:if(!(be<_))return[3,12];pe=0,tr.label=4;case 4:if(!(pe<_))return[3,11];Ie=0,tr.label=5;case 5:return Ie<I?(Ye=td(ne[be][pe][Ie][0]),!a||Ye>a?(kt=(pe+td(me[be][pe][Ie][0]))/_*m,It=(be+td(me[be][pe][Ie][1]))/_*b,vt=Math.exp(me[be][pe][Ie][2])*this.config.anchors[Ie].x/_*m,bt=Math.exp(me[be][pe][Ie][3])*this.config.anchors[Ie].y/_*b,en=kt-vt/2,Kt=It-bt/2,Sn={row:be,col:pe,anchor:Ie},this.withClassScores?[4,this.extractPredictedClass(J,Sn)]:[3,7]):[3,9]):[3,10];case 6:return qn=tr.sent(),[3,8];case 7:qn={classScore:1,label:0},tr.label=8;case 8:jn=(Fn=qn).classScore,er=Fn.label,ee.push(Fi({box:new Ef(en,Kt,en+vt,Kt+bt),score:Ye,classScore:Ye*jn,label:er},Sn)),tr.label=9;case 9:return Ie++,[3,5];case 10:return pe++,[3,4];case 11:return be++,[3,3];case 12:return T.dispose(),z.dispose(),J.dispose(),[2,ee]}})})},n.prototype.extractPredictedClass=function(e,r){return ro(this,void 0,void 0,function(){var a,c,h,f;return oo(this,function(m){switch(m.label){case 0:return a=r.row,c=r.col,h=r.anchor,[4,e.array()];case 1:return f=m.sent(),[2,Array(this.config.classes.length).fill(0).map(function(b,_){return f[a][c][h][_]}).map(function(b,_){return{classScore:b,label:_}}).reduce(function(b,_){return b.classScore>_.classScore?b:_})]}})})},n.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],n}(wc),rw=function(i){function n(e){void 0===e&&(e=!0);var a=Object.assign({},{withSeparableConvs:e,iouThreshold:.4,classes:["face"]},e?{anchors:Xv,meanRgb:km}:{anchors:Gb,withClassScores:!0});return i.call(this,a)||this}return Do(n,i),Object.defineProperty(n.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),n.prototype.locateFaces=function(e,r){return ro(this,void 0,void 0,function(){return oo(this,function(c){switch(c.label){case 0:return[4,this.detect(e,r)];case 1:return[2,c.sent().map(function(h){return new pl(h.score,h.relativeBox,{width:h.imageWidth,height:h.imageHeight})})]}})})},n.prototype.getDefaultModelName=function(){return this.withSeparableConvs?"tiny_yolov2_separable_conv_model":"tiny_yolov2_model"},n.prototype.extractParamsFromWeigthMap=function(e){return i.prototype.extractParamsFromWeigthMap.call(this,e)},n}(nw),Yv=function(i){function n(){var e=null!==i&&i.apply(this,arguments)||this;return e._name="TinyFaceDetectorOptions",e}return Do(n,i),n}(ah),zf=function(){function i(){}return i.prototype.then=function(n){return ro(this,void 0,void 0,function(){var e;return oo(this,function(r){switch(r.label){case 0:return e=n,[4,this.run()];case 1:return[2,e.apply(void 0,[r.sent()])]}})})},i.prototype.run=function(){return ro(this,void 0,void 0,function(){return oo(this,function(n){throw new Error("ComposableTask - run is not implemented")})})},i}();function qv(i,n){return Object.assign({},i,{descriptor:n})}function Am(i,n,e,r,a){return void 0===a&&(a=function(c){return c.alignedRect}),ro(this,void 0,void 0,function(){var c,h,f,m,b;return oo(this,function(_){switch(_.label){case 0:return c=i.map(function(I){return function Ob(i){return function xb(i){return i.detection instanceof pl}(i)&&i.landmarks instanceof fm&&i.unshiftedLandmarks instanceof fm&&i.alignedRect instanceof pl}(I)?a(I):I.detection}),(f=r)?[3,5]:n instanceof Or?[4,Ov(n,c)]:[3,2];case 1:return m=_.sent(),[3,4];case 2:return[4,Af(n,c)];case 3:m=_.sent(),_.label=4;case 4:f=m,_.label=5;case 5:return[4,e(h=f)];case 6:return b=_.sent(),h.forEach(function(I){return I instanceof Or&&I.dispose()}),[2,b]}})})}function Tm(i,n,e,r,a){return ro(this,void 0,void 0,function(){var c=this;return oo(this,function(h){return[2,Am([i],n,function(f){return ro(c,void 0,void 0,function(){return oo(this,function(m){return[2,e(f[0])]})})},r,a)]})})}function Zv(i,n){var r=n[1];return{height:Math.floor(n[0]*i),width:Math.floor(r*i)}}var Vf=function(i){function n(e,r,a,c){return i.call(this,{left:e,top:r,right:a,bottom:c},!0)||this}return Do(n,i),n}(zl);function qb(i){return $t(function(){return rs(Wa(i,Rt(127.5)),Rt(.0078125))})}function lh(i,n){return $t(function(){return jo(oa(i),rs(n,kd(oa(kd(i)))))})}function Qv(i,n,e){return void 0===e&&(e=!1),$t(function(){var r=Ba(i,n.conv1,"valid");return r=lh(r,n.prelu1_alpha),r=lh(r=Ba(r=Ga(r,e?[2,2]:[3,3],[2,2],"same"),n.conv2,"valid"),n.prelu2_alpha),lh(r=Ba(r=e?r:Ga(r,[3,3],[2,2],"valid"),n.conv3,"valid"),n.prelu3_alpha)})}function e0(i,n,e,r,a){a.stage1=[];var c=n.map(function(D){return $t(function(){var T={scale:D},z=function Hf(i,n){return $t(function(){var e=Zv(n,i.shape.slice(1)),h=qb(qu.resizeBilinear(i,[e.height,e.width]));return Zc(h,[0,2,1,3])})}(i,D),J=Date.now(),ee=function ad(i,n){return $t(function(){var e=Qv(i,n,!0),r=Ba(e,n.conv4_1,"valid"),a=ps(tf(r,3),3);return{prob:Oo(Wa(r,a),3),regions:Ba(e,n.conv4_2,"valid")}})}(z,r),ne=ee.prob,me=ee.regions;return T.pnet=Date.now()-J,{scoresTensor:Wi(Wi(ne,3)[1])[0],regionsTensor:Wi(me)[0],scale:D,statsForScale:T}})}),h=c.map(function(D){var T=D.scoresTensor,z=D.regionsTensor,ee=D.statsForScale,ne=function Jv(i,n,e,r){for(var a=[],c=i.arraySync(),h=0;h<i.shape[0];h++)for(var f=0;f<i.shape[1];f++)c[h][f]>=r&&a.push(new Ii(f,h));return a.map(function(b){var _=new Ef(Math.round((2*b.y+1)/e),Math.round((2*b.x+1)/e),Math.round((2*b.y+12)/e),Math.round((2*b.x+12)/e)),I=c[b.y][b.x],D=n.arraySync();return{cell:_,score:I,region:new Vf(D[b.y][b.x][0],D[b.y][b.x][1],D[b.y][b.x][2],D[b.y][b.x][3])}})}(T,z,D.scale,e);if(T.dispose(),z.dispose(),!ne.length)return a.stage1.push(ee),[];var me=Date.now(),be=Dl(ne.map(function(pe){return pe.cell}),ne.map(function(pe){return pe.score}),.5);return ee.nms=Date.now()-me,ee.numBoxes=be.length,a.stage1.push(ee),be.map(function(pe){return ne[pe]})}),f=h.reduce(function(D,T){return D.concat(T)},[]),m=[],b=[];if(f.length>0){var _=Date.now(),I=Dl(f.map(function(D){return D.cell}),f.map(function(D){return D.score}),.7);a.stage1_nms=Date.now()-_,b=I.map(function(D){return f[D].score}),m=I.map(function(D){return f[D]}).map(function(D){var T=D.cell,z=D.region;return new Ef(T.left+z.left*T.width,T.top+z.top*T.height,T.right+z.right*T.width,T.bottom+z.bottom*T.height).toSquare().round()})}return{boxes:m,scores:b}}function Zb(i,n,e){var r=e.width,a=e.height;return ro(this,void 0,void 0,function(){var c,h,f,m=this;return oo(this,function(b){switch(b.label){case 0:return c=ml(i),[4,Promise.all(n.map(function(_){return ro(m,void 0,void 0,function(){var I,ee,ne,me;return oo(this,function(be){return I=_.padAtBorders(i.height,i.width),me=c.getImageData(ee=I.x-1,ne=I.y-1,I.ex-ee,I.ey-ne),[2,Xa.isNodejs()?Rv(me):createImageBitmap(me)]})})}))];case 1:return h=b.sent(),f=[],h.forEach(function(_){var D=ml(gm({width:r,height:a}));D.drawImage(_,0,0,r,a);for(var T=D.getImageData(0,0,r,a).data,z=[],J=0;J<T.length;J+=4)z.push(T[J+2]),z.push(T[J+1]),z.push(T[J]);f.push(z)}),[2,f.map(function(_){return $t(function(){return qb(Zc(Kn(_,[1,r,a,3]),[0,2,1,3]).toFloat())})})]}})})}function Qb(i,n,e,r,a){return ro(this,void 0,void 0,function(){var c,h,f,m,b,_,I,D,T,z,J,ee,ne,me;return oo(this,function(be){switch(be.label){case 0:return c=Date.now(),[4,Zb(i,n,{width:24,height:24})];case 1:return h=be.sent(),a.stage2_extractImagePatches=Date.now()-c,c=Date.now(),f=h.map(function(pe){var Ie=function ch(i,n){return $t(function(){var e=Qv(i,n),c=lh(Hl(Hi(e,[e.shape[0],n.fc1.weights.shape[0]]),n.fc1),n.prelu4_alpha),h=Hl(c,n.fc2_1),f=ps(tf(h,1),1),m=Oo(Wa(h,f),1),b=Hl(c,n.fc2_2);return{scores:Wi(m,1)[1],regions:b}})}(pe,r);return pe.dispose(),Ie}),a.stage2_rnet=Date.now()-c,m=f.length>1?hi(f.map(function(pe){return pe.scores})):f[0].scores,I=(_=Array).from,[4,m.data()];case 2:return b=I.apply(_,[be.sent()]),m.dispose(),D=b.map(function(pe,Ie){return{score:pe,idx:Ie}}).filter(function(pe){return pe.score>e}).map(function(pe){return pe.idx}),T=D.map(function(pe){return n[pe]}),z=D.map(function(pe){return b[pe]}),J=[],ee=[],T.length>0&&(c=Date.now(),ne=Dl(T,z,.7),a.stage2_nms=Date.now()-c,me=ne.map(function(pe){var Ie=f[D[pe]].regions.arraySync();return new Vf(Ie[0][0],Ie[0][1],Ie[0][2],Ie[0][3])}),ee=ne.map(function(pe){return z[pe]}),J=ne.map(function(pe,Ie){return T[pe].calibrate(me[Ie])})),f.forEach(function(pe){pe.regions.dispose(),pe.scores.dispose()}),[2,{boxes:J,scores:ee}]}})})}function dw(i,n,e,r,a){return ro(this,void 0,void 0,function(){var c,h,f,m,b,_,I,D,T,z,J,ee,ne,me,be;return oo(this,function(pe){switch(pe.label){case 0:return c=Date.now(),[4,Zb(i,n,{width:48,height:48})];case 1:return h=pe.sent(),a.stage3_extractImagePatches=Date.now()-c,c=Date.now(),f=h.map(function(Ie){var Ye=function uw(i,n){return $t(function(){var e=Qv(i,n);e=lh(e=Ba(e=Ga(e,[2,2],[2,2],"same"),n.conv4,"valid"),n.prelu4_alpha);var c=lh(Hl(Hi(e,[e.shape[0],n.fc1.weights.shape[0]]),n.fc1),n.prelu5_alpha),h=Hl(c,n.fc2_1),f=ps(tf(h,1),1),m=Oo(Wa(h,f),1),b=Hl(c,n.fc2_2),_=Hl(c,n.fc2_3);return{scores:Wi(m,1)[1],regions:b,points:_}})}(Ie,r);return Ie.dispose(),Ye}),a.stage3_onet=Date.now()-c,m=f.length>1?hi(f.map(function(Ie){return Ie.scores})):f[0].scores,I=(_=Array).from,[4,m.data()];case 2:return b=I.apply(_,[pe.sent()]),m.dispose(),D=b.map(function(Ie,Ye){return{score:Ie,idx:Ye}}).filter(function(Ie){return Ie.score>e}).map(function(Ie){return Ie.idx}),T=D.map(function(Ie){var Ye=f[Ie].regions.arraySync();return new Vf(Ye[0][0],Ye[0][1],Ye[0][2],Ye[0][3])}),z=D.map(function(Ie,Ye){return n[Ie].calibrate(T[Ye])}),J=D.map(function(Ie){return b[Ie]}),ee=[],ne=[],me=[],z.length>0&&(c=Date.now(),be=Dl(z,J,.7,!1),a.stage3_nms=Date.now()-c,ee=be.map(function(Ie){return z[Ie]}),ne=be.map(function(Ie){return J[Ie]}),me=be.map(function(Ie,Ye){return Array(5).fill(0).map(function(kt,It){var vt=f[Ie].points.arraySync();return new Ii(vt[0][It]*(ee[Ye].width+1)+ee[Ye].left,vt[0][It+5]*(ee[Ye].height+1)+ee[Ye].top)})})),f.forEach(function(Ie){Ie.regions.dispose(),Ie.scores.dispose(),Ie.points.dispose()}),[2,{boxes:ee,scores:ne,points:me}]}})})}var hw=function(i){function n(){return i.call(this,"Mtcnn")||this}return Do(n,i),n.prototype.load=function(e){return ro(this,void 0,void 0,function(){return oo(this,function(r){return console.warn("mtcnn is deprecated and will be removed soon"),[2,i.prototype.load.call(this,e)]})})},n.prototype.loadFromDisk=function(e){return ro(this,void 0,void 0,function(){return oo(this,function(r){return console.warn("mtcnn is deprecated and will be removed soon"),[2,i.prototype.loadFromDisk.call(this,e)]})})},n.prototype.forwardInput=function(e,r){return void 0===r&&(r={}),ro(this,void 0,void 0,function(){var a,c,h,f,m,b,_,I,D,T,z,J,ee,ne,be,pe,Ie,Ye,kt,It;return oo(this,function(vt){switch(vt.label){case 0:if(!(a=this.params))throw new Error("Mtcnn - load model before inference");if(!(c=e.canvases[0]))throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return h={},f=Date.now(),m=$t(function(){return function Yb(i){return $t(function(){return pa(Wi(i,3).reverse(),3)})}(ps(im.fromPixels(c)).toFloat())}),b=function(bt){return m.dispose(),h.total=Date.now()-f,bt},_=m.shape.slice(1),I=_[0],D=_[1],T=new Em(r),z=T.minFaceSize,J=T.scaleFactor,ee=T.maxNumScales,ne=T.scoreThresholds,be=(T.scaleSteps||function cw(i,n,e){for(var c=12/i,h=[],f=Math.min(e[0],e[1])*c,m=0;f>=12;)h.push(c*Math.pow(n,m)),f*=n,m+=1;return h}(z,J,[I,D])).filter(function(bt){var en=Zv(bt,[I,D]);return Math.min(en.width,en.height)>12}).slice(0,ee),h.scales=be,h.pyramid=be.map(function(bt){return Zv(bt,[I,D])}),pe=Date.now(),[4,e0(m,be,ne[0],a.pnet,h)];case 1:return Ie=vt.sent(),h.total_stage1=Date.now()-pe,Ie.boxes.length?(h.stage2_numInputBoxes=Ie.boxes.length,pe=Date.now(),[4,Qb(c,Ie.boxes,ne[1],a.rnet,h)]):[2,b({results:[],stats:h})];case 2:return Ye=vt.sent(),h.total_stage2=Date.now()-pe,Ye.boxes.length?(h.stage3_numInputBoxes=Ye.boxes.length,pe=Date.now(),[4,dw(c,Ye.boxes,ne[2],a.onet,h)]):[2,b({results:[],stats:h})];case 3:return kt=vt.sent(),h.total_stage3=Date.now()-pe,It=kt.boxes.map(function(bt,en){return Hv(ru({},new pl(kt.scores[en],new Jd(bt.left/D,bt.top/I,bt.width/D,bt.height/I),{height:I,width:D})),new _x(kt.points[en].map(function(Kt){return Kt.sub(new Ii(bt.left,bt.top)).div(new Ii(bt.width,bt.height))}),{width:bt.width,height:bt.height}))}),[2,b({results:It,stats:h})]}})})},n.prototype.forward=function(e,r){return void 0===r&&(r={}),ro(this,void 0,void 0,function(){var a;return oo(this,function(c){switch(c.label){case 0:return a=this.forwardInput,[4,La(e)];case 1:return[4,a.apply(this,[c.sent(),r])];case 2:return[2,c.sent().results]}})})},n.prototype.forwardWithStats=function(e,r){return void 0===r&&(r={}),ro(this,void 0,void 0,function(){var a;return oo(this,function(c){switch(c.label){case 0:return a=this.forwardInput,[4,La(e)];case 1:return[2,a.apply(this,[c.sent(),r])]}})})},n.prototype.getDefaultModelName=function(){return"mtcnn_model"},n.prototype.extractParamsFromWeigthMap=function(e){return function lw(i){var n=[],e=function sw(i,n){var e=Ul(i,n);function r(_){return{filters:e(_+"/weights",4,_+"/filters"),bias:e(_+"/bias",1)}}function a(_){return{weights:e(_+"/weights",2),bias:e(_+"/bias",1)}}function c(_){return e(_,1)}function h(_){return{conv1:r(_+"/conv1"),prelu1_alpha:c(_+"/prelu1_alpha"),conv2:r(_+"/conv2"),prelu2_alpha:c(_+"/prelu2_alpha"),conv3:r(_+"/conv3"),prelu3_alpha:c(_+"/prelu3_alpha")}}return{extractPNetParams:function f(){var _=h("pnet"),I=r("pnet/conv4_1"),D=r("pnet/conv4_2");return Fi(Fi({},_),{conv4_1:I,conv4_2:D})},extractRNetParams:function m(){var _=h("rnet"),I=a("rnet/fc1"),D=c("rnet/prelu4_alpha"),T=a("rnet/fc2_1"),z=a("rnet/fc2_2");return Fi(Fi({},_),{fc1:I,prelu4_alpha:D,fc2_1:T,fc2_2:z})},extractONetParams:function b(){var _=h("onet"),I=r("onet/conv4"),D=c("onet/prelu4_alpha"),T=a("onet/fc1"),z=c("onet/prelu5_alpha"),J=a("onet/fc2_1"),ee=a("onet/fc2_2"),ne=a("onet/fc2_3");return Fi(Fi({},_),{conv4:I,prelu4_alpha:D,fc1:T,prelu5_alpha:z,fc2_1:J,fc2_2:ee,fc2_3:ne})}}}(i,n),a=e.extractRNetParams,c=e.extractONetParams,h=(0,e.extractPNetParams)(),f=a(),m=c();return kl(i,n),{params:{pnet:h,rnet:f,onet:m},paramMappings:n}}(e)},n.prototype.extractParams=function(e){return function aw(i){var n=iu(i),r=n.getRemainingWeights,a=[],c=function iw(i,n){var e=bm(i,n),r=Lv(i,n);function a(b,_){var I=Jt(i(b));return n.push({paramPath:_}),I}function c(b,_,I){return void 0===I&&(I=!1),{conv1:e(b[0],b[1],3,_+"/conv1"),prelu1_alpha:a(b[1],_+"/prelu1_alpha"),conv2:e(b[1],b[2],3,_+"/conv2"),prelu2_alpha:a(b[2],_+"/prelu2_alpha"),conv3:e(b[2],b[3],I?2:3,_+"/conv3"),prelu3_alpha:a(b[3],_+"/prelu3_alpha")}}return{extractPNetParams:function h(){var b=c([3,10,16,32],"pnet"),_=e(32,2,1,"pnet/conv4_1"),I=e(32,4,1,"pnet/conv4_2");return Fi(Fi({},b),{conv4_1:_,conv4_2:I})},extractRNetParams:function f(){var b=c([3,28,48,64],"rnet",!0),_=r(576,128,"rnet/fc1"),I=a(128,"rnet/prelu4_alpha"),D=r(128,2,"rnet/fc2_1"),T=r(128,4,"rnet/fc2_2");return Fi(Fi({},b),{fc1:_,prelu4_alpha:I,fc2_1:D,fc2_2:T})},extractONetParams:function m(){var b=c([3,32,64,64],"onet"),_=e(64,128,2,"onet/conv4"),I=a(128,"onet/prelu4_alpha"),D=r(1152,256,"onet/fc1"),T=a(256,"onet/prelu5_alpha"),z=r(256,2,"onet/fc2_1"),J=r(256,4,"onet/fc2_2"),ee=r(256,10,"onet/fc2_3");return Fi(Fi({},b),{conv4:_,prelu4_alpha:I,fc1:D,prelu5_alpha:T,fc2_1:z,fc2_2:J,fc2_3:ee})}}}(n.extractWeights,a),f=c.extractRNetParams,m=c.extractONetParams,b=(0,c.extractPNetParams)(),_=f(),I=m();if(0!==r().length)throw new Error("weights remaing after extract: "+r().length);return{params:{pnet:b,rnet:_,onet:I},paramMappings:a}}(e)},n}(wc),pw=[new Ii(1.603231,2.094468),new Ii(6.041143,7.080126),new Ii(2.882459,3.518061),new Ii(4.266906,5.178857),new Ii(9.041765,10.66308)],Jb=[117.001,114.697,97.404],mw=function(i){function n(){return i.call(this,{withSeparableConvs:!0,iouThreshold:.4,classes:["face"],anchors:pw,meanRgb:Jb,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]})||this}return Do(n,i),Object.defineProperty(n.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),n.prototype.locateFaces=function(e,r){return ro(this,void 0,void 0,function(){return oo(this,function(c){switch(c.label){case 0:return[4,this.detect(e,r)];case 1:return[2,c.sent().map(function(h){return new pl(h.score,h.relativeBox,{width:h.imageWidth,height:h.imageHeight})})]}})})},n.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},n.prototype.extractParamsFromWeigthMap=function(e){return i.prototype.extractParamsFromWeigthMap.call(this,e)},n}(nw),fi={ssdMobilenetv1:new Bf,tinyFaceDetector:new mw,tinyYolov2:new rw,mtcnn:new hw,faceLandmark68Net:new rh,faceLandmark68TinyNet:new Lx,faceRecognitionNet:new Hx,faceExpressionNet:new th,ageGenderNet:new Wv},Q_=function(i){return fi.ssdMobilenetv1.load(i)},ty=function(i){return fi.faceLandmark68Net.load(i)},ny=function(i){return fi.faceRecognitionNet.load(i)};function oy(i,n){return Object.assign({},i,{age:n})}var Pm=function(i){function n(e,r,a){var c=i.call(this)||this;return c.parentTask=e,c.input=r,c.extractedFaces=a,c}return Do(n,i),n}(zf),Xl=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Do(n,i),n.prototype.run=function(){return ro(this,void 0,void 0,function(){var e,r,a=this;return oo(this,function(c){switch(c.label){case 0:return[4,this.parentTask];case 1:return[4,Am(e=c.sent(),this.input,function(h){return ro(a,void 0,void 0,function(){return oo(this,function(f){switch(f.label){case 0:return[4,Promise.all(h.map(function(m){return fi.faceExpressionNet.predictExpressions(m)}))];case 1:return[2,f.sent()]}})})},this.extractedFaces)];case 2:return r=c.sent(),[2,e.map(function(h,f){return nh(h,r[f])})]}})})},n.prototype.withAgeAndGender=function(){return new n0(this,this.input)},n}(Pm),dh=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Do(n,i),n.prototype.run=function(){return ro(this,void 0,void 0,function(){var e,r;return oo(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return(e=a.sent())?[4,Tm(e,this.input,function(c){return fi.faceExpressionNet.predictExpressions(c)},this.extractedFaces)]:[2];case 2:return r=a.sent(),[2,nh(e,r)]}})})},n.prototype.withAgeAndGender=function(){return new Gf(this,this.input)},n}(Pm),Om=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Do(n,i),n.prototype.withAgeAndGender=function(){return new Nm(this,this.input)},n.prototype.withFaceDescriptors=function(){return new ay(this,this.input)},n}(Xl),sd=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Do(n,i),n.prototype.withAgeAndGender=function(){return new Kl(this,this.input)},n.prototype.withFaceDescriptor=function(){return new fh(this,this.input)},n}(dh),iy=function(i){function n(e,r,a){var c=i.call(this)||this;return c.parentTask=e,c.input=r,c.extractedFaces=a,c}return Do(n,i),n}(zf),n0=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Do(n,i),n.prototype.run=function(){return ro(this,void 0,void 0,function(){var e,r,a=this;return oo(this,function(c){switch(c.label){case 0:return[4,this.parentTask];case 1:return[4,Am(e=c.sent(),this.input,function(h){return ro(a,void 0,void 0,function(){return oo(this,function(f){switch(f.label){case 0:return[4,Promise.all(h.map(function(m){return fi.ageGenderNet.predictAgeAndGender(m)}))];case 1:return[2,f.sent()]}})})},this.extractedFaces)];case 2:return r=c.sent(),[2,e.map(function(h,f){var m=r[f],b=m.age;return oy(oh(h,m.gender,m.genderProbability),b)})]}})})},n.prototype.withFaceExpressions=function(){return new Xl(this,this.input)},n}(iy),Gf=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Do(n,i),n.prototype.run=function(){return ro(this,void 0,void 0,function(){var e,r,a;return oo(this,function(f){switch(f.label){case 0:return[4,this.parentTask];case 1:return(e=f.sent())?[4,Tm(e,this.input,function(m){return fi.ageGenderNet.predictAgeAndGender(m)},this.extractedFaces)]:[2];case 2:return r=f.sent(),a=r.age,[2,oy(oh(e,r.gender,r.genderProbability),a)]}})})},n.prototype.withFaceExpressions=function(){return new dh(this,this.input)},n}(iy),Nm=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Do(n,i),n.prototype.withFaceExpressions=function(){return new Om(this,this.input)},n.prototype.withFaceDescriptors=function(){return new ay(this,this.input)},n}(n0),Kl=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Do(n,i),n.prototype.withFaceExpressions=function(){return new sd(this,this.input)},n.prototype.withFaceDescriptor=function(){return new fh(this,this.input)},n}(Gf),hh=function(i){function n(e,r){var a=i.call(this)||this;return a.parentTask=e,a.input=r,a}return Do(n,i),n}(zf),ay=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Do(n,i),n.prototype.run=function(){return ro(this,void 0,void 0,function(){var e;return oo(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return[4,Am(e=a.sent(),this.input,function(c){return Promise.all(c.map(function(h){return fi.faceRecognitionNet.computeFaceDescriptor(h)}))},null,function(c){return c.landmarks.align(null,{useDlibAlignment:!0})})];case 2:return[2,a.sent().map(function(c,h){return qv(e[h],c)})]}})})},n.prototype.withFaceExpressions=function(){return new Om(this,this.input)},n.prototype.withAgeAndGender=function(){return new Nm(this,this.input)},n}(hh),fh=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Do(n,i),n.prototype.run=function(){return ro(this,void 0,void 0,function(){var e,r;return oo(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return(e=a.sent())?[4,Tm(e,this.input,function(c){return fi.faceRecognitionNet.computeFaceDescriptor(c)},null,function(c){return c.landmarks.align(null,{useDlibAlignment:!0})})]:[2];case 2:return r=a.sent(),[2,qv(e,r)]}})})},n.prototype.withFaceExpressions=function(){return new sd(this,this.input)},n.prototype.withAgeAndGender=function(){return new Kl(this,this.input)},n}(hh),r0=function(i){function n(e,r,a){var c=i.call(this)||this;return c.parentTask=e,c.input=r,c.useTinyLandmarkNet=a,c}return Do(n,i),Object.defineProperty(n.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?fi.faceLandmark68TinyNet:fi.faceLandmark68Net},enumerable:!0,configurable:!0}),n}(zf),sy=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Do(n,i),n.prototype.run=function(){return ro(this,void 0,void 0,function(){var e,r,a,c,h,f=this;return oo(this,function(m){switch(m.label){case 0:return[4,this.parentTask];case 1:return e=m.sent(),r=e.map(function(b){return b.detection}),this.input instanceof Or?[4,Ov(this.input,r)]:[3,3];case 2:return c=m.sent(),[3,5];case 3:return[4,Af(this.input,r)];case 4:c=m.sent(),m.label=5;case 5:return a=c,[4,Promise.all(a.map(function(b){return f.landmarkNet.detectLandmarks(b)}))];case 6:return h=m.sent(),a.forEach(function(b){return b instanceof Or&&b.dispose()}),[2,e.map(function(b,_){return Hv(b,h[_])})]}})})},n.prototype.withFaceExpressions=function(){return new Om(this,this.input)},n.prototype.withAgeAndGender=function(){return new Nm(this,this.input)},n.prototype.withFaceDescriptors=function(){return new ay(this,this.input)},n}(r0),bw=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Do(n,i),n.prototype.run=function(){return ro(this,void 0,void 0,function(){var e,r,a,c,h;return oo(this,function(f){switch(f.label){case 0:return[4,this.parentTask];case 1:return(e=f.sent())?(r=e.detection,this.input instanceof Or?[4,Ov(this.input,[r])]:[3,3]):[2];case 2:return c=f.sent(),[3,5];case 3:return[4,Af(this.input,[r])];case 4:c=f.sent(),f.label=5;case 5:return[4,this.landmarkNet.detectLandmarks((a=c)[0])];case 6:return h=f.sent(),a.forEach(function(m){return m instanceof Or&&m.dispose()}),[2,Hv(e,h)]}})})},n.prototype.withFaceExpressions=function(){return new sd(this,this.input)},n.prototype.withAgeAndGender=function(){return new Kl(this,this.input)},n.prototype.withFaceDescriptor=function(){return new fh(this,this.input)},n}(r0),ph=function(i){function n(e,r){void 0===r&&(r=new Lf);var a=i.call(this)||this;return a.input=e,a.options=r,a}return Do(n,i),n}(zf),yw=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Do(n,i),n.prototype.run=function(){return ro(this,void 0,void 0,function(){var e,r,a,c;return oo(this,function(h){switch(h.label){case 0:return r=(e=this).input,(a=e.options)instanceof Em?[4,fi.mtcnn.forward(r,a)]:[3,2];case 1:return[2,h.sent().map(function(f){return f.detection})];case 2:if(!(c=a instanceof Yv?function(f){return fi.tinyFaceDetector.locateFaces(f,a)}:a instanceof Lf?function(f){return fi.ssdMobilenetv1.locateFaces(f,a)}:a instanceof ah?function(f){return fi.tinyYolov2.locateFaces(f,a)}:null))throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,c(r)]}})})},n.prototype.runAndExtendWithFaceDetections=function(){var e=this;return new Promise(function(r){return ro(e,void 0,void 0,function(){var a;return oo(this,function(c){switch(c.label){case 0:return[4,this.run()];case 1:return a=c.sent(),[2,r(a.map(function(h){return ru({},h)}))]}})})})},n.prototype.withFaceLandmarks=function(e){return void 0===e&&(e=!1),new sy(this.runAndExtendWithFaceDetections(),this.input,e)},n.prototype.withFaceExpressions=function(){return new Xl(this.runAndExtendWithFaceDetections(),this.input)},n.prototype.withAgeAndGender=function(){return new n0(this.runAndExtendWithFaceDetections(),this.input)},n}(ph),xw=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Do(n,i),n.prototype.run=function(){return ro(this,void 0,void 0,function(){var e,r;return oo(this,function(a){switch(a.label){case 0:return[4,new yw(this.input,this.options)];case 1:return e=a.sent(),r=e[0],e.forEach(function(c){c.score>r.score&&(r=c)}),[2,r]}})})},n.prototype.runAndExtendWithFaceDetection=function(){var e=this;return new Promise(function(r){return ro(e,void 0,void 0,function(){var a;return oo(this,function(c){switch(c.label){case 0:return[4,this.run()];case 1:return a=c.sent(),[2,r(a?ru({},a):void 0)]}})})})},n.prototype.withFaceLandmarks=function(e){return void 0===e&&(e=!1),new bw(this.runAndExtendWithFaceDetection(),this.input,e)},n.prototype.withFaceExpressions=function(){return new dh(this.runAndExtendWithFaceDetection(),this.input)},n.prototype.withAgeAndGender=function(){return new Gf(this.runAndExtendWithFaceDetection(),this.input)},n}(ph);function ly(i,n){return void 0===n&&(n=new Lf),new xw(i,n)}function mh(i,n){if(i.length!==n.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var e=Array.from(i),r=Array.from(n);return Math.sqrt(e.map(function(a,c){return a-r[c]}).reduce(function(a,c){return a+Math.pow(c,2)},0))}!function(){function i(n,e){void 0===e&&(e=.6),this._distanceThreshold=e;var r=Array.isArray(n)?n:[n];if(!r.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var a=1,c=function(){return"person "+a++};this._labeledDescriptors=r.map(function(h){if(h instanceof Ro)return h;if(h instanceof Float32Array)return new Ro(c(),[h]);if(h.descriptor&&h.descriptor instanceof Float32Array)return new Ro(c(),[h.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")})}Object.defineProperty(i.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),i.prototype.computeMeanDistance=function(n,e){return e.map(function(r){return mh(r,n)}).reduce(function(r,a){return r+a},0)/(e.length||1)},i.prototype.matchDescriptor=function(n){var e=this;return this.labeledDescriptors.map(function(r){return new Dv(r.label,e.computeMeanDistance(n,r.descriptors))}).reduce(function(r,a){return r.distance<a.distance?r:a})},i.prototype.findBestMatch=function(n){var e=this.matchDescriptor(n);return e.distance<this.distanceThreshold?e:new Dv("unknown",e.distance)},i.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map(function(n){return n.toJSON()})}},i.fromJSON=function(n){return new i(n.labeledDescriptors.map(function(r){return Ro.fromJSON(r)}),n.distanceThreshold)}}();var o0=F(4438);let uy=(()=>{var i;class n{constructor(){this.cache={}}loadNets(){return(0,x.A)(function*(){console.log("loadNets"),console.log("loading");try{console.log("init load"),yield Promise.all([Q_("/frota/assets/models"),ty("/frota/assets/models"),ny("/frota/assets/models")]),console.log("end load")}catch(r){console.log({err:r})}})()}getFaceCrop(r){return(0,x.A)(function*(){return console.time("getFaceCrop"),new Promise(function(){var a=(0,x.A)(function*(c,h){try{console.time("fetchImage");const f=yield Sb(r);if(console.timeEnd("fetchImage"),f instanceof HTMLImageElement?console.log("FaceService netInput (Image):",f.naturalWidth,"x",f.naturalHeight,"Complete:",f.complete):f instanceof HTMLCanvasElement?console.log("FaceService netInput (Canvas):",f.width,"x",f.height):console.log("FaceService netInput (Other):",f),console.timeEnd("fetchImage"),!f)return h("Falha ao carregar a imagem.");if(f instanceof HTMLImageElement&&(!f.complete||0===f.naturalWidth))return h("Imagem n\xe3o carregada corretamente ou de baixa resolu\xe7\xe3o.");if(!fi.ssdMobilenetv1.params||!fi.faceLandmark68Net.params||!fi.faceRecognitionNet.params)return h("Modelos n\xe3o foram carregados corretamente.");console.time("detectSingleFace");const m=new Lf({minConfidence:.45});console.log("Usando op\xe7\xf5es de detec\xe7\xe3o com minConfidence:",m.minConfidence);const I=yield ly(f,m).withFaceLandmarks().withFaceDescriptor();if(console.timeEnd("detectSingleFace"),!I)return console.log("Resultado da detec\xe7\xe3o ainda \xe9 nulo/undefined."),h("N\xe3o identificamos um rosto na imagem, capture uma nova imagem");const{box:D}=I.detection,T=D.width>250?D.width:250,z=D.height>250?D.height:250,J=T>z?{x:D.x,y:D.y-(T-D.height)/2,size:T}:z>T?{x:D.x-(z-D.width)/2,y:D.y,size:z}:{x:D.x-(z-D.width)/2,y:D.y-(T-D.height)/2,size:z},ee=new Jd(J.x,J.y,J.size,J.size);console.time("extractFaces");const ne=yield Af(f,[ee]);console.timeEnd("extractFaces");const me=ne[0].toDataURL("image/jpeg");console.timeEnd("getFaceCrop"),c({face:me,descriptor:I.descriptor})}catch(f){h(f.message)}});return function(c,h){return a.apply(this,arguments)}}())})()}canvas2gray(r){if(!r||!r.width||!r.height)return;const a=r.getContext("2d"),c=a.getImageData(0,0,r.width,r.height),h=a.createImageData(r.width,r.height),f=c.data,m=h.data,b=f.length;let I,_=0;for(;_<b;_+=4)I=.2126*f[_]+.7152*f[_+1]+.0722*f[_+2],m[_]=m[_+1]=m[_+2]=I,m[_+3]=f[_+3];a.putImageData(h,0,0)}canvas2blob(r,a="image/jpeg",c=.97){return new Promise((h,f)=>{r||f("Empty canvas"),r.toBlob(h,a,c)})}matchPictures(r,a){var c=this;return(0,x.A)(function*(){return mh(yield c.getDescriptor(r),yield c.getDescriptor(a))})()}matchDescriptors(r,a){return(0,x.A)(function*(){return mh(r,a)})()}getDescriptor(r){var a=this;return(0,x.A)(function*(){if(void 0===a.cache[r]){const c=yield Sb(r),h=yield ly(c).withFaceLandmarks().withFaceDescriptor();a.cache[r]=h.descriptor}else console.log("cached!");return a.cache[r]})()}b64ToBuf(r){return(0,x.A)(function*(){const a=atob(r),c=a.length/Float32Array.BYTES_PER_ELEMENT,h=new DataView(new ArrayBuffer(Float32Array.BYTES_PER_ELEMENT)),f=new Float32Array(c);let m=0;for(let b=0;b<c;b++)m=4*b,h.setUint8(0,a.charCodeAt(m)),h.setUint8(1,a.charCodeAt(m+1)),h.setUint8(2,a.charCodeAt(m+2)),h.setUint8(3,a.charCodeAt(m+3)),f[b]=h.getFloat32(0,!0);return f})()}bufToB64(r){return(0,x.A)(function*(){const a=new Uint8Array(r);return btoa(String.fromCharCode.apply(null,a))})()}}return(i=n).\u0275fac=function(r){return new(r||i)},i.\u0275prov=o0.jDH({token:i,factory:i.\u0275fac,providedIn:"root"}),n})()},9004:(Un,Tt,F)=>{"use strict";F.d(Tt,{B:()=>Qe});var x=F(467),g=F(4412),H=F(6354);class we extends Error{}we.prototype.name="InvalidTokenError";var ce=F(1109),Ke=F(4438);let _t=(()=>{var Be;class lt{constructor(){this.secretKey="65d4sv4vd4df321f1928*&*TGFCCC##@DX)YVUVJGC$%%DAFCJGCgjcjhfcs43@XDXGHCI\xa8F(6"}generateKey(Fe){var ve=this;return(0,x.A)(function*(){const wt=new TextEncoder,ft=yield window.crypto.subtle.importKey("raw",wt.encode(Fe||ve.secretKey),{name:"PBKDF2"},!1,["deriveKey"]);return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:wt.encode("salt"),iterations:1e5,hash:"SHA-256"},ft,{name:"AES-CBC",length:256},!0,["encrypt","decrypt"])})()}encryptText(Fe,ve){var wt=this;return(0,x.A)(function*(){const ft=window.crypto.getRandomValues(new Uint8Array(16)),rt=yield wt.generateKey(ve),Ee=new TextEncoder,ze=yield window.crypto.subtle.encrypt({name:"AES-CBC",iv:ft},rt,Ee.encode(Fe));return`${wt.arrayBufferToBase64(ft)}:${wt.arrayBufferToBase64(ze)}`})()}decryptText(Fe,ve){var wt=this;return(0,x.A)(function*(){const[ft,rt]=Fe.split(":"),Ee=wt.base64ToArrayBuffer(ft),ze=yield wt.generateKey(ve),oe=wt.base64ToArrayBuffer(rt),it=yield window.crypto.subtle.decrypt({name:"AES-CBC",iv:Ee},ze,oe);return(new TextDecoder).decode(it)})()}encryptObj(Fe,ve){var wt=this;return(0,x.A)(function*(){const ft=JSON.stringify(Fe);return wt.encryptText(ft,ve)})()}decryptObj(Fe,ve){var wt=this;return(0,x.A)(function*(){const ft=yield wt.decryptText(Fe,ve);return JSON.parse(ft)})()}arrayBufferToBase64(Fe){let ve="";const wt=new Uint8Array(Fe);for(let ft=0;ft<wt.byteLength;ft++)ve+=String.fromCharCode(wt[ft]);return window.btoa(ve)}base64ToArrayBuffer(Fe){const ve=window.atob(Fe),wt=new Uint8Array(ve.length);for(let ft=0;ft<ve.length;ft++)wt[ft]=ve.charCodeAt(ft);return wt.buffer}}return(Be=lt).\u0275fac=function(Fe){return new(Fe||Be)},Be.\u0275prov=Ke.jDH({token:Be,factory:Be.\u0275fac,providedIn:"root"}),lt})();var $e=F(654),Me=function(Be){return Be[Be.ACESSO_APP=1]="ACESSO_APP",Be}(Me||{});let Qe=(()=>{var Be;class lt{constructor(Fe,ve){this.crypto=Fe,this.ionStorageSrv=ve,this._authLoginSubject=new g.t(null),this._keyStorage=ce.p.LOGIN,this.initialize()}get authLoginValue(){return this._authLoginSubject.value}get authLoginToken$(){return this._authLoginSubject.asObservable()}get token$(){return this.authLoginToken$.pipe((0,H.T)(Fe=>Fe?Fe.token:null))}get token(){const Fe=this._authLoginSubject.value;return Fe?Fe.token:null}get authUser(){const Fe=this._authLoginSubject.value;return Fe?Fe.user:null}initialize(){var Fe=this;return(0,x.A)(function*(){yield Fe.ionStorageSrv.init();const ve=yield Fe.getAuthLoginDecypted();null!=Fe.getAuthLoginDecypted()&&Fe._authLoginSubject.next(ve)})()}authUserAuthorization(){const Fe=this._authLoginSubject.value,ve=[];if(Fe)for(const wt of Fe.permissions)"ATMARMITECH_INCLUIR_PEDIDO_REFEICAO"===wt&&ve.push(Me.ACESSO_APP);return ve}get permissaoInformarValor(){return this.authUserAuthorization().includes(Me.ACESSO_APP)}get existeAlgumaPermissao(){return this.authUserAuthorization().length>0}get dataToken(){return this.token?function Te(Be,lt){if("string"!=typeof Be)throw new we("Invalid token specified: must be a string");lt||(lt={});const ct=!0===lt.header?0:1,Fe=Be.split(".")[ct];if("string"!=typeof Fe)throw new we(`Invalid token specified: missing part #${ct+1}`);let ve;try{ve=function S(Be){let lt=Be.replace(/-/g,"+").replace(/_/g,"/");switch(lt.length%4){case 0:break;case 2:lt+="==";break;case 3:lt+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function q(Be){return decodeURIComponent(atob(Be).replace(/(.)/g,(lt,ct)=>{let Fe=ct.charCodeAt(0).toString(16).toUpperCase();return Fe.length<2&&(Fe="0"+Fe),"%"+Fe}))}(lt)}catch{return atob(lt)}}(Fe)}catch(wt){throw new we(`Invalid token specified: invalid base64 for part #${ct+1} (${wt.message})`)}try{return JSON.parse(ve)}catch(wt){throw new we(`Invalid token specified: invalid json for part #${ct+1} (${wt.message})`)}}(this.token):null}get uniqueName(){const Fe=this.dataToken;return Fe?Fe.unique_name:null}get userId(){const Fe=this.dataToken;return Fe?Fe.UserId:null}get funcionarioId(){const Fe=this.dataToken;return Fe?Number(Fe.FuncionarioId):null}get setorId(){const Fe=this.dataToken;return Fe&&Fe.SetorId?Number(Fe.SetorId):null}get exp(){const Fe=this.dataToken;return Fe?Fe.exp:null}setAuthLogin(Fe){this.saveAuthLoginToLocalStorage(Fe),this._authLoginSubject.next(Fe)}isLogged(){var Fe=this;return(0,x.A)(function*(){return yield Fe.ionStorageSrv.init(),null!=(yield Fe.ionStorageSrv.get(Fe._keyStorage))})()}clearToken(){var Fe=this;return(0,x.A)(function*(){Fe._authLoginSubject.next(null),Fe.removeAuthLoginFromLocalStorage()})()}getAuthLoginDecypted(){var Fe=this;return(0,x.A)(function*(){const ve=yield Fe.ionStorageSrv.get(Fe._keyStorage);return ve?yield Fe.crypto.decryptObj(ve):null})()}saveAuthLoginToLocalStorage(Fe){var ve=this;return(0,x.A)(function*(){const wt=yield ve.crypto.encryptObj(Fe);ve.ionStorageSrv.set(ve._keyStorage,wt)})()}removeAuthLoginFromLocalStorage(){this.ionStorageSrv.remove(this._keyStorage)}}return(Be=lt).\u0275fac=function(Fe){return new(Fe||Be)(Ke.KVO(_t),Ke.KVO($e.X))},Be.\u0275prov=Ke.jDH({token:Be,factory:Be.\u0275fac,providedIn:"root"}),lt})()},654:(Un,Tt,F)=>{"use strict";F.d(Tt,{X:()=>we});var x=F(467),g=F(4438),H=F(369);let we=(()=>{var q;class S{constructor(ce){this.storage=ce,this._storage=null,this.init()}init(){var ce=this;return(0,x.A)(function*(){if(!ce._storage)try{const Ke=yield ce.storage.create();ce._storage=Ke}catch(Ke){console.error("Erro ao inicializar o Storage:",Ke)}})()}set(ce,Ke){var _t;null===(_t=this._storage)||void 0===_t||_t.set(ce,Ke)}get(ce){var Ke=this;return(0,x.A)(function*(){var _t;return yield null===(_t=Ke._storage)||void 0===_t?void 0:_t.get(ce)})()}remove(ce){var Ke;null===(Ke=this._storage)||void 0===Ke||Ke.remove(ce)}}return(q=S).\u0275fac=function(ce){return new(ce||q)(g.KVO(H.w))},q.\u0275prov=g.jDH({token:q,factory:q.\u0275fac,providedIn:"root"}),S})()},1109:(Un,Tt,F)=>{"use strict";F.d(Tt,{p:()=>x});var x=function(g){return g.LOGIN="loginAuth_Frota",g.BASEAPI="baseUrl_Frota",g.CAMERAAPI="positionCamera_Frota",g}(x||{})},5784:(Un,Tt,F)=>{"use strict";F.d(Tt,{S:()=>x});let x=(()=>{var g;class H{static getPath(q,S){let Te=q.path;return S&&Object.keys(S).forEach(ce=>{Te=Te.replace(`:${ce}`,S[ce])}),Te}}return(g=H).home={name:"Home",path:"/home"},g.login={name:"Login",path:"/login"},g.list={name:"Lista",path:"/list"},g.form={name:"Iniciar percurso",path:"/form"},g.formEdit={name:"Iniciar percurso",path:"/form/:id"},g.formClose={name:"Finalizar percurso",path:"/form/:id/close"},g.finish={name:"Percurso finalizado",path:"/finish/:id"},g.updateFace={name:"Atualizar leitura facial",path:"/update"},g.profile={name:"Profile",path:"profile/:id"},H})()},3862:(Un,Tt,F)=>{"use strict";var x=F(345),g=F(2902),H=F(8880),we=F(9795),q=F(467),S=F(4438),Te=F(7673),ce=F(9004),Ke=F(4742);const _t=function(){var ge=(0,q.A)(function*(){const de=(0,S.WQX)(ce.B),Pe=(0,S.WQX)(g.Ix),ie=(0,S.WQX)(Ke.hG);if(yield de.isLogged()){for(let Ut=0;Ut<5;Ut++){if(de.permissaoInformarValor)return!0;yield new Promise(vn=>setTimeout(vn,100))}yield(yield ie.create({header:"SEM ACESSO",message:"Usu\xe1rio sem permiss\xe3o para acessar Frotatech",buttons:[{text:"Ok",handler:()=>(de.clearToken(),Pe.navigate(["/"]),(0,Te.of)(!1))}]})).present()}return de.clearToken(),Pe.navigate(["/"]),(0,Te.of)(!1)});return function(){return ge.apply(this,arguments)}}();var $e=F(5784);const Qe=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"",canActivateChild:[_t],children:[{path:"home",loadComponent:()=>Promise.all([F.e(5990),F.e(9313),F.e(8882)]).then(F.bind(F,8882)).then(ge=>ge.HomePage)},{path:"list",loadComponent:()=>Promise.all([F.e(5990),F.e(4519),F.e(6527)]).then(F.bind(F,6527)).then(ge=>ge.ListPage)},{path:"form",loadComponent:()=>Promise.all([F.e(5990),F.e(4519),F.e(132),F.e(2076),F.e(2746)]).then(F.bind(F,2746)).then(ge=>ge.FormPage)},{path:"form/:id",loadComponent:()=>Promise.all([F.e(5990),F.e(4519),F.e(132),F.e(2076),F.e(2746)]).then(F.bind(F,2746)).then(ge=>ge.FormPage)},{path:"form/:id/close",loadComponent:()=>Promise.all([F.e(5990),F.e(4519),F.e(132),F.e(2076),F.e(2746)]).then(F.bind(F,2746)).then(ge=>ge.FormPage)},{path:"finish/:id",loadComponent:()=>Promise.all([F.e(5990),F.e(4519),F.e(2076),F.e(8105)]).then(F.bind(F,8105)).then(ge=>ge.FinishPage)},{path:"update",loadComponent:()=>Promise.all([F.e(5990),F.e(132),F.e(7657)]).then(F.bind(F,7657)).then(ge=>ge.PeoplePage)}]},{path:"login",canActivate:[function(){var ge=(0,q.A)(function*(){const de=(0,S.WQX)(ce.B),Pe=(0,S.WQX)(g.Ix);return!(yield de.isLogged())||(Pe.navigate([$e.S.home.path]),(0,Te.of)(!1))});return function(){return ge.apply(this,arguments)}}()],loadComponent:()=>Promise.all([F.e(5990),F.e(9313),F.e(2076),F.e(2399)]).then(F.bind(F,2399)).then(ge=>ge.LoginPage)}];var Be=F(4401);let lt=(()=>{var ge;class de{constructor(ie,G){this.loadingCtrl=ie,this.faceService=G}ngOnInit(){var ie=this;return(0,q.A)(function*(){const G=yield ie.loadingCtrl.create();yield G.present(),yield ie.faceService.loadNets(),yield G.dismiss()})()}}return(ge=de).\u0275fac=function(ie){return new(ie||ge)(S.rXU(Ke.Xi),S.rXU(Be.R))},ge.\u0275cmp=S.VBU({type:ge,selectors:[["app-root"]],standalone:!0,features:[S.aNF],decls:2,vars:0,template:function(ie,G){1&ie&&(S.j41(0,"ion-app"),S.nrm(1,"ion-router-outlet"),S.k0s())},dependencies:[we.U1,we.Rg],encapsulation:2}),de})();var ct=F(1626),Fe=F(177),ve=F(369);const wt=new S.nKC("STORAGE_CONFIG_TOKEN");class ft extends ve.w{constructor(){super()}create(){var de=this;return(0,q.A)(function*(){return de})()}defineDriver(){return(0,q.A)(function*(){})()}get driver(){return"noop"}get(de){return(0,q.A)(function*(){return null})()}set(de,Pe){return(0,q.A)(function*(){})()}remove(de){return(0,q.A)(function*(){})()}clear(){return(0,q.A)(function*(){})()}length(){return(0,q.A)(function*(){return 0})()}keys(){return(0,q.A)(function*(){return[]})()}forEach(de){return(0,q.A)(function*(){})()}setEncryptionKey(de){}}function rt(ge,de){return(0,Fe.Vy)(ge)?new ft:new ve.w(de)}let Ee=(()=>{class ge{static forRoot(Pe=null){return{ngModule:ge,providers:[{provide:wt,useValue:Pe},{provide:ve.w,useFactory:rt,deps:[S.Agw,wt]}]}}}return ge.\u0275fac=function(Pe){return new(Pe||ge)},ge.\u0275mod=S.$C({type:ge}),ge.\u0275inj=S.G2t({}),ge})();var ze=F(6697),oe=F(5558);const At=void 0,He=["pt",[["AM","PM"],At,At],At,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."],["domingo","segunda-feira","ter\xe7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xe1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."]],At,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],At,[["a.C.","d.C."],At,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",At,At,At],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4\xa0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],BYN:[At,"\u0440."],JPY:["JP\xa5","\xa5"],PHP:[At,"\u20b1"],PTE:["Esc."],RON:[At,"L"],SYP:[At,"S\xa3"],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"]},"ltr",function Ze(ge){const Pe=Math.floor(Math.abs(ge)),ie=ge.toString().replace(/^[^.]*\.?/,"").length,G=parseInt(ge.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return Pe===Math.floor(Pe)&&Pe>=0&&Pe<=1?1:0===G&&0!==Pe&&Pe%1e6==0&&0===ie||!(G>=0&&G<=5)?4:5}];var jt=F(9030),zt=F(8810),Gn=F(3726),on=F(8793),Xn=F(1413),sr=F(1985),pt=F(5343);const We=new sr.c(pt.l);var fe=F(6365),Re=F(8750),St=F(983),Ot=F(9326),Lt=F(6648);function un(...ge){const de=(0,Ot.lI)(ge),Pe=(0,Ot.R0)(ge,1/0),ie=ge;return ie.length?1===ie.length?(0,Re.Tg)(ie[0]):(0,fe.U)(Pe)((0,Lt.H)(ie,de)):St.w}var Yt=F(6354),hr=F(5964),Qn=F(17),In=F(8071),_r=F(9974);const dr={connector:()=>new Xn.B};function Dr(ge,de=dr){const{connector:Pe}=de;return(0,_r.N)((ie,G)=>{const nt=Pe();(0,Re.Tg)(ge(function Xr(ge){return new sr.c(de=>ge.subscribe(de))}(nt))).subscribe(G),G.add(ie.subscribe(nt))})}var Kr=F(8141),xn=F(8359);class nn extends xn.yU{constructor(de,Pe){super()}schedule(de,Pe=0){return this}}const sn={setInterval(ge,de,...Pe){const{delegate:ie}=sn;return null!=ie&&ie.setInterval?ie.setInterval(ge,de,...Pe):setInterval(ge,de,...Pe)},clearInterval(ge){const{delegate:de}=sn;return((null==de?void 0:de.clearInterval)||clearInterval)(ge)},delegate:void 0};var qt=F(7908);const kr={now:()=>(kr.delegate||Date).now(),delegate:void 0};class lr{constructor(de,Pe=lr.now){this.schedulerActionCtor=de,this.now=Pe}schedule(de,Pe=0,ie){return new this.schedulerActionCtor(this,de).schedule(ie,Pe)}}lr.now=kr.now;const uo=new class fr extends lr{constructor(de,Pe=lr.now){super(de,Pe),this.actions=[],this._active=!1}flush(de){const{actions:Pe}=this;if(this._active)return void Pe.push(de);let ie;this._active=!0;do{if(ie=de.execute(de.state,de.delay))break}while(de=Pe.shift());if(this._active=!1,ie){for(;de=Pe.shift();)de.unsubscribe();throw ie}}}(class Fr extends nn{constructor(de,Pe){super(de,Pe),this.scheduler=de,this.work=Pe,this.pending=!1}schedule(de,Pe=0){var ie;if(this.closed)return this;this.state=de;const G=this.id,nt=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(nt,G,Pe)),this.pending=!0,this.delay=Pe,this.id=null!==(ie=this.id)&&void 0!==ie?ie:this.requestAsyncId(nt,this.id,Pe),this}requestAsyncId(de,Pe,ie=0){return sn.setInterval(de.flush.bind(de,this),ie)}recycleAsyncId(de,Pe,ie=0){if(null!=ie&&this.delay===ie&&!1===this.pending)return Pe;null!=Pe&&sn.clearInterval(Pe)}execute(de,Pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ie=this._execute(de,Pe);if(ie)return ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,Pe){let G,ie=!1;try{this.work(de)}catch(nt){ie=!0,G=nt||new Error("Scheduled action threw falsy error")}if(ie)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:de,scheduler:Pe}=this,{actions:ie}=Pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,qt.o)(ie,this),null!=de&&(this.id=this.recycleAsyncId(Pe,de,null)),this.delay=null,super.unsubscribe()}}}),fo=uo;var Lr=F(4360),Vr=F(3703),Ur=F(1397);function qr(ge,de){return de?Pe=>(0,on.x)(de.pipe((0,ze.s)(1),function ho(){return(0,_r.N)((ge,de)=>{ge.subscribe((0,Lr._)(de,pt.l))})}()),Pe.pipe(qr(ge))):(0,Ur.Z)((Pe,ie)=>(0,Re.Tg)(ge(Pe,ie)).pipe((0,ze.s)(1),(0,Vr.u)(Pe)))}var Yr=F(9470);const Zr="Service workers are disabled or not supported by this browser";class ar{constructor(de){if(this.serviceWorker=de,de){const ie=(0,Gn.R)(de,"controllerchange").pipe((0,Yt.T)(()=>de.controller)),G=(0,jt.v)(()=>(0,Te.of)(de.controller)),nt=(0,on.x)(G,ie);this.worker=nt.pipe((0,hr.p)(Sr=>!!Sr)),this.registration=this.worker.pipe((0,oe.n)(()=>de.getRegistration()));const wn=(0,Gn.R)(de,"message").pipe((0,Yt.T)(Sr=>Sr.data)).pipe((0,hr.p)(Sr=>Sr&&Sr.type)).pipe(function pr(ge){return ge?de=>Dr(ge)(de):de=>function vr(ge,de){const Pe=(0,In.T)(ge)?ge:()=>ge;return(0,In.T)(de)?Dr(de,{connector:Pe}):ie=>new Qn.G(ie,Pe)}(new Xn.B)(de)}());wn.connect(),this.events=wn}else this.worker=this.events=this.registration=function tn(ge){return(0,jt.v)(()=>(0,zt.$)(new Error(ge)))}(Zr)}postMessage(de,Pe){return this.worker.pipe((0,ze.s)(1),(0,Kr.M)(ie=>{ie.postMessage({action:de,...Pe})})).toPromise().then(()=>{})}postMessageWithOperation(de,Pe,ie){const G=this.waitForOperationCompleted(ie),nt=this.postMessage(de,Pe);return Promise.all([nt,G]).then(([,Ut])=>Ut)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(de){let Pe;return Pe="string"==typeof de?ie=>ie.type===de:ie=>de.includes(ie.type),this.events.pipe((0,hr.p)(Pe))}nextEventOfType(de){return this.eventsOfType(de).pipe((0,ze.s)(1))}waitForOperationCompleted(de){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,hr.p)(Pe=>Pe.nonce===de),(0,ze.s)(1),(0,Yt.T)(Pe=>{if(void 0!==Pe.result)return Pe.result;throw new Error(Pe.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Or=(()=>{var ge;class de{get isEnabled(){return this.sw.isEnabled}constructor(ie){if(this.sw=ie,this.pushManager=null,this.subscriptionChanges=new Xn.B,!ie.isEnabled)return this.messages=We,this.notificationClicks=We,void(this.subscription=We);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Yt.T)(nt=>nt.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Yt.T)(nt=>nt.data)),this.pushManager=this.sw.registration.pipe((0,Yt.T)(nt=>nt.pushManager));const G=this.pushManager.pipe((0,oe.n)(nt=>nt.getSubscription()));this.subscription=un(G,this.subscriptionChanges)}requestSubscription(ie){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Zr));const G={userVisibleOnly:!0};let nt=this.decodeBase64(ie.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),Ut=new Uint8Array(new ArrayBuffer(nt.length));for(let vn=0;vn<nt.length;vn++)Ut[vn]=nt.charCodeAt(vn);return G.applicationServerKey=Ut,this.pushManager.pipe((0,oe.n)(vn=>vn.subscribe(G)),(0,ze.s)(1)).toPromise().then(vn=>(this.subscriptionChanges.next(vn),vn))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,ze.s)(1),(0,oe.n)(G=>{if(null===G)throw new Error("Not subscribed to push notifications.");return G.unsubscribe().then(nt=>{if(!nt)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Zr))}decodeBase64(ie){return atob(ie)}}return(ge=de).\u0275fac=function(ie){return new(ie||ge)(S.KVO(ar))},ge.\u0275prov=S.jDH({token:ge,factory:ge.\u0275fac}),de})(),so=(()=>{var ge;class de{get isEnabled(){return this.sw.isEnabled}constructor(ie){if(this.sw=ie,!ie.isEnabled)return this.versionUpdates=We,void(this.unrecoverable=We);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Zr));const ie=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:ie},ie)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Zr));const ie=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:ie},ie)}}return(ge=de).\u0275fac=function(ie){return new(ie||ge)(S.KVO(ar))},ge.\u0275prov=S.jDH({token:ge,factory:ge.\u0275fac}),de})();const Zt=new S.nKC("");function Nt(ge,de,Pe,ie){return()=>{if(!(0,Fe.UE)(ie)||!("serviceWorker"in navigator)||!1===Pe.enabled)return;const G=ge.get(S.SKi),nt=ge.get(S.o8S);let Ut;if(G.runOutsideAngular(()=>{const vn=navigator.serviceWorker,Ln=()=>{var wn;return null===(wn=vn.controller)||void 0===wn?void 0:wn.postMessage({action:"INITIALIZE"})};vn.addEventListener("controllerchange",Ln),nt.onDestroy(()=>{vn.removeEventListener("controllerchange",Ln)})}),"function"==typeof Pe.registrationStrategy)Ut=Pe.registrationStrategy();else{const[vn,...Ln]=(Pe.registrationStrategy||"registerWhenStable:30000").split(":");switch(vn){case"registerImmediately":Ut=(0,Te.of)(null);break;case"registerWithDelay":Ut=cn(+Ln[0]||0);break;case"registerWhenStable":const wn=(0,Lt.H)(ge.get(S.o8S).whenStable());Ut=Ln[0]?un(wn,cn(+Ln[0])):wn;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${Pe.registrationStrategy}`)}}G.runOutsideAngular(()=>Ut.pipe((0,ze.s)(1)).subscribe(()=>navigator.serviceWorker.register(de,{scope:Pe.scope}).catch(vn=>console.error("Service worker registration failed with:",vn))))}}function cn(ge){return(0,Te.of)(null).pipe(function Rr(ge,de=uo){const Pe=function ko(ge=0,de,Pe=fo){let ie=-1;return null!=de&&((0,Yr.m)(de)?Pe=de:ie=de),new sr.c(G=>{let nt=function Cr(ge){return ge instanceof Date&&!isNaN(ge)}(ge)?+ge-Pe.now():ge;nt<0&&(nt=0);let Ut=0;return Pe.schedule(function(){G.closed||(G.next(Ut++),0<=ie?this.schedule(void 0,ie):G.complete())},nt)})}(ge,de);return qr(()=>Pe)}(ge))}function Et(ge,de){return new ar((0,Fe.UE)(de)&&!1!==ge.enabled?navigator.serviceWorker:void 0)}class Pt{}var ut=F(1288);(0,Fe.EO)(He),(0,S.SmG)(),window,typeof window>"u"?Promise.resolve():(0,ut.p)().then(()=>(0,ut.b)([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],hidePicker:[4,"hide-picker"],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],undefined)),(0,x.B8)(lt,{providers:[{provide:g.b,useClass:H.jM},(0,S.oKB)([Ke.bv.forRoot({}),Ee.forRoot()]),(0,we._H)(),(0,ct.$R)((0,ct.b$)([(ge,de)=>(0,S.WQX)(ce.B).token$.pipe((0,ze.s)(1),(0,oe.n)(ie=>{if(ie){const G=ge.clone({setHeaders:{Authorization:"Bearer "+ie,"Content-Type":"application/json; charset=utf-8"}});return de(G)}{const G=ge.clone({setHeaders:{"Content-Type":"application/json; charset=utf-8"}});return de(G)}}))])),(0,g.lh)(Qe,(0,g.Sn)(g.Kp)),{provide:S.xe9,useValue:"pt-BR"},function _n(ge,de={}){return(0,S.EmA)([Or,so,{provide:Zt,useValue:ge},{provide:Pt,useValue:de},{provide:ar,useFactory:Et,deps:[Pt,S.Agw]},{provide:S.hnV,useFactory:Nt,deps:[S.zZn,Zt,Pt,S.Agw],multi:!0}])}("ngsw-worker.js",{enabled:!(0,S.naY)(),registrationStrategy:"registerWhenStable:30000"})]})},119:Un=>{Un.exports=function g(H,we,q){function S(Ke,_t){if(!we[Ke]){if(!H[Ke]){if(Te)return Te(Ke,!0);var Me=new Error("Cannot find module '"+Ke+"'");throw Me.code="MODULE_NOT_FOUND",Me}var Qe=we[Ke]={exports:{}};H[Ke][0].call(Qe.exports,function(Be){return S(H[Ke][1][Be]||Be)},Qe,Qe.exports,g,H,we,q)}return we[Ke].exports}for(var Te=void 0,ce=0;ce<q.length;ce++)S(q[ce]);return S}({1:[function(g,H,we){(function(q){"use strict";var Te,S=q.MutationObserver||q.WebKitMutationObserver;if(S){var ce=0,Ke=new S(Be),_t=q.document.createTextNode("");Ke.observe(_t,{characterData:!0}),Te=function(){_t.data=ce=++ce%2}}else if(!q.setImmediate&&typeof q.MessageChannel<"u"){var $e=new q.MessageChannel;$e.port1.onmessage=Be,Te=function(){$e.port2.postMessage(0)}}else Te="document"in q&&"onreadystatechange"in q.document.createElement("script")?function(){var ct=q.document.createElement("script");ct.onreadystatechange=function(){Be(),ct.onreadystatechange=null,ct.parentNode.removeChild(ct),ct=null},q.document.documentElement.appendChild(ct)}:function(){setTimeout(Be,0)};var Me,Qe=[];function Be(){Me=!0;for(var ct,Fe,ve=Qe.length;ve;){for(Fe=Qe,Qe=[],ct=-1;++ct<ve;)Fe[ct]();ve=Qe.length}Me=!1}H.exports=function lt(ct){1===Qe.push(ct)&&!Me&&Te()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(g,H,we){"use strict";var q=g(1);function S(){}var Te={},ce=["REJECTED"],Ke=["FULFILLED"],_t=["PENDING"];function $e(rt){if("function"!=typeof rt)throw new TypeError("resolver must be a function");this.state=_t,this.queue=[],this.outcome=void 0,rt!==S&&lt(this,rt)}function Me(rt,Ee,ze){this.promise=rt,"function"==typeof Ee&&(this.onFulfilled=Ee,this.callFulfilled=this.otherCallFulfilled),"function"==typeof ze&&(this.onRejected=ze,this.callRejected=this.otherCallRejected)}function Qe(rt,Ee,ze){q(function(){var oe;try{oe=Ee(ze)}catch(it){return Te.reject(rt,it)}oe===rt?Te.reject(rt,new TypeError("Cannot resolve promise with itself")):Te.resolve(rt,oe)})}function Be(rt){var Ee=rt&&rt.then;if(rt&&("object"==typeof rt||"function"==typeof rt)&&"function"==typeof Ee)return function(){Ee.apply(rt,arguments)}}function lt(rt,Ee){var ze=!1;function oe(He){ze||(ze=!0,Te.reject(rt,He))}function it(He){ze||(ze=!0,Te.resolve(rt,He))}var Ze=ct(function At(){Ee(it,oe)});"error"===Ze.status&&oe(Ze.value)}function ct(rt,Ee){var ze={};try{ze.value=rt(Ee),ze.status="success"}catch(oe){ze.status="error",ze.value=oe}return ze}H.exports=$e,$e.prototype.catch=function(rt){return this.then(null,rt)},$e.prototype.then=function(rt,Ee){if("function"!=typeof rt&&this.state===Ke||"function"!=typeof Ee&&this.state===ce)return this;var ze=new this.constructor(S);return this.state!==_t?Qe(ze,this.state===Ke?rt:Ee,this.outcome):this.queue.push(new Me(ze,rt,Ee)),ze},Me.prototype.callFulfilled=function(rt){Te.resolve(this.promise,rt)},Me.prototype.otherCallFulfilled=function(rt){Qe(this.promise,this.onFulfilled,rt)},Me.prototype.callRejected=function(rt){Te.reject(this.promise,rt)},Me.prototype.otherCallRejected=function(rt){Qe(this.promise,this.onRejected,rt)},Te.resolve=function(rt,Ee){var ze=ct(Be,Ee);if("error"===ze.status)return Te.reject(rt,ze.value);var oe=ze.value;if(oe)lt(rt,oe);else{rt.state=Ke,rt.outcome=Ee;for(var it=-1,At=rt.queue.length;++it<At;)rt.queue[it].callFulfilled(Ee)}return rt},Te.reject=function(rt,Ee){rt.state=ce,rt.outcome=Ee;for(var ze=-1,oe=rt.queue.length;++ze<oe;)rt.queue[ze].callRejected(Ee);return rt},$e.resolve=function Fe(rt){return rt instanceof this?rt:Te.resolve(new this(S),rt)},$e.reject=function ve(rt){var Ee=new this(S);return Te.reject(Ee,rt)},$e.all=function wt(rt){var Ee=this;if("[object Array]"!==Object.prototype.toString.call(rt))return this.reject(new TypeError("must be an array"));var ze=rt.length,oe=!1;if(!ze)return this.resolve([]);for(var it=new Array(ze),At=0,Ze=-1,He=new this(S);++Ze<ze;)jt(rt[Ze],Ze);return He;function jt(zt,Gn){Ee.resolve(zt).then(function on(Xn){it[Gn]=Xn,++At===ze&&!oe&&(oe=!0,Te.resolve(He,it))},function(Xn){oe||(oe=!0,Te.reject(He,Xn))})}},$e.race=function ft(rt){var Ee=this;if("[object Array]"!==Object.prototype.toString.call(rt))return this.reject(new TypeError("must be an array"));var ze=rt.length,oe=!1;if(!ze)return this.resolve([]);for(var it=-1,At=new this(S);++it<ze;)Ee.resolve(rt[it]).then(function(jt){oe||(oe=!0,Te.resolve(At,jt))},function(jt){oe||(oe=!0,Te.reject(At,jt))});return At}},{1:1}],3:[function(g,H,we){(function(q){"use strict";"function"!=typeof q.Promise&&(q.Promise=g(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(g,H,we){"use strict";var q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(le){return typeof le}:function(le){return le&&"function"==typeof Symbol&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le};var ce=function Te(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}();function _t(le,Ue){le=le||[],Ue=Ue||{};try{return new Blob(le,Ue)}catch(Ct){if("TypeError"!==Ct.name)throw Ct;for(var qe=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),st=0;st<le.length;st+=1)qe.append(le[st]);return qe.getBlob(Ue.type)}}typeof Promise>"u"&&g(3);var $e=Promise;function Me(le,Ue){Ue&&le.then(function(De){Ue(null,De)},function(De){Ue(De)})}function Qe(le,Ue,De){"function"==typeof Ue&&le.then(Ue),"function"==typeof De&&le.catch(De)}function Be(le){return"string"!=typeof le&&(console.warn(le+" used as a key, but it is not a string."),le=String(le)),le}function lt(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var ct="local-forage-detect-blob-support",Fe=void 0,ve={},wt=Object.prototype.toString,ft="readonly",rt="readwrite";function Ee(le){for(var Ue=le.length,De=new ArrayBuffer(Ue),qe=new Uint8Array(De),st=0;st<Ue;st++)qe[st]=le.charCodeAt(st);return De}function oe(le){return"boolean"==typeof Fe?$e.resolve(Fe):function ze(le){return new $e(function(Ue){var De=le.transaction(ct,rt),qe=_t([""]);De.objectStore(ct).put(qe,"key"),De.onabort=function(st){st.preventDefault(),st.stopPropagation(),Ue(!1)},De.oncomplete=function(){var st=navigator.userAgent.match(/Chrome\/(\d+)/),Ct=navigator.userAgent.match(/Edge\//);Ue(Ct||!st||parseInt(st[1],10)>=43)}}).catch(function(){return!1})}(le).then(function(Ue){return Fe=Ue})}function it(le){var Ue=ve[le.name],De={};De.promise=new $e(function(qe,st){De.resolve=qe,De.reject=st}),Ue.deferredOperations.push(De),Ue.dbReady=Ue.dbReady?Ue.dbReady.then(function(){return De.promise}):De.promise}function At(le){var De=ve[le.name].deferredOperations.pop();if(De)return De.resolve(),De.promise}function Ze(le,Ue){var qe=ve[le.name].deferredOperations.pop();if(qe)return qe.reject(Ue),qe.promise}function He(le,Ue){return new $e(function(De,qe){if(ve[le.name]=ve[le.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},le.db){if(!Ue)return De(le.db);it(le),le.db.close()}var st=[le.name];Ue&&st.push(le.version);var Ct=ce.open.apply(ce,st);Ue&&(Ct.onupgradeneeded=function(Vt){var mn=Ct.result;try{mn.createObjectStore(le.storeName),Vt.oldVersion<=1&&mn.createObjectStore(ct)}catch(Pn){if("ConstraintError"!==Pn.name)throw Pn;console.warn('The database "'+le.name+'" has been upgraded from version '+Vt.oldVersion+" to version "+Vt.newVersion+', but the storage "'+le.storeName+'" already exists.')}}),Ct.onerror=function(Vt){Vt.preventDefault(),qe(Ct.error)},Ct.onsuccess=function(){var Vt=Ct.result;Vt.onversionchange=function(mn){mn.target.close()},De(Vt),At(le)}})}function jt(le){return He(le,!1)}function zt(le){return He(le,!0)}function Gn(le,Ue){if(!le.db)return!0;var De=!le.db.objectStoreNames.contains(le.storeName),st=le.version>le.db.version;if(le.version<le.db.version&&(le.version!==Ue&&console.warn('The database "'+le.name+"\" can't be downgraded from version "+le.db.version+" to version "+le.version+"."),le.version=le.db.version),st||De){if(De){var Ct=le.db.version+1;Ct>le.version&&(le.version=Ct)}return!0}return!1}function Xn(le){return _t([Ee(atob(le.data))],{type:le.type})}function sr(le){return le&&le.__local_forage_encoded_blob}function pt(le){var Ue=this,De=Ue._initReady().then(function(){var qe=ve[Ue._dbInfo.name];if(qe&&qe.dbReady)return qe.dbReady});return Qe(De,le,le),De}function ue(le,Ue,De,qe){void 0===qe&&(qe=1);try{var st=le.db.transaction(le.storeName,Ue);De(null,st)}catch(Ct){if(qe>0&&(!le.db||"InvalidStateError"===Ct.name||"NotFoundError"===Ct.name))return $e.resolve().then(function(){if(!le.db||"NotFoundError"===Ct.name&&!le.db.objectStoreNames.contains(le.storeName)&&le.version<=le.db.version)return le.db&&(le.version=le.db.version+1),zt(le)}).then(function(){return function We(le){it(le);for(var Ue=ve[le.name],De=Ue.forages,qe=0;qe<De.length;qe++){var st=De[qe];st._dbInfo.db&&(st._dbInfo.db.close(),st._dbInfo.db=null)}return le.db=null,jt(le).then(function(Ct){return le.db=Ct,Gn(le)?zt(le):Ct}).then(function(Ct){le.db=Ue.db=Ct;for(var Vt=0;Vt<De.length;Vt++)De[Vt]._dbInfo.db=Ct}).catch(function(Ct){throw Ze(le,Ct),Ct})}(le).then(function(){ue(le,Ue,De,qe-1)})}).catch(De);De(Ct)}}var Xr={_driver:"asyncStorage",_initStorage:function Re(le){var Ue=this,De={db:null};if(le)for(var qe in le)De[qe]=le[qe];var st=ve[De.name];st||(ve[De.name]=st={forages:[],db:null,dbReady:null,deferredOperations:[]}),st.forages.push(Ue),Ue._initReady||(Ue._initReady=Ue.ready,Ue.ready=pt);var Ct=[];function Vt(){return $e.resolve()}for(var mn=0;mn<st.forages.length;mn++){var Pn=st.forages[mn];Pn!==Ue&&Ct.push(Pn._initReady().catch(Vt))}var An=st.forages.slice(0);return $e.all(Ct).then(function(){return De.db=st.db,jt(De)}).then(function(Cn){return De.db=Cn,Gn(De,Ue._defaultConfig.version)?zt(De):Cn}).then(function(Cn){De.db=st.db=Cn,Ue._dbInfo=De;for(var nr=0;nr<An.length;nr++){var Er=An[nr];Er!==Ue&&(Er._dbInfo.db=De.db,Er._dbInfo.version=De.version)}})},_support:function Ke(){try{if(!ce||!ce.open)return!1;var le=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Ue="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!le||Ue)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}(),iterate:function Ot(le,Ue){var De=this,qe=new $e(function(st,Ct){De.ready().then(function(){ue(De._dbInfo,ft,function(Vt,mn){if(Vt)return Ct(Vt);try{var An=mn.objectStore(De._dbInfo.storeName).openCursor(),Cn=1;An.onsuccess=function(){var nr=An.result;if(nr){var Er=nr.value;sr(Er)&&(Er=Xn(Er));var gr=le(Er,nr.key,Cn++);void 0!==gr?st(gr):nr.continue()}else st()},An.onerror=function(){Ct(An.error)}}catch(nr){Ct(nr)}})}).catch(Ct)});return Me(qe,Ue),qe},getItem:function St(le,Ue){var De=this;le=Be(le);var qe=new $e(function(st,Ct){De.ready().then(function(){ue(De._dbInfo,ft,function(Vt,mn){if(Vt)return Ct(Vt);try{var An=mn.objectStore(De._dbInfo.storeName).get(le);An.onsuccess=function(){var Cn=An.result;void 0===Cn&&(Cn=null),sr(Cn)&&(Cn=Xn(Cn)),st(Cn)},An.onerror=function(){Ct(An.error)}}catch(Cn){Ct(Cn)}})}).catch(Ct)});return Me(qe,Ue),qe},setItem:function Lt(le,Ue,De){var qe=this;le=Be(le);var st=new $e(function(Ct,Vt){var mn;qe.ready().then(function(){return mn=qe._dbInfo,"[object Blob]"===wt.call(Ue)?oe(mn.db).then(function(Pn){return Pn?Ue:function on(le){return new $e(function(Ue,De){var qe=new FileReader;qe.onerror=De,qe.onloadend=function(st){var Ct=btoa(st.target.result||"");Ue({__local_forage_encoded_blob:!0,data:Ct,type:le.type})},qe.readAsBinaryString(le)})}(Ue)}):Ue}).then(function(Pn){ue(qe._dbInfo,rt,function(An,Cn){if(An)return Vt(An);try{var nr=Cn.objectStore(qe._dbInfo.storeName);null===Pn&&(Pn=void 0);var Er=nr.put(Pn,le);Cn.oncomplete=function(){void 0===Pn&&(Pn=null),Ct(Pn)},Cn.onabort=Cn.onerror=function(){Vt(Er.error?Er.error:Er.transaction.error)}}catch(gr){Vt(gr)}})}).catch(Vt)});return Me(st,De),st},removeItem:function un(le,Ue){var De=this;le=Be(le);var qe=new $e(function(st,Ct){De.ready().then(function(){ue(De._dbInfo,rt,function(Vt,mn){if(Vt)return Ct(Vt);try{var An=mn.objectStore(De._dbInfo.storeName).delete(le);mn.oncomplete=function(){st()},mn.onerror=function(){Ct(An.error)},mn.onabort=function(){Ct(An.error?An.error:An.transaction.error)}}catch(Cn){Ct(Cn)}})}).catch(Ct)});return Me(qe,Ue),qe},clear:function Yt(le){var Ue=this,De=new $e(function(qe,st){Ue.ready().then(function(){ue(Ue._dbInfo,rt,function(Ct,Vt){if(Ct)return st(Ct);try{var Pn=Vt.objectStore(Ue._dbInfo.storeName).clear();Vt.oncomplete=function(){qe()},Vt.onabort=Vt.onerror=function(){st(Pn.error?Pn.error:Pn.transaction.error)}}catch(An){st(An)}})}).catch(st)});return Me(De,le),De},length:function hr(le){var Ue=this,De=new $e(function(qe,st){Ue.ready().then(function(){ue(Ue._dbInfo,ft,function(Ct,Vt){if(Ct)return st(Ct);try{var Pn=Vt.objectStore(Ue._dbInfo.storeName).count();Pn.onsuccess=function(){qe(Pn.result)},Pn.onerror=function(){st(Pn.error)}}catch(An){st(An)}})}).catch(st)});return Me(De,le),De},key:function Qn(le,Ue){var De=this,qe=new $e(function(st,Ct){le<0?st(null):De.ready().then(function(){ue(De._dbInfo,ft,function(Vt,mn){if(Vt)return Ct(Vt);try{var Pn=mn.objectStore(De._dbInfo.storeName),An=!1,Cn=Pn.openKeyCursor();Cn.onsuccess=function(){var nr=Cn.result;nr?0===le||An?st(nr.key):(An=!0,nr.advance(le)):st(null)},Cn.onerror=function(){Ct(Cn.error)}}catch(nr){Ct(nr)}})}).catch(Ct)});return Me(qe,Ue),qe},keys:function In(le){var Ue=this,De=new $e(function(qe,st){Ue.ready().then(function(){ue(Ue._dbInfo,ft,function(Ct,Vt){if(Ct)return st(Ct);try{var Pn=Vt.objectStore(Ue._dbInfo.storeName).openKeyCursor(),An=[];Pn.onsuccess=function(){var Cn=Pn.result;Cn?(An.push(Cn.key),Cn.continue()):qe(An)},Pn.onerror=function(){st(Pn.error)}}catch(Cn){st(Cn)}})}).catch(st)});return Me(De,le),De},dropInstance:function _r(le,Ue){Ue=lt.apply(this,arguments);var st,De=this.config();return(le="function"!=typeof le&&le||{}).name||(le.name=le.name||De.name,le.storeName=le.storeName||De.storeName),Me(st=le.name?(le.name===De.name&&this._dbInfo.db?$e.resolve(this._dbInfo.db):jt(le).then(function(mn){var Pn=ve[le.name],An=Pn.forages;Pn.db=mn;for(var Cn=0;Cn<An.length;Cn++)An[Cn]._dbInfo.db=mn;return mn})).then(le.storeName?function(mn){if(mn.objectStoreNames.contains(le.storeName)){var Pn=mn.version+1;it(le);var An=ve[le.name],Cn=An.forages;mn.close();for(var nr=0;nr<Cn.length;nr++){var Er=Cn[nr];Er._dbInfo.db=null,Er._dbInfo.version=Pn}return new $e(function(xr,no){var Tr=ce.open(le.name,Pn);Tr.onerror=function(go){Tr.result.close(),no(go)},Tr.onupgradeneeded=function(){Tr.result.deleteObjectStore(le.storeName)},Tr.onsuccess=function(){var go=Tr.result;go.close(),xr(go)}}).then(function(xr){An.db=xr;for(var no=0;no<Cn.length;no++){var Tr=Cn[no];Tr._dbInfo.db=xr,At(Tr._dbInfo)}}).catch(function(xr){throw(Ze(le,xr)||$e.resolve()).catch(function(){}),xr})}}:function(mn){it(le);var Pn=ve[le.name],An=Pn.forages;mn.close();for(var Cn=0;Cn<An.length;Cn++)An[Cn]._dbInfo.db=null;return new $e(function(gr,xr){var no=ce.deleteDatabase(le.name);no.onerror=function(){var Tr=no.result;Tr&&Tr.close(),xr(no.error)},no.onblocked=function(){console.warn('dropInstance blocked for database "'+le.name+'" until all open connections are closed')},no.onsuccess=function(){var Tr=no.result;Tr&&Tr.close(),gr(Tr)}}).then(function(gr){Pn.db=gr;for(var xr=0;xr<An.length;xr++)At(An[xr]._dbInfo)}).catch(function(gr){throw(Ze(le,gr)||$e.resolve()).catch(function(){}),gr})}):$e.reject("Invalid arguments"),Ue),st}};var Dr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pr=/^~~local_forage_type~([^~]+)~/,Kr="__lfsc__:",nn="arbf",sn="blob",Ur=Object.prototype.toString;function qr(le){var qe,Ct,Vt,mn,Pn,Ue=.75*le.length,De=le.length,st=0;"="===le[le.length-1]&&(Ue--,"="===le[le.length-2]&&Ue--);var An=new ArrayBuffer(Ue),Cn=new Uint8Array(An);for(qe=0;qe<De;qe+=4)Ct=Dr.indexOf(le[qe]),Vt=Dr.indexOf(le[qe+1]),mn=Dr.indexOf(le[qe+2]),Pn=Dr.indexOf(le[qe+3]),Cn[st++]=Ct<<2|Vt>>4,Cn[st++]=(15&Vt)<<4|mn>>2,Cn[st++]=(3&mn)<<6|63&Pn;return An}function Yr(le){var qe,Ue=new Uint8Array(le),De="";for(qe=0;qe<Ue.length;qe+=3)De+=Dr[Ue[qe]>>2],De+=Dr[(3&Ue[qe])<<4|Ue[qe+1]>>4],De+=Dr[(15&Ue[qe+1])<<2|Ue[qe+2]>>6],De+=Dr[63&Ue[qe+2]];return Ue.length%3==2?De=De.substring(0,De.length-1)+"=":Ue.length%3==1&&(De=De.substring(0,De.length-2)+"=="),De}var Rr={serialize:function Cr(le,Ue){var De="";if(le&&(De=Ur.call(le)),le&&("[object ArrayBuffer]"===De||le.buffer&&"[object ArrayBuffer]"===Ur.call(le.buffer))){var qe,st=Kr;le instanceof ArrayBuffer?(qe=le,st+=nn):(qe=le.buffer,"[object Int8Array]"===De?st+="si08":"[object Uint8Array]"===De?st+="ui08":"[object Uint8ClampedArray]"===De?st+="uic8":"[object Int16Array]"===De?st+="si16":"[object Uint16Array]"===De?st+="ur16":"[object Int32Array]"===De?st+="si32":"[object Uint32Array]"===De?st+="ui32":"[object Float32Array]"===De?st+="fl32":"[object Float64Array]"===De?st+="fl64":Ue(new Error("Failed to get type for BinaryArray"))),Ue(st+Yr(qe))}else if("[object Blob]"===De){var Ct=new FileReader;Ct.onload=function(){var Vt="~~local_forage_type~"+le.type+"~"+Yr(this.result);Ue(Kr+sn+Vt)},Ct.readAsArrayBuffer(le)}else try{Ue(JSON.stringify(le))}catch(Vt){console.error("Couldn't convert value into a JSON string: ",le),Ue(null,Vt)}},deserialize:function ko(le){if(le.substring(0,9)!==Kr)return JSON.parse(le);var qe,Ue=le.substring(13),De=le.substring(9,13);if(De===sn&&pr.test(Ue)){var st=Ue.match(pr);qe=st[1],Ue=Ue.substring(st[0].length)}var Ct=qr(Ue);switch(De){case nn:return Ct;case sn:return _t([Ct],{type:qe});case"si08":return new Int8Array(Ct);case"ui08":return new Uint8Array(Ct);case"uic8":return new Uint8ClampedArray(Ct);case"si16":return new Int16Array(Ct);case"ur16":return new Uint16Array(Ct);case"si32":return new Int32Array(Ct);case"ui32":return new Uint32Array(Ct);case"fl32":return new Float32Array(Ct);case"fl64":return new Float64Array(Ct);default:throw new Error("Unkown type: "+De)}},stringToBuffer:qr,bufferToString:Yr};function Zr(le,Ue,De,qe){le.executeSql("CREATE TABLE IF NOT EXISTS "+Ue.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],De,qe)}function ar(le,Ue,De,qe,st,Ct){le.executeSql(De,qe,st,function(Vt,mn){mn.code===mn.SYNTAX_ERR?Vt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Ue.storeName],function(Pn,An){An.rows.length?Ct(Pn,mn):Zr(Pn,Ue,function(){Pn.executeSql(De,qe,st,Ct)},Ct)},Ct):Ct(Vt,mn)},Ct)}function Zt(le,Ue,De,qe){var st=this;le=Be(le);var Ct=new $e(function(Vt,mn){st.ready().then(function(){void 0===Ue&&(Ue=null);var Pn=Ue,An=st._dbInfo;An.serializer.serialize(Ue,function(Cn,nr){nr?mn(nr):An.db.transaction(function(Er){ar(Er,An,"INSERT OR REPLACE INTO "+An.storeName+" (key, value) VALUES (?, ?)",[le,Cn],function(){Vt(Pn)},function(gr,xr){mn(xr)})},function(Er){if(Er.code===Er.QUOTA_ERR){if(qe>0)return void Vt(Zt.apply(st,[le,Pn,De,qe-1]));mn(Er)}})})}).catch(mn)});return Me(Ct,De),Ct}var an={_driver:"webSQLStorage",_initStorage:function tn(le){var Ue=this,De={db:null};if(le)for(var qe in le)De[qe]="string"!=typeof le[qe]?le[qe].toString():le[qe];var st=new $e(function(Ct,Vt){try{De.db=openDatabase(De.name,String(De.version),De.description,De.size)}catch(mn){return Vt(mn)}De.db.transaction(function(mn){Zr(mn,De,function(){Ue._dbInfo=De,Ct()},function(Pn,An){Vt(An)})},Vt)});return De.serializer=Rr,st},_support:function dr(){return"function"==typeof openDatabase}(),iterate:function so(le,Ue){var De=this,qe=new $e(function(st,Ct){De.ready().then(function(){var Vt=De._dbInfo;Vt.db.transaction(function(mn){ar(mn,Vt,"SELECT * FROM "+Vt.storeName,[],function(Pn,An){for(var Cn=An.rows,nr=Cn.length,Er=0;Er<nr;Er++){var gr=Cn.item(Er),xr=gr.value;if(xr&&(xr=Vt.serializer.deserialize(xr)),void 0!==(xr=le(xr,gr.key,Er+1)))return void st(xr)}st()},function(Pn,An){Ct(An)})})}).catch(Ct)});return Me(qe,Ue),qe},getItem:function Or(le,Ue){var De=this;le=Be(le);var qe=new $e(function(st,Ct){De.ready().then(function(){var Vt=De._dbInfo;Vt.db.transaction(function(mn){ar(mn,Vt,"SELECT * FROM "+Vt.storeName+" WHERE key = ? LIMIT 1",[le],function(Pn,An){var Cn=An.rows.length?An.rows.item(0).value:null;Cn&&(Cn=Vt.serializer.deserialize(Cn)),st(Cn)},function(Pn,An){Ct(An)})})}).catch(Ct)});return Me(qe,Ue),qe},setItem:function Nt(le,Ue,De){return Zt.apply(this,[le,Ue,De,1])},removeItem:function cn(le,Ue){var De=this;le=Be(le);var qe=new $e(function(st,Ct){De.ready().then(function(){var Vt=De._dbInfo;Vt.db.transaction(function(mn){ar(mn,Vt,"DELETE FROM "+Vt.storeName+" WHERE key = ?",[le],function(){st()},function(Pn,An){Ct(An)})})}).catch(Ct)});return Me(qe,Ue),qe},clear:function Et(le){var Ue=this,De=new $e(function(qe,st){Ue.ready().then(function(){var Ct=Ue._dbInfo;Ct.db.transaction(function(Vt){ar(Vt,Ct,"DELETE FROM "+Ct.storeName,[],function(){qe()},function(mn,Pn){st(Pn)})})}).catch(st)});return Me(De,le),De},length:function Pt(le){var Ue=this,De=new $e(function(qe,st){Ue.ready().then(function(){var Ct=Ue._dbInfo;Ct.db.transaction(function(Vt){ar(Vt,Ct,"SELECT COUNT(key) as c FROM "+Ct.storeName,[],function(mn,Pn){var An=Pn.rows.item(0).c;qe(An)},function(mn,Pn){st(Pn)})})}).catch(st)});return Me(De,le),De},key:function _n(le,Ue){var De=this,qe=new $e(function(st,Ct){De.ready().then(function(){var Vt=De._dbInfo;Vt.db.transaction(function(mn){ar(mn,Vt,"SELECT key FROM "+Vt.storeName+" WHERE id = ? LIMIT 1",[le+1],function(Pn,An){var Cn=An.rows.length?An.rows.item(0).key:null;st(Cn)},function(Pn,An){Ct(An)})})}).catch(Ct)});return Me(qe,Ue),qe},keys:function Nn(le){var Ue=this,De=new $e(function(qe,st){Ue.ready().then(function(){var Ct=Ue._dbInfo;Ct.db.transaction(function(Vt){ar(Vt,Ct,"SELECT key FROM "+Ct.storeName,[],function(mn,Pn){for(var An=[],Cn=0;Cn<Pn.rows.length;Cn++)An.push(Pn.rows.item(Cn).key);qe(An)},function(mn,Pn){st(Pn)})})}).catch(st)});return Me(De,le),De},dropInstance:function ut(le,Ue){Ue=lt.apply(this,arguments);var De=this.config();(le="function"!=typeof le&&le||{}).name||(le.name=le.name||De.name,le.storeName=le.storeName||De.storeName);var st,qe=this;return Me(st=le.name?new $e(function(Ct){var Vt;Vt=le.name===De.name?qe._dbInfo.db:openDatabase(le.name,"","",0),Ct(le.storeName?{db:Vt,storeNames:[le.storeName]}:function Se(le){return new $e(function(Ue,De){le.transaction(function(qe){qe.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(st,Ct){for(var Vt=[],mn=0;mn<Ct.rows.length;mn++)Vt.push(Ct.rows.item(mn).name);Ue({db:le,storeNames:Vt})},function(st,Ct){De(Ct)})},function(qe){De(qe)})})}(Vt))}).then(function(Ct){return new $e(function(Vt,mn){Ct.db.transaction(function(Pn){function An(gr){return new $e(function(xr,no){Pn.executeSql("DROP TABLE IF EXISTS "+gr,[],function(){xr()},function(Tr,go){no(go)})})}for(var Cn=[],nr=0,Er=Ct.storeNames.length;nr<Er;nr++)Cn.push(An(Ct.storeNames[nr]));$e.all(Cn).then(function(){Vt()}).catch(function(gr){mn(gr)})},function(Pn){mn(Pn)})})}):$e.reject("Invalid arguments"),Ue),st}};function ge(le,Ue){var De=le.name+"/";return le.storeName!==Ue.storeName&&(De+=le.storeName+"/"),De}function Pe(){return!function de(){var le="_localforage_support_test";try{return localStorage.setItem(le,!0),localStorage.removeItem(le),!1}catch{return!0}}()||localStorage.length>0}var wo={_driver:"localStorageWrapper",_initStorage:function ie(le){var De={};if(le)for(var qe in le)De[qe]=le[qe];return De.keyPrefix=ge(le,this._defaultConfig),Pe()?(this._dbInfo=De,De.serializer=Rr,$e.resolve()):$e.reject()},_support:function Ht(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}(),iterate:function Ut(le,Ue){var De=this,qe=De.ready().then(function(){for(var st=De._dbInfo,Ct=st.keyPrefix,Vt=Ct.length,mn=localStorage.length,Pn=1,An=0;An<mn;An++){var Cn=localStorage.key(An);if(0===Cn.indexOf(Ct)){var nr=localStorage.getItem(Cn);if(nr&&(nr=st.serializer.deserialize(nr)),void 0!==(nr=le(nr,Cn.substring(Vt),Pn++)))return nr}}});return Me(qe,Ue),qe},getItem:function nt(le,Ue){var De=this;le=Be(le);var qe=De.ready().then(function(){var st=De._dbInfo,Ct=localStorage.getItem(st.keyPrefix+le);return Ct&&(Ct=st.serializer.deserialize(Ct)),Ct});return Me(qe,Ue),qe},setItem:function Io(le,Ue,De){var qe=this;le=Be(le);var st=qe.ready().then(function(){void 0===Ue&&(Ue=null);var Ct=Ue;return new $e(function(Vt,mn){var Pn=qe._dbInfo;Pn.serializer.serialize(Ue,function(An,Cn){if(Cn)mn(Cn);else try{localStorage.setItem(Pn.keyPrefix+le,An),Vt(Ct)}catch(nr){("QuotaExceededError"===nr.name||"NS_ERROR_DOM_QUOTA_REACHED"===nr.name)&&mn(nr),mn(nr)}})})});return Me(st,De),st},removeItem:function Sr(le,Ue){var De=this;le=Be(le);var qe=De.ready().then(function(){localStorage.removeItem(De._dbInfo.keyPrefix+le)});return Me(qe,Ue),qe},clear:function G(le){var Ue=this,De=Ue.ready().then(function(){for(var qe=Ue._dbInfo.keyPrefix,st=localStorage.length-1;st>=0;st--){var Ct=localStorage.key(st);0===Ct.indexOf(qe)&&localStorage.removeItem(Ct)}});return Me(De,le),De},length:function wn(le){var De=this.keys().then(function(qe){return qe.length});return Me(De,le),De},key:function vn(le,Ue){var De=this,qe=De.ready().then(function(){var Ct,st=De._dbInfo;try{Ct=localStorage.key(le)}catch{Ct=null}return Ct&&(Ct=Ct.substring(st.keyPrefix.length)),Ct});return Me(qe,Ue),qe},keys:function Ln(le){var Ue=this,De=Ue.ready().then(function(){for(var qe=Ue._dbInfo,st=localStorage.length,Ct=[],Vt=0;Vt<st;Vt++){var mn=localStorage.key(Vt);0===mn.indexOf(qe.keyPrefix)&&Ct.push(mn.substring(qe.keyPrefix.length))}return Ct});return Me(De,le),De},dropInstance:function zo(le,Ue){if(Ue=lt.apply(this,arguments),!(le="function"!=typeof le&&le||{}).name){var De=this.config();le.name=le.name||De.name,le.storeName=le.storeName||De.storeName}var st,qe=this;return Me(st=le.name?new $e(function(Ct){Ct(le.storeName?ge(le,qe._defaultConfig):le.name+"/")}).then(function(Ct){for(var Vt=localStorage.length-1;Vt>=0;Vt--){var mn=localStorage.key(Vt);0===mn.indexOf(Ct)&&localStorage.removeItem(mn)}}):$e.reject("Invalid arguments"),Ue),st}},To=function(Ue,De){return Ue===De||"number"==typeof Ue&&"number"==typeof De&&isNaN(Ue)&&isNaN(De)},Ar=function(Ue,De){for(var qe=Ue.length,st=0;st<qe;){if(To(Ue[st],De))return!0;st++}return!1},No=Array.isArray||function(le){return"[object Array]"===Object.prototype.toString.call(le)},po={},Jn={},Uo={INDEXEDDB:Xr,WEBSQL:an,LOCALSTORAGE:wo},tt=[Uo.INDEXEDDB._driver,Uo.WEBSQL._driver,Uo.LOCALSTORAGE._driver],dn=["dropInstance"],Hn=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(dn),Ir={description:"",driver:tt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function eo(le,Ue){le[Ue]=function(){var De=arguments;return le.ready().then(function(){return le[Ue].apply(le,De)})}}function Oe(){for(var le=1;le<arguments.length;le++){var Ue=arguments[le];if(Ue)for(var De in Ue)Ue.hasOwnProperty(De)&&(arguments[0][De]=No(Ue[De])?Ue[De].slice():Ue[De])}return arguments[0]}var ot=function(){function le(Ue){for(var De in function S(le,Ue){if(!(le instanceof Ue))throw new TypeError("Cannot call a class as a function")}(this,le),Uo)if(Uo.hasOwnProperty(De)){var qe=Uo[De],st=qe._driver;this[De]=st,po[st]||this.defineDriver(qe)}this._defaultConfig=Oe({},Ir),this._config=Oe({},this._defaultConfig,Ue),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return le.prototype.config=function(De){if("object"===(typeof De>"u"?"undefined":q(De))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var qe in De){if("storeName"===qe&&(De[qe]=De[qe].replace(/\W/g,"_")),"version"===qe&&"number"!=typeof De[qe])return new Error("Database version must be a number.");this._config[qe]=De[qe]}return!("driver"in De)||!De.driver||this.setDriver(this._config.driver)}return"string"==typeof De?this._config[De]:this._config},le.prototype.defineDriver=function(De,qe,st){var Ct=new $e(function(Vt,mn){try{var Pn=De._driver,An=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!De._driver)return void mn(An);for(var Cn=Hn.concat("_initStorage"),nr=0,Er=Cn.length;nr<Er;nr++){var gr=Cn[nr];if((!Ar(dn,gr)||De[gr])&&"function"!=typeof De[gr])return void mn(An)}!function(){for(var br=function(ja){return function(){var Li=new Error("Method "+ja+" is not implemented by the current driver"),bi=$e.reject(Li);return Me(bi,arguments[arguments.length-1]),bi}},Wr=0,Ki=dn.length;Wr<Ki;Wr++){var Mi=dn[Wr];De[Mi]||(De[Mi]=br(Mi))}}();var Tr=function(br){po[Pn]&&console.info("Redefining LocalForage driver: "+Pn),po[Pn]=De,Jn[Pn]=br,Vt()};"_support"in De?De._support&&"function"==typeof De._support?De._support().then(Tr,mn):Tr(!!De._support):Tr(!0)}catch(go){mn(go)}});return Qe(Ct,qe,st),Ct},le.prototype.driver=function(){return this._driver||null},le.prototype.getDriver=function(De,qe,st){var Ct=po[De]?$e.resolve(po[De]):$e.reject(new Error("Driver not found."));return Qe(Ct,qe,st),Ct},le.prototype.getSerializer=function(De){var qe=$e.resolve(Rr);return Qe(qe,De),qe},le.prototype.ready=function(De){var qe=this,st=qe._driverSet.then(function(){return null===qe._ready&&(qe._ready=qe._initDriver()),qe._ready});return Qe(st,De,De),st},le.prototype.setDriver=function(De,qe,st){var Ct=this;No(De)||(De=[De]);var Vt=this._getSupportedDrivers(De);function mn(){Ct._config.driver=Ct.driver()}function Pn(nr){return Ct._extend(nr),mn(),Ct._ready=Ct._initStorage(Ct._config),Ct._ready}var Cn=null!==this._driverSet?this._driverSet.catch(function(){return $e.resolve()}):$e.resolve();return this._driverSet=Cn.then(function(){var nr=Vt[0];return Ct._dbInfo=null,Ct._ready=null,Ct.getDriver(nr).then(function(Er){Ct._driver=Er._driver,mn(),Ct._wrapLibraryMethodsWithReady(),Ct._initDriver=function An(nr){return function(){var Er=0;return function gr(){for(;Er<nr.length;){var xr=nr[Er];return Er++,Ct._dbInfo=null,Ct._ready=null,Ct.getDriver(xr).then(Pn).catch(gr)}mn();var no=new Error("No available storage method found.");return Ct._driverSet=$e.reject(no),Ct._driverSet}()}}(Vt)})}).catch(function(){mn();var nr=new Error("No available storage method found.");return Ct._driverSet=$e.reject(nr),Ct._driverSet}),Qe(this._driverSet,qe,st),this._driverSet},le.prototype.supports=function(De){return!!Jn[De]},le.prototype._extend=function(De){Oe(this,De)},le.prototype._getSupportedDrivers=function(De){for(var qe=[],st=0,Ct=De.length;st<Ct;st++){var Vt=De[st];this.supports(Vt)&&qe.push(Vt)}return qe},le.prototype._wrapLibraryMethodsWithReady=function(){for(var De=0,qe=Hn.length;De<qe;De++)eo(this,Hn[De])},le.prototype.createInstance=function(De){return new le(De)},le}(),Ft=new ot;H.exports=Ft},{3:3}]},{},[4])(4)},4412:(Un,Tt,F)=>{"use strict";F.d(Tt,{t:()=>g});var x=F(1413);class g extends x.B{constructor(we){super(),this._value=we}get value(){return this.getValue()}_subscribe(we){const q=super._subscribe(we);return!q.closed&&we.next(this._value),q}getValue(){const{hasError:we,thrownError:q,_value:S}=this;if(we)throw q;return this._throwIfClosed(),S}next(we){super.next(this._value=we)}}},1985:(Un,Tt,F)=>{"use strict";F.d(Tt,{c:()=>ce});var x=F(7707),g=F(8359),H=F(3494),we=F(1203),q=F(1026),S=F(8071),Te=F(9786);let ce=(()=>{class Me{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const lt=new Me;return lt.source=this,lt.operator=Be,lt}subscribe(Be,lt,ct){const Fe=function $e(Me){return Me&&Me instanceof x.vU||function _t(Me){return Me&&(0,S.T)(Me.next)&&(0,S.T)(Me.error)&&(0,S.T)(Me.complete)}(Me)&&(0,g.Uv)(Me)}(Be)?Be:new x.Ms(Be,lt,ct);return(0,Te.Y)(()=>{const{operator:ve,source:wt}=this;Fe.add(ve?ve.call(Fe,wt):wt?this._subscribe(Fe):this._trySubscribe(Fe))}),Fe}_trySubscribe(Be){try{return this._subscribe(Be)}catch(lt){Be.error(lt)}}forEach(Be,lt){return new(lt=Ke(lt))((ct,Fe)=>{const ve=new x.Ms({next:wt=>{try{Be(wt)}catch(ft){Fe(ft),ve.unsubscribe()}},error:Fe,complete:ct});this.subscribe(ve)})}_subscribe(Be){var lt;return null===(lt=this.source)||void 0===lt?void 0:lt.subscribe(Be)}[H.s](){return this}pipe(...Be){return(0,we.m)(Be)(this)}toPromise(Be){return new(Be=Ke(Be))((lt,ct)=>{let Fe;this.subscribe(ve=>Fe=ve,ve=>ct(ve),()=>lt(Fe))})}}return Me.create=Qe=>new Me(Qe),Me})();function Ke(Me){var Qe;return null!==(Qe=null!=Me?Me:q.$.Promise)&&void 0!==Qe?Qe:Promise}},1413:(Un,Tt,F)=>{"use strict";F.d(Tt,{B:()=>Te});var x=F(1985),g=F(8359);const we=(0,F(1853).L)(Ke=>function(){Ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var q=F(7908),S=F(9786);let Te=(()=>{class Ke extends x.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($e){const Me=new ce(this,this);return Me.operator=$e,Me}_throwIfClosed(){if(this.closed)throw new we}next($e){(0,S.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next($e)}})}error($e){(0,S.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$e;const{observers:Me}=this;for(;Me.length;)Me.shift().error($e)}})}complete(){(0,S.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$e}=this;for(;$e.length;)$e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $e;return(null===($e=this.observers)||void 0===$e?void 0:$e.length)>0}_trySubscribe($e){return this._throwIfClosed(),super._trySubscribe($e)}_subscribe($e){return this._throwIfClosed(),this._checkFinalizedStatuses($e),this._innerSubscribe($e)}_innerSubscribe($e){const{hasError:Me,isStopped:Qe,observers:Be}=this;return Me||Qe?g.Kn:(this.currentObservers=null,Be.push($e),new g.yU(()=>{this.currentObservers=null,(0,q.o)(Be,$e)}))}_checkFinalizedStatuses($e){const{hasError:Me,thrownError:Qe,isStopped:Be}=this;Me?$e.error(Qe):Be&&$e.complete()}asObservable(){const $e=new x.c;return $e.source=this,$e}}return Ke.create=(_t,$e)=>new ce(_t,$e),Ke})();class ce extends Te{constructor(_t,$e){super(),this.destination=_t,this.source=$e}next(_t){var $e,Me;null===(Me=null===($e=this.destination)||void 0===$e?void 0:$e.next)||void 0===Me||Me.call($e,_t)}error(_t){var $e,Me;null===(Me=null===($e=this.destination)||void 0===$e?void 0:$e.error)||void 0===Me||Me.call($e,_t)}complete(){var _t,$e;null===($e=null===(_t=this.destination)||void 0===_t?void 0:_t.complete)||void 0===$e||$e.call(_t)}_subscribe(_t){var $e,Me;return null!==(Me=null===($e=this.source)||void 0===$e?void 0:$e.subscribe(_t))&&void 0!==Me?Me:g.Kn}}},7707:(Un,Tt,F)=>{"use strict";F.d(Tt,{Ms:()=>ct,vU:()=>Me});var x=F(8071),g=F(8359),H=F(1026),we=F(5334),q=F(5343);const S=Ke("C",void 0,void 0);function Ke(rt,Ee,ze){return{kind:rt,value:Ee,error:ze}}var _t=F(9270),$e=F(9786);class Me extends g.yU{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,g.Uv)(Ee)&&Ee.add(this)):this.destination=ft}static create(Ee,ze,oe){return new ct(Ee,ze,oe)}next(Ee){this.isStopped?wt(function ce(rt){return Ke("N",rt,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?wt(function Te(rt){return Ke("E",void 0,rt)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?wt(S,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qe=Function.prototype.bind;function Be(rt,Ee){return Qe.call(rt,Ee)}class lt{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:ze}=this;if(ze.next)try{ze.next(Ee)}catch(oe){Fe(oe)}}error(Ee){const{partialObserver:ze}=this;if(ze.error)try{ze.error(Ee)}catch(oe){Fe(oe)}else Fe(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(ze){Fe(ze)}}}class ct extends Me{constructor(Ee,ze,oe){let it;if(super(),(0,x.T)(Ee)||!Ee)it={next:null!=Ee?Ee:void 0,error:null!=ze?ze:void 0,complete:null!=oe?oe:void 0};else{let At;this&&H.$.useDeprecatedNextContext?(At=Object.create(Ee),At.unsubscribe=()=>this.unsubscribe(),it={next:Ee.next&&Be(Ee.next,At),error:Ee.error&&Be(Ee.error,At),complete:Ee.complete&&Be(Ee.complete,At)}):it=Ee}this.destination=new lt(it)}}function Fe(rt){H.$.useDeprecatedSynchronousErrorHandling?(0,$e.l)(rt):(0,we.m)(rt)}function wt(rt,Ee){const{onStoppedNotification:ze}=H.$;ze&&_t.f.setTimeout(()=>ze(rt,Ee))}const ft={closed:!0,next:q.l,error:function ve(rt){throw rt},complete:q.l}},8359:(Un,Tt,F)=>{"use strict";F.d(Tt,{Kn:()=>S,yU:()=>q,Uv:()=>Te});var x=F(8071);const H=(0,F(1853).L)(Ke=>function($e){Ke(this),this.message=$e?`${$e.length} errors occurred during unsubscription:\n${$e.map((Me,Qe)=>`${Qe+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$e});var we=F(7908);class q{constructor(_t){this.initialTeardown=_t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let _t;if(!this.closed){this.closed=!0;const{_parentage:$e}=this;if($e)if(this._parentage=null,Array.isArray($e))for(const Be of $e)Be.remove(this);else $e.remove(this);const{initialTeardown:Me}=this;if((0,x.T)(Me))try{Me()}catch(Be){_t=Be instanceof H?Be.errors:[Be]}const{_finalizers:Qe}=this;if(Qe){this._finalizers=null;for(const Be of Qe)try{ce(Be)}catch(lt){_t=null!=_t?_t:[],lt instanceof H?_t=[..._t,...lt.errors]:_t.push(lt)}}if(_t)throw new H(_t)}}add(_t){var $e;if(_t&&_t!==this)if(this.closed)ce(_t);else{if(_t instanceof q){if(_t.closed||_t._hasParent(this))return;_t._addParent(this)}(this._finalizers=null!==($e=this._finalizers)&&void 0!==$e?$e:[]).push(_t)}}_hasParent(_t){const{_parentage:$e}=this;return $e===_t||Array.isArray($e)&&$e.includes(_t)}_addParent(_t){const{_parentage:$e}=this;this._parentage=Array.isArray($e)?($e.push(_t),$e):$e?[$e,_t]:_t}_removeParent(_t){const{_parentage:$e}=this;$e===_t?this._parentage=null:Array.isArray($e)&&(0,we.o)($e,_t)}remove(_t){const{_finalizers:$e}=this;$e&&(0,we.o)($e,_t),_t instanceof q&&_t._removeParent(this)}}q.EMPTY=(()=>{const Ke=new q;return Ke.closed=!0,Ke})();const S=q.EMPTY;function Te(Ke){return Ke instanceof q||Ke&&"closed"in Ke&&(0,x.T)(Ke.remove)&&(0,x.T)(Ke.add)&&(0,x.T)(Ke.unsubscribe)}function ce(Ke){(0,x.T)(Ke)?Ke():Ke.unsubscribe()}},1026:(Un,Tt,F)=>{"use strict";F.d(Tt,{$:()=>x});const x={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},17:(Un,Tt,F)=>{"use strict";F.d(Tt,{G:()=>S});var x=F(1985),g=F(8359),H=F(9898),we=F(4360),q=F(9974);class S extends x.c{constructor(ce,Ke){super(),this.source=ce,this.subjectFactory=Ke,this._subject=null,this._refCount=0,this._connection=null,(0,q.S)(ce)&&(this.lift=ce.lift)}_subscribe(ce){return this.getSubject().subscribe(ce)}getSubject(){const ce=this._subject;return(!ce||ce.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:ce}=this;this._subject=this._connection=null,null==ce||ce.unsubscribe()}connect(){let ce=this._connection;if(!ce){ce=this._connection=new g.yU;const Ke=this.getSubject();ce.add(this.source.subscribe((0,we._)(Ke,void 0,()=>{this._teardown(),Ke.complete()},_t=>{this._teardown(),Ke.error(_t)},()=>this._teardown()))),ce.closed&&(this._connection=null,ce=g.yU.EMPTY)}return ce}refCount(){return(0,H.B)()(this)}}},4572:(Un,Tt,F)=>{"use strict";F.d(Tt,{z:()=>_t});var x=F(1985),g=F(3073),H=F(6648),we=F(3669),q=F(6450),S=F(9326),Te=F(8496),ce=F(4360),Ke=F(5225);function _t(...Qe){const Be=(0,S.lI)(Qe),lt=(0,S.ms)(Qe),{args:ct,keys:Fe}=(0,g.D)(Qe);if(0===ct.length)return(0,H.H)([],Be);const ve=new x.c(function $e(Qe,Be,lt=we.D){return ct=>{Me(Be,()=>{const{length:Fe}=Qe,ve=new Array(Fe);let wt=Fe,ft=Fe;for(let rt=0;rt<Fe;rt++)Me(Be,()=>{const Ee=(0,H.H)(Qe[rt],Be);let ze=!1;Ee.subscribe((0,ce._)(ct,oe=>{ve[rt]=oe,ze||(ze=!0,ft--),ft||ct.next(lt(ve.slice()))},()=>{--wt||ct.complete()}))},ct)},ct)}}(ct,Be,Fe?wt=>(0,Te.e)(Fe,wt):we.D));return lt?ve.pipe((0,q.I)(lt)):ve}function Me(Qe,Be,lt){Qe?(0,Ke.N)(lt,Qe,Be):Be()}},8793:(Un,Tt,F)=>{"use strict";F.d(Tt,{x:()=>q});var x=F(6365),H=F(9326),we=F(6648);function q(...S){return function g(){return(0,x.U)(1)}()((0,we.H)(S,(0,H.lI)(S)))}},9030:(Un,Tt,F)=>{"use strict";F.d(Tt,{v:()=>H});var x=F(1985),g=F(8750);function H(we){return new x.c(q=>{(0,g.Tg)(we()).subscribe(q)})}},983:(Un,Tt,F)=>{"use strict";F.d(Tt,{w:()=>g});const g=new(F(1985).c)(q=>q.complete())},6648:(Un,Tt,F)=>{"use strict";F.d(Tt,{H:()=>oe});var x=F(8750),g=F(5225),H=F(9974),we=F(4360);function q(it,At=0){return(0,H.N)((Ze,He)=>{Ze.subscribe((0,we._)(He,jt=>(0,g.N)(He,it,()=>He.next(jt),At),()=>(0,g.N)(He,it,()=>He.complete(),At),jt=>(0,g.N)(He,it,()=>He.error(jt),At)))})}function S(it,At=0){return(0,H.N)((Ze,He)=>{He.add(it.schedule(()=>Ze.subscribe(He),At))})}var Ke=F(1985),$e=F(4761),Me=F(8071);function Be(it,At){if(!it)throw new Error("Iterable cannot be null");return new Ke.c(Ze=>{(0,g.N)(Ze,At,()=>{const He=it[Symbol.asyncIterator]();(0,g.N)(Ze,At,()=>{He.next().then(jt=>{jt.done?Ze.complete():Ze.next(jt.value)})},0,!0)})})}var lt=F(5055),ct=F(9858),Fe=F(7441),ve=F(5397),wt=F(7953),ft=F(591),rt=F(5196);function oe(it,At){return At?function ze(it,At){if(null!=it){if((0,lt.l)(it))return function Te(it,At){return(0,x.Tg)(it).pipe(S(At),q(At))}(it,At);if((0,Fe.X)(it))return function _t(it,At){return new Ke.c(Ze=>{let He=0;return At.schedule(function(){He===it.length?Ze.complete():(Ze.next(it[He++]),Ze.closed||this.schedule())})})}(it,At);if((0,ct.y)(it))return function ce(it,At){return(0,x.Tg)(it).pipe(S(At),q(At))}(it,At);if((0,wt.T)(it))return Be(it,At);if((0,ve.x)(it))return function Qe(it,At){return new Ke.c(Ze=>{let He;return(0,g.N)(Ze,At,()=>{He=it[$e.l](),(0,g.N)(Ze,At,()=>{let jt,zt;try{({value:jt,done:zt}=He.next())}catch(Gn){return void Ze.error(Gn)}zt?Ze.complete():Ze.next(jt)},0,!0)}),()=>(0,Me.T)(null==He?void 0:He.return)&&He.return()})}(it,At);if((0,rt.U)(it))return function Ee(it,At){return Be((0,rt.C)(it),At)}(it,At)}throw(0,ft.L)(it)}(it,At):(0,x.Tg)(it)}},3726:(Un,Tt,F)=>{"use strict";F.d(Tt,{R:()=>_t});var x=F(8750),g=F(1985),H=F(1397),we=F(7441),q=F(8071),S=F(6450);const Te=["addListener","removeListener"],ce=["addEventListener","removeEventListener"],Ke=["on","off"];function _t(lt,ct,Fe,ve){if((0,q.T)(Fe)&&(ve=Fe,Fe=void 0),ve)return _t(lt,ct,Fe).pipe((0,S.I)(ve));const[wt,ft]=function Be(lt){return(0,q.T)(lt.addEventListener)&&(0,q.T)(lt.removeEventListener)}(lt)?ce.map(rt=>Ee=>lt[rt](ct,Ee,Fe)):function Me(lt){return(0,q.T)(lt.addListener)&&(0,q.T)(lt.removeListener)}(lt)?Te.map($e(lt,ct)):function Qe(lt){return(0,q.T)(lt.on)&&(0,q.T)(lt.off)}(lt)?Ke.map($e(lt,ct)):[];if(!wt&&(0,we.X)(lt))return(0,H.Z)(rt=>_t(rt,ct,Fe))((0,x.Tg)(lt));if(!wt)throw new TypeError("Invalid event target");return new g.c(rt=>{const Ee=(...ze)=>rt.next(1<ze.length?ze:ze[0]);return wt(Ee),()=>ft(Ee)})}function $e(lt,ct){return Fe=>ve=>lt[Fe](ct,ve)}},8750:(Un,Tt,F)=>{"use strict";F.d(Tt,{Tg:()=>Qe});var x=F(1635),g=F(7441),H=F(9858),we=F(1985),q=F(5055),S=F(7953),Te=F(591),ce=F(5397),Ke=F(5196),_t=F(8071),$e=F(5334),Me=F(3494);function Qe(rt){if(rt instanceof we.c)return rt;if(null!=rt){if((0,q.l)(rt))return function Be(rt){return new we.c(Ee=>{const ze=rt[Me.s]();if((0,_t.T)(ze.subscribe))return ze.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(rt);if((0,g.X)(rt))return function lt(rt){return new we.c(Ee=>{for(let ze=0;ze<rt.length&&!Ee.closed;ze++)Ee.next(rt[ze]);Ee.complete()})}(rt);if((0,H.y)(rt))return function ct(rt){return new we.c(Ee=>{rt.then(ze=>{Ee.closed||(Ee.next(ze),Ee.complete())},ze=>Ee.error(ze)).then(null,$e.m)})}(rt);if((0,S.T)(rt))return ve(rt);if((0,ce.x)(rt))return function Fe(rt){return new we.c(Ee=>{for(const ze of rt)if(Ee.next(ze),Ee.closed)return;Ee.complete()})}(rt);if((0,Ke.U)(rt))return function wt(rt){return ve((0,Ke.C)(rt))}(rt)}throw(0,Te.L)(rt)}function ve(rt){return new we.c(Ee=>{(function ft(rt,Ee){var ze,oe,it,At;return(0,x.sH)(this,void 0,void 0,function*(){try{for(ze=(0,x.xN)(rt);!(oe=yield ze.next()).done;)if(Ee.next(oe.value),Ee.closed)return}catch(Ze){it={error:Ze}}finally{try{oe&&!oe.done&&(At=ze.return)&&(yield At.call(ze))}finally{if(it)throw it.error}}Ee.complete()})})(rt,Ee).catch(ze=>Ee.error(ze))})}},7673:(Un,Tt,F)=>{"use strict";F.d(Tt,{of:()=>H});var x=F(9326),g=F(6648);function H(...we){const q=(0,x.lI)(we);return(0,g.H)(we,q)}},8810:(Un,Tt,F)=>{"use strict";F.d(Tt,{$:()=>H});var x=F(1985),g=F(8071);function H(we,q){const S=(0,g.T)(we)?we:()=>we,Te=ce=>ce.error(S());return new x.c(q?ce=>q.schedule(Te,0,ce):Te)}},4360:(Un,Tt,F)=>{"use strict";F.d(Tt,{_:()=>g});var x=F(7707);function g(we,q,S,Te,ce){return new H(we,q,S,Te,ce)}class H extends x.vU{constructor(q,S,Te,ce,Ke,_t){super(q),this.onFinalize=Ke,this.shouldUnsubscribe=_t,this._next=S?function($e){try{S($e)}catch(Me){q.error(Me)}}:super._next,this._error=ce?function($e){try{ce($e)}catch(Me){q.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=Te?function(){try{Te()}catch($e){q.error($e)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var q;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:S}=this;super.unsubscribe(),!S&&(null===(q=this.onFinalize)||void 0===q||q.call(this))}}}},9437:(Un,Tt,F)=>{"use strict";F.d(Tt,{W:()=>we});var x=F(8750),g=F(4360),H=F(9974);function we(q){return(0,H.N)((S,Te)=>{let _t,ce=null,Ke=!1;ce=S.subscribe((0,g._)(Te,void 0,void 0,$e=>{_t=(0,x.Tg)(q($e,we(q)(S))),ce?(ce.unsubscribe(),ce=null,_t.subscribe(Te)):Ke=!0})),Ke&&(ce.unsubscribe(),ce=null,_t.subscribe(Te))})}},274:(Un,Tt,F)=>{"use strict";F.d(Tt,{H:()=>H});var x=F(1397),g=F(8071);function H(we,q){return(0,g.T)(q)?(0,x.Z)(we,q,1):(0,x.Z)(we,1)}},9901:(Un,Tt,F)=>{"use strict";F.d(Tt,{U:()=>H});var x=F(9974),g=F(4360);function H(we){return(0,x.N)((q,S)=>{let Te=!1;q.subscribe((0,g._)(S,ce=>{Te=!0,S.next(ce)},()=>{Te||S.next(we),S.complete()}))})}},5964:(Un,Tt,F)=>{"use strict";F.d(Tt,{p:()=>H});var x=F(9974),g=F(4360);function H(we,q){return(0,x.N)((S,Te)=>{let ce=0;S.subscribe((0,g._)(Te,Ke=>we.call(q,Ke,ce++)&&Te.next(Ke)))})}},980:(Un,Tt,F)=>{"use strict";F.d(Tt,{j:()=>g});var x=F(9974);function g(H){return(0,x.N)((we,q)=>{try{we.subscribe(q)}finally{q.add(H)}})}},1594:(Un,Tt,F)=>{"use strict";F.d(Tt,{$:()=>Te});var x=F(9350),g=F(5964),H=F(6697),we=F(9901),q=F(3774),S=F(3669);function Te(ce,Ke){const _t=arguments.length>=2;return $e=>$e.pipe(ce?(0,g.p)((Me,Qe)=>ce(Me,Qe,$e)):S.D,(0,H.s)(1),_t?(0,we.U)(Ke):(0,q.v)(()=>new x.G))}},6354:(Un,Tt,F)=>{"use strict";F.d(Tt,{T:()=>H});var x=F(9974),g=F(4360);function H(we,q){return(0,x.N)((S,Te)=>{let ce=0;S.subscribe((0,g._)(Te,Ke=>{Te.next(we.call(q,Ke,ce++))}))})}},3703:(Un,Tt,F)=>{"use strict";F.d(Tt,{u:()=>g});var x=F(6354);function g(H){return(0,x.T)(()=>H)}},6365:(Un,Tt,F)=>{"use strict";F.d(Tt,{U:()=>H});var x=F(1397),g=F(3669);function H(we=1/0){return(0,x.Z)(g.D,we)}},1397:(Un,Tt,F)=>{"use strict";F.d(Tt,{Z:()=>ce});var x=F(6354),g=F(8750),H=F(9974),we=F(5225),q=F(4360),Te=F(8071);function ce(Ke,_t,$e=1/0){return(0,Te.T)(_t)?ce((Me,Qe)=>(0,x.T)((Be,lt)=>_t(Me,Be,Qe,lt))((0,g.Tg)(Ke(Me,Qe))),$e):("number"==typeof _t&&($e=_t),(0,H.N)((Me,Qe)=>function S(Ke,_t,$e,Me,Qe,Be,lt,ct){const Fe=[];let ve=0,wt=0,ft=!1;const rt=()=>{ft&&!Fe.length&&!ve&&_t.complete()},Ee=oe=>ve<Me?ze(oe):Fe.push(oe),ze=oe=>{Be&&_t.next(oe),ve++;let it=!1;(0,g.Tg)($e(oe,wt++)).subscribe((0,q._)(_t,At=>{null==Qe||Qe(At),Be?Ee(At):_t.next(At)},()=>{it=!0},void 0,()=>{if(it)try{for(ve--;Fe.length&&ve<Me;){const At=Fe.shift();lt?(0,we.N)(_t,lt,()=>ze(At)):ze(At)}rt()}catch(At){_t.error(At)}}))};return Ke.subscribe((0,q._)(_t,Ee,()=>{ft=!0,rt()})),()=>{null==ct||ct()}}(Me,Qe,Ke,$e)))}},9898:(Un,Tt,F)=>{"use strict";F.d(Tt,{B:()=>H});var x=F(9974),g=F(4360);function H(){return(0,x.N)((we,q)=>{let S=null;we._refCount++;const Te=(0,g._)(q,void 0,void 0,void 0,()=>{if(!we||we._refCount<=0||0<--we._refCount)return void(S=null);const ce=we._connection,Ke=S;S=null,ce&&(!Ke||ce===Ke)&&ce.unsubscribe(),q.unsubscribe()});we.subscribe(Te),Te.closed||(S=we.connect())})}},5558:(Un,Tt,F)=>{"use strict";F.d(Tt,{n:()=>we});var x=F(8750),g=F(9974),H=F(4360);function we(q,S){return(0,g.N)((Te,ce)=>{let Ke=null,_t=0,$e=!1;const Me=()=>$e&&!Ke&&ce.complete();Te.subscribe((0,H._)(ce,Qe=>{null==Ke||Ke.unsubscribe();let Be=0;const lt=_t++;(0,x.Tg)(q(Qe,lt)).subscribe(Ke=(0,H._)(ce,ct=>ce.next(S?S(Qe,ct,lt,Be++):ct),()=>{Ke=null,Me()}))},()=>{$e=!0,Me()}))})}},6697:(Un,Tt,F)=>{"use strict";F.d(Tt,{s:()=>we});var x=F(983),g=F(9974),H=F(4360);function we(q){return q<=0?()=>x.w:(0,g.N)((S,Te)=>{let ce=0;S.subscribe((0,H._)(Te,Ke=>{++ce<=q&&(Te.next(Ke),q<=ce&&Te.complete())}))})}},8141:(Un,Tt,F)=>{"use strict";F.d(Tt,{M:()=>q});var x=F(8071),g=F(9974),H=F(4360),we=F(3669);function q(S,Te,ce){const Ke=(0,x.T)(S)||Te||ce?{next:S,error:Te,complete:ce}:S;return Ke?(0,g.N)((_t,$e)=>{var Me;null===(Me=Ke.subscribe)||void 0===Me||Me.call(Ke);let Qe=!0;_t.subscribe((0,H._)($e,Be=>{var lt;null===(lt=Ke.next)||void 0===lt||lt.call(Ke,Be),$e.next(Be)},()=>{var Be;Qe=!1,null===(Be=Ke.complete)||void 0===Be||Be.call(Ke),$e.complete()},Be=>{var lt;Qe=!1,null===(lt=Ke.error)||void 0===lt||lt.call(Ke,Be),$e.error(Be)},()=>{var Be,lt;Qe&&(null===(Be=Ke.unsubscribe)||void 0===Be||Be.call(Ke)),null===(lt=Ke.finalize)||void 0===lt||lt.call(Ke)}))}):we.D}},3774:(Un,Tt,F)=>{"use strict";F.d(Tt,{v:()=>we});var x=F(9350),g=F(9974),H=F(4360);function we(S=q){return(0,g.N)((Te,ce)=>{let Ke=!1;Te.subscribe((0,H._)(ce,_t=>{Ke=!0,ce.next(_t)},()=>Ke?ce.complete():ce.error(S())))})}function q(){return new x.G}},9270:(Un,Tt,F)=>{"use strict";F.d(Tt,{f:()=>x});const x={setTimeout(g,H,...we){const{delegate:q}=x;return null!=q&&q.setTimeout?q.setTimeout(g,H,...we):setTimeout(g,H,...we)},clearTimeout(g){const{delegate:H}=x;return((null==H?void 0:H.clearTimeout)||clearTimeout)(g)},delegate:void 0}},4761:(Un,Tt,F)=>{"use strict";F.d(Tt,{l:()=>g});const g=function x(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Un,Tt,F)=>{"use strict";F.d(Tt,{s:()=>x});const x="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Un,Tt,F)=>{"use strict";F.d(Tt,{G:()=>g});const g=(0,F(1853).L)(H=>function(){H(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(Un,Tt,F)=>{"use strict";F.d(Tt,{R0:()=>S,lI:()=>q,ms:()=>we});var x=F(8071),g=F(9470);function H(Te){return Te[Te.length-1]}function we(Te){return(0,x.T)(H(Te))?Te.pop():void 0}function q(Te){return(0,g.m)(H(Te))?Te.pop():void 0}function S(Te,ce){return"number"==typeof H(Te)?Te.pop():ce}},3073:(Un,Tt,F)=>{"use strict";F.d(Tt,{D:()=>q});const{isArray:x}=Array,{getPrototypeOf:g,prototype:H,keys:we}=Object;function q(Te){if(1===Te.length){const ce=Te[0];if(x(ce))return{args:ce,keys:null};if(function S(Te){return Te&&"object"==typeof Te&&g(Te)===H}(ce)){const Ke=we(ce);return{args:Ke.map(_t=>ce[_t]),keys:Ke}}}return{args:Te,keys:null}}},7908:(Un,Tt,F)=>{"use strict";function x(g,H){if(g){const we=g.indexOf(H);0<=we&&g.splice(we,1)}}F.d(Tt,{o:()=>x})},1853:(Un,Tt,F)=>{"use strict";function x(g){const we=g(q=>{Error.call(q),q.stack=(new Error).stack});return we.prototype=Object.create(Error.prototype),we.prototype.constructor=we,we}F.d(Tt,{L:()=>x})},8496:(Un,Tt,F)=>{"use strict";function x(g,H){return g.reduce((we,q,S)=>(we[q]=H[S],we),{})}F.d(Tt,{e:()=>x})},9786:(Un,Tt,F)=>{"use strict";F.d(Tt,{Y:()=>H,l:()=>we});var x=F(1026);let g=null;function H(q){if(x.$.useDeprecatedSynchronousErrorHandling){const S=!g;if(S&&(g={errorThrown:!1,error:null}),q(),S){const{errorThrown:Te,error:ce}=g;if(g=null,Te)throw ce}}else q()}function we(q){x.$.useDeprecatedSynchronousErrorHandling&&g&&(g.errorThrown=!0,g.error=q)}},5225:(Un,Tt,F)=>{"use strict";function x(g,H,we,q=0,S=!1){const Te=H.schedule(function(){we(),S?g.add(this.schedule(null,q)):this.unsubscribe()},q);if(g.add(Te),!S)return Te}F.d(Tt,{N:()=>x})},3669:(Un,Tt,F)=>{"use strict";function x(g){return g}F.d(Tt,{D:()=>x})},7441:(Un,Tt,F)=>{"use strict";F.d(Tt,{X:()=>x});const x=g=>g&&"number"==typeof g.length&&"function"!=typeof g},7953:(Un,Tt,F)=>{"use strict";F.d(Tt,{T:()=>g});var x=F(8071);function g(H){return Symbol.asyncIterator&&(0,x.T)(null==H?void 0:H[Symbol.asyncIterator])}},8071:(Un,Tt,F)=>{"use strict";function x(g){return"function"==typeof g}F.d(Tt,{T:()=>x})},5055:(Un,Tt,F)=>{"use strict";F.d(Tt,{l:()=>H});var x=F(3494),g=F(8071);function H(we){return(0,g.T)(we[x.s])}},5397:(Un,Tt,F)=>{"use strict";F.d(Tt,{x:()=>H});var x=F(4761),g=F(8071);function H(we){return(0,g.T)(null==we?void 0:we[x.l])}},9858:(Un,Tt,F)=>{"use strict";F.d(Tt,{y:()=>g});var x=F(8071);function g(H){return(0,x.T)(null==H?void 0:H.then)}},5196:(Un,Tt,F)=>{"use strict";F.d(Tt,{C:()=>H,U:()=>we});var x=F(1635),g=F(8071);function H(q){return(0,x.AQ)(this,arguments,function*(){const Te=q.getReader();try{for(;;){const{value:ce,done:Ke}=yield(0,x.N3)(Te.read());if(Ke)return yield(0,x.N3)(void 0);yield yield(0,x.N3)(ce)}}finally{Te.releaseLock()}})}function we(q){return(0,g.T)(null==q?void 0:q.getReader)}},9470:(Un,Tt,F)=>{"use strict";F.d(Tt,{m:()=>g});var x=F(8071);function g(H){return H&&(0,x.T)(H.schedule)}},9974:(Un,Tt,F)=>{"use strict";F.d(Tt,{N:()=>H,S:()=>g});var x=F(8071);function g(we){return(0,x.T)(null==we?void 0:we.lift)}function H(we){return q=>{if(g(q))return q.lift(function(S){try{return we(S,this)}catch(Te){this.error(Te)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Un,Tt,F)=>{"use strict";F.d(Tt,{I:()=>we});var x=F(6354);const{isArray:g}=Array;function we(q){return(0,x.T)(S=>function H(q,S){return g(S)?q(...S):q(S)}(q,S))}},5343:(Un,Tt,F)=>{"use strict";function x(){}F.d(Tt,{l:()=>x})},1203:(Un,Tt,F)=>{"use strict";F.d(Tt,{F:()=>g,m:()=>H});var x=F(3669);function g(...we){return H(we)}function H(we){return 0===we.length?x.D:1===we.length?we[0]:function(S){return we.reduce((Te,ce)=>ce(Te),S)}}},5334:(Un,Tt,F)=>{"use strict";F.d(Tt,{m:()=>H});var x=F(1026),g=F(9270);function H(we){g.f.setTimeout(()=>{const{onUnhandledError:q}=x.$;if(!q)throw we;q(we)})}},591:(Un,Tt,F)=>{"use strict";function x(g){return new TypeError(`You provided ${null!==g&&"object"==typeof g?"an invalid object":`'${g}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Tt,{L:()=>x})},8996:(Un,Tt,F)=>{var x={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function g(H){if(!F.o(x,H))return Promise.resolve().then(()=>{var S=new Error("Cannot find module '"+H+"'");throw S.code="MODULE_NOT_FOUND",S});var we=x[H],q=we[0];return Promise.all(we.slice(1).map(F.e)).then(()=>F(q))}g.keys=()=>Object.keys(x),g.id=8996,Un.exports=g},5235:(Un,Tt,F)=>{var x={"./pwa-action-sheet.entry.js":[6301,6301],"./pwa-camera-modal-instance.entry.js":[5640,5640],"./pwa-camera-modal.entry.js":[2982,2982],"./pwa-camera.entry.js":[6086,6086],"./pwa-toast.entry.js":[3574,3574]};function g(H){if(!F.o(x,H))return Promise.resolve().then(()=>{var S=new Error("Cannot find module '"+H+"'");throw S.code="MODULE_NOT_FOUND",S});var we=x[H],q=we[0];return F.e(we[1]).then(()=>F(q))}g.keys=()=>Object.keys(x),g.id=5235,Un.exports=g},4140:Un=>{function Tt(F){return Promise.resolve().then(()=>{var x=new Error("Cannot find module '"+F+"'");throw x.code="MODULE_NOT_FOUND",x})}Tt.keys=()=>[],Tt.resolve=Tt,Tt.id=4140,Un.exports=Tt},8082:()=>{},7318:()=>{},745:()=>{},177:(Un,Tt,F)=>{"use strict";F.d(Tt,{AJ:()=>$t,EO:()=>Uo,Jj:()=>Mi,MD:()=>Mt,N0:()=>Go,P9:()=>ht,QT:()=>H,Sm:()=>ct,Sq:()=>Ft,T3:()=>xr,UE:()=>Dn,VF:()=>q,Vy:()=>Bn,Xr:()=>mr,YU:()=>Ir,ZD:()=>we,_b:()=>tt,aZ:()=>ve,bT:()=>De,fw:()=>Fe,hb:()=>Be,hj:()=>Ke,qQ:()=>Te,vh:()=>Po});var x=F(4438);let g=null;function H(){return g}function we(P){var te;null!==(te=g)&&void 0!==te||(g=P)}class q{}const Te=new x.nKC("");let ce=(()=>{var P;class te{historyGo(Y){throw new Error("")}}return(P=te).\u0275fac=function(Y){return new(Y||P)},P.\u0275prov=x.jDH({token:P,factory:()=>(0,x.WQX)(_t),providedIn:"platform"}),te})();const Ke=new x.nKC("");let _t=(()=>{var P;class te extends ce{constructor(){super(),this._doc=(0,x.WQX)(Te),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(Y){const ke=H().getGlobalEventTarget(this._doc,"window");return ke.addEventListener("popstate",Y,!1),()=>ke.removeEventListener("popstate",Y)}onHashChange(Y){const ke=H().getGlobalEventTarget(this._doc,"window");return ke.addEventListener("hashchange",Y,!1),()=>ke.removeEventListener("hashchange",Y)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Y){this._location.pathname=Y}pushState(Y,ke,dt){this._history.pushState(Y,ke,dt)}replaceState(Y,ke,dt){this._history.replaceState(Y,ke,dt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Y=0){this._history.go(Y)}getState(){return this._history.state}}return(P=te).\u0275fac=function(Y){return new(Y||P)},P.\u0275prov=x.jDH({token:P,factory:()=>new P,providedIn:"platform"}),te})();function $e(P,te){if(0==P.length)return te;if(0==te.length)return P;let Je=0;return P.endsWith("/")&&Je++,te.startsWith("/")&&Je++,2==Je?P+te.substring(1):1==Je?P+te:P+"/"+te}function Me(P){const te=P.match(/#|\?|$/),Je=te&&te.index||P.length;return P.slice(0,Je-("/"===P[Je-1]?1:0))+P.slice(Je)}function Qe(P){return P&&"?"!==P[0]?"?"+P:P}let Be=(()=>{var P;class te{historyGo(Y){throw new Error("")}}return(P=te).\u0275fac=function(Y){return new(Y||P)},P.\u0275prov=x.jDH({token:P,factory:()=>(0,x.WQX)(ct),providedIn:"root"}),te})();const lt=new x.nKC("");let ct=(()=>{var P;class te extends Be{constructor(Y,ke){var dt,bn,Yn;super(),this._platformLocation=Y,this._removeListenerFns=[],this._baseHref=null!==(dt=null!==(bn=null!=ke?ke:this._platformLocation.getBaseHrefFromDOM())&&void 0!==bn?bn:null===(Yn=(0,x.WQX)(Te).location)||void 0===Yn?void 0:Yn.origin)&&void 0!==dt?dt:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Y){this._removeListenerFns.push(this._platformLocation.onPopState(Y),this._platformLocation.onHashChange(Y))}getBaseHref(){return this._baseHref}prepareExternalUrl(Y){return $e(this._baseHref,Y)}path(Y=!1){const ke=this._platformLocation.pathname+Qe(this._platformLocation.search),dt=this._platformLocation.hash;return dt&&Y?`${ke}${dt}`:ke}pushState(Y,ke,dt,bn){const Yn=this.prepareExternalUrl(dt+Qe(bn));this._platformLocation.pushState(Y,ke,Yn)}replaceState(Y,ke,dt,bn){const Yn=this.prepareExternalUrl(dt+Qe(bn));this._platformLocation.replaceState(Y,ke,Yn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Y=0){var ke,dt;null===(ke=(dt=this._platformLocation).historyGo)||void 0===ke||ke.call(dt,Y)}}return(P=te).\u0275fac=function(Y){return new(Y||P)(x.KVO(ce),x.KVO(lt,8))},P.\u0275prov=x.jDH({token:P,factory:P.\u0275fac,providedIn:"root"}),te})(),Fe=(()=>{var P;class te extends Be{constructor(Y,ke){super(),this._platformLocation=Y,this._baseHref="",this._removeListenerFns=[],null!=ke&&(this._baseHref=ke)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Y){this._removeListenerFns.push(this._platformLocation.onPopState(Y),this._platformLocation.onHashChange(Y))}getBaseHref(){return this._baseHref}path(Y=!1){var ke;const dt=null!==(ke=this._platformLocation.hash)&&void 0!==ke?ke:"#";return dt.length>0?dt.substring(1):dt}prepareExternalUrl(Y){const ke=$e(this._baseHref,Y);return ke.length>0?"#"+ke:ke}pushState(Y,ke,dt,bn){let Yn=this.prepareExternalUrl(dt+Qe(bn));0==Yn.length&&(Yn=this._platformLocation.pathname),this._platformLocation.pushState(Y,ke,Yn)}replaceState(Y,ke,dt,bn){let Yn=this.prepareExternalUrl(dt+Qe(bn));0==Yn.length&&(Yn=this._platformLocation.pathname),this._platformLocation.replaceState(Y,ke,Yn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Y=0){var ke,dt;null===(ke=(dt=this._platformLocation).historyGo)||void 0===ke||ke.call(dt,Y)}}return(P=te).\u0275fac=function(Y){return new(Y||P)(x.KVO(ce),x.KVO(lt,8))},P.\u0275prov=x.jDH({token:P,factory:P.\u0275fac}),te})(),ve=(()=>{var P;class te{constructor(Y){this._subject=new x.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Y;const ke=this._locationStrategy.getBaseHref();this._basePath=function Ee(P){if(new RegExp("^(https?:)?//").test(P)){const[,Je]=P.split(/\/\/[^\/]+/);return Je}return P}(Me(rt(ke))),this._locationStrategy.onPopState(dt=>{this._subject.emit({url:this.path(!0),pop:!0,state:dt.state,type:dt.type})})}ngOnDestroy(){var Y;null===(Y=this._urlChangeSubscription)||void 0===Y||Y.unsubscribe(),this._urlChangeListeners=[]}path(Y=!1){return this.normalize(this._locationStrategy.path(Y))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Y,ke=""){return this.path()==this.normalize(Y+Qe(ke))}normalize(Y){return te.stripTrailingSlash(function ft(P,te){if(!P||!te.startsWith(P))return te;const Je=te.substring(P.length);return""===Je||["/",";","?","#"].includes(Je[0])?Je:te}(this._basePath,rt(Y)))}prepareExternalUrl(Y){return Y&&"/"!==Y[0]&&(Y="/"+Y),this._locationStrategy.prepareExternalUrl(Y)}go(Y,ke="",dt=null){this._locationStrategy.pushState(dt,"",Y,ke),this._notifyUrlChangeListeners(this.prepareExternalUrl(Y+Qe(ke)),dt)}replaceState(Y,ke="",dt=null){this._locationStrategy.replaceState(dt,"",Y,ke),this._notifyUrlChangeListeners(this.prepareExternalUrl(Y+Qe(ke)),dt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Y=0){var ke,dt;null===(ke=(dt=this._locationStrategy).historyGo)||void 0===ke||ke.call(dt,Y)}onUrlChange(Y){var ke;return this._urlChangeListeners.push(Y),null!==(ke=this._urlChangeSubscription)&&void 0!==ke||(this._urlChangeSubscription=this.subscribe(dt=>{this._notifyUrlChangeListeners(dt.url,dt.state)})),()=>{const dt=this._urlChangeListeners.indexOf(Y);var bn;this._urlChangeListeners.splice(dt,1),0===this._urlChangeListeners.length&&(null===(bn=this._urlChangeSubscription)||void 0===bn||bn.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Y="",ke){this._urlChangeListeners.forEach(dt=>dt(Y,ke))}subscribe(Y,ke,dt){return this._subject.subscribe({next:Y,error:ke,complete:dt})}}return(P=te).normalizeQueryParams=Qe,P.joinWithSlash=$e,P.stripTrailingSlash=Me,P.\u0275fac=function(Y){return new(Y||P)(x.KVO(Be))},P.\u0275prov=x.jDH({token:P,factory:()=>function wt(){return new ve((0,x.KVO)(Be))}(),providedIn:"root"}),te})();function rt(P){return P.replace(/\/index.html$/,"")}var At=function(P){return P[P.Format=0]="Format",P[P.Standalone=1]="Standalone",P}(At||{}),Ze=function(P){return P[P.Narrow=0]="Narrow",P[P.Abbreviated=1]="Abbreviated",P[P.Wide=2]="Wide",P[P.Short=3]="Short",P}(Ze||{}),He=function(P){return P[P.Short=0]="Short",P[P.Medium=1]="Medium",P[P.Long=2]="Long",P[P.Full=3]="Full",P}(He||{});const jt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function fe(P,te){return vr((0,x.H5H)(P)[x.KH2.DateFormat],te)}function Re(P,te){return vr((0,x.H5H)(P)[x.KH2.TimeFormat],te)}function St(P,te){return vr((0,x.H5H)(P)[x.KH2.DateTimeFormat],te)}function Ot(P,te){const Je=(0,x.H5H)(P),Y=Je[x.KH2.NumberSymbols][te];if(typeof Y>"u"){if(te===jt.CurrencyDecimal)return Je[x.KH2.NumberSymbols][jt.Decimal];if(te===jt.CurrencyGroup)return Je[x.KH2.NumberSymbols][jt.Group]}return Y}function _r(P){if(!P[x.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${P[x.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function vr(P,te){for(let Je=te;Je>-1;Je--)if(typeof P[Je]<"u")return P[Je];throw new Error("Locale data API: locale data undefined")}function pr(P){const[te,Je]=P.split(":");return{hours:+te,minutes:+Je}}const sn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,qt={},Fr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var kr=function(P){return P[P.Short=0]="Short",P[P.ShortGMT=1]="ShortGMT",P[P.Long=2]="Long",P[P.Extended=3]="Extended",P}(kr||{}),lr=function(P){return P[P.FullYear=0]="FullYear",P[P.Month=1]="Month",P[P.Date=2]="Date",P[P.Hours=3]="Hours",P[P.Minutes=4]="Minutes",P[P.Seconds=5]="Seconds",P[P.FractionalSeconds=6]="FractionalSeconds",P[P.Day=7]="Day",P}(lr||{}),fr=function(P){return P[P.DayPeriods=0]="DayPeriods",P[P.Days=1]="Days",P[P.Months=2]="Months",P[P.Eras=3]="Eras",P}(fr||{});function uo(P,te,Je,Y){let ke=function Nn(P){if(ut(P))return P;if("number"==typeof P&&!isNaN(P))return new Date(P);if("string"==typeof P){if(P=P.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(P)){const[ke,dt=1,bn=1]=P.split("-").map(Yn=>+Yn);return fo(ke,dt-1,bn)}const Je=parseFloat(P);if(!isNaN(P-Je))return new Date(Je);let Y;if(Y=P.match(sn))return function Se(P){const te=new Date(0);let Je=0,Y=0;const ke=P[8]?te.setUTCFullYear:te.setFullYear,dt=P[8]?te.setUTCHours:te.setHours;P[9]&&(Je=Number(P[9]+P[10]),Y=Number(P[9]+P[11])),ke.call(te,Number(P[1]),Number(P[2])-1,Number(P[3]));const bn=Number(P[4]||0)-Je,Yn=Number(P[5]||0)-Y,Gr=Number(P[6]||0),Zo=Math.floor(1e3*parseFloat("0."+(P[7]||0)));return dt.call(te,bn,Yn,Gr,Zo),te}(Y)}const te=new Date(P);if(!ut(te))throw new Error(`Unable to convert "${P}" into a date`);return te}(P);te=Lr(Je,te)||te;let Yn,bn=[];for(;te;){if(Yn=Fr.exec(te),!Yn){bn.push(te);break}{bn=bn.concat(Yn.slice(1));const Xo=bn.pop();if(!Xo)break;te=Xo}}let Gr=ke.getTimezoneOffset();Y&&(Gr=Et(Y,Gr),ke=function _n(P,te,Je){const Y=Je?-1:1,ke=P.getTimezoneOffset();return function Pt(P,te){return(P=new Date(P.getTime())).setMinutes(P.getMinutes()+te),P}(P,Y*(Et(te,ke)-ke))}(ke,Y,!0));let Zo="";return bn.forEach(Xo=>{const $o=function cn(P){if(Nt[P])return Nt[P];let te;switch(P){case"G":case"GG":case"GGG":te=Cr(fr.Eras,Ze.Abbreviated);break;case"GGGG":te=Cr(fr.Eras,Ze.Wide);break;case"GGGGG":te=Cr(fr.Eras,Ze.Narrow);break;case"y":te=qr(lr.FullYear,1,0,!1,!0);break;case"yy":te=qr(lr.FullYear,2,0,!0,!0);break;case"yyy":te=qr(lr.FullYear,3,0,!1,!0);break;case"yyyy":te=qr(lr.FullYear,4,0,!1,!0);break;case"Y":te=Zt(1);break;case"YY":te=Zt(2,!0);break;case"YYY":te=Zt(3);break;case"YYYY":te=Zt(4);break;case"M":case"L":te=qr(lr.Month,1,1);break;case"MM":case"LL":te=qr(lr.Month,2,1);break;case"MMM":te=Cr(fr.Months,Ze.Abbreviated);break;case"MMMM":te=Cr(fr.Months,Ze.Wide);break;case"MMMMM":te=Cr(fr.Months,Ze.Narrow);break;case"LLL":te=Cr(fr.Months,Ze.Abbreviated,At.Standalone);break;case"LLLL":te=Cr(fr.Months,Ze.Wide,At.Standalone);break;case"LLLLL":te=Cr(fr.Months,Ze.Narrow,At.Standalone);break;case"w":te=so(1);break;case"ww":te=so(2);break;case"W":te=so(1,!0);break;case"d":te=qr(lr.Date,1);break;case"dd":te=qr(lr.Date,2);break;case"c":case"cc":te=qr(lr.Day,1);break;case"ccc":te=Cr(fr.Days,Ze.Abbreviated,At.Standalone);break;case"cccc":te=Cr(fr.Days,Ze.Wide,At.Standalone);break;case"ccccc":te=Cr(fr.Days,Ze.Narrow,At.Standalone);break;case"cccccc":te=Cr(fr.Days,Ze.Short,At.Standalone);break;case"E":case"EE":case"EEE":te=Cr(fr.Days,Ze.Abbreviated);break;case"EEEE":te=Cr(fr.Days,Ze.Wide);break;case"EEEEE":te=Cr(fr.Days,Ze.Narrow);break;case"EEEEEE":te=Cr(fr.Days,Ze.Short);break;case"a":case"aa":case"aaa":te=Cr(fr.DayPeriods,Ze.Abbreviated);break;case"aaaa":te=Cr(fr.DayPeriods,Ze.Wide);break;case"aaaaa":te=Cr(fr.DayPeriods,Ze.Narrow);break;case"b":case"bb":case"bbb":te=Cr(fr.DayPeriods,Ze.Abbreviated,At.Standalone,!0);break;case"bbbb":te=Cr(fr.DayPeriods,Ze.Wide,At.Standalone,!0);break;case"bbbbb":te=Cr(fr.DayPeriods,Ze.Narrow,At.Standalone,!0);break;case"B":case"BB":case"BBB":te=Cr(fr.DayPeriods,Ze.Abbreviated,At.Format,!0);break;case"BBBB":te=Cr(fr.DayPeriods,Ze.Wide,At.Format,!0);break;case"BBBBB":te=Cr(fr.DayPeriods,Ze.Narrow,At.Format,!0);break;case"h":te=qr(lr.Hours,1,-12);break;case"hh":te=qr(lr.Hours,2,-12);break;case"H":te=qr(lr.Hours,1);break;case"HH":te=qr(lr.Hours,2);break;case"m":te=qr(lr.Minutes,1);break;case"mm":te=qr(lr.Minutes,2);break;case"s":te=qr(lr.Seconds,1);break;case"ss":te=qr(lr.Seconds,2);break;case"S":te=qr(lr.FractionalSeconds,1);break;case"SS":te=qr(lr.FractionalSeconds,2);break;case"SSS":te=qr(lr.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":te=Rr(kr.Short);break;case"ZZZZZ":te=Rr(kr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":te=Rr(kr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":te=Rr(kr.Long);break;default:return null}return Nt[P]=te,te}(Xo);Zo+=$o?$o(ke,Je,Gr):"''"===Xo?"'":Xo.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Zo}function fo(P,te,Je){const Y=new Date(0);return Y.setFullYear(P,te,Je),Y.setHours(0,0,0),Y}function Lr(P,te){var Je;const Y=function Gn(P){return(0,x.H5H)(P)[x.KH2.LocaleId]}(P);if(null!==(Je=qt[Y])&&void 0!==Je||(qt[Y]={}),qt[Y][te])return qt[Y][te];let ke="";switch(te){case"shortDate":ke=fe(P,He.Short);break;case"mediumDate":ke=fe(P,He.Medium);break;case"longDate":ke=fe(P,He.Long);break;case"fullDate":ke=fe(P,He.Full);break;case"shortTime":ke=Re(P,He.Short);break;case"mediumTime":ke=Re(P,He.Medium);break;case"longTime":ke=Re(P,He.Long);break;case"fullTime":ke=Re(P,He.Full);break;case"short":const dt=Lr(P,"shortTime"),bn=Lr(P,"shortDate");ke=ho(St(P,He.Short),[dt,bn]);break;case"medium":const Yn=Lr(P,"mediumTime"),Gr=Lr(P,"mediumDate");ke=ho(St(P,He.Medium),[Yn,Gr]);break;case"long":const Zo=Lr(P,"longTime"),Xo=Lr(P,"longDate");ke=ho(St(P,He.Long),[Zo,Xo]);break;case"full":const $o=Lr(P,"fullTime"),ti=Lr(P,"fullDate");ke=ho(St(P,He.Full),[$o,ti])}return ke&&(qt[Y][te]=ke),ke}function ho(P,te){return te&&(P=P.replace(/\{([^}]+)}/g,function(Je,Y){return null!=te&&Y in te?te[Y]:Je})),P}function Vr(P,te,Je="-",Y,ke){let dt="";(P<0||ke&&P<=0)&&(ke?P=1-P:(P=-P,dt=Je));let bn=String(P);for(;bn.length<te;)bn="0"+bn;return Y&&(bn=bn.slice(bn.length-te)),dt+bn}function qr(P,te,Je=0,Y=!1,ke=!1){return function(dt,bn){let Yn=function Yr(P,te){switch(P){case lr.FullYear:return te.getFullYear();case lr.Month:return te.getMonth();case lr.Date:return te.getDate();case lr.Hours:return te.getHours();case lr.Minutes:return te.getMinutes();case lr.Seconds:return te.getSeconds();case lr.FractionalSeconds:return te.getMilliseconds();case lr.Day:return te.getDay();default:throw new Error(`Unknown DateType value "${P}".`)}}(P,dt);if((Je>0||Yn>-Je)&&(Yn+=Je),P===lr.Hours)0===Yn&&-12===Je&&(Yn=12);else if(P===lr.FractionalSeconds)return function Ur(P,te){return Vr(P,3).substring(0,te)}(Yn,te);const Gr=Ot(bn,jt.MinusSign);return Vr(Yn,te,Gr,Y,ke)}}function Cr(P,te,Je=At.Format,Y=!1){return function(ke,dt){return function ko(P,te,Je,Y,ke,dt){switch(Je){case fr.Months:return function sr(P,te,Je){const Y=(0,x.H5H)(P),dt=vr([Y[x.KH2.MonthsFormat],Y[x.KH2.MonthsStandalone]],te);return vr(dt,Je)}(te,ke,Y)[P.getMonth()];case fr.Days:return function Xn(P,te,Je){const Y=(0,x.H5H)(P),dt=vr([Y[x.KH2.DaysFormat],Y[x.KH2.DaysStandalone]],te);return vr(dt,Je)}(te,ke,Y)[P.getDay()];case fr.DayPeriods:const bn=P.getHours(),Yn=P.getMinutes();if(dt){const Zo=function Xr(P){const te=(0,x.H5H)(P);return _r(te),(te[x.KH2.ExtraData][2]||[]).map(Y=>"string"==typeof Y?pr(Y):[pr(Y[0]),pr(Y[1])])}(te),Xo=function dr(P,te,Je){const Y=(0,x.H5H)(P);_r(Y);const dt=vr([Y[x.KH2.ExtraData][0],Y[x.KH2.ExtraData][1]],te)||[];return vr(dt,Je)||[]}(te,ke,Y),$o=Zo.findIndex(ti=>{if(Array.isArray(ti)){const[ni,_i]=ti,Qi=bn>=ni.hours&&Yn>=ni.minutes,Oo=bn<_i.hours||bn===_i.hours&&Yn<_i.minutes;if(ni.hours<_i.hours){if(Qi&&Oo)return!0}else if(Qi||Oo)return!0}else if(ti.hours===bn&&ti.minutes===Yn)return!0;return!1});if(-1!==$o)return Xo[$o]}return function on(P,te,Je){const Y=(0,x.H5H)(P),dt=vr([Y[x.KH2.DayPeriodsFormat],Y[x.KH2.DayPeriodsStandalone]],te);return vr(dt,Je)}(te,ke,Y)[bn<12?0:1];case fr.Eras:return function pt(P,te){return vr((0,x.H5H)(P)[x.KH2.Eras],te)}(te,Y)[P.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Je}`)}}(ke,dt,P,te,Je,Y)}}function Rr(P){return function(te,Je,Y){const ke=-1*Y,dt=Ot(Je,jt.MinusSign),bn=ke>0?Math.floor(ke/60):Math.ceil(ke/60);switch(P){case kr.Short:return(ke>=0?"+":"")+Vr(bn,2,dt)+Vr(Math.abs(ke%60),2,dt);case kr.ShortGMT:return"GMT"+(ke>=0?"+":"")+Vr(bn,1,dt);case kr.Long:return"GMT"+(ke>=0?"+":"")+Vr(bn,2,dt)+":"+Vr(Math.abs(ke%60),2,dt);case kr.Extended:return 0===Y?"Z":(ke>=0?"+":"")+Vr(bn,2,dt)+":"+Vr(Math.abs(ke%60),2,dt);default:throw new Error(`Unknown zone width "${P}"`)}}}const Zr=0,tn=4;function Or(P){const te=P.getDay(),Je=0===te?-3:tn-te;return fo(P.getFullYear(),P.getMonth(),P.getDate()+Je)}function so(P,te=!1){return function(Je,Y){let ke;if(te){const dt=new Date(Je.getFullYear(),Je.getMonth(),1).getDay()-1,bn=Je.getDate();ke=1+Math.floor((bn+dt)/7)}else{const dt=Or(Je),bn=function ar(P){const te=fo(P,Zr,1).getDay();return fo(P,0,1+(te<=tn?tn:tn+7)-te)}(dt.getFullYear()),Yn=dt.getTime()-bn.getTime();ke=1+Math.round(Yn/6048e5)}return Vr(ke,P,Ot(Y,jt.MinusSign))}}function Zt(P,te=!1){return function(Je,Y){return Vr(Or(Je).getFullYear(),P,Ot(Y,jt.MinusSign),te)}}const Nt={};function Et(P,te){P=P.replace(/:/g,"");const Je=Date.parse("Jan 01, 1970 00:00:00 "+P)/6e4;return isNaN(Je)?te:Je}function ut(P){return P instanceof Date&&!isNaN(P.valueOf())}function Uo(P,te,Je){return(0,x.XSP)(P,te,Je)}function tt(P,te){te=encodeURIComponent(te);for(const Je of P.split(";")){const Y=Je.indexOf("="),[ke,dt]=-1==Y?[Je,""]:[Je.slice(0,Y),Je.slice(Y+1)];if(ke.trim()===te)return decodeURIComponent(dt)}return null}const dn=/\s+/,Hn=[];let Ir=(()=>{var P;class te{constructor(Y,ke){this._ngEl=Y,this._renderer=ke,this.initialClasses=Hn,this.stateMap=new Map}set klass(Y){this.initialClasses=null!=Y?Y.trim().split(dn):Hn}set ngClass(Y){this.rawClass="string"==typeof Y?Y.trim().split(dn):Y}ngDoCheck(){for(const ke of this.initialClasses)this._updateState(ke,!0);const Y=this.rawClass;if(Array.isArray(Y)||Y instanceof Set)for(const ke of Y)this._updateState(ke,!0);else if(null!=Y)for(const ke of Object.keys(Y))this._updateState(ke,!!Y[ke]);this._applyStateDiff()}_updateState(Y,ke){const dt=this.stateMap.get(Y);void 0!==dt?(dt.enabled!==ke&&(dt.changed=!0,dt.enabled=ke),dt.touched=!0):this.stateMap.set(Y,{enabled:ke,changed:!0,touched:!0})}_applyStateDiff(){for(const Y of this.stateMap){const ke=Y[0],dt=Y[1];dt.changed?(this._toggleClass(ke,dt.enabled),dt.changed=!1):dt.touched||(dt.enabled&&this._toggleClass(ke,!1),this.stateMap.delete(ke)),dt.touched=!1}}_toggleClass(Y,ke){(Y=Y.trim()).length>0&&Y.split(dn).forEach(dt=>{ke?this._renderer.addClass(this._ngEl.nativeElement,dt):this._renderer.removeClass(this._ngEl.nativeElement,dt)})}}return(P=te).\u0275fac=function(Y){return new(Y||P)(x.rXU(x.aKT),x.rXU(x.sFG))},P.\u0275dir=x.FsC({type:P,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0}),te})();class ot{constructor(te,Je,Y,ke){this.$implicit=te,this.ngForOf=Je,this.index=Y,this.count=ke}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ft=(()=>{var P;class te{set ngForOf(Y){this._ngForOf=Y,this._ngForOfDirty=!0}set ngForTrackBy(Y){this._trackByFn=Y}get ngForTrackBy(){return this._trackByFn}constructor(Y,ke,dt){this._viewContainer=Y,this._template=ke,this._differs=dt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Y){Y&&(this._template=Y)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Y=this._ngForOf;!this._differ&&Y&&(this._differ=this._differs.find(Y).create(this.ngForTrackBy))}if(this._differ){const Y=this._differ.diff(this._ngForOf);Y&&this._applyChanges(Y)}}_applyChanges(Y){const ke=this._viewContainer;Y.forEachOperation((dt,bn,Yn)=>{if(null==dt.previousIndex)ke.createEmbeddedView(this._template,new ot(dt.item,this._ngForOf,-1,-1),null===Yn?void 0:Yn);else if(null==Yn)ke.remove(null===bn?void 0:bn);else if(null!==bn){const Gr=ke.get(bn);ke.move(Gr,Yn),le(Gr,dt)}});for(let dt=0,bn=ke.length;dt<bn;dt++){const Gr=ke.get(dt).context;Gr.index=dt,Gr.count=bn,Gr.ngForOf=this._ngForOf}Y.forEachIdentityChange(dt=>{le(ke.get(dt.currentIndex),dt)})}static ngTemplateContextGuard(Y,ke){return!0}}return(P=te).\u0275fac=function(Y){return new(Y||P)(x.rXU(x.c1b),x.rXU(x.C4Q),x.rXU(x._q3))},P.\u0275dir=x.FsC({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),te})();function le(P,te){P.context.$implicit=te.item}let De=(()=>{var P;class te{constructor(Y,ke){this._viewContainer=Y,this._context=new qe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ke}set ngIf(Y){this._context.$implicit=this._context.ngIf=Y,this._updateView()}set ngIfThen(Y){st("ngIfThen",Y),this._thenTemplateRef=Y,this._thenViewRef=null,this._updateView()}set ngIfElse(Y){st("ngIfElse",Y),this._elseTemplateRef=Y,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Y,ke){return!0}}return(P=te).\u0275fac=function(Y){return new(Y||P)(x.rXU(x.c1b),x.rXU(x.C4Q))},P.\u0275dir=x.FsC({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),te})();class qe{constructor(){this.$implicit=null,this.ngIf=null}}function st(P,te){if(te&&!te.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,x.Tbb)(te)}'.`)}let xr=(()=>{var P;class te{constructor(Y){this._viewContainerRef=Y,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Y){if(this._shouldRecreateView(Y)){var ke;const dt=this._viewContainerRef;if(this._viewRef&&dt.remove(dt.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const bn=this._createContextForwardProxy();this._viewRef=dt.createEmbeddedView(this.ngTemplateOutlet,bn,{injector:null!==(ke=this.ngTemplateOutletInjector)&&void 0!==ke?ke:void 0})}}_shouldRecreateView(Y){return!!Y.ngTemplateOutlet||!!Y.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Y,ke,dt)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ke,dt),get:(Y,ke,dt)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ke,dt)}})}}return(P=te).\u0275fac=function(Y){return new(Y||P)(x.rXU(x.c1b))},P.\u0275dir=x.FsC({type:P,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[x.OA$]}),te})();function Tr(P,te){return new x.wOt(2100,!1)}class go{createSubscription(te,Je){return(0,x.O8t)(()=>te.subscribe({next:Je,error:Y=>{throw Y}}))}dispose(te){(0,x.O8t)(()=>te.unsubscribe())}}class br{createSubscription(te,Je){return te.then(Je,Y=>{throw Y})}dispose(te){}}const Wr=new br,Ki=new go;let Mi=(()=>{var P;class te{constructor(Y){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Y}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Y){if(!this._obj){if(Y)try{this.markForCheckOnValueUpdate=!1,this._subscribe(Y)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return Y!==this._obj?(this._dispose(),this.transform(Y)):this._latestValue}_subscribe(Y){this._obj=Y,this._strategy=this._selectStrategy(Y),this._subscription=this._strategy.createSubscription(Y,ke=>this._updateLatestValue(Y,ke))}_selectStrategy(Y){if((0,x.jNT)(Y))return Wr;if((0,x.zjR)(Y))return Ki;throw Tr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Y,ke){var dt;Y===this._obj&&(this._latestValue=ke,this.markForCheckOnValueUpdate)&&(null===(dt=this._ref)||void 0===dt||dt.markForCheck())}}return(P=te).\u0275fac=function(Y){return new(Y||P)(x.rXU(x.gRc,16))},P.\u0275pipe=x.EJ8({name:"async",type:P,pure:!1,standalone:!0}),te})();const Yi=new x.nKC(""),Ri=new x.nKC("");let Po=(()=>{var P;class te{constructor(Y,ke,dt){this.locale=Y,this.defaultTimezone=ke,this.defaultOptions=dt}transform(Y,ke,dt,bn){if(null==Y||""===Y||Y!=Y)return null;try{var Yn,Gr,Zo,Xo,$o;const ti=null!==(Yn=null!=ke?ke:null===(Gr=this.defaultOptions)||void 0===Gr?void 0:Gr.dateFormat)&&void 0!==Yn?Yn:"mediumDate",ni=null!==(Zo=null!==(Xo=null!=dt?dt:null===($o=this.defaultOptions)||void 0===$o?void 0:$o.timezone)&&void 0!==Xo?Xo:this.defaultTimezone)&&void 0!==Zo?Zo:void 0;return uo(Y,ti,bn||this.locale,ni)}catch(ti){throw Tr()}}}return(P=te).\u0275fac=function(Y){return new(Y||P)(x.rXU(x.xe9,16),x.rXU(Yi,24),x.rXU(Ri,24))},P.\u0275pipe=x.EJ8({name:"date",type:P,pure:!0,standalone:!0}),te})(),ht=(()=>{var P;class te{transform(Y,ke,dt){if(null==Y)return null;if(!this.supports(Y))throw Tr();return Y.slice(ke,dt)}supports(Y){return"string"==typeof Y||Array.isArray(Y)}}return(P=te).\u0275fac=function(Y){return new(Y||P)},P.\u0275pipe=x.EJ8({name:"slice",type:P,pure:!1,standalone:!0}),te})(),Mt=(()=>{var P;class te{}return(P=te).\u0275fac=function(Y){return new(Y||P)},P.\u0275mod=x.$C({type:P}),P.\u0275inj=x.G2t({}),te})();const $t="browser",Wt="server";function Dn(P){return P===$t}function Bn(P){return P===Wt}let mr=(()=>{var P;class te{}return(P=te).\u0275prov=(0,x.jDH)({token:P,providedIn:"root",factory:()=>Dn((0,x.WQX)(x.Agw))?new Pr((0,x.WQX)(Te),window):new Fo}),te})();class Pr{constructor(te,Je){this.document=te,this.window=Je,this.offset=()=>[0,0]}setOffset(te){this.offset=Array.isArray(te)?()=>te:te}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(te){this.window.scrollTo(te[0],te[1])}scrollToAnchor(te){const Je=function Br(P,te){const Je=P.getElementById(te)||P.getElementsByName(te)[0];if(Je)return Je;if("function"==typeof P.createTreeWalker&&P.body&&"function"==typeof P.body.attachShadow){const Y=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let ke=Y.currentNode;for(;ke;){const dt=ke.shadowRoot;if(dt){const bn=dt.getElementById(te)||dt.querySelector(`[name="${te}"]`);if(bn)return bn}ke=Y.nextNode()}}return null}(this.document,te);Je&&(this.scrollToElement(Je),Je.focus())}setHistoryScrollRestoration(te){this.window.history.scrollRestoration=te}scrollToElement(te){const Je=te.getBoundingClientRect(),Y=Je.left+this.window.pageXOffset,ke=Je.top+this.window.pageYOffset,dt=this.offset();this.window.scrollTo(Y-dt[0],ke-dt[1])}}class Fo{setOffset(te){}getScrollPosition(){return[0,0]}scrollToPosition(te){}scrollToAnchor(te){}setHistoryScrollRestoration(te){}}class Go{}},1626:(Un,Tt,F)=>{"use strict";F.d(Tt,{$R:()=>_n,Nl:()=>Ee,Qq:()=>St,b$:()=>Nn});var x=F(467),g=F(4438),H=F(7673),we=F(1985),q=F(6648),S=F(274),Te=F(5964),ce=F(6354),Ke=F(980),_t=F(5558),$e=F(177);class Me{}class Qe{}class Be{constructor(ot){this.normalizedNames=new Map,this.lazyUpdate=null,ot?"string"==typeof ot?this.lazyInit=()=>{this.headers=new Map,ot.split("\n").forEach(Ft=>{const le=Ft.indexOf(":");if(le>0){const Ue=Ft.slice(0,le),De=Ue.toLowerCase(),qe=Ft.slice(le+1).trim();this.maybeSetNormalizedName(Ue,De),this.headers.has(De)?this.headers.get(De).push(qe):this.headers.set(De,[qe])}})}:typeof Headers<"u"&&ot instanceof Headers?(this.headers=new Map,ot.forEach((Ft,le)=>{this.setHeaderEntries(le,Ft)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(ot).forEach(([Ft,le])=>{this.setHeaderEntries(Ft,le)})}:this.headers=new Map}has(ot){return this.init(),this.headers.has(ot.toLowerCase())}get(ot){this.init();const Ft=this.headers.get(ot.toLowerCase());return Ft&&Ft.length>0?Ft[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ot){return this.init(),this.headers.get(ot.toLowerCase())||null}append(ot,Ft){return this.clone({name:ot,value:Ft,op:"a"})}set(ot,Ft){return this.clone({name:ot,value:Ft,op:"s"})}delete(ot,Ft){return this.clone({name:ot,value:Ft,op:"d"})}maybeSetNormalizedName(ot,Ft){this.normalizedNames.has(Ft)||this.normalizedNames.set(Ft,ot)}init(){this.lazyInit&&(this.lazyInit instanceof Be?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ot=>this.applyUpdate(ot)),this.lazyUpdate=null))}copyFrom(ot){ot.init(),Array.from(ot.headers.keys()).forEach(Ft=>{this.headers.set(Ft,ot.headers.get(Ft)),this.normalizedNames.set(Ft,ot.normalizedNames.get(Ft))})}clone(ot){const Ft=new Be;return Ft.lazyInit=this.lazyInit&&this.lazyInit instanceof Be?this.lazyInit:this,Ft.lazyUpdate=(this.lazyUpdate||[]).concat([ot]),Ft}applyUpdate(ot){const Ft=ot.name.toLowerCase();switch(ot.op){case"a":case"s":let le=ot.value;if("string"==typeof le&&(le=[le]),0===le.length)return;this.maybeSetNormalizedName(ot.name,Ft);const Ue=("a"===ot.op?this.headers.get(Ft):void 0)||[];Ue.push(...le),this.headers.set(Ft,Ue);break;case"d":const De=ot.value;if(De){let qe=this.headers.get(Ft);if(!qe)return;qe=qe.filter(st=>-1===De.indexOf(st)),0===qe.length?(this.headers.delete(Ft),this.normalizedNames.delete(Ft)):this.headers.set(Ft,qe)}else this.headers.delete(Ft),this.normalizedNames.delete(Ft)}}setHeaderEntries(ot,Ft){const le=(Array.isArray(Ft)?Ft:[Ft]).map(De=>De.toString()),Ue=ot.toLowerCase();this.headers.set(Ue,le),this.maybeSetNormalizedName(ot,Ue)}forEach(ot){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ft=>ot(this.normalizedNames.get(Ft),this.headers.get(Ft)))}}class ct{encodeKey(ot){return ft(ot)}encodeValue(ot){return ft(ot)}decodeKey(ot){return decodeURIComponent(ot)}decodeValue(ot){return decodeURIComponent(ot)}}const ve=/%(\d[a-f0-9])/gi,wt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ft(Oe){return encodeURIComponent(Oe).replace(ve,(ot,Ft)=>{var le;return null!==(le=wt[Ft])&&void 0!==le?le:ot})}function rt(Oe){return`${Oe}`}class Ee{constructor(ot={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ot.encoder||new ct,ot.fromString){if(ot.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Fe(Oe,ot){const Ft=new Map;return Oe.length>0&&Oe.replace(/^\?/,"").split("&").forEach(Ue=>{const De=Ue.indexOf("="),[qe,st]=-1==De?[ot.decodeKey(Ue),""]:[ot.decodeKey(Ue.slice(0,De)),ot.decodeValue(Ue.slice(De+1))],Ct=Ft.get(qe)||[];Ct.push(st),Ft.set(qe,Ct)}),Ft}(ot.fromString,this.encoder)}else ot.fromObject?(this.map=new Map,Object.keys(ot.fromObject).forEach(Ft=>{const le=ot.fromObject[Ft],Ue=Array.isArray(le)?le.map(rt):[rt(le)];this.map.set(Ft,Ue)})):this.map=null}has(ot){return this.init(),this.map.has(ot)}get(ot){this.init();const Ft=this.map.get(ot);return Ft?Ft[0]:null}getAll(ot){return this.init(),this.map.get(ot)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ot,Ft){return this.clone({param:ot,value:Ft,op:"a"})}appendAll(ot){const Ft=[];return Object.keys(ot).forEach(le=>{const Ue=ot[le];Array.isArray(Ue)?Ue.forEach(De=>{Ft.push({param:le,value:De,op:"a"})}):Ft.push({param:le,value:Ue,op:"a"})}),this.clone(Ft)}set(ot,Ft){return this.clone({param:ot,value:Ft,op:"s"})}delete(ot,Ft){return this.clone({param:ot,value:Ft,op:"d"})}toString(){return this.init(),this.keys().map(ot=>{const Ft=this.encoder.encodeKey(ot);return this.map.get(ot).map(le=>Ft+"="+this.encoder.encodeValue(le)).join("&")}).filter(ot=>""!==ot).join("&")}clone(ot){const Ft=new Ee({encoder:this.encoder});return Ft.cloneFrom=this.cloneFrom||this,Ft.updates=(this.updates||[]).concat(ot),Ft}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ot=>this.map.set(ot,this.cloneFrom.map.get(ot))),this.updates.forEach(ot=>{switch(ot.op){case"a":case"s":const Ft=("a"===ot.op?this.map.get(ot.param):void 0)||[];Ft.push(rt(ot.value)),this.map.set(ot.param,Ft);break;case"d":if(void 0===ot.value){this.map.delete(ot.param);break}{let le=this.map.get(ot.param)||[];const Ue=le.indexOf(rt(ot.value));-1!==Ue&&le.splice(Ue,1),le.length>0?this.map.set(ot.param,le):this.map.delete(ot.param)}}}),this.cloneFrom=this.updates=null)}}class oe{constructor(){this.map=new Map}set(ot,Ft){return this.map.set(ot,Ft),this}get(ot){return this.map.has(ot)||this.map.set(ot,ot.defaultValue()),this.map.get(ot)}delete(ot){return this.map.delete(ot),this}has(ot){return this.map.has(ot)}keys(){return this.map.keys()}}function At(Oe){return typeof ArrayBuffer<"u"&&Oe instanceof ArrayBuffer}function Ze(Oe){return typeof Blob<"u"&&Oe instanceof Blob}function He(Oe){return typeof FormData<"u"&&Oe instanceof FormData}class zt{constructor(ot,Ft,le,Ue){var De,qe;let st;if(this.url=Ft,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ot.toUpperCase(),function it(Oe){switch(Oe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ue?(this.body=void 0!==le?le:null,st=Ue):st=le,st&&(this.reportProgress=!!st.reportProgress,this.withCredentials=!!st.withCredentials,st.responseType&&(this.responseType=st.responseType),st.headers&&(this.headers=st.headers),st.context&&(this.context=st.context),st.params&&(this.params=st.params),this.transferCache=st.transferCache),null!==(De=this.headers)&&void 0!==De||(this.headers=new Be),null!==(qe=this.context)&&void 0!==qe||(this.context=new oe),this.params){const Ct=this.params.toString();if(0===Ct.length)this.urlWithParams=Ft;else{const Vt=Ft.indexOf("?");this.urlWithParams=Ft+(-1===Vt?"?":Vt<Ft.length-1?"&":"")+Ct}}else this.params=new Ee,this.urlWithParams=Ft}serializeBody(){return null===this.body?null:"string"==typeof this.body||At(this.body)||Ze(this.body)||He(this.body)||function jt(Oe){return typeof URLSearchParams<"u"&&Oe instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Ee?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||He(this.body)?null:Ze(this.body)?this.body.type||null:At(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ee?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ot={}){var Ft,le,Ue,De;const qe=ot.method||this.method,st=ot.url||this.url,Ct=ot.responseType||this.responseType,Vt=null!==(Ft=ot.transferCache)&&void 0!==Ft?Ft:this.transferCache,mn=void 0!==ot.body?ot.body:this.body,Pn=null!==(le=ot.withCredentials)&&void 0!==le?le:this.withCredentials,An=null!==(Ue=ot.reportProgress)&&void 0!==Ue?Ue:this.reportProgress;let Cn=ot.headers||this.headers,nr=ot.params||this.params;const Er=null!==(De=ot.context)&&void 0!==De?De:this.context;return void 0!==ot.setHeaders&&(Cn=Object.keys(ot.setHeaders).reduce((gr,xr)=>gr.set(xr,ot.setHeaders[xr]),Cn)),ot.setParams&&(nr=Object.keys(ot.setParams).reduce((gr,xr)=>gr.set(xr,ot.setParams[xr]),nr)),new zt(qe,st,mn,{params:nr,headers:Cn,context:Er,reportProgress:An,responseType:Ct,withCredentials:Pn,transferCache:Vt})}}var Gn=function(Oe){return Oe[Oe.Sent=0]="Sent",Oe[Oe.UploadProgress=1]="UploadProgress",Oe[Oe.ResponseHeader=2]="ResponseHeader",Oe[Oe.DownloadProgress=3]="DownloadProgress",Oe[Oe.Response=4]="Response",Oe[Oe.User=5]="User",Oe}(Gn||{});class on{constructor(ot,Ft=200,le="OK"){this.headers=ot.headers||new Be,this.status=void 0!==ot.status?ot.status:Ft,this.statusText=ot.statusText||le,this.url=ot.url||null,this.ok=this.status>=200&&this.status<300}}class Xn extends on{constructor(ot={}){super(ot),this.type=Gn.ResponseHeader}clone(ot={}){return new Xn({headers:ot.headers||this.headers,status:void 0!==ot.status?ot.status:this.status,statusText:ot.statusText||this.statusText,url:ot.url||this.url||void 0})}}class sr extends on{constructor(ot={}){super(ot),this.type=Gn.Response,this.body=void 0!==ot.body?ot.body:null}clone(ot={}){return new sr({body:void 0!==ot.body?ot.body:this.body,headers:ot.headers||this.headers,status:void 0!==ot.status?ot.status:this.status,statusText:ot.statusText||this.statusText,url:ot.url||this.url||void 0})}}class pt extends on{constructor(ot){super(ot,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ot.url||"(unknown url)"}`:`Http failure response for ${ot.url||"(unknown url)"}: ${ot.status} ${ot.statusText}`,this.error=ot.error||null}}function Re(Oe,ot){return{body:ot,headers:Oe.headers,context:Oe.context,observe:Oe.observe,params:Oe.params,reportProgress:Oe.reportProgress,responseType:Oe.responseType,withCredentials:Oe.withCredentials,transferCache:Oe.transferCache}}let St=(()=>{var Oe;class ot{constructor(le){this.handler=le}request(le,Ue,De={}){let qe;if(le instanceof zt)qe=le;else{let Vt,mn;Vt=De.headers instanceof Be?De.headers:new Be(De.headers),De.params&&(mn=De.params instanceof Ee?De.params:new Ee({fromObject:De.params})),qe=new zt(le,Ue,void 0!==De.body?De.body:null,{headers:Vt,context:De.context,params:mn,reportProgress:De.reportProgress,responseType:De.responseType||"json",withCredentials:De.withCredentials,transferCache:De.transferCache})}const st=(0,H.of)(qe).pipe((0,S.H)(Vt=>this.handler.handle(Vt)));if(le instanceof zt||"events"===De.observe)return st;const Ct=st.pipe((0,Te.p)(Vt=>Vt instanceof sr));switch(De.observe||"body"){case"body":switch(qe.responseType){case"arraybuffer":return Ct.pipe((0,ce.T)(Vt=>{if(null!==Vt.body&&!(Vt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Vt.body}));case"blob":return Ct.pipe((0,ce.T)(Vt=>{if(null!==Vt.body&&!(Vt.body instanceof Blob))throw new Error("Response is not a Blob.");return Vt.body}));case"text":return Ct.pipe((0,ce.T)(Vt=>{if(null!==Vt.body&&"string"!=typeof Vt.body)throw new Error("Response is not a string.");return Vt.body}));default:return Ct.pipe((0,ce.T)(Vt=>Vt.body))}case"response":return Ct;default:throw new Error(`Unreachable: unhandled observe type ${De.observe}}`)}}delete(le,Ue={}){return this.request("DELETE",le,Ue)}get(le,Ue={}){return this.request("GET",le,Ue)}head(le,Ue={}){return this.request("HEAD",le,Ue)}jsonp(le,Ue){return this.request("JSONP",le,{params:(new Ee).append(Ue,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(le,Ue={}){return this.request("OPTIONS",le,Ue)}patch(le,Ue,De={}){return this.request("PATCH",le,Re(De,Ue))}post(le,Ue,De={}){return this.request("POST",le,Re(De,Ue))}put(le,Ue,De={}){return this.request("PUT",le,Re(De,Ue))}}return(Oe=ot).\u0275fac=function(le){return new(le||Oe)(g.KVO(Me))},Oe.\u0275prov=g.jDH({token:Oe,factory:Oe.\u0275fac}),ot})();const Ot=/^\)\]\}',?\n/;function un(Oe){if(Oe.url)return Oe.url;const ot="X-Request-URL".toLocaleLowerCase();return Oe.headers.get(ot)}let Yt=(()=>{var Oe;class ot{constructor(){var le,Ue;this.fetchImpl=null!==(le=null===(Ue=(0,g.WQX)(hr,{optional:!0}))||void 0===Ue?void 0:Ue.fetch)&&void 0!==le?le:(...De)=>globalThis.fetch(...De),this.ngZone=(0,g.WQX)(g.SKi)}handle(le){return new we.c(Ue=>{const De=new AbortController;return this.doRequest(le,De.signal,Ue).then(Qn,qe=>Ue.error(new pt({error:qe}))),()=>De.abort()})}doRequest(le,Ue,De){var qe=this;return(0,x.A)(function*(){var st;const Ct=qe.createRequestInit(le);let Vt;try{const Tr=qe.ngZone.runOutsideAngular(()=>qe.fetchImpl(le.urlWithParams,{signal:Ue,...Ct}));(function In(Oe){Oe.then(Qn,Qn)})(Tr),De.next({type:Gn.Sent}),Vt=yield Tr}catch(Tr){var mn;return void De.error(new pt({error:Tr,status:null!==(mn=Tr.status)&&void 0!==mn?mn:0,statusText:Tr.statusText,url:le.urlWithParams,headers:Tr.headers}))}const Pn=new Be(Vt.headers),An=Vt.statusText,Cn=null!==(st=un(Vt))&&void 0!==st?st:le.urlWithParams;let nr=Vt.status,Er=null;if(le.reportProgress&&De.next(new Xn({headers:Pn,status:nr,statusText:An,url:Cn})),Vt.body){const Tr=Vt.headers.get("content-length"),go=[],br=Vt.body.getReader();let Ki,Mi,Wr=0;const ea=typeof Zone<"u"&&Zone.current;yield qe.ngZone.runOutsideAngular((0,x.A)(function*(){for(;;){const{done:Co,value:Yi}=yield br.read();if(Co)break;if(go.push(Yi),Wr+=Yi.length,le.reportProgress){var Li,bi;Mi="text"===le.responseType?(null!==(Li=Mi)&&void 0!==Li?Li:"")+(null!==(bi=Ki)&&void 0!==bi?bi:Ki=new TextDecoder).decode(Yi,{stream:!0}):void 0;const Ri=()=>De.next({type:Gn.DownloadProgress,total:Tr?+Tr:void 0,loaded:Wr,partialText:Mi});ea?ea.run(Ri):Ri()}}}));const ja=qe.concatChunks(go,Wr);try{var gr;const Li=null!==(gr=Vt.headers.get("Content-Type"))&&void 0!==gr?gr:"";Er=qe.parseBody(le,ja,Li)}catch(Li){var xr;return void De.error(new pt({error:Li,headers:new Be(Vt.headers),status:Vt.status,statusText:Vt.statusText,url:null!==(xr=un(Vt))&&void 0!==xr?xr:le.urlWithParams}))}}0===nr&&(nr=Er?200:0),nr>=200&&nr<300?(De.next(new sr({body:Er,headers:Pn,status:nr,statusText:An,url:Cn})),De.complete()):De.error(new pt({error:Er,headers:Pn,status:nr,statusText:An,url:Cn}))})()}parseBody(le,Ue,De){switch(le.responseType){case"json":const qe=(new TextDecoder).decode(Ue).replace(Ot,"");return""===qe?null:JSON.parse(qe);case"text":return(new TextDecoder).decode(Ue);case"blob":return new Blob([Ue],{type:De});case"arraybuffer":return Ue.buffer}}createRequestInit(le){const Ue={},De=le.withCredentials?"include":void 0;if(le.headers.forEach((qe,st)=>Ue[qe]=st.join(",")),le.headers.has("Accept")||(Ue.Accept="application/json, text/plain, */*"),!le.headers.has("Content-Type")){const qe=le.detectContentTypeHeader();null!==qe&&(Ue["Content-Type"]=qe)}return{body:le.serializeBody(),method:le.method,headers:Ue,credentials:De}}concatChunks(le,Ue){const De=new Uint8Array(Ue);let qe=0;for(const st of le)De.set(st,qe),qe+=st.length;return De}}return(Oe=ot).\u0275fac=function(le){return new(le||Oe)},Oe.\u0275prov=g.jDH({token:Oe,factory:Oe.\u0275fac}),ot})();class hr{}function Qn(){}function _r(Oe,ot){return ot(Oe)}const vr=new g.nKC(""),pr=new g.nKC(""),Kr=new g.nKC("",{providedIn:"root",factory:()=>!0});let qt=(()=>{var Oe;class ot extends Me{constructor(le,Ue){super(),this.backend=le,this.injector=Ue,this.chain=null,this.pendingTasks=(0,g.WQX)(g.TgB),this.contributeToStability=(0,g.WQX)(Kr)}handle(le){if(null===this.chain){const Ue=Array.from(new Set([...this.injector.get(vr),...this.injector.get(pr,[])]));this.chain=Ue.reduceRight((De,qe)=>function dr(Oe,ot,Ft){return(le,Ue)=>(0,g.N4e)(Ft,()=>ot(le,De=>Oe(De,Ue)))}(De,qe,this.injector),_r)}if(this.contributeToStability){const Ue=this.pendingTasks.add();return this.chain(le,De=>this.backend.handle(De)).pipe((0,Ke.j)(()=>this.pendingTasks.remove(Ue)))}return this.chain(le,Ue=>this.backend.handle(Ue))}}return(Oe=ot).\u0275fac=function(le){return new(le||Oe)(g.KVO(Qe),g.KVO(g.uvJ))},Oe.\u0275prov=g.jDH({token:Oe,factory:Oe.\u0275fac}),ot})();const Yr=/^\)\]\}',?\n/;let ko=(()=>{var Oe;class ot{constructor(le){this.xhrFactory=le}handle(le){if("JSONP"===le.method)throw new g.wOt(-2800,!1);const Ue=this.xhrFactory;return(Ue.\u0275loadImpl?(0,q.H)(Ue.\u0275loadImpl()):(0,H.of)(null)).pipe((0,_t.n)(()=>new we.c(qe=>{const st=Ue.build();if(st.open(le.method,le.urlWithParams),le.withCredentials&&(st.withCredentials=!0),le.headers.forEach((gr,xr)=>st.setRequestHeader(gr,xr.join(","))),le.headers.has("Accept")||st.setRequestHeader("Accept","application/json, text/plain, */*"),!le.headers.has("Content-Type")){const gr=le.detectContentTypeHeader();null!==gr&&st.setRequestHeader("Content-Type",gr)}if(le.responseType){const gr=le.responseType.toLowerCase();st.responseType="json"!==gr?gr:"text"}const Ct=le.serializeBody();let Vt=null;const mn=()=>{if(null!==Vt)return Vt;const gr=st.statusText||"OK",xr=new Be(st.getAllResponseHeaders()),no=function Cr(Oe){return"responseURL"in Oe&&Oe.responseURL?Oe.responseURL:/^X-Request-URL:/m.test(Oe.getAllResponseHeaders())?Oe.getResponseHeader("X-Request-URL"):null}(st)||le.url;return Vt=new Xn({headers:xr,status:st.status,statusText:gr,url:no}),Vt},Pn=()=>{let{headers:gr,status:xr,statusText:no,url:Tr}=mn(),go=null;204!==xr&&(go=typeof st.response>"u"?st.responseText:st.response),0===xr&&(xr=go?200:0);let br=xr>=200&&xr<300;if("json"===le.responseType&&"string"==typeof go){const Wr=go;go=go.replace(Yr,"");try{go=""!==go?JSON.parse(go):null}catch(Ki){go=Wr,br&&(br=!1,go={error:Ki,text:go})}}br?(qe.next(new sr({body:go,headers:gr,status:xr,statusText:no,url:Tr||void 0})),qe.complete()):qe.error(new pt({error:go,headers:gr,status:xr,statusText:no,url:Tr||void 0}))},An=gr=>{const{url:xr}=mn(),no=new pt({error:gr,status:st.status||0,statusText:st.statusText||"Unknown Error",url:xr||void 0});qe.error(no)};let Cn=!1;const nr=gr=>{Cn||(qe.next(mn()),Cn=!0);let xr={type:Gn.DownloadProgress,loaded:gr.loaded};gr.lengthComputable&&(xr.total=gr.total),"text"===le.responseType&&st.responseText&&(xr.partialText=st.responseText),qe.next(xr)},Er=gr=>{let xr={type:Gn.UploadProgress,loaded:gr.loaded};gr.lengthComputable&&(xr.total=gr.total),qe.next(xr)};return st.addEventListener("load",Pn),st.addEventListener("error",An),st.addEventListener("timeout",An),st.addEventListener("abort",An),le.reportProgress&&(st.addEventListener("progress",nr),null!==Ct&&st.upload&&st.upload.addEventListener("progress",Er)),st.send(Ct),qe.next({type:Gn.Sent}),()=>{st.removeEventListener("error",An),st.removeEventListener("abort",An),st.removeEventListener("load",Pn),st.removeEventListener("timeout",An),le.reportProgress&&(st.removeEventListener("progress",nr),null!==Ct&&st.upload&&st.upload.removeEventListener("progress",Er)),st.readyState!==st.DONE&&st.abort()}})))}}return(Oe=ot).\u0275fac=function(le){return new(le||Oe)(g.KVO($e.N0))},Oe.\u0275prov=g.jDH({token:Oe,factory:Oe.\u0275fac}),ot})();const Rr=new g.nKC(""),tn=new g.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Or=new g.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class so{}let Zt=(()=>{var Oe;class ot{constructor(le,Ue,De){this.doc=le,this.platform=Ue,this.cookieName=De,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const le=this.doc.cookie||"";return le!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,$e._b)(le,this.cookieName),this.lastCookieString=le),this.lastToken}}return(Oe=ot).\u0275fac=function(le){return new(le||Oe)(g.KVO($e.qQ),g.KVO(g.Agw),g.KVO(tn))},Oe.\u0275prov=g.jDH({token:Oe,factory:Oe.\u0275fac}),ot})();function Nt(Oe,ot){const Ft=Oe.url.toLowerCase();if(!(0,g.WQX)(Rr)||"GET"===Oe.method||"HEAD"===Oe.method||Ft.startsWith("http://")||Ft.startsWith("https://"))return ot(Oe);const le=(0,g.WQX)(so).getToken(),Ue=(0,g.WQX)(Or);return null!=le&&!Oe.headers.has(Ue)&&(Oe=Oe.clone({headers:Oe.headers.set(Ue,le)})),ot(Oe)}var Et=function(Oe){return Oe[Oe.Interceptors=0]="Interceptors",Oe[Oe.LegacyInterceptors=1]="LegacyInterceptors",Oe[Oe.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Oe[Oe.NoXsrfProtection=3]="NoXsrfProtection",Oe[Oe.JsonpSupport=4]="JsonpSupport",Oe[Oe.RequestsMadeViaParent=5]="RequestsMadeViaParent",Oe[Oe.Fetch=6]="Fetch",Oe}(Et||{});function _n(...Oe){const ot=[St,ko,qt,{provide:Me,useExisting:qt},{provide:Qe,useFactory:()=>{var Ft;return null!==(Ft=(0,g.WQX)(Yt,{optional:!0}))&&void 0!==Ft?Ft:(0,g.WQX)(ko)}},{provide:vr,useValue:Nt,multi:!0},{provide:Rr,useValue:!0},{provide:so,useClass:Zt}];for(const Ft of Oe)ot.push(...Ft.\u0275providers);return(0,g.EmA)(ot)}function Nn(Oe){return function Pt(Oe,ot){return{\u0275kind:Oe,\u0275providers:ot}}(Et.Interceptors,Oe.map(ot=>({provide:vr,useValue:ot,multi:!0})))}},4438:(Un,Tt,F)=>{"use strict";function x(t,o){return Object.is(t,o)}F.d(Tt,{iLQ:()=>zy,sZ2:()=>Bd,hnV:()=>wE,o8S:()=>fu,BIS:()=>ov,gRc:()=>FE,Ql9:()=>VT,Ocv:()=>qT,Z63:()=>mt,aKT:()=>$u,uvJ:()=>Qa,zcH:()=>ll,bkB:()=>vs,$GK:()=>Co,nKC:()=>Ft,zZn:()=>ns,_q3:()=>T_,MKu:()=>M_,xe9:()=>I_,Co$:()=>w1,Vns:()=>Yf,SKi:()=>Gi,Xx1:()=>Go,Agw:()=>nf,PLl:()=>Wp,sFG:()=>n1,_9s:()=>ry,czy:()=>sm,kdw:()=>Vo,C4Q:()=>Rf,NYb:()=>FT,giA:()=>yE,RxE:()=>hE,c1b:()=>mh,gXe:()=>pn,mal:()=>wy,L39:()=>Z2,EWP:()=>J2,a0P:()=>aM,Ol2:()=>Dw,w6W:()=>TD,SmG:()=>a2,Rfq:()=>Et,oKB:()=>fa,WQX:()=>Wt,naY:()=>i2,QuC:()=>_s,EmA:()=>Hs,HJs:()=>sM,N4e:()=>Cs,vPA:()=>qn,O8t:()=>eM,H3F:()=>fE,H8p:()=>nc,KH2:()=>tg,TgB:()=>Gc,wOt:()=>qt,WHO:()=>vE,e01:()=>bE,H5H:()=>Jw,Zy3:()=>Fr,mq5:()=>EC,JZv:()=>Rr,TL3:()=>M2,LfX:()=>Uo,plB:()=>Xl,jNT:()=>x_,zjR:()=>xE,XSP:()=>vS,TL$:()=>rv,Tbb:()=>so,Vt3:()=>Cw,GFd:()=>x1,OA$:()=>Ha,Jv_:()=>NI,aNF:()=>FI,R7$:()=>Cx,BMQ:()=>$w,AVh:()=>Gw,wni:()=>sI,VBU:()=>da,FsC:()=>Ac,jDH:()=>Ar,G2t:()=>po,$C:()=>Ma,EJ8:()=>pu,rXU:()=>ru,nrm:()=>Zw,eu8:()=>Qw,bVm:()=>Ty,qex:()=>Ay,k0s:()=>Sy,j41:()=>ky,RV6:()=>_C,xGo:()=>Sp,KVO:()=>Mt,kS0:()=>Dd,QTQ:()=>Sv,bIt:()=>n_,lsd:()=>uI,XpG:()=>qC,nI1:()=>GI,bMT:()=>XI,i5U:()=>KI,brH:()=>YI,SdG:()=>QC,NAR:()=>ZC,Y8G:()=>Vw,FS9:()=>o_,Mz_:()=>Ny,lJ4:()=>$I,eq3:()=>jI,mGM:()=>cI,sdS:()=>dI,Njj:()=>Dh,eBV:()=>Eh,B4B:()=>ys,n$t:()=>zs,xc7:()=>Ww,DNE:()=>Sw,C5r:()=>qI,EFF:()=>wI,JRh:()=>a_,SpI:()=>Fy,DH7:()=>MI,mxI:()=>l_,R50:()=>s_,GBs:()=>lI});let g=null,H=!1,we=1;const q=Symbol("SIGNAL");function S(t){const o=g;return g=t,o}const _t={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function $e(t){if(H)throw new Error("");if(null===g)return;g.consumerOnSignalRead(t);const o=g.nextProducerIndex++;oe(g),o<g.producerNode.length&&g.producerNode[o]!==t&&ze(g)&&Ee(g.producerNode[o],g.producerIndexOfThis[o]),g.producerNode[o]!==t&&(g.producerNode[o]=t,g.producerIndexOfThis[o]=ze(g)?rt(t,g,o):0),g.producerLastReadVersion[o]=t.version}function Qe(t){if((!ze(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==we)){if(!t.producerMustRecompute(t)&&!wt(t))return t.dirty=!1,void(t.lastCleanEpoch=we);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=we}}function Be(t){if(void 0===t.liveConsumerNode)return;const o=H;H=!0;try{for(const s of t.liveConsumerNode)s.dirty||ct(s)}finally{H=o}}function lt(){var t;return!1!==(null===(t=g)||void 0===t?void 0:t.consumerAllowSignalWrites)}function ct(t){var o;t.dirty=!0,Be(t),null===(o=t.consumerMarkedDirty)||void 0===o||o.call(t,t)}function Fe(t){return t&&(t.nextProducerIndex=0),S(t)}function ve(t,o){if(S(o),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(ze(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)Ee(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function wt(t){oe(t);for(let o=0;o<t.producerNode.length;o++){const s=t.producerNode[o],l=t.producerLastReadVersion[o];if(l!==s.version||(Qe(s),l!==s.version))return!0}return!1}function ft(t){if(oe(t),ze(t))for(let o=0;o<t.producerNode.length;o++)Ee(t.producerNode[o],t.producerIndexOfThis[o]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function rt(t,o,s){if(it(t),0===t.liveConsumerNode.length&&At(t))for(let l=0;l<t.producerNode.length;l++)t.producerIndexOfThis[l]=rt(t.producerNode[l],t,l);return t.liveConsumerIndexOfThis.push(s),t.liveConsumerNode.push(o)-1}function Ee(t,o){if(it(t),1===t.liveConsumerNode.length&&At(t))for(let l=0;l<t.producerNode.length;l++)Ee(t.producerNode[l],t.producerIndexOfThis[l]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[o]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[o]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,o<t.liveConsumerNode.length){const l=t.liveConsumerIndexOfThis[o],d=t.liveConsumerNode[o];oe(d),d.producerIndexOfThis[l]=o}}function ze(t){var o,s;return t.consumerIsAlwaysLive||(null!==(o=null==t||null===(s=t.liveConsumerNode)||void 0===s?void 0:s.length)&&void 0!==o?o:0)>0}function oe(t){var o,s,l;null!==(o=t.producerNode)&&void 0!==o||(t.producerNode=[]),null!==(s=t.producerIndexOfThis)&&void 0!==s||(t.producerIndexOfThis=[]),null!==(l=t.producerLastReadVersion)&&void 0!==l||(t.producerLastReadVersion=[])}function it(t){var o,s;null!==(o=t.liveConsumerNode)&&void 0!==o||(t.liveConsumerNode=[]),null!==(s=t.liveConsumerIndexOfThis)&&void 0!==s||(t.liveConsumerIndexOfThis=[])}function At(t){return void 0!==t.producerNode}const He=Symbol("UNSET"),jt=Symbol("COMPUTING"),zt=Symbol("ERRORED"),Gn={..._t,value:He,dirty:!0,error:null,equal:x,producerMustRecompute:t=>t.value===He||t.value===jt,producerRecomputeValue(t){if(t.value===jt)throw new Error("Detected cycle in computations.");const o=t.value;t.value=jt;const s=Fe(t);let l;try{l=t.computation()}catch(d){l=zt,t.error=d}finally{ve(t,s)}o!==He&&o!==zt&&l!==zt&&t.equal(o,l)?t.value=o:(t.value=l,t.version++)}};let Xn=function on(){throw new Error};function sr(){Xn()}let We=null;function St(t,o){lt()||sr(),t.equal(t.value,o)||(t.value=o,function Yt(t){var o;t.version++,function Me(){we++}(),Be(t),null===(o=We)||void 0===o||o()}(t))}const un={..._t,equal:x,value:void 0};var pr,xn,Xr=F(4412),dr=F(1413),Dr=F(8359),vr=F(6354);const sn="https://g.co/ng/security#xss";class qt extends Error{constructor(o,s){super(Fr(o,s)),this.code=o}}function Fr(t,o){return`NG0${Math.abs(t)}${o?": "+o:""}`}function Lr(t){return{toString:t}.toString()}const Vr="__parameters__";function Cr(t,o,s){return Lr(()=>{const l=function Yr(t){return function(...s){if(t){const l=t(...s);for(const d in l)this[d]=l[d]}}}(o);function d(...v){if(this instanceof d)return l.apply(this,v),this;const w=new d(...v);return k.annotation=w,k;function k(R,W,he){const Ce=R.hasOwnProperty(Vr)?R[Vr]:Object.defineProperty(R,Vr,{value:[]})[Vr];for(;Ce.length<=he;)Ce.push(null);return(Ce[he]=Ce[he]||[]).push(w),R}}return s&&(d.prototype=Object.create(s.prototype)),d.prototype.ngMetadataName=t,d.annotationCls=d,d})}const Rr=globalThis;function ar(t){for(let o in t)if(t[o]===ar)return o;throw Error("Could not find renamed property on target object.")}function Or(t,o){for(const s in o)o.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=o[s])}function so(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(so).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const o=t.toString();if(null==o)return""+o;const s=o.indexOf("\n");return-1===s?o:o.substring(0,s)}function Zt(t,o){return null==t||""===t?null===o?"":o:null==o||""===o?t:t+" "+o}const cn=ar({__forward_ref__:ar});function Et(t){return t.__forward_ref__=Et,t.toString=function(){return so(this())},t}function Pt(t){return _n(t)?t():t}function _n(t){return"function"==typeof t&&t.hasOwnProperty(cn)&&t.__forward_ref__===Et}function Ar(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function po(t){return{providers:t.providers||[],imports:t.imports||[]}}function Jn(t){return tt(t,Ir)||tt(t,Oe)}function Uo(t){return null!==Jn(t)}function tt(t,o){return t.hasOwnProperty(o)?t[o]:null}function Hn(t){return t&&(t.hasOwnProperty(eo)||t.hasOwnProperty(ot))?t[eo]:null}const Ir=ar({\u0275prov:ar}),eo=ar({\u0275inj:ar}),Oe=ar({ngInjectableDef:ar}),ot=ar({ngInjectorDef:ar});class Ft{constructor(o,s){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Ar({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Cn(t){return t&&!!t.\u0275providers}const nr=ar({\u0275cmp:ar}),Er=ar({\u0275dir:ar}),gr=ar({\u0275pipe:ar}),xr=ar({\u0275mod:ar}),no=ar({\u0275fac:ar}),Tr=ar({__NG_ELEMENT_ID__:ar}),go=ar({__NG_ENV_ID__:ar});function br(t){return"string"==typeof t?t:null==t?"":String(t)}function bi(t,o){throw new qt(-201,!1)}var Co=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Co||{});let Yi;function Ri(){return Yi}function Po(t){const o=Yi;return Yi=t,o}function za(t,o,s){const l=Jn(t);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&Co.Optional?null:void 0!==o?o:void bi()}const Za={},ba="__NG_DI_FLAG__",B="ngTempTokenPath",Ne=/\n/gm,M="__source";let Z;function ht(t){const o=Z;return Z=t,o}function Bt(t,o=Co.Default){if(void 0===Z)throw new qt(-203,!1);return null===Z?za(t,void 0,o):Z.get(t,o&Co.Optional?null:void 0,o)}function Mt(t,o=Co.Default){return(Ri()||Bt)(Pt(t),o)}function Wt(t,o=Co.Default){return Mt(t,Dn(o))}function Dn(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Bn(t){const o=[];for(let s=0;s<t.length;s++){const l=Pt(t[s]);if(Array.isArray(l)){if(0===l.length)throw new qt(900,!1);let d,v=Co.Default;for(let w=0;w<l.length;w++){const k=l[w],R=mr(k);"number"==typeof R?-1===R?d=k.token:v|=R:d=k}o.push(Mt(d,v))}else o.push(Mt(l))}return o}function ir(t,o){return t[ba]=o,t.prototype[ba]=o,t}function mr(t){return t[ba]}const Go=ir(Cr("Optional"),8),Vo=ir(Cr("SkipSelf"),4);function la(t,o){return t.hasOwnProperty(no)?t[no]:null}function Xe(t,o){t.forEach(s=>Array.isArray(s)?Xe(s,o):o(s))}function zi(t,o,s){o>=t.length?t.push(s):t.splice(o,0,s)}function Aa(t,o){return o>=t.length-1?t.pop():t.splice(o,1)[0]}function di(t,o,s){let l=Ua(t,o);return l>=0?t[1|l]=s:(l=~l,function ta(t,o,s,l){let d=t.length;if(d==o)t.push(s,l);else if(1===d)t.push(l,t[0]),t[0]=s;else{for(d--,t.push(t[d-1],t[d]);d>o;)t[d]=t[d-2],d--;t[o]=s,t[o+1]=l}}(t,l,o,s)),l}function qi(t,o){const s=Ua(t,o);if(s>=0)return t[1|s]}function Ua(t,o){return function $(t,o,s){let l=0,d=t.length>>s;for(;d!==l;){const v=l+(d-l>>1),w=t[v<<s];if(o===w)return v<<s;w>o?d=v:l=v+1}return~(d<<s)}(t,o,1)}const xe={},je=[],mt=new Ft(""),gt=new Ft("",-1),Qt=new Ft("");class Rt{get(o,s=Za){if(s===Za){const l=new Error(`NullInjectorError: No provider for ${so(o)}!`);throw l.name="NullInjectorError",l}return s}}var Jt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Jt||{}),pn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(pn||{}),Wn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Wn||{});function Kn(t,o,s){let l=t.length;for(;;){const d=t.indexOf(o,s);if(-1===d)return d;if(0===d||t.charCodeAt(d-1)<=32){const v=o.length;if(d+v===l||t.charCodeAt(d+v)<=32)return d}s=d+1}}function wr(t,o,s){let l=0;for(;l<s.length;){const d=s[l];if("number"==typeof d){if(0!==d)break;l++;const v=s[l++],w=s[l++],k=s[l++];t.setAttribute(o,w,k,v)}else{const v=d,w=s[++l];Ho(v)?t.setProperty(o,v,w):t.setAttribute(o,v,w),l++}}return l}function $r(t){return 3===t||4===t||6===t}function Ho(t){return 64===t.charCodeAt(0)}function Jo(t,o){if(null!==o&&0!==o.length)if(null===t||0===t.length)t=o.slice();else{let s=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?s=d:0===s||vo(t,s,d,null,-1===s||2===s?o[++l]:null)}}return t}function vo(t,o,s,l,d){let v=0,w=t.length;if(-1===o)w=-1;else for(;v<t.length;){const k=t[v++];if("number"==typeof k){if(k===o){w=-1;break}if(k>o){w=v-1;break}}}for(;v<t.length;){const k=t[v];if("number"==typeof k)break;if(k===s){if(null===l)return void(null!==d&&(t[v+1]=d));if(l===t[v+1])return void(t[v+2]=d)}v++,null!==l&&v++,null!==d&&v++}-1!==w&&(t.splice(w,0,o),v=w+1),t.splice(v++,0,s),null!==l&&t.splice(v++,0,l),null!==d&&t.splice(v++,0,d)}const So="ng-template";function lo(t,o,s,l){let d=0;if(l){for(;d<o.length&&"string"==typeof o[d];d+=2)if("class"===o[d]&&-1!==Kn(o[d+1].toLowerCase(),s,0))return!0}else if(ua(t))return!1;if(d=o.indexOf(1,d),d>-1){let v;for(;++d<o.length&&"string"==typeof(v=o[d]);)if(v.toLowerCase()===s)return!0}return!1}function ua(t){return 4===t.type&&t.value!==So}function Ui(t,o,s){return o===(4!==t.type||s?t.value:So)}function Lo(t,o,s){let l=4;const d=t.attrs,v=null!==d?function j(t){for(let o=0;o<t.length;o++)if($r(t[o]))return o;return t.length}(d):0;let w=!1;for(let k=0;k<o.length;k++){const R=o[k];if("number"!=typeof R){if(!w)if(4&l){if(l=2|1&l,""!==R&&!Ui(t,R,s)||""===R&&1===o.length){if(hi(l))return!1;w=!0}}else if(8&l){if(null===d||!lo(t,d,R,s)){if(hi(l))return!1;w=!0}}else{const W=o[++k],he=Sc(R,d,ua(t),s);if(-1===he){if(hi(l))return!1;w=!0;continue}if(""!==W){let Ce;if(Ce=he>v?"":d[he+1].toLowerCase(),2&l&&W!==Ce){if(hi(l))return!1;w=!0}}}}else{if(!w&&!hi(l)&&!hi(R))return!1;if(w&&hi(R))continue;w=!1,l=R|1&l}}return hi(l)||w}function hi(t){return!(1&t)}function Sc(t,o,s,l){if(null===o)return-1;let d=0;if(l||!s){let v=!1;for(;d<o.length;){const w=o[d];if(w===t)return d;if(3===w||6===w)v=!0;else{if(1===w||2===w){let k=o[++d];for(;"string"==typeof k;)k=o[++d];continue}if(4===w)break;if(0===w){d+=4;continue}}d+=v?1:2}return-1}return function ye(t,o){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const l=t[s];if("number"==typeof l)return-1;if(l===o)return s;s++}return-1}(o,t)}function Ql(t,o,s=!1){for(let l=0;l<o.length;l++)if(Lo(t,o[l],s))return!0;return!1}function Q(t,o){e:for(let s=0;s<o.length;s++){const l=o[s];if(t.length===l.length){for(let d=0;d<t.length;d++)if(t[d]!==l[d])continue e;return!0}}return!1}function Ve(t,o){return t?":not("+o.trim()+")":o}function On(t){let o=t[0],s=1,l=2,d="",v=!1;for(;s<t.length;){let w=t[s];if("string"==typeof w)if(2&l){const k=t[++s];d+="["+w+(k.length>0?'="'+k+'"':"")+"]"}else 8&l?d+="."+w:4&l&&(d+=" "+w);else""!==d&&!hi(w)&&(o+=Ve(v,d),d=""),l=w,v=v||!hi(l);s++}return""!==d&&(o+=Ve(v,d)),o}function da(t){return Lr(()=>{var o;const s=Jl(t),l={...s,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Jt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(o=t.signals)&&void 0!==o&&o,data:t.data||{},encapsulation:t.encapsulation||pn.Emulated,styles:t.styles||je,_:null,schemas:t.schemas||null,tView:null,id:""};ec(l);const d=t.dependencies;return l.directiveDefs=os(d,!1),l.pipeDefs=os(d,!0),l.id=function mu(t){let o=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const d of s)o=Math.imul(31,o)+d.charCodeAt(0)|0;return o+=2147483648,"c"+o}(l),l})}function Ta(t){return cr(t)||Zi(t)}function na(t){return null!==t}function Ma(t){return Lr(()=>({type:t.type,bootstrap:t.bootstrap||je,declarations:t.declarations||je,imports:t.imports||je,exports:t.exports||je,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function rl(t,o){if(null==t)return xe;const s={};for(const d in t)if(t.hasOwnProperty(d)){const v=t[d];let w,k,R=Wn.None;var l;Array.isArray(v)?(R=v[0],w=v[1],k=null!==(l=v[2])&&void 0!==l?l:w):(w=v,k=v),o?(s[w]=R!==Wn.None?[d,R]:d,o[w]=k):s[w]=d}return s}function Ac(t){return Lr(()=>{const o=Jl(t);return ec(o),o})}function pu(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function cr(t){return t[nr]||null}function Zi(t){return t[Er]||null}function Vi(t){return t[gr]||null}function _s(t){const o=cr(t)||Zi(t)||Vi(t);return null!==o&&o.standalone}function ha(t,o){const s=t[xr]||null;if(!s&&!0===o)throw new Error(`Type ${so(t)} does not have '\u0275mod' property.`);return s}function Jl(t){const o={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:t.inputs||xe,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||je,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:rl(t.inputs,o),outputs:rl(t.outputs),debugInfo:null}}function ec(t){var o;null===(o=t.features)||void 0===o||o.forEach(s=>s(t))}function os(t,o){if(!t)return null;const s=o?Vi:Ta;return()=>("function"==typeof t?t():t).map(l=>s(l)).filter(na)}function Hs(t){return{\u0275providers:t}}function fa(...t){return{\u0275providers:Os(0,t),\u0275fromNgModule:!0}}function Os(t,...o){const s=[],l=new Set;let d;const v=w=>{s.push(w)};return Xe(o,w=>{const k=w;Tc(k,v,[],l)&&(d||(d=[]),d.push(k))}),void 0!==d&&cd(d,v),s}function cd(t,o){for(let s=0;s<t.length;s++){const{ngModule:l,providers:d}=t[s];tc(d,v=>{o(v,l)})}}function Tc(t,o,s,l){if(!(t=Pt(t)))return!1;let d=null,v=Hn(t);const w=!v&&cr(t);if(v||w){if(w&&!w.standalone)return!1;d=t}else{const R=t.ngModule;if(v=Hn(R),!v)return!1;d=R}const k=l.has(d);if(w){if(k)return!1;if(l.add(d),w.dependencies){const R="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const W of R)Tc(W,o,s,l)}}else{if(!v)return!1;{if(null!=v.imports&&!k){let W;l.add(d);try{Xe(v.imports,he=>{Tc(he,o,s,l)&&(W||(W=[]),W.push(he))})}finally{}void 0!==W&&cd(W,o)}if(!k){const W=la(d)||(()=>new d);o({provide:d,useFactory:W,deps:je},d),o({provide:Qt,useValue:d,multi:!0},d),o({provide:mt,useValue:()=>Mt(d),multi:!0},d)}const R=v.providers;if(null!=R&&!k){const W=t;tc(R,he=>{o(he,W)})}}}return d!==t&&void 0!==t.providers}function tc(t,o){for(let s of t)Cn(s)&&(s=s.\u0275providers),Array.isArray(s)?tc(s,o):o(s)}const gu=ar({provide:String,useValue:ar});function Tl(t){return null!==t&&"object"==typeof t&&gu in t}function Hi(t){return"function"==typeof t}const nc=new Ft(""),pa={},ol={};let Mc;function Wi(){return void 0===Mc&&(Mc=new Rt),Mc}class Qa{}class Ns extends Qa{get destroyed(){return this._destroyed}constructor(o,s,l,d){super(),this.parent=s,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xa(o,w=>this.processProvider(w)),this.records.set(gt,is(void 0,this)),d.has("environment")&&this.records.set(Qa,is(void 0,this));const v=this.records.get(nc);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(Qt,je,Co.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const o=S(null);try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const l of s)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),S(o)}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const s=ht(this),l=Po(void 0);try{return o()}finally{ht(s),Po(l)}}get(o,s=Za,l=Co.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(go))return o[go](this);l=Dn(l);const v=ht(this),w=Po(void 0);try{if(!(l&Co.SkipSelf)){let R=this.records.get(o);if(void 0===R){const W=function ya(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ft}(o)&&Jn(o);R=W&&this.injectableDefInScope(W)?is(Rl(o),pa):null,this.records.set(o,R)}if(null!=R)return this.hydrate(o,R)}return(l&Co.Self?Wi():this.parent).get(o,s=l&Co.Optional&&s===Za?null:s)}catch(k){if("NullInjectorError"===k.name){if((k[B]=k[B]||[]).unshift(so(o)),v)throw k;return function Pr(t,o,s,l){const d=t[B];throw o[M]&&d.unshift(o[M]),t.message=function Br(t,o,s,l=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let d=so(o);if(Array.isArray(o))d=o.map(so).join(" -> ");else if("object"==typeof o){let v=[];for(let w in o)if(o.hasOwnProperty(w)){let k=o[w];v.push(w+":"+("string"==typeof k?JSON.stringify(k):so(k)))}d=`{${v.join(", ")}}`}return`${s}${l?"("+l+")":""}[${d}]: ${t.replace(Ne,"\n  ")}`}("\n"+t.message,d,s,l),t.ngTokenPath=d,t[B]=null,t}(k,o,"R3InjectorError",this.source)}throw k}finally{Po(w),ht(v)}}resolveInjectorInitializers(){const o=S(null),s=ht(this),l=Po(void 0);try{const v=this.get(mt,je,Co.Self);for(const w of v)w()}finally{ht(s),Po(l),S(o)}}toString(){const o=[],s=this.records;for(const l of s.keys())o.push(so(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new qt(205,!1)}processProvider(o){let s=Hi(o=Pt(o))?o:Pt(o&&o.provide);const l=function rc(t){return Tl(t)?is(void 0,t.useValue):is(oc(t),pa)}(o);if(!Hi(o)&&!0===o.multi){let d=this.records.get(s);d||(d=is(void 0,pa,!0),d.factory=()=>Bn(d.multi),this.records.set(s,d)),s=o,d.multi.push(o)}this.records.set(s,l)}hydrate(o,s){const l=S(null);try{return s.value===pa&&(s.value=ol,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Rc(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}finally{S(l)}}injectableDefInScope(o){if(!o.providedIn)return!1;const s=Pt(o.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(o){const s=this._onDestroyHooks.indexOf(o);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Rl(t){const o=Jn(t),s=null!==o?o.factory:la(t);if(null!==s)return s;if(t instanceof Ft)throw new qt(204,!1);if(t instanceof Function)return function Ws(t){if(t.length>0)throw new qt(204,!1);const s=function dn(t){return t&&(t[Ir]||t[Oe])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new qt(204,!1)}function oc(t,o,s){let l;if(Hi(t)){const d=Pt(t);return la(d)||Rl(d)}if(Tl(t))l=()=>Pt(t.useValue);else if(function Ml(t){return!(!t||!t.useFactory)}(t))l=()=>t.useFactory(...Bn(t.deps||[]));else if(function dd(t){return!(!t||!t.useExisting)}(t))l=()=>Mt(Pt(t.useExisting));else{const d=Pt(t&&(t.useClass||t.provide));if(!function Pl(t){return!!t.deps}(t))return la(d)||Rl(d);l=()=>new d(...Bn(t.deps))}return l}function is(t,o,s=!1){return{factory:t,value:o,multi:s?[]:void 0}}function xa(t,o){for(const s of t)Array.isArray(s)?xa(s,o):s&&Cn(s)?xa(s.\u0275providers,o):o(s)}function Cs(t,o){t instanceof Ns&&t.assertNotDestroyed();const l=ht(t),d=Po(void 0);try{return o()}finally{ht(l),Po(d)}}function bl(){return void 0!==Ri()||null!=function et(){return Z}()}const Oo=0,$n=1,jr=2,Di=3,ln=4,oi=5,Ko=6,_o=7,ui=8,Ai=9,ma=10,Qr=11,as=12,Ol=13,Gs=14,Yo=15,Is=16,Es=17,Bi=18,il=19,Xs=20,ms=21,Fs=22,Ds=23,Hr=25,bu=1,ks=7,ic=9,Ti=10;var yl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(yl||{});function ra(t){return Array.isArray(t)&&"object"==typeof t[bu]}function Ra(t){return Array.isArray(t)&&!0===t[bu]}function Pc(t){return!!(4&t.flags)}function Ls(t){return t.componentOffset>-1}function ac(t){return!(1&~t.flags)}function gs(t){return!!t.template}function xl(t){return!!(512&t[jr])}class Mo{constructor(o,s,l){this.previousValue=o,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function $i(t,o,s,l){null!==o?o.applyValueToInputSignal(o,l):t[s]=l}function Ha(){return es}function es(t){return t.type.prototype.ngOnChanges&&(t.setInput=ss),lc}function lc(){const t=Fl(this),o=null==t?void 0:t.current;if(o){const s=t.previous;if(s===xe)t.previous=o;else for(let l in o)s[l]=o[l];t.current=null,this.ngOnChanges(o)}}function ss(t,o,s,l,d){const v=this.declaredInputs[l],w=Fl(t)||function Nc(t,o){return t[Ks]=o}(t,{previous:xe,current:null}),k=w.current||(w.current={}),R=w.previous,W=R[v];k[v]=new Mo(W&&W.currentValue,s,R===xe),$i(t,o,d,s)}Ha.ngInherit=!0;const Ks="__ngSimpleChanges__";function Fl(t){return t[Ks]||null}const Ss=function(t,o,s){};function ri(t){for(;Array.isArray(t);)t=t[Oo];return t}function Cu(t,o){return ri(o[t])}function ls(t,o){return ri(o[t.index])}function Eu(t,o){return t.data[o]}function cc(t,o){return t[o]}function Ia(t,o){const s=o[t];return ra(s)?s:s[Oo]}function Du(t){return!(128&~t[jr])}function Bs(t,o){return null==o?null:t[o]}function op(t){t[Es]=0}function _h(t){1024&t[jr]||(t[jr]|=1024,Du(t)&&pd(t))}function fd(t){var o;return!!(9216&t[jr]||null!==(o=t[Ds])&&void 0!==o&&o.dirty)}function al(t){var o;null===(o=t[ma].changeDetectionScheduler)||void 0===o||o.notify(8),64&t[jr]&&(t[jr]|=1024),fd(t)&&pd(t)}function pd(t){var o;null===(o=t[ma].changeDetectionScheduler)||void 0===o||o.notify(0);let s=wl(t);for(;null!==s&&!(8192&s[jr])&&(s[jr]|=8192,Du(s));)s=wl(s)}function md(t,o){if(!(256&~t[jr]))throw new qt(911,!1);null===t[ms]&&(t[ms]=[]),t[ms].push(o)}function wl(t){const o=t[Di];return Ra(o)?o[Di]:o}const Eo={lFrame:gp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let sp=!1;function lp(){return Eo.bindingsEnabled}function Lc(){return null!==Eo.skipHydrationRootTNode}function kn(){return Eo.lFrame.lView}function Bo(){return Eo.lFrame.tView}function Eh(t){return Eo.lFrame.contextLView=t,t[ui]}function Dh(t){return Eo.lFrame.contextLView=null,t}function yi(){let t=vd();for(;null!==t&&64===t.type;)t=t.parent;return t}function vd(){return Eo.lFrame.currentTNode}function qs(t,o){const s=Eo.lFrame;s.currentTNode=t,s.isParent=o}function bd(){return Eo.lFrame.isParent}function kh(){Eo.lFrame.isParent=!1}function Ah(){return sp}function ts(t){sp=t}function ga(){const t=Eo.lFrame;let o=t.bindingRootIndex;return-1===o&&(o=t.bindingRootIndex=t.tView.bindingStartIndex),o}function Zs(){return Eo.lFrame.bindingIndex++}function pp(t,o){const s=Eo.lFrame;s.bindingIndex=s.bindingRootIndex=t,Mh(o)}function Mh(t){Eo.lFrame.currentDirectiveIndex=t}function ku(){return Eo.lFrame.currentQueryIndex}function uc(t){Eo.lFrame.currentQueryIndex=t}function $c(t){const o=t[$n];return 2===o.type?o.declTNode:1===o.type?t[oi]:null}function Su(t,o,s){if(s&Co.SkipSelf){let d=o,v=t;for(;!(d=d.parent,null!==d||s&Co.Host||(d=$c(v),null===d||(v=v[Gs],10&d.type))););if(null===d)return!1;o=d,t=v}const l=Eo.lFrame=mp();return l.currentTNode=o,l.lView=t,!0}function Rh(t){const o=mp(),s=t[$n];Eo.lFrame=o,o.currentTNode=s.firstChild,o.lView=t,o.tView=s,o.contextLView=t,o.bindingIndex=s.bindingStartIndex,o.inI18n=!1}function mp(){const t=Eo.lFrame,o=null===t?null:t.child;return null===o?gp(t):o}function gp(t){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=o),o}function Ph(){const t=Eo.lFrame;return Eo.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const vp=Ph;function Oh(){const t=Ph();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Pa(){return Eo.lFrame.selectedIndex}function sl(t){Eo.lFrame.selectedIndex=t}function Oi(){const t=Eo.lFrame;return Eu(t.tView,t.selectedIndex)}let vg=!0;function Au(){return vg}function As(t){vg=t}function Tu(t,o){for(let W=o.directiveStart,he=o.directiveEnd;W<he;W++){const at=t.data[W].type.prototype,{ngAfterContentInit:Dt,ngAfterContentChecked:yt,ngAfterViewInit:yn,ngAfterViewChecked:zn,ngOnDestroy:rr}=at;var s,l,d,v,w,k,R;Dt&&(null!==(s=t.contentHooks)&&void 0!==s?s:t.contentHooks=[]).push(-W,Dt),yt&&((null!==(l=t.contentHooks)&&void 0!==l?l:t.contentHooks=[]).push(W,yt),(null!==(d=t.contentCheckHooks)&&void 0!==d?d:t.contentCheckHooks=[]).push(W,yt)),yn&&(null!==(v=t.viewHooks)&&void 0!==v?v:t.viewHooks=[]).push(-W,yn),zn&&((null!==(w=t.viewHooks)&&void 0!==w?w:t.viewHooks=[]).push(W,zn),(null!==(k=t.viewCheckHooks)&&void 0!==k?k:t.viewCheckHooks=[]).push(W,zn)),null!=rr&&(null!==(R=t.destroyHooks)&&void 0!==R?R:t.destroyHooks=[]).push(W,rr)}}function xd(t,o,s){Wo(t,o,3,s)}function Mu(t,o,s,l){(3&t[jr])===s&&Wo(t,o,s,l)}function Ru(t,o){let s=t[jr];(3&s)===o&&(s&=16383,s+=1,t[jr]=s)}function Wo(t,o,s,l){const v=null!=l?l:-1,w=o.length-1;let k=0;for(let R=void 0!==l?65535&t[Es]:0;R<w;R++)if("number"==typeof o[R+1]){if(k=o[R],null!=l&&k>=l)break}else o[R]<0&&(t[Es]+=65536),(k<v||-1==v)&&(bg(t,s,o,R),t[Es]=(4294901760&t[Es])+R+2),R++}function $s(t,o){Ss(4,t,o);const s=S(null);try{o.call(t)}finally{S(s),Ss(5,t,o)}}function bg(t,o,s,l){const d=s[l]<0,v=s[l+1],k=t[d?-s[l]:s[l]];d?t[jr]>>14<t[Es]>>16&&(3&t[jr])===o&&(t[jr]+=16384,$s(k,v)):$s(k,v)}const hc=-1;class jc{constructor(o,s,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}const Fh={};class zc{constructor(o,s){this.injector=o,this.parentInjector=s}get(o,s,l){l=Dn(l);const d=this.injector.get(o,Fh,l);return d!==Fh||s===Fh?d:this.parentInjector.get(o,s,l)}}function Lh(t){return t!==hc}function Cd(t){return 32767&t}function Pu(t,o){let s=function Cg(t){return t>>16}(t),l=o;for(;s>0;)l=l[Gs],s--;return l}let Ou=!0;function js(t){const o=Ou;return Ou=t,o}const Bh=255,_p=5;let Cp=0;const Ts={};function Uc(t,o){const s=Ip(t,o);if(-1!==s)return s;const l=o[$n];l.firstCreatePass&&(t.injectorIndex=o.length,Vc(l.data,t),Vc(o,null),Vc(l.blueprint,null));const d=Nu(t,o),v=t.injectorIndex;if(Lh(d)){const w=Cd(d),k=Pu(d,o),R=k[$n].data;for(let W=0;W<8;W++)o[v+W]=k[w+W]|R[w+W]}return o[v+8]=d,v}function Vc(t,o){t.push(0,0,0,0,0,0,0,0,o)}function Ip(t,o){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===o[t.injectorIndex+8]?-1:t.injectorIndex}function Nu(t,o){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,l=null,d=o;for(;null!==d;){if(l=Uh(d),null===l)return hc;if(s++,d=d[Gs],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return hc}function $h(t,o,s){!function Ig(t,o,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(Tr)&&(l=s[Tr]),null==l&&(l=s[Tr]=Cp++);const d=l&Bh;o.data[t+(d>>_p)]|=1<<d}(t,o,s)}function jh(t,o,s){if(s&Co.Optional||void 0!==t)return t;bi()}function Eg(t,o,s,l){if(s&Co.Optional&&void 0===l&&(l=null),!(s&(Co.Self|Co.Host))){const d=t[Ai],v=Po(void 0);try{return d?d.get(o,l,s&Co.Optional):za(o,l,s&Co.Optional)}finally{Po(v)}}return jh(l,0,s)}function Ep(t,o,s,l=Co.Default,d){if(null!==t){if(2048&o[jr]&&!(l&Co.Self)){const w=function Sg(t,o,s,l,d){let v=t,w=o;for(;null!==v&&null!==w&&2048&w[jr]&&!(512&w[jr]);){const k=Dg(v,w,s,l|Co.Self,Ts);if(k!==Ts)return k;let R=v.parent;if(!R){const W=w[Xs];if(W){const he=W.get(s,Ts,l);if(he!==Ts)return he}R=Uh(w),w=w[Gs]}v=R}return d}(t,o,s,l,Ts);if(w!==Ts)return w}const v=Dg(t,o,s,l,Ts);if(v!==Ts)return v}return Eg(o,s,l,d)}function Dg(t,o,s,l,d){const v=function M0(t){if("string"==typeof t)return t.charCodeAt(0)||0;const o=t.hasOwnProperty(Tr)?t[Tr]:void 0;return"number"==typeof o?o>=0?o&Bh:kp:o}(s);if("function"==typeof v){if(!Su(o,t,l))return l&Co.Host?jh(d,0,l):Eg(o,s,l,d);try{let w;if(w=v(l),null!=w||l&Co.Optional)return w;bi()}finally{vp()}}else if("number"==typeof v){let w=null,k=Ip(t,o),R=hc,W=l&Co.Host?o[Yo][oi]:null;for((-1===k||l&Co.SkipSelf)&&(R=-1===k?Nu(t,o):o[k+8],R!==hc&&Hc(l,!1)?(w=o[$n],k=Cd(R),o=Pu(R,o)):k=-1);-1!==k;){const he=o[$n];if(Dp(v,k,he.data)){const Ce=kg(k,o,s,w,l,W);if(Ce!==Ts)return Ce}R=o[k+8],R!==hc&&Hc(l,o[$n].data[k+8]===W)&&Dp(v,k,o)?(w=he,k=Cd(R),o=Pu(R,o)):k=-1}}return d}function kg(t,o,s,l,d,v){const w=o[$n],k=w.data[t+8],he=Ed(k,w,s,null==l?Ls(k)&&Ou:l!=w&&!!(3&k.type),d&Co.Host&&v===k);return null!==he?fc(o,w,he,k):Ts}function Ed(t,o,s,l,d){const v=t.providerIndexes,w=o.data,k=1048575&v,R=t.directiveStart,he=v>>20,at=d?k+he:t.directiveEnd;for(let Dt=l?k:k+he;Dt<at;Dt++){const yt=w[Dt];if(Dt<R&&s===yt||Dt>=R&&yt.type===s)return Dt}if(d){const Dt=w[R];if(Dt&&gs(Dt)&&Dt.type===s)return R}return null}function fc(t,o,s,l){let d=t[s];const v=o.data;if(function yg(t){return t instanceof jc}(d)){const w=d;w.resolving&&function ea(t,o){throw o&&o.join(" > "),new qt(-200,t)}(function Wr(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():br(t)}(v[s]));const k=js(w.canSeeViewProviders);w.resolving=!0;const W=w.injectImpl?Po(w.injectImpl):null;Su(t,l,Co.Default);try{d=t[s]=w.factory(void 0,v,t,l),o.firstCreatePass&&s>=l.directiveStart&&function bp(t,o,s){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:v}=o.type.prototype;if(l){var w,k;const Ce=es(o);(null!==(w=s.preOrderHooks)&&void 0!==w?w:s.preOrderHooks=[]).push(t,Ce),(null!==(k=s.preOrderCheckHooks)&&void 0!==k?k:s.preOrderCheckHooks=[]).push(t,Ce)}var R,W,he;d&&(null!==(R=s.preOrderHooks)&&void 0!==R?R:s.preOrderHooks=[]).push(0-t,d),v&&((null!==(W=s.preOrderHooks)&&void 0!==W?W:s.preOrderHooks=[]).push(t,v),(null!==(he=s.preOrderCheckHooks)&&void 0!==he?he:s.preOrderCheckHooks=[]).push(t,v))}(s,v[s],o)}finally{null!==W&&Po(W),js(k),w.resolving=!1,vp()}}return d}function Dp(t,o,s){return!!(s[o+(t>>_p)]&1<<t)}function Hc(t,o){return!(t&Co.Self||t&Co.Host&&o)}class Ea{constructor(o,s){this._tNode=o,this._lView=s}get(o,s,l){return Ep(this._tNode,this._lView,o,Dn(l),s)}}function kp(){return new Ea(yi(),kn())}function Sp(t){return Lr(()=>{const o=t.prototype.constructor,s=o[no]||zh(o),l=Object.prototype;let d=Object.getPrototypeOf(t.prototype).constructor;for(;d&&d!==l;){const v=d[no]||zh(d);if(v&&v!==s)return v;d=Object.getPrototypeOf(d)}return v=>new v})}function zh(t){return _n(t)?()=>{const o=zh(Pt(t));return o&&o()}:la(t)}function Uh(t){const o=t[$n],s=o.type;return 2===s?o.declTNode:1===s?t[oi]:null}function Dd(t){return function Id(t,o){if("class"===o)return t.classes;if("style"===o)return t.styles;const s=t.attrs;if(s){const l=s.length;let d=0;for(;d<l;){const v=s[d];if($r(v))break;if(0===v)d+=2;else if("number"==typeof v)for(d++;d<l&&"string"==typeof s[d];)d++;else{if(v===o)return s[d+1];d+=2}}}return null}(yi(),t)}function Rp(t,o=null,s=null,l){const d=Og(t,o,s,l);return d.resolveInjectorInitializers(),d}function Og(t,o=null,s=null,l,d=new Set){const v=[s||je,fa(t)];return l=l||("object"==typeof t?void 0:so(t)),new Ns(v,o||Wi(),l||null,d)}class ns{static create(o,s){if(Array.isArray(o))return Rp({name:""},s,o,"");{var l;const d=null!==(l=o.name)&&void 0!==l?l:"";return Rp({name:d},o.parent,o.providers,d)}}}(pr=ns).THROW_IF_NOT_FOUND=Za,pr.NULL=new Rt,pr.\u0275prov=Ar({token:pr,providedIn:"any",factory:()=>Mt(gt)}),pr.__NG_ELEMENT_ID__=-1,new Ft("").__NG_ELEMENT_ID__=t=>{const o=yi();if(null===o)throw new qt(204,!1);if(2&o.type)return o.value;if(t&Co.Optional)return null;throw new qt(204,!1)};function Xh(t){return t.ngOriginalError}const Op=!0;let Wc=(()=>{var t;class o{}return(t=o).__NG_ELEMENT_ID__=Np,t.__NG_ENV_ID__=s=>s,o})();class P0 extends Wc{constructor(o){super(),this._lView=o}onDestroy(o){return md(this._lView,o),()=>function ip(t,o){if(null===t[ms])return;const s=t[ms].indexOf(o);-1!==s&&t[ms].splice(s,1)}(this._lView,o)}}function Np(){return new P0(kn())}let Gc=(()=>{var t;class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Xr.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=o).\u0275prov=Ar({token:t,providedIn:"root",factory:()=>new t}),o})();const vs=class Fg extends dr.B{constructor(o=!1){var s,l;super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=o,bl()&&(this.destroyRef=null!==(s=Wt(Wc,{optional:!0}))&&void 0!==s?s:void 0,this.pendingTasks=null!==(l=Wt(Gc,{optional:!0}))&&void 0!==l?l:void 0)}emit(o){const s=S(null);try{super.next(o)}finally{S(s)}}subscribe(o,s,l){let d=o,v=s||(()=>null),w=l;if(o&&"object"==typeof o){var k,R,W;const Ce=o;d=null===(k=Ce.next)||void 0===k?void 0:k.bind(Ce),v=null===(R=Ce.error)||void 0===R?void 0:R.bind(Ce),w=null===(W=Ce.complete)||void 0===W?void 0:W.bind(Ce)}this.__isAsync&&(v=this.wrapInTimeout(v),d&&(d=this.wrapInTimeout(d)),w&&(w=this.wrapInTimeout(w)));const he=super.subscribe({next:d,error:v,complete:w});return o instanceof Dr.yU&&o.add(he),he}wrapInTimeout(o){return s=>{var l;const d=null===(l=this.pendingTasks)||void 0===l?void 0:l.add();setTimeout(()=>{var v;o(s),void 0!==d&&(null===(v=this.pendingTasks)||void 0===v||v.remove(d))})}}};function Kh(...t){}function Yh(t){let o,s;function l(){t=Kh;try{void 0!==s&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(s),void 0!==o&&clearTimeout(o)}catch{}}return o=setTimeout(()=>{t(),l()}),"function"==typeof requestAnimationFrame&&(s=requestAnimationFrame(()=>{t(),l()})),()=>l()}function Lg(t){return queueMicrotask(()=>t()),()=>{t=Kh}}const Sd="isAngularZone",jo=Sd+"_ID";let N0=0;class Gi{constructor(o){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vs(!1),this.onMicrotaskEmpty=new vs(!1),this.onStable=new vs(!1),this.onError=new vs(!1);const{enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1,scheduleInRootZone:v=Op}=o;if(typeof Zone>"u")throw new qt(908,!1);Zone.assertZonePatched();const w=this;w._nesting=0,w._outer=w._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(w._inner=w._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(w._inner=w._inner.fork(Zone.longStackTraceZoneSpec)),w.shouldCoalesceEventChangeDetection=!d&&l,w.shouldCoalesceRunChangeDetection=d,w.callbackScheduled=!1,w.scheduleInRootZone=v,function $g(t){const o=()=>{!function Bg(t){function o(){Yh(()=>{t.callbackScheduled=!1,qh(t),t.isCheckStableRunning=!0,Ms(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{o()}):t._outer.run(()=>{o()}),qh(t))}(t)},s=N0++;t._inner=t._inner.fork({name:"angular",properties:{[Sd]:!0,[jo]:s,[jo+s]:!0},onInvokeTask:(l,d,v,w,k,R)=>{if(function zg(t){return Fp(t,"__ignore_ng_zone__")}(R))return l.invokeTask(v,w,k,R);try{return Ad(t),l.invokeTask(v,w,k,R)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===w.type||t.shouldCoalesceRunChangeDetection)&&o(),jg(t)}},onInvoke:(l,d,v,w,k,R,W)=>{try{return Ad(t),l.invoke(v,w,k,R,W)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function Md(t){return Fp(t,"__scheduler_tick__")}(R)&&o(),jg(t)}},onHasTask:(l,d,v,w)=>{l.hasTask(v,w),d===v&&("microTask"==w.change?(t._hasPendingMicrotasks=w.microTask,qh(t),Ms(t)):"macroTask"==w.change&&(t.hasPendingMacrotasks=w.macroTask))},onHandleError:(l,d,v,w)=>(l.handleError(v,w),t.runOutsideAngular(()=>t.onError.emit(w)),!1)})}(w)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Sd)}static assertInAngularZone(){if(!Gi.isInAngularZone())throw new qt(909,!1)}static assertNotInAngularZone(){if(Gi.isInAngularZone())throw new qt(909,!1)}run(o,s,l){return this._inner.run(o,s,l)}runTask(o,s,l,d){const v=this._inner,w=v.scheduleEventTask("NgZoneEvent: "+d,o,F0,Kh,Kh);try{return v.runTask(w,s,l)}finally{v.cancelTask(w)}}runGuarded(o,s,l){return this._inner.runGuarded(o,s,l)}runOutsideAngular(o){return this._outer.run(o)}}const F0={};function Ms(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qh(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function Ad(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function jg(t){t._nesting--,Ms(t)}class Td{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vs,this.onMicrotaskEmpty=new vs,this.onStable=new vs,this.onError=new vs}run(o,s,l){return o.apply(s,l)}runGuarded(o,s,l){return o.apply(s,l)}runOutsideAngular(o){return o()}runTask(o,s,l,d){return o.apply(s,l)}}function Fp(t,o){var s;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(s=t[0])||void 0===s||null===(s=s.data)||void 0===s?void 0:s[o])}class ll{constructor(){this._console=console}handleError(o){const s=this._findOriginalError(o);this._console.error("ERROR",o),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(o){let s=o&&Xh(o);for(;s&&Xh(s);)s=Xh(s);return s||null}}const Rd=new Ft("",{providedIn:"root",factory:()=>{const t=Wt(Gi),o=Wt(ll);return s=>t.runOutsideAngular(()=>o.handleError(s))}});function z0(){return pc(yi(),kn())}function pc(t,o){return new $u(ls(t,o))}let $u=(()=>{class o{constructor(l){this.nativeElement=l}}return o.__NG_ELEMENT_ID__=z0,o})();function Lp(t){return t instanceof $u?t.nativeElement:t}function Ug(){return this._results[Symbol.iterator]()}class Bp{get changes(){var o;return null!==(o=this._changes)&&void 0!==o?o:this._changes=new vs}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const s=Bp.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=Ug)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,s){return this._results.reduce(o,s)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,s){this.dirty=!1;const l=function Pi(t){return t.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function ci(t,o,s){if(t.length!==o.length)return!1;for(let l=0;l<t.length;l++){let d=t[l],v=o[l];if(s&&(d=s(d),v=s(v)),v!==d)return!1}return!0}(this._results,l,s))&&(this._results=l,this.length=l.length,this.last=l[this.length-1],this.first=l[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(o){this._onDirty=o}setDirty(){var o;this.dirty=!0,null===(o=this._onDirty)||void 0===o||o.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Kc(t){return!(128&~t.flags)}const Nd=new Map;let Hg=0;function bs(t){Nd.delete(t[il])}const qc="__ngContext__";function Oa(t,o){ra(o)?(t[qc]=o[il],function Qh(t){Nd.set(t[il],t)}(o)):t[qc]=o}function Vu(t){return Zg(t[as])}function zp(t){return Zg(t[ln])}function Zg(t){for(;null!==t&&!Ra(t);)t=t[ln];return t}let Hp;function rv(t){Hp=t}const Bd=new Ft("",{providedIn:"root",factory:()=>oa}),oa="ng",Wp=new Ft(""),nf=new Ft("",{providedIn:"platform",factory:()=>"unknown"}),ov=new Ft("",{providedIn:"root",factory:()=>{var t;return(null===(t=function mc(){if(void 0!==Hp)return Hp;if(typeof document<"u")return document;throw new qt(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let av=()=>null;function Xp(t,o,s=!1){return av(t,o,s)}const uf=new Ft("",{providedIn:"root",factory:()=>!1});let ff;function Qp(t){var o;return(null===(o=function Zu(){if(void 0===ff&&(ff=null,Rr.trustedTypes))try{ff=Rr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ff}())||void 0===o?void 0:o.createScriptURL(t))||t}class Jp{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${sn})`}}function dl(t){return t instanceof Jp?t.changingThisBreaksApplicationSecurity:t}function Qu(t,o){const s=function mv(t){return t instanceof Jp&&t.getTypeName()||null}(t);if(null!=s&&s!==o){if("ResourceURL"===s&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${s} (see ${sn})`)}return s===o}const Ps=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ji=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ji||{});function ys(t){const o=Il();return o?o.sanitize(Ji.URL,t)||"":Qu(t,"URL")?dl(t):function $l(t){return(t=String(t)).match(Ps)?t:"unsafe:"+t}(br(t))}function ia(t){const o=Il();if(o)return Qp(o.sanitize(Ji.RESOURCE_URL,t)||"");if(Qu(t,"ResourceURL"))return Qp(dl(t));throw new qt(904,!1)}function zs(t,o,s){return function hl(t,o){return"src"===o&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===o&&("base"===t||"link"===t)?ia:ys}(o,s)(t)}function Il(){const t=kn();return t&&t[ma].sanitizer}const xf=/^>|^->|<!--|-->|--!>|<!-$/g,vv=/(<|>)/g,im="\u200b$1\u200b";function Fi(t){return t instanceof Function?t():t}var sm=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(sm||{});let hb;function ed(t,o){return hb(t,o)}function Cf(t,o,s,l,d){if(null!=l){let v,w=!1;Ra(l)?v=l:ra(l)&&(w=!0,l=l[Oo]);const k=ri(l);0===t&&null!==s?null==d?Zd(o,s,k):xc(o,s,k,d||null,!0):1===t&&null!==s?xc(o,s,k,d||null,!0):2===t?function td(t,o,s){t.removeChild(null,o,s)}(o,k,w):3===t&&o.destroyNode(k),null!=v&&function fm(t,o,s,l,d){const v=s[ks];v!==ri(s)&&Cf(o,t,l,v,d);for(let k=Ti;k<s.length;k++){const R=s[k];hm(R[$n],R,t,o,l,v)}}(o,t,v,s,d)}}function pb(t,o){return t.createComment(function bv(t){return t.replace(xf,o=>o.replace(vv,im))}(o))}function wv(t,o,s){return t.createElement(o,s)}function vx(t,o){var s;null===(s=o[ma].changeDetectionScheduler)||void 0===s||s.notify(9),hm(t,o,o[Qr],2,null,null)}function bx(t,o){const s=t[ic],l=o[Di];(ra(l)||o[Yo]!==l[Di][Yo])&&(t[jr]|=yl.HasTransplantedViews),null===s?t[ic]=[o]:s.push(o)}function _v(t,o){const s=t[ic],l=s.indexOf(o);s.splice(l,1)}function tu(t,o){if(t.length<=Ti)return;const s=Ti+o,l=t[s];if(l){const d=l[Is];null!==d&&d!==t&&_v(d,l),o>0&&(t[s-1][ln]=l[ln]);const v=Aa(t,Ti+o);!function B_(t,o){vx(t,o),o[Oo]=null,o[oi]=null}(l[$n],l);const w=v[Bi];null!==w&&w.detachView(v[$n]),l[Di]=null,l[ln]=null,l[jr]&=-129}return l}function El(t,o){if(!(256&o[jr])){const s=o[Qr];s.destroyNode&&hm(t,o,s,3,null,null),function qd(t){let o=t[as];if(!o)return Cv(t[$n],t);for(;o;){let s=null;if(ra(o))s=o[as];else{const l=o[Ti];l&&(s=l)}if(!s){for(;o&&!o[ln]&&o!==t;)ra(o)&&Cv(o[$n],o),o=o[Di];null===o&&(o=t),ra(o)&&Cv(o[$n],o),s=o&&o[ln]}o=s}}(o)}}function Cv(t,o){if(256&o[jr])return;const s=S(null);try{o[jr]&=-129,o[jr]|=256,o[Ds]&&ft(o[Ds]),function yx(t,o){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let l=0;l<s.length;l+=2){const d=o[s[l]];if(!(d instanceof jc)){const v=s[l+1];if(Array.isArray(v))for(let w=0;w<v.length;w+=2){const k=d[v[w]],R=v[w+1];Ss(4,k,R);try{R.call(k)}finally{Ss(5,k,R)}}else{Ss(4,d,v);try{v.call(d)}finally{Ss(5,d,v)}}}}}(t,o),function mb(t,o){const s=t.cleanup,l=o[_o];if(null!==s)for(let v=0;v<s.length-1;v+=2)if("string"==typeof s[v]){const w=s[v+3];w>=0?l[w]():l[-w].unsubscribe(),v+=2}else s[v].call(l[s[v+1]]);null!==l&&(o[_o]=null);const d=o[ms];if(null!==d){o[ms]=null;for(let v=0;v<d.length;v++)(0,d[v])()}}(t,o),1===o[$n].type&&o[Qr].destroy();const l=o[Is];if(null!==l&&Ra(o[Di])){l!==o[Di]&&_v(l,o);const d=o[Bi];null!==d&&d.detachView(t)}bs(o)}finally{S(s)}}function cm(t,o,s){return function gb(t,o,s){let l=o;for(;null!==l&&168&l.type;)l=(o=l).parent;if(null===l)return s[Oo];{const{componentOffset:d}=l;if(d>-1){const{encapsulation:v}=t.data[l.directiveStart+d];if(v===pn.None||v===pn.Emulated)return null}return ls(l,s)}}(t,o.parent,s)}function xc(t,o,s,l,d){t.insertBefore(o,s,l,d)}function Zd(t,o,s){t.appendChild(o,s)}function nu(t,o,s,l,d){null!==l?xc(t,o,s,l,d):Zd(t,o,s)}function um(t,o){return t.parentNode(o)}function zl(t,o,s){return Iv(t,o,s)}let pl,Iv=function Ef(t,o,s){return 40&t.type?ls(t,s):null};function dm(t,o,s,l){const d=cm(t,l,o),v=o[Qr],k=zl(l.parent||o[oi],l,o);if(null!=d)if(Array.isArray(s))for(let R=0;R<s.length;R++)nu(v,d,s[R],k,!1);else nu(v,d,s,k,!1);void 0!==pl&&pl(v,l,o,s,d)}function Dl(t,o){if(null!==o){const s=o.type;if(3&s)return ls(o,t);if(4&s)return Ev(-1,t[o.index]);if(8&s){const l=o.child;if(null!==l)return Dl(t,l);{const d=t[o.index];return Ra(d)?Ev(-1,d):ri(d)}}if(128&s)return Dl(t,o.next);if(32&s)return ed(o,t)()||ri(t[o.index]);{const l=Qd(t,o);return null!==l?Array.isArray(l)?l[0]:Dl(wl(t[Yo]),l):Dl(t,o.next)}}return null}function Qd(t,o){return null!==o?t[Yo][oi].projection[o.projection]:null}function Ev(t,o){const s=Ti+t+1;if(s<o.length){const l=o[s],d=l[$n].firstChild;if(null!==d)return Dl(l,d)}return o[ks]}function Jd(t,o,s,l,d,v,w){for(;null!=s;){if(128===s.type){s=s.next;continue}const k=l[s.index],R=s.type;if(w&&0===o&&(k&&Oa(ri(k),l),s.flags|=2),32&~s.flags)if(8&R)Jd(t,o,s.child,l,d,v,!1),Cf(o,t,d,k,v);else if(32&R){const W=ed(s,l);let he;for(;he=W();)Cf(o,t,d,he,v);Cf(o,t,d,k,v)}else 16&R?bb(t,o,l,s,d,v):Cf(o,t,d,k,v);s=w?s.projectionNext:s.next}}function hm(t,o,s,l,d,v){Jd(s,l,t.firstChild,o,d,v,!1)}function bb(t,o,s,l,d,v){const w=s[Yo],R=w[oi].projection[l.projection];if(Array.isArray(R))for(let W=0;W<R.length;W++)Cf(o,t,d,R[W],v);else{let W=R;const he=w[Di];Kc(l)&&(W.flags|=128),Jd(t,o,W,he,d,v,!0)}}function Dv(t,o,s){""===s?t.removeAttribute(o,"class"):t.setAttribute(o,"class",s)}function kv(t,o,s){const{mergedAttrs:l,classes:d,styles:v}=s;null!==l&&wr(t,o,l),null!==d&&Dv(t,o,d),null!==v&&function yb(t,o,s){t.setAttribute(o,"style",s)}(t,o,v)}const Ro={};function Cx(t=1){xb(Bo(),kn(),Pa()+t,!1)}function xb(t,o,s,l){if(!l)if(3&~o[jr]){const v=t.preOrderHooks;null!==v&&Mu(o,v,0,s)}else{const v=t.preOrderCheckHooks;null!==v&&xd(o,v,s)}sl(s)}function ru(t,o=Co.Default){const s=kn();return null===s?Mt(t,o):Ep(yi(),s,Pt(t),o)}function Sv(){throw new Error("invalid")}function Av(t,o,s,l,d,v){const w=S(null);try{let k=null;d&Wn.SignalBased&&(k=o[l][q]),null!==k&&void 0!==k.transformFn&&(v=k.transformFn(v)),d&Wn.HasDecoratorInputTransform&&(v=t.inputTransforms[l].call(o,v)),null!==t.setInput?t.setInput(o,k,v,s,l):$i(o,k,l,v)}finally{S(w)}}function Df(t,o,s,l,d,v,w,k,R,W,he){const Ce=o.blueprint.slice();return Ce[Oo]=d,Ce[jr]=204|l,(null!==W||t&&2048&t[jr])&&(Ce[jr]|=2048),op(Ce),Ce[Di]=Ce[Gs]=t,Ce[ui]=s,Ce[ma]=w||t&&t[ma],Ce[Qr]=k||t&&t[Qr],Ce[Ai]=R||t&&t[Ai]||null,Ce[oi]=v,Ce[il]=function Wg(){return Hg++}(),Ce[Ko]=he,Ce[Xs]=W,Ce[Yo]=2==o.type?t[Yo]:Ce,Ce}function ou(t,o,s,l,d){let v=t.data[o];if(null===v)v=function ka(t,o,s,l,d){const v=vd(),w=bd(),R=t.data[o]=function Ex(t,o,s,l,d,v){let w=o?o.injectorIndex:-1,k=0;return Lc()&&(k|=128),{type:s,index:l,insertBeforeIndex:null,injectorIndex:w,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:k,providerIndexes:0,value:d,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?v:v&&v.parent,s,o,l,d);return null===t.firstChild&&(t.firstChild=R),null!==v&&(w?null==v.child&&null!==R.parent&&(v.child=R):null===v.next&&(v.next=R,R.prev=v)),R}(t,o,s,l,d),function fp(){return Eo.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=s,v.value=l,v.attrs=d;const w=function Ll(){const t=Eo.lFrame,o=t.currentTNode;return t.isParent?o:o.parent}();v.injectorIndex=null===w?-1:w.injectorIndex}return qs(v,!0),v}function kf(t,o,s,l){if(0===s)return-1;const d=o.length;for(let v=0;v<s;v++)o.push(l),t.blueprint.push(l),t.data.push(null);return d}function pm(t,o,s,l,d){const v=Pa(),w=2&l;try{sl(-1),w&&o.length>Hr&&xb(t,o,Hr,!1),Ss(w?2:0,d),s(l,d)}finally{sl(v),Ss(w?3:1,d)}}function Sf(t,o,s){if(Pc(o)){const l=S(null);try{const v=o.directiveEnd;for(let w=o.directiveStart;w<v;w++){const k=t.data[w];k.contentQueries&&k.contentQueries(1,s[w],w)}}finally{S(l)}}}function Tv(t,o,s){lp()&&(function Sb(t,o,s,l){const d=s.directiveStart,v=s.directiveEnd;Ls(s)&&function vm(t,o,s){const l=ls(o,t),d=mm(s);let w=16;s.signals?w=4096:s.onPush&&(w=64);const k=eh(t,Df(t,d,null,w,l,o,null,t[ma].rendererFactory.createRenderer(l,s),null,null,null));t[o.index]=k}(o,s,t.data[d+s.componentOffset]),t.firstCreatePass||Uc(s,o),Oa(l,o);const w=s.initialInputs;for(let k=d;k<v;k++){const R=t.data[k],W=fc(o,t,k,s);Oa(W,o),null!==w&&bm(0,k-d,W,R,0,w),gs(R)&&(Ia(s.index,o)[ui]=fc(o,t,k,s))}}(t,o,s,ls(s,o)),!(64&~s.flags)&&Ab(t,o,s))}function Xa(t,o,s=ls){const l=o.localNames;if(null!==l){let d=o.index+1;for(let v=0;v<l.length;v+=2){const w=l[v+1],k=-1===w?s(o,t):t[w];t[d++]=k}}}function mm(t){const o=t.tView;return null===o||o.incompleteFirstPass?t.tView=ml(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):o}function ml(t,o,s,l,d,v,w,k,R,W,he){const Ce=Hr+l,at=Ce+d,Dt=function nd(t,o){const s=[];for(let l=0;l<o;l++)s.push(l<t?null:Ro);return s}(Ce,at),yt="function"==typeof W?W():W;return Dt[$n]={type:t,blueprint:Dt,template:s,queries:null,viewQuery:k,declTNode:o,data:Dt.slice().fill(null,Ce),bindingStartIndex:Ce,expandoStartIndex:at,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:R,consts:yt,incompleteFirstPass:!1,ssrId:he}}let Cb=()=>null;function Eb(t,o,s,l,d){for(let w in o){var v;if(!o.hasOwnProperty(w))continue;const k=o[w];if(void 0===k)continue;null!==(v=l)&&void 0!==v||(l={});let R,W=Wn.None;Array.isArray(k)?(R=k[0],W=k[1]):R=k;let he=w;if(null!==d){if(!d.hasOwnProperty(w))continue;he=d[w]}0===t?Mv(l,s,he,R,W):Mv(l,s,he,R)}return l}function Mv(t,o,s,l,d){let v;t.hasOwnProperty(s)?(v=t[s]).push(o,l):v=t[s]=[o,l],void 0!==d&&v.push(d)}function Us(t,o,s,l,d,v,w,k){const R=ls(o,s);let he,W=o.inputs;!k&&null!=W&&(he=W[l])?(zv(t,s,he,l,d),Ls(o)&&function Db(t,o){const s=Ia(o,t);16&s[jr]||(s[jr]|=64)}(s,o.index)):3&o.type&&(l=function Rv(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(l),d=null!=w?w(d,o.value||"",l):d,v.setProperty(R,l,d))}function La(t,o,s,l){if(lp()){const d=null===l?null:{"":-1},v=function Tb(t,o){const s=t.directiveRegistry;let l=null,d=null;if(s)for(let w=0;w<s.length;w++){const k=s[w];if(Ql(o,k.selectors,!1))if(l||(l=[]),gs(k))if(null!==k.findHostDirectiveDefs){const R=[];d=d||new Map,k.findHostDirectiveDefs(k,R,d),l.unshift(...R,k),Nv(t,o,R.length)}else l.unshift(k),Nv(t,o,0);else{var v;d=d||new Map,null===(v=k.findHostDirectiveDefs)||void 0===v||v.call(k,k,l,d),l.push(k)}}return null===l?null:[l,d]}(t,s);let w,k;null===v?w=k=null:[w,k]=v,null!==w&&Af(t,o,s,w,d,k),d&&function V_(t,o,s){if(o){const l=t.localNames=[];for(let d=0;d<o.length;d+=2){const v=s[o[d+1]];if(null==v)throw new qt(-301,!1);l.push(o[d],v)}}}(s,l,d)}s.mergedAttrs=Jo(s.mergedAttrs,s.attrs)}function Af(t,o,s,l,d,v){for(let Ce=0;Ce<l.length;Ce++)$h(Uc(s,o),t,l[Ce].type);!function tl(t,o,s){t.flags|=1,t.directiveStart=o,t.directiveEnd=o+s,t.providerIndexes=o}(s,t.data.length,l.length);for(let Ce=0;Ce<l.length;Ce++){const at=l[Ce];at.providersResolver&&at.providersResolver(at)}let w=!1,k=!1,R=kf(t,o,l.length,null);for(let Ce=0;Ce<l.length;Ce++){const at=l[Ce];s.mergedAttrs=Jo(s.mergedAttrs,at.hostAttrs),Fv(t,s,o,R,at),wc(R,at,d),null!==at.contentQueries&&(s.flags|=4),(null!==at.hostBindings||null!==at.hostAttrs||0!==at.hostVars)&&(s.flags|=64);const Dt=at.type.prototype;var W,he;!w&&(Dt.ngOnChanges||Dt.ngOnInit||Dt.ngDoCheck)&&((null!==(W=t.preOrderHooks)&&void 0!==W?W:t.preOrderHooks=[]).push(s.index),w=!0),k||!Dt.ngOnChanges&&!Dt.ngDoCheck||((null!==(he=t.preOrderCheckHooks)&&void 0!==he?he:t.preOrderCheckHooks=[]).push(s.index),k=!0),R++}!function gm(t,o,s){const d=o.directiveEnd,v=t.data,w=o.attrs,k=[];let R=null,W=null;for(let he=o.directiveStart;he<d;he++){const Ce=v[he],at=s?s.get(Ce):null,yt=at?at.outputs:null;R=Eb(0,Ce.inputs,he,R,at?at.inputs:null),W=Eb(1,Ce.outputs,he,W,yt);const yn=null===R||null===w||ua(o)?null:Lv(R,he,w);k.push(yn)}null!==R&&(R.hasOwnProperty("class")&&(o.flags|=8),R.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=k,o.inputs=R,o.outputs=W}(t,s,v)}function Ab(t,o,s){const l=s.directiveStart,d=s.directiveEnd,v=s.index,w=function hg(){return Eo.lFrame.currentDirectiveIndex}();try{sl(v);for(let k=l;k<d;k++){const R=t.data[k],W=o[k];Mh(k),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&U_(R,W)}}finally{sl(-1),Mh(w)}}function U_(t,o){null!==t.hostBindings&&t.hostBindings(1,o)}function Nv(t,o,s){var l;o.componentOffset=s,(null!==(l=t.components)&&void 0!==l?l:t.components=[]).push(o.index)}function wc(t,o,s){if(s){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)s[o.exportAs[l]]=t;gs(o)&&(s[""]=t)}}function Fv(t,o,s,l,d){t.data[l]=d;const v=d.factory||(d.factory=la(d.type)),w=new jc(v,gs(d),ru);t.blueprint[l]=w,s[l]=w,function Ov(t,o,s,l,d){const v=d.hostBindings;if(v){let w=t.hostBindingOpCodes;null===w&&(w=t.hostBindingOpCodes=[]);const k=~o.index;(function kb(t){let o=t.length;for(;o>0;){const s=t[--o];if("number"==typeof s&&s<0)return s}return 0})(w)!=k&&w.push(k),w.push(s,l,v)}}(t,o,l,kf(t,s,d.hostVars,Ro),d)}function Ba(t,o,s,l,d,v){const w=ls(t,o);!function kl(t,o,s,l,d,v,w){if(null==v)t.removeAttribute(o,d,s);else{const k=null==w?br(v):w(v,l||"",d);t.setAttribute(o,d,k,s)}}(o[Qr],w,v,t.value,s,l,d)}function bm(t,o,s,l,d,v){const w=v[o];if(null!==w)for(let k=0;k<w.length;)Av(l,s,w[k++],w[k++],w[k++],w[k++])}function Lv(t,o,s){let l=null,d=0;for(;d<s.length;){const v=s[d];if(0!==v)if(5!==v){if("number"==typeof v)break;if(t.hasOwnProperty(v)){null===l&&(l=[]);const w=t[v];for(let k=0;k<w.length;k+=3)if(w[k]===o){l.push(v,w[k+1],w[k+2],s[d+1]);break}}d+=2}else d+=2;else d+=4}return l}function Bv(t,o,s,l){return[t,!0,0,o,null,l,null,s,null,null]}function ym(t,o){const s=t.contentQueries;if(null!==s){const l=S(null);try{for(let d=0;d<s.length;d+=2){const w=s[d+1];if(-1!==w){const k=t.data[w];uc(s[d]),k.contentQueries(2,o[w],w)}}}finally{S(l)}}}function eh(t,o){return t[as]?t[Ol][ln]=o:t[as]=o,t[Ol]=o,o}function Ul(t,o,s){uc(0);const l=S(null);try{o(t,s)}finally{S(l)}}function $v(t){var o;return null!==(o=t[_o])&&void 0!==o?o:t[_o]=[]}function Mb(t){var o;return null!==(o=t.cleanup)&&void 0!==o?o:t.cleanup=[]}function Tf(t,o){const s=t[Ai],l=s?s.get(ll,null):null;l&&l.handleError(o)}function zv(t,o,s,l,d){for(let v=0;v<s.length;){const w=s[v++],k=s[v++],R=s[v++];Av(t.data[w],o[w],l,k,R,d)}}function Hl(t,o){const s=Ia(o,t),l=s[$n];!function kx(t,o){for(let s=o.length;s<t.blueprint.length;s++)o.push(t.blueprint[s])}(l,s);const d=s[Oo];null!==d&&null===s[Ko]&&(s[Ko]=Xp(d,s[Ai])),Uv(l,s,s[ui])}function Uv(t,o,s){Rh(o);try{var l;const d=t.viewQuery;null!==d&&Ul(1,d,s);const v=t.template;null!==v&&pm(t,o,v,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),null===(l=o[Bi])||void 0===l||l.finishViewCreation(t),t.staticContentQueries&&ym(t,o),t.staticViewQueries&&Ul(2,t.viewQuery,s);const w=t.components;null!==w&&function Rb(t,o){for(let s=0;s<o.length;s++)Hl(t,o[s])}(o,w)}catch(d){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),d}finally{o[jr]&=-5,Oh()}}function rd(t,o,s,l){const d=S(null);try{var v,w,k;const R=o.tView,Ce=Df(t,R,s,4096&t[jr]?4096:16,null,o,null,null,null!==(v=null==l?void 0:l.injector)&&void 0!==v?v:null,null!==(w=null==l?void 0:l.embeddedViewInjector)&&void 0!==w?w:null,null!==(k=null==l?void 0:l.dehydratedView)&&void 0!==k?k:null);Ce[Is]=t[o.index];const Dt=t[Bi];return null!==Dt&&(Ce[Bi]=Dt.createEmbeddedView(R)),Uv(R,Ce,s),Ce}finally{S(d)}}function od(t,o){return!o||null===o.firstChild||Kc(t)}function th(t,o,s,l=!0){const d=o[$n];if(function If(t,o,s,l){const d=Ti+l,v=s.length;l>0&&(s[d-1][ln]=o),l<v-Ti?(o[ln]=s[d],zi(s,Ti+l,o)):(s.push(o),o[ln]=null),o[Di]=s;const w=o[Is];null!==w&&s!==w&&bx(w,o);const k=o[Bi];null!==k&&k.insertView(t),al(o),o[jr]|=128}(d,o,t,s),l){const w=Ev(s,t),k=o[Qr],R=um(k,t[ks]);null!==R&&function $_(t,o,s,l,d,v){l[Oo]=d,l[oi]=o,hm(t,l,s,1,d,v)}(d,t[oi],k,o,R,w)}const v=o[Ko];null!==v&&null!==v.firstChild&&(v.firstChild=null)}function nh(t,o,s,l,d=!1){for(;null!==s;){if(128===s.type){s=d?s.projectionNext:s.next;continue}const v=o[s.index];null!==v&&l.push(ri(v)),Ra(v)&&Sx(v,l);const w=s.type;if(8&w)nh(t,o,s.child,l);else if(32&w){const k=ed(s,o);let R;for(;R=k();)l.push(R)}else if(16&w){const k=Qd(o,s);if(Array.isArray(k))l.push(...k);else{const R=wl(o[Yo]);nh(R[$n],R,k,l,!0)}}s=d?s.projectionNext:s.next}return l}function Sx(t,o){for(let s=Ti;s<t.length;s++){const l=t[s],d=l[$n].firstChild;null!==d&&nh(l[$n],l,d,o)}t[ks]!==t[Oo]&&o.push(t[ks])}let Ob=[];const Tx={..._t,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{pd(t.lView)},consumerOnSignalRead(){this.lView[Ds]=this}},Mx={..._t,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let o=wl(t.lView);for(;o&&!Nb(o[$n]);)o=wl(o);o&&_h(o)},consumerOnSignalRead(){this.lView[Ds]=this}};function Nb(t){return 2!==t.type}const Rx=100;function xm(t,o=!0,s=0){const l=t[ma],d=l.rendererFactory;var w;null===(w=d.begin)||void 0===w||w.call(d);try{!function Fb(t,o){const s=Ah();try{ts(!0),Wv(t,o);let l=0;for(;fd(t);){if(l===Rx)throw new qt(103,!1);l++,Wv(t,1)}}finally{ts(s)}}(t,s)}catch(W){throw o&&Tf(t,W),W}finally{var k,R;null===(k=d.end)||void 0===k||k.call(d),null===(R=l.inlineEffectRunner)||void 0===R||R.flush()}}function Px(t,o,s,l){var d;const v=o[jr];if(!(256&~v))return;null===(d=o[ma].inlineEffectRunner)||void 0===d||d.flush(),Rh(o);let R=!0,W=null,he=null;Nb(t)?(he=function Hv(t){var o;return null!==(o=t[Ds])&&void 0!==o?o:function id(t){var o;const s=null!==(o=Ob.pop())&&void 0!==o?o:Object.create(Tx);return s.lView=t,s}(t)}(o),W=Fe(he)):null===function Te(){return g}()?(R=!1,he=function H_(t){var o;const s=null!==(o=t[Ds])&&void 0!==o?o:Object.create(Mx);return s.lView=t,s}(o),W=Fe(he)):o[Ds]&&(ft(o[Ds]),o[Ds]=null);try{op(o),function dg(t){return Eo.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&pm(t,o,s,2,l);const Ce=!(3&~v);if(Ce){const yt=t.preOrderCheckHooks;null!==yt&&xd(o,yt,null)}else{const yt=t.preOrderHooks;null!==yt&&Mu(o,yt,0,null),Ru(o,0)}if(function Ox(t){for(let o=Vu(t);null!==o;o=zp(o)){if(!(o[jr]&yl.HasTransplantedViews))continue;const s=o[ic];for(let l=0;l<s.length;l++)_h(s[l])}}(o),Lb(o,0),null!==t.contentQueries&&ym(t,o),Ce){const yt=t.contentCheckHooks;null!==yt&&xd(o,yt)}else{const yt=t.contentHooks;null!==yt&&Mu(o,yt,1),Ru(o,1)}!function wb(t,o){const s=t.hostBindingOpCodes;if(null!==s)try{for(let l=0;l<s.length;l++){const d=s[l];if(d<0)sl(~d);else{const v=d,w=s[++l],k=s[++l];pp(w,v),k(2,o[v])}}}finally{sl(-1)}}(t,o);const at=t.components;null!==at&&Gv(o,at,0);const Dt=t.viewQuery;if(null!==Dt&&Ul(2,Dt,l),Ce){const yt=t.viewCheckHooks;null!==yt&&xd(o,yt)}else{const yt=t.viewHooks;null!==yt&&Mu(o,yt,2),Ru(o,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o[Fs]){for(const yt of o[Fs])yt();o[Fs]=null}o[jr]&=-73}catch(Ce){throw pd(o),Ce}finally{null!==he&&(ve(he,W),R&&function Ax(t){t.lView[Ds]!==t&&(t.lView=null,Ob.push(t))}(he)),Oh()}}function Lb(t,o){for(let s=Vu(t);null!==s;s=zp(s))for(let l=Ti;l<s.length;l++)_m(s[l],o)}function Nx(t,o,s){_m(Ia(o,t),s)}function _m(t,o){Du(t)&&Wv(t,o)}function Wv(t,o){const l=t[$n],d=t[jr],v=t[Ds];let w=!!(0===o&&16&d);if(w||(w=!!(64&d&&0===o)),w||(w=!!(1024&d)),w||(w=!(null==v||!v.dirty||!wt(v))),w||(w=!1),v&&(v.dirty=!1),t[jr]&=-9217,w)Px(l,t,l.template,t[ui]);else if(8192&d){Lb(t,1);const k=l.components;null!==k&&Gv(t,k,1)}}function Gv(t,o,s){for(let l=0;l<o.length;l++)Nx(t,o[l],s)}function rh(t,o){var s;const l=Ah()?64:1088;for(null===(s=t[ma].changeDetectionScheduler)||void 0===s||s.notify(o);t;){t[jr]|=l;const d=wl(t);if(xl(t)&&!d)return t;t=d}return null}class Mf{get rootNodes(){const o=this._lView,s=o[$n];return nh(s,o,s.firstChild,[])}constructor(o,s,l=!0){this._lView=o,this._cdRefInjectingView=s,this.notifyErrorHandler=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ui]}set context(o){this._lView[ui]=o}get destroyed(){return!(256&~this._lView[jr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Di];if(Ra(o)){const s=o[8],l=s?s.indexOf(this):-1;l>-1&&(tu(o,l),Aa(s,l))}this._attachedToViewContainer=!1}El(this._lView[$n],this._lView)}onDestroy(o){md(this._lView,o)}markForCheck(){rh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[jr]&=-129}reattach(){al(this._lView),this._lView[jr]|=128}detectChanges(){this._lView[jr]|=1024,xm(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new qt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const o=xl(this._lView),s=this._lView[Is];null!==s&&!o&&_v(s,this._lView),vx(this._lView[$n],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new qt(902,!1);this._appRef=o;const s=xl(this._lView),l=this._lView[Is];null!==l&&!s&&bx(l,this._lView),al(this._lView)}}let Rf=(()=>{class o{}return o.__NG_ELEMENT_ID__=W_,o})();const Fx=Rf,Lx=class extends Fx{constructor(o,s,l){super(),this._declarationLView=o,this._declarationTContainer=s,this.elementRef=l}get ssrId(){var o;return(null===(o=this._declarationTContainer.tView)||void 0===o?void 0:o.ssrId)||null}createEmbeddedView(o,s){return this.createEmbeddedViewImpl(o,s)}createEmbeddedViewImpl(o,s,l){const d=rd(this._declarationLView,this._declarationTContainer,o,{embeddedViewInjector:s,dehydratedView:l});return new Mf(d)}};function W_(){return Cm(yi(),kn())}function Cm(t,o){return 4&t.type?new Lx(o,t,pc(t,o)):null}let gw=()=>null;function uh(t,o){return gw(t,o)}class Wf{}const Mm=new Ft("",{providedIn:"root",factory:()=>!1}),vw=new Ft(""),ey=new Ft("");class J_{}class ty{}class t1{resolveComponentFactory(o){throw function e1(t){const o=Error(`No component factory found for ${so(t)}.`);return o.ngComponent=t,o}(o)}}class Rm{}Rm.NULL=new t1;class ry{}let n1=(()=>{class o{constructor(){this.destroyNode=null}}return o.__NG_ELEMENT_ID__=()=>function r1(){const t=kn(),s=Ia(yi().index,t);return(ra(s)?s:t)[Qr]}(),o})(),oy=(()=>{var t;class o{}return(t=o).\u0275prov=Ar({token:t,providedIn:"root",factory:()=>null}),o})();function Xl(t){return!!ha(t)}function fh(t,o,s){let l=s?t.styles:null,d=s?t.classes:null,v=0;if(null!==o)for(let w=0;w<o.length;w++){const k=o[w];"number"==typeof k?v=k:1==v?d=Zt(d,k):2==v&&(l=Zt(l,k+": "+o[++w]+";"))}s?t.styles=l:t.stylesWithoutHost=l,s?t.classes=d:t.classesWithoutHost=d}class r0 extends Rm{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const s=cr(o);return new ph(s,this.ngModule)}}function sy(t,o){const s=[];for(const l in t){if(!t.hasOwnProperty(l))continue;const d=t[l];if(void 0===d)continue;const v=Array.isArray(d),w=v?d[0]:d;s.push(o?{propName:w,templateName:l,isSignal:!!((v?d[1]:Wn.None)&Wn.SignalBased)}:{propName:w,templateName:l})}return s}class ph extends ty{get inputs(){const o=this.componentDef,s=o.inputTransforms,l=sy(o.inputs,!0);if(null!==s)for(const d of l)s.hasOwnProperty(d.propName)&&(d.transform=s[d.propName]);return l}get outputs(){return sy(this.componentDef.outputs,!1)}constructor(o,s){super(),this.componentDef=o,this.ngModule=s,this.componentType=o.type,this.selector=function Nr(t){return t.map(On).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!s}create(o,s,l,d){const v=S(null);try{var k;let R=(d=d||this.ngModule)instanceof Qa?d:null===(k=d)||void 0===k?void 0:k.injector;R&&null!==this.componentDef.getStandaloneInjector&&(R=this.componentDef.getStandaloneInjector(R)||R);const W=R?new zc(o,R):o,he=W.get(ry,null);if(null===he)throw new qt(407,!1);const Dt={rendererFactory:he,sanitizer:W.get(oy,null),inlineEffectRunner:null,changeDetectionScheduler:W.get(Wf,null)},yt=he.createRenderer(null,this.componentDef),yn=this.componentDef.selectors[0][0]||"div",zn=l?function _b(t,o,s,l){const v=l.get(uf,!1)||s===pn.ShadowDom,w=t.selectRootElement(o,v);return function Ix(t){Cb(t)}(w),w}(yt,l,this.componentDef.encapsulation,W):wv(yt,yn,function bw(t){const o=t.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(yn));let rr=512;this.componentDef.signals?rr|=4096:this.componentDef.onPush||(rr|=16);let En=null;null!==zn&&(En=Xp(zn,W,!0));const xo=ml(0,null,null,1,0,null,null,null,null,null,null),Ao=Df(null,xo,null,rr,null,null,Dt,yt,W,null,En);Rh(Ao);let Xi,hs,Vs=null;try{const Al=this.componentDef;let tp,O_=null;Al.findHostDirectiveDefs?(tp=[],O_=new Map,Al.findHostDirectiveDefs(Al,tp,O_),tp.push(Al)):tp=[Al];const lM=function xw(t,o){const s=t[$n],l=Hr;return t[l]=o,ou(s,l,2,"#host",null)}(Ao,zn);Vs=function ly(t,o,s,l,d,v,w){const k=d[$n];!function o1(t,o,s,l){for(const d of t)o.mergedAttrs=Jo(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(fh(o,o.mergedAttrs,!0),null!==s&&kv(l,s,o))}(l,t,o,w);let R=null;null!==o&&(R=Xp(o,d[Ai]));const W=v.rendererFactory.createRenderer(o,s);let he=16;s.signals?he=4096:s.onPush&&(he=64);const Ce=Df(d,mm(s),null,he,d[t.index],t,v,W,null,null,R);return k.firstCreatePass&&Nv(k,t,l.length-1),eh(d,Ce),d[t.index]=Ce}(lM,zn,Al,tp,Ao,Dt,yt),hs=Eu(xo,Hr),zn&&function s1(t,o,s,l){if(l)wr(t,s,["ng-version","18.2.10"]);else{const{attrs:d,classes:v}=function wi(t){const o=[],s=[];let l=1,d=2;for(;l<t.length;){let v=t[l];if("string"==typeof v)2===d?""!==v&&o.push(v,t[++l]):8===d&&s.push(v);else{if(!hi(d))break;d=v}l++}return{attrs:o,classes:s}}(o.selectors[0]);d&&wr(t,s,d),v&&v.length>0&&Dv(t,s,v.join(" "))}}(yt,Al,zn,l),void 0!==s&&function l1(t,o,s){const l=t.projection=[];for(let d=0;d<o.length;d++){const v=s[d];l.push(null!=v?Array.from(v):null)}}(hs,this.ngContentSelectors,s),Xi=function a1(t,o,s,l,d,v){const w=yi(),k=d[$n],R=ls(w,d);Af(k,d,w,s,null,l);for(let he=0;he<s.length;he++)Oa(fc(d,k,w.directiveStart+he,w),d);Ab(k,d,w),R&&Oa(R,d);const W=fc(d,k,w.directiveStart+w.componentOffset,w);if(t[ui]=d[ui]=W,null!==v)for(const he of v)he(W,o);return Sf(k,w,d),W}(Vs,Al,tp,O_,Ao,[c1]),Uv(xo,Ao,null)}catch(Al){throw null!==Vs&&bs(Vs),bs(Ao),Al}finally{Oh()}return new yw(this.componentType,Xi,pc(hs,Ao),Ao,hs)}finally{S(v)}}}class yw extends J_{constructor(o,s,l,d,v){super(),this.location=l,this._rootLView=d,this._tNode=v,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new Mf(d,void 0,!1),this.componentType=o}setInput(o,s){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[o])){var v;if(null!==(v=this.previousInputValues)&&void 0!==v||(this.previousInputValues=new Map),this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),s))return;const w=this._rootLView;zv(w[$n],w,d,o,s),this.previousInputValues.set(o,s),rh(Ia(this._tNode.index,w),1)}}get injector(){return new Ea(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function c1(){const t=yi();Tu(kn()[$n],t)}let mh=(()=>{class o{}return o.__NG_ELEMENT_ID__=u1,o})();function u1(){return uy(yi(),kn())}const d1=mh,ww=class extends d1{constructor(o,s,l){super(),this._lContainer=o,this._hostTNode=s,this._hostLView=l}get element(){return pc(this._hostTNode,this._hostLView)}get injector(){return new Ea(this._hostTNode,this._hostLView)}get parentInjector(){const o=Nu(this._hostTNode,this._hostLView);if(Lh(o)){const s=Pu(o,this._hostLView),l=Cd(o);return new Ea(s[$n].data[l+8],s)}return new Ea(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const s=cy(this._lContainer);return null!==s&&s[o]||null}get length(){return this._lContainer.length-Ti}createEmbeddedView(o,s,l){let d,v;"number"==typeof l?d=l:null!=l&&(d=l.index,v=l.injector);const w=uh(this._lContainer,o.ssrId),k=o.createEmbeddedViewImpl(s||{},v,w);return this.insertImpl(k,d,od(this._hostTNode,w)),k}createComponent(o,s,l,d,v){var w,k,R;const W=o&&!function Yn(t){return"function"==typeof t}(o);let he;if(W)he=s;else{const rr=s||{};he=rr.index,l=rr.injector,d=rr.projectableNodes,v=rr.environmentInjector||rr.ngModuleRef}const Ce=W?o:new ph(cr(o)),at=l||this.parentInjector;if(!v&&null==Ce.ngModule){const En=(W?at:this.parentInjector).get(Qa,null);En&&(v=En)}const Dt=cr(null!==(w=Ce.componentType)&&void 0!==w?w:{}),yt=uh(this._lContainer,null!==(k=null==Dt?void 0:Dt.id)&&void 0!==k?k:null),yn=null!==(R=null==yt?void 0:yt.firstChild)&&void 0!==R?R:null,zn=Ce.create(at,d,yn,v);return this.insertImpl(zn.hostView,he,od(this._hostTNode,yt)),zn}insert(o,s){return this.insertImpl(o,s,!0)}insertImpl(o,s,l){const d=o._lView;if(function ig(t){return Ra(t[Di])}(d)){const k=this.indexOf(o);if(-1!==k)this.detach(k);else{const R=d[Di],W=new ww(R,R[oi],R[Di]);W.detach(W.indexOf(o))}}const v=this._adjustIndex(s),w=this._lContainer;return th(w,d,v,l),o.attachToViewContainerRef(),zi(o0(w),v,o),o}move(o,s){return this.insert(o,s)}indexOf(o){const s=cy(this._lContainer);return null!==s?s.indexOf(o):-1}remove(o){const s=this._adjustIndex(o,-1),l=tu(this._lContainer,s);l&&(Aa(o0(this._lContainer),s),El(l[$n],l))}detach(o){const s=this._adjustIndex(o,-1),l=tu(this._lContainer,s);return l&&null!=Aa(o0(this._lContainer),s)?new Mf(l):null}_adjustIndex(o,s=0){return null==o?this.length+s:o}};function cy(t){return t[8]}function o0(t){return t[8]||(t[8]=[])}function uy(t,o){let s;const l=o[t.index];return Ra(l)?s=l:(s=Bv(l,o,null,t),o[t.index]=s,eh(o,s)),n(s,o,t,l),new ww(s,t,o)}let n=function a(t,o,s,l){if(t[ks])return;let d;d=8&s.type?ri(l):function i(t,o){const s=t[Qr],l=s.createComment(""),d=ls(o,t);return xc(s,um(s,d),l,function Ii(t,o){return t.nextSibling(o)}(s,d),!1),l}(o,s),t[ks]=d},e=()=>!1;class m{constructor(o){this.queryList=o,this.matches=null}clone(){return new m(this.queryList)}setDirty(){this.queryList.setDirty()}}class b{constructor(o=[]){this.queries=o}createEmbeddedView(o){const s=o.queries;if(null!==s){const l=null!==o.contentQueries?o.contentQueries[0]:s.length,d=[];for(let v=0;v<l;v++){const w=s.getByIndex(v);d.push(this.queries[w.indexInDeclarationView].clone())}return new b(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}finishViewCreation(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let s=0;s<this.queries.length;s++)null!==bt(o,s).matches&&this.queries[s].setDirty()}}class _{constructor(o,s,l=null){this.flags=s,this.read=l,this.predicate="string"==typeof o?function kt(t){return t.split(",").map(o=>o.trim())}(o):o}}class I{constructor(o=[]){this.queries=o}elementStart(o,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,s)}elementEnd(o){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(o)}embeddedTView(o){let s=null;for(let l=0;l<this.length;l++){const d=null!==s?s.length:0,v=this.getByIndex(l).embeddedTView(o,d);v&&(v.indexInDeclarationView=l,null!==s?s.push(v):s=[v])}return null!==s?new I(s):null}template(o,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,s)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class D{constructor(o,s=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(o,s){this.isApplyingToNode(s)&&this.matchTNode(o,s)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,s){this.elementStart(o,s)}embeddedTView(o,s){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,s),new D(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1&~this.metadata.flags){const s=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const v=l[d];this.matchTNodeWithReadOption(o,s,T(s,v)),this.matchTNodeWithReadOption(o,s,Ed(s,o,v,!1,!1))}else l===Rf?4&s.type&&this.matchTNodeWithReadOption(o,s,-1):this.matchTNodeWithReadOption(o,s,Ed(s,o,l,!1,!1))}matchTNodeWithReadOption(o,s,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===$u||d===mh||d===Rf&&4&s.type)this.addMatch(s.index,-2);else{const v=Ed(s,o,d,!1,!1);null!==v&&this.addMatch(s.index,v)}else this.addMatch(s.index,l)}}addMatch(o,s){null===this.matches?this.matches=[o,s]:this.matches.push(o,s)}}function T(t,o){const s=t.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===o)return s[l+1];return null}function J(t,o,s,l){return-1===s?function z(t,o){return 11&t.type?pc(t,o):4&t.type?Cm(t,o):null}(o,t):-2===s?function ee(t,o,s){return s===$u?pc(o,t):s===Rf?Cm(o,t):s===mh?uy(o,t):void 0}(t,o,l):fc(t,t[$n],s,o)}function ne(t,o,s,l){const d=o[Bi].queries[l];if(null===d.matches){const v=t.data,w=s.matches,k=[];for(let R=0;null!==w&&R<w.length;R+=2){const W=w[R];k.push(W<0?null:J(o,v[W],w[R+1],s.metadata.read))}d.matches=k}return d.matches}function me(t,o,s,l){const d=t.queries.getByIndex(s),v=d.matches;if(null!==v){const w=ne(t,o,d,s);for(let k=0;k<v.length;k+=2){const R=v[k];if(R>0)l.push(w[k/2]);else{const W=v[k+1],he=o[-R];for(let Ce=Ti;Ce<he.length;Ce++){const at=he[Ce];at[Is]===at[Di]&&me(at[$n],at,W,l)}if(null!==he[ic]){const Ce=he[ic];for(let at=0;at<Ce.length;at++){const Dt=Ce[at];me(Dt[$n],Dt,W,l)}}}}}return l}function pe(t,o,s){var l;const d=new Bp(!(4&~s));return function Ib(t,o,s,l){const d=$v(o);d.push(s),t.firstCreatePass&&Mb(t).push(l,d.length-1)}(t,o,d,d.destroy),(null!==(l=o[Bi])&&void 0!==l?l:o[Bi]=new b).queries.push(new m(d))-1}function It(t,o,s){null===t.queries&&(t.queries=new I),t.queries.track(new D(o,s))}function bt(t,o){return t.queries.getByIndex(o)}function en(t,o){const s=t[$n],l=bt(s,o);return l.crossesNgTemplate?me(s,t,o,[]):ne(s,t,l,o)}const Kt=new Set;function Sn(t){var o,s;Kt.has(t)||(Kt.add(t),null===(o=performance)||void 0===o||null===(s=o.mark)||void 0===s||s.call(o,"mark_feature_usage",{detail:{feature:t}}))}function qn(t,o){Sn("NgSignals");const s=function ue(t){const o=Object.create(un);o.value=t;const s=()=>($e(o),o.value);return s[q]=o,s}(t),l=s[q];return null!=o&&o.equal&&(l.equal=o.equal),s.set=d=>St(l,d),s.update=d=>function Ot(t,o){lt()||sr(),St(t,o(t.value))}(l,d),s.asReadonly=Vn.bind(s),s}function Vn(){const t=this[q];if(void 0===t.readonlyFn){const o=()=>this();o[q]=t,t.readonlyFn=o}return t.readonlyFn}function tr(t){return function Fn(t){return"function"==typeof t&&void 0!==t[q]}(t)&&"function"==typeof t.set}function Cw(t){let o=function g1(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const l=[t];for(;o;){let d;if(gs(t))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new qt(903,!1);d=o.\u0275dir}if(d){if(s){l.push(d);const w=t;w.inputs=py(t.inputs),w.inputTransforms=py(t.inputTransforms),w.declaredInputs=py(t.declaredInputs),w.outputs=py(t.outputs);const k=d.hostBindings;k&&ID(t,k);const R=d.viewQuery,W=d.contentQueries;if(R&&_D(t,R),W&&CD(t,W),xD(t,d),Or(t.outputs,d.outputs),gs(d)&&d.data.animation){const he=t.data;he.animation=(he.animation||[]).concat(d.data.animation)}}const v=d.features;if(v)for(let w=0;w<v.length;w++){const k=v[w];k&&k.ngInherit&&k(t),k===Cw&&(s=!1)}}o=Object.getPrototypeOf(o)}!function wD(t){let o=0,s=null;for(let l=t.length-1;l>=0;l--){const d=t[l];d.hostVars=o+=d.hostVars,d.hostAttrs=Jo(d.hostAttrs,s=Jo(s,d.hostAttrs))}}(l)}function xD(t,o){for(const l in o.inputs){if(!o.inputs.hasOwnProperty(l)||t.inputs.hasOwnProperty(l))continue;const d=o.inputs[l];if(void 0!==d&&(t.inputs[l]=d,t.declaredInputs[l]=o.declaredInputs[l],null!==o.inputTransforms)){var s;const v=Array.isArray(d)?d[0]:d;if(!o.inputTransforms.hasOwnProperty(v))continue;null!==(s=t.inputTransforms)&&void 0!==s||(t.inputTransforms={}),t.inputTransforms[v]=o.inputTransforms[v]}}}function py(t){return t===xe?{}:t===je?[]:t}function _D(t,o){const s=t.viewQuery;t.viewQuery=s?(l,d)=>{o(l,d),s(l,d)}:o}function CD(t,o){const s=t.contentQueries;t.contentQueries=s?(l,d,v)=>{o(l,d,v),s(l,d,v)}:o}function ID(t,o){const s=t.hostBindings;t.hostBindings=s?(l,d)=>{o(l,d),s(l,d)}:o}function x1(t){const o=t.inputConfig,s={};for(const l in o)if(o.hasOwnProperty(l)){const d=o[l];Array.isArray(d)&&d[3]&&(s[l]=d[3])}t.inputTransforms=s}class Yf{}class w1{}function TD(t,o){return new Iw(t,null!=o?o:null,[])}class Iw extends Yf{constructor(o,s,l,d=!0){super(),this.ngModuleType=o,this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new r0(this);const v=ha(o);this._bootstrapComponents=Fi(v.bootstrap),this._r3Injector=Og(o,s,[{provide:Yf,useValue:this},{provide:Rm,useValue:this.componentFactoryResolver},...l],so(o),new Set(["environment"])),d&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Ew extends w1{constructor(o){super(),this.moduleType=o}create(o){return new Iw(this.moduleType,o,[])}}class _1 extends Yf{constructor(o){super(),this.componentFactoryResolver=new r0(this),this.instance=null;const s=new Ns([...o.providers,{provide:Yf,useValue:this},{provide:Rm,useValue:this.componentFactoryResolver}],o.parent||Wi(),o.debugName,new Set(["environment"]));this.injector=s,o.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Dw(t,o,s=null){return new _1({providers:t,parent:o,debugName:s,runEnvironmentInitializers:!0}).injector}function my(t){return!!kw(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function kw(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function uu(t,o,s){return t[o]=s}function Ka(t,o,s){return!Object.is(t[o],s)&&(t[o]=s,!0)}function qf(t,o,s,l){const d=Ka(t,o,s);return Ka(t,o+1,l)||d}function u0(t,o,s,l,d,v,w,k,R,W){const he=s+Hr,Ce=o.firstCreatePass?function FD(t,o,s,l,d,v,w,k,R){const W=o.consts,he=ou(o,t,4,w||null,k||null);La(o,s,he,Bs(W,R)),Tu(o,he);const Ce=he.tView=ml(2,he,l,d,v,o.directiveRegistry,o.pipeRegistry,null,o.schemas,W,null);return null!==o.queries&&(o.queries.template(o,he),Ce.queries=o.queries.embeddedTView(he)),he}(he,o,t,l,d,v,w,k,R):o.data[he];qs(Ce,!1);const at=C1(o,t,Ce,s);Au()&&dm(o,t,at,Ce),Oa(at,t);const Dt=Bv(at,t,at,Ce);return t[he]=Dt,eh(t,Dt),function r(t,o,s){return e(t,o,s)}(Dt,Ce,t),ac(Ce)&&Tv(o,t,Ce),null!=R&&Xa(t,Ce,W),Ce}function Sw(t,o,s,l,d,v,w,k){const R=kn(),W=Bo();return u0(R,W,t,o,s,l,d,Bs(W.consts,v),w,k),Sw}let C1=function I1(t,o,s,l){return As(!0),o[Qr].createComment("")};var Bm=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Bm||{});let T1=(()=>{var t;class o{constructor(){this.impl=null}execute(){var l;null===(l=this.impl)||void 0===l||l.execute()}}return(t=o).\u0275prov=Ar({token:t,providedIn:"root",factory:()=>new t}),o})();class xy{constructor(){this.ngZone=Wt(Gi),this.scheduler=Wt(Wf),this.errorHandler=Wt(ll,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(const s of xy.PHASES)for(const l of this.sequences)if(!l.erroredOrDestroyed&&l.hooks[s])try{l.pipelinedValue=this.ngZone.runOutsideAngular(()=>l.hooks[s](l.pipelinedValue))}catch(d){var o;l.erroredOrDestroyed=!0,null===(o=this.errorHandler)||void 0===o||o.handleError(d)}this.executing=!1;for(const s of this.sequences)s.afterRun(),s.once&&(this.sequences.delete(s),s.destroy());for(const s of this.deferredRegistrations)this.sequences.add(s);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(o){this.executing?this.deferredRegistrations.add(o):(this.sequences.add(o),this.scheduler.notify(6))}unregister(o){this.executing&&this.sequences.has(o)?(o.erroredOrDestroyed=!0,o.pipelinedValue=void 0,o.once=!0):(this.sequences.delete(o),this.deferredRegistrations.delete(o))}}(xn=xy).PHASES=[Bm.EarlyRead,Bm.Write,Bm.MixedReadWrite,Bm.Read],xn.\u0275prov=Ar({token:xn,providedIn:"root",factory:()=>new xn});class jD{constructor(o,s,l,d){this.impl=o,this.hooks=s,this.once=l,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=null==d?void 0:d.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){var o;this.impl.unregister(this),null===(o=this.unregisterOnDestroy)||void 0===o||o.call(this)}}function wy(t,o){var s;(null==o||!o.injector)&&function P(t){if(!bl())throw new qt(-203,!1)}();const l=null!==(s=null==o?void 0:o.injector)&&void 0!==s?s:Wt(ns);return function fl(t){return"browser"===(null!=t?t:Wt(ns)).get(nf)}(l)?(Sn("NgAfterNextRender"),function M1(t,o,s,l){var d,v;const w=o.get(T1);null!==(d=w.impl)&&void 0!==d||(w.impl=o.get(xy));const k=null!==(v=null==s?void 0:s.phase)&&void 0!==v?v:Bm.MixedReadWrite,R=!0!==(null==s?void 0:s.manualCleanup)?o.get(Wc):null,W=new jD(w.impl,function UD(t,o){if(t instanceof Function){const s=[void 0,void 0,void 0,void 0];return s[o]=t,s}return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}(t,k),l,R);return w.impl.register(W),W}(t,l,o,!0)):R1}const R1={destroy(){}};function $w(t,o,s,l){const d=kn();return Ka(d,Zs(),o)&&(Bo(),Ba(Oi(),d,t,o,s,l)),$w}function Wm(t,o,s,l){return Ka(t,Zs(),s)?o+br(s)+l:Ro}function Iy(t,o){return t<<17|o<<2}function vh(t){return t>>17&32767}function jw(t){return 2|t}function Qf(t){return(131068&t)>>2}function zw(t,o){return-131069&t|o<<2}function Uw(t){return 1|t}function oC(t,o,s,l){const d=t[s+1],v=null===o;let w=l?vh(d):Qf(d),k=!1;for(;0!==w&&(!1===k||v);){const W=t[w+1];Ik(t[w],o)&&(k=!0,t[w+1]=l?Uw(W):jw(W)),w=l?vh(W):Qf(W)}k&&(t[s+1]=l?jw(d):Uw(d))}function Ik(t,o){return null===t||null==o||(Array.isArray(t)?t[1]:t)===o||!(!Array.isArray(t)||"string"!=typeof o)&&Ua(t,o)>=0}function Vw(t,o,s){const l=kn();return Ka(l,Zs(),o)&&Us(Bo(),Oi(),l,t,o,l[Qr],s,!1),Vw}function Hw(t,o,s,l,d){const w=d?"class":"style";zv(t,s,o.inputs[w],w,l)}function Ww(t,o,s){return Dc(t,o,s,!1),Ww}function Gw(t,o){return Dc(t,o,null,!0),Gw}function Dc(t,o,s,l){const d=kn(),v=Bo(),w=function Qs(t){const o=Eo.lFrame,s=o.bindingIndex;return o.bindingIndex=o.bindingIndex+t,s}(2);v.firstUpdatePass&&function hC(t,o,s,l){const d=t.data;if(null===d[s+1]){const v=d[Pa()],w=function dC(t,o){return o>=t.expandoStartIndex}(t,s);(function gC(t,o){return!!(t.flags&(o?8:16))})(v,l)&&null===o&&!w&&(o=!1),o=function Pk(t,o,s,l){const d=function yd(t){const o=Eo.lFrame.currentDirectiveIndex;return-1===o?null:t[o]}(t);let v=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(s=p0(s=Xw(null,t,o,s,l),o.attrs,l),v=null);else{const w=o.directiveStylingLast;if(-1===w||t[w]!==d)if(s=Xw(d,t,o,s,l),null===v){let R=function Ok(t,o,s){const l=s?o.classBindings:o.styleBindings;if(0!==Qf(l))return t[vh(l)]}(t,o,l);void 0!==R&&Array.isArray(R)&&(R=Xw(null,t,o,R[1],l),R=p0(R,o.attrs,l),function Nk(t,o,s,l){t[vh(s?o.classBindings:o.styleBindings)]=l}(t,o,l,R))}else v=function Fk(t,o,s){let l;const d=o.directiveEnd;for(let v=1+o.directiveStylingLast;v<d;v++)l=p0(l,t[v].hostAttrs,s);return p0(l,o.attrs,s)}(t,o,l)}return void 0!==v&&(l?o.residualClasses=v:o.residualStyles=v),s}(d,v,o,l),function _k(t,o,s,l,d,v){let w=v?o.classBindings:o.styleBindings,k=vh(w),R=Qf(w);t[l]=s;let he,W=!1;if(Array.isArray(s)?(he=s[1],(null===he||Ua(s,he)>0)&&(W=!0)):he=s,d)if(0!==R){const at=vh(t[k+1]);t[l+1]=Iy(at,k),0!==at&&(t[at+1]=zw(t[at+1],l)),t[k+1]=function xk(t,o){return 131071&t|o<<17}(t[k+1],l)}else t[l+1]=Iy(k,0),0!==k&&(t[k+1]=zw(t[k+1],l)),k=l;else t[l+1]=Iy(R,0),0===k?k=l:t[R+1]=zw(t[R+1],l),R=l;W&&(t[l+1]=jw(t[l+1])),oC(t,he,l,!0),oC(t,he,l,!1),function Ck(t,o,s,l,d){const v=d?t.residualClasses:t.residualStyles;null!=v&&"string"==typeof o&&Ua(v,o)>=0&&(s[l+1]=Uw(s[l+1]))}(o,he,t,l,v),w=Iy(k,R),v?o.classBindings=w:o.styleBindings=w}(d,v,o,s,w,l)}}(v,t,w,l),o!==Ro&&Ka(d,w,o)&&function pC(t,o,s,l,d,v,w,k){if(!(3&o.type))return;const R=t.data,W=R[k+1],he=function wk(t){return!(1&~t)}(W)?mC(R,o,s,d,Qf(W),w):void 0;Ey(he)||(Ey(v)||function yk(t){return!(2&~t)}(W)&&(v=mC(R,null,s,d,k,w)),function _x(t,o,s,l,d){if(o)d?t.addClass(s,l):t.removeClass(s,l);else{let v=-1===l.indexOf("-")?void 0:sm.DashCase;null==d?t.removeStyle(s,l,v):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),v|=sm.Important),t.setStyle(s,l,d,v))}}(l,w,Cu(Pa(),s),d,v))}(v,v.data[Pa()],d,d[Qr],t,d[w+1]=function jk(t,o){return null==t||""===t||("string"==typeof o?t+=o:"object"==typeof t&&(t=so(dl(t)))),t}(o,s),l,w)}function Xw(t,o,s,l,d){let v=null;const w=s.directiveEnd;let k=s.directiveStylingLast;for(-1===k?k=s.directiveStart:k++;k<w&&(v=o[k],l=p0(l,v.hostAttrs,d),v!==t);)k++;return null!==t&&(s.directiveStylingLast=k),l}function p0(t,o,s){const l=s?1:2;let d=-1;if(null!==o)for(let v=0;v<o.length;v++){const w=o[v];"number"==typeof w?d=w:d===l&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),di(t,w,!!s||o[++v]))}return void 0===t?null:t}function mC(t,o,s,l,d,v){const w=null===o;let k;for(;d>0;){const R=t[d],W=Array.isArray(R),he=W?R[1]:R,Ce=null===he;let at=s[d+1];at===Ro&&(at=Ce?je:void 0);let Dt=Ce?qi(at,l):he===l?at:void 0;if(W&&!Ey(Dt)&&(Dt=qi(R,l)),Ey(Dt)&&(k=Dt,w))return k;const yt=t[d+1];d=w?vh(yt):Qf(yt)}if(null!==o){let R=v?o.residualClasses:o.residualStyles;null!=R&&(k=qi(R,l))}return k}function Ey(t){return void 0!==t}function ky(t,o,s,l){const d=kn(),v=Bo(),w=Hr+t,k=d[Qr],R=v.firstCreatePass?function cS(t,o,s,l,d,v){const w=o.consts,R=ou(o,t,2,l,Bs(w,d));return La(o,s,R,Bs(w,v)),null!==R.attrs&&fh(R,R.attrs,!1),null!==R.mergedAttrs&&fh(R,R.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,R),R}(w,v,d,o,s,l):v.data[w],W=xC(v,d,R,k,o,t);d[w]=W;const he=ac(R);return qs(R,!0),kv(k,W,R),!function Fm(t){return!(32&~t.flags)}(R)&&Au()&&dm(v,d,W,R),0===function Ih(){return Eo.lFrame.elementDepthCount}()&&Oa(W,d),function ag(){Eo.lFrame.elementDepthCount++}(),he&&(Tv(v,d,R),Sf(v,R,d)),null!==l&&Xa(d,R),ky}function Sy(){let t=yi();bd()?kh():(t=t.parent,qs(t,!1));const o=t;(function lg(t){return Eo.skipHydrationRootTNode===t})(o)&&function Bc(){Eo.skipHydrationRootTNode=null}(),function sg(){Eo.lFrame.elementDepthCount--}();const s=Bo();return s.firstCreatePass&&(Tu(s,t),Pc(t)&&s.queries.elementEnd(t)),null!=o.classesWithoutHost&&function _d(t){return!!(8&t.flags)}(o)&&Hw(s,o,kn(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function xg(t){return!!(16&t.flags)}(o)&&Hw(s,o,kn(),o.stylesWithoutHost,!1),Sy}function Zw(t,o,s,l){return ky(t,o,s,l),Sy(),Zw}let xC=(t,o,s,l,d,v)=>(As(!0),wv(l,d,function gg(){return Eo.lFrame.currentNamespace}()));function Ay(t,o,s){const l=kn(),d=Bo(),v=t+Hr,w=d.firstCreatePass?function hS(t,o,s,l,d){const v=o.consts,w=Bs(v,l),k=ou(o,t,8,"ng-container",w);return null!==w&&fh(k,w,!0),La(o,s,k,Bs(v,d)),null!==o.queries&&o.queries.elementStart(o,k),k}(v,d,l,o,s):d.data[v];qs(w,!0);const k=wC(d,l,w,t);return l[v]=k,Au()&&dm(d,l,k,w),Oa(k,l),ac(w)&&(Tv(d,l,w),Sf(d,w,l)),null!=s&&Xa(l,w),Ay}function Ty(){let t=yi();const o=Bo();return bd()?kh():(t=t.parent,qs(t,!1)),o.firstCreatePass&&(Tu(o,t),Pc(t)&&o.queries.elementEnd(t)),Ty}function Qw(t,o,s){return Ay(t,o,s),Ty(),Qw}let wC=(t,o,s,l)=>(As(!0),pb(o[Qr],""));function _C(){return kn()}const Jf=void 0;var gS=["en",[["a","p"],["AM","PM"],Jf],[["AM","PM"],Jf,Jf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jf,"{1} 'at' {0}",Jf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mS(t){const s=Math.floor(Math.abs(t)),l=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let eg={};function vS(t,o,s){"string"!=typeof o&&(s=o,o=t[tg.LocaleId]),o=o.toLowerCase().replace(/_/g,"-"),eg[o]=t,s&&(eg[o][tg.ExtraData]=s)}function Jw(t){const o=function bS(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=DC(o);if(s)return s;const l=o.split("-")[0];if(s=DC(l),s)return s;if("en"===l)return gS;throw new qt(701,!1)}function EC(t){return Jw(t)[tg.PluralCase]}function DC(t){return t in eg||(eg[t]=Rr.ng&&Rr.ng.common&&Rr.ng.common.locales&&Rr.ng.common.locales[t]),eg[t]}var tg=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(tg||{});const My="en-US";let kC=My,WC=(t,o,s)=>{};function n_(t,o,s,l){const d=kn(),v=Bo(),w=yi();return r_(v,d,d[Qr],w,t,o,l),n_}function r_(t,o,s,l,d,v,w){const k=ac(l),W=t.firstCreatePass&&Mb(t),he=o[ui],Ce=$v(o);let at=!0;if(3&l.type||w){const yn=ls(l,o),zn=w?w(yn):yn,rr=Ce.length,En=w?Ao=>w(ri(Ao[l.index])):l.index;let xo=null;if(!w&&k&&(xo=function aA(t,o,s,l){const d=t.cleanup;if(null!=d)for(let v=0;v<d.length-1;v+=2){const w=d[v];if(w===s&&d[v+1]===l){const k=o[_o],R=d[v+2];return k.length>R?k[R]:null}"string"==typeof w&&(v+=2)}return null}(t,o,d,l.index)),null!==xo)(xo.__ngLastListenerFn__||xo).__ngNextListenerFn__=v,xo.__ngLastListenerFn__=v,at=!1;else{v=YC(l,o,he,v),WC(yn,d,v);const Ao=s.listen(zn,d,v);Ce.push(v,Ao),W&&W.push(d,En,rr,rr+1)}}else v=YC(l,o,he,v);const Dt=l.outputs;let yt;if(at&&null!==Dt&&(yt=Dt[d])){const yn=yt.length;if(yn)for(let zn=0;zn<yn;zn+=2){const Xi=o[yt[zn]][yt[zn+1]].subscribe(v),hs=Ce.length;Ce.push(v,Xi),W&&W.push(d,l.index,hs,-(hs+1))}}}function KC(t,o,s,l){const d=S(null);try{return Ss(6,o,s),!1!==s(l)}catch(v){return Tf(t,v),!1}finally{Ss(7,o,s),S(d)}}function YC(t,o,s,l){return function d(v){if(v===Function)return l;rh(t.componentOffset>-1?Ia(t.index,o):o,5);let k=KC(o,s,l,v),R=d.__ngNextListenerFn__;for(;R;)k=KC(o,s,R,v)&&k,R=R.__ngNextListenerFn__;return k}}function qC(t=1){return function dc(t){return(Eo.lFrame.contextLView=function Ch(t,o){for(;t>0;)o=o[Gs],t--;return o}(t,Eo.lFrame.contextLView))[ui]}(t)}function sA(t,o){let s=null;const l=function ae(t){const o=t.attrs;if(null!=o){const s=o.indexOf(5);if(!(1&s))return o[s+1]}return null}(t);for(let d=0;d<o.length;d++){const v=o[d];if("*"!==v){if(null===l?Ql(t,v,!0):Q(l,v))return d}else s=d}return s}function ZC(t){const o=kn()[Yo][oi];if(!o.projection){const l=o.projection=function ws(t,o){const s=[];for(let l=0;l<t;l++)s.push(o);return s}(t?t.length:1,null),d=l.slice();let v=o.child;for(;null!==v;){if(128!==v.type){const w=t?sA(v,t):0;null!==w&&(d[w]?d[w].projectionNext=v:l[w]=v,d[w]=v)}v=v.next}}}function QC(t,o=0,s,l,d,v){const w=kn(),k=Bo(),R=l?t+1:null;null!==R&&u0(w,k,R,l,d,v,null,s);const W=ou(k,Hr+t,16,null,s||null);null===W.projection&&(W.projection=o),kh();const Ce=!w[Ko]||Lc();null===w[Yo][oi].projection[W.projection]&&null!==R?function lA(t,o,s){const l=Hr+s,d=o.data[l],v=t[l],w=uh(v,d.tView.ssrId);th(v,rd(t,d,void 0,{dehydratedView:w}),0,od(d,w))}(w,k,R):Ce&&32&~W.flags&&function wx(t,o,s){bb(o[Qr],0,o,s,cm(t,s,o),zl(s.parent||o[oi],s,o))}(k,w,W)}function o_(t,o,s){return Ny(t,"",o,"",s),o_}function Ny(t,o,s,l,d){const v=kn(),w=Wm(v,o,s,l);return w!==Ro&&Us(Bo(),Oi(),v,t,w,v[Qr],d,!1),Ny}function sI(t,o,s,l){!function Ye(t,o,s,l){const d=Bo();if(d.firstCreatePass){const v=yi();It(d,new _(o,s,l),v.index),function vt(t,o){const s=t.contentQueries||(t.contentQueries=[]);o!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,o)}(d,t),!(2&~s)&&(d.staticContentQueries=!0)}return pe(d,kn(),s)}(t,o,s,l)}function lI(t,o,s){!function Ie(t,o,s){const l=Bo();return l.firstCreatePass&&(It(l,new _(t,o,s),-1),!(2&~o)&&(l.staticViewQueries=!0)),pe(l,kn(),o)}(t,o,s)}function cI(t){const o=kn(),s=Bo(),l=ku();uc(l+1);const d=bt(s,l);if(t.dirty&&function rp(t){return!(4&~t[jr])}(o)===!(2&~d.metadata.flags)){if(null===d.matches)t.reset([]);else{const v=en(o,l);t.reset(v,Lp),t.notifyOnChanges()}return!0}return!1}function uI(){return function be(t,o){return t[Bi].queries[o].queryList}(kn(),ku())}function dI(t){return cc(function Sh(){return Eo.lFrame.contextLView}(),Hr+t)}function wI(t,o=""){const s=kn(),l=Bo(),d=t+Hr,v=l.firstCreatePass?ou(l,d,1,o,null):l.data[d],w=_I(l,s,v,o,t);s[d]=w,Au()&&dm(l,s,w,v),qs(v,!1)}let _I=(t,o,s,l,d)=>(As(!0),function fb(t,o){return t.createText(o)}(o[Qr],l));function a_(t){return Fy("",t,""),a_}function Fy(t,o,s){const l=kn(),d=Wm(l,t,o,s);return d!==Ro&&function Vl(t,o,s){const l=Cu(o,t);!function gx(t,o,s){t.setValue(o,s)}(t[Qr],l,s)}(l,Pa(),d),Fy}function s_(t,o,s){tr(o)&&(o=o());const l=kn();return Ka(l,Zs(),o)&&Us(Bo(),Oi(),l,t,o,l[Qr],s,!1),s_}function MI(t,o){const s=tr(t);return s&&t.set(o),s}function l_(t,o){const s=kn(),l=Bo(),d=yi();return r_(l,s,s[Qr],d,t,o),l_}function c_(t,o,s,l,d){if(t=Pt(t),Array.isArray(t))for(let v=0;v<t.length;v++)c_(t[v],o,s,l,d);else{const v=Bo(),w=kn(),k=yi();let R=Hi(t)?t:Pt(t.provide);const W=oc(t),he=1048575&k.providerIndexes,Ce=k.directiveStart,at=k.providerIndexes>>20;if(Hi(t)||!t.multi){const Dt=new jc(W,d,ru),yt=d_(R,o,d?he:he+at,Ce);-1===yt?($h(Uc(k,w),v,R),u_(v,t,o.length),o.push(R),k.directiveStart++,k.directiveEnd++,d&&(k.providerIndexes+=1048576),s.push(Dt),w.push(Dt)):(s[yt]=Dt,w[yt]=Dt)}else{const Dt=d_(R,o,he+at,Ce),yt=d_(R,o,he,he+at),zn=yt>=0&&s[yt];if(d&&!zn||!d&&!(Dt>=0&&s[Dt])){$h(Uc(k,w),v,R);const rr=function SA(t,o,s,l,d){const v=new jc(t,s,ru);return v.multi=[],v.index=o,v.componentProviders=0,OI(v,d,l&&!s),v}(d?kA:DA,s.length,d,l,W);!d&&zn&&(s[yt].providerFactory=rr),u_(v,t,o.length,0),o.push(R),k.directiveStart++,k.directiveEnd++,d&&(k.providerIndexes+=1048576),s.push(rr),w.push(rr)}else u_(v,t,Dt>-1?Dt:yt,OI(s[d?yt:Dt],W,!d&&l));!d&&l&&zn&&s[yt].componentProviders++}}}function u_(t,o,s,l){const d=Hi(o),v=function vu(t){return!!t.useClass}(o);if(d||v){const R=(v?Pt(o.useClass):o).prototype.ngOnDestroy;if(R){const W=t.destroyHooks||(t.destroyHooks=[]);if(!d&&o.multi){const he=W.indexOf(s);-1===he?W.push(s,[l,R]):W[he+1].push(l,R)}else W.push(s,R)}}}function OI(t,o,s){return s&&t.componentProviders++,t.multi.push(o)-1}function d_(t,o,s,l){for(let d=s;d<l;d++)if(o[d]===t)return d;return-1}function DA(t,o,s,l){return h_(this.multi,[])}function kA(t,o,s,l){const d=this.multi;let v;if(this.providerFactory){const w=this.providerFactory.componentProviders,k=fc(s,s[$n],this.providerFactory.index,l);v=k.slice(0,w),h_(d,v);for(let R=w;R<k.length;R++)v.push(k[R])}else v=[],h_(d,v);return v}function h_(t,o){for(let s=0;s<t.length;s++)o.push((0,t[s])());return o}function NI(t,o=[]){return s=>{s.providersResolver=(l,d)=>function EA(t,o,s){const l=Bo();if(l.firstCreatePass){const d=gs(t);c_(s,l.data,l.blueprint,d,!0),c_(o,l.data,l.blueprint,d,!1)}}(l,d?d(t):t,o)}}let AA=(()=>{var t;class o{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l)){const d=Os(0,l.type),v=d.length>0?Dw([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l,v)}return this.cachedInjectors.get(l)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return(t=o).\u0275prov=Ar({token:t,providedIn:"environment",factory:()=>new t(Mt(Qa))}),o})();function FI(t){Sn("NgStandalone"),t.getStandaloneInjector=o=>o.get(AA).getOrCreateStandaloneInjector(t)}function $I(t,o,s){const l=ga()+t,d=kn();return d[l]===Ro?uu(d,l,s?o.call(s):o()):function c0(t,o){return t[o]}(d,l)}function jI(t,o,s,l){return zI(kn(),ga(),t,o,s,l)}function x0(t,o){const s=t[o];return s===Ro?void 0:s}function zI(t,o,s,l,d,v){const w=o+s;return Ka(t,w,d)?uu(t,w+1,v?l.call(v,d):l(d)):x0(t,w+1)}function VI(t,o,s,l,d,v,w,k){const R=o+s;return function gy(t,o,s,l,d){const v=qf(t,o,s,l);return Ka(t,o+2,d)||v}(t,R,d,v,w)?uu(t,R+3,k?l.call(k,d,v,w):l(d,v,w)):x0(t,R+3)}function GI(t,o){const s=Bo();let l;const d=t+Hr;var v;s.firstCreatePass?(l=function zA(t,o){if(o)for(let s=o.length-1;s>=0;s--){const l=o[s];if(t===l.name)return l}}(o,s.pipeRegistry),s.data[d]=l,l.onDestroy&&(null!==(v=s.destroyHooks)&&void 0!==v?v:s.destroyHooks=[]).push(d,l.onDestroy)):l=s.data[d];const w=l.factory||(l.factory=la(l.type)),R=Po(ru);try{const W=js(!1),he=w();return js(W),function i_(t,o,s,l){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),o[s]=l}(s,kn(),d,he),he}finally{Po(R)}}function XI(t,o,s){const l=t+Hr,d=kn(),v=cc(d,l);return w0(d,l)?zI(d,ga(),o,v.transform,s,v):v.transform(s)}function KI(t,o,s,l){const d=t+Hr,v=kn(),w=cc(v,d);return w0(v,d)?function UI(t,o,s,l,d,v,w){const k=o+s;return qf(t,k,d,v)?uu(t,k+2,w?l.call(w,d,v):l(d,v)):x0(t,k+2)}(v,ga(),o,w.transform,s,l,w):w.transform(s,l)}function YI(t,o,s,l,d){const v=t+Hr,w=kn(),k=cc(w,v);return w0(w,v)?VI(w,ga(),o,k.transform,s,l,d,k):k.transform(s,l,d)}function w0(t,o){return t[$n].data[o].pure}function qI(t,o){return Cm(t,o)}class hE{constructor(o){this.full=o;const s=o.split(".");this.major=s[0],this.minor=s[1],this.patch=s.slice(2).join(".")}}let fE=(()=>{var t;class o{log(l){console.log(l)}warn(l){console.warn(l)}}return(t=o).\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ar({token:t,factory:t.\u0275fac,providedIn:"platform"}),o})();const vE=new Ft(""),bE=new Ft("");let y_,FT=(()=>{var t;class o{constructor(l,d,v){this._ngZone=l,this.registry=d,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,y_||(function LT(t){y_=t}(v),v.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb()}});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,v){let w=-1;d&&d>0&&(w=setTimeout(()=>{this._callbacks=this._callbacks.filter(k=>k.timeoutId!==w),l()},d)),this._callbacks.push({doneCb:l,timeoutId:w,updateCb:v})}whenStable(l,d,v){if(v&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,v),this._runCallbacksIfReady()}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,v){return[]}}return(t=o).\u0275fac=function(l){return new(l||t)(Mt(Gi),Mt(yE),Mt(bE))},t.\u0275prov=Ar({token:t,factory:t.\u0275fac}),o})(),yE=(()=>{var t;class o{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){var v,w;return null!==(v=null===(w=y_)||void 0===w?void 0:w.findTestabilityInTree(this,l,d))&&void 0!==v?v:null}}return(t=o).\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ar({token:t,factory:t.\u0275fac,providedIn:"platform"}),o})();function x_(t){return!!t&&"function"==typeof t.then}function xE(t){return!!t&&"function"==typeof t.subscribe}const wE=new Ft("");let _E=(()=>{var t;class o{constructor(){var l;this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,v)=>{this.resolve=d,this.reject=v}),this.appInits=null!==(l=Wt(wE,{optional:!0}))&&void 0!==l?l:[]}runInitializers(){if(this.initialized)return;const l=[];for(const v of this.appInits){const w=v();if(x_(w))l.push(w);else if(xE(w)){const k=new Promise((R,W)=>{w.subscribe({complete:R,error:W})});l.push(k)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{d()}).catch(v=>{this.reject(v)}),0===l.length&&d(),this.initialized=!0}}return(t=o).\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ar({token:t,factory:t.\u0275fac,providedIn:"root"}),o})();const zy=new Ft("");let fu=(()=>{var t;class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Wt(Rd),this.afterRenderManager=Wt(T1),this.zonelessEnabled=Wt(Mm),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new dr.B,this.afterTick=new dr.B,this.componentTypes=[],this.components=[],this.isStable=Wt(Gc).hasPendingTasks.pipe((0,vr.T)(l=>!l)),this._injector=Wt(Qa)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let l;return new Promise(d=>{l=this.isStable.subscribe({next:v=>{v&&d()}})}).finally(()=>{l.unsubscribe()})}get injector(){return this._injector}bootstrap(l,d){const v=l instanceof ty;if(!this._injector.get(_E).done)throw!v&&_s(l),new qt(405,!1);let k;k=v?l:this._injector.get(Rm).resolveComponentFactory(l),this.componentTypes.push(k.componentType);const R=function BT(t){return t.isBoundToModule}(k)?void 0:this._injector.get(Yf),he=k.create(ns.NULL,[],d||k.selector,R),Ce=he.location.nativeElement,at=he.injector.get(vE,null);return null==at||at.registerApplication(Ce),he.onDestroy(()=>{this.detachView(he.hostView),Uy(this.components,he),null==at||at.unregisterApplication(Ce)}),this._loadComponent(he),he}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new qt(101,!1);const l=S(null);try{this._runningTick=!0,this.synchronize()}catch(d){this.internalErrorHandler(d)}finally{this._runningTick=!1,S(l),this.afterTick.next()}}synchronize(){let l=null;this._injector.destroyed||(l=this._injector.get(ry,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let d=0;for(;0!==this.dirtyFlags&&d++<10;)this.synchronizeOnce(l)}synchronizeOnce(l){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const w=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(w);for(let{_lView:k,notifyErrorHandler:R}of this._views)zT(k,R,w,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else{var d,v;null==l||null===(d=l.begin)||void 0===d||d.call(l),null==l||null===(v=l.end)||void 0===v||v.call(l)}8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:l})=>fd(l))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Uy(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const d=this._injector.get(zy,[]);[...this._bootstrapListeners,...d].forEach(v=>v(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Uy(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new qt(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=o).\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ar({token:t,factory:t.\u0275fac,providedIn:"root"}),o})();function Uy(t,o){const s=t.indexOf(o);s>-1&&t.splice(s,1)}function zT(t,o,s,l){(s||fd(t))&&xm(t,o,s&&!l?0:1)}class UT{constructor(o,s){this.ngModuleFactory=o,this.componentFactories=s}}let VT=(()=>{var t;class o{compileModuleSync(l){return new Ew(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),w=Fi(ha(l).declarations).reduce((k,R)=>{const W=cr(R);return W&&k.push(new ph(W)),k},[]);return new UT(d,w)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return(t=o).\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ar({token:t,factory:t.\u0275fac,providedIn:"root"}),o})(),GT=(()=>{var t;class o{constructor(){this.zone=Wt(Gi),this.changeDetectionScheduler=Wt(Wf),this.applicationRef=Wt(fu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var l;null===(l=this._onMicrotaskEmptySubscription)||void 0===l||l.unsubscribe()}}return(t=o).\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ar({token:t,factory:t.\u0275fac,providedIn:"root"}),o})();function w_({ngZoneFactory:t,ignoreChangesOutsideZone:o,scheduleInRootZone:s}){var l;return null!==(l=t)&&void 0!==l||(t=()=>new Gi({...__(),scheduleInRootZone:s})),[{provide:Gi,useFactory:t},{provide:mt,multi:!0,useFactory:()=>{const d=Wt(GT,{optional:!0});return()=>d.initialize()}},{provide:mt,multi:!0,useFactory:()=>{const d=Wt(KT);return()=>{d.initialize()}}},!0===o?{provide:vw,useValue:!0}:[],{provide:ey,useValue:null!=s?s:Op}]}function __(t){var o,s;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(o=null==t?void 0:t.eventCoalescing)&&void 0!==o&&o,shouldCoalesceRunChangeDetection:null!==(s=null==t?void 0:t.runCoalescing)&&void 0!==s&&s}}let KT=(()=>{var t;class o{constructor(){this.subscription=new Dr.yU,this.initialized=!1,this.zone=Wt(Gi),this.pendingTasks=Wt(Gc)}initialize(){if(this.initialized)return;this.initialized=!0;let l=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(l=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Gi.assertNotInAngularZone(),queueMicrotask(()=>{null!==l&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(l),l=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var d;Gi.assertInAngularZone(),null!==(d=l)&&void 0!==d||(l=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=o).\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ar({token:t,factory:t.\u0275fac,providedIn:"root"}),o})(),E0=(()=>{var t;class o{constructor(){var l,d,v;this.appRef=Wt(fu),this.taskService=Wt(Gc),this.ngZone=Wt(Gi),this.zonelessEnabled=Wt(Mm),this.disableScheduling=null!==(l=Wt(vw,{optional:!0}))&&void 0!==l&&l,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Dr.yU,this.angularZoneId=this.zoneIsDefined?null===(d=this.ngZone._inner)||void 0===d?void 0:d.get(jo):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&null!==(v=Wt(ey,{optional:!0}))&&void 0!==v&&v,this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof Td||!this.zoneIsDefined))}notify(l){if(!this.zonelessEnabled&&5===l)return;switch(l){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const d=this.useMicrotaskScheduler?Lg:Yh;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>d(()=>this.tick())):this.ngZone.runOutsideAngular(()=>d(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(jo+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const l=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(d){throw this.taskService.remove(l),d}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Lg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(l)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var l;if(this.runningTick=!1,null===(l=this.cancelScheduledCallback)||void 0===l||l.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const d=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(d)}}}return(t=o).\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ar({token:t,factory:t.\u0275fac,providedIn:"root"}),o})();const I_=new Ft("",{providedIn:"root",factory:()=>Wt(I_,Co.Optional|Co.SkipSelf)||function YT(){return typeof $localize<"u"&&$localize.locale||My}()}),qT=new Ft("",{providedIn:"root",factory:()=>"USD"}),Vy=new Ft("");function Hy(t){return!t.moduleRef}let bh=null;function i2(){return!1}function a2(){}let FE=(()=>{class o{}return o.__NG_ELEMENT_ID__=s2,o})();function s2(t){return function l2(t,o,s){if(Ls(t)&&!s){const l=Ia(t.index,o);return new Mf(l,l)}return 175&t.type?new Mf(o[Yo],o):null}(yi(),kn(),!(16&~t))}class jE{constructor(){}supports(o){return my(o)}create(o){return new f2(o)}}const h2=(t,o)=>o;class f2{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||h2}forEachItem(o){let s;for(s=this._itHead;null!==s;s=s._next)o(s)}forEachOperation(o){let s=this._itHead,l=this._removalsHead,d=0,v=null;for(;s||l;){const w=!l||s&&s.currentIndex<UE(l,d,v)?s:l,k=UE(w,d,v),R=w.currentIndex;if(w===l)d--,l=l._nextRemoved;else if(s=s._next,null==w.previousIndex)d++;else{v||(v=[]);const W=k-d,he=R-d;if(W!=he){for(let at=0;at<W;at++){const Dt=at<v.length?v[at]:v[at]=0,yt=Dt+at;he<=yt&&yt<W&&(v[at]=Dt+1)}v[w.previousIndex]=he-W}}k!==R&&o(w,k,R)}}forEachPreviousItem(o){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)o(s)}forEachAddedItem(o){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)o(s)}forEachMovedItem(o){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)o(s)}forEachRemovedItem(o){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)o(s)}forEachIdentityChange(o){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)o(s)}diff(o){if(null==o&&(o=[]),!my(o))throw new qt(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,v,w,s=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let k=0;k<this.length;k++)v=o[k],w=this._trackByFn(k,v),null!==s&&Object.is(s.trackById,w)?(l&&(s=this._verifyReinsertion(s,v,w,k)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,w,k),l=!0),s=s._next}else d=0,function OD(t,o){if(Array.isArray(t))for(let s=0;s<t.length;s++)o(t[s]);else{const s=t[Symbol.iterator]();let l;for(;!(l=s.next()).done;)o(l.value)}}(o,k=>{w=this._trackByFn(d,k),null!==s&&Object.is(s.trackById,w)?(l&&(s=this._verifyReinsertion(s,k,w,d)),Object.is(s.item,k)||this._addIdentityChange(s,k)):(s=this._mismatch(s,k,w,d),l=!0),s=s._next,d++}),this.length=d;return this._truncate(s),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,s,l,d){let v;return null===o?v=this._itTail:(v=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,s)||this._addIdentityChange(o,s),this._reinsertAfter(o,v,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,s)||this._addIdentityChange(o,s),this._moveAfter(o,v,d)):o=this._addAfter(new p2(s,l),v,d),o}_verifyReinsertion(o,s,l,d){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==v?o=this._reinsertAfter(v,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const s=o._next;this._addToRemovals(this._unlink(o)),o=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,v=o._nextRemoved;return null===d?this._removalsHead=v:d._nextRemoved=v,null===v?this._removalsTail=d:v._prevRemoved=d,this._insertAfter(o,s,l),this._addToMoves(o,l),o}_moveAfter(o,s,l){return this._unlink(o),this._insertAfter(o,s,l),this._addToMoves(o,l),o}_addAfter(o,s,l){return this._insertAfter(o,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,s,l){const d=null===s?this._itHead:s._next;return o._next=d,o._prev=s,null===d?this._itTail=o:d._prev=o,null===s?this._itHead=o:s._next=o,null===this._linkedRecords&&(this._linkedRecords=new zE),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const s=o._prev,l=o._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,o}_addToMoves(o,s){return o.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zE),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,s){return o.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class p2{constructor(o,s){this.item=o,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class m2{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const s=o._prevDup,l=o._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class zE{constructor(){this.map=new Map}put(o){const s=o.trackById;let l=this.map.get(s);l||(l=new m2,this.map.set(s,l)),l.add(o)}get(o,s){const d=this.map.get(o);return d?d.get(o,s):null}remove(o){const s=o.trackById;return this.map.get(s).remove(o)&&this.map.delete(s),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function UE(t,o,s){const l=t.previousIndex;if(null===l)return l;let d=0;return s&&l<s.length&&(d=s[l]),l+o+d}class VE{constructor(){}supports(o){return o instanceof Map||kw(o)}create(){return new g2}}class g2{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let s;for(s=this._mapHead;null!==s;s=s._next)o(s)}forEachPreviousItem(o){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)o(s)}forEachChangedItem(o){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)o(s)}forEachAddedItem(o){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)o(s)}forEachRemovedItem(o){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)o(s)}diff(o){if(o){if(!(o instanceof Map||kw(o)))throw new qt(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(s&&s.key===d)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const v=this._getOrCreateRecordForKey(d,l);s=this._insertBeforeOrAppend(s,v)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,s){if(o){const l=o._prev;return s._next=o,s._prev=l,o._prev=s,l&&(l._next=s),o===this._mapHead&&(this._mapHead=s),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(o,s){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,s);const v=d._prev,w=d._next;return v&&(v._next=w),w&&(w._prev=v),d._next=null,d._prev=null,d}const l=new v2(o);return this._records.set(o,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,s){Object.is(s,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=s,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,s){o instanceof Map?o.forEach(s):Object.keys(o).forEach(l=>s(o[l],l))}}class v2{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function HE(){return new T_([new jE])}let T_=(()=>{var t;class o{constructor(l){this.factories=l}static create(l,d){if(null!=d){const v=d.factories.slice();l=l.concat(v)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||HE()),deps:[[o,new Vo,new Go]]}}find(l){const d=this.factories.find(v=>v.supports(l));if(null!=d)return d;throw new qt(901,!1)}}return(t=o).\u0275prov=Ar({token:t,providedIn:"root",factory:HE}),o})();function WE(){return new M_([new VE])}let M_=(()=>{var t;class o{constructor(l){this.factories=l}static create(l,d){if(d){const v=d.factories.slice();l=l.concat(v)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||WE()),deps:[[o,new Vo,new Go]]}}find(l){const d=this.factories.find(v=>v.supports(l));if(d)return d;throw new qt(901,!1)}}return(t=o).\u0275prov=Ar({token:t,providedIn:"root",factory:WE}),o})();function M2(t){try{const{rootComponent:o,appProviders:s,platformProviders:l}=t,d=function o2(t=[]){if(bh)return bh;const o=function PE(t=[],o){return ns.create({name:o,providers:[{provide:nc,useValue:"platform"},{provide:Vy,useValue:new Set([()=>bh=null])},...t]})}(t);return bh=o,function CE(){!function pt(t){Xn=t}(()=>{throw new qt(600,!1)})}(),function OE(t){const o=t.get(Wp,null);null==o||o.forEach(s=>s())}(o),o}(l),v=[w_({}),{provide:Wf,useExisting:E0},...s||[]];return function TE(t){const o=Hy(t)?t.r3Injector:t.moduleRef.injector,s=o.get(Gi);return s.run(()=>{Hy(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const l=o.get(ll,null);let d;if(s.runOutsideAngular(()=>{d=s.onError.subscribe({next:v=>{l.handleError(v)}})}),Hy(t)){const v=()=>o.destroy(),w=t.platformInjector.get(Vy);w.add(v),o.onDestroy(()=>{d.unsubscribe(),w.delete(v)})}else{const v=()=>t.moduleRef.destroy(),w=t.platformInjector.get(Vy);w.add(v),t.moduleRef.onDestroy(()=>{Uy(t.allPlatformModules,t.moduleRef),d.unsubscribe(),w.delete(v)})}return function jT(t,o,s){try{const l=s();return x_(l)?l.catch(d=>{throw o.runOutsideAngular(()=>t.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>t.handleError(l)),l}}(l,s,()=>{const v=o.get(_E);return v.runInitializers(),v.donePromise.then(()=>{if(function _S(t){"string"==typeof t&&(kC=t.toLowerCase().replace(/_/g,"-"))}(o.get(I_,My)||My),Hy(t)){const k=o.get(fu);return void 0!==t.rootComponent&&k.bootstrap(t.rootComponent),k}return function t2(t,o){const s=t.injector.get(fu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(l=>s.bootstrap(l));else{if(!t.instance.ngDoBootstrap)throw new qt(-403,!1);t.instance.ngDoBootstrap(s)}o.push(t)}(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}({r3Injector:new _1({providers:v,parent:d,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:d,rootComponent:o})}catch(o){return Promise.reject(o)}}function Z2(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function J2(t,o){Sn("NgSignals");const s=function Ze(t){const o=Object.create(Gn);o.computation=t;const s=()=>{if(Qe(o),$e(o),o.value===zt)throw o.error;return o.value};return s[q]=o,s}(t);return null!=o&&o.equal&&(s[q].equal=o.equal),s}function eM(t){const o=S(null);try{return t()}finally{S(o)}}function aM(t,o){const s=cr(t),l=o.elementInjector||Wi();return new ph(s).create(l,o.projectableNodes,o.hostElement,o.environmentInjector)}function sM(t){const o=cr(t);if(!o)return null;const s=new ph(o);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},4341:(Un,Tt,F)=>{"use strict";F.d(Tt,{ok:()=>ua,MJ:()=>Wr,l_:()=>Bt,JD:()=>Br,j4:()=>$t,YN:()=>Sc,zX:()=>ca,VZ:()=>qi,cz:()=>it,kq:()=>ct,vO:()=>sn,BC:()=>lr,cb:()=>fr,vS:()=>Sa,X1:()=>Ql,k0:()=>He});var x=F(4438),g=F(177),H=F(6648),we=F(1985),q=F(3073),S=F(8750),Te=F(9326),ce=F(4360),Ke=F(6450),_t=F(8496),Me=F(1413),Qe=F(6354);let Be=(()=>{var ae;class j{constructor(Q,Ve){this._renderer=Q,this._elementRef=Ve,this.onChange=On=>{},this.onTouched=()=>{}}setProperty(Q,Ve){this._renderer.setProperty(this._elementRef.nativeElement,Q,Ve)}registerOnTouched(Q){this.onTouched=Q}registerOnChange(Q){this.onChange=Q}setDisabledState(Q){this.setProperty("disabled",Q)}}return(ae=j).\u0275fac=function(Q){return new(Q||ae)(x.rXU(x.sFG),x.rXU(x.aKT))},ae.\u0275dir=x.FsC({type:ae}),j})(),lt=(()=>{var ae;class j extends Be{}return(ae=j).\u0275fac=(()=>{let ye;return function(Ve){return(ye||(ye=x.xGo(ae)))(Ve||ae)}})(),ae.\u0275dir=x.FsC({type:ae,features:[x.Vt3]}),j})();const ct=new x.nKC(""),wt={provide:ct,useExisting:(0,x.Rfq)(()=>Ee),multi:!0},rt=new x.nKC("");let Ee=(()=>{var ae;class j extends Be{constructor(Q,Ve,On){super(Q,Ve),this._compositionMode=On,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ft(){const ae=(0,g.QT)()?(0,g.QT)().getUserAgent():"";return/android (\d+)/.test(ae.toLowerCase())}())}writeValue(Q){this.setProperty("value",null==Q?"":Q)}_handleInput(Q){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(Q)}_compositionStart(){this._composing=!0}_compositionEnd(Q){this._composing=!1,this._compositionMode&&this.onChange(Q)}}return(ae=j).\u0275fac=function(Q){return new(Q||ae)(x.rXU(x.sFG),x.rXU(x.aKT),x.rXU(rt,8))},ae.\u0275dir=x.FsC({type:ae,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Q,Ve){1&Q&&x.bIt("input",function(Nr){return Ve._handleInput(Nr.target.value)})("blur",function(){return Ve.onTouched()})("compositionstart",function(){return Ve._compositionStart()})("compositionend",function(Nr){return Ve._compositionEnd(Nr.target.value)})},features:[x.Jv_([wt]),x.Vt3]}),j})();function ze(ae){return null==ae||("string"==typeof ae||Array.isArray(ae))&&0===ae.length}function oe(ae){return null!=ae&&"number"==typeof ae.length}const it=new x.nKC(""),At=new x.nKC(""),Ze=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class He{static min(j){return jt(j)}static max(j){return zt(j)}static required(j){return function Gn(ae){return ze(ae.value)?{required:!0}:null}(j)}static requiredTrue(j){return function on(ae){return!0===ae.value?null:{required:!0}}(j)}static email(j){return function Xn(ae){return ze(ae.value)||Ze.test(ae.value)?null:{email:!0}}(j)}static minLength(j){return function sr(ae){return j=>ze(j.value)||!oe(j.value)?null:j.value.length<ae?{minlength:{requiredLength:ae,actualLength:j.value.length}}:null}(j)}static maxLength(j){return function pt(ae){return j=>oe(j.value)&&j.value.length>ae?{maxlength:{requiredLength:ae,actualLength:j.value.length}}:null}(j)}static pattern(j){return function We(ae){if(!ae)return ue;let j,ye;return"string"==typeof ae?(ye="","^"!==ae.charAt(0)&&(ye+="^"),ye+=ae,"$"!==ae.charAt(ae.length-1)&&(ye+="$"),j=new RegExp(ye)):(ye=ae.toString(),j=ae),Q=>{if(ze(Q.value))return null;const Ve=Q.value;return j.test(Ve)?null:{pattern:{requiredPattern:ye,actualValue:Ve}}}}(j)}static nullValidator(j){return null}static compose(j){return Yt(j)}static composeAsync(j){return Qn(j)}}function jt(ae){return j=>{if(ze(j.value)||ze(ae))return null;const ye=parseFloat(j.value);return!isNaN(ye)&&ye<ae?{min:{min:ae,actual:j.value}}:null}}function zt(ae){return j=>{if(ze(j.value)||ze(ae))return null;const ye=parseFloat(j.value);return!isNaN(ye)&&ye>ae?{max:{max:ae,actual:j.value}}:null}}function ue(ae){return null}function fe(ae){return null!=ae}function Re(ae){return(0,x.jNT)(ae)?(0,H.H)(ae):ae}function St(ae){let j={};return ae.forEach(ye=>{j=null!=ye?{...j,...ye}:j}),0===Object.keys(j).length?null:j}function Ot(ae,j){return j.map(ye=>ye(ae))}function un(ae){return ae.map(j=>function Lt(ae){return!ae.validate}(j)?j:ye=>j.validate(ye))}function Yt(ae){if(!ae)return null;const j=ae.filter(fe);return 0==j.length?null:function(ye){return St(Ot(ye,j))}}function hr(ae){return null!=ae?Yt(un(ae)):null}function Qn(ae){if(!ae)return null;const j=ae.filter(fe);return 0==j.length?null:function(ye){return function $e(...ae){const j=(0,Te.ms)(ae),{args:ye,keys:Q}=(0,q.D)(ae),Ve=new we.c(On=>{const{length:Nr}=ye;if(!Nr)return void On.complete();const wi=new Array(Nr);let da=Nr,Ta=Nr;for(let na=0;na<Nr;na++){let Ma=!1;(0,S.Tg)(ye[na]).subscribe((0,ce._)(On,rl=>{Ma||(Ma=!0,Ta--),wi[na]=rl},()=>da--,void 0,()=>{(!da||!Ma)&&(Ta||On.next(Q?(0,_t.e)(Q,wi):wi),On.complete())}))}});return j?Ve.pipe((0,Ke.I)(j)):Ve}(Ot(ye,j).map(Re)).pipe((0,Qe.T)(St))}}function In(ae){return null!=ae?Qn(un(ae)):null}function _r(ae,j){return null===ae?[j]:Array.isArray(ae)?[...ae,j]:[ae,j]}function Xr(ae){return ae._rawValidators}function dr(ae){return ae._rawAsyncValidators}function Dr(ae){return ae?Array.isArray(ae)?ae:[ae]:[]}function vr(ae,j){return Array.isArray(ae)?ae.includes(j):ae===j}function pr(ae,j){const ye=Dr(j);return Dr(ae).forEach(Ve=>{vr(ye,Ve)||ye.push(Ve)}),ye}function Kr(ae,j){return Dr(j).filter(ye=>!vr(ae,ye))}class xn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(j){this._rawValidators=j||[],this._composedValidatorFn=hr(this._rawValidators)}_setAsyncValidators(j){this._rawAsyncValidators=j||[],this._composedAsyncValidatorFn=In(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(j){this._onDestroyCallbacks.push(j)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(j=>j()),this._onDestroyCallbacks=[]}reset(j=void 0){this.control&&this.control.reset(j)}hasError(j,ye){return!!this.control&&this.control.hasError(j,ye)}getError(j,ye){return this.control?this.control.getError(j,ye):null}}class nn extends xn{get formDirective(){return null}get path(){return null}}class sn extends xn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qt{constructor(j){this._cd=j}get isTouched(){var j,ye,Q;return null===(j=this._cd)||void 0===j||null===(j=j.control)||void 0===j||null===(ye=j._touched)||void 0===ye||ye.call(j),!(null===(Q=this._cd)||void 0===Q||null===(Q=Q.control)||void 0===Q||!Q.touched)}get isUntouched(){var j;return!(null===(j=this._cd)||void 0===j||null===(j=j.control)||void 0===j||!j.untouched)}get isPristine(){var j,ye,Q;return null===(j=this._cd)||void 0===j||null===(j=j.control)||void 0===j||null===(ye=j._pristine)||void 0===ye||ye.call(j),!(null===(Q=this._cd)||void 0===Q||null===(Q=Q.control)||void 0===Q||!Q.pristine)}get isDirty(){var j;return!(null===(j=this._cd)||void 0===j||null===(j=j.control)||void 0===j||!j.dirty)}get isValid(){var j,ye,Q;return null===(j=this._cd)||void 0===j||null===(j=j.control)||void 0===j||null===(ye=j._status)||void 0===ye||ye.call(j),!(null===(Q=this._cd)||void 0===Q||null===(Q=Q.control)||void 0===Q||!Q.valid)}get isInvalid(){var j;return!(null===(j=this._cd)||void 0===j||null===(j=j.control)||void 0===j||!j.invalid)}get isPending(){var j;return!(null===(j=this._cd)||void 0===j||null===(j=j.control)||void 0===j||!j.pending)}get isSubmitted(){var j,ye,Q;return null===(j=this._cd)||void 0===j||null===(ye=j._submitted)||void 0===ye||ye.call(j),!(null===(Q=this._cd)||void 0===Q||!Q.submitted)}}let lr=(()=>{var ae;class j extends qt{constructor(Q){super(Q)}}return(ae=j).\u0275fac=function(Q){return new(Q||ae)(x.rXU(sn,2))},ae.\u0275dir=x.FsC({type:ae,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Q,Ve){2&Q&&x.AVh("ng-untouched",Ve.isUntouched)("ng-touched",Ve.isTouched)("ng-pristine",Ve.isPristine)("ng-dirty",Ve.isDirty)("ng-valid",Ve.isValid)("ng-invalid",Ve.isInvalid)("ng-pending",Ve.isPending)},features:[x.Vt3]}),j})(),fr=(()=>{var ae;class j extends qt{constructor(Q){super(Q)}}return(ae=j).\u0275fac=function(Q){return new(Q||ae)(x.rXU(nn,10))},ae.\u0275dir=x.FsC({type:ae,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Q,Ve){2&Q&&x.AVh("ng-untouched",Ve.isUntouched)("ng-touched",Ve.isTouched)("ng-pristine",Ve.isPristine)("ng-dirty",Ve.isDirty)("ng-valid",Ve.isValid)("ng-invalid",Ve.isInvalid)("ng-pending",Ve.isPending)("ng-submitted",Ve.isSubmitted)},features:[x.Vt3]}),j})();const cn="VALID",Et="INVALID",Pt="PENDING",_n="DISABLED";class Nn{}class Se extends Nn{constructor(j,ye){super(),this.value=j,this.source=ye}}class ut extends Nn{constructor(j,ye){super(),this.pristine=j,this.source=ye}}class an extends Nn{constructor(j,ye){super(),this.touched=j,this.source=ye}}class Ht extends Nn{constructor(j,ye){super(),this.status=j,this.source=ye}}class ge extends Nn{constructor(j){super(),this.source=j}}class de extends Nn{constructor(j){super(),this.source=j}}function Pe(ae){return(Ut(ae)?ae.validators:ae)||null}function G(ae,j){return(Ut(j)?j.asyncValidators:ae)||null}function Ut(ae){return null!=ae&&!Array.isArray(ae)&&"object"==typeof ae}function vn(ae,j,ye){const Q=ae.controls;if(!(j?Object.keys(Q):Q).length)throw new x.wOt(1e3,"");if(!Q[ye])throw new x.wOt(1001,"")}function Ln(ae,j,ye){ae._forEachChild((Q,Ve)=>{if(void 0===ye[Ve])throw new x.wOt(1002,"")})}class wn{constructor(j,ye){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,x.EWP)(()=>this.statusReactive()),this.statusReactive=(0,x.vPA)(void 0),this._pristine=(0,x.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,x.vPA)(!0),this._touched=(0,x.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,x.vPA)(!1),this._events=new Me.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(j),this._assignAsyncValidators(ye)}get validator(){return this._composedValidatorFn}set validator(j){this._rawValidators=this._composedValidatorFn=j}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(j){this._rawAsyncValidators=this._composedAsyncValidatorFn=j}get parent(){return this._parent}get status(){return(0,x.O8t)(this.statusReactive)}set status(j){(0,x.O8t)(()=>this.statusReactive.set(j))}get valid(){return this.status===cn}get invalid(){return this.status===Et}get pending(){return this.status==Pt}get disabled(){return this.status===_n}get enabled(){return this.status!==_n}get pristine(){return(0,x.O8t)(this.pristineReactive)}set pristine(j){(0,x.O8t)(()=>this.pristineReactive.set(j))}get dirty(){return!this.pristine}get touched(){return(0,x.O8t)(this.touchedReactive)}set touched(j){(0,x.O8t)(()=>this.touchedReactive.set(j))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(j){this._assignValidators(j)}setAsyncValidators(j){this._assignAsyncValidators(j)}addValidators(j){this.setValidators(pr(j,this._rawValidators))}addAsyncValidators(j){this.setAsyncValidators(pr(j,this._rawAsyncValidators))}removeValidators(j){this.setValidators(Kr(j,this._rawValidators))}removeAsyncValidators(j){this.setAsyncValidators(Kr(j,this._rawAsyncValidators))}hasValidator(j){return vr(this._rawValidators,j)}hasAsyncValidator(j){return vr(this._rawAsyncValidators,j)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(j={}){var ye;const Q=!1===this.touched;this.touched=!0;const Ve=null!==(ye=j.sourceControl)&&void 0!==ye?ye:this;this._parent&&!j.onlySelf&&this._parent.markAsTouched({...j,sourceControl:Ve}),Q&&!1!==j.emitEvent&&this._events.next(new an(!0,Ve))}markAllAsTouched(j={}){this.markAsTouched({onlySelf:!0,emitEvent:j.emitEvent,sourceControl:this}),this._forEachChild(ye=>ye.markAllAsTouched(j))}markAsUntouched(j={}){var ye;const Q=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const Ve=null!==(ye=j.sourceControl)&&void 0!==ye?ye:this;this._forEachChild(On=>{On.markAsUntouched({onlySelf:!0,emitEvent:j.emitEvent,sourceControl:Ve})}),this._parent&&!j.onlySelf&&this._parent._updateTouched(j,Ve),Q&&!1!==j.emitEvent&&this._events.next(new an(!1,Ve))}markAsDirty(j={}){var ye;const Q=!0===this.pristine;this.pristine=!1;const Ve=null!==(ye=j.sourceControl)&&void 0!==ye?ye:this;this._parent&&!j.onlySelf&&this._parent.markAsDirty({...j,sourceControl:Ve}),Q&&!1!==j.emitEvent&&this._events.next(new ut(!1,Ve))}markAsPristine(j={}){var ye;const Q=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const Ve=null!==(ye=j.sourceControl)&&void 0!==ye?ye:this;this._forEachChild(On=>{On.markAsPristine({onlySelf:!0,emitEvent:j.emitEvent})}),this._parent&&!j.onlySelf&&this._parent._updatePristine(j,Ve),Q&&!1!==j.emitEvent&&this._events.next(new ut(!0,Ve))}markAsPending(j={}){var ye;this.status=Pt;const Q=null!==(ye=j.sourceControl)&&void 0!==ye?ye:this;!1!==j.emitEvent&&(this._events.next(new Ht(this.status,Q)),this.statusChanges.emit(this.status)),this._parent&&!j.onlySelf&&this._parent.markAsPending({...j,sourceControl:Q})}disable(j={}){var ye;const Q=this._parentMarkedDirty(j.onlySelf);this.status=_n,this.errors=null,this._forEachChild(On=>{On.disable({...j,onlySelf:!0})}),this._updateValue();const Ve=null!==(ye=j.sourceControl)&&void 0!==ye?ye:this;!1!==j.emitEvent&&(this._events.next(new Se(this.value,Ve)),this._events.next(new Ht(this.status,Ve)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...j,skipPristineCheck:Q},this),this._onDisabledChange.forEach(On=>On(!0))}enable(j={}){const ye=this._parentMarkedDirty(j.onlySelf);this.status=cn,this._forEachChild(Q=>{Q.enable({...j,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent}),this._updateAncestors({...j,skipPristineCheck:ye},this),this._onDisabledChange.forEach(Q=>Q(!1))}_updateAncestors(j,ye){this._parent&&!j.onlySelf&&(this._parent.updateValueAndValidity(j),j.skipPristineCheck||this._parent._updatePristine({},ye),this._parent._updateTouched({},ye))}setParent(j){this._parent=j}getRawValue(){return this.value}updateValueAndValidity(j={}){var ye;if(this._setInitialStatus(),this._updateValue(),this.enabled){const Ve=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cn||this.status===Pt)&&this._runAsyncValidator(Ve,j.emitEvent)}const Q=null!==(ye=j.sourceControl)&&void 0!==ye?ye:this;!1!==j.emitEvent&&(this._events.next(new Se(this.value,Q)),this._events.next(new Ht(this.status,Q)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!j.onlySelf&&this._parent.updateValueAndValidity({...j,sourceControl:Q})}_updateTreeValidity(j={emitEvent:!0}){this._forEachChild(ye=>ye._updateTreeValidity(j)),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_n:cn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(j,ye){if(this.asyncValidator){this.status=Pt,this._hasOwnPendingAsyncValidator={emitEvent:!1!==ye};const Q=Re(this.asyncValidator(this));this._asyncValidationSubscription=Q.subscribe(Ve=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Ve,{emitEvent:ye,shouldHaveEmitted:j})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){var j,ye;this._asyncValidationSubscription.unsubscribe();const Q=null!==(j=null===(ye=this._hasOwnPendingAsyncValidator)||void 0===ye?void 0:ye.emitEvent)&&void 0!==j&&j;return this._hasOwnPendingAsyncValidator=null,Q}return!1}setErrors(j,ye={}){this.errors=j,this._updateControlsErrors(!1!==ye.emitEvent,this,ye.shouldHaveEmitted)}get(j){let ye=j;return null==ye||(Array.isArray(ye)||(ye=ye.split(".")),0===ye.length)?null:ye.reduce((Q,Ve)=>Q&&Q._find(Ve),this)}getError(j,ye){const Q=ye?this.get(ye):this;return Q&&Q.errors?Q.errors[j]:null}hasError(j,ye){return!!this.getError(j,ye)}get root(){let j=this;for(;j._parent;)j=j._parent;return j}_updateControlsErrors(j,ye,Q){this.status=this._calculateStatus(),j&&this.statusChanges.emit(this.status),(j||Q)&&this._events.next(new Ht(this.status,ye)),this._parent&&this._parent._updateControlsErrors(j,ye,Q)}_initObservables(){this.valueChanges=new x.bkB,this.statusChanges=new x.bkB}_calculateStatus(){return this._allControlsDisabled()?_n:this.errors?Et:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pt)?Pt:this._anyControlsHaveStatus(Et)?Et:cn}_anyControlsHaveStatus(j){return this._anyControls(ye=>ye.status===j)}_anyControlsDirty(){return this._anyControls(j=>j.dirty)}_anyControlsTouched(){return this._anyControls(j=>j.touched)}_updatePristine(j,ye){const Q=!this._anyControlsDirty(),Ve=this.pristine!==Q;this.pristine=Q,this._parent&&!j.onlySelf&&this._parent._updatePristine(j,ye),Ve&&this._events.next(new ut(this.pristine,ye))}_updateTouched(j={},ye){this.touched=this._anyControlsTouched(),this._events.next(new an(this.touched,ye)),this._parent&&!j.onlySelf&&this._parent._updateTouched(j,ye)}_registerOnCollectionChange(j){this._onCollectionChange=j}_setUpdateStrategy(j){Ut(j)&&null!=j.updateOn&&(this._updateOn=j.updateOn)}_parentMarkedDirty(j){return!j&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(j){return null}_assignValidators(j){this._rawValidators=Array.isArray(j)?j.slice():j,this._composedValidatorFn=function ie(ae){return Array.isArray(ae)?hr(ae):ae||null}(this._rawValidators)}_assignAsyncValidators(j){this._rawAsyncValidators=Array.isArray(j)?j.slice():j,this._composedAsyncValidatorFn=function nt(ae){return Array.isArray(ae)?In(ae):ae||null}(this._rawAsyncValidators)}}class Sr extends wn{constructor(j,ye,Q){super(Pe(ye),G(Q,ye)),this.controls=j,this._initObservables(),this._setUpdateStrategy(ye),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(j,ye){return this.controls[j]?this.controls[j]:(this.controls[j]=ye,ye.setParent(this),ye._registerOnCollectionChange(this._onCollectionChange),ye)}addControl(j,ye,Q={}){this.registerControl(j,ye),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}removeControl(j,ye={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],this.updateValueAndValidity({emitEvent:ye.emitEvent}),this._onCollectionChange()}setControl(j,ye,Q={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],ye&&this.registerControl(j,ye),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}contains(j){return this.controls.hasOwnProperty(j)&&this.controls[j].enabled}setValue(j,ye={}){Ln(this,0,j),Object.keys(j).forEach(Q=>{vn(this,!0,Q),this.controls[Q].setValue(j[Q],{onlySelf:!0,emitEvent:ye.emitEvent})}),this.updateValueAndValidity(ye)}patchValue(j,ye={}){null!=j&&(Object.keys(j).forEach(Q=>{const Ve=this.controls[Q];Ve&&Ve.patchValue(j[Q],{onlySelf:!0,emitEvent:ye.emitEvent})}),this.updateValueAndValidity(ye))}reset(j={},ye={}){this._forEachChild((Q,Ve)=>{Q.reset(j?j[Ve]:null,{onlySelf:!0,emitEvent:ye.emitEvent})}),this._updatePristine(ye,this),this._updateTouched(ye,this),this.updateValueAndValidity(ye)}getRawValue(){return this._reduceChildren({},(j,ye,Q)=>(j[Q]=ye.getRawValue(),j))}_syncPendingControls(){let j=this._reduceChildren(!1,(ye,Q)=>!!Q._syncPendingControls()||ye);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){Object.keys(this.controls).forEach(ye=>{const Q=this.controls[ye];Q&&j(Q,ye)})}_setUpControls(){this._forEachChild(j=>{j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(j){for(const[ye,Q]of Object.entries(this.controls))if(this.contains(ye)&&j(Q))return!0;return!1}_reduceValue(){return this._reduceChildren({},(ye,Q,Ve)=>((Q.enabled||this.disabled)&&(ye[Ve]=Q.value),ye))}_reduceChildren(j,ye){let Q=j;return this._forEachChild((Ve,On)=>{Q=ye(Q,Ve,On)}),Q}_allControlsDisabled(){for(const j of Object.keys(this.controls))if(this.controls[j].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(j){return this.controls.hasOwnProperty(j)?this.controls[j]:null}}class To extends Sr{}const No=new x.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>po}),po="always";function Jn(ae,j){return[...j.path,ae]}function Uo(ae,j,ye=po){var Q,Ve;Ir(ae,j),j.valueAccessor.writeValue(ae.value),(ae.disabled||"always"===ye)&&(null===(Q=(Ve=j.valueAccessor).setDisabledState)||void 0===Q||Q.call(Ve,ae.disabled)),function Oe(ae,j){j.valueAccessor.registerOnChange(ye=>{ae._pendingValue=ye,ae._pendingChange=!0,ae._pendingDirty=!0,"change"===ae.updateOn&&Ft(ae,j)})}(ae,j),function le(ae,j){const ye=(Q,Ve)=>{j.valueAccessor.writeValue(Q),Ve&&j.viewToModelUpdate(Q)};ae.registerOnChange(ye),j._registerOnDestroy(()=>{ae._unregisterOnChange(ye)})}(ae,j),function ot(ae,j){j.valueAccessor.registerOnTouched(()=>{ae._pendingTouched=!0,"blur"===ae.updateOn&&ae._pendingChange&&Ft(ae,j),"submit"!==ae.updateOn&&ae.markAsTouched()})}(ae,j),function Hn(ae,j){if(j.valueAccessor.setDisabledState){const ye=Q=>{j.valueAccessor.setDisabledState(Q)};ae.registerOnDisabledChange(ye),j._registerOnDestroy(()=>{ae._unregisterOnDisabledChange(ye)})}}(ae,j)}function tt(ae,j,ye=!0){const Q=()=>{};j.valueAccessor&&(j.valueAccessor.registerOnChange(Q),j.valueAccessor.registerOnTouched(Q)),eo(ae,j),ae&&(j._invokeOnDestroyCallbacks(),ae._registerOnCollectionChange(()=>{}))}function dn(ae,j){ae.forEach(ye=>{ye.registerOnValidatorChange&&ye.registerOnValidatorChange(j)})}function Ir(ae,j){const ye=Xr(ae);null!==j.validator?ae.setValidators(_r(ye,j.validator)):"function"==typeof ye&&ae.setValidators([ye]);const Q=dr(ae);null!==j.asyncValidator?ae.setAsyncValidators(_r(Q,j.asyncValidator)):"function"==typeof Q&&ae.setAsyncValidators([Q]);const Ve=()=>ae.updateValueAndValidity();dn(j._rawValidators,Ve),dn(j._rawAsyncValidators,Ve)}function eo(ae,j){let ye=!1;if(null!==ae){if(null!==j.validator){const Ve=Xr(ae);if(Array.isArray(Ve)&&Ve.length>0){const On=Ve.filter(Nr=>Nr!==j.validator);On.length!==Ve.length&&(ye=!0,ae.setValidators(On))}}if(null!==j.asyncValidator){const Ve=dr(ae);if(Array.isArray(Ve)&&Ve.length>0){const On=Ve.filter(Nr=>Nr!==j.asyncValidator);On.length!==Ve.length&&(ye=!0,ae.setAsyncValidators(On))}}}const Q=()=>{};return dn(j._rawValidators,Q),dn(j._rawAsyncValidators,Q),ye}function Ft(ae,j){ae._pendingDirty&&ae.markAsDirty(),ae.setValue(ae._pendingValue,{emitModelToViewChange:!1}),j.viewToModelUpdate(ae._pendingValue),ae._pendingChange=!1}function Pn(ae,j){if(!ae.hasOwnProperty("model"))return!1;const ye=ae.model;return!!ye.isFirstChange()||!Object.is(j,ye.currentValue)}function nr(ae,j){if(!j)return null;let ye,Q,Ve;return Array.isArray(j),j.forEach(On=>{On.constructor===Ee?ye=On:function An(ae){return Object.getPrototypeOf(ae.constructor)===lt}(On)?Q=On:Ve=On}),Ve||Q||ye||null}function go(ae,j){const ye=ae.indexOf(j);ye>-1&&ae.splice(ye,1)}function br(ae){return"object"==typeof ae&&null!==ae&&2===Object.keys(ae).length&&"value"in ae&&"disabled"in ae}Promise.resolve();const Wr=class extends wn{constructor(j=null,ye,Q){super(Pe(ye),G(Q,ye)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(j),this._setUpdateStrategy(ye),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ut(ye)&&(ye.nonNullable||ye.initialValueIsDefault)&&(this.defaultValue=br(j)?j.value:j)}setValue(j,ye={}){this.value=this._pendingValue=j,this._onChange.length&&!1!==ye.emitModelToViewChange&&this._onChange.forEach(Q=>Q(this.value,!1!==ye.emitViewToModelChange)),this.updateValueAndValidity(ye)}patchValue(j,ye={}){this.setValue(j,ye)}reset(j=this.defaultValue,ye={}){this._applyFormState(j),this.markAsPristine(ye),this.markAsUntouched(ye),this.setValue(this.value,ye),this._pendingChange=!1}_updateValue(){}_anyControls(j){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(j){this._onChange.push(j)}_unregisterOnChange(j){go(this._onChange,j)}registerOnDisabledChange(j){this._onDisabledChange.push(j)}_unregisterOnDisabledChange(j){go(this._onDisabledChange,j)}_forEachChild(j){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(j){br(j)?(this.value=this._pendingValue=j.value,j.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=j}},Po={provide:sn,useExisting:(0,x.Rfq)(()=>Sa)},za=Promise.resolve();let Sa=(()=>{var ae;class j extends sn{constructor(Q,Ve,On,Nr,wi,da){super(),this._changeDetectorRef=wi,this.callSetDisabledState=da,this.control=new Wr,this._registered=!1,this.name="",this.update=new x.bkB,this._parent=Q,this._setValidators(Ve),this._setAsyncValidators(On),this.valueAccessor=nr(0,Nr)}ngOnChanges(Q){if(this._checkForErrors(),!this._registered||"name"in Q){if(this._registered&&(this._checkName(),this.formDirective)){const Ve=Q.name.previousValue;this.formDirective.removeControl({name:Ve,path:this._getPath(Ve)})}this._setUpControl()}"isDisabled"in Q&&this._updateDisabled(Q),Pn(Q,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(Q){this.viewModel=Q,this.update.emit(Q)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Uo(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(Q){za.then(()=>{var Ve;this.control.setValue(Q,{emitViewToModelChange:!1}),null===(Ve=this._changeDetectorRef)||void 0===Ve||Ve.markForCheck()})}_updateDisabled(Q){const Ve=Q.isDisabled.currentValue,On=0!==Ve&&(0,x.L39)(Ve);za.then(()=>{var Nr;On&&!this.control.disabled?this.control.disable():!On&&this.control.disabled&&this.control.enable(),null===(Nr=this._changeDetectorRef)||void 0===Nr||Nr.markForCheck()})}_getPath(Q){return this._parent?Jn(Q,this._parent):[Q]}}return(ae=j).\u0275fac=function(Q){return new(Q||ae)(x.rXU(nn,9),x.rXU(it,10),x.rXU(At,10),x.rXU(ct,10),x.rXU(x.gRc,8),x.rXU(No,8))},ae.\u0275dir=x.FsC({type:ae,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[x.Jv_([Po]),x.Vt3,x.OA$]}),j})();const et=new x.nKC(""),ht={provide:sn,useExisting:(0,x.Rfq)(()=>Bt)};let Bt=(()=>{var ae;class j extends sn{set isDisabled(Q){}constructor(Q,Ve,On,Nr,wi){super(),this._ngModelWarningConfig=Nr,this.callSetDisabledState=wi,this.update=new x.bkB,this._ngModelWarningSent=!1,this._setValidators(Q),this._setAsyncValidators(Ve),this.valueAccessor=nr(0,On)}ngOnChanges(Q){if(this._isControlChanged(Q)){const Ve=Q.form.previousValue;Ve&&tt(Ve,this,!1),Uo(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Pn(Q,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&tt(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(Q){this.viewModel=Q,this.update.emit(Q)}_isControlChanged(Q){return Q.hasOwnProperty("form")}}return(ae=j)._ngModelWarningSentOnce=!1,ae.\u0275fac=function(Q){return new(Q||ae)(x.rXU(it,10),x.rXU(At,10),x.rXU(ct,10),x.rXU(et,8),x.rXU(No,8))},ae.\u0275dir=x.FsC({type:ae,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[x.Jv_([ht]),x.Vt3,x.OA$]}),j})();const Mt={provide:nn,useExisting:(0,x.Rfq)(()=>$t)};let $t=(()=>{var ae;class j extends nn{get submitted(){return(0,x.O8t)(this._submittedReactive)}set submitted(Q){this._submittedReactive.set(Q)}constructor(Q,Ve,On){super(),this.callSetDisabledState=On,this._submitted=(0,x.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,x.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new x.bkB,this._setValidators(Q),this._setAsyncValidators(Ve)}ngOnChanges(Q){this._checkFormPresent(),Q.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(eo(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(Q){const Ve=this.form.get(Q.path);return Uo(Ve,Q,this.callSetDisabledState),Ve.updateValueAndValidity({emitEvent:!1}),this.directives.push(Q),Ve}getControl(Q){return this.form.get(Q.path)}removeControl(Q){tt(Q.control||null,Q,!1),function Er(ae,j){const ye=ae.indexOf(j);ye>-1&&ae.splice(ye,1)}(this.directives,Q)}addFormGroup(Q){this._setUpFormContainer(Q)}removeFormGroup(Q){this._cleanUpFormContainer(Q)}getFormGroup(Q){return this.form.get(Q.path)}addFormArray(Q){this._setUpFormContainer(Q)}removeFormArray(Q){this._cleanUpFormContainer(Q)}getFormArray(Q){return this.form.get(Q.path)}updateModel(Q,Ve){this.form.get(Q.path).setValue(Ve)}onSubmit(Q){var Ve;return this._submittedReactive.set(!0),function Cn(ae,j){ae._syncPendingControls(),j.forEach(ye=>{const Q=ye.control;"submit"===Q.updateOn&&Q._pendingChange&&(ye.viewToModelUpdate(Q._pendingValue),Q._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(Q),this.form._events.next(new ge(this.control)),"dialog"===(null==Q||null===(Ve=Q.target)||void 0===Ve?void 0:Ve.method)}onReset(){this.resetForm()}resetForm(Q=void 0){this.form.reset(Q),this._submittedReactive.set(!1),this.form._events.next(new de(this.form))}_updateDomValue(){this.directives.forEach(Q=>{const Ve=Q.control,On=this.form.get(Q.path);Ve!==On&&(tt(Ve||null,Q),(ae=>ae instanceof Wr)(On)&&(Uo(On,Q,this.callSetDisabledState),Q.control=On))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(Q){const Ve=this.form.get(Q.path);(function Ue(ae,j){Ir(ae,j)})(Ve,Q),Ve.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(Q){if(this.form){const Ve=this.form.get(Q.path);Ve&&function De(ae,j){return eo(ae,j)}(Ve,Q)&&Ve.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ir(this.form,this),this._oldForm&&eo(this._oldForm,this)}_checkFormPresent(){}}return(ae=j).\u0275fac=function(Q){return new(Q||ae)(x.rXU(it,10),x.rXU(At,10),x.rXU(No,8))},ae.\u0275dir=x.FsC({type:ae,selectors:[["","formGroup",""]],hostBindings:function(Q,Ve){1&Q&&x.bIt("submit",function(Nr){return Ve.onSubmit(Nr)})("reset",function(){return Ve.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[x.Jv_([Mt]),x.Vt3,x.OA$]}),j})();const Pr={provide:sn,useExisting:(0,x.Rfq)(()=>Br)};let Br=(()=>{var ae;class j extends sn{set isDisabled(Q){}constructor(Q,Ve,On,Nr,wi){super(),this._ngModelWarningConfig=wi,this._added=!1,this.name=null,this.update=new x.bkB,this._ngModelWarningSent=!1,this._parent=Q,this._setValidators(Ve),this._setAsyncValidators(On),this.valueAccessor=nr(0,Nr)}ngOnChanges(Q){this._added||this._setUpControl(),Pn(Q,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(Q){this.viewModel=Q,this.update.emit(Q)}get path(){return Jn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(ae=j)._ngModelWarningSentOnce=!1,ae.\u0275fac=function(Q){return new(Q||ae)(x.rXU(nn,13),x.rXU(it,10),x.rXU(At,10),x.rXU(ct,10),x.rXU(et,8))},ae.\u0275dir=x.FsC({type:ae,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[x.Jv_([Pr]),x.Vt3,x.OA$]}),j})();function Ei(ae){return"number"==typeof ae?ae:parseFloat(ae)}let xi=(()=>{var ae;class j{constructor(){this._validator=ue}ngOnChanges(Q){if(this.inputName in Q){const Ve=this.normalizeInput(Q[this.inputName].currentValue);this._enabled=this.enabled(Ve),this._validator=this._enabled?this.createValidator(Ve):ue,this._onChange&&this._onChange()}}validate(Q){return this._validator(Q)}registerOnValidatorChange(Q){this._onChange=Q}enabled(Q){return null!=Q}}return(ae=j).\u0275fac=function(Q){return new(Q||ae)},ae.\u0275dir=x.FsC({type:ae,features:[x.OA$]}),j})();const ta={provide:it,useExisting:(0,x.Rfq)(()=>ca),multi:!0};let ca=(()=>{var ae;class j extends xi{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=Q=>Ei(Q),this.createValidator=Q=>zt(Q)}}return(ae=j).\u0275fac=(()=>{let ye;return function(Ve){return(ye||(ye=x.xGo(ae)))(Ve||ae)}})(),ae.\u0275dir=x.FsC({type:ae,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(Q,Ve){2&Q&&x.BMQ("max",Ve._enabled?Ve.max:null)},inputs:{max:"max"},features:[x.Jv_([ta]),x.Vt3]}),j})();const di={provide:it,useExisting:(0,x.Rfq)(()=>qi),multi:!0};let qi=(()=>{var ae;class j extends xi{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=Q=>Ei(Q),this.createValidator=Q=>jt(Q)}}return(ae=j).\u0275fac=(()=>{let ye;return function(Ve){return(ye||(ye=x.xGo(ae)))(Ve||ae)}})(),ae.\u0275dir=x.FsC({type:ae,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(Q,Ve){2&Q&&x.BMQ("min",Ve._enabled?Ve.min:null)},inputs:{min:"min"},features:[x.Jv_([di]),x.Vt3]}),j})(),Ho=(()=>{var ae;class j{}return(ae=j).\u0275fac=function(Q){return new(Q||ae)},ae.\u0275mod=x.$C({type:ae}),ae.\u0275inj=x.G2t({}),j})();class Jo extends wn{constructor(j,ye,Q){super(Pe(ye),G(Q,ye)),this.controls=j,this._initObservables(),this._setUpdateStrategy(ye),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(j){return this.controls[this._adjustIndex(j)]}push(j,ye={}){this.controls.push(j),this._registerControl(j),this.updateValueAndValidity({emitEvent:ye.emitEvent}),this._onCollectionChange()}insert(j,ye,Q={}){this.controls.splice(j,0,ye),this._registerControl(ye),this.updateValueAndValidity({emitEvent:Q.emitEvent})}removeAt(j,ye={}){let Q=this._adjustIndex(j);Q<0&&(Q=0),this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),this.controls.splice(Q,1),this.updateValueAndValidity({emitEvent:ye.emitEvent})}setControl(j,ye,Q={}){let Ve=this._adjustIndex(j);Ve<0&&(Ve=0),this.controls[Ve]&&this.controls[Ve]._registerOnCollectionChange(()=>{}),this.controls.splice(Ve,1),ye&&(this.controls.splice(Ve,0,ye),this._registerControl(ye)),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(j,ye={}){Ln(this,0,j),j.forEach((Q,Ve)=>{vn(this,!1,Ve),this.at(Ve).setValue(Q,{onlySelf:!0,emitEvent:ye.emitEvent})}),this.updateValueAndValidity(ye)}patchValue(j,ye={}){null!=j&&(j.forEach((Q,Ve)=>{this.at(Ve)&&this.at(Ve).patchValue(Q,{onlySelf:!0,emitEvent:ye.emitEvent})}),this.updateValueAndValidity(ye))}reset(j=[],ye={}){this._forEachChild((Q,Ve)=>{Q.reset(j[Ve],{onlySelf:!0,emitEvent:ye.emitEvent})}),this._updatePristine(ye,this),this._updateTouched(ye,this),this.updateValueAndValidity(ye)}getRawValue(){return this.controls.map(j=>j.getRawValue())}clear(j={}){this.controls.length<1||(this._forEachChild(ye=>ye._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:j.emitEvent}))}_adjustIndex(j){return j<0?j+this.length:j}_syncPendingControls(){let j=this.controls.reduce((ye,Q)=>!!Q._syncPendingControls()||ye,!1);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){this.controls.forEach((ye,Q)=>{j(ye,Q)})}_updateValue(){this.value=this.controls.filter(j=>j.enabled||this.disabled).map(j=>j.value)}_anyControls(j){return this.controls.some(ye=>ye.enabled&&j(ye))}_setUpControls(){this._forEachChild(j=>this._registerControl(j))}_allControlsDisabled(){for(const j of this.controls)if(j.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(j){j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)}_find(j){var ye;return null!==(ye=this.at(j))&&void 0!==ye?ye:null}}function lo(ae){return!!ae&&(void 0!==ae.asyncValidators||void 0!==ae.validators||void 0!==ae.updateOn)}let ua=(()=>{var ae;class j{constructor(){this.useNonNullable=!1}get nonNullable(){const Q=new j;return Q.useNonNullable=!0,Q}group(Q,Ve=null){const On=this._reduceControls(Q);let Nr={};return lo(Ve)?Nr=Ve:null!==Ve&&(Nr.validators=Ve.validator,Nr.asyncValidators=Ve.asyncValidator),new Sr(On,Nr)}record(Q,Ve=null){const On=this._reduceControls(Q);return new To(On,Ve)}control(Q,Ve,On){let Nr={};return this.useNonNullable?(lo(Ve)?Nr=Ve:(Nr.validators=Ve,Nr.asyncValidators=On),new Wr(Q,{...Nr,nonNullable:!0})):new Wr(Q,Ve,On)}array(Q,Ve,On){const Nr=Q.map(wi=>this._createControl(wi));return new Jo(Nr,Ve,On)}_reduceControls(Q){const Ve={};return Object.keys(Q).forEach(On=>{Ve[On]=this._createControl(Q[On])}),Ve}_createControl(Q){return Q instanceof Wr||Q instanceof wn?Q:Array.isArray(Q)?this.control(Q[0],Q.length>1?Q[1]:null,Q.length>2?Q[2]:null):this.control(Q)}}return(ae=j).\u0275fac=function(Q){return new(Q||ae)},ae.\u0275prov=x.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"}),j})(),Sc=(()=>{var ae;class j{static withConfig(Q){var Ve;return{ngModule:j,providers:[{provide:No,useValue:null!==(Ve=Q.callSetDisabledState)&&void 0!==Ve?Ve:po}]}}}return(ae=j).\u0275fac=function(Q){return new(Q||ae)},ae.\u0275mod=x.$C({type:ae}),ae.\u0275inj=x.G2t({imports:[Ho]}),j})(),Ql=(()=>{var ae;class j{static withConfig(Q){var Ve,On;return{ngModule:j,providers:[{provide:et,useValue:null!==(Ve=Q.warnOnNgModelWithFormControl)&&void 0!==Ve?Ve:"always"},{provide:No,useValue:null!==(On=Q.callSetDisabledState)&&void 0!==On?On:po}]}}}return(ae=j).\u0275fac=function(Q){return new(Q||ae)},ae.\u0275mod=x.$C({type:ae}),ae.\u0275inj=x.G2t({imports:[Ho]}),j})()},345:(Un,Tt,F)=>{"use strict";F.d(Tt,{B8:()=>fe,hE:()=>pr});var x=F(177),g=F(4438);class H extends x.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class we extends H{static makeCurrent(){(0,x.ZD)(new we)}onAndCancel(Nt,cn,Et){return Nt.addEventListener(cn,Et),()=>{Nt.removeEventListener(cn,Et)}}dispatchEvent(Nt,cn){Nt.dispatchEvent(cn)}remove(Nt){Nt.remove()}createElement(Nt,cn){return(cn=cn||this.getDefaultDocument()).createElement(Nt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Nt){return Nt.nodeType===Node.ELEMENT_NODE}isShadowRoot(Nt){return Nt instanceof DocumentFragment}getGlobalEventTarget(Nt,cn){return"window"===cn?window:"document"===cn?Nt:"body"===cn?Nt.body:null}getBaseHref(Nt){const cn=function S(){return q=q||document.querySelector("base"),q?q.getAttribute("href"):null}();return null==cn?null:function Te(Zt){return new URL(Zt,document.baseURI).pathname}(cn)}resetBaseElement(){q=null}getUserAgent(){return window.navigator.userAgent}getCookie(Nt){return(0,x._b)(document.cookie,Nt)}}let q=null,Ke=(()=>{var Zt;class Nt{build(){return new XMLHttpRequest}}return(Zt=Nt).\u0275fac=function(Et){return new(Et||Zt)},Zt.\u0275prov=g.jDH({token:Zt,factory:Zt.\u0275fac}),Nt})();const _t=new g.nKC("");let $e=(()=>{var Zt;class Nt{constructor(Et,Pt){this._zone=Pt,this._eventNameToPlugin=new Map,Et.forEach(_n=>{_n.manager=this}),this._plugins=Et.slice().reverse()}addEventListener(Et,Pt,_n){return this._findPluginFor(Pt).addEventListener(Et,Pt,_n)}getZone(){return this._zone}_findPluginFor(Et){let Pt=this._eventNameToPlugin.get(Et);if(Pt)return Pt;if(Pt=this._plugins.find(Nn=>Nn.supports(Et)),!Pt)throw new g.wOt(5101,!1);return this._eventNameToPlugin.set(Et,Pt),Pt}}return(Zt=Nt).\u0275fac=function(Et){return new(Et||Zt)(g.KVO(_t),g.KVO(g.SKi))},Zt.\u0275prov=g.jDH({token:Zt,factory:Zt.\u0275fac}),Nt})();class Me{constructor(Nt){this._doc=Nt}}const Qe="ng-app-id";let Be=(()=>{var Zt;class Nt{constructor(Et,Pt,_n,Nn={}){this.doc=Et,this.appId=Pt,this.nonce=_n,this.platformId=Nn,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,x.Vy)(Nn),this.resetHostNodes()}addStyles(Et){for(const Pt of Et)1===this.changeUsageCount(Pt,1)&&this.onStyleAdded(Pt)}removeStyles(Et){for(const Pt of Et)this.changeUsageCount(Pt,-1)<=0&&this.onStyleRemoved(Pt)}ngOnDestroy(){const Et=this.styleNodesInDOM;Et&&(Et.forEach(Pt=>Pt.remove()),Et.clear());for(const Pt of this.getAllStyles())this.onStyleRemoved(Pt);this.resetHostNodes()}addHost(Et){this.hostNodes.add(Et);for(const Pt of this.getAllStyles())this.addStyleToHost(Et,Pt)}removeHost(Et){this.hostNodes.delete(Et)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Et){for(const Pt of this.hostNodes)this.addStyleToHost(Pt,Et)}onStyleRemoved(Et){var Pt;const _n=this.styleRef;null===(Pt=_n.get(Et))||void 0===Pt||null===(Pt=Pt.elements)||void 0===Pt||Pt.forEach(Nn=>Nn.remove()),_n.delete(Et)}collectServerRenderedStyles(){var Et;const Pt=null===(Et=this.doc.head)||void 0===Et?void 0:Et.querySelectorAll(`style[${Qe}="${this.appId}"]`);if(null!=Pt&&Pt.length){const _n=new Map;return Pt.forEach(Nn=>{null!=Nn.textContent&&_n.set(Nn.textContent,Nn)}),_n}return null}changeUsageCount(Et,Pt){const _n=this.styleRef;if(_n.has(Et)){const Nn=_n.get(Et);return Nn.usage+=Pt,Nn.usage}return _n.set(Et,{usage:Pt,elements:[]}),Pt}getStyleElement(Et,Pt){const _n=this.styleNodesInDOM,Nn=null==_n?void 0:_n.get(Pt);if((null==Nn?void 0:Nn.parentNode)===Et)return _n.delete(Pt),Nn.removeAttribute(Qe),Nn;{const Se=this.doc.createElement("style");return this.nonce&&Se.setAttribute("nonce",this.nonce),Se.textContent=Pt,this.platformIsServer&&Se.setAttribute(Qe,this.appId),Et.appendChild(Se),Se}}addStyleToHost(Et,Pt){var _n;const Nn=this.getStyleElement(Et,Pt),Se=this.styleRef,ut=null===(_n=Se.get(Pt))||void 0===_n?void 0:_n.elements;ut?ut.push(Nn):Se.set(Pt,{elements:[Nn],usage:1})}resetHostNodes(){const Et=this.hostNodes;Et.clear(),Et.add(this.doc.head)}}return(Zt=Nt).\u0275fac=function(Et){return new(Et||Zt)(g.KVO(x.qQ),g.KVO(g.sZ2),g.KVO(g.BIS,8),g.KVO(g.Agw))},Zt.\u0275prov=g.jDH({token:Zt,factory:Zt.\u0275fac}),Nt})();const lt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ct=/%COMP%/g,rt=new g.nKC("",{providedIn:"root",factory:()=>!0});function oe(Zt,Nt){return Nt.map(cn=>cn.replace(ct,Zt))}let it=(()=>{var Zt;class Nt{constructor(Et,Pt,_n,Nn,Se,ut,an,Ht=null){this.eventManager=Et,this.sharedStylesHost=Pt,this.appId=_n,this.removeStylesOnCompDestroy=Nn,this.doc=Se,this.platformId=ut,this.ngZone=an,this.nonce=Ht,this.rendererByCompId=new Map,this.platformIsServer=(0,x.Vy)(ut),this.defaultRenderer=new At(Et,Se,an,this.platformIsServer)}createRenderer(Et,Pt){if(!Et||!Pt)return this.defaultRenderer;this.platformIsServer&&Pt.encapsulation===g.gXe.ShadowDom&&(Pt={...Pt,encapsulation:g.gXe.Emulated});const _n=this.getOrCreateRenderer(Et,Pt);return _n instanceof on?_n.applyToHost(Et):_n instanceof Gn&&_n.applyStyles(),_n}getOrCreateRenderer(Et,Pt){const _n=this.rendererByCompId;let Nn=_n.get(Pt.id);if(!Nn){const Se=this.doc,ut=this.ngZone,an=this.eventManager,Ht=this.sharedStylesHost,ge=this.removeStylesOnCompDestroy,de=this.platformIsServer;switch(Pt.encapsulation){case g.gXe.Emulated:Nn=new on(an,Ht,Pt,this.appId,ge,Se,ut,de);break;case g.gXe.ShadowDom:return new zt(an,Ht,Et,Pt,Se,ut,this.nonce,de);default:Nn=new Gn(an,Ht,Pt,ge,Se,ut,de)}_n.set(Pt.id,Nn)}return Nn}ngOnDestroy(){this.rendererByCompId.clear()}}return(Zt=Nt).\u0275fac=function(Et){return new(Et||Zt)(g.KVO($e),g.KVO(Be),g.KVO(g.sZ2),g.KVO(rt),g.KVO(x.qQ),g.KVO(g.Agw),g.KVO(g.SKi),g.KVO(g.BIS))},Zt.\u0275prov=g.jDH({token:Zt,factory:Zt.\u0275fac}),Nt})();class At{constructor(Nt,cn,Et,Pt){this.eventManager=Nt,this.doc=cn,this.ngZone=Et,this.platformIsServer=Pt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Nt,cn){return cn?this.doc.createElementNS(lt[cn]||cn,Nt):this.doc.createElement(Nt)}createComment(Nt){return this.doc.createComment(Nt)}createText(Nt){return this.doc.createTextNode(Nt)}appendChild(Nt,cn){(jt(Nt)?Nt.content:Nt).appendChild(cn)}insertBefore(Nt,cn,Et){Nt&&(jt(Nt)?Nt.content:Nt).insertBefore(cn,Et)}removeChild(Nt,cn){cn.remove()}selectRootElement(Nt,cn){let Et="string"==typeof Nt?this.doc.querySelector(Nt):Nt;if(!Et)throw new g.wOt(-5104,!1);return cn||(Et.textContent=""),Et}parentNode(Nt){return Nt.parentNode}nextSibling(Nt){return Nt.nextSibling}setAttribute(Nt,cn,Et,Pt){if(Pt){cn=Pt+":"+cn;const _n=lt[Pt];_n?Nt.setAttributeNS(_n,cn,Et):Nt.setAttribute(cn,Et)}else Nt.setAttribute(cn,Et)}removeAttribute(Nt,cn,Et){if(Et){const Pt=lt[Et];Pt?Nt.removeAttributeNS(Pt,cn):Nt.removeAttribute(`${Et}:${cn}`)}else Nt.removeAttribute(cn)}addClass(Nt,cn){Nt.classList.add(cn)}removeClass(Nt,cn){Nt.classList.remove(cn)}setStyle(Nt,cn,Et,Pt){Pt&(g.czy.DashCase|g.czy.Important)?Nt.style.setProperty(cn,Et,Pt&g.czy.Important?"important":""):Nt.style[cn]=Et}removeStyle(Nt,cn,Et){Et&g.czy.DashCase?Nt.style.removeProperty(cn):Nt.style[cn]=""}setProperty(Nt,cn,Et){null!=Nt&&(Nt[cn]=Et)}setValue(Nt,cn){Nt.nodeValue=cn}listen(Nt,cn,Et){if("string"==typeof Nt&&!(Nt=(0,x.QT)().getGlobalEventTarget(this.doc,Nt)))throw new Error(`Unsupported event target ${Nt} for event ${cn}`);return this.eventManager.addEventListener(Nt,cn,this.decoratePreventDefault(Et))}decoratePreventDefault(Nt){return cn=>{if("__ngUnwrap__"===cn)return Nt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Nt(cn)):Nt(cn))&&cn.preventDefault()}}}function jt(Zt){return"TEMPLATE"===Zt.tagName&&void 0!==Zt.content}class zt extends At{constructor(Nt,cn,Et,Pt,_n,Nn,Se,ut){super(Nt,_n,Nn,ut),this.sharedStylesHost=cn,this.hostEl=Et,this.shadowRoot=Et.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const an=oe(Pt.id,Pt.styles);for(const Ht of an){const ge=document.createElement("style");Se&&ge.setAttribute("nonce",Se),ge.textContent=Ht,this.shadowRoot.appendChild(ge)}}nodeOrShadowRoot(Nt){return Nt===this.hostEl?this.shadowRoot:Nt}appendChild(Nt,cn){return super.appendChild(this.nodeOrShadowRoot(Nt),cn)}insertBefore(Nt,cn,Et){return super.insertBefore(this.nodeOrShadowRoot(Nt),cn,Et)}removeChild(Nt,cn){return super.removeChild(null,cn)}parentNode(Nt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Nt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Gn extends At{constructor(Nt,cn,Et,Pt,_n,Nn,Se,ut){super(Nt,_n,Nn,Se),this.sharedStylesHost=cn,this.removeStylesOnCompDestroy=Pt,this.styles=ut?oe(ut,Et.styles):Et.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class on extends Gn{constructor(Nt,cn,Et,Pt,_n,Nn,Se,ut){const an=Pt+"-"+Et.id;super(Nt,cn,Et,_n,Nn,Se,ut,an),this.contentAttr=function Ee(Zt){return"_ngcontent-%COMP%".replace(ct,Zt)}(an),this.hostAttr=function ze(Zt){return"_nghost-%COMP%".replace(ct,Zt)}(an)}applyToHost(Nt){this.applyStyles(),this.setAttribute(Nt,this.hostAttr,"")}createElement(Nt,cn){const Et=super.createElement(Nt,cn);return super.setAttribute(Et,this.contentAttr,""),Et}}let Xn=(()=>{var Zt;class Nt extends Me{constructor(Et){super(Et)}supports(Et){return!0}addEventListener(Et,Pt,_n){return Et.addEventListener(Pt,_n,!1),()=>this.removeEventListener(Et,Pt,_n)}removeEventListener(Et,Pt,_n){return Et.removeEventListener(Pt,_n)}}return(Zt=Nt).\u0275fac=function(Et){return new(Et||Zt)(g.KVO(x.qQ))},Zt.\u0275prov=g.jDH({token:Zt,factory:Zt.\u0275fac}),Nt})();const sr=["alt","control","meta","shift"],pt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},We={alt:Zt=>Zt.altKey,control:Zt=>Zt.ctrlKey,meta:Zt=>Zt.metaKey,shift:Zt=>Zt.shiftKey};let ue=(()=>{var Zt;class Nt extends Me{constructor(Et){super(Et)}supports(Et){return null!=Nt.parseEventName(Et)}addEventListener(Et,Pt,_n){const Nn=Nt.parseEventName(Pt),Se=Nt.eventCallback(Nn.fullKey,_n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,x.QT)().onAndCancel(Et,Nn.domEventName,Se))}static parseEventName(Et){const Pt=Et.toLowerCase().split("."),_n=Pt.shift();if(0===Pt.length||"keydown"!==_n&&"keyup"!==_n)return null;const Nn=Nt._normalizeKey(Pt.pop());let Se="",ut=Pt.indexOf("code");if(ut>-1&&(Pt.splice(ut,1),Se="code."),sr.forEach(Ht=>{const ge=Pt.indexOf(Ht);ge>-1&&(Pt.splice(ge,1),Se+=Ht+".")}),Se+=Nn,0!=Pt.length||0===Nn.length)return null;const an={};return an.domEventName=_n,an.fullKey=Se,an}static matchEventFullKeyCode(Et,Pt){let _n=pt[Et.key]||Et.key,Nn="";return Pt.indexOf("code.")>-1&&(_n=Et.code,Nn="code."),!(null==_n||!_n)&&(_n=_n.toLowerCase()," "===_n?_n="space":"."===_n&&(_n="dot"),sr.forEach(Se=>{Se!==_n&&(0,We[Se])(Et)&&(Nn+=Se+".")}),Nn+=_n,Nn===Pt)}static eventCallback(Et,Pt,_n){return Nn=>{Nt.matchEventFullKeyCode(Nn,Et)&&_n.runGuarded(()=>Pt(Nn))}}static _normalizeKey(Et){return"esc"===Et?"escape":Et}}return(Zt=Nt).\u0275fac=function(Et){return new(Et||Zt)(g.KVO(x.qQ))},Zt.\u0275prov=g.jDH({token:Zt,factory:Zt.\u0275fac}),Nt})();function fe(Zt,Nt){return(0,g.TL3)({rootComponent:Zt,...St(Nt)})}function St(Zt){var Nt;return{appProviders:[...Xr,...null!==(Nt=null==Zt?void 0:Zt.providers)&&void 0!==Nt?Nt:[]],platformProviders:hr}}const hr=[{provide:g.Agw,useValue:x.AJ},{provide:g.PLl,useValue:function Lt(){we.makeCurrent()},multi:!0},{provide:x.qQ,useFactory:function Yt(){return(0,g.TL$)(document),document},deps:[]}],Xr=[{provide:g.H8p,useValue:"root"},{provide:g.zcH,useFactory:function un(){return new g.zcH},deps:[]},{provide:_t,useClass:Xn,multi:!0,deps:[x.qQ,g.SKi,g.Agw]},{provide:_t,useClass:ue,multi:!0,deps:[x.qQ]},it,Be,$e,{provide:g._9s,useExisting:it},{provide:x.N0,useClass:Ke,deps:[]},[]];let pr=(()=>{var Zt;class Nt{constructor(Et){this._doc=Et}getTitle(){return this._doc.title}setTitle(Et){this._doc.title=Et||""}}return(Zt=Nt).\u0275fac=function(Et){return new(Et||Zt)(g.KVO(x.qQ))},Zt.\u0275prov=g.jDH({token:Zt,factory:Zt.\u0275fac,providedIn:"root"}),Nt})()},2902:(Un,Tt,F)=>{"use strict";F.d(Tt,{nX:()=>ir,Zp:()=>Z,wF:()=>Vt,Z:()=>Ct,Xk:()=>In,Kp:()=>ui,b:()=>Yn,Ix:()=>$n,Wk:()=>ln,iI:()=>ac,Sd:()=>Rr,lh:()=>Ol,Sn:()=>ks});var x=F(4438),g=F(1985),H=F(8071),q=F(6648),S=F(7673),Te=F(4412),ce=F(4572),Ke=F(9350),_t=F(8793),$e=F(9030),Me=F(1203),Qe=F(8810),Be=F(983),lt=F(17),ct=F(1413),Fe=F(8359),ve=F(177),wt=F(6354),ft=F(5558),rt=F(6697),Ee=F(9326),ze=F(9974),it=F(5964),At=F(1397),Ze=F(1594),He=F(274),jt=F(8141),zt=F(9437),Gn=F(4360);var sr=F(9901);function pt(A){return A<=0?()=>Be.w:(0,ze.N)((N,V)=>{let O=[];N.subscribe((0,Gn._)(V,K=>{O.push(K),A<O.length&&O.shift()},()=>{for(const K of O)V.next(K);V.complete()},void 0,()=>{O=null}))})}var We=F(3774),ue=F(3669),Re=F(3703),St=F(980),Ot=F(9898),Lt=F(8750),un=F(5343),hr=F(6365),Qn=F(345);const In="primary",_r=Symbol("RouteTitle");class Xr{constructor(N){this.params=N||{}}has(N){return Object.prototype.hasOwnProperty.call(this.params,N)}get(N){if(this.has(N)){const V=this.params[N];return Array.isArray(V)?V[0]:V}return null}getAll(N){if(this.has(N)){const V=this.params[N];return Array.isArray(V)?V:[V]}return[]}get keys(){return Object.keys(this.params)}}function dr(A){return new Xr(A)}function Dr(A,N,V){const O=V.path.split("/");if(O.length>A.length||"full"===V.pathMatch&&(N.hasChildren()||O.length<A.length))return null;const K={};for(let Ae=0;Ae<O.length;Ae++){const Le=O[Ae],Gt=A[Ae];if(":"===Le[0])K[Le.substring(1)]=Gt;else if(Le!==Gt.path)return null}return{consumed:A.slice(0,O.length),posParams:K}}function pr(A,N){const V=A?Kr(A):void 0,O=N?Kr(N):void 0;if(!V||!O||V.length!=O.length)return!1;let K;for(let Ae=0;Ae<V.length;Ae++)if(K=V[Ae],!xn(A[K],N[K]))return!1;return!0}function Kr(A){return[...Object.keys(A),...Object.getOwnPropertySymbols(A)]}function xn(A,N){if(Array.isArray(A)&&Array.isArray(N)){if(A.length!==N.length)return!1;const V=[...A].sort(),O=[...N].sort();return V.every((K,Ae)=>O[Ae]===K)}return A===N}function nn(A){return A.length>0?A[A.length-1]:null}function sn(A){return function we(A){return!!A&&(A instanceof g.c||(0,H.T)(A.lift)&&(0,H.T)(A.subscribe))}(A)?A:(0,x.jNT)(A)?(0,q.H)(Promise.resolve(A)):(0,S.of)(A)}const qt={exact:function fr(A,N,V){if(!Cr(A.segments,N.segments)||!ho(A.segments,N.segments,V)||A.numberOfChildren!==N.numberOfChildren)return!1;for(const O in N.children)if(!A.children[O]||!fr(A.children[O],N.children[O],V))return!1;return!0},subset:fo},Fr={exact:function lr(A,N){return pr(A,N)},subset:function uo(A,N){return Object.keys(N).length<=Object.keys(A).length&&Object.keys(N).every(V=>xn(A[V],N[V]))},ignored:()=>!0};function kr(A,N,V){return qt[V.paths](A.root,N.root,V.matrixParams)&&Fr[V.queryParams](A.queryParams,N.queryParams)&&!("exact"===V.fragment&&A.fragment!==N.fragment)}function fo(A,N,V){return Lr(A,N,N.segments,V)}function Lr(A,N,V,O){if(A.segments.length>V.length){const K=A.segments.slice(0,V.length);return!(!Cr(K,V)||N.hasChildren()||!ho(K,V,O))}if(A.segments.length===V.length){if(!Cr(A.segments,V)||!ho(A.segments,V,O))return!1;for(const K in N.children)if(!A.children[K]||!fo(A.children[K],N.children[K],O))return!1;return!0}{const K=V.slice(0,A.segments.length),Ae=V.slice(A.segments.length);return!!(Cr(A.segments,K)&&ho(A.segments,K,O)&&A.children[In])&&Lr(A.children[In],N,Ae,O)}}function ho(A,N,V){return N.every((O,K)=>Fr[V](A[K].parameters,O.parameters))}class Vr{constructor(N=new Ur([],{}),V={},O=null){this.root=N,this.queryParams=V,this.fragment=O}get queryParamMap(){var N;return null!==(N=this._queryParamMap)&&void 0!==N||(this._queryParamMap=dr(this.queryParams)),this._queryParamMap}toString(){return tn.serialize(this)}}class Ur{constructor(N,V){this.segments=N,this.children=V,this.parent=null,Object.values(V).forEach(O=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ar(this)}}class qr{constructor(N,V){this.path=N,this.parameters=V}get parameterMap(){var N;return null!==(N=this._parameterMap)&&void 0!==N||(this._parameterMap=dr(this.parameters)),this._parameterMap}toString(){return _n(this)}}function Cr(A,N){return A.length===N.length&&A.every((V,O)=>V.path===N[O].path)}let Rr=(()=>{var A;class N{}return(A=N).\u0275fac=function(O){return new(O||A)},A.\u0275prov=x.jDH({token:A,factory:()=>new Zr,providedIn:"root"}),N})();class Zr{parse(N){const V=new nt(N);return new Vr(V.parseRootSegment(),V.parseQueryParams(),V.parseFragment())}serialize(N){const V=`/${Or(N.root,!0)}`,O=function Se(A){const N=Object.entries(A).map(([V,O])=>Array.isArray(O)?O.map(K=>`${Zt(V)}=${Zt(K)}`).join("&"):`${Zt(V)}=${Zt(O)}`).filter(V=>V);return N.length?`?${N.join("&")}`:""}(N.queryParams);return`${V}${O}${"string"==typeof N.fragment?`#${function Nt(A){return encodeURI(A)}(N.fragment)}`:""}`}}const tn=new Zr;function ar(A){return A.segments.map(N=>_n(N)).join("/")}function Or(A,N){if(!A.hasChildren())return ar(A);if(N){const V=A.children[In]?Or(A.children[In],!1):"",O=[];return Object.entries(A.children).forEach(([K,Ae])=>{K!==In&&O.push(`${K}:${Or(Ae,!1)}`)}),O.length>0?`${V}(${O.join("//")})`:V}{const V=function ko(A,N){let V=[];return Object.entries(A.children).forEach(([O,K])=>{O===In&&(V=V.concat(N(K,O)))}),Object.entries(A.children).forEach(([O,K])=>{O!==In&&(V=V.concat(N(K,O)))}),V}(A,(O,K)=>K===In?[Or(A.children[In],!1)]:[`${K}:${Or(O,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[In]?`${ar(A)}/${V[0]}`:`${ar(A)}/(${V.join("//")})`}}function so(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zt(A){return so(A).replace(/%3B/gi,";")}function cn(A){return so(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Et(A){return decodeURIComponent(A)}function Pt(A){return Et(A.replace(/\+/g,"%20"))}function _n(A){return`${cn(A.path)}${function Nn(A){return Object.entries(A).map(([N,V])=>`;${cn(N)}=${cn(V)}`).join("")}(A.parameters)}`}const ut=/^[^\/()?;#]+/;function an(A){const N=A.match(ut);return N?N[0]:""}const Ht=/^[^\/()?;=#]+/,de=/^[^=?&#]+/,ie=/^[^&#]+/;class nt{constructor(N){this.url=N,this.remaining=N}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ur([],{}):new Ur([],this.parseChildren())}parseQueryParams(){const N={};if(this.consumeOptional("?"))do{this.parseQueryParam(N)}while(this.consumeOptional("&"));return N}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const N=[];for(this.peekStartsWith("(")||N.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),N.push(this.parseSegment());let V={};this.peekStartsWith("/(")&&(this.capture("/"),V=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(N.length>0||Object.keys(V).length>0)&&(O[In]=new Ur(N,V)),O}parseSegment(){const N=an(this.remaining);if(""===N&&this.peekStartsWith(";"))throw new x.wOt(4009,!1);return this.capture(N),new qr(Et(N),this.parseMatrixParams())}parseMatrixParams(){const N={};for(;this.consumeOptional(";");)this.parseParam(N);return N}parseParam(N){const V=function ge(A){const N=A.match(Ht);return N?N[0]:""}(this.remaining);if(!V)return;this.capture(V);let O="";if(this.consumeOptional("=")){const K=an(this.remaining);K&&(O=K,this.capture(O))}N[Et(V)]=Et(O)}parseQueryParam(N){const V=function Pe(A){const N=A.match(de);return N?N[0]:""}(this.remaining);if(!V)return;this.capture(V);let O="";if(this.consumeOptional("=")){const Le=function G(A){const N=A.match(ie);return N?N[0]:""}(this.remaining);Le&&(O=Le,this.capture(O))}const K=Pt(V),Ae=Pt(O);if(N.hasOwnProperty(K)){let Le=N[K];Array.isArray(Le)||(Le=[Le],N[K]=Le),Le.push(Ae)}else N[K]=Ae}parseParens(N){const V={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=an(this.remaining),K=this.remaining[O.length];if("/"!==K&&")"!==K&&";"!==K)throw new x.wOt(4010,!1);let Ae;O.indexOf(":")>-1?(Ae=O.slice(0,O.indexOf(":")),this.capture(Ae),this.capture(":")):N&&(Ae=In);const Le=this.parseChildren();V[Ae]=1===Object.keys(Le).length?Le[In]:new Ur([],Le),this.consumeOptional("//")}return V}peekStartsWith(N){return this.remaining.startsWith(N)}consumeOptional(N){return!!this.peekStartsWith(N)&&(this.remaining=this.remaining.substring(N.length),!0)}capture(N){if(!this.consumeOptional(N))throw new x.wOt(4011,!1)}}function Ut(A){return A.segments.length>0?new Ur([],{[In]:A}):A}function vn(A){const N={};for(const[O,K]of Object.entries(A.children)){const Ae=vn(K);if(O===In&&0===Ae.segments.length&&Ae.hasChildren())for(const[Le,Gt]of Object.entries(Ae.children))N[Le]=Gt;else(Ae.segments.length>0||Ae.hasChildren())&&(N[O]=Ae)}return function Ln(A){if(1===A.numberOfChildren&&A.children[In]){const N=A.children[In];return new Ur(A.segments.concat(N.segments),N.children)}return A}(new Ur(A.segments,N))}function wn(A){return A instanceof Vr}function Io(A){var N;let V;const Ae=Ut(function O(Le){const Gt={};for(const rn of Le.children){const ur=O(rn);Gt[rn.outlet]=ur}const fn=new Ur(Le.url,Gt);return Le===A&&(V=fn),fn}(A.root));return null!==(N=V)&&void 0!==N?N:Ae}function zo(A,N,V,O){let K=A;for(;K.parent;)K=K.parent;if(0===N.length)return Ar(K,K,K,V,O);const Ae=function Jn(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new po(!0,0,A);let N=0,V=!1;const O=A.reduce((K,Ae,Le)=>{if("object"==typeof Ae&&null!=Ae){if(Ae.outlets){const Gt={};return Object.entries(Ae.outlets).forEach(([fn,rn])=>{Gt[fn]="string"==typeof rn?rn.split("/"):rn}),[...K,{outlets:Gt}]}if(Ae.segmentPath)return[...K,Ae.segmentPath]}return"string"!=typeof Ae?[...K,Ae]:0===Le?(Ae.split("/").forEach((Gt,fn)=>{0==fn&&"."===Gt||(0==fn&&""===Gt?V=!0:".."===Gt?N++:""!=Gt&&K.push(Gt))}),K):[...K,Ae]},[]);return new po(V,N,O)}(N);if(Ae.toRoot())return Ar(K,K,new Ur([],{}),V,O);const Le=function tt(A,N,V){if(A.isAbsolute)return new Uo(N,!0,0);if(!V)return new Uo(N,!1,NaN);if(null===V.parent)return new Uo(V,!0,0);const O=wo(A.commands[0])?0:1;return function dn(A,N,V){let O=A,K=N,Ae=V;for(;Ae>K;){if(Ae-=K,O=O.parent,!O)throw new x.wOt(4005,!1);K=O.segments.length}return new Uo(O,!1,K-Ae)}(V,V.segments.length-1+O,A.numberOfDoubleDots)}(Ae,K,A),Gt=Le.processChildren?eo(Le.segmentGroup,Le.index,Ae.commands):Ir(Le.segmentGroup,Le.index,Ae.commands);return Ar(K,Le.segmentGroup,Gt,V,O)}function wo(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function To(A){return"object"==typeof A&&null!=A&&A.outlets}function Ar(A,N,V,O,K){let Le,Ae={};O&&Object.entries(O).forEach(([fn,rn])=>{Ae[fn]=Array.isArray(rn)?rn.map(ur=>`${ur}`):`${rn}`}),Le=A===N?V:No(A,N,V);const Gt=Ut(vn(Le));return new Vr(Gt,Ae,K)}function No(A,N,V){const O={};return Object.entries(A.children).forEach(([K,Ae])=>{O[K]=Ae===N?V:No(Ae,N,V)}),new Ur(A.segments,O)}class po{constructor(N,V,O){if(this.isAbsolute=N,this.numberOfDoubleDots=V,this.commands=O,N&&O.length>0&&wo(O[0]))throw new x.wOt(4003,!1);const K=O.find(To);if(K&&K!==nn(O))throw new x.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Uo{constructor(N,V,O){this.segmentGroup=N,this.processChildren=V,this.index=O}}function Ir(A,N,V){var O;if(null!==(O=A)&&void 0!==O||(A=new Ur([],{})),0===A.segments.length&&A.hasChildren())return eo(A,N,V);const K=function Oe(A,N,V){let O=0,K=N;const Ae={match:!1,pathIndex:0,commandIndex:0};for(;K<A.segments.length;){if(O>=V.length)return Ae;const Le=A.segments[K],Gt=V[O];if(To(Gt))break;const fn=`${Gt}`,rn=O<V.length-1?V[O+1]:null;if(K>0&&void 0===fn)break;if(fn&&rn&&"object"==typeof rn&&void 0===rn.outlets){if(!Ue(fn,rn,Le))return Ae;O+=2}else{if(!Ue(fn,{},Le))return Ae;O++}K++}return{match:!0,pathIndex:K,commandIndex:O}}(A,N,V),Ae=V.slice(K.commandIndex);if(K.match&&K.pathIndex<A.segments.length){const Le=new Ur(A.segments.slice(0,K.pathIndex),{});return Le.children[In]=new Ur(A.segments.slice(K.pathIndex),A.children),eo(Le,0,Ae)}return K.match&&0===Ae.length?new Ur(A.segments,{}):K.match&&!A.hasChildren()?ot(A,N,V):K.match?eo(A,0,Ae):ot(A,N,V)}function eo(A,N,V){if(0===V.length)return new Ur(A.segments,{});{const O=function Hn(A){return To(A[0])?A[0].outlets:{[In]:A}}(V),K={};if(Object.keys(O).some(Ae=>Ae!==In)&&A.children[In]&&1===A.numberOfChildren&&0===A.children[In].segments.length){const Ae=eo(A.children[In],N,V);return new Ur(A.segments,Ae.children)}return Object.entries(O).forEach(([Ae,Le])=>{"string"==typeof Le&&(Le=[Le]),null!==Le&&(K[Ae]=Ir(A.children[Ae],N,Le))}),Object.entries(A.children).forEach(([Ae,Le])=>{void 0===O[Ae]&&(K[Ae]=Le)}),new Ur(A.segments,K)}}function ot(A,N,V){const O=A.segments.slice(0,N);let K=0;for(;K<V.length;){const Ae=V[K];if(To(Ae)){const fn=Ft(Ae.outlets);return new Ur(O,fn)}if(0===K&&wo(V[0])){O.push(new qr(A.segments[N].path,le(V[0]))),K++;continue}const Le=To(Ae)?Ae.outlets[In]:`${Ae}`,Gt=K<V.length-1?V[K+1]:null;Le&&Gt&&wo(Gt)?(O.push(new qr(Le,le(Gt))),K+=2):(O.push(new qr(Le,{})),K++)}return new Ur(O,{})}function Ft(A){const N={};return Object.entries(A).forEach(([V,O])=>{"string"==typeof O&&(O=[O]),null!==O&&(N[V]=ot(new Ur([],{}),0,O))}),N}function le(A){const N={};return Object.entries(A).forEach(([V,O])=>N[V]=`${O}`),N}function Ue(A,N,V){return A==V.path&&pr(N,V.parameters)}const De="imperative";var qe=function(A){return A[A.NavigationStart=0]="NavigationStart",A[A.NavigationEnd=1]="NavigationEnd",A[A.NavigationCancel=2]="NavigationCancel",A[A.NavigationError=3]="NavigationError",A[A.RoutesRecognized=4]="RoutesRecognized",A[A.ResolveStart=5]="ResolveStart",A[A.ResolveEnd=6]="ResolveEnd",A[A.GuardsCheckStart=7]="GuardsCheckStart",A[A.GuardsCheckEnd=8]="GuardsCheckEnd",A[A.RouteConfigLoadStart=9]="RouteConfigLoadStart",A[A.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",A[A.ChildActivationStart=11]="ChildActivationStart",A[A.ChildActivationEnd=12]="ChildActivationEnd",A[A.ActivationStart=13]="ActivationStart",A[A.ActivationEnd=14]="ActivationEnd",A[A.Scroll=15]="Scroll",A[A.NavigationSkipped=16]="NavigationSkipped",A}(qe||{});class st{constructor(N,V){this.id=N,this.url=V}}class Ct extends st{constructor(N,V,O="imperative",K=null){super(N,V),this.type=qe.NavigationStart,this.navigationTrigger=O,this.restoredState=K}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vt extends st{constructor(N,V,O){super(N,V),this.urlAfterRedirects=O,this.type=qe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var mn=function(A){return A[A.Redirect=0]="Redirect",A[A.SupersededByNewNavigation=1]="SupersededByNewNavigation",A[A.NoDataFromResolver=2]="NoDataFromResolver",A[A.GuardRejected=3]="GuardRejected",A}(mn||{}),Pn=function(A){return A[A.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",A[A.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",A}(Pn||{});class An extends st{constructor(N,V,O,K){super(N,V),this.reason=O,this.code=K,this.type=qe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cn extends st{constructor(N,V,O,K){super(N,V),this.reason=O,this.code=K,this.type=qe.NavigationSkipped}}class nr extends st{constructor(N,V,O,K){super(N,V),this.error=O,this.target=K,this.type=qe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Er extends st{constructor(N,V,O,K){super(N,V),this.urlAfterRedirects=O,this.state=K,this.type=qe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gr extends st{constructor(N,V,O,K){super(N,V),this.urlAfterRedirects=O,this.state=K,this.type=qe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xr extends st{constructor(N,V,O,K,Ae){super(N,V),this.urlAfterRedirects=O,this.state=K,this.shouldActivate=Ae,this.type=qe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class no extends st{constructor(N,V,O,K){super(N,V),this.urlAfterRedirects=O,this.state=K,this.type=qe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tr extends st{constructor(N,V,O,K){super(N,V),this.urlAfterRedirects=O,this.state=K,this.type=qe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class go{constructor(N){this.route=N,this.type=qe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class br{constructor(N){this.route=N,this.type=qe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Wr{constructor(N){this.snapshot=N,this.type=qe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ki{constructor(N){this.snapshot=N,this.type=qe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mi{constructor(N){this.snapshot=N,this.type=qe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ea{constructor(N){this.snapshot=N,this.type=qe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ja{constructor(N,V,O){this.routerEvent=N,this.position=V,this.anchor=O,this.type=qe.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Li{}class bi{constructor(N,V){this.url=N,this.navigationBehaviorOptions=V}}function se(A){return A.outlet||In}function U(A){var N;if(!A)return null;if(null!==(N=A.routeConfig)&&void 0!==N&&N._injector)return A.routeConfig._injector;for(let V=A.parent;V;V=V.parent){const O=V.routeConfig;if(null!=O&&O._loadedInjector)return O._loadedInjector;if(null!=O&&O._injector)return O._injector}return null}class M{get injector(){var N,V;return null!==(N=U(null===(V=this.route)||void 0===V?void 0:V.snapshot))&&void 0!==N?N:this.rootInjector}set injector(N){}constructor(N){this.rootInjector=N,this.outlet=null,this.route=null,this.children=new Z(this.rootInjector),this.attachRef=null}}let Z=(()=>{var A;class N{constructor(O){this.rootInjector=O,this.contexts=new Map}onChildOutletCreated(O,K){const Ae=this.getOrCreateContext(O);Ae.outlet=K,this.contexts.set(O,Ae)}onChildOutletDestroyed(O){const K=this.getContext(O);K&&(K.outlet=null,K.attachRef=null)}onOutletDeactivated(){const O=this.contexts;return this.contexts=new Map,O}onOutletReAttached(O){this.contexts=O}getOrCreateContext(O){let K=this.getContext(O);return K||(K=new M(this.rootInjector),this.contexts.set(O,K)),K}getContext(O){return this.contexts.get(O)||null}}return(A=N).\u0275fac=function(O){return new(O||A)(x.KVO(x.uvJ))},A.\u0275prov=x.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),N})();class et{constructor(N){this._root=N}get root(){return this._root.value}parent(N){const V=this.pathFromRoot(N);return V.length>1?V[V.length-2]:null}children(N){const V=ht(N,this._root);return V?V.children.map(O=>O.value):[]}firstChild(N){const V=ht(N,this._root);return V&&V.children.length>0?V.children[0].value:null}siblings(N){const V=Bt(N,this._root);return V.length<2?[]:V[V.length-2].children.map(K=>K.value).filter(K=>K!==N)}pathFromRoot(N){return Bt(N,this._root).map(V=>V.value)}}function ht(A,N){if(A===N.value)return N;for(const V of N.children){const O=ht(A,V);if(O)return O}return null}function Bt(A,N){if(A===N.value)return[N];for(const V of N.children){const O=Bt(A,V);if(O.length)return O.unshift(N),O}return[]}class Mt{constructor(N,V){this.value=N,this.children=V}toString(){return`TreeNode(${this.value})`}}function $t(A){const N={};return A&&A.children.forEach(V=>N[V.value.outlet]=V),N}class Wt extends et{constructor(N,V){super(N),this.snapshot=V,Fo(this,N)}toString(){return this.snapshot.toString()}}function Dn(A){const N=function Bn(A){const Ae=new Pr([],{},{},"",{},In,A,null,{});return new Br("",new Mt(Ae,[]))}(A),V=new Te.t([new qr("",{})]),O=new Te.t({}),K=new Te.t({}),Ae=new Te.t({}),Le=new Te.t(""),Gt=new ir(V,O,Ae,Le,K,In,A,N.root);return Gt.snapshot=N.root,new Wt(new Mt(Gt,[]),N)}class ir{constructor(N,V,O,K,Ae,Le,Gt,fn){var rn,ur;this.urlSubject=N,this.paramsSubject=V,this.queryParamsSubject=O,this.fragmentSubject=K,this.dataSubject=Ae,this.outlet=Le,this.component=Gt,this._futureSnapshot=fn,this.title=null!==(rn=null===(ur=this.dataSubject)||void 0===ur?void 0:ur.pipe((0,wt.T)(mo=>mo[_r])))&&void 0!==rn?rn:(0,S.of)(void 0),this.url=N,this.params=V,this.queryParams=O,this.fragment=K,this.data=Ae}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var N;return null!==(N=this._paramMap)&&void 0!==N||(this._paramMap=this.params.pipe((0,wt.T)(V=>dr(V)))),this._paramMap}get queryParamMap(){var N;return null!==(N=this._queryParamMap)&&void 0!==N||(this._queryParamMap=this.queryParams.pipe((0,wt.T)(V=>dr(V)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function mr(A,N,V="emptyOnly"){var O;let K;const{routeConfig:Ae}=A;var Le;return K=null===N||"always"!==V&&""!==(null==Ae?void 0:Ae.path)&&(N.component||null!==(O=N.routeConfig)&&void 0!==O&&O.loadComponent)?{params:{...A.params},data:{...A.data},resolve:{...A.data,...null!==(Le=A._resolvedData)&&void 0!==Le?Le:{}}}:{params:{...N.params,...A.params},data:{...N.data,...A.data},resolve:{...A.data,...N.data,...null==Ae?void 0:Ae.data,...A._resolvedData}},Ae&&li(Ae)&&(K.resolve[_r]=Ae.title),K}class Pr{get title(){var N;return null===(N=this.data)||void 0===N?void 0:N[_r]}constructor(N,V,O,K,Ae,Le,Gt,fn,rn){this.url=N,this.params=V,this.queryParams=O,this.fragment=K,this.data=Ae,this.outlet=Le,this.component=Gt,this.routeConfig=fn,this._resolve=rn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var N;return null!==(N=this._paramMap)&&void 0!==N||(this._paramMap=dr(this.params)),this._paramMap}get queryParamMap(){var N;return null!==(N=this._queryParamMap)&&void 0!==N||(this._queryParamMap=dr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Br extends et{constructor(N,V){super(V),this.url=N,Fo(this,V)}toString(){return Go(this._root)}}function Fo(A,N){N.value._routerState=A,N.children.forEach(V=>Fo(A,V))}function Go(A){const N=A.children.length>0?` { ${A.children.map(Go).join(", ")} } `:"";return`${A.value}${N}`}function qo(A){if(A.snapshot){const N=A.snapshot,V=A._futureSnapshot;A.snapshot=V,pr(N.queryParams,V.queryParams)||A.queryParamsSubject.next(V.queryParams),N.fragment!==V.fragment&&A.fragmentSubject.next(V.fragment),pr(N.params,V.params)||A.paramsSubject.next(V.params),function vr(A,N){if(A.length!==N.length)return!1;for(let V=0;V<A.length;++V)if(!pr(A[V],N[V]))return!1;return!0}(N.url,V.url)||A.urlSubject.next(V.url),pr(N.data,V.data)||A.dataSubject.next(V.data)}else A.snapshot=A._futureSnapshot,A.dataSubject.next(A._futureSnapshot.data)}function Vo(A,N){const V=pr(A.params,N.params)&&function Yr(A,N){return Cr(A,N)&&A.every((V,O)=>pr(V.parameters,N[O].parameters))}(A.url,N.url);return V&&!(!A.parent!=!N.parent)&&(!A.parent||Vo(A.parent,N.parent))}function li(A){return"string"==typeof A.title||null===A.title}let la=(()=>{var A;class N{constructor(){this.activated=null,this._activatedRoute=null,this.name=In,this.activateEvents=new x.bkB,this.deactivateEvents=new x.bkB,this.attachEvents=new x.bkB,this.detachEvents=new x.bkB,this.parentContexts=(0,x.WQX)(Z),this.location=(0,x.WQX)(x.c1b),this.changeDetector=(0,x.WQX)(x.gRc),this.inputBinder=(0,x.WQX)(Pi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(O){if(O.name){const{firstChange:K,previousValue:Ae}=O.name;if(K)return;this.isTrackedInParentContexts(Ae)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Ae)),this.initializeOutletWithName()}}ngOnDestroy(){var O;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(O=this.inputBinder)||void 0===O||O.unsubscribeFromRouteData(this)}isTrackedInParentContexts(O){var K;return(null===(K=this.parentContexts.getContext(O))||void 0===K?void 0:K.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const O=this.parentContexts.getContext(this.name);null!=O&&O.route&&(O.attachRef?this.attach(O.attachRef,O.route):this.activateWith(O.route,O.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x.wOt(4012,!1);this.location.detach();const O=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(O.instance),O}attach(O,K){var Ae;this.activated=O,this._activatedRoute=K,this.location.insert(O.hostView),null===(Ae=this.inputBinder)||void 0===Ae||Ae.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(O.instance)}deactivate(){if(this.activated){const O=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(O)}}activateWith(O,K){var Ae;if(this.isActivated)throw new x.wOt(4013,!1);this._activatedRoute=O;const Le=this.location,fn=O.snapshot.component,rn=this.parentContexts.getOrCreateContext(this.name).children,ur=new ci(O,rn,Le.injector);this.activated=Le.createComponent(fn,{index:Le.length,injector:ur,environmentInjector:K}),this.changeDetector.markForCheck(),null===(Ae=this.inputBinder)||void 0===Ae||Ae.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(A=N).\u0275fac=function(O){return new(O||A)},A.\u0275dir=x.FsC({type:A,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[x.OA$]}),N})();class ci{__ngOutletInjector(N){return new ci(this.route,this.childContexts,N)}constructor(N,V,O){this.route=N,this.childContexts=V,this.parent=O}get(N,V){return N===ir?this.route:N===Z?this.childContexts:this.parent.get(N,V)}}const Pi=new x.nKC("");let Xe=(()=>{var A;class N{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(O){this.unsubscribeFromRouteData(O),this.subscribeToRouteData(O)}unsubscribeFromRouteData(O){var K;null===(K=this.outletDataSubscriptions.get(O))||void 0===K||K.unsubscribe(),this.outletDataSubscriptions.delete(O)}subscribeToRouteData(O){const{activatedRoute:K}=O,Ae=(0,ce.z)([K.queryParams,K.params,K.data]).pipe((0,ft.n)(([Le,Gt,fn],rn)=>(fn={...Le,...Gt,...fn},0===rn?(0,S.of)(fn):Promise.resolve(fn)))).subscribe(Le=>{if(!O.isActivated||!O.activatedComponentRef||O.activatedRoute!==K||null===K.component)return void this.unsubscribeFromRouteData(O);const Gt=(0,x.HJs)(K.component);if(Gt)for(const{templateName:fn}of Gt.inputs)O.activatedComponentRef.setInput(fn,Le[fn]);else this.unsubscribeFromRouteData(O)});this.outletDataSubscriptions.set(O,Ae)}}return(A=N).\u0275fac=function(O){return new(O||A)},A.\u0275prov=x.jDH({token:A,factory:A.\u0275fac}),N})();function Aa(A,N,V){if(V&&A.shouldReuseRoute(N.value,V.value.snapshot)){const O=V.value;O._futureSnapshot=N.value;const K=function ws(A,N,V){return N.children.map(O=>{for(const K of V.children)if(A.shouldReuseRoute(O.value,K.value.snapshot))return Aa(A,O,K);return Aa(A,O)})}(A,N,V);return new Mt(O,K)}{if(A.shouldAttach(N.value)){const Ae=A.retrieve(N.value);if(null!==Ae){const Le=Ae.route;return Le.value._futureSnapshot=N.value,Le.children=N.children.map(Gt=>Aa(A,Gt)),Le}}const O=function Ei(A){return new ir(new Te.t(A.url),new Te.t(A.params),new Te.t(A.queryParams),new Te.t(A.fragment),new Te.t(A.data),A.outlet,A.component,A)}(N.value),K=N.children.map(Ae=>Aa(A,Ae));return new Mt(O,K)}}class xi{constructor(N,V){this.redirectTo=N,this.navigationBehaviorOptions=V}}const ta="ngNavigationCancelingError";function ca(A,N){const{redirectTo:V,navigationBehaviorOptions:O}=wn(N)?{redirectTo:N,navigationBehaviorOptions:void 0}:N,K=di(!1,mn.Redirect);return K.url=V,K.navigationBehaviorOptions=O,K}function di(A,N){const V=new Error(`NavigationCancelingError: ${A||""}`);return V[ta]=!0,V.cancellationCode=N,V}function Ua(A){return!!A&&A[ta]}class xe{constructor(N,V,O,K,Ae){this.routeReuseStrategy=N,this.futureState=V,this.currState=O,this.forwardEvent=K,this.inputBindingEnabled=Ae}activate(N){const V=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(V,O,N),qo(this.futureState.root),this.activateChildRoutes(V,O,N)}deactivateChildRoutes(N,V,O){const K=$t(V);N.children.forEach(Ae=>{const Le=Ae.value.outlet;this.deactivateRoutes(Ae,K[Le],O),delete K[Le]}),Object.values(K).forEach(Ae=>{this.deactivateRouteAndItsChildren(Ae,O)})}deactivateRoutes(N,V,O){const K=N.value,Ae=V?V.value:null;if(K===Ae)if(K.component){const Le=O.getContext(K.outlet);Le&&this.deactivateChildRoutes(N,V,Le.children)}else this.deactivateChildRoutes(N,V,O);else Ae&&this.deactivateRouteAndItsChildren(V,O)}deactivateRouteAndItsChildren(N,V){N.value.component&&this.routeReuseStrategy.shouldDetach(N.value.snapshot)?this.detachAndStoreRouteSubtree(N,V):this.deactivateRouteAndOutlet(N,V)}detachAndStoreRouteSubtree(N,V){const O=V.getContext(N.value.outlet),K=O&&N.value.component?O.children:V,Ae=$t(N);for(const Le of Object.values(Ae))this.deactivateRouteAndItsChildren(Le,K);if(O&&O.outlet){const Le=O.outlet.detach(),Gt=O.children.onOutletDeactivated();this.routeReuseStrategy.store(N.value.snapshot,{componentRef:Le,route:N,contexts:Gt})}}deactivateRouteAndOutlet(N,V){const O=V.getContext(N.value.outlet),K=O&&N.value.component?O.children:V,Ae=$t(N);for(const Le of Object.values(Ae))this.deactivateRouteAndItsChildren(Le,K);O&&(O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated()),O.attachRef=null,O.route=null)}activateChildRoutes(N,V,O){const K=$t(V);N.children.forEach(Ae=>{this.activateRoutes(Ae,K[Ae.value.outlet],O),this.forwardEvent(new ea(Ae.value.snapshot))}),N.children.length&&this.forwardEvent(new Ki(N.value.snapshot))}activateRoutes(N,V,O){const K=N.value,Ae=V?V.value:null;if(qo(K),K===Ae)if(K.component){const Le=O.getOrCreateContext(K.outlet);this.activateChildRoutes(N,V,Le.children)}else this.activateChildRoutes(N,V,O);else if(K.component){const Le=O.getOrCreateContext(K.outlet);if(this.routeReuseStrategy.shouldAttach(K.snapshot)){const Gt=this.routeReuseStrategy.retrieve(K.snapshot);this.routeReuseStrategy.store(K.snapshot,null),Le.children.onOutletReAttached(Gt.contexts),Le.attachRef=Gt.componentRef,Le.route=Gt.route.value,Le.outlet&&Le.outlet.attach(Gt.componentRef,Gt.route.value),qo(Gt.route.value),this.activateChildRoutes(N,null,Le.children)}else Le.attachRef=null,Le.route=K,Le.outlet&&Le.outlet.activateWith(K,Le.injector),this.activateChildRoutes(N,null,Le.children)}else this.activateChildRoutes(N,null,O)}}class je{constructor(N){this.path=N,this.route=this.path[this.path.length-1]}}class mt{constructor(N,V){this.component=N,this.route=V}}function gt(A,N,V){const O=A._root;return Jt(O,N?N._root:null,V,[O.value])}function Rt(A,N){const V=Symbol(),O=N.get(A,V);return O===V?"function"!=typeof A||(0,x.LfX)(A)?N.get(A):A:O}function Jt(A,N,V,O,K={canDeactivateChecks:[],canActivateChecks:[]}){const Ae=$t(N);return A.children.forEach(Le=>{(function pn(A,N,V,O,K={canDeactivateChecks:[],canActivateChecks:[]}){const Ae=A.value,Le=N?N.value:null,Gt=V?V.getContext(A.value.outlet):null;if(Le&&Ae.routeConfig===Le.routeConfig){const fn=function Wn(A,N,V){if("function"==typeof V)return V(A,N);switch(V){case"pathParamsChange":return!Cr(A.url,N.url);case"pathParamsOrQueryParamsChange":return!Cr(A.url,N.url)||!pr(A.queryParams,N.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vo(A,N)||!pr(A.queryParams,N.queryParams);default:return!Vo(A,N)}}(Le,Ae,Ae.routeConfig.runGuardsAndResolvers);fn?K.canActivateChecks.push(new je(O)):(Ae.data=Le.data,Ae._resolvedData=Le._resolvedData),Jt(A,N,Ae.component?Gt?Gt.children:null:V,O,K),fn&&Gt&&Gt.outlet&&Gt.outlet.isActivated&&K.canDeactivateChecks.push(new mt(Gt.outlet.component,Le))}else Le&&Kn(N,Gt,K),K.canActivateChecks.push(new je(O)),Jt(A,null,Ae.component?Gt?Gt.children:null:V,O,K)})(Le,Ae[Le.value.outlet],V,O.concat([Le.value]),K),delete Ae[Le.value.outlet]}),Object.entries(Ae).forEach(([Le,Gt])=>Kn(Gt,V.getContext(Le),K)),K}function Kn(A,N,V){const O=$t(A),K=A.value;Object.entries(O).forEach(([Ae,Le])=>{Kn(Le,K.component?N?N.children.getContext(Ae):null:N,V)}),V.canDeactivateChecks.push(new mt(K.component&&N&&N.outlet&&N.outlet.isActivated?N.outlet.component:null,K))}function wr(A){return"function"==typeof A}function ua(A){return A instanceof Ke.G||"EmptyError"===(null==A?void 0:A.name)}const Ui=Symbol("INITIAL_VALUE");function Lo(){return(0,ft.n)(A=>(0,ce.z)(A.map(N=>N.pipe((0,rt.s)(1),function oe(...A){const N=(0,Ee.lI)(A);return(0,ze.N)((V,O)=>{(N?(0,_t.x)(A,V,N):(0,_t.x)(A,V)).subscribe(O)})}(Ui)))).pipe((0,wt.T)(N=>{for(const V of N)if(!0!==V){if(V===Ui)return Ui;if(!1===V||hi(V))return V}return!0}),(0,it.p)(N=>N!==Ui),(0,rt.s)(1)))}function hi(A){return wn(A)||A instanceof xi}function wi(A){return(0,Me.F)((0,jt.M)(N=>{if("boolean"!=typeof N)throw ca(0,N)}),(0,wt.T)(N=>!0===N))}class Ta{constructor(N){this.segmentGroup=N||null}}class na extends Error{constructor(N){super(),this.urlTree=N}}function Ma(A){return(0,Qe.$)(new Ta(A))}class cr{constructor(N,V){this.urlSerializer=N,this.urlTree=V}lineralizeSegments(N,V){let O=[],K=V.root;for(;;){if(O=O.concat(K.segments),0===K.numberOfChildren)return(0,S.of)(O);if(K.numberOfChildren>1||!K.children[In])return(0,Qe.$)(new x.wOt(4e3,!1));K=K.children[In]}}applyRedirectCommands(N,V,O,K,Ae){if("string"!=typeof V){const Gt=V,{queryParams:fn,fragment:rn,routeConfig:ur,url:mo,outlet:ii,params:Mo,data:$i,title:Ha}=K,es=(0,x.N4e)(Ae,()=>Gt({params:Mo,data:$i,queryParams:fn,fragment:rn,routeConfig:ur,url:mo,outlet:ii,title:Ha}));if(es instanceof Vr)throw new na(es);V=es}const Le=this.applyRedirectCreateUrlTree(V,this.urlSerializer.parse(V),N,O);if("/"===V[0])throw new na(Le);return Le}applyRedirectCreateUrlTree(N,V,O,K){const Ae=this.createSegmentGroup(N,V.root,O,K);return new Vr(Ae,this.createQueryParams(V.queryParams,this.urlTree.queryParams),V.fragment)}createQueryParams(N,V){const O={};return Object.entries(N).forEach(([K,Ae])=>{if("string"==typeof Ae&&":"===Ae[0]){const Gt=Ae.substring(1);O[K]=V[Gt]}else O[K]=Ae}),O}createSegmentGroup(N,V,O,K){const Ae=this.createSegments(N,V.segments,O,K);let Le={};return Object.entries(V.children).forEach(([Gt,fn])=>{Le[Gt]=this.createSegmentGroup(N,fn,O,K)}),new Ur(Ae,Le)}createSegments(N,V,O,K){return V.map(Ae=>":"===Ae.path[0]?this.findPosParam(N,Ae,K):this.findOrReturn(Ae,O))}findPosParam(N,V,O){const K=O[V.path.substring(1)];if(!K)throw new x.wOt(4001,!1);return K}findOrReturn(N,V){let O=0;for(const K of V){if(K.path===N.path)return V.splice(O),K;O++}return N}}const Zi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vi(A,N,V,O,K){const Ae=_s(A,N,V);return Ae.matched?(O=function Yi(A,N){var V;return A.providers&&!A._injector&&(A._injector=(0,x.Ol2)(A.providers,N,`Route: ${A.path}`)),null!==(V=A._injector)&&void 0!==V?V:N}(N,O),function da(A,N,V,O){const K=N.canMatch;if(!K||0===K.length)return(0,S.of)(!0);const Ae=K.map(Le=>{const Gt=Rt(Le,A);return sn(function lo(A){return A&&wr(A.canMatch)}(Gt)?Gt.canMatch(N,V):(0,x.N4e)(A,()=>Gt(N,V)))});return(0,S.of)(Ae).pipe(Lo(),wi())}(O,N,V).pipe((0,wt.T)(Le=>!0===Le?Ae:{...Zi}))):(0,S.of)(Ae)}function _s(A,N,V){var O,K;if("**"===N.path)return function ha(A){return{matched:!0,parameters:A.length>0?nn(A).parameters:{},consumedSegments:A,remainingSegments:[],positionalParamSegments:{}}}(V);if(""===N.path)return"full"===N.pathMatch&&(A.hasChildren()||V.length>0)?{...Zi}:{matched:!0,consumedSegments:[],remainingSegments:V,parameters:{},positionalParamSegments:{}};const Le=(N.matcher||Dr)(V,A,N);if(!Le)return{...Zi};const Gt={};Object.entries(null!==(O=Le.posParams)&&void 0!==O?O:{}).forEach(([rn,ur])=>{Gt[rn]=ur.path});const fn=Le.consumed.length>0?{...Gt,...Le.consumed[Le.consumed.length-1].parameters}:Gt;return{matched:!0,consumedSegments:Le.consumed,remainingSegments:V.slice(Le.consumed.length),parameters:fn,positionalParamSegments:null!==(K=Le.posParams)&&void 0!==K?K:{}}}function Jl(A,N,V,O){return V.length>0&&function ps(A,N,V){return V.some(O=>Hs(A,N,O)&&se(O)!==In)}(A,V,O)?{segmentGroup:new Ur(N,os(O,new Ur(V,A.children))),slicedSegments:[]}:0===V.length&&function mu(A,N,V){return V.some(O=>Hs(A,N,O))}(A,V,O)?{segmentGroup:new Ur(A.segments,ec(A,V,O,A.children)),slicedSegments:V}:{segmentGroup:new Ur(A.segments,A.children),slicedSegments:V}}function ec(A,N,V,O){const K={};for(const Ae of V)if(Hs(A,N,Ae)&&!O[se(Ae)]){const Le=new Ur([],{});K[se(Ae)]=Le}return{...O,...K}}function os(A,N){const V={};V[In]=N;for(const O of A)if(""===O.path&&se(O)!==In){const K=new Ur([],{});V[se(O)]=K}return V}function Hs(A,N,V){return(!(A.hasChildren()||N.length>0)||"full"!==V.pathMatch)&&""===V.path}class Os{}class ud{constructor(N,V,O,K,Ae,Le,Gt){this.injector=N,this.configLoader=V,this.rootComponentType=O,this.config=K,this.urlTree=Ae,this.paramsInheritanceStrategy=Le,this.urlSerializer=Gt,this.applyRedirects=new cr(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(N){return new x.wOt(4002,`'${N.segmentGroup}'`)}recognize(){const N=Jl(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(N).pipe((0,wt.T)(({children:V,rootSnapshot:O})=>{const K=new Mt(O,V),Ae=new Br("",K),Le=function Sr(A,N,V=null,O=null){return zo(Io(A),N,V,O)}(O,[],this.urlTree.queryParams,this.urlTree.fragment);return Le.queryParams=this.urlTree.queryParams,Ae.url=this.urlSerializer.serialize(Le),{state:Ae,tree:Le}}))}match(N){const V=new Pr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),In,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,N,In,V).pipe((0,wt.T)(O=>({children:O,rootSnapshot:V})),(0,zt.W)(O=>{if(O instanceof na)return this.urlTree=O.urlTree,this.match(O.urlTree.root);throw O instanceof Ta?this.noMatchError(O):O}))}processSegmentGroup(N,V,O,K,Ae){return 0===O.segments.length&&O.hasChildren()?this.processChildren(N,V,O,Ae):this.processSegment(N,V,O,O.segments,K,!0,Ae).pipe((0,wt.T)(Le=>Le instanceof Mt?[Le]:[]))}processChildren(N,V,O,K){const Ae=[];for(const Le of Object.keys(O.children))"primary"===Le?Ae.unshift(Le):Ae.push(Le);return(0,q.H)(Ae).pipe((0,He.H)(Le=>{const Gt=O.children[Le],fn=function Ne(A,N){const V=A.filter(O=>se(O)===N);return V.push(...A.filter(O=>se(O)!==N)),V}(V,Le);return this.processSegmentGroup(N,fn,Gt,Le,K)}),function Xn(A,N){return(0,ze.N)(function on(A,N,V,O,K){return(Ae,Le)=>{let Gt=V,fn=N,rn=0;Ae.subscribe((0,Gn._)(Le,ur=>{const mo=rn++;fn=Gt?A(fn,ur,mo):(Gt=!0,ur),O&&Le.next(fn)},K&&(()=>{Gt&&Le.next(fn),Le.complete()})))}}(A,N,arguments.length>=2,!0))}((Le,Gt)=>(Le.push(...Gt),Le)),(0,sr.U)(null),function fe(A,N){const V=arguments.length>=2;return O=>O.pipe(A?(0,it.p)((K,Ae)=>A(K,Ae,O)):ue.D,pt(1),V?(0,sr.U)(N):(0,We.v)(()=>new Ke.G))}(),(0,At.Z)(Le=>{if(null===Le)return Ma(O);const Gt=Tl(Le);return function tc(A){A.sort((N,V)=>N.value.outlet===In?-1:V.value.outlet===In?1:N.value.outlet.localeCompare(V.value.outlet))}(Gt),(0,S.of)(Gt)}))}processSegment(N,V,O,K,Ae,Le,Gt){return(0,q.H)(V).pipe((0,He.H)(fn=>{var rn;return this.processSegmentAgainstRoute(null!==(rn=fn._injector)&&void 0!==rn?rn:N,V,fn,O,K,Ae,Le,Gt).pipe((0,zt.W)(ur=>{if(ur instanceof Ta)return(0,S.of)(null);throw ur}))}),(0,Ze.$)(fn=>!!fn),(0,zt.W)(fn=>{if(ua(fn))return function fa(A,N,V){return 0===N.length&&!A.children[V]}(O,K,Ae)?(0,S.of)(new Os):Ma(O);throw fn}))}processSegmentAgainstRoute(N,V,O,K,Ae,Le,Gt,fn){return se(O)===Le||Le!==In&&Hs(K,Ae,O)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(N,K,O,Ae,Le,fn):this.allowRedirects&&Gt?this.expandSegmentAgainstRouteUsingRedirect(N,K,V,O,Ae,Le,fn):Ma(K):Ma(K)}expandSegmentAgainstRouteUsingRedirect(N,V,O,K,Ae,Le,Gt){var fn,rn;const{matched:ur,parameters:mo,consumedSegments:ii,positionalParamSegments:Mo,remainingSegments:$i}=_s(V,K,Ae);if(!ur)return Ma(V);"string"==typeof K.redirectTo&&"/"===K.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Ha=new Pr(Ae,mo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ml(K),se(K),null!==(fn=null!==(rn=K.component)&&void 0!==rn?rn:K._loadedComponent)&&void 0!==fn?fn:null,K,Hi(K)),es=mr(Ha,Gt,this.paramsInheritanceStrategy);Ha.params=Object.freeze(es.params),Ha.data=Object.freeze(es.data);const lc=this.applyRedirects.applyRedirectCommands(ii,K.redirectTo,Mo,Ha,N);return this.applyRedirects.lineralizeSegments(K,lc).pipe((0,At.Z)(ss=>this.processSegment(N,O,V,ss.concat($i),Le,!1,Gt)))}matchSegmentAgainstRoute(N,V,O,K,Ae,Le){const Gt=Vi(V,O,K,N);return"**"===O.path&&(V.children={}),Gt.pipe((0,ft.n)(fn=>{var rn;return fn.matched?(N=null!==(rn=O._injector)&&void 0!==rn?rn:N,this.getChildConfig(N,O,K).pipe((0,ft.n)(({routes:ur})=>{var mo,ii,Mo;const $i=null!==(mo=O._loadedInjector)&&void 0!==mo?mo:N,{parameters:Ha,consumedSegments:es,remainingSegments:lc}=fn,ss=new Pr(es,Ha,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ml(O),se(O),null!==(ii=null!==(Mo=O.component)&&void 0!==Mo?Mo:O._loadedComponent)&&void 0!==ii?ii:null,O,Hi(O)),Ks=mr(ss,Le,this.paramsInheritanceStrategy);ss.params=Object.freeze(Ks.params),ss.data=Object.freeze(Ks.data);const{segmentGroup:Fl,slicedSegments:Nc}=Jl(V,es,lc,ur);if(0===Nc.length&&Fl.hasChildren())return this.processChildren($i,ur,Fl,ss).pipe((0,wt.T)(ki=>new Mt(ss,ki)));if(0===ur.length&&0===Nc.length)return(0,S.of)(new Mt(ss,[]));const Fc=se(O)===Ae;return this.processSegment($i,ur,Fl,Nc,Fc?In:Ae,!0,ss).pipe((0,wt.T)(ki=>new Mt(ss,ki instanceof Mt?[ki]:[])))}))):Ma(V)}))}getChildConfig(N,V,O){return V.children?(0,S.of)({routes:V.children,injector:N}):V.loadChildren?void 0!==V._loadedRoutes?(0,S.of)({routes:V._loadedRoutes,injector:V._loadedInjector}):function Nr(A,N,V,O){const K=N.canLoad;if(void 0===K||0===K.length)return(0,S.of)(!0);const Ae=K.map(Le=>{const Gt=Rt(Le,A);return sn(function Ho(A){return A&&wr(A.canLoad)}(Gt)?Gt.canLoad(N,V):(0,x.N4e)(A,()=>Gt(N,V)))});return(0,S.of)(Ae).pipe(Lo(),wi())}(N,V,O).pipe((0,At.Z)(K=>K?this.configLoader.loadChildren(N,V).pipe((0,jt.M)(Ae=>{V._loadedRoutes=Ae.routes,V._loadedInjector=Ae.injector})):function pu(){return(0,Qe.$)(di(!1,mn.GuardRejected))}())):(0,S.of)({routes:[],injector:N})}}function gu(A){const N=A.value.routeConfig;return N&&""===N.path}function Tl(A){const N=[],V=new Set;for(const O of A){if(!gu(O)){N.push(O);continue}const K=N.find(Ae=>O.value.routeConfig===Ae.value.routeConfig);void 0!==K?(K.children.push(...O.children),V.add(K)):N.push(O)}for(const O of V){const K=Tl(O.children);N.push(new Mt(O.value,K))}return N.filter(O=>!V.has(O))}function Ml(A){return A.data||{}}function Hi(A){return A.resolve||{}}function pa(A){const N=A.children.map(V=>pa(V)).flat();return[A,...N]}function Qa(A){return(0,ft.n)(N=>{const V=A(N);return V?(0,q.H)(V).pipe((0,wt.T)(()=>N)):(0,S.of)(N)})}let Ns=(()=>{var A;class N{buildTitle(O){let K,Ae=O.root;for(;void 0!==Ae;){var Le;K=null!==(Le=this.getResolvedTitleForRoute(Ae))&&void 0!==Le?Le:K,Ae=Ae.children.find(Gt=>Gt.outlet===In)}return K}getResolvedTitleForRoute(O){return O.data[_r]}}return(A=N).\u0275fac=function(O){return new(O||A)},A.\u0275prov=x.jDH({token:A,factory:()=>(0,x.WQX)(Rl),providedIn:"root"}),N})(),Rl=(()=>{var A;class N extends Ns{constructor(O){super(),this.title=O}updateTitle(O){const K=this.buildTitle(O);void 0!==K&&this.title.setTitle(K)}}return(A=N).\u0275fac=function(O){return new(O||A)(x.KVO(Qn.hE))},A.\u0275prov=x.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),N})();const Ws=new x.nKC("",{providedIn:"root",factory:()=>({})});let rc=(()=>{var A;class N{}return(A=N).\u0275fac=function(O){return new(O||A)},A.\u0275cmp=x.VBU({type:A,selectors:[["ng-component"]],standalone:!0,features:[x.aNF],decls:1,vars:0,template:function(O,K){1&O&&x.nrm(0,"router-outlet")},dependencies:[la],encapsulation:2}),N})();function oc(A){const N=A.children&&A.children.map(oc),V=N?{...A,children:N}:{...A};return!V.component&&!V.loadComponent&&(N||V.loadChildren)&&V.outlet&&V.outlet!==In&&(V.component=rc),V}const is=new x.nKC("");let Pl=(()=>{var A;class N{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,x.WQX)(x.Ql9)}loadComponent(O){if(this.componentLoaders.get(O))return this.componentLoaders.get(O);if(O._loadedComponent)return(0,S.of)(O._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(O);const K=sn(O.loadComponent()).pipe((0,wt.T)(xa),(0,jt.M)(Le=>{this.onLoadEndListener&&this.onLoadEndListener(O),O._loadedComponent=Le}),(0,St.j)(()=>{this.componentLoaders.delete(O)})),Ae=new lt.G(K,()=>new ct.B).pipe((0,Ot.B)());return this.componentLoaders.set(O,Ae),Ae}loadChildren(O,K){if(this.childrenLoaders.get(K))return this.childrenLoaders.get(K);if(K._loadedRoutes)return(0,S.of)({routes:K._loadedRoutes,injector:K._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(K);const Le=function Rc(A,N,V,O){return sn(A.loadChildren()).pipe((0,wt.T)(xa),(0,At.Z)(K=>K instanceof x.Co$||Array.isArray(K)?(0,S.of)(K):(0,q.H)(N.compileModuleAsync(K))),(0,wt.T)(K=>{O&&O(A);let Ae,Le,Gt=!1;return Array.isArray(K)?(Le=K,!0):(Ae=K.create(V).injector,Le=Ae.get(is,[],{optional:!0,self:!0}).flat()),{routes:Le.map(oc),injector:Ae}}))}(K,this.compiler,O,this.onLoadEndListener).pipe((0,St.j)(()=>{this.childrenLoaders.delete(K)})),Gt=new lt.G(Le,()=>new ct.B).pipe((0,Ot.B)());return this.childrenLoaders.set(K,Gt),Gt}}return(A=N).\u0275fac=function(O){return new(O||A)},A.\u0275prov=x.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),N})();function xa(A){return function ya(A){return A&&"object"==typeof A&&"default"in A}(A)?A.default:A}let Cs=(()=>{var A;class N{}return(A=N).\u0275fac=function(O){return new(O||A)},A.\u0275prov=x.jDH({token:A,factory:()=>(0,x.WQX)(bl),providedIn:"root"}),N})(),bl=(()=>{var A;class N{shouldProcessUrl(O){return!0}extract(O){return O}merge(O,K){return O}}return(A=N).\u0275fac=function(O){return new(O||A)},A.\u0275prov=x.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),N})();const P=new x.nKC(""),te=new x.nKC("");function Je(A,N,V){const O=A.get(te),K=A.get(ve.qQ);return A.get(x.SKi).runOutsideAngular(()=>{if(!K.startViewTransition||O.skipNextTransition)return O.skipNextTransition=!1,new Promise(rn=>setTimeout(rn));let Ae;const Le=new Promise(rn=>{Ae=rn}),Gt=K.startViewTransition(()=>(Ae(),function Y(A){return new Promise(N=>{(0,x.mal)({read:()=>setTimeout(N)},{injector:A})})}(A))),{onViewTransitionCreated:fn}=O;return fn&&(0,x.N4e)(A,()=>fn({transition:Gt,from:N,to:V})),Le})}const ke=new x.nKC("");let dt=(()=>{var A;class N{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ct.B,this.transitionAbortSubject=new ct.B,this.configLoader=(0,x.WQX)(Pl),this.environmentInjector=(0,x.WQX)(x.uvJ),this.urlSerializer=(0,x.WQX)(Rr),this.rootContexts=(0,x.WQX)(Z),this.location=(0,x.WQX)(ve.aZ),this.inputBindingEnabled=null!==(0,x.WQX)(Pi,{optional:!0}),this.titleStrategy=(0,x.WQX)(Ns),this.options=(0,x.WQX)(Ws,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,x.WQX)(Cs),this.createViewTransition=(0,x.WQX)(P,{optional:!0}),this.navigationErrorHandler=(0,x.WQX)(ke,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,S.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Ae=>this.events.next(new br(Ae)),this.configLoader.onLoadStartListener=Ae=>this.events.next(new go(Ae))}complete(){var O;null===(O=this.transitions)||void 0===O||O.complete()}handleNavigationRequest(O){var K;const Ae=++this.navigationId;null===(K=this.transitions)||void 0===K||K.next({...this.transitions.value,...O,id:Ae})}setupNavigations(O,K,Ae){return this.transitions=new Te.t({id:0,currentUrlTree:K,currentRawUrl:K,extractedUrl:this.urlHandlingStrategy.extract(K),urlAfterRedirects:this.urlHandlingStrategy.extract(K),rawUrl:K,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:De,restoredState:null,currentSnapshot:Ae.snapshot,targetSnapshot:null,currentRouterState:Ae,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,it.p)(Le=>0!==Le.id),(0,wt.T)(Le=>({...Le,extractedUrl:this.urlHandlingStrategy.extract(Le.rawUrl)})),(0,ft.n)(Le=>{let Gt=!1,fn=!1;return(0,S.of)(Le).pipe((0,ft.n)(rn=>{var ur;if(this.navigationId>Le.id)return this.cancelNavigationTransition(Le,"",mn.SupersededByNewNavigation),Be.w;this.currentTransition=Le,this.currentNavigation={id:rn.id,initialUrl:rn.rawUrl,extractedUrl:rn.extractedUrl,targetBrowserUrl:"string"==typeof rn.extras.browserUrl?this.urlSerializer.parse(rn.extras.browserUrl):rn.extras.browserUrl,trigger:rn.source,extras:rn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const mo=!O.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),ii=null!==(ur=rn.extras.onSameUrlNavigation)&&void 0!==ur?ur:O.onSameUrlNavigation;if(!mo&&"reload"!==ii){const Mo="";return this.events.next(new Cn(rn.id,this.urlSerializer.serialize(rn.rawUrl),Mo,Pn.IgnoredSameUrlNavigation)),rn.resolve(!1),Be.w}if(this.urlHandlingStrategy.shouldProcessUrl(rn.rawUrl))return(0,S.of)(rn).pipe((0,ft.n)(Mo=>{var $i,Ha;const es=null===($i=this.transitions)||void 0===$i?void 0:$i.getValue();return this.events.next(new Ct(Mo.id,this.urlSerializer.serialize(Mo.extractedUrl),Mo.source,Mo.restoredState)),es!==(null===(Ha=this.transitions)||void 0===Ha?void 0:Ha.getValue())?Be.w:Promise.resolve(Mo)}),function vu(A,N,V,O,K,Ae){return(0,At.Z)(Le=>function cd(A,N,V,O,K,Ae,Le="emptyOnly"){return new ud(A,N,V,O,K,Le,Ae).recognize()}(A,N,V,O,Le.extractedUrl,K,Ae).pipe((0,wt.T)(({state:Gt,tree:fn})=>({...Le,targetSnapshot:Gt,urlAfterRedirects:fn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,O.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,jt.M)(Mo=>{Le.targetSnapshot=Mo.targetSnapshot,Le.urlAfterRedirects=Mo.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Mo.urlAfterRedirects};const $i=new Er(Mo.id,this.urlSerializer.serialize(Mo.extractedUrl),this.urlSerializer.serialize(Mo.urlAfterRedirects),Mo.targetSnapshot);this.events.next($i)}));if(mo&&this.urlHandlingStrategy.shouldProcessUrl(rn.currentRawUrl)){const{id:Mo,extractedUrl:$i,source:Ha,restoredState:es,extras:lc}=rn,ss=new Ct(Mo,this.urlSerializer.serialize($i),Ha,es);this.events.next(ss);const Ks=Dn(this.rootComponentType).snapshot;return this.currentTransition=Le={...rn,targetSnapshot:Ks,urlAfterRedirects:$i,extras:{...lc,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=$i,(0,S.of)(Le)}{const Mo="";return this.events.next(new Cn(rn.id,this.urlSerializer.serialize(rn.extractedUrl),Mo,Pn.IgnoredByUrlHandlingStrategy)),rn.resolve(!1),Be.w}}),(0,jt.M)(rn=>{const ur=new gr(rn.id,this.urlSerializer.serialize(rn.extractedUrl),this.urlSerializer.serialize(rn.urlAfterRedirects),rn.targetSnapshot);this.events.next(ur)}),(0,wt.T)(rn=>(this.currentTransition=Le={...rn,guards:gt(rn.targetSnapshot,rn.currentSnapshot,this.rootContexts)},Le)),function Sc(A,N){return(0,At.Z)(V=>{const{targetSnapshot:O,currentSnapshot:K,guards:{canActivateChecks:Ae,canDeactivateChecks:Le}}=V;return 0===Le.length&&0===Ae.length?(0,S.of)({...V,guardsResult:!0}):function Ql(A,N,V,O){return(0,q.H)(A).pipe((0,At.Z)(K=>function On(A,N,V,O,K){const Ae=N&&N.routeConfig?N.routeConfig.canDeactivate:null;if(!Ae||0===Ae.length)return(0,S.of)(!0);const Le=Ae.map(Gt=>{var fn;const rn=null!==(fn=U(N))&&void 0!==fn?fn:K,ur=Rt(Gt,rn);return sn(function So(A){return A&&wr(A.canDeactivate)}(ur)?ur.canDeactivate(A,N,V,O):(0,x.N4e)(rn,()=>ur(A,N,V,O))).pipe((0,Ze.$)())});return(0,S.of)(Le).pipe(Lo())}(K.component,K.route,V,N,O)),(0,Ze.$)(K=>!0!==K,!0))}(Le,O,K,A).pipe((0,At.Z)(Gt=>Gt&&function $r(A){return"boolean"==typeof A}(Gt)?function ae(A,N,V,O){return(0,q.H)(N).pipe((0,He.H)(K=>(0,_t.x)(function ye(A,N){return null!==A&&N&&N(new Wr(A)),(0,S.of)(!0)}(K.route.parent,O),function j(A,N){return null!==A&&N&&N(new Mi(A)),(0,S.of)(!0)}(K.route,O),function Ve(A,N,V){const O=N[N.length-1],Ae=N.slice(0,N.length-1).reverse().map(Le=>function Qt(A){const N=A.routeConfig?A.routeConfig.canActivateChild:null;return N&&0!==N.length?{node:A,guards:N}:null}(Le)).filter(Le=>null!==Le).map(Le=>(0,$e.v)(()=>{const Gt=Le.guards.map(fn=>{var rn;const ur=null!==(rn=U(Le.node))&&void 0!==rn?rn:V,mo=Rt(fn,ur);return sn(function vo(A){return A&&wr(A.canActivateChild)}(mo)?mo.canActivateChild(O,A):(0,x.N4e)(ur,()=>mo(O,A))).pipe((0,Ze.$)())});return(0,S.of)(Gt).pipe(Lo())}));return(0,S.of)(Ae).pipe(Lo())}(A,K.path,V),function Q(A,N,V){const O=N.routeConfig?N.routeConfig.canActivate:null;if(!O||0===O.length)return(0,S.of)(!0);const K=O.map(Ae=>(0,$e.v)(()=>{var Le;const Gt=null!==(Le=U(N))&&void 0!==Le?Le:V,fn=Rt(Ae,Gt);return sn(function Jo(A){return A&&wr(A.canActivate)}(fn)?fn.canActivate(N,A):(0,x.N4e)(Gt,()=>fn(N,A))).pipe((0,Ze.$)())}));return(0,S.of)(K).pipe(Lo())}(A,K.route,V))),(0,Ze.$)(K=>!0!==K,!0))}(O,Ae,A,N):(0,S.of)(Gt)),(0,wt.T)(Gt=>({...V,guardsResult:Gt})))})}(this.environmentInjector,rn=>this.events.next(rn)),(0,jt.M)(rn=>{if(Le.guardsResult=rn.guardsResult,rn.guardsResult&&"boolean"!=typeof rn.guardsResult)throw ca(0,rn.guardsResult);const ur=new xr(rn.id,this.urlSerializer.serialize(rn.extractedUrl),this.urlSerializer.serialize(rn.urlAfterRedirects),rn.targetSnapshot,!!rn.guardsResult);this.events.next(ur)}),(0,it.p)(rn=>!!rn.guardsResult||(this.cancelNavigationTransition(rn,"",mn.GuardRejected),!1)),Qa(rn=>{if(rn.guards.canActivateChecks.length)return(0,S.of)(rn).pipe((0,jt.M)(ur=>{const mo=new no(ur.id,this.urlSerializer.serialize(ur.extractedUrl),this.urlSerializer.serialize(ur.urlAfterRedirects),ur.targetSnapshot);this.events.next(mo)}),(0,ft.n)(ur=>{let mo=!1;return(0,S.of)(ur).pipe(function nc(A,N){return(0,At.Z)(V=>{const{targetSnapshot:O,guards:{canActivateChecks:K}}=V;if(!K.length)return(0,S.of)(V);const Ae=new Set(K.map(fn=>fn.route)),Le=new Set;for(const fn of Ae)if(!Le.has(fn))for(const rn of pa(fn))Le.add(rn);let Gt=0;return(0,q.H)(Le).pipe((0,He.H)(fn=>Ae.has(fn)?function ol(A,N,V,O){const K=A.routeConfig,Ae=A._resolve;return void 0!==(null==K?void 0:K.title)&&!li(K)&&(Ae[_r]=K.title),function Mc(A,N,V,O){const K=Kr(A);if(0===K.length)return(0,S.of)({});const Ae={};return(0,q.H)(K).pipe((0,At.Z)(Le=>function Wi(A,N,V,O){var K;const Ae=null!==(K=U(N))&&void 0!==K?K:O,Le=Rt(A,Ae);return sn(Le.resolve?Le.resolve(N,V):(0,x.N4e)(Ae,()=>Le(N,V)))}(A[Le],N,V,O).pipe((0,Ze.$)(),(0,jt.M)(Gt=>{if(Gt instanceof xi)throw ca(new Zr,Gt);Ae[Le]=Gt}))),pt(1),(0,Re.u)(Ae),(0,zt.W)(Le=>ua(Le)?Be.w:(0,Qe.$)(Le)))}(Ae,A,N,O).pipe((0,wt.T)(Le=>(A._resolvedData=Le,A.data=mr(A,A.parent,V).resolve,null)))}(fn,O,A,N):(fn.data=mr(fn,fn.parent,A).resolve,(0,S.of)(void 0))),(0,jt.M)(()=>Gt++),pt(1),(0,At.Z)(fn=>Gt===Le.size?(0,S.of)(V):Be.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,jt.M)({next:()=>mo=!0,complete:()=>{mo||this.cancelNavigationTransition(ur,"",mn.NoDataFromResolver)}}))}),(0,jt.M)(ur=>{const mo=new Tr(ur.id,this.urlSerializer.serialize(ur.extractedUrl),this.urlSerializer.serialize(ur.urlAfterRedirects),ur.targetSnapshot);this.events.next(mo)}))}),Qa(rn=>{const ur=mo=>{var ii;const Mo=[];null!==(ii=mo.routeConfig)&&void 0!==ii&&ii.loadComponent&&!mo.routeConfig._loadedComponent&&Mo.push(this.configLoader.loadComponent(mo.routeConfig).pipe((0,jt.M)($i=>{mo.component=$i}),(0,wt.T)(()=>{})));for(const $i of mo.children)Mo.push(...ur($i));return Mo};return(0,ce.z)(ur(rn.targetSnapshot.root)).pipe((0,sr.U)(null),(0,rt.s)(1))}),Qa(()=>this.afterPreactivation()),(0,ft.n)(()=>{var rn;const{currentSnapshot:ur,targetSnapshot:mo}=Le,ii=null===(rn=this.createViewTransition)||void 0===rn?void 0:rn.call(this,this.environmentInjector,ur.root,mo.root);return ii?(0,q.H)(ii).pipe((0,wt.T)(()=>Le)):(0,S.of)(Le)}),(0,wt.T)(rn=>{const ur=function zi(A,N,V){const O=Aa(A,N._root,V?V._root:void 0);return new Wt(O,N)}(O.routeReuseStrategy,rn.targetSnapshot,rn.currentRouterState);return this.currentTransition=Le={...rn,targetRouterState:ur},this.currentNavigation.targetRouterState=ur,Le}),(0,jt.M)(()=>{this.events.next(new Li)}),((A,N,V,O)=>(0,wt.T)(K=>(new xe(N,K.targetRouterState,K.currentRouterState,V,O).activate(A),K)))(this.rootContexts,O.routeReuseStrategy,rn=>this.events.next(rn),this.inputBindingEnabled),(0,rt.s)(1),(0,jt.M)({next:rn=>{var ur;Gt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Vt(rn.id,this.urlSerializer.serialize(rn.extractedUrl),this.urlSerializer.serialize(rn.urlAfterRedirects))),null===(ur=this.titleStrategy)||void 0===ur||ur.updateTitle(rn.targetRouterState.snapshot),rn.resolve(!0)},complete:()=>{Gt=!0}}),function Yt(A){return(0,ze.N)((N,V)=>{(0,Lt.Tg)(A).subscribe((0,Gn._)(V,()=>V.complete(),un.l)),!V.closed&&N.subscribe(V)})}(this.transitionAbortSubject.pipe((0,jt.M)(rn=>{throw rn}))),(0,St.j)(()=>{var rn;!Gt&&!fn&&this.cancelNavigationTransition(Le,"",mn.SupersededByNewNavigation),(null===(rn=this.currentTransition)||void 0===rn?void 0:rn.id)===Le.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,zt.W)(rn=>{if(fn=!0,Ua(rn))this.events.next(new An(Le.id,this.urlSerializer.serialize(Le.extractedUrl),rn.message,rn.cancellationCode)),function qi(A){return Ua(A)&&wn(A.url)}(rn)?this.events.next(new bi(rn.url,rn.navigationBehaviorOptions)):Le.resolve(!1);else{var ur;const mo=new nr(Le.id,this.urlSerializer.serialize(Le.extractedUrl),rn,null!==(ur=Le.targetSnapshot)&&void 0!==ur?ur:void 0);try{const ii=(0,x.N4e)(this.environmentInjector,()=>{var Mo;return null===(Mo=this.navigationErrorHandler)||void 0===Mo?void 0:Mo.call(this,mo)});if(ii instanceof xi){const{message:Mo,cancellationCode:$i}=ca(0,ii);this.events.next(new An(Le.id,this.urlSerializer.serialize(Le.extractedUrl),Mo,$i)),this.events.next(new bi(ii.redirectTo,ii.navigationBehaviorOptions))}else{this.events.next(mo);const Mo=O.errorHandler(rn);Le.resolve(!!Mo)}}catch(ii){this.options.resolveNavigationPromiseOnError?Le.resolve(!1):Le.reject(ii)}}return Be.w}))}))}cancelNavigationTransition(O,K,Ae){const Le=new An(O.id,this.urlSerializer.serialize(O.extractedUrl),K,Ae);this.events.next(Le),O.resolve(!1)}isUpdatingInternalState(){var O,K;return(null===(O=this.currentTransition)||void 0===O?void 0:O.extractedUrl.toString())!==(null===(K=this.currentTransition)||void 0===K?void 0:K.currentUrlTree.toString())}isUpdatedBrowserUrl(){var O,K,Ae,Le;const Gt=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),fn=null!==(O=null===(K=this.currentNavigation)||void 0===K?void 0:K.targetBrowserUrl)&&void 0!==O?O:null===(Ae=this.currentNavigation)||void 0===Ae?void 0:Ae.extractedUrl;return Gt.toString()!==(null==fn?void 0:fn.toString())&&!(null!==(Le=this.currentNavigation)&&void 0!==Le&&Le.extras.skipLocationChange)}}return(A=N).\u0275fac=function(O){return new(O||A)},A.\u0275prov=x.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),N})();function bn(A){return A!==De}let Yn=(()=>{var A;class N{}return(A=N).\u0275fac=function(O){return new(O||A)},A.\u0275prov=x.jDH({token:A,factory:()=>(0,x.WQX)(Zo),providedIn:"root"}),N})();class Gr{shouldDetach(N){return!1}store(N,V){}shouldAttach(N){return!1}retrieve(N){return null}shouldReuseRoute(N,V){return N.routeConfig===V.routeConfig}}let Zo=(()=>{var A;class N extends Gr{}return(A=N).\u0275fac=(()=>{let V;return function(K){return(V||(V=x.xGo(A)))(K||A)}})(),A.\u0275prov=x.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),N})(),Xo=(()=>{var A;class N{}return(A=N).\u0275fac=function(O){return new(O||A)},A.\u0275prov=x.jDH({token:A,factory:()=>(0,x.WQX)($o),providedIn:"root"}),N})(),$o=(()=>{var A;class N extends Xo{constructor(){super(...arguments),this.location=(0,x.WQX)(ve.aZ),this.urlSerializer=(0,x.WQX)(Rr),this.options=(0,x.WQX)(Ws,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,x.WQX)(Cs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Vr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Dn(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var O,K;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(O=null===(K=this.restoredState())||void 0===K?void 0:K.\u0275routerPageId)&&void 0!==O?O:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(O){return this.location.subscribe(K=>{"popstate"===K.type&&O(K.url,K.state)})}handleRouterEvent(O,K){if(O instanceof Ct)this.stateMemento=this.createStateMemento();else if(O instanceof Cn)this.rawUrlTree=K.initialUrl;else if(O instanceof Er){if("eager"===this.urlUpdateStrategy&&!K.extras.skipLocationChange){var Ae;const Gt=this.urlHandlingStrategy.merge(K.finalUrl,K.initialUrl);this.setBrowserUrl(null!==(Ae=K.targetBrowserUrl)&&void 0!==Ae?Ae:Gt,K)}}else if(O instanceof Li){var Le;this.currentUrlTree=K.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(K.finalUrl,K.initialUrl),this.routerState=K.targetRouterState,"deferred"!==this.urlUpdateStrategy||K.extras.skipLocationChange||this.setBrowserUrl(null!==(Le=K.targetBrowserUrl)&&void 0!==Le?Le:this.rawUrlTree,K)}else O instanceof An&&(O.code===mn.GuardRejected||O.code===mn.NoDataFromResolver)?this.restoreHistory(K):O instanceof nr?this.restoreHistory(K,!0):O instanceof Vt&&(this.lastSuccessfulId=O.id,this.currentPageId=this.browserPageId)}setBrowserUrl(O,K){const Ae=O instanceof Vr?this.urlSerializer.serialize(O):O;if(this.location.isCurrentPathEqualTo(Ae)||K.extras.replaceUrl){const Gt={...K.extras.state,...this.generateNgRouterState(K.id,this.browserPageId)};this.location.replaceState(Ae,"",Gt)}else{const Le={...K.extras.state,...this.generateNgRouterState(K.id,this.browserPageId+1)};this.location.go(Ae,"",Le)}}restoreHistory(O,K=!1){if("computed"===this.canceledNavigationResolution){const Le=this.currentPageId-this.browserPageId;0!==Le?this.location.historyGo(Le):this.currentUrlTree===O.finalUrl&&0===Le&&(this.resetState(O),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(K&&this.resetState(O),this.resetUrlToCurrentUrlTree())}resetState(O){var K;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(K=O.finalUrl)&&void 0!==K?K:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(O,K){return"computed"===this.canceledNavigationResolution?{navigationId:O,\u0275routerPageId:K}:{navigationId:O}}}return(A=N).\u0275fac=(()=>{let V;return function(K){return(V||(V=x.xGo(A)))(K||A)}})(),A.\u0275prov=x.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),N})();var ti=function(A){return A[A.COMPLETE=0]="COMPLETE",A[A.FAILED=1]="FAILED",A[A.REDIRECTING=2]="REDIRECTING",A}(ti||{});function ni(A,N){A.events.pipe((0,it.p)(V=>V instanceof Vt||V instanceof An||V instanceof nr||V instanceof Cn),(0,wt.T)(V=>V instanceof Vt||V instanceof Cn?ti.COMPLETE:V instanceof An&&(V.code===mn.Redirect||V.code===mn.SupersededByNewNavigation)?ti.REDIRECTING:ti.FAILED),(0,it.p)(V=>V!==ti.REDIRECTING),(0,rt.s)(1)).subscribe(()=>{N()})}function _i(A){throw A}const Qi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Oo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $n=(()=>{var A;class N{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var O,K;this.disposed=!1,this.console=(0,x.WQX)(x.H3F),this.stateManager=(0,x.WQX)(Xo),this.options=(0,x.WQX)(Ws,{optional:!0})||{},this.pendingTasks=(0,x.WQX)(x.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,x.WQX)(dt),this.urlSerializer=(0,x.WQX)(Rr),this.location=(0,x.WQX)(ve.aZ),this.urlHandlingStrategy=(0,x.WQX)(Cs),this._events=new ct.B,this.errorHandler=this.options.errorHandler||_i,this.navigated=!1,this.routeReuseStrategy=(0,x.WQX)(Yn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(O=null===(K=(0,x.WQX)(is,{optional:!0}))||void 0===K?void 0:K.flat())&&void 0!==O?O:[],this.componentInputBindingEnabled=!!(0,x.WQX)(Pi,{optional:!0}),this.eventsSubscription=new Fe.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:Ae=>{this.console.warn(Ae)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const O=this.navigationTransitions.events.subscribe(K=>{try{const Ae=this.navigationTransitions.currentTransition,Le=this.navigationTransitions.currentNavigation;if(null!==Ae&&null!==Le)if(this.stateManager.handleRouterEvent(K,Le),K instanceof An&&K.code!==mn.Redirect&&K.code!==mn.SupersededByNewNavigation)this.navigated=!0;else if(K instanceof Vt)this.navigated=!0;else if(K instanceof bi){const Gt=K.navigationBehaviorOptions,fn=this.urlHandlingStrategy.merge(K.url,Ae.currentRawUrl),rn={browserUrl:Ae.extras.browserUrl,info:Ae.extras.info,skipLocationChange:Ae.extras.skipLocationChange,replaceUrl:Ae.extras.replaceUrl||"eager"===this.urlUpdateStrategy||bn(Ae.source),...Gt};this.scheduleNavigation(fn,De,null,rn,{resolve:Ae.resolve,reject:Ae.reject,promise:Ae.promise})}(function Di(A){return!(A instanceof Li||A instanceof bi)})(K)&&this._events.next(K)}catch(Ae){this.navigationTransitions.transitionAbortSubject.next(Ae)}});this.eventsSubscription.add(O)}resetRootComponentType(O){this.routerState.root.component=O,this.navigationTransitions.rootComponentType=O}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),De,this.stateManager.restoredState())}setUpLocationChangeListener(){var O;null!==(O=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==O||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((K,Ae)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(K,"popstate",Ae)},0)}))}navigateToSyncWithBrowser(O,K,Ae){const Le={replaceUrl:!0},Gt=null!=Ae&&Ae.navigationId?Ae:null;if(Ae){const rn={...Ae};delete rn.navigationId,delete rn.\u0275routerPageId,0!==Object.keys(rn).length&&(Le.state=rn)}const fn=this.parseUrl(O);this.scheduleNavigation(fn,K,Gt,Le)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(O){this.config=O.map(oc),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(O,K={}){const{relativeTo:Ae,queryParams:Le,fragment:Gt,queryParamsHandling:fn,preserveFragment:rn}=K,ur=rn?this.currentUrlTree.fragment:Gt;let ii,mo=null;switch(null!=fn?fn:this.options.defaultQueryParamsHandling){case"merge":mo={...this.currentUrlTree.queryParams,...Le};break;case"preserve":mo=this.currentUrlTree.queryParams;break;default:mo=Le||null}null!==mo&&(mo=this.removeEmptyProps(mo));try{ii=Io(Ae?Ae.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof O[0]||"/"!==O[0][0])&&(O=[]),ii=this.currentUrlTree.root}return zo(ii,O,mo,null!=ur?ur:null)}navigateByUrl(O,K={skipLocationChange:!1}){const Ae=wn(O)?O:this.parseUrl(O),Le=this.urlHandlingStrategy.merge(Ae,this.rawUrlTree);return this.scheduleNavigation(Le,De,null,K)}navigate(O,K={skipLocationChange:!1}){return function jr(A){for(let N=0;N<A.length;N++)if(null==A[N])throw new x.wOt(4008,!1)}(O),this.navigateByUrl(this.createUrlTree(O,K),K)}serializeUrl(O){return this.urlSerializer.serialize(O)}parseUrl(O){try{return this.urlSerializer.parse(O)}catch{return this.urlSerializer.parse("/")}}isActive(O,K){let Ae;if(Ae=!0===K?{...Qi}:!1===K?{...Oo}:K,wn(O))return kr(this.currentUrlTree,O,Ae);const Le=this.parseUrl(O);return kr(this.currentUrlTree,Le,Ae)}removeEmptyProps(O){return Object.entries(O).reduce((K,[Ae,Le])=>(null!=Le&&(K[Ae]=Le),K),{})}scheduleNavigation(O,K,Ae,Le,Gt){if(this.disposed)return Promise.resolve(!1);let fn,rn,ur;Gt?(fn=Gt.resolve,rn=Gt.reject,ur=Gt.promise):ur=new Promise((ii,Mo)=>{fn=ii,rn=Mo});const mo=this.pendingTasks.add();return ni(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(mo))}),this.navigationTransitions.handleNavigationRequest({source:K,restoredState:Ae,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:O,extras:Le,resolve:fn,reject:rn,promise:ur,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ur.catch(ii=>Promise.reject(ii))}}return(A=N).\u0275fac=function(O){return new(O||A)},A.\u0275prov=x.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),N})(),ln=(()=>{var A;class N{constructor(O,K,Ae,Le,Gt,fn){var rn;this.router=O,this.route=K,this.tabIndexAttribute=Ae,this.renderer=Le,this.el=Gt,this.locationStrategy=fn,this.href=null,this.onChanges=new ct.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const ur=null===(rn=Gt.nativeElement.tagName)||void 0===rn?void 0:rn.toLowerCase();this.isAnchorElement="a"===ur||"area"===ur,this.isAnchorElement?this.subscription=O.events.subscribe(mo=>{mo instanceof Vt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(O){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",O)}ngOnChanges(O){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(O){null==O?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=wn(O)||Array.isArray(O)?O:[O],this.setTabIndexIfNotOnNativeEl("0"))}onClick(O,K,Ae,Le,Gt){const fn=this.urlTree;return!!(null===fn||this.isAnchorElement&&(0!==O||K||Ae||Le||Gt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(fn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var O;null===(O=this.subscription)||void 0===O||O.unsubscribe()}updateHref(){var O;const K=this.urlTree;this.href=null!==K&&this.locationStrategy?null===(O=this.locationStrategy)||void 0===O?void 0:O.prepareExternalUrl(this.router.serializeUrl(K)):null;const Ae=null===this.href?null:(0,x.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Ae)}applyAttributeValue(O,K){const Ae=this.renderer,Le=this.el.nativeElement;null!==K?Ae.setAttribute(Le,O,K):Ae.removeAttribute(Le,O)}get urlTree(){return null===this.routerLinkInput?null:wn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(A=N).\u0275fac=function(O){return new(O||A)(x.rXU($n),x.rXU(ir),x.kS0("tabindex"),x.rXU(x.sFG),x.rXU(x.aKT),x.rXU(ve.hb))},A.\u0275dir=x.FsC({type:A,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(O,K){1&O&&x.bIt("click",function(Le){return K.onClick(Le.button,Le.ctrlKey,Le.shiftKey,Le.altKey,Le.metaKey)}),2&O&&x.BMQ("target",K.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",x.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",x.L39],replaceUrl:[2,"replaceUrl","replaceUrl",x.L39],routerLink:"routerLink"},standalone:!0,features:[x.GFd,x.OA$]}),N})();class _o{}let ui=(()=>{var A;class N{preload(O,K){return K().pipe((0,zt.W)(()=>(0,S.of)(null)))}}return(A=N).\u0275fac=function(O){return new(O||A)},A.\u0275prov=x.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),N})(),ma=(()=>{var A;class N{constructor(O,K,Ae,Le,Gt){this.router=O,this.injector=Ae,this.preloadingStrategy=Le,this.loader=Gt}setUpPreloading(){this.subscription=this.router.events.pipe((0,it.p)(O=>O instanceof Vt),(0,He.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(O,K){const Ae=[];for(const rn of K){var Le,Gt;rn.providers&&!rn._injector&&(rn._injector=(0,x.Ol2)(rn.providers,O,`Route: ${rn.path}`));const ur=null!==(Le=rn._injector)&&void 0!==Le?Le:O,mo=null!==(Gt=rn._loadedInjector)&&void 0!==Gt?Gt:ur;var fn;(rn.loadChildren&&!rn._loadedRoutes&&void 0===rn.canLoad||rn.loadComponent&&!rn._loadedComponent)&&Ae.push(this.preloadConfig(ur,rn)),(rn.children||rn._loadedRoutes)&&Ae.push(this.processRoutes(mo,null!==(fn=rn.children)&&void 0!==fn?fn:rn._loadedRoutes))}return(0,q.H)(Ae).pipe((0,hr.U)())}preloadConfig(O,K){return this.preloadingStrategy.preload(K,()=>{let Ae;Ae=K.loadChildren&&void 0===K.canLoad?this.loader.loadChildren(O,K):(0,S.of)(null);const Le=Ae.pipe((0,At.Z)(Gt=>{var fn;return null===Gt?(0,S.of)(void 0):(K._loadedRoutes=Gt.routes,K._loadedInjector=Gt.injector,this.processRoutes(null!==(fn=Gt.injector)&&void 0!==fn?fn:O,Gt.routes))}));if(K.loadComponent&&!K._loadedComponent){const Gt=this.loader.loadComponent(K);return(0,q.H)([Le,Gt]).pipe((0,hr.U)())}return Le})}}return(A=N).\u0275fac=function(O){return new(O||A)(x.KVO($n),x.KVO(x.Ql9),x.KVO(x.uvJ),x.KVO(_o),x.KVO(Pl))},A.\u0275prov=x.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),N})();const Qr=new x.nKC("");let as=(()=>{var A;class N{constructor(O,K,Ae,Le,Gt={}){this.urlSerializer=O,this.transitions=K,this.viewportScroller=Ae,this.zone=Le,this.options=Gt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Gt.scrollPositionRestoration||(Gt.scrollPositionRestoration="disabled"),Gt.anchorScrolling||(Gt.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(O=>{O instanceof Ct?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=O.navigationTrigger,this.restoredId=O.restoredState?O.restoredState.navigationId:0):O instanceof Vt?(this.lastId=O.id,this.scheduleScrollEvent(O,this.urlSerializer.parse(O.urlAfterRedirects).fragment)):O instanceof Cn&&O.code===Pn.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(O,this.urlSerializer.parse(O.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(O=>{O instanceof ja&&(O.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(O.position):O.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(O.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(O,K){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ja(O,"popstate"===this.lastSource?this.store[this.restoredId]:null,K))})},0)})}ngOnDestroy(){var O,K;null===(O=this.routerEventsSubscription)||void 0===O||O.unsubscribe(),null===(K=this.scrollEventsSubscription)||void 0===K||K.unsubscribe()}}return(A=N).\u0275fac=function(O){x.QTQ()},A.\u0275prov=x.jDH({token:A,factory:A.\u0275fac}),N})();function Ol(A,...N){return(0,x.EmA)([{provide:is,multi:!0,useValue:A},[],{provide:ir,useFactory:Gs,deps:[$n]},{provide:x.iLQ,multi:!0,useFactory:Xs},N.map(V=>V.\u0275providers)])}function Gs(A){return A.routerState.root}function Yo(A,N){return{\u0275kind:A,\u0275providers:N}}function Xs(){const A=(0,x.WQX)(x.zZn);return N=>{var V,O;const K=A.get(x.o8S);if(N!==K.components[0])return;const Ae=A.get($n),Le=A.get(ms);1===A.get(Fs)&&Ae.initialNavigation(),null===(V=A.get(Nl,null,x.$GK.Optional))||void 0===V||V.setUpPreloading(),null===(O=A.get(Qr,null,x.$GK.Optional))||void 0===O||O.init(),Ae.resetRootComponentType(K.componentTypes[0]),Le.closed||(Le.next(),Le.complete(),Le.unsubscribe())}}const ms=new x.nKC("",{factory:()=>new ct.B}),Fs=new x.nKC("",{providedIn:"root",factory:()=>1}),Nl=new x.nKC("");function ks(A){return Yo(0,[{provide:Nl,useExisting:ma},{provide:_o,useExisting:A}])}function ra(A){return Yo(9,[{provide:P,useValue:Je},{provide:te,useValue:{skipNextTransition:!(null==A||!A.skipInitialTransition),...A}}])}const Pc=new x.nKC("ROUTER_FORROOT_GUARD"),Ls=[ve.aZ,{provide:Rr,useClass:Zr},$n,Z,{provide:ir,useFactory:Gs,deps:[$n]},Pl,[]];let ac=(()=>{var A;class N{constructor(O){}static forRoot(O,K){return{ngModule:N,providers:[Ls,[],{provide:is,multi:!0,useValue:O},{provide:Pc,useFactory:yh,deps:[[$n,new x.Xx1,new x.kdw]]},{provide:Ws,useValue:K||{}},null!=K&&K.useHash?{provide:ve.hb,useClass:ve.fw}:{provide:ve.hb,useClass:ve.Sm},{provide:Qr,useFactory:()=>{const A=(0,x.WQX)(ve.Xr),N=(0,x.WQX)(x.SKi),V=(0,x.WQX)(Ws),O=(0,x.WQX)(dt),K=(0,x.WQX)(Rr);return V.scrollOffset&&A.setOffset(V.scrollOffset),new as(K,O,A,N,V)}},null!=K&&K.preloadingStrategy?ks(K.preloadingStrategy).\u0275providers:[],null!=K&&K.initialNavigation?xu(K):[],null!=K&&K.bindToComponentInputs?Yo(8,[Xe,{provide:Pi,useExisting:Xe}]).\u0275providers:[],null!=K&&K.enableViewTransitions?ra().\u0275providers:[],[{provide:wu,useFactory:Xs},{provide:x.iLQ,multi:!0,useExisting:wu}]]}}static forChild(O){return{ngModule:N,providers:[{provide:is,multi:!0,useValue:O}]}}}return(A=N).\u0275fac=function(O){return new(O||A)(x.KVO(Pc,8))},A.\u0275mod=x.$C({type:A}),A.\u0275inj=x.G2t({}),N})();function yh(A){return"guarded"}function xu(A){return["disabled"===A.initialNavigation?Yo(3,[{provide:x.hnV,multi:!0,useFactory:()=>{const N=(0,x.WQX)($n);return()=>{N.setUpLocationChangeListener()}}},{provide:Fs,useValue:2}]).\u0275providers:[],"enabledBlocking"===A.initialNavigation?Yo(2,[{provide:Fs,useValue:0},{provide:x.hnV,multi:!0,deps:[x.zZn],useFactory:N=>{const V=N.get(ve.hj,Promise.resolve());return()=>V.then(()=>new Promise(O=>{const K=N.get($n),Ae=N.get(ms);ni(K,()=>{O(!0)}),N.get(dt).afterPreactivation=()=>(O(!0),Ae.closed?(0,S.of)(void 0):Ae),K.initialNavigation()}))}}]).\u0275providers:[]]}const wu=new x.nKC("")},8880:(Un,Tt,F)=>{"use strict";F.d(Tt,{Yq:()=>fe,TS:()=>sr,sR:()=>pt,el:()=>tn,Sb:()=>xn,QE:()=>Nt,CF:()=>vr,Rg:()=>Ur,p4:()=>cn,jM:()=>an,q9:()=>zt,Kb:()=>Ht,hO:()=>Xr,CE:()=>ar,pF:()=>Or,fL:()=>Pt,YV:()=>ko,er:()=>Et,z3:()=>_n});var x=F(467),g=F(9842),H=F(4438),we=F(2902),q=F(177),S=F(5531),Te=F(6031),ce=F(1656),Ke=F(1413),_t=F(3726),$e=F(4412),Me=F(4572),Qe=F(7673),Be=F(1635),lt=F(5964),ct=F(5558),Fe=F(3669),ve=F(9974),wt=F(4360);function rt(ge,de){return ge===de}var Ee=F(4341);const ze=["tabsInner"];let Ze=(()=>{var ge;class de{constructor(ie,G){(0,g.A)(this,"doc",void 0),(0,g.A)(this,"_readyPromise",void 0),(0,g.A)(this,"win",void 0),(0,g.A)(this,"backButton",new Ke.B),(0,g.A)(this,"keyboardDidShow",new Ke.B),(0,g.A)(this,"keyboardDidHide",new Ke.B),(0,g.A)(this,"pause",new Ke.B),(0,g.A)(this,"resume",new Ke.B),(0,g.A)(this,"resize",new Ke.B),this.doc=ie,G.run(()=>{var nt;let Ut;this.win=ie.defaultView,this.backButton.subscribeWithPriority=function(vn,Ln){return this.subscribe(wn=>wn.register(vn,Sr=>G.run(()=>Ln(Sr))))},jt(this.pause,ie,"pause",G),jt(this.resume,ie,"resume",G),jt(this.backButton,ie,"ionBackButton",G),jt(this.resize,this.win,"resize",G),jt(this.keyboardDidShow,this.win,"ionKeyboardDidShow",G),jt(this.keyboardDidHide,this.win,"ionKeyboardDidHide",G),this._readyPromise=new Promise(vn=>{Ut=vn}),null!==(nt=this.win)&&void 0!==nt&&nt.cordova?ie.addEventListener("deviceready",()=>{Ut("cordova")},{once:!0}):Ut("dom")})}is(ie){return(0,S.a)(this.win,ie)}platforms(){return(0,S.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(ie){return He(this.win.location.href,ie)}isLandscape(){return!this.isPortrait()}isPortrait(){var ie,G;return null===(ie=(G=this.win).matchMedia)||void 0===ie?void 0:ie.call(G,"(orientation: portrait)").matches}testUserAgent(ie){const G=this.win.navigator;return!!(null!=G&&G.userAgent&&G.userAgent.indexOf(ie)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return ge=de,(0,g.A)(de,"\u0275fac",function(ie){return new(ie||ge)(H.KVO(q.qQ),H.KVO(H.SKi))}),(0,g.A)(de,"\u0275prov",H.jDH({token:ge,factory:ge.\u0275fac,providedIn:"root"})),de})();const He=(ge,de)=>{de=de.replace(/[[\]\\]/g,"\\$&");const ie=new RegExp("[\\?&]"+de+"=([^&#]*)").exec(ge);return ie?decodeURIComponent(ie[1].replace(/\+/g," ")):null},jt=(ge,de,Pe,ie)=>{de&&de.addEventListener(Pe,G=>{ie.run(()=>{ge.next(null!=G?G.detail:void 0)})})};let zt=(()=>{var ge;class de{constructor(ie,G,nt,Ut){(0,g.A)(this,"location",void 0),(0,g.A)(this,"serializer",void 0),(0,g.A)(this,"router",void 0),(0,g.A)(this,"topOutlet",void 0),(0,g.A)(this,"direction",on),(0,g.A)(this,"animated",Xn),(0,g.A)(this,"animationBuilder",void 0),(0,g.A)(this,"guessDirection","forward"),(0,g.A)(this,"guessAnimation",void 0),(0,g.A)(this,"lastNavId",-1),this.location=G,this.serializer=nt,this.router=Ut,Ut&&Ut.events.subscribe(vn=>{if(vn instanceof we.Z){const Ln=vn.restoredState?vn.restoredState.navigationId:vn.id;this.guessDirection=this.guessAnimation=Ln<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?vn.id:Ln}}),ie.backButton.subscribeWithPriority(0,vn=>{this.pop(),vn()})}navigateForward(ie,G={}){return this.setDirection("forward",G.animated,G.animationDirection,G.animation),this.navigate(ie,G)}navigateBack(ie,G={}){return this.setDirection("back",G.animated,G.animationDirection,G.animation),this.navigate(ie,G)}navigateRoot(ie,G={}){return this.setDirection("root",G.animated,G.animationDirection,G.animation),this.navigate(ie,G)}back(ie={animated:!0,animationDirection:"back"}){return this.setDirection("back",ie.animated,ie.animationDirection,ie.animation),this.location.back()}pop(){var ie=this;return(0,x.A)(function*(){let G=ie.topOutlet;for(;G;){if(yield G.pop())return!0;G=G.parentOutlet}return!1})()}setDirection(ie,G,nt,Ut){this.direction=ie,this.animated=Gn(ie,G,nt),this.animationBuilder=Ut}setTopOutlet(ie){this.topOutlet=ie}consumeTransition(){let G,ie="root";const nt=this.animationBuilder;return"auto"===this.direction?(ie=this.guessDirection,G=this.guessAnimation):(G=this.animated,ie=this.direction),this.direction=on,this.animated=Xn,this.animationBuilder=void 0,{direction:ie,animation:G,animationBuilder:nt}}navigate(ie,G){if(Array.isArray(ie))return this.router.navigate(ie,G);{const nt=this.serializer.parse(ie.toString());return void 0!==G.queryParams&&(nt.queryParams={...G.queryParams}),void 0!==G.fragment&&(nt.fragment=G.fragment),this.router.navigateByUrl(nt,G)}}}return ge=de,(0,g.A)(de,"\u0275fac",function(ie){return new(ie||ge)(H.KVO(Ze),H.KVO(q.aZ),H.KVO(we.Sd),H.KVO(we.Ix,8))}),(0,g.A)(de,"\u0275prov",H.jDH({token:ge,factory:ge.\u0275fac,providedIn:"root"})),de})();const Gn=(ge,de,Pe)=>{if(!1!==de){if(void 0!==Pe)return Pe;if("forward"===ge||"back"===ge)return ge;if("root"===ge&&!0===de)return"forward"}},on="auto",Xn=void 0;let sr=(()=>{var ge;class de{get(ie,G){const nt=We();return nt?nt.get(ie,G):null}getBoolean(ie,G){const nt=We();return!!nt&&nt.getBoolean(ie,G)}getNumber(ie,G){const nt=We();return nt?nt.getNumber(ie,G):0}}return ge=de,(0,g.A)(de,"\u0275fac",function(ie){return new(ie||ge)}),(0,g.A)(de,"\u0275prov",H.jDH({token:ge,factory:ge.\u0275fac,providedIn:"root"})),de})();const pt=new H.nKC("USERCONFIG"),We=()=>{if(typeof window<"u"){const ge=window.Ionic;if(null!=ge&&ge.config)return ge.config}return null};class ue{constructor(de={}){(0,g.A)(this,"data",void 0),this.data=de,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(de){return this.data[de]}}let fe=(()=>{var ge;class de{constructor(){(0,g.A)(this,"zone",(0,H.WQX)(H.SKi)),(0,g.A)(this,"applicationRef",(0,H.WQX)(H.o8S)),(0,g.A)(this,"config",(0,H.WQX)(pt))}create(ie,G,nt){var Ut;return new Re(ie,G,this.applicationRef,this.zone,nt,null!==(Ut=this.config.useSetInputAPI)&&void 0!==Ut&&Ut)}}return ge=de,(0,g.A)(de,"\u0275fac",function(ie){return new(ie||ge)}),(0,g.A)(de,"\u0275prov",H.jDH({token:ge,factory:ge.\u0275fac})),de})();class Re{constructor(de,Pe,ie,G,nt,Ut){(0,g.A)(this,"environmentInjector",void 0),(0,g.A)(this,"injector",void 0),(0,g.A)(this,"applicationRef",void 0),(0,g.A)(this,"zone",void 0),(0,g.A)(this,"elementReferenceKey",void 0),(0,g.A)(this,"enableSignalsSupport",void 0),(0,g.A)(this,"elRefMap",new WeakMap),(0,g.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=de,this.injector=Pe,this.applicationRef=ie,this.zone=G,this.elementReferenceKey=nt,this.enableSignalsSupport=Ut}attachViewToDom(de,Pe,ie,G){return this.zone.run(()=>new Promise(nt=>{const Ut={...ie};void 0!==this.elementReferenceKey&&(Ut[this.elementReferenceKey]=de),nt(St(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,de,Pe,Ut,G,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(de,Pe){return this.zone.run(()=>new Promise(ie=>{const G=this.elRefMap.get(Pe);if(G){G.destroy(),this.elRefMap.delete(Pe);const nt=this.elEventsMap.get(Pe);nt&&(nt(),this.elEventsMap.delete(Pe))}ie()}))}}const St=(ge,de,Pe,ie,G,nt,Ut,vn,Ln,wn,Sr,Io)=>{const zo=H.zZn.create({providers:Yt(Ln),parent:Pe}),wo=(0,H.a0P)(vn,{environmentInjector:de,elementInjector:zo}),To=wo.instance,Ar=wo.location.nativeElement;if(Ln)if(Sr&&void 0!==To[Sr]&&console.error(`[Ionic Error]: ${Sr} is a reserved property when using ${Ut.tagName.toLowerCase()}. Rename or remove the "${Sr}" property from ${vn.name}.`),!0===Io&&void 0!==wo.setInput){const{modal:po,popover:Jn,...Uo}=Ln;for(const tt in Uo)wo.setInput(tt,Uo[tt]);void 0!==po&&Object.assign(To,{modal:po}),void 0!==Jn&&Object.assign(To,{popover:Jn})}else Object.assign(To,Ln);if(wn)for(const po of wn)Ar.classList.add(po);const No=Lt(ge,To,Ar);return Ut.appendChild(Ar),ie.attachView(wo.hostView),G.set(Ar,wo),nt.set(Ar,No),Ar},Ot=[Te.L,Te.a,Te.b,Te.c,Te.d],Lt=(ge,de,Pe)=>ge.run(()=>{const ie=Ot.filter(G=>"function"==typeof de[G]).map(G=>{const nt=Ut=>de[G](Ut.detail);return Pe.addEventListener(G,nt),()=>Pe.removeEventListener(G,nt)});return()=>ie.forEach(G=>G())}),un=new H.nKC("NavParamsToken"),Yt=ge=>[{provide:un,useValue:ge},{provide:ue,useFactory:hr,deps:[un]}],hr=ge=>new ue(ge),Qn=(ge,de)=>{const Pe=ge.prototype;de.forEach(ie=>{Object.defineProperty(Pe,ie,{get(){return this.el[ie]},set(G){this.z.runOutsideAngular(()=>this.el[ie]=G)}})})},In=(ge,de)=>{const Pe=ge.prototype;de.forEach(ie=>{Pe[ie]=function(){const G=arguments;return this.z.runOutsideAngular(()=>this.el[ie].apply(this.el,G))}})},_r=(ge,de,Pe)=>{Pe.forEach(ie=>ge[ie]=(0,_t.R)(de,ie))};function Xr(ge){return function(Pe){const{defineCustomElementFn:ie,inputs:G,methods:nt}=ge;return void 0!==ie&&ie(),G&&Qn(Pe,G),nt&&In(Pe,nt),Pe}}const dr=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Dr=["present","dismiss","onDidDismiss","onWillDismiss"];let vr=(()=>{var ge;let de=((0,g.A)(ge=class{constructor(ie,G,nt){(0,g.A)(this,"z",void 0),(0,g.A)(this,"template",void 0),(0,g.A)(this,"isCmpOpen",!1),(0,g.A)(this,"el",void 0),this.z=nt,this.el=G.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,ie.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,ie.detectChanges()}),_r(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(ie){return new(ie||ge)(H.rXU(H.gRc),H.rXU(H.aKT),H.rXU(H.SKi))}),(0,g.A)(ge,"\u0275dir",H.FsC({type:ge,selectors:[["ion-popover"]],contentQueries:function(ie,G,nt){if(1&ie&&H.wni(nt,H.C4Q,5),2&ie){let Ut;H.mGM(Ut=H.lsd())&&(G.template=Ut.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),ge);return de=(0,Be.Cg)([Xr({inputs:dr,methods:Dr})],de),de})();const pr=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Kr=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let xn=(()=>{var ge;let de=((0,g.A)(ge=class{constructor(ie,G,nt){(0,g.A)(this,"z",void 0),(0,g.A)(this,"template",void 0),(0,g.A)(this,"isCmpOpen",!1),(0,g.A)(this,"el",void 0),this.z=nt,this.el=G.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,ie.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,ie.detectChanges()}),_r(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(ie){return new(ie||ge)(H.rXU(H.gRc),H.rXU(H.aKT),H.rXU(H.SKi))}),(0,g.A)(ge,"\u0275dir",H.FsC({type:ge,selectors:[["ion-modal"]],contentQueries:function(ie,G,nt){if(1&ie&&H.wni(nt,H.C4Q,5),2&ie){let Ut;H.mGM(Ut=H.lsd())&&(G.template=Ut.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),ge);return de=(0,Be.Cg)([Xr({inputs:pr,methods:Kr})],de),de})();const sn=(ge,de)=>((ge=ge.filter(Pe=>Pe.stackId!==de.stackId)).push(de),ge),kr=(ge,de)=>{const Pe=ge.createUrlTree(["."],{relativeTo:de});return ge.serializeUrl(Pe)},lr=(ge,de)=>!de||ge.stackId!==de.stackId,fr=(ge,de)=>{if(!ge)return;const Pe=uo(de);for(let ie=0;ie<Pe.length;ie++){if(ie>=ge.length)return Pe[ie];if(Pe[ie]!==ge[ie])return}},uo=ge=>ge.split("/").map(de=>de.trim()).filter(de=>""!==de),fo=ge=>{ge&&(ge.ref.destroy(),ge.unlistenEvents())};class Lr{constructor(de,Pe,ie,G,nt,Ut){(0,g.A)(this,"containerEl",void 0),(0,g.A)(this,"router",void 0),(0,g.A)(this,"navCtrl",void 0),(0,g.A)(this,"zone",void 0),(0,g.A)(this,"location",void 0),(0,g.A)(this,"views",[]),(0,g.A)(this,"runningTask",void 0),(0,g.A)(this,"skipTransition",!1),(0,g.A)(this,"tabsPrefix",void 0),(0,g.A)(this,"activeView",void 0),(0,g.A)(this,"nextId",0),this.containerEl=Pe,this.router=ie,this.navCtrl=G,this.zone=nt,this.location=Ut,this.tabsPrefix=void 0!==de?uo(de):void 0}createView(de,Pe){var ie;const G=kr(this.router,Pe),nt=null==de||null===(ie=de.location)||void 0===ie?void 0:ie.nativeElement,Ut=Lt(this.zone,de.instance,nt);return{id:this.nextId++,stackId:fr(this.tabsPrefix,G),unlistenEvents:Ut,element:nt,ref:de,url:G}}getExistingView(de){const Pe=kr(this.router,de),ie=this.views.find(G=>G.url===Pe);return ie&&ie.ref.changeDetectorRef.reattach(),ie}setActive(de){var Pe,ie;const G=this.navCtrl.consumeTransition();let{direction:nt,animation:Ut,animationBuilder:vn}=G;const Ln=this.activeView,wn=lr(de,Ln);wn&&(nt="back",Ut=void 0);const Sr=this.views.slice();let Io;const zo=this.router;zo.getCurrentNavigation?Io=zo.getCurrentNavigation():null!==(Pe=zo.navigations)&&void 0!==Pe&&Pe.value&&(Io=zo.navigations.value),null!==(ie=Io)&&void 0!==ie&&null!==(ie=ie.extras)&&void 0!==ie&&ie.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const wo=this.views.includes(de),To=this.insertView(de,nt);wo||de.ref.changeDetectorRef.detectChanges();const Ar=de.animationBuilder;return void 0===vn&&"back"===nt&&!wn&&void 0!==Ar&&(vn=Ar),Ln&&(Ln.animationBuilder=vn),this.zone.runOutsideAngular(()=>this.wait(()=>(Ln&&Ln.ref.changeDetectorRef.detach(),de.ref.changeDetectorRef.reattach(),this.transition(de,Ln,Ut,this.canGoBack(1),!1,vn).then(()=>ho(de,To,Sr,this.location,this.zone)).then(()=>({enteringView:de,direction:nt,animation:Ut,tabSwitch:wn})))))}canGoBack(de,Pe=this.getActiveStackId()){return this.getStack(Pe).length>de}pop(de,Pe=this.getActiveStackId()){return this.zone.run(()=>{const ie=this.getStack(Pe);if(ie.length<=de)return Promise.resolve(!1);const G=ie[ie.length-de-1];let nt=G.url;const Ut=G.savedData;if(Ut){var vn;const wn=Ut.get("primary");null!=wn&&null!==(vn=wn.route)&&void 0!==vn&&null!==(vn=vn._routerState)&&void 0!==vn&&vn.snapshot.url&&(nt=wn.route._routerState.snapshot.url)}const{animationBuilder:Ln}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(nt,{...G.savedExtras,animation:Ln}).then(()=>!0)})}startBackTransition(){const de=this.activeView;if(de){const Pe=this.getStack(de.stackId),ie=Pe[Pe.length-2],G=ie.animationBuilder;return this.wait(()=>this.transition(ie,de,"back",this.canGoBack(2),!0,G))}return Promise.resolve()}endBackTransition(de){de?(this.skipTransition=!0,this.pop(1)):this.activeView&&Vr(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(de){const Pe=this.getStack(de);return Pe.length>0?Pe[Pe.length-1]:void 0}getRootUrl(de){const Pe=this.getStack(de);return Pe.length>0?Pe[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(fo),this.activeView=void 0,this.views=[]}getStack(de){return this.views.filter(Pe=>Pe.stackId===de)}insertView(de,Pe){return this.activeView=de,this.views=((ge,de,Pe)=>"root"===Pe?sn(ge,de):"forward"===Pe?((ge,de)=>(ge.indexOf(de)>=0?ge=ge.filter(ie=>ie.stackId!==de.stackId||ie.id<=de.id):ge.push(de),ge))(ge,de):((ge,de)=>ge.indexOf(de)>=0?ge.filter(ie=>ie.stackId!==de.stackId||ie.id<=de.id):sn(ge,de))(ge,de))(this.views,de,Pe),this.views.slice()}transition(de,Pe,ie,G,nt,Ut){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(Pe===de)return Promise.resolve(!1);const vn=de?de.element:void 0,Ln=Pe?Pe.element:void 0,wn=this.containerEl;return vn&&vn!==Ln&&(vn.classList.add("ion-page"),vn.classList.add("ion-page-invisible"),wn.commit)?wn.commit(vn,Ln,{duration:void 0===ie?0:void 0,direction:ie,showGoBack:G,progressAnimation:nt,animationBuilder:Ut}):Promise.resolve(!1)}wait(de){var Pe=this;return(0,x.A)(function*(){void 0!==Pe.runningTask&&(yield Pe.runningTask,Pe.runningTask=void 0);const ie=Pe.runningTask=de();return ie.finally(()=>Pe.runningTask=void 0),ie})()}}const ho=(ge,de,Pe,ie,G)=>"function"==typeof requestAnimationFrame?new Promise(nt=>{requestAnimationFrame(()=>{Vr(ge,de,Pe,ie,G),nt()})}):Promise.resolve(),Vr=(ge,de,Pe,ie,G)=>{G.run(()=>Pe.filter(nt=>!de.includes(nt)).forEach(fo)),de.forEach(nt=>{const vn=ie.path().split("?")[0].split("#")[0];if(nt!==ge&&nt.url!==vn){const Ln=nt.element;Ln.setAttribute("aria-hidden","true"),Ln.classList.add("ion-page-hidden"),nt.ref.changeDetectorRef.detach()}})};let Ur=(()=>{var ge;class de{get activatedComponentRef(){return this.activated}set animation(ie){this.nativeEl.animation=ie}set animated(ie){this.nativeEl.animated=ie}set swipeGesture(ie){this._swipeGesture=ie,this.nativeEl.swipeHandler=ie?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:G=>this.stackCtrl.endBackTransition(G)}:void 0}constructor(ie,G,nt,Ut,vn,Ln,wn,Sr){(0,g.A)(this,"parentOutlet",void 0),(0,g.A)(this,"nativeEl",void 0),(0,g.A)(this,"activatedView",null),(0,g.A)(this,"tabsPrefix",void 0),(0,g.A)(this,"_swipeGesture",void 0),(0,g.A)(this,"stackCtrl",void 0),(0,g.A)(this,"proxyMap",new WeakMap),(0,g.A)(this,"currentActivatedRoute$",new $e.t(null)),(0,g.A)(this,"activated",null),(0,g.A)(this,"_activatedRoute",null),(0,g.A)(this,"name",we.Xk),(0,g.A)(this,"stackWillChange",new H.bkB),(0,g.A)(this,"stackDidChange",new H.bkB),(0,g.A)(this,"activateEvents",new H.bkB),(0,g.A)(this,"deactivateEvents",new H.bkB),(0,g.A)(this,"parentContexts",(0,H.WQX)(we.Zp)),(0,g.A)(this,"location",(0,H.WQX)(H.c1b)),(0,g.A)(this,"environmentInjector",(0,H.WQX)(H.uvJ)),(0,g.A)(this,"inputBinder",(0,H.WQX)(Yr,{optional:!0})),(0,g.A)(this,"supportsBindingToComponentInputs",!0),(0,g.A)(this,"config",(0,H.WQX)(sr)),(0,g.A)(this,"navCtrl",(0,H.WQX)(zt)),this.parentOutlet=Sr,this.nativeEl=Ut.nativeElement,this.name=ie||we.Xk,this.tabsPrefix="true"===G?kr(vn,wn):void 0,this.stackCtrl=new Lr(this.tabsPrefix,this.nativeEl,vn,this.navCtrl,Ln,nt),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var ie;this.stackCtrl.destroy(),null===(ie=this.inputBinder)||void 0===ie||ie.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const ie=this.getContext();null!=ie&&ie.route&&this.activateWith(ie.route,ie.injector)}new Promise(ie=>(0,ce.c)(this.nativeEl,ie)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(ie,G){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const G=this.getContext();this.activatedView.savedData=new Map(G.children.contexts);const nt=this.activatedView.savedData.get("primary");if(nt&&G.route&&(nt.route={...G.route}),this.activatedView.savedExtras={},G.route){const Ut=G.route.snapshot;this.activatedView.savedExtras.queryParams=Ut.queryParams,this.activatedView.savedExtras.fragment=Ut.fragment}}const ie=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(ie)}}activateWith(ie,G){var nt;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=ie;let Ut,vn=this.stackCtrl.getExistingView(ie);if(vn){Ut=this.activated=vn.ref;const Sr=vn.savedData;Sr&&(this.getContext().children.contexts=Sr),this.updateActivatedRouteProxy(Ut.instance,ie)}else{var Ln;const Sr=ie._futureSnapshot,Io=this.parentContexts.getOrCreateContext(this.name).children,zo=new $e.t(null),wo=this.createActivatedRouteProxy(zo,ie),To=new qr(wo,Io,this.location.injector),Ar=null!==(Ln=Sr.routeConfig.component)&&void 0!==Ln?Ln:Sr.component;Ut=this.activated=this.outletContent.createComponent(Ar,{index:this.outletContent.length,injector:To,environmentInjector:null!=G?G:this.environmentInjector}),zo.next(Ut.instance),vn=this.stackCtrl.createView(this.activated,ie),this.proxyMap.set(Ut.instance,wo),this.currentActivatedRoute$.next({component:Ut.instance,activatedRoute:ie})}null===(nt=this.inputBinder)||void 0===nt||nt.bindActivatedRouteToOutletComponent(this),this.activatedView=vn,this.navCtrl.setTopOutlet(this);const wn=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:vn,tabSwitch:lr(vn,wn)}),this.stackCtrl.setActive(vn).then(Sr=>{this.activateEvents.emit(Ut.instance),this.stackDidChange.emit(Sr)})}canGoBack(ie=1,G){return this.stackCtrl.canGoBack(ie,G)}pop(ie=1,G){return this.stackCtrl.pop(ie,G)}getLastUrl(ie){const G=this.stackCtrl.getLastUrl(ie);return G?G.url:void 0}getLastRouteView(ie){return this.stackCtrl.getLastUrl(ie)}getRootView(ie){return this.stackCtrl.getRootUrl(ie)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(ie,G){const nt=new we.nX;return nt._futureSnapshot=G._futureSnapshot,nt._routerState=G._routerState,nt.snapshot=G.snapshot,nt.outlet=G.outlet,nt.component=G.component,nt._paramMap=this.proxyObservable(ie,"paramMap"),nt._queryParamMap=this.proxyObservable(ie,"queryParamMap"),nt.url=this.proxyObservable(ie,"url"),nt.params=this.proxyObservable(ie,"params"),nt.queryParams=this.proxyObservable(ie,"queryParams"),nt.fragment=this.proxyObservable(ie,"fragment"),nt.data=this.proxyObservable(ie,"data"),nt}proxyObservable(ie,G){return ie.pipe((0,lt.p)(nt=>!!nt),(0,ct.n)(nt=>this.currentActivatedRoute$.pipe((0,lt.p)(Ut=>null!==Ut&&Ut.component===nt),(0,ct.n)(Ut=>Ut&&Ut.activatedRoute[G]),function ft(ge,de=Fe.D){return ge=null!=ge?ge:rt,(0,ve.N)((Pe,ie)=>{let G,nt=!0;Pe.subscribe((0,wt._)(ie,Ut=>{const vn=de(Ut);(nt||!ge(G,vn))&&(nt=!1,G=vn,ie.next(Ut))}))})}())))}updateActivatedRouteProxy(ie,G){const nt=this.proxyMap.get(ie);if(!nt)throw new Error("Could not find activated route proxy for view");nt._futureSnapshot=G._futureSnapshot,nt._routerState=G._routerState,nt.snapshot=G.snapshot,nt.outlet=G.outlet,nt.component=G.component,this.currentActivatedRoute$.next({component:ie,activatedRoute:G})}}return ge=de,(0,g.A)(de,"\u0275fac",function(ie){return new(ie||ge)(H.kS0("name"),H.kS0("tabs"),H.rXU(q.aZ),H.rXU(H.aKT),H.rXU(we.Ix),H.rXU(H.SKi),H.rXU(we.nX),H.rXU(ge,12))}),(0,g.A)(de,"\u0275dir",H.FsC({type:ge,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),de})();class qr{constructor(de,Pe,ie){(0,g.A)(this,"route",void 0),(0,g.A)(this,"childContexts",void 0),(0,g.A)(this,"parent",void 0),this.route=de,this.childContexts=Pe,this.parent=ie}get(de,Pe){return de===we.nX?this.route:de===we.Zp?this.childContexts:this.parent.get(de,Pe)}}const Yr=new H.nKC("");let Cr=(()=>{var ge;class de{constructor(){(0,g.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(ie){this.unsubscribeFromRouteData(ie),this.subscribeToRouteData(ie)}unsubscribeFromRouteData(ie){var G;null===(G=this.outletDataSubscriptions.get(ie))||void 0===G||G.unsubscribe(),this.outletDataSubscriptions.delete(ie)}subscribeToRouteData(ie){const{activatedRoute:G}=ie,nt=(0,Me.z)([G.queryParams,G.params,G.data]).pipe((0,ct.n)(([Ut,vn,Ln],wn)=>(Ln={...Ut,...vn,...Ln},0===wn?(0,Qe.of)(Ln):Promise.resolve(Ln)))).subscribe(Ut=>{if(!ie.isActivated||!ie.activatedComponentRef||ie.activatedRoute!==G||null===G.component)return void this.unsubscribeFromRouteData(ie);const vn=(0,H.HJs)(G.component);if(vn)for(const{templateName:Ln}of vn.inputs)ie.activatedComponentRef.setInput(Ln,Ut[Ln]);else this.unsubscribeFromRouteData(ie)});this.outletDataSubscriptions.set(ie,nt)}}return ge=de,(0,g.A)(de,"\u0275fac",function(ie){return new(ie||ge)}),(0,g.A)(de,"\u0275prov",H.jDH({token:ge,factory:ge.\u0275fac})),de})();const ko=()=>({provide:Yr,useFactory:Rr,deps:[we.Ix]});function Rr(ge){return null!=ge&&ge.componentInputBindingEnabled?new Cr:null}const Zr=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let tn=(()=>{var ge;let de=((0,g.A)(ge=class{constructor(ie,G,nt,Ut,vn,Ln){(0,g.A)(this,"routerOutlet",void 0),(0,g.A)(this,"navCtrl",void 0),(0,g.A)(this,"config",void 0),(0,g.A)(this,"r",void 0),(0,g.A)(this,"z",void 0),(0,g.A)(this,"el",void 0),this.routerOutlet=ie,this.navCtrl=G,this.config=nt,this.r=Ut,this.z=vn,Ln.detach(),this.el=this.r.nativeElement}onClick(ie){var G;const nt=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(G=this.routerOutlet)&&void 0!==G&&G.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),ie.preventDefault()):null!=nt&&(this.navCtrl.navigateBack(nt,{animation:this.routerAnimation}),ie.preventDefault())}},"\u0275fac",function(ie){return new(ie||ge)(H.rXU(Ur,8),H.rXU(zt),H.rXU(sr),H.rXU(H.aKT),H.rXU(H.SKi),H.rXU(H.gRc))}),(0,g.A)(ge,"\u0275dir",H.FsC({type:ge,hostBindings:function(ie,G){1&ie&&H.bIt("click",function(Ut){return G.onClick(Ut)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),ge);return de=(0,Be.Cg)([Xr({inputs:Zr})],de),de})(),ar=(()=>{var ge;class de{constructor(ie,G,nt,Ut,vn){(0,g.A)(this,"locationStrategy",void 0),(0,g.A)(this,"navCtrl",void 0),(0,g.A)(this,"elementRef",void 0),(0,g.A)(this,"router",void 0),(0,g.A)(this,"routerLink",void 0),(0,g.A)(this,"routerDirection","forward"),(0,g.A)(this,"routerAnimation",void 0),this.locationStrategy=ie,this.navCtrl=G,this.elementRef=nt,this.router=Ut,this.routerLink=vn}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){const G=this.elementRef.nativeElement;["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"].includes(G.tagName)&&"0"===G.getAttribute("tabindex")&&G.removeAttribute("tabindex")}updateTargetUrlAndHref(){var ie;if(null!==(ie=this.routerLink)&&void 0!==ie&&ie.urlTree){const G=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=G}}onClick(ie){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),ie.preventDefault()}}return ge=de,(0,g.A)(de,"\u0275fac",function(ie){return new(ie||ge)(H.rXU(q.hb),H.rXU(zt),H.rXU(H.aKT),H.rXU(we.Ix),H.rXU(we.Wk,8))}),(0,g.A)(de,"\u0275dir",H.FsC({type:ge,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(ie,G){1&ie&&H.bIt("click",function(Ut){return G.onClick(Ut)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[H.OA$]})),de})(),Or=(()=>{var ge;class de{constructor(ie,G,nt,Ut,vn){(0,g.A)(this,"locationStrategy",void 0),(0,g.A)(this,"navCtrl",void 0),(0,g.A)(this,"elementRef",void 0),(0,g.A)(this,"router",void 0),(0,g.A)(this,"routerLink",void 0),(0,g.A)(this,"routerDirection","forward"),(0,g.A)(this,"routerAnimation",void 0),this.locationStrategy=ie,this.navCtrl=G,this.elementRef=nt,this.router=Ut,this.routerLink=vn}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var ie;if(null!==(ie=this.routerLink)&&void 0!==ie&&ie.urlTree){const G=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=G}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return ge=de,(0,g.A)(de,"\u0275fac",function(ie){return new(ie||ge)(H.rXU(q.hb),H.rXU(zt),H.rXU(H.aKT),H.rXU(we.Ix),H.rXU(we.Wk,8))}),(0,g.A)(de,"\u0275dir",H.FsC({type:ge,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(ie,G){1&ie&&H.bIt("click",function(){return G.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[H.OA$]})),de})();const so=["animated","animation","root","rootParams","swipeGesture"],Zt=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let Nt=(()=>{var ge;let de=((0,g.A)(ge=class{constructor(ie,G,nt,Ut,vn,Ln){(0,g.A)(this,"z",void 0),(0,g.A)(this,"el",void 0),this.z=vn,Ln.detach(),this.el=ie.nativeElement,ie.nativeElement.delegate=Ut.create(G,nt),_r(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(ie){return new(ie||ge)(H.rXU(H.aKT),H.rXU(H.uvJ),H.rXU(H.zZn),H.rXU(fe),H.rXU(H.SKi),H.rXU(H.gRc))}),(0,g.A)(ge,"\u0275dir",H.FsC({type:ge,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),ge);return de=(0,Be.Cg)([Xr({inputs:so,methods:Zt})],de),de})(),cn=(()=>{var ge;class de{constructor(ie){(0,g.A)(this,"navCtrl",void 0),(0,g.A)(this,"tabsInner",void 0),(0,g.A)(this,"ionTabsWillChange",new H.bkB),(0,g.A)(this,"ionTabsDidChange",new H.bkB),(0,g.A)(this,"tabBarSlot","bottom"),(0,g.A)(this,"hasTab",!1),(0,g.A)(this,"selectedTab",void 0),(0,g.A)(this,"leavingTab",void 0),this.navCtrl=ie}ngAfterViewInit(){const ie=this.tabs.length>0?this.tabs.first:void 0;ie&&(this.hasTab=!0,this.setActiveTab(ie.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:ie,tabSwitch:G}){const nt=ie.stackId;G&&void 0!==nt&&this.ionTabsWillChange.emit({tab:nt})}onStackDidChange({enteringView:ie,tabSwitch:G}){const nt=ie.stackId;G&&void 0!==nt&&(this.tabBar&&(this.tabBar.selectedTab=nt),this.ionTabsDidChange.emit({tab:nt}))}select(ie){const G="string"==typeof ie,nt=G?ie:ie.detail.tab;if(this.hasTab)return this.setActiveTab(nt),void this.tabSwitch();const Ut=this.outlet.getActiveStackId()===nt,vn=`${this.outlet.tabsPrefix}/${nt}`;if(G||ie.stopPropagation(),Ut){const Ln=this.outlet.getActiveStackId(),wn=this.outlet.getLastRouteView(Ln);if((null==wn?void 0:wn.url)===vn)return;const Sr=this.outlet.getRootView(nt);return this.navCtrl.navigateRoot(vn,{...Sr&&vn===Sr.url&&Sr.savedExtras,animated:!0,animationDirection:"back"})}{const Ln=this.outlet.getLastRouteView(nt);return this.navCtrl.navigateRoot((null==Ln?void 0:Ln.url)||vn,{...null==Ln?void 0:Ln.savedExtras,animated:!0,animationDirection:"back"})}}setActiveTab(ie){const nt=this.tabs.find(Ut=>Ut.tab===ie);nt?(this.leavingTab=this.selectedTab,this.selectedTab=nt,this.ionTabsWillChange.emit({tab:ie}),nt.el.active=!0):console.error(`[Ionic Error]: Tab with id: "${ie}" does not exist`)}tabSwitch(){const{selectedTab:ie,leavingTab:G}=this;this.tabBar&&ie&&(this.tabBar.selectedTab=ie.tab),(null==G?void 0:G.tab)!==(null==ie?void 0:ie.tab)&&null!=G&&G.el&&(G.el.active=!1),ie&&this.ionTabsDidChange.emit({tab:ie.tab})}getSelected(){var ie;return this.hasTab?null===(ie=this.selectedTab)||void 0===ie?void 0:ie.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(ie=>{const G=ie.el.getAttribute("slot");G!==this.tabBarSlot&&(this.tabBarSlot=G,this.relocateTabBar())})}relocateTabBar(){const ie=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(ie):this.tabsInner.nativeElement.after(ie)}}return ge=de,(0,g.A)(de,"\u0275fac",function(ie){return new(ie||ge)(H.rXU(zt))}),(0,g.A)(de,"\u0275dir",H.FsC({type:ge,selectors:[["ion-tabs"]],viewQuery:function(ie,G){if(1&ie&&H.GBs(ze,7,H.aKT),2&ie){let nt;H.mGM(nt=H.lsd())&&(G.tabsInner=nt.first)}},hostBindings:function(ie,G){1&ie&&H.bIt("ionTabButtonClick",function(Ut){return G.select(Ut)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),de})();const Et=ge=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ge):"function"==typeof requestAnimationFrame?requestAnimationFrame(ge):setTimeout(ge);let Pt=(()=>{var ge;class de{constructor(ie,G){(0,g.A)(this,"injector",void 0),(0,g.A)(this,"elementRef",void 0),(0,g.A)(this,"onChange",()=>{}),(0,g.A)(this,"onTouched",()=>{}),(0,g.A)(this,"lastValue",void 0),(0,g.A)(this,"statusChanges",void 0),this.injector=ie,this.elementRef=G}writeValue(ie){this.elementRef.nativeElement.value=this.lastValue=ie,_n(this.elementRef)}handleValueChange(ie,G){ie===this.elementRef.nativeElement&&(G!==this.lastValue&&(this.lastValue=G,this.onChange(G)),_n(this.elementRef))}_handleBlurEvent(ie){ie===this.elementRef.nativeElement&&(this.onTouched(),_n(this.elementRef))}registerOnChange(ie){this.onChange=ie}registerOnTouched(ie){this.onTouched=ie}setDisabledState(ie){this.elementRef.nativeElement.disabled=ie}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let ie;try{ie=this.injector.get(Ee.vO)}catch{}if(!ie)return;ie.statusChanges&&(this.statusChanges=ie.statusChanges.subscribe(()=>_n(this.elementRef)));const G=ie.control;G&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Ut=>{if(typeof G[Ut]<"u"){const vn=G[Ut].bind(G);G[Ut]=(...Ln)=>{vn(...Ln),_n(this.elementRef)}}})}}return ge=de,(0,g.A)(de,"\u0275fac",function(ie){return new(ie||ge)(H.rXU(H.zZn),H.rXU(H.aKT))}),(0,g.A)(de,"\u0275dir",H.FsC({type:ge,hostBindings:function(ie,G){1&ie&&H.bIt("ionBlur",function(Ut){return G._handleBlurEvent(Ut.target)})}})),de})();const _n=ge=>{Et(()=>{const de=ge.nativeElement,Pe=null!=de.value&&de.value.toString().length>0,ie=Nn(de);Se(de,ie);const G=de.closest("ion-item");G&&Se(G,Pe?[...ie,"item-has-value"]:ie)})},Nn=ge=>{const de=ge.classList,Pe=[];for(let ie=0;ie<de.length;ie++){const G=de.item(ie);null!==G&&ut(G,"ng-")&&Pe.push(`ion-${G.substring(3)}`)}return Pe},Se=(ge,de)=>{const Pe=ge.classList;Pe.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),Pe.add(...de)},ut=(ge,de)=>ge.substring(0,de.length)===de;class an{shouldDetach(de){return!1}shouldAttach(de){return!1}store(de,Pe){}retrieve(de){return null}shouldReuseRoute(de,Pe){if(de.routeConfig!==Pe.routeConfig)return!1;const ie=de.params,G=Pe.params,nt=Object.keys(ie),Ut=Object.keys(G);if(nt.length!==Ut.length)return!1;for(const vn of nt)if(G[vn]!==ie[vn])return!1;return!0}}class Ht{constructor(de){(0,g.A)(this,"ctrl",void 0),this.ctrl=de}create(de){return this.ctrl.create(de||{})}dismiss(de,Pe,ie){return this.ctrl.dismiss(de,Pe,ie)}getTop(){return this.ctrl.getTop()}}},9795:(Un,Tt,F)=>{"use strict";F.d(Tt,{hG:()=>bc,U1:()=>zp,Rg:()=>Oa,Xi:()=>Wd,_H:()=>qp});var x=F(9842),g=F(1635),H=F(4438),we=F(8880),q=F(467),S=F(1771);const Te=(C,u,p,y,E)=>Ke(C[1],u[1],p[1],y[1],E).map(L=>ce(C[0],u[0],p[0],y[0],L)),ce=(C,u,p,y,E)=>E*(3*u*Math.pow(E-1,2)+E*(-3*p*E+3*p+y*E))-C*Math.pow(E-1,3),Ke=(C,u,p,y,E)=>$e((y-=E)-3*(p-=E)+3*(u-=E)-(C-=E),3*p-6*u+3*C,3*u-3*C,C).filter(re=>re>=0&&re<=1),$e=(C,u,p,y)=>{if(0===C)return((C,u,p)=>{const y=u*u-4*C*p;return y<0?[]:[(-u+Math.sqrt(y))/(2*C),(-u-Math.sqrt(y))/(2*C)]})(u,p,y);const E=(3*(p/=C)-(u/=C)*u)/3,L=(2*u*u*u-9*u*p+27*(y/=C))/27;if(0===E)return[Math.pow(-L,1/3)];if(0===L)return[Math.sqrt(-E),-Math.sqrt(-E)];const re=Math.pow(L/2,2)+Math.pow(E/3,3);if(0===re)return[Math.pow(L/2,.5)-u/3];if(re>0)return[Math.pow(-L/2+Math.sqrt(re),1/3)-Math.pow(L/2+Math.sqrt(re),1/3)-u/3];const _e=Math.sqrt(Math.pow(-E/3,3)),Ge=Math.acos(-L/(2*Math.sqrt(Math.pow(-E/3,3)))),xt=2*Math.pow(_e,1/3);return[xt*Math.cos(Ge/3)-u/3,xt*Math.cos((Ge+2*Math.PI)/3)-u/3,xt*Math.cos((Ge+4*Math.PI)/3)-u/3]};var Me=F(1656);const Qe=function(){var C=(0,q.A)(function*(u,p,y,E,L,re){var _e;if(u)return u.attachViewToDom(p,y,L,E);if(!(re||"string"==typeof y||y instanceof HTMLElement))throw new Error("framework delegate is missing");const Ge="string"==typeof y?null===(_e=p.ownerDocument)||void 0===_e?void 0:_e.createElement(y):y;return E&&E.forEach(xt=>Ge.classList.add(xt)),L&&Object.assign(Ge,L),p.appendChild(Ge),yield new Promise(xt=>(0,Me.c)(Ge,xt)),Ge});return function(p,y,E,L,re,_e){return C.apply(this,arguments)}}(),Be=(C,u)=>{if(u){if(C)return C.removeViewFromDom(u.parentElement,u);u.remove()}return Promise.resolve()},lt=()=>{let C,u;return{attachViewToDom:function(){var E=(0,q.A)(function*(L,re,_e={},Ge=[]){var xt,Xt;let hn;if(C=L,re){const gn="string"==typeof re?null===(xt=C.ownerDocument)||void 0===xt?void 0:xt.createElement(re):re;Ge.forEach(Tn=>gn.classList.add(Tn)),Object.assign(gn,_e),C.appendChild(gn),hn=gn,yield new Promise(Tn=>(0,Me.c)(gn,Tn))}else if(C.children.length>0&&("ION-MODAL"===C.tagName||"ION-POPOVER"===C.tagName)&&!(hn=C.children[0]).classList.contains("ion-delegate-host")){const Tn=null===(Xt=C.ownerDocument)||void 0===Xt?void 0:Xt.createElement("div");Tn.classList.add("ion-delegate-host"),Ge.forEach(Rn=>Tn.classList.add(Rn)),Tn.append(...C.children),C.appendChild(Tn),hn=Tn}const Mn=document.querySelector("ion-app")||document.body;return u=document.createComment("ionic teleport"),C.parentNode.insertBefore(u,C),Mn.appendChild(C),null!=hn?hn:C});return function(re,_e){return E.apply(this,arguments)}}(),removeViewFromDom:()=>(C&&u&&(u.parentNode.insertBefore(C,u),u.remove()),Promise.resolve())}},ct=()=>{let C;return{lock:function(){var p=(0,q.A)(function*(){const y=C;let E;return C=new Promise(L=>E=L),void 0!==y&&(yield y),E});return function(){return p.apply(this,arguments)}}()}};var Fe=F(6031),ve=F(5531);const rt=(0,S.w$)(class extends S.wt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=(0,S.lh)(this,"ionNavWillLoad",7),this.ionNavWillChange=(0,S.lh)(this,"ionNavWillChange",3),this.ionNavDidChange=(0,S.lh)(this,"ionNavDidChange",3),this.lockController=ct(),this.gestureOrAnimationInProgress=!1,this.mode=(0,ve.b)(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(void 0!==this.swipeHandler)}connectedCallback(){var u=this;return(0,q.A)(function*(){u.gesture=(yield F.e(6499).then(F.bind(F,6499))).createSwipeBackGesture(u.el,()=>!u.gestureOrAnimationInProgress&&!!u.swipeHandler&&u.swipeHandler.canStart(),()=>(u.gestureOrAnimationInProgress=!0,void(u.swipeHandler&&u.swipeHandler.onStart())),y=>{var E;return null===(E=u.ani)||void 0===E?void 0:E.progressStep(y)},(y,E,L)=>{if(u.ani){u.ani.onFinish(()=>{u.gestureOrAnimationInProgress=!1,u.swipeHandler&&u.swipeHandler.onEnd(y)},{oneTimeCallback:!0});let re=y?-.001:.001;y?re+=Te([0,0],[.32,.72],[0,1],[1,1],E)[0]:(u.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),re+=Te([0,0],[1,0],[.68,.28],[1,1],E)[0]),u.ani.progressEnd(y?1:0,re,L)}else u.gestureOrAnimationInProgress=!1}),u.swipeHandlerChanged()})()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}commit(u,p,y){var E=this;return(0,q.A)(function*(){const L=yield E.lockController.lock();let re=!1;try{re=yield E.transition(u,p,y)}catch(_e){console.error(_e)}return L(),re})()}setRouteId(u,p,y,E){var L=this;return(0,q.A)(function*(){return{changed:yield L.setRoot(u,p,{duration:"root"===y?0:void 0,direction:"back"===y?"back":"forward",animationBuilder:E}),element:L.activeEl}})()}getRouteId(){var u=this;return(0,q.A)(function*(){const p=u.activeEl;return p?{id:p.tagName,element:p,params:u.activeParams}:void 0})()}setRoot(u,p,y){var E=this;return(0,q.A)(function*(){if(E.activeComponent===u&&(0,Me.s)(p,E.activeParams))return!1;const L=E.activeEl,re=yield Qe(E.delegate,E.el,u,["ion-page","ion-page-invisible"],p);return E.activeComponent=u,E.activeEl=re,E.activeParams=p,yield E.commit(re,L,y),yield Be(E.delegate,L),!0})()}transition(u,p,y={}){var E=this;return(0,q.A)(function*(){if(p===u)return!1;E.ionNavWillChange.emit();const{el:L,mode:re}=E,_e=E.animated&&ve.c.getBoolean("animated",!0),Ge=y.animationBuilder||E.animation||ve.c.get("navAnimation");return yield(0,Fe.t)(Object.assign(Object.assign({mode:re,animated:_e,enteringEl:u,leavingEl:p,baseEl:L,deepWait:(0,Me.j)(L),progressCallback:y.progressAnimation?xt=>{void 0===xt||E.gestureOrAnimationInProgress?E.ani=xt:(E.gestureOrAnimationInProgress=!0,xt.onFinish(()=>{E.gestureOrAnimationInProgress=!1,E.swipeHandler&&E.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),xt.progressEnd(0,0,0))}:void 0},y),{animationBuilder:Ge})),E.ionNavDidChange.emit(),!0})()}render(){return(0,S.h)("slot",{key:"8279a453c66a766e6e383ff59842b4ae070c13a9"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}"}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]),oe=function Ee(){typeof customElements>"u"||["ion-router-outlet"].forEach(u=>{"ion-router-outlet"===u&&(customElements.get(u)||customElements.define(u,rt))})};var it=F(177),At=F(2902),Ze=F(7849),He=F(1979),jt=F(6081),zt=F(4878),Gn=F(5098),on=F(8875);const Xn='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',sr=(C,u)=>{const p=C.querySelector(Xn);We(p,null!=u?u:C)},pt=(C,u)=>{const p=Array.from(C.querySelectorAll(Xn));We(p.length>0?p[p.length-1]:null,null!=u?u:C)},We=(C,u)=>{let p=C;const y=null==C?void 0:C.shadowRoot;y&&(p=y.querySelector(Xn)||C),p?(0,Me.f)(p):u.focus()};let ue=0,fe=0;const Re=new WeakMap,St=C=>({create:u=>dr(C,u),dismiss:(u,p,y)=>xn(document,u,p,C,y),getTop:()=>(0,q.A)(function*(){return qt(document,C)})()}),Ot=St("ion-alert"),un=St("ion-loading"),Yt=St("ion-modal"),Qn=St("ion-popover"),_r=C=>{typeof document<"u"&&Kr(document);const u=ue++;C.overlayIndex=u},Xr=C=>(C.hasAttribute("id")||(C.id="ion-overlay-"+ ++fe),C.id),dr=(C,u)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(C).then(()=>{const p=document.createElement(C);return p.classList.add("overlay-hidden"),Object.assign(p,Object.assign(Object.assign({},u),{hasController:!0})),uo(document).appendChild(p),new Promise(y=>(0,Me.c)(p,y))}):Promise.resolve(),vr=(C,u)=>{let p=C;const y=null==C?void 0:C.shadowRoot;y&&(p=y.querySelector(Xn)||C),p?(0,Me.f)(p):u.focus()},Kr=C=>{0===ue&&(ue=1,C.addEventListener("focus",u=>{((C,u)=>{const p=qt(u,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),y=C.target;p&&y&&!p.classList.contains(so)&&(p.shadowRoot?(()=>{if(p.contains(y))p.lastFocus=y;else if("ION-TOAST"===y.tagName)vr(p.lastFocus,p);else{const re=p.lastFocus;sr(p),re===u.activeElement&&pt(p),p.lastFocus=u.activeElement}})():(()=>{if(p===y)p.lastFocus=void 0;else if("ION-TOAST"===y.tagName)vr(p.lastFocus,p);else{const re=(0,Me.g)(p);if(!re.contains(y))return;const _e=re.querySelector(".ion-overlay-wrapper");if(!_e)return;if(_e.contains(y)||y===re.querySelector("ion-backdrop"))p.lastFocus=y;else{const Ge=p.lastFocus;sr(_e,p),Ge===u.activeElement&&pt(_e,p),p.lastFocus=u.activeElement}}})())})(u,C)},!0),C.addEventListener("ionBackButton",u=>{const p=qt(C);null!=p&&p.backdropDismiss&&u.detail.register(Gn.OVERLAY_BACK_BUTTON_PRIORITY,()=>{p.dismiss(void 0,Yr)})}),(0,Gn.shouldUseCloseWatcher)()||C.addEventListener("keydown",u=>{if("Escape"===u.key){const p=qt(C);null!=p&&p.backdropDismiss&&p.dismiss(void 0,Yr)}}))},xn=(C,u,p,y,E)=>{const L=qt(C,y,E);return L?L.dismiss(u,p):Promise.reject("overlay does not exist")},sn=(C,u)=>((C,u)=>(void 0===u&&(u="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(C.querySelectorAll(u)).filter(p=>p.overlayIndex>0)))(C,u).filter(p=>!(C=>C.classList.contains("overlay-hidden"))(p)),qt=(C,u,p)=>{const y=sn(C,u);return void 0===p?y[y.length-1]:y.find(E=>E.id===p)},Fr=(C=!1)=>{const p=uo(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");p&&(C?p.setAttribute("aria-hidden","true"):p.removeAttribute("aria-hidden"))},kr=function(){var C=(0,q.A)(function*(u,p,y,E,L){var re,_e;if(u.presented)return;"ION-TOAST"!==u.el.tagName&&Fr(!0),document.body.classList.add(on.B),ar(u.el),tn(u.el),u.presented=!0,u.willPresent.emit(),null===(re=u.willPresentShorthand)||void 0===re||re.emit();const Ge=(0,ve.b)(u),xt=u.enterAnimation?u.enterAnimation:ve.c.get(p,"ios"===Ge?y:E);(yield fo(u,xt,u.el,L))&&(u.didPresent.emit(),null===(_e=u.didPresentShorthand)||void 0===_e||_e.emit()),"ION-TOAST"!==u.el.tagName&&lr(u.el),u.keyboardClose&&(null===document.activeElement||!u.el.contains(document.activeElement))&&u.el.focus(),u.el.removeAttribute("aria-hidden")});return function(p,y,E,L,re){return C.apply(this,arguments)}}(),lr=function(){var C=(0,q.A)(function*(u){let p=document.activeElement;if(!p)return;const y=null==p?void 0:p.shadowRoot;y&&(p=y.querySelector(Xn)||p),yield u.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&p.focus()});return function(p){return C.apply(this,arguments)}}(),fr=function(){var C=(0,q.A)(function*(u,p,y,E,L,re,_e){var Ge,xt;if(!u.presented)return!1;const Xt=void 0!==zt.d?sn(zt.d).filter(Mn=>"ION-TOAST"!==Mn.tagName):[];1===Xt.length&&Xt[0].id===u.el.id&&(Fr(!1),document.body.classList.remove(on.B)),u.presented=!1;try{tn(u.el),u.el.style.setProperty("pointer-events","none"),u.willDismiss.emit({data:p,role:y}),null===(Ge=u.willDismissShorthand)||void 0===Ge||Ge.emit({data:p,role:y});const Mn=(0,ve.b)(u),gn=u.leaveAnimation?u.leaveAnimation:ve.c.get(E,"ios"===Mn?L:re);y!==Cr&&(yield fo(u,gn,u.el,_e)),u.didDismiss.emit({data:p,role:y}),null===(xt=u.didDismissShorthand)||void 0===xt||xt.emit({data:p,role:y}),(Re.get(u)||[]).forEach(Rn=>Rn.destroy()),Re.delete(u),u.el.classList.add("overlay-hidden"),u.el.style.removeProperty("pointer-events"),void 0!==u.el.lastFocus&&(u.el.lastFocus=void 0)}catch(Mn){console.error(Mn)}return u.el.remove(),Or(),!0});return function(p,y,E,L,re,_e,Ge){return C.apply(this,arguments)}}(),uo=C=>C.querySelector("ion-app")||C.body,fo=function(){var C=(0,q.A)(function*(u,p,y,E){y.classList.remove("overlay-hidden");const re=p(u.el,E);(!u.animated||!ve.c.getBoolean("animated",!0))&&re.duration(0),u.keyboardClose&&re.beforeAddWrite(()=>{const Ge=y.ownerDocument.activeElement;null!=Ge&&Ge.matches("input,ion-input, ion-textarea")&&Ge.blur()});const _e=Re.get(u)||[];return Re.set(u,[..._e,re]),yield re.play(),!0});return function(p,y,E,L){return C.apply(this,arguments)}}(),Lr=(C,u)=>{let p;const y=new Promise(E=>p=E);return ho(C,u,E=>{p(E.detail)}),y},ho=(C,u,p)=>{const y=E=>{(0,Me.b)(C,u,y),p(E)};(0,Me.a)(C,u,y)},Vr=C=>"cancel"===C||C===Yr,Ur=C=>C(),qr=(C,u)=>{if("function"==typeof C)return ve.c.get("_zoneGate",Ur)(()=>{try{return C(u)}catch(y){throw y}})},Yr="backdrop",Cr="gesture",Rr=C=>{let p,u=!1;const y=lt(),E=(_e=!1)=>{if(p&&!_e)return{delegate:p,inline:u};const{el:Ge,hasController:xt,delegate:Xt}=C;return u=null!==Ge.parentNode&&!xt,p=u?Xt||y:Xt,{inline:u,delegate:p}};return{attachViewToDom:function(){var _e=(0,q.A)(function*(Ge){const{delegate:xt}=E(!0);if(xt)return yield xt.attachViewToDom(C.el,Ge);const{hasController:Xt}=C;if(Xt&&void 0!==Ge)throw new Error("framework delegate is missing");return null});return function(xt){return _e.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:_e}=E();_e&&void 0!==C.el&&_e.removeViewFromDom(C.el.parentElement,C.el)}}},Zr=()=>{let C;const u=()=>{C&&(C(),C=void 0)};return{addClickListener:(y,E)=>{u();const L=void 0!==E?document.getElementById(E):null;L?C=((_e,Ge)=>{const xt=()=>{Ge.present()};return _e.addEventListener("click",xt),()=>{_e.removeEventListener("click",xt)}})(L,y):(0,He.p)(`A trigger element with the ID "${E}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,y)},removeClickListener:u}},tn=C=>{void 0!==zt.d&&C.setAttribute("aria-hidden","true")},ar=C=>{var u;if(void 0===zt.d)return;const p=sn(zt.d);for(let y=p.length-1;y>=0;y--){const E=p[y],L=null!==(u=p[y+1])&&void 0!==u?u:C;(L.hasAttribute("aria-hidden")||"ION-TOAST"!==L.tagName)&&E.setAttribute("aria-hidden","true")}},Or=()=>{if(void 0===zt.d)return;const C=sn(zt.d);for(let u=C.length-1;u>=0;u--){const p=C[u];if(p.removeAttribute("aria-hidden"),"ION-TOAST"!==p.tagName)break}},so="ion-disable-focus-trap",Nt=(C,u)=>"string"==typeof C&&C.length>0?Object.assign({"ion-color":!0,[`ion-color-${C}`]:!0},u):u,Et=C=>{const u={};return(C=>void 0!==C?(Array.isArray(C)?C:C.split(" ")).filter(p=>null!=p).map(p=>p.trim()).filter(p=>""!==p):[])(C).forEach(p=>u[p]=!0),u};var Nn=F(6008),Se=F(555),ut=F(2104);const Pe=(0,S.w$)(class extends S.wt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionBackdropTap=(0,S.lh)(this,"ionBackdropTap",7),this.visible=!0,this.tappable=!0,this.stopPropagation=!0}onMouseDown(u){this.emitTap(u)}emitTap(u){this.stopPropagation&&(u.preventDefault(),u.stopPropagation()),this.tappable&&this.ionBackdropTap.emit()}render(){const u=(0,ve.b)(this);return(0,S.h)(S.xr,{key:"fe191068e2aaadfdbe7a463c08d227a1b36d7a98","aria-hidden":"true",class:{[u]:!0,"backdrop-hide":!this.visible,"backdrop-no-tappable":!this.tappable}})}static get style(){return{ios:":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",md:":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}"}}},[33,"ion-backdrop",{visible:[4],tappable:[4],stopPropagation:[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]);function ie(){typeof customElements>"u"||["ion-backdrop"].forEach(u=>{"ion-backdrop"===u&&(customElements.get(u)||customElements.define(u,Pe))})}var G=function(C){return C.Dark="DARK",C.Light="LIGHT",C.Default="DEFAULT",C}(G||{});const nt={getEngine(){const C=(0,jt.g)();if(null!=C&&C.isPluginAvailable("StatusBar"))return C.Plugins.StatusBar},setStyle(C){const u=this.getEngine();u&&u.setStyle(C)},getStyle:(C=(0,q.A)(function*(){const u=this.getEngine();if(!u)return G.Default;const{style:p}=yield u.getInfo();return p}),function(){return C.apply(this,arguments)})},Ut=(C,u)=>{if(1===u)return 0;const p=1/(1-u);return C*p+-u*p},vn=()=>{!zt.w||zt.w.innerWidth>=768||nt.setStyle({style:G.Dark})},Ln=(C=G.Default)=>{!zt.w||zt.w.innerWidth>=768||nt.setStyle({style:C})},wn=function(){var C=(0,q.A)(function*(u,p){"function"!=typeof u.canDismiss||!(yield u.canDismiss(void 0,Cr))||(p.isRunning()?p.onFinish(()=>{u.dismiss(void 0,"handler")},{oneTimeCallback:!0}):u.dismiss(void 0,"handler"))});return function(p,y){return C.apply(this,arguments)}}(),Sr=C=>.00255275*2.71828**(-14.9619*C)-1.00255*2.71828**(-.0380968*C)+1,wo=(C,u)=>(0,Me.k)(400,C/Math.abs(1.1*u),500),To=C=>{const{currentBreakpoint:u,backdropBreakpoint:p}=C,y=void 0===p||p<u,E=y?`calc(var(--backdrop-opacity) * ${u})`:"0",L=(0,Se.c)("backdropAnimation").fromTo("opacity",0,E);return y&&L.beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),{wrapperAnimation:(0,Se.c)("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(100%)"},{offset:1,opacity:1,transform:`translateY(${100-100*u}%)`}]),backdropAnimation:L}},Ar=C=>{const{currentBreakpoint:u,backdropBreakpoint:p}=C,y=`calc(var(--backdrop-opacity) * ${Ut(u,p)})`,E=[{offset:0,opacity:y},{offset:1,opacity:0}],L=[{offset:0,opacity:y},{offset:p,opacity:0},{offset:1,opacity:0}],re=(0,Se.c)("backdropAnimation").keyframes(0!==p?L:E);return{wrapperAnimation:(0,Se.c)("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:`translateY(${100-100*u}%)`},{offset:1,opacity:1,transform:"translateY(100%)"}]),backdropAnimation:re}},po=(C,u)=>{const{presentingEl:p,currentBreakpoint:y}=u,E=(0,Me.g)(C),{wrapperAnimation:L,backdropAnimation:re}=void 0!==y?To(u):{backdropAnimation:(0,Se.c)().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),wrapperAnimation:(0,Se.c)().fromTo("transform","translateY(100vh)","translateY(0vh)")};re.addElement(E.querySelector("ion-backdrop")),L.addElement(E.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const _e=(0,Se.c)("entering-base").addElement(C).easing("cubic-bezier(0.32,0.72,0,1)").duration(500).addAnimation(L);if(p){const Ge=window.innerWidth<768,xt="ION-MODAL"===p.tagName&&void 0!==p.presentingElement,Xt=(0,Me.g)(p),hn=(0,Se.c)().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"}),Mn=document.body;if(Ge){const gn=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",yr=`translateY(${xt?"-10px":gn}) scale(0.915)`;hn.afterStyles({transform:yr}).beforeAddWrite(()=>Mn.style.setProperty("background-color","black")).addElement(p).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"},{offset:1,filter:"contrast(0.85)",transform:yr,borderRadius:"10px 10px 0 0"}]),_e.addAnimation(hn)}else if(_e.addAnimation(re),xt){const Tn=`translateY(-10px) scale(${xt?.915:1})`;hn.afterStyles({transform:Tn}).addElement(Xt.querySelector(".modal-wrapper")).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0) scale(1)"},{offset:1,filter:"contrast(0.85)",transform:Tn}]);const Rn=(0,Se.c)().afterStyles({transform:Tn}).addElement(Xt.querySelector(".modal-shadow")).keyframes([{offset:0,opacity:"1",transform:"translateY(0) scale(1)"},{offset:1,opacity:"0",transform:Tn}]);_e.addAnimation([hn,Rn])}else L.fromTo("opacity","0","1")}else _e.addAnimation(re);return _e},Uo=(C,u,p=500)=>{const{presentingEl:y,currentBreakpoint:E}=u,L=(0,Me.g)(C),{wrapperAnimation:re,backdropAnimation:_e}=void 0!==E?Ar(u):{backdropAnimation:(0,Se.c)().fromTo("opacity","var(--backdrop-opacity)",0),wrapperAnimation:(0,Se.c)().fromTo("transform","translateY(0vh)","translateY(100vh)")};_e.addElement(L.querySelector("ion-backdrop")),re.addElement(L.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const Ge=(0,Se.c)("leaving-base").addElement(C).easing("cubic-bezier(0.32,0.72,0,1)").duration(p).addAnimation(re);if(y){const xt=window.innerWidth<768,Xt="ION-MODAL"===y.tagName&&void 0!==y.presentingElement,hn=(0,Me.g)(y),Mn=(0,Se.c)().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish(Tn=>{1===Tn&&(y.style.setProperty("overflow",""),Array.from(gn.querySelectorAll("ion-modal:not(.overlay-hidden)")).filter(yr=>void 0!==yr.presentingElement).length<=1&&gn.style.setProperty("background-color",""))}),gn=document.body;if(xt){const Tn=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",to=`translateY(${Xt?"-10px":Tn}) scale(0.915)`;Mn.addElement(y).keyframes([{offset:0,filter:"contrast(0.85)",transform:to,borderRadius:"10px 10px 0 0"},{offset:1,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"}]),Ge.addAnimation(Mn)}else if(Ge.addAnimation(_e),Xt){const Rn=`translateY(-10px) scale(${Xt?.915:1})`;Mn.addElement(hn.querySelector(".modal-wrapper")).afterStyles({transform:"translate3d(0, 0, 0)"}).keyframes([{offset:0,filter:"contrast(0.85)",transform:Rn},{offset:1,filter:"contrast(1)",transform:"translateY(0) scale(1)"}]);const yr=(0,Se.c)().addElement(hn.querySelector(".modal-shadow")).afterStyles({transform:"translateY(0) scale(1)"}).keyframes([{offset:0,opacity:"0",transform:Rn},{offset:1,opacity:"1",transform:"translateY(0) scale(1)"}]);Ge.addAnimation([Mn,yr])}else re.fromTo("opacity","1","0")}else Ge.addAnimation(_e);return Ge},dn=(C,u)=>{const{currentBreakpoint:p}=u,y=(0,Me.g)(C),{wrapperAnimation:E,backdropAnimation:L}=void 0!==p?To(u):{backdropAnimation:(0,Se.c)().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),wrapperAnimation:(0,Se.c)().keyframes([{offset:0,opacity:.01,transform:"translateY(40px)"},{offset:1,opacity:1,transform:"translateY(0px)"}])};return L.addElement(y.querySelector("ion-backdrop")),E.addElement(y.querySelector(".modal-wrapper")),(0,Se.c)().addElement(C).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(280).addAnimation([L,E])},Ir=(C,u)=>{const{currentBreakpoint:p}=u,y=(0,Me.g)(C),{wrapperAnimation:E,backdropAnimation:L}=void 0!==p?Ar(u):{backdropAnimation:(0,Se.c)().fromTo("opacity","var(--backdrop-opacity)",0),wrapperAnimation:(0,Se.c)().keyframes([{offset:0,opacity:.99,transform:"translateY(0px)"},{offset:1,opacity:0,transform:"translateY(40px)"}])};return L.addElement(y.querySelector("ion-backdrop")),E.addElement(y.querySelector(".modal-wrapper")),(0,Se.c)().easing("cubic-bezier(0.47,0,0.745,0.715)").duration(200).addAnimation([L,E])},Ue=(0,S.w$)(class extends S.wt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=(0,S.lh)(this,"ionModalDidPresent",7),this.willPresent=(0,S.lh)(this,"ionModalWillPresent",7),this.willDismiss=(0,S.lh)(this,"ionModalWillDismiss",7),this.didDismiss=(0,S.lh)(this,"ionModalDidDismiss",7),this.ionBreakpointDidChange=(0,S.lh)(this,"ionBreakpointDidChange",7),this.didPresentShorthand=(0,S.lh)(this,"didPresent",7),this.willPresentShorthand=(0,S.lh)(this,"willPresent",7),this.willDismissShorthand=(0,S.lh)(this,"willDismiss",7),this.didDismissShorthand=(0,S.lh)(this,"didDismiss",7),this.ionMount=(0,S.lh)(this,"ionMount",7),this.lockController=ct(),this.triggerController=Zr(),this.coreDelegate=lt(),this.isSheetModal=!1,this.inheritedAttributes={},this.inline=!1,this.gestureAnimationDismissing=!1,this.onHandleClick=()=>{const{sheetTransition:u,handleBehavior:p}=this;"cycle"!==p||void 0!==u||this.moveToNextBreakpoint()},this.onBackdropTap=()=>{const{sheetTransition:u}=this;void 0===u&&this.dismiss(void 0,Yr)},this.onLifecycle=u=>{const p=this.usersElement,y=De[u.type];if(p&&y){const E=new CustomEvent(y,{bubbles:!1,cancelable:!1,detail:u.detail});p.dispatchEvent(E)}},this.presented=!1,this.hasController=!1,this.overlayIndex=void 0,this.delegate=void 0,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.breakpoints=void 0,this.initialBreakpoint=void 0,this.backdropBreakpoint=0,this.handle=void 0,this.handleBehavior="none",this.component=void 0,this.componentProps=void 0,this.cssClass=void 0,this.backdropDismiss=!0,this.showBackdrop=!0,this.animated=!0,this.presentingElement=void 0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0,this.keepContentsMounted=!1,this.focusTrap=!0,this.canDismiss=!0}onIsOpenChange(u,p){!0===u&&!1===p?this.present():!1===u&&!0===p&&this.dismiss()}triggerChanged(){const{trigger:u,el:p,triggerController:y}=this;u&&y.addClickListener(p,u)}breakpointsChanged(u){void 0!==u&&(this.sortedBreakpoints=u.sort((p,y)=>p-y))}connectedCallback(){const{el:u}=this;_r(u),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){var u;const{breakpoints:p,initialBreakpoint:y,el:E,htmlAttributes:L}=this,re=this.isSheetModal=void 0!==p&&void 0!==y,_e=["aria-label","role"];this.inheritedAttributes=(0,Me.d)(E,_e),void 0!==L&&_e.forEach(Ge=>{L[Ge]&&(this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{[Ge]:L[Ge]}),delete L[Ge])}),re&&(this.currentBreakpoint=this.initialBreakpoint),void 0!==p&&void 0!==y&&!p.includes(y)&&(0,He.p)("Your breakpoints array must include the initialBreakpoint value."),null!==(u=this.htmlAttributes)&&void 0!==u&&u.id||Xr(this.el)}componentDidLoad(){!0===this.isOpen&&(0,Me.r)(()=>this.present()),this.breakpointsChanged(this.breakpoints),this.triggerChanged()}getDelegate(u=!1){if(this.workingDelegate&&!u)return{delegate:this.workingDelegate,inline:this.inline};const y=this.inline=null!==this.el.parentNode&&!this.hasController;return{inline:y,delegate:this.workingDelegate=y?this.delegate||this.coreDelegate:this.delegate}}checkCanDismiss(u,p){var y=this;return(0,q.A)(function*(){const{canDismiss:E}=y;return"function"==typeof E?E(u,p):E})()}present(){var u=this;return(0,q.A)(function*(){const p=yield u.lockController.lock();if(u.presented)return void p();const{presentingElement:y,el:E}=u;u.currentBreakpoint=u.initialBreakpoint;const{inline:L,delegate:re}=u.getDelegate(!0);u.ionMount.emit(),u.usersElement=yield Qe(re,E,u.component,["ion-page"],u.componentProps,L),(0,Me.j)(E)?yield(0,Fe.e)(u.usersElement):u.keepContentsMounted||(yield(0,Fe.w)()),(0,S.bN)(()=>u.el.classList.add("show-modal"));const _e=void 0!==y;_e&&"ios"===(0,ve.b)(u)&&(u.statusBarStyle=yield nt.getStyle(),vn()),yield kr(u,"modalEnter",po,dn,{presentingEl:y,currentBreakpoint:u.initialBreakpoint,backdropBreakpoint:u.backdropBreakpoint}),typeof window<"u"&&(u.keyboardOpenCallback=()=>{u.gesture&&(u.gesture.enable(!1),(0,Me.r)(()=>{u.gesture&&u.gesture.enable(!0)}))},window.addEventListener(Nn.KEYBOARD_DID_OPEN,u.keyboardOpenCallback)),u.isSheetModal?u.initSheetGesture():_e&&u.initSwipeToClose(),p()})()}initSwipeToClose(){var p,u=this;if("ios"!==(0,ve.b)(this))return;const{el:y}=this,E=this.leaveAnimation||ve.c.get("modalLeave",Uo),L=this.animation=E(y,{presentingEl:this.presentingElement});if(!(0,Ze.f)(y))return void(0,Ze.p)(y);const _e=null!==(p=this.statusBarStyle)&&void 0!==p?p:G.Default;this.gesture=((C,u,p,y)=>{const L=C.offsetHeight;let re=!1,_e=!1,Ge=null,xt=null,hn=!0,Mn=0;const co=(0,ut.createGesture)({el:C,gestureName:"modalSwipeToClose",gesturePriority:39,direction:"y",threshold:10,canStart:Mr=>{const ao=Mr.event.target;return null===ao||!ao.closest||(Ge=(0,Ze.a)(ao),Ge?(xt=(0,Ze.i)(Ge)?(0,Me.g)(Ge).querySelector(".inner-scroll"):Ge,!Ge.querySelector("ion-refresher")&&0===xt.scrollTop):null===ao.closest("ion-footer"))},onStart:Mr=>{const{deltaY:ao}=Mr;hn=!Ge||!(0,Ze.i)(Ge)||Ge.scrollY,_e=void 0!==C.canDismiss&&!0!==C.canDismiss,ao>0&&Ge&&(0,Ze.d)(Ge),u.progressStart(!0,re?1:0)},onMove:Mr=>{const{deltaY:ao}=Mr;ao>0&&Ge&&(0,Ze.d)(Ge);const Jr=Mr.deltaY/L,bo=Jr>=0&&_e,ai=bo?.2:.9999,Ni=bo?Sr(Jr/ai):Jr,Ci=(0,Me.k)(1e-4,Ni,ai);u.progressStep(Ci),Ci>=.5&&Mn<.5?Ln(p):Ci<.5&&Mn>=.5&&vn(),Mn=Ci},onEnd:Mr=>{const ao=Mr.velocityY,Jr=Mr.deltaY/L,bo=Jr>=0&&_e,ai=bo?.2:.9999,Ni=bo?Sr(Jr/ai):Jr,Ci=(0,Me.k)(1e-4,Ni,ai),Ji=!bo&&(Mr.deltaY+1e3*ao)/L>=.5;let Da=Ji?-.001:.001;Ji?(u.easing("cubic-bezier(0.32, 0.72, 0, 1)"),Da+=Te([0,0],[.32,.72],[0,1],[1,1],Ci)[0]):(u.easing("cubic-bezier(1, 0, 0.68, 0.28)"),Da+=Te([0,0],[1,0],[.68,.28],[1,1],Ci)[0]);const Na=wo(Ji?Jr*L:(1-Ci)*L,ao);re=Ji,co.enable(!1),Ge&&(0,Ze.r)(Ge,hn),u.onFinish(()=>{Ji||co.enable(!0)}).progressEnd(Ji?1:0,Da,Na),bo&&Ci>ai/4?wn(C,u):Ji&&y()}});return co})(y,L,_e,()=>{this.gestureAnimationDismissing=!0,Ln(this.statusBarStyle),this.animation.onFinish((0,q.A)(function*(){yield u.dismiss(void 0,Cr),u.gestureAnimationDismissing=!1}))}),this.gesture.enable(!0)}initSheetGesture(){const{wrapperEl:u,initialBreakpoint:p,backdropBreakpoint:y}=this;if(!u||void 0===p)return;const E=this.enterAnimation||ve.c.get("modalEnter",po),L=this.animation=E(this.el,{presentingEl:this.presentingElement,currentBreakpoint:p,backdropBreakpoint:y});L.progressStart(!0,1);const{gesture:re,moveSheetToBreakpoint:_e}=((C,u,p,y,E,L,re=[],_e,Ge,xt)=>{const Mn={WRAPPER_KEYFRAMES:[{offset:0,transform:"translateY(0%)"},{offset:1,transform:"translateY(100%)"}],BACKDROP_KEYFRAMES:0!==E?[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1-E,opacity:0},{offset:1,opacity:0}]:[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1,opacity:.01}]},gn=C.querySelector("ion-content"),Tn=p.clientHeight;let Rn=y,yr=0,to=!1;const Mr=L.childAnimations.find(ia=>"wrapperAnimation"===ia.id),ao=L.childAnimations.find(ia=>"backdropAnimation"===ia.id),Jr=re[re.length-1],bo=re[0],ai=()=>{C.style.setProperty("pointer-events","auto"),u.style.setProperty("pointer-events","auto"),C.classList.remove(so)},Ni=()=>{C.style.setProperty("pointer-events","none"),u.style.setProperty("pointer-events","none"),C.classList.add(so)};Mr&&ao&&(Mr.keyframes([...Mn.WRAPPER_KEYFRAMES]),ao.keyframes([...Mn.BACKDROP_KEYFRAMES]),L.progressStart(!0,1-Rn),Rn>E?ai():Ni()),gn&&Rn!==Jr&&(gn.scrollY=!1);const Na=ia=>{const{breakpoint:aa,canDismiss:Fa,breakpointOffset:_a,animated:hl}=ia,zs=Fa&&0===aa,xs=zs?Rn:aa,jl=0!==xs;return Rn=0,Mr&&ao&&(Mr.keyframes([{offset:0,transform:`translateY(${100*_a}%)`},{offset:1,transform:`translateY(${100*(1-xs)}%)`}]),ao.keyframes([{offset:0,opacity:`calc(var(--backdrop-opacity) * ${Ut(1-_a,E)})`},{offset:1,opacity:`calc(var(--backdrop-opacity) * ${Ut(xs,E)})`}]),L.progressStep(0)),ys.enable(!1),zs?wn(C,L):jl||Ge(),gn&&xs===re[re.length-1]&&(gn.scrollY=!0),new Promise(Il=>{L.onFinish(()=>{jl?Mr&&ao?(0,Me.r)(()=>{Mr.keyframes([...Mn.WRAPPER_KEYFRAMES]),ao.keyframes([...Mn.BACKDROP_KEYFRAMES]),L.progressStart(!0,1-xs),Rn=xs,xt(Rn),Rn>E?ai():Ni(),ys.enable(!0),Il()}):(ys.enable(!0),Il()):Il()},{oneTimeCallback:!0}).progressEnd(1,0,hl?500:0)})},ys=(0,ut.createGesture)({el:p,gestureName:"modalSheet",gesturePriority:40,direction:"y",threshold:10,canStart:ia=>{const aa=(0,Ze.a)(ia.event.target);if(Rn=_e(),1===Rn&&aa){const Fa=(0,Ze.i)(aa)?(0,Me.g)(aa).querySelector(".inner-scroll"):aa;return!aa.querySelector("ion-refresher")&&0===Fa.scrollTop}return!0},onStart:ia=>{to=void 0!==C.canDismiss&&!0!==C.canDismiss&&0===bo,ia.deltaY>0&&gn&&(gn.scrollY=!1),(0,Me.r)(()=>{C.focus()}),L.progressStart(!0,1-Rn)},onMove:ia=>{ia.deltaY>0&&gn&&(gn.scrollY=!1);const Fa=re.length>1?1-re[1]:void 0,_a=1-Rn+ia.deltaY/Tn,hl=void 0!==Fa&&_a>=Fa&&to,zs=hl?.95:.9999,xs=hl&&void 0!==Fa?Fa+Sr((_a-Fa)/(zs-Fa)):_a;yr=(0,Me.k)(1e-4,xs,zs),L.progressStep(yr)},onEnd:ia=>{const _a=Rn-(ia.deltaY+350*ia.velocityY)/Tn,hl=re.reduce((zs,xs)=>Math.abs(xs-_a)<Math.abs(zs-_a)?xs:zs);Na({breakpoint:hl,breakpointOffset:yr,canDismiss:to,animated:!0})}});return{gesture:ys,moveSheetToBreakpoint:Na}})(this.el,this.backdropEl,u,p,y,L,this.sortedBreakpoints,()=>{var Ge;return null!==(Ge=this.currentBreakpoint)&&void 0!==Ge?Ge:0},()=>this.sheetOnDismiss(),Ge=>{this.currentBreakpoint!==Ge&&(this.currentBreakpoint=Ge,this.ionBreakpointDidChange.emit({breakpoint:Ge}))});this.gesture=re,this.moveSheetToBreakpoint=_e,this.gesture.enable(!0)}sheetOnDismiss(){var u=this;this.gestureAnimationDismissing=!0,this.animation.onFinish((0,q.A)(function*(){u.currentBreakpoint=0,u.ionBreakpointDidChange.emit({breakpoint:u.currentBreakpoint}),yield u.dismiss(void 0,Cr),u.gestureAnimationDismissing=!1}))}dismiss(u,p){var y=this;return(0,q.A)(function*(){var E;if(y.gestureAnimationDismissing&&p!==Cr)return!1;const L=yield y.lockController.lock();if("handler"!==p&&!(yield y.checkCanDismiss(u,p)))return L(),!1;const{presentingElement:re}=y;void 0!==re&&"ios"===(0,ve.b)(y)&&Ln(y.statusBarStyle),typeof window<"u"&&y.keyboardOpenCallback&&(window.removeEventListener(Nn.KEYBOARD_DID_OPEN,y.keyboardOpenCallback),y.keyboardOpenCallback=void 0);const Ge=yield fr(y,u,p,"modalLeave",Uo,Ir,{presentingEl:re,currentBreakpoint:null!==(E=y.currentBreakpoint)&&void 0!==E?E:y.initialBreakpoint,backdropBreakpoint:y.backdropBreakpoint});if(Ge){const{delegate:xt}=y.getDelegate();yield Be(xt,y.usersElement),(0,S.bN)(()=>y.el.classList.remove("show-modal")),y.animation&&y.animation.destroy(),y.gesture&&y.gesture.destroy()}return y.currentBreakpoint=void 0,y.animation=void 0,L(),Ge})()}onDidDismiss(){return Lr(this.el,"ionModalDidDismiss")}onWillDismiss(){return Lr(this.el,"ionModalWillDismiss")}setCurrentBreakpoint(u){var p=this;return(0,q.A)(function*(){if(!p.isSheetModal)return void(0,He.p)("setCurrentBreakpoint is only supported on sheet modals.");if(!p.breakpoints.includes(u))return void(0,He.p)(`Attempted to set invalid breakpoint value ${u}. Please double check that the breakpoint value is part of your defined breakpoints.`);const{currentBreakpoint:y,moveSheetToBreakpoint:E,canDismiss:L,breakpoints:re,animated:_e}=p;y!==u&&E&&(p.sheetTransition=E({breakpoint:u,breakpointOffset:1-y,canDismiss:void 0!==L&&!0!==L&&0===re[0],animated:_e}),yield p.sheetTransition,p.sheetTransition=void 0)})()}getCurrentBreakpoint(){var u=this;return(0,q.A)(function*(){return u.currentBreakpoint})()}moveToNextBreakpoint(){var u=this;return(0,q.A)(function*(){const{breakpoints:p,currentBreakpoint:y}=u;if(!p||null==y)return!1;const E=p.filter(Ge=>0!==Ge),re=(E.indexOf(y)+1)%E.length,_e=E[re];return yield u.setCurrentBreakpoint(_e),!0})()}render(){const{handle:u,isSheetModal:p,presentingElement:y,htmlAttributes:E,handleBehavior:L,inheritedAttributes:re,focusTrap:_e}=this,Ge=!1!==u&&p,xt=(0,ve.b)(this),Xt=void 0!==y&&"ios"===xt,hn="cycle"===L;return(0,S.h)(S.xr,Object.assign({key:"013ba4864ca4d2c1052c512f6a4b0732b8decff7","no-router":!0,tabindex:"-1"},E,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign({[xt]:!0,"modal-default":!Xt&&!p,"modal-card":Xt,"modal-sheet":p,"overlay-hidden":!0,[so]:!1===_e},Et(this.cssClass)),onIonBackdropTap:this.onBackdropTap,onIonModalDidPresent:this.onLifecycle,onIonModalWillPresent:this.onLifecycle,onIonModalWillDismiss:this.onLifecycle,onIonModalDidDismiss:this.onLifecycle}),(0,S.h)("ion-backdrop",{key:"498b1c0a03836d6799dcf3b8e9315805c70f6480",ref:Mn=>this.backdropEl=Mn,visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),"ios"===xt&&(0,S.h)("div",{key:"ce22e4caf1096e87248926fe2477f0d5a4c8a5cf",class:"modal-shadow"}),(0,S.h)("div",Object.assign({key:"540e47b15d8290166c39b022c725182114a75682",role:"dialog"},re,{"aria-modal":"true",class:"modal-wrapper ion-overlay-wrapper",part:"content",ref:Mn=>this.wrapperEl=Mn}),Ge&&(0,S.h)("button",{key:"f3b352ec9a63a7ec801462aacfd8295b4302d115",class:"modal-handle",tabIndex:hn?0:-1,"aria-label":"Activate to adjust the size of the dialog overlaying the screen",onClick:hn?this.onHandleClick:void 0,part:"handle"}),(0,S.h)("slot",{key:"31a3f58f4c733ffdf736523c154200874a96b1d0"})))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}:host(.modal-card){--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{-webkit-box-shadow:none;box-shadow:none}:host(.modal-card) .modal-shadow{-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}',md:':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}'}}},[33,"ion-modal",{hasController:[4,"has-controller"],overlayIndex:[2,"overlay-index"],delegate:[16],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],breakpoints:[16],initialBreakpoint:[2,"initial-breakpoint"],backdropBreakpoint:[2,"backdrop-breakpoint"],handle:[4],handleBehavior:[1,"handle-behavior"],component:[1],componentProps:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],animated:[4],presentingElement:[16],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],keepContentsMounted:[4,"keep-contents-mounted"],focusTrap:[4,"focus-trap"],canDismiss:[4,"can-dismiss"],presented:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64],setCurrentBreakpoint:[64],getCurrentBreakpoint:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),De={ionModalDidPresent:"ionViewDidEnter",ionModalWillPresent:"ionViewWillEnter",ionModalWillDismiss:"ionViewWillLeave",ionModalDidDismiss:"ionViewDidLeave"};var C;const mn=(C,u,p)=>{const y=u.getBoundingClientRect(),E=y.height;let L=y.width;return"cover"===C&&p&&(L=p.getBoundingClientRect().width),{contentWidth:L,contentHeight:E}},An=(C,u,p)=>{let y=[];switch(u){case"hover":let E;y=[{eventName:"mouseenter",callback:(L=(0,q.A)(function*(re){re.stopPropagation(),E&&clearTimeout(E),E=setTimeout(()=>{(0,Me.r)(()=>{p.presentFromTrigger(re),E=void 0})},100)}),function(_e){return L.apply(this,arguments)})},{eventName:"mouseleave",callback:L=>{E&&clearTimeout(E);const re=L.relatedTarget;re&&re.closest("ion-popover")!==p&&p.dismiss(void 0,void 0,!1)}},{eventName:"click",callback:L=>L.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:L=>p.presentFromTrigger(L,!0)}];break;case"context-menu":y=[{eventName:"contextmenu",callback:L=>{L.preventDefault(),p.presentFromTrigger(L)}},{eventName:"click",callback:L=>L.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:L=>p.presentFromTrigger(L,!0)}];break;default:y=[{eventName:"click",callback:L=>p.presentFromTrigger(L)},{eventName:"ionPopoverActivateTrigger",callback:L=>p.presentFromTrigger(L,!0)}]}var L;return y.forEach(({eventName:E,callback:L})=>C.addEventListener(E,L)),C.setAttribute("data-ion-popover-trigger","true"),()=>{y.forEach(({eventName:E,callback:L})=>C.removeEventListener(E,L)),C.removeAttribute("data-ion-popover-trigger")}},Cn=(C,u)=>u&&"ION-ITEM"===u.tagName?C.findIndex(p=>p===u):-1,gr=C=>{const p=(0,Me.g)(C).querySelector("button");p&&(0,Me.r)(()=>p.focus())},no=C=>{const u=function(){var p=(0,q.A)(function*(y){var E;const L=document.activeElement;let re=[];const _e=null===(E=y.target)||void 0===E?void 0:E.tagName;if("ION-POPOVER"===_e||"ION-ITEM"===_e){try{re=Array.from(C.querySelectorAll("ion-item:not(ion-popover ion-popover *):not([disabled])"))}catch{}switch(y.key){case"ArrowLeft":(yield C.getParentPopover())&&C.dismiss(void 0,void 0,!1);break;case"ArrowDown":y.preventDefault();const xt=((C,u)=>C[Cn(C,u)+1])(re,L);void 0!==xt&&gr(xt);break;case"ArrowUp":y.preventDefault();const Xt=((C,u)=>C[Cn(C,u)-1])(re,L);void 0!==Xt&&gr(Xt);break;case"Home":y.preventDefault();const hn=re[0];void 0!==hn&&gr(hn);break;case"End":y.preventDefault();const Mn=re[re.length-1];void 0!==Mn&&gr(Mn);break;case"ArrowRight":case" ":case"Enter":if(L&&(C=>C.hasAttribute("data-ion-popover-trigger"))(L)){const gn=new CustomEvent("ionPopoverActivateTrigger");L.dispatchEvent(gn)}}}});return function(E){return p.apply(this,arguments)}}();return C.addEventListener("keydown",u),()=>C.removeEventListener("keydown",u)},Tr=(C,u,p,y,E,L,re,_e,Ge,xt,Xt)=>{var hn;let Mn={top:0,left:0,width:0,height:0};if("event"===L){if(!Xt)return Ge;Mn={top:Xt.clientY,left:Xt.clientX,width:1,height:1}}else{const ai=xt||(null===(hn=null==Xt?void 0:Xt.detail)||void 0===hn?void 0:hn.ionShadowTarget)||(null==Xt?void 0:Xt.target);if(!ai)return Ge;const Ni=ai.getBoundingClientRect();Mn={top:Ni.top,left:Ni.left,width:Ni.width,height:Ni.height}}const gn=Mi(re,Mn,u,p,y,E,C),Tn=ea(_e,re,Mn,u,p),Rn=gn.top+Tn.top,yr=gn.left+Tn.left,{arrowTop:to,arrowLeft:co}=Ki(re,y,E,Rn,yr,u,p,C),{originX:Mr,originY:ao}=go(re,_e,C);return{top:Rn,left:yr,referenceCoordinates:Mn,arrowTop:to,arrowLeft:co,originX:Mr,originY:ao}},go=(C,u,p)=>{switch(C){case"top":return{originX:br(u),originY:"bottom"};case"bottom":return{originX:br(u),originY:"top"};case"left":return{originX:"right",originY:Wr(u)};case"right":return{originX:"left",originY:Wr(u)};case"start":return{originX:p?"left":"right",originY:Wr(u)};case"end":return{originX:p?"right":"left",originY:Wr(u)}}},br=C=>{switch(C){case"start":return"left";case"center":return"center";case"end":return"right"}},Wr=C=>{switch(C){case"start":return"top";case"center":return"center";case"end":return"bottom"}},Ki=(C,u,p,y,E,L,re,_e)=>{const Ge={arrowTop:y+re/2-u/2,arrowLeft:E+L-u/2},xt={arrowTop:y+re/2-u/2,arrowLeft:E-1.5*u};switch(C){case"top":return{arrowTop:y+re,arrowLeft:E+L/2-u/2};case"bottom":return{arrowTop:y-p,arrowLeft:E+L/2-u/2};case"left":return Ge;case"right":return xt;case"start":return _e?xt:Ge;case"end":return _e?Ge:xt;default:return{arrowTop:0,arrowLeft:0}}},Mi=(C,u,p,y,E,L,re)=>{const _e={top:u.top,left:u.left-p-E},Ge={top:u.top,left:u.left+u.width+E};switch(C){case"top":return{top:u.top-y-L,left:u.left};case"right":return Ge;case"bottom":return{top:u.top+u.height+L,left:u.left};case"left":return _e;case"start":return re?Ge:_e;case"end":return re?_e:Ge}},ea=(C,u,p,y,E)=>{switch(C){case"center":return Li(u,p,y,E);case"end":return ja(u,p,y,E);default:return{top:0,left:0}}},ja=(C,u,p,y)=>{switch(C){case"start":case"end":case"left":case"right":return{top:-(y-u.height),left:0};default:return{top:0,left:-(p-u.width)}}},Li=(C,u,p,y)=>{switch(C){case"start":case"end":case"left":case"right":return{top:-(y/2-u.height/2),left:0};default:return{top:0,left:-(p/2-u.width/2)}}},bi=(C,u,p,y,E,L,re,_e,Ge,xt,Xt,hn,Mn=0,gn=0,Tn=0)=>{let Rn=Mn;const yr=gn;let Mr,to=p,co=u,ao=xt,Jr=Xt,bo=!1,ai=!1;const Ni=hn?hn.top+hn.height:L/2-_e/2,Ci=hn?hn.height:0;let wa=!1;return to<y+Ge?(to=y,bo=!0,ao="left"):re+y+to+Ge>E&&(ai=!0,to=E-re-y,ao="right"),Ni+Ci+_e>L&&("top"===C||"bottom"===C)&&(Ni-_e>0?(co=Math.max(12,Ni-_e-Ci-(Tn-1)),Rn=co+_e,Jr="bottom",wa=!0):Mr=y),{top:co,left:to,bottom:Mr,originX:ao,originY:Jr,checkSafeAreaLeft:bo,checkSafeAreaRight:ai,arrowTop:Rn,arrowLeft:yr,addPopoverBottomClass:wa}},Ri=(C,u)=>{var p;const{event:y,size:E,trigger:L,reference:re,side:_e,align:Ge}=u,xt=C.ownerDocument,Xt="rtl"===xt.dir,hn=xt.defaultView.innerWidth,Mn=xt.defaultView.innerHeight,gn=(0,Me.g)(C),Tn=gn.querySelector(".popover-content"),Rn=gn.querySelector(".popover-arrow"),yr=L||(null===(p=null==y?void 0:y.detail)||void 0===p?void 0:p.ionShadowTarget)||(null==y?void 0:y.target),{contentWidth:to,contentHeight:co}=mn(E,Tn,yr),{arrowWidth:Mr,arrowHeight:ao}=(C=>{if(!C)return{arrowWidth:0,arrowHeight:0};const{width:u,height:p}=C.getBoundingClientRect();return{arrowWidth:u,arrowHeight:p}})(Rn),bo=Tr(Xt,to,co,Mr,ao,re,_e,Ge,{top:Mn/2-co/2,left:hn/2-to/2,originX:Xt?"right":"left",originY:"top"},L,y),ai="cover"===E?0:5,Ni="cover"===E?0:25,{originX:Ci,originY:wa,top:Ji,left:Da,bottom:Na,checkSafeAreaLeft:ys,checkSafeAreaRight:ia,arrowTop:aa,arrowLeft:Fa,addPopoverBottomClass:_a}=bi(_e,bo.top,bo.left,ai,hn,Mn,to,co,Ni,bo.originX,bo.originY,bo.referenceCoordinates,bo.arrowTop,bo.arrowLeft,ao),hl=(0,Se.c)(),zs=(0,Se.c)(),xs=(0,Se.c)();return zs.addElement(gn.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),xs.addElement(gn.querySelector(".popover-arrow")).addElement(gn.querySelector(".popover-content")).fromTo("opacity",.01,1),hl.easing("ease").duration(100).beforeAddWrite(()=>{"cover"===E&&C.style.setProperty("--width",`${to}px`),_a&&C.classList.add("popover-bottom"),void 0!==Na&&Tn.style.setProperty("bottom",`${Na}px`);let xf=`${Da}px`;ys&&(xf=`${Da}px + var(--ion-safe-area-left, 0)`),ia&&(xf=`${Da}px - var(--ion-safe-area-right, 0)`),Tn.style.setProperty("top",`calc(${Ji}px + var(--offset-y, 0))`),Tn.style.setProperty("left",`calc(${xf} + var(--offset-x, 0))`),Tn.style.setProperty("transform-origin",`${wa} ${Ci}`),null!==Rn&&(((C,u=!1,p,y)=>!(!p&&!y||"top"!==C&&"bottom"!==C&&u))(_e,bo.top!==Ji||bo.left!==Da,y,L)?(Rn.style.setProperty("top",`calc(${aa}px + var(--offset-y, 0))`),Rn.style.setProperty("left",`calc(${Fa}px + var(--offset-x, 0))`)):Rn.style.setProperty("display","none"))}).addAnimation([zs,xs])},Po=C=>{const u=(0,Me.g)(C),p=u.querySelector(".popover-content"),y=u.querySelector(".popover-arrow"),E=(0,Se.c)(),L=(0,Se.c)(),re=(0,Se.c)();return L.addElement(u.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),re.addElement(u.querySelector(".popover-arrow")).addElement(u.querySelector(".popover-content")).fromTo("opacity",.99,0),E.easing("ease").afterAddWrite(()=>{C.style.removeProperty("--width"),C.classList.remove("popover-bottom"),p.style.removeProperty("top"),p.style.removeProperty("left"),p.style.removeProperty("bottom"),p.style.removeProperty("transform-origin"),y&&(y.style.removeProperty("top"),y.style.removeProperty("left"),y.style.removeProperty("display"))}).duration(300).addAnimation([L,re])},Sa=(C,u)=>{var p;const{event:y,size:E,trigger:L,reference:re,side:_e,align:Ge}=u,xt=C.ownerDocument,Xt="rtl"===xt.dir,hn=xt.defaultView.innerWidth,Mn=xt.defaultView.innerHeight,gn=(0,Me.g)(C),Tn=gn.querySelector(".popover-content"),Rn=L||(null===(p=null==y?void 0:y.detail)||void 0===p?void 0:p.ionShadowTarget)||(null==y?void 0:y.target),{contentWidth:yr,contentHeight:to}=mn(E,Tn,Rn),Mr=Tr(Xt,yr,to,0,0,re,_e,Ge,{top:Mn/2-to/2,left:hn/2-yr/2,originX:Xt?"right":"left",originY:"top"},L,y),ao="cover"===E?0:12,{originX:Jr,originY:bo,top:ai,left:Ni,bottom:Ci}=bi(_e,Mr.top,Mr.left,ao,hn,Mn,yr,to,0,Mr.originX,Mr.originY,Mr.referenceCoordinates),wa=(0,Se.c)(),Ji=(0,Se.c)(),Da=(0,Se.c)(),Na=(0,Se.c)(),ys=(0,Se.c)();return Ji.addElement(gn.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),Da.addElement(gn.querySelector(".popover-wrapper")).duration(150).fromTo("opacity",.01,1),Na.addElement(Tn).beforeStyles({top:`calc(${ai}px + var(--offset-y, 0px))`,left:`calc(${Ni}px + var(--offset-x, 0px))`,"transform-origin":`${bo} ${Jr}`}).beforeAddWrite(()=>{void 0!==Ci&&Tn.style.setProperty("bottom",`${Ci}px`)}).fromTo("transform","scale(0.8)","scale(1)"),ys.addElement(gn.querySelector(".popover-viewport")).fromTo("opacity",.01,1),wa.easing("cubic-bezier(0.36,0.66,0.04,1)").duration(300).beforeAddWrite(()=>{"cover"===E&&C.style.setProperty("--width",`${yr}px`),"bottom"===bo&&C.classList.add("popover-bottom")}).addAnimation([Ji,Da,Na,ys])},fs=C=>{const u=(0,Me.g)(C),p=u.querySelector(".popover-content"),y=(0,Se.c)(),E=(0,Se.c)(),L=(0,Se.c)();return E.addElement(u.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),L.addElement(u.querySelector(".popover-wrapper")).fromTo("opacity",.99,0),y.easing("ease").afterAddWrite(()=>{C.style.removeProperty("--width"),C.classList.remove("popover-bottom"),p.style.removeProperty("top"),p.style.removeProperty("left"),p.style.removeProperty("bottom"),p.style.removeProperty("transform-origin")}).duration(150).addAnimation([E,L])},Ne=(0,S.w$)(class extends S.wt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=(0,S.lh)(this,"ionPopoverDidPresent",7),this.willPresent=(0,S.lh)(this,"ionPopoverWillPresent",7),this.willDismiss=(0,S.lh)(this,"ionPopoverWillDismiss",7),this.didDismiss=(0,S.lh)(this,"ionPopoverDidDismiss",7),this.didPresentShorthand=(0,S.lh)(this,"didPresent",7),this.willPresentShorthand=(0,S.lh)(this,"willPresent",7),this.willDismissShorthand=(0,S.lh)(this,"willDismiss",7),this.didDismissShorthand=(0,S.lh)(this,"didDismiss",7),this.ionMount=(0,S.lh)(this,"ionMount",7),this.parentPopover=null,this.coreDelegate=lt(),this.lockController=ct(),this.inline=!1,this.focusDescendantOnPresent=!1,this.onBackdropTap=()=>{this.dismiss(void 0,Yr)},this.onLifecycle=u=>{const p=this.usersElement,y=U[u.type];if(p&&y){const E=new CustomEvent(y,{bubbles:!1,cancelable:!1,detail:u.detail});p.dispatchEvent(E)}},this.configureTriggerInteraction=()=>{const{trigger:u,triggerAction:p,el:y,destroyTriggerInteraction:E}=this;if(E&&E(),void 0===u)return;const L=this.triggerEl=void 0!==u?document.getElementById(u):null;L?this.destroyTriggerInteraction=An(L,p,y):(0,He.p)(`A trigger element with the ID "${u}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on ion-popover.`,this.el)},this.configureKeyboardInteraction=()=>{const{destroyKeyboardInteraction:u,el:p}=this;u&&u(),this.destroyKeyboardInteraction=no(p)},this.configureDismissInteraction=()=>{const{destroyDismissInteraction:u,parentPopover:p,triggerAction:y,triggerEl:E,el:L}=this;!p||!E||(u&&u(),this.destroyDismissInteraction=((C,u,p,y)=>{let E=[];const re=(0,Me.g)(y).querySelector(".popover-content");return E="hover"===u?[{eventName:"mouseenter",callback:_e=>{document.elementFromPoint(_e.clientX,_e.clientY)!==C&&p.dismiss(void 0,void 0,!1)}}]:[{eventName:"click",callback:_e=>{_e.target.closest("[data-ion-popover-trigger]")!==C?p.dismiss(void 0,void 0,!1):_e.stopPropagation()}}],E.forEach(({eventName:_e,callback:Ge})=>re.addEventListener(_e,Ge)),()=>{E.forEach(({eventName:_e,callback:Ge})=>re.removeEventListener(_e,Ge))}})(E,y,L,p))},this.presented=!1,this.hasController=!1,this.delegate=void 0,this.overlayIndex=void 0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.component=void 0,this.componentProps=void 0,this.keyboardClose=!0,this.cssClass=void 0,this.backdropDismiss=!0,this.event=void 0,this.showBackdrop=!0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.triggerAction="click",this.trigger=void 0,this.size="auto",this.dismissOnSelect=!1,this.reference="trigger",this.side="bottom",this.alignment=void 0,this.arrow=!0,this.isOpen=!1,this.keyboardEvents=!1,this.focusTrap=!0,this.keepContentsMounted=!1}onTriggerChange(){this.configureTriggerInteraction()}onIsOpenChange(u,p){!0===u&&!1===p?this.present():!1===u&&!0===p&&this.dismiss()}connectedCallback(){const{configureTriggerInteraction:u,el:p}=this;_r(p),u()}disconnectedCallback(){const{destroyTriggerInteraction:u}=this;u&&u()}componentWillLoad(){var u,p;const{el:y}=this,E=null!==(p=null===(u=this.htmlAttributes)||void 0===u?void 0:u.id)&&void 0!==p?p:Xr(y);this.parentPopover=y.closest(`ion-popover:not(#${E})`),void 0===this.alignment&&(this.alignment="ios"===(0,ve.b)(this)?"center":"start")}componentDidLoad(){const{parentPopover:u,isOpen:p}=this;!0===p&&(0,Me.r)(()=>this.present()),u&&(0,Me.a)(u,"ionPopoverWillDismiss",()=>{this.dismiss(void 0,void 0,!1)}),this.configureTriggerInteraction()}presentFromTrigger(u,p=!1){var y=this;return(0,q.A)(function*(){y.focusDescendantOnPresent=p,yield y.present(u),y.focusDescendantOnPresent=!1})()}getDelegate(u=!1){if(this.workingDelegate&&!u)return{delegate:this.workingDelegate,inline:this.inline};const y=this.inline=null!==this.el.parentNode&&!this.hasController;return{inline:y,delegate:this.workingDelegate=y?this.delegate||this.coreDelegate:this.delegate}}present(u){var p=this;return(0,q.A)(function*(){const y=yield p.lockController.lock();if(p.presented)return void y();const{el:E}=p,{inline:L,delegate:re}=p.getDelegate(!0);p.ionMount.emit(),p.usersElement=yield Qe(re,E,p.component,["popover-viewport"],p.componentProps,L),p.keyboardEvents||p.configureKeyboardInteraction(),p.configureDismissInteraction(),(0,Me.j)(E)?yield(0,Fe.e)(p.usersElement):p.keepContentsMounted||(yield(0,Fe.w)()),yield kr(p,"popoverEnter",Ri,Sa,{event:u||p.event,size:p.size,trigger:p.triggerEl,reference:p.reference,side:p.side,align:p.alignment}),p.focusDescendantOnPresent&&sr(E),y()})()}dismiss(u,p,y=!0){var E=this;return(0,q.A)(function*(){const L=yield E.lockController.lock(),{destroyKeyboardInteraction:re,destroyDismissInteraction:_e}=E;y&&E.parentPopover&&E.parentPopover.dismiss(u,p,y);const Ge=yield fr(E,u,p,"popoverLeave",Po,fs,E.event);if(Ge){re&&(re(),E.destroyKeyboardInteraction=void 0),_e&&(_e(),E.destroyDismissInteraction=void 0);const{delegate:xt}=E.getDelegate();yield Be(xt,E.usersElement)}return L(),Ge})()}getParentPopover(){var u=this;return(0,q.A)(function*(){return u.parentPopover})()}onDidDismiss(){return Lr(this.el,"ionPopoverDidDismiss")}onWillDismiss(){return Lr(this.el,"ionPopoverWillDismiss")}render(){const u=(0,ve.b)(this),{onLifecycle:p,parentPopover:y,dismissOnSelect:E,side:L,arrow:re,htmlAttributes:_e,focusTrap:Ge}=this,xt=(0,ve.a)("desktop"),Xt=re&&!y;return(0,S.h)(S.xr,Object.assign({key:"3a7c4c39384bab1447c4bd6b9b06d7837a09353b","aria-modal":"true","no-router":!0,tabindex:"-1"},_e,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign(Object.assign({},Et(this.cssClass)),{[u]:!0,"popover-translucent":this.translucent,"overlay-hidden":!0,"popover-desktop":xt,[`popover-side-${L}`]:!0,[so]:!1===Ge,"popover-nested":!!y}),onIonPopoverDidPresent:p,onIonPopoverWillPresent:p,onIonPopoverWillDismiss:p,onIonPopoverDidDismiss:p,onIonBackdropTap:this.onBackdropTap}),!y&&(0,S.h)("ion-backdrop",{key:"38a1c4ad29238d1e81cab407f099121fa4947cce",tappable:this.backdropDismiss,visible:this.showBackdrop,part:"backdrop"}),(0,S.h)("div",{key:"f825494c5e3be89d7fcf0229e29b405bccb13edb",class:"popover-wrapper ion-overlay-wrapper",onClick:E?()=>this.dismiss():void 0},Xt&&(0,S.h)("div",{key:"3acae5a0106389c776c8ffe5bf10f3ff006e0346",class:"popover-arrow",part:"arrow"}),(0,S.h)("div",{key:"2aa73e9f06b1d2ac4c0d36c23186b9164f395079",class:"popover-content",part:"content"},(0,S.h)("slot",{key:"62f5713414aae47dde6a8aef1f9b69af287534ae"}))))}get el(){return this}static get watchers(){return{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}}static get style(){return{ios:':host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:200px;--max-height:90%;--box-shadow:none;--backdrop-opacity:var(--ion-backdrop-opacity, 0.08)}:host(.popover-desktop){--box-shadow:0px 4px 16px 0px rgba(0, 0, 0, 0.12)}.popover-content{border-radius:10px}:host(.popover-desktop) .popover-content{border:0.5px solid var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.popover-arrow{display:block;position:absolute;width:20px;height:10px;overflow:hidden;z-index:11}.popover-arrow::after{top:3px;border-radius:3px;position:absolute;width:14px;height:14px;-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--background);content:"";z-index:10}.popover-arrow::after{inset-inline-start:3px}:host(.popover-bottom) .popover-arrow{top:auto;bottom:-10px}:host(.popover-bottom) .popover-arrow::after{top:-6px}:host(.popover-side-left) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host(.popover-side-right) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-top) .popover-arrow{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.popover-side-start) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host-context([dir=rtl]):host(.popover-side-start) .popover-arrow,:host-context([dir=rtl]).popover-side-start .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}@supports selector(:dir(rtl)){:host(.popover-side-start:dir(rtl)) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}}:host(.popover-side-end) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host-context([dir=rtl]):host(.popover-side-end) .popover-arrow,:host-context([dir=rtl]).popover-side-end .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}@supports selector(:dir(rtl)){:host(.popover-side-end:dir(rtl)) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}}.popover-arrow,.popover-content{opacity:0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.popover-translucent) .popover-content,:host(.popover-translucent) .popover-arrow::after{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}',md:":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:250px;--max-height:90%;--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}.popover-content{border-radius:4px;-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]) .popover-content{-webkit-transform-origin:right top;transform-origin:right top}[dir=rtl] .popover-content{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.popover-content:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.popover-viewport{-webkit-transition-delay:100ms;transition-delay:100ms}.popover-wrapper{opacity:0}"}}},[33,"ion-popover",{hasController:[4,"has-controller"],delegate:[16],overlayIndex:[2,"overlay-index"],enterAnimation:[16],leaveAnimation:[16],component:[1],componentProps:[16],keyboardClose:[4,"keyboard-close"],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],event:[8],showBackdrop:[4,"show-backdrop"],translucent:[4],animated:[4],htmlAttributes:[16],triggerAction:[1,"trigger-action"],trigger:[1],size:[1],dismissOnSelect:[4,"dismiss-on-select"],reference:[1],side:[1],alignment:[1025],arrow:[4],isOpen:[4,"is-open"],keyboardEvents:[4,"keyboard-events"],focusTrap:[4,"focus-trap"],keepContentsMounted:[4,"keep-contents-mounted"],presented:[32],presentFromTrigger:[64],present:[64],dismiss:[64],getParentPopover:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}]),U={ionPopoverDidPresent:"ionViewDidEnter",ionPopoverWillPresent:"ionViewWillEnter",ionPopoverWillDismiss:"ionViewWillLeave",ionPopoverDidDismiss:"ionViewDidLeave"};const et=function M(){typeof customElements>"u"||["ion-popover","ion-backdrop"].forEach(u=>{switch(u){case"ion-popover":customElements.get(u)||customElements.define(u,Ne);break;case"ion-backdrop":customElements.get(u)||ie()}})};F(3726);const Bt=C=>{try{if(C instanceof ir)return C.value;if(!Wt()||"string"!=typeof C||""===C)return C;if(C.includes("onload="))return"";const u=document.createDocumentFragment(),p=document.createElement("div");u.appendChild(p),p.innerHTML=C,Bn.forEach(re=>{const _e=u.querySelectorAll(re);for(let Ge=_e.length-1;Ge>=0;Ge--){const xt=_e[Ge];xt.parentNode?xt.parentNode.removeChild(xt):u.removeChild(xt);const Xt=$t(xt);for(let hn=0;hn<Xt.length;hn++)Mt(Xt[hn])}});const y=$t(u);for(let re=0;re<y.length;re++)Mt(y[re]);const E=document.createElement("div");E.appendChild(u);const L=E.querySelector("div");return null!==L?L.innerHTML:E.innerHTML}catch(u){return console.error(u),""}},Mt=C=>{if(C.nodeType&&1!==C.nodeType)return;if(typeof NamedNodeMap<"u"&&!(C.attributes instanceof NamedNodeMap))return void C.remove();for(let p=C.attributes.length-1;p>=0;p--){const y=C.attributes.item(p),E=y.name;if(!Dn.includes(E.toLowerCase())){C.removeAttribute(E);continue}const L=y.value,re=C[E];(null!=L&&L.toLowerCase().includes("javascript:")||null!=re&&re.toLowerCase().includes("javascript:"))&&C.removeAttribute(E)}const u=$t(C);for(let p=0;p<u.length;p++)Mt(u[p])},$t=C=>null!=C.children?C.children:C.childNodes,Wt=()=>{var C;const u=window,p=null===(C=null==u?void 0:u.Ionic)||void 0===C?void 0:C.config;return!p||(p.get?p.get("sanitizerEnabled",!0):!0===p.sanitizerEnabled||void 0===p.sanitizerEnabled)},Dn=["class","id","href","src","name","slot"],Bn=["script","style","iframe","meta","link","object","embed"];class ir{constructor(u){this.value=u}}var Fo=function(C){return C.Heavy="HEAVY",C.Medium="MEDIUM",C.Light="LIGHT",C}(Fo||{});const qo={getEngine(){const C=(0,jt.g)();if(null!=C&&C.isPluginAvailable("Haptics"))return C.Plugins.Haptics},available(){if(!this.getEngine())return!1;const u=(0,jt.g)();return"web"!==(null==u?void 0:u.getPlatform())||typeof navigator<"u"&&void 0!==navigator.vibrate},impact(C){const u=this.getEngine();u&&u.impact({style:C.style})},notification(C){const u=this.getEngine();u&&u.notification({type:C.type})},selection(){this.impact({style:Fo.Light})},selectionStart(){const C=this.getEngine();C&&C.selectionStart()},selectionChanged(){const C=this.getEngine();C&&C.selectionChanged()},selectionEnd(){const C=this.getEngine();C&&C.selectionEnd()}},Vo=()=>qo.available(),la=()=>{Vo()&&qo.selectionStart()},ci=()=>{Vo()&&qo.selectionChanged()},zi=(C,u)=>{let p,y;const E=(_e,Ge,xt)=>{if(typeof document>"u")return;const Xt=document.elementFromPoint(_e,Ge);Xt&&u(Xt)&&!Xt.disabled?Xt!==p&&(re(),L(Xt,xt)):re()},L=(_e,Ge)=>{p=_e,y||(y=p);const xt=p;(0,S.bN)(()=>xt.classList.add("ion-activated")),Ge()},re=(_e=!1)=>{if(!p)return;const Ge=p;(0,S.bN)(()=>Ge.classList.remove("ion-activated")),_e&&y!==p&&p.click(),p=void 0};return(0,ut.createGesture)({el:C,gestureName:"buttonActiveDrag",threshold:0,onStart:_e=>E(_e.currentX,_e.currentY,la),onMove:_e=>E(_e.currentX,_e.currentY,ci),onEnd:()=>{re(!0),Vo()&&qo.selectionEnd(),y=void 0}})},Ei=(0,S.w$)(class extends S.wt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}addRipple(u,p){var y=this;return(0,q.A)(function*(){return new Promise(E=>{(0,S.gv)(()=>{const L=y.el.getBoundingClientRect(),re=L.width,_e=L.height,Ge=Math.sqrt(re*re+_e*_e),xt=Math.max(_e,re),Xt=y.unbounded?xt:Ge+ta,hn=Math.floor(xt*ca),Mn=Xt/hn;let gn=u-L.left,Tn=p-L.top;y.unbounded&&(gn=.5*re,Tn=.5*_e);const Rn=gn-.5*hn,yr=Tn-.5*hn,to=.5*re-gn,co=.5*_e-Tn;(0,S.bN)(()=>{const Mr=document.createElement("div");Mr.classList.add("ripple-effect");const ao=Mr.style;ao.top=yr+"px",ao.left=Rn+"px",ao.width=ao.height=hn+"px",ao.setProperty("--final-scale",`${Mn}`),ao.setProperty("--translate-end",`${to}px, ${co}px`),(y.el.shadowRoot||y.el).appendChild(Mr),setTimeout(()=>{E(()=>{xi(Mr)})},325)})})})})()}get unbounded(){return"unbounded"===this.type}render(){const u=(0,ve.b)(this);return(0,S.h)(S.xr,{key:"2302f087ab1c6755355736e4ca77309c5fdcf185",role:"presentation",class:{[u]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}"}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),xi=C=>{C.classList.add("fade-out"),setTimeout(()=>{C.remove()},200)},ta=10,ca=.5;const qi=C=>{const u=(0,Se.c)(),p=(0,Se.c)(),y=(0,Se.c)();return p.addElement(C.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),y.addElement(C.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(1.1)"},{offset:1,opacity:"1",transform:"scale(1)"}]),u.addElement(C).easing("ease-in-out").duration(200).addAnimation([p,y])},Ua=C=>{const u=(0,Se.c)(),p=(0,Se.c)(),y=(0,Se.c)();return p.addElement(C.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),y.addElement(C.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),u.addElement(C).easing("ease-in-out").duration(200).addAnimation([p,y])},X=C=>{const u=(0,Se.c)(),p=(0,Se.c)(),y=(0,Se.c)();return p.addElement(C.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),y.addElement(C.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(0.9)"},{offset:1,opacity:"1",transform:"scale(1)"}]),u.addElement(C).easing("ease-in-out").duration(150).addAnimation([p,y])},$=C=>{const u=(0,Se.c)(),p=(0,Se.c)(),y=(0,Se.c)();return p.addElement(C.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),y.addElement(C.querySelector(".alert-wrapper")).fromTo("opacity",.99,0),u.addElement(C).easing("ease-in-out").duration(150).addAnimation([p,y])},Qt=(0,S.w$)(class extends S.wt{constructor(){super(),this.__registerHost(),this.didPresent=(0,S.lh)(this,"ionAlertDidPresent",7),this.willPresent=(0,S.lh)(this,"ionAlertWillPresent",7),this.willDismiss=(0,S.lh)(this,"ionAlertWillDismiss",7),this.didDismiss=(0,S.lh)(this,"ionAlertDidDismiss",7),this.didPresentShorthand=(0,S.lh)(this,"didPresent",7),this.willPresentShorthand=(0,S.lh)(this,"willPresent",7),this.willDismissShorthand=(0,S.lh)(this,"willDismiss",7),this.didDismissShorthand=(0,S.lh)(this,"didDismiss",7),this.delegateController=Rr(this),this.lockController=ct(),this.triggerController=Zr(),this.customHTMLEnabled=ve.c.get("innerHTMLTemplatesEnabled",!1),this.processedInputs=[],this.processedButtons=[],this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,Yr)},this.dispatchCancelHandler=u=>{if(Vr(u.detail.role)){const y=this.processedButtons.find(E=>"cancel"===E.role);this.callButtonHandler(y)}},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.header=void 0,this.subHeader=void 0,this.message=void 0,this.buttons=[],this.inputs=[],this.backdropDismiss=!0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(u,p){!0===u&&!1===p?this.present():!1===u&&!0===p&&this.dismiss()}triggerChanged(){const{trigger:u,el:p,triggerController:y}=this;u&&y.addClickListener(p,u)}onKeydown(u){const p=new Set(this.processedInputs.map(_e=>_e.type));if(p.has("checkbox")&&"Enter"===u.key)return void u.preventDefault();if(!p.has("radio")||u.target&&!this.el.contains(u.target)||u.target.classList.contains("alert-button"))return;const y=this.el.querySelectorAll(".alert-radio"),E=Array.from(y).filter(_e=>!_e.disabled),L=E.findIndex(_e=>_e.id===u.target.id);let re;if(["ArrowDown","ArrowRight"].includes(u.key)&&(re=L===E.length-1?E[0]:E[L+1]),["ArrowUp","ArrowLeft"].includes(u.key)&&(re=0===L?E[E.length-1]:E[L-1]),re&&E.includes(re)){const _e=this.processedInputs.find(Ge=>Ge.id===(null==re?void 0:re.id));_e&&(this.rbClick(_e),re.focus())}}buttonsChanged(){this.processedButtons=this.buttons.map(p=>"string"==typeof p?{text:p,role:"cancel"===p.toLowerCase()?"cancel":void 0}:p)}inputsChanged(){const u=this.inputs,p=u.find(re=>!re.disabled),E=u.find(re=>re.checked&&!re.disabled)||p,L=new Set(u.map(re=>re.type));L.has("checkbox")&&L.has("radio")&&console.warn(`Alert cannot mix input types: ${Array.from(L.values()).join("/")}. Please see alert docs for more info.`),this.inputType=L.values().next().value,this.processedInputs=u.map((re,_e)=>{var Ge;return{type:re.type||"text",name:re.name||`${_e}`,placeholder:re.placeholder||"",value:re.value,label:re.label,checked:!!re.checked,disabled:!!re.disabled,id:re.id||`alert-input-${this.overlayIndex}-${_e}`,handler:re.handler,min:re.min,max:re.max,cssClass:null!==(Ge=re.cssClass)&&void 0!==Ge?Ge:"",attributes:re.attributes||{},tabindex:"radio"===re.type&&re!==E?-1:0}})}connectedCallback(){_r(this.el),this.triggerChanged()}componentWillLoad(){var u;!(null===(u=this.htmlAttributes)||void 0===u)&&u.id||Xr(this.el),this.inputsChanged(),this.buttonsChanged()}disconnectedCallback(){this.triggerController.removeClickListener(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}componentDidLoad(){!this.gesture&&"ios"===(0,ve.b)(this)&&this.wrapperEl&&(this.gesture=zi(this.wrapperEl,u=>u.classList.contains("alert-button")),this.gesture.enable(!0)),!0===this.isOpen&&(0,Me.r)(()=>this.present()),this.triggerChanged()}present(){var u=this;return(0,q.A)(function*(){const p=yield u.lockController.lock();yield u.delegateController.attachViewToDom(),yield kr(u,"alertEnter",qi,X),p()})()}dismiss(u,p){var y=this;return(0,q.A)(function*(){const E=yield y.lockController.lock(),L=yield fr(y,u,p,"alertLeave",Ua,$);return L&&y.delegateController.removeViewFromDom(),E(),L})()}onDidDismiss(){return Lr(this.el,"ionAlertDidDismiss")}onWillDismiss(){return Lr(this.el,"ionAlertWillDismiss")}rbClick(u){for(const p of this.processedInputs)p.checked=p===u,p.tabindex=p===u?0:-1;this.activeId=u.id,qr(u.handler,u),(0,S.$x)(this)}cbClick(u){u.checked=!u.checked,qr(u.handler,u),(0,S.$x)(this)}buttonClick(u){var p=this;return(0,q.A)(function*(){const y=u.role,E=p.getValues();if(Vr(y))return p.dismiss({values:E},y);const L=yield p.callButtonHandler(u,E);return!1!==L&&p.dismiss(Object.assign({values:E},L),u.role)})()}callButtonHandler(u,p){return(0,q.A)(function*(){if(null!=u&&u.handler){const y=yield qr(u.handler,p);if(!1===y)return!1;if("object"==typeof y)return y}return{}})()}getValues(){if(0===this.processedInputs.length)return;if("radio"===this.inputType){const p=this.processedInputs.find(y=>!!y.checked);return p?p.value:void 0}if("checkbox"===this.inputType)return this.processedInputs.filter(p=>p.checked).map(p=>p.value);const u={};return this.processedInputs.forEach(p=>{u[p.name]=p.value||""}),u}renderAlertInputs(){switch(this.inputType){case"checkbox":return this.renderCheckbox();case"radio":return this.renderRadio();default:return this.renderInput()}}renderCheckbox(){const u=this.processedInputs,p=(0,ve.b)(this);return 0===u.length?null:(0,S.h)("div",{class:"alert-checkbox-group"},u.map(y=>(0,S.h)("button",{type:"button",onClick:()=>this.cbClick(y),"aria-checked":`${y.checked}`,id:y.id,disabled:y.disabled,tabIndex:y.tabindex,role:"checkbox",class:Object.assign(Object.assign({},Et(y.cssClass)),{"alert-tappable":!0,"alert-checkbox":!0,"alert-checkbox-button":!0,"ion-focusable":!0,"alert-checkbox-button-disabled":y.disabled||!1})},(0,S.h)("div",{class:"alert-button-inner"},(0,S.h)("div",{class:"alert-checkbox-icon"},(0,S.h)("div",{class:"alert-checkbox-inner"})),(0,S.h)("div",{class:"alert-checkbox-label"},y.label)),"md"===p&&(0,S.h)("ion-ripple-effect",null))))}renderRadio(){const u=this.processedInputs;return 0===u.length?null:(0,S.h)("div",{class:"alert-radio-group",role:"radiogroup","aria-activedescendant":this.activeId},u.map(p=>(0,S.h)("button",{type:"button",onClick:()=>this.rbClick(p),"aria-checked":`${p.checked}`,disabled:p.disabled,id:p.id,tabIndex:p.tabindex,class:Object.assign(Object.assign({},Et(p.cssClass)),{"alert-radio-button":!0,"alert-tappable":!0,"alert-radio":!0,"ion-focusable":!0,"alert-radio-button-disabled":p.disabled||!1}),role:"radio"},(0,S.h)("div",{class:"alert-button-inner"},(0,S.h)("div",{class:"alert-radio-icon"},(0,S.h)("div",{class:"alert-radio-inner"})),(0,S.h)("div",{class:"alert-radio-label"},p.label)))))}renderInput(){const u=this.processedInputs;return 0===u.length?null:(0,S.h)("div",{class:"alert-input-group"},u.map(p=>{var y,E,L,re;return(0,S.h)("div",{class:"alert-input-wrapper"},"textarea"===p.type?(0,S.h)("textarea",Object.assign({placeholder:p.placeholder,value:p.value,id:p.id,tabIndex:p.tabindex},p.attributes,{disabled:null!==(E=null===(y=p.attributes)||void 0===y?void 0:y.disabled)&&void 0!==E?E:p.disabled,class:Rt(p),onInput:_e=>{var Ge;p.value=_e.target.value,null!==(Ge=p.attributes)&&void 0!==Ge&&Ge.onInput&&p.attributes.onInput(_e)}})):(0,S.h)("input",Object.assign({placeholder:p.placeholder,type:p.type,min:p.min,max:p.max,value:p.value,id:p.id,tabIndex:p.tabindex},p.attributes,{disabled:null!==(re=null===(L=p.attributes)||void 0===L?void 0:L.disabled)&&void 0!==re?re:p.disabled,class:Rt(p),onInput:_e=>{var Ge;p.value=_e.target.value,null!==(Ge=p.attributes)&&void 0!==Ge&&Ge.onInput&&p.attributes.onInput(_e)}})))}))}renderAlertButtons(){const u=this.processedButtons,p=(0,ve.b)(this);return(0,S.h)("div",{class:{"alert-button-group":!0,"alert-button-group-vertical":u.length>2}},u.map(E=>(0,S.h)("button",Object.assign({},E.htmlAttributes,{type:"button",id:E.id,class:Jt(E),tabIndex:0,onClick:()=>this.buttonClick(E)}),(0,S.h)("span",{class:"alert-button-inner"},E.text),"md"===p&&(0,S.h)("ion-ripple-effect",null))))}renderAlertMessage(u){const{customHTMLEnabled:p,message:y}=this;return p?(0,S.h)("div",{id:u,class:"alert-message",innerHTML:Bt(y)}):(0,S.h)("div",{id:u,class:"alert-message"},y)}render(){const{overlayIndex:u,header:p,subHeader:y,message:E,htmlAttributes:L}=this,re=(0,ve.b)(this),_e=`alert-${u}-hdr`,Ge=`alert-${u}-sub-hdr`,xt=`alert-${u}-msg`;return(0,S.h)(S.xr,Object.assign({key:"c7d53f48b359f2bc3480a2e1ba34948fc9378fb0",role:this.inputs.length>0||this.buttons.length>0?"alertdialog":"alert","aria-modal":"true","aria-labelledby":p?_e:y?Ge:null,"aria-describedby":void 0!==E?xt:null,tabindex:"-1"},L,{style:{zIndex:`${2e4+u}`},class:Object.assign(Object.assign({},Et(this.cssClass)),{[re]:!0,"overlay-hidden":!0,"alert-translucent":this.translucent}),onIonAlertWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap}),(0,S.h)("ion-backdrop",{key:"18c7e6b5d63435d9a6a82bda951158e7e1af6e92",tappable:this.backdropDismiss}),(0,S.h)("div",{key:"8ea08a2a70239e817442c12596f51b108aca428c",tabindex:"0","aria-hidden":"true"}),(0,S.h)("div",{key:"215ca5d72b8b180788e9748f5f22de01fa5a152a",class:"alert-wrapper ion-overlay-wrapper",ref:Mn=>this.wrapperEl=Mn},(0,S.h)("div",{key:"9880acd318428d4b5d670c67dd156477877f99f2",class:"alert-head"},p&&(0,S.h)("h2",{key:"612dec8dc9bfdcb36e1e4655dc214b7c229b20c8",id:_e,class:"alert-title"},p),y&&(0,S.h)("h2",{key:"e3c54c80a1cd9399595064b5a0a887c16fdc8ff8",id:Ge,class:"alert-sub-title"},y)),this.renderAlertMessage(xt),this.renderAlertInputs(),this.renderAlertButtons()),(0,S.h)("div",{key:"9062655e906b5caf36df6f742fd412552ae510be",tabindex:"0","aria-hidden":"true"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"],buttons:["buttonsChanged"],inputs:["inputsChanged"]}}static get style(){return{ios:".sc-ion-alert-ios-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-ios-h{display:none}.alert-top.sc-ion-alert-ios-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-label.sc-ion-alert-ios,.alert-radio-label.sc-ion-alert-ios{overflow-wrap:anywhere}@media (any-pointer: coarse){.alert-checkbox-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-message.sc-ion-alert-ios::-webkit-scrollbar{display:none}}.alert-input.sc-ion-alert-ios{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:0.875rem;line-height:1.25rem;z-index:0}.alert-button.ion-focused.sc-ion-alert-ios,.alert-tappable.ion-focused.sc-ion-alert-ios{background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.alert-button-inner.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit}.alert-input-disabled.sc-ion-alert-ios,.alert-checkbox-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios,.alert-radio-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:content}.alert-button.sc-ion-alert-ios,.alert-checkbox.sc-ion-alert-ios,.alert-input.sc-ion-alert-ios,.alert-radio.sc-ion-alert-ios{outline:none}.alert-radio-icon.sc-ion-alert-ios,.alert-checkbox-icon.sc-ion-alert-ios,.alert-checkbox-inner.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-ios{min-height:37px;resize:none}.sc-ion-alert-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, var(--ion-background-color-step-100, #f9f9f9)));--max-width:clamp(270px, 16.875rem, 324px);--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);font-size:max(14px, 0.875rem)}.alert-wrapper.sc-ion-alert-ios{border-radius:13px;-webkit-box-shadow:none;box-shadow:none;overflow:hidden}.alert-button.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{pointer-events:none}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.alert-translucent.sc-ion-alert-ios-h .alert-wrapper.sc-ion-alert-ios{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.alert-head.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:12px;padding-bottom:7px;text-align:center}.alert-title.sc-ion-alert-ios{margin-top:8px;color:var(--ion-text-color, #000);font-size:max(17px, 1.0625rem);font-weight:600}.alert-sub-title.sc-ion-alert-ios{color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));font-size:max(14px, 0.875rem)}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:0;padding-bottom:21px;color:var(--ion-text-color, #000);font-size:max(13px, 0.8125rem);text-align:center}.alert-message.sc-ion-alert-ios{max-height:240px}.alert-message.sc-ion-alert-ios:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:12px}.alert-input.sc-ion-alert-ios{border-radius:7px;margin-top:10px;-webkit-padding-start:7px;padding-inline-start:7px;-webkit-padding-end:7px;padding-inline-end:7px;padding-top:7px;padding-bottom:7px;border:0.55px solid var(--ion-color-step-250, var(--ion-background-color-step-250, #bfbfbf));background-color:var(--ion-background-color, #fff);-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:1rem}.alert-input.sc-ion-alert-ios::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-clear{display:none}.alert-input.sc-ion-alert-ios::-webkit-date-and-time-value{height:18px}.alert-radio-group.sc-ion-alert-ios,.alert-checkbox-group.sc-ion-alert-ios{-ms-scroll-chaining:none;overscroll-behavior:contain;max-height:240px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);overflow-y:auto;-webkit-overflow-scrolling:touch}.alert-tappable.sc-ion-alert-ios{min-height:44px}.alert-radio-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;-ms-flex-order:0;order:0;color:var(--ion-text-color, #000)}[aria-checked=true].sc-ion-alert-ios .alert-radio-label.sc-ion-alert-ios{color:var(--ion-color-primary, #0054e9)}.alert-radio-icon.sc-ion-alert-ios{position:relative;-ms-flex-order:1;order:1;min-width:30px}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{top:-7px;position:absolute;width:6px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{inset-inline-start:7px}.alert-checkbox-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-text-color, #000)}.alert-checkbox-icon.sc-ion-alert-ios{border-radius:50%;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:6px;margin-inline-end:6px;margin-top:10px;margin-bottom:10px;position:relative;width:min(1.375rem, 55.836px);height:min(1.375rem, 55.836px);border-width:0.125rem;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));background-color:var(--ion-item-background, var(--ion-background-color, #fff));contain:strict}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-icon.sc-ion-alert-ios{border-color:var(--ion-color-primary, #0054e9);background-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{top:calc(min(1.375rem, 55.836px) / 8);position:absolute;width:calc(min(1.375rem, 55.836px) / 6 + 1px);height:calc(min(1.375rem, 55.836px) * 0.5);-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:0.125rem;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-background-color, #fff)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{inset-inline-start:calc(min(1.375rem, 55.836px) / 3)}.alert-button-group.sc-ion-alert-ios{-webkit-margin-end:-0.55px;margin-inline-end:-0.55px;-ms-flex-wrap:wrap;flex-wrap:wrap}.alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios{border-right:none}[dir=rtl].sc-ion-alert-ios-h .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:none}[dir=rtl].sc-ion-alert-ios .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:none}@supports selector(:dir(rtl)){.alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child:dir(rtl){border-right:none}}.alert-button.sc-ion-alert-ios{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:0;-ms-flex:1 1 auto;flex:1 1 auto;min-width:50%;height:max(44px, 2.75rem);border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);background-color:transparent;color:var(--ion-color-primary, #0054e9);font-size:max(17px, 1.0625rem);overflow:hidden}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child{border-right:0}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:first-child{border-right:0}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:first-child:dir(rtl){border-right:0}}.alert-button.sc-ion-alert-ios:last-child{border-right:0;font-weight:bold}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:last-child:dir(rtl){border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}}.alert-button.ion-activated.sc-ion-alert-ios{background-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.1)}.alert-button-role-destructive.sc-ion-alert-ios,.alert-button-role-destructive.ion-activated.sc-ion-alert-ios,.alert-button-role-destructive.ion-focused.sc-ion-alert-ios{color:var(--ion-color-danger, #c5000f)}",md:".sc-ion-alert-md-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-md-h{display:none}.alert-top.sc-ion-alert-md-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-label.sc-ion-alert-md,.alert-radio-label.sc-ion-alert-md{overflow-wrap:anywhere}@media (any-pointer: coarse){.alert-checkbox-group.sc-ion-alert-md::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-md::-webkit-scrollbar,.alert-message.sc-ion-alert-md::-webkit-scrollbar{display:none}}.alert-input.sc-ion-alert-md{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:0.875rem;line-height:1.25rem;z-index:0}.alert-button.ion-focused.sc-ion-alert-md,.alert-tappable.ion-focused.sc-ion-alert-md{background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.alert-button-inner.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit}.alert-input-disabled.sc-ion-alert-md,.alert-checkbox-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md,.alert-radio-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:content}.alert-button.sc-ion-alert-md,.alert-checkbox.sc-ion-alert-md,.alert-input.sc-ion-alert-md,.alert-radio.sc-ion-alert-md{outline:none}.alert-radio-icon.sc-ion-alert-md,.alert-checkbox-icon.sc-ion-alert-md,.alert-checkbox-inner.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-md{min-height:37px;resize:none}.sc-ion-alert-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--max-width:280px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);font-size:0.875rem}.alert-wrapper.sc-ion-alert-md{border-radius:4px;-webkit-box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12);box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12)}.alert-head.sc-ion-alert-md{-webkit-padding-start:23px;padding-inline-start:23px;-webkit-padding-end:23px;padding-inline-end:23px;padding-top:20px;padding-bottom:15px;text-align:start}.alert-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:1.25rem;font-weight:500}.alert-sub-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:1rem}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px;padding-top:20px;padding-bottom:20px;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))}.alert-message.sc-ion-alert-md{font-size:1rem}@media screen and (max-width: 767px){.alert-message.sc-ion-alert-md{max-height:266px}}.alert-message.sc-ion-alert-md:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-head.sc-ion-alert-md+.alert-message.sc-ion-alert-md{padding-top:0}.alert-input.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:5px;border-bottom:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));color:var(--ion-text-color, #000)}.alert-input.sc-ion-alert-md::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-clear{display:none}.alert-input.sc-ion-alert-md:focus{margin-bottom:4px;border-bottom:2px solid var(--ion-color-primary, #0054e9)}.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{position:relative;border-top:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));border-bottom:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));overflow:auto}@media screen and (max-width: 767px){.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{max-height:266px}}.alert-tappable.sc-ion-alert-md{position:relative;min-height:48px}.alert-radio-label.sc-ion-alert-md{-webkit-padding-start:52px;padding-inline-start:52px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));font-size:1rem}.alert-radio-icon.sc-ion-alert-md{top:0;border-radius:50%;display:block;position:relative;width:20px;height:20px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, var(--ion-background-color-step-550, #737373))}.alert-radio-icon.sc-ion-alert-md{inset-inline-start:26px}.alert-radio-inner.sc-ion-alert-md{top:3px;border-radius:50%;position:absolute;width:10px;height:10px;-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--ion-color-primary, #0054e9)}.alert-radio-inner.sc-ion-alert-md{inset-inline-start:3px}[aria-checked=true].sc-ion-alert-md .alert-radio-label.sc-ion-alert-md{color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626))}[aria-checked=true].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}.alert-checkbox-label.sc-ion-alert-md{-webkit-padding-start:53px;padding-inline-start:53px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;width:calc(100% - 53px);color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));font-size:1rem}.alert-checkbox-icon.sc-ion-alert-md{top:0;border-radius:2px;position:relative;width:16px;height:16px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, var(--ion-background-color-step-550, #737373));contain:strict}.alert-checkbox-icon.sc-ion-alert-md{inset-inline-start:26px}[aria-checked=true].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #0054e9);background-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{top:0;position:absolute;width:6px;height:10px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary-contrast, #fff)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{inset-inline-start:3px}.alert-button-group.sc-ion-alert-md{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-pack:end;justify-content:flex-end}.alert-button.sc-ion-alert-md{border-radius:2px;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:0;margin-bottom:0;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;color:var(--ion-color-primary, #0054e9);font-weight:500;text-align:end;text-transform:uppercase;overflow:hidden}.alert-button-inner.sc-ion-alert-md{-ms-flex-pack:end;justify-content:flex-end}@media screen and (min-width: 768px){.sc-ion-alert-md-h{--max-width:min(100vw - 96px, 560px);--max-height:min(100vh - 96px, 560px)}}"}}},[34,"ion-alert",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],header:[1],subHeader:[1,"sub-header"],message:[1],buttons:[16],inputs:[1040],backdropDismiss:[4,"backdrop-dismiss"],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},[[4,"keydown","onKeydown"]],{isOpen:["onIsOpenChange"],trigger:["triggerChanged"],buttons:["buttonsChanged"],inputs:["inputsChanged"]}]),Rt=C=>{var u,p,y;return Object.assign(Object.assign({"alert-input":!0,"alert-input-disabled":(null!==(p=null===(u=C.attributes)||void 0===u?void 0:u.disabled)&&void 0!==p?p:C.disabled)||!1},Et(C.cssClass)),Et(C.attributes?null===(y=C.attributes.class)||void 0===y?void 0:y.toString():""))},Jt=C=>Object.assign({"alert-button":!0,"ion-focusable":!0,"ion-activatable":!0,[`alert-button-role-${C.role}`]:void 0!==C.role},Et(C.cssClass));const Kn=function pn(){typeof customElements>"u"||["ion-alert","ion-backdrop","ion-ripple-effect"].forEach(u=>{switch(u){case"ion-alert":customElements.get(u)||customElements.define(u,Qt);break;case"ion-backdrop":customElements.get(u)||ie();break;case"ion-ripple-effect":customElements.get(u)||function di(){typeof customElements>"u"||["ion-ripple-effect"].forEach(u=>{"ion-ripple-effect"===u&&(customElements.get(u)||customElements.define(u,Ei))})}()}})},Ho=(0,S.w$)(class extends S.wt{constructor(){super(),this.__registerHost()}componentDidLoad(){var u=this;S.L2.isBrowser&&vo((0,q.A)(function*(){const p=(0,ve.a)(window,"hybrid");if(ve.c.getBoolean("_testing")||F.e(7338).then(F.bind(F,7338)).then(L=>L.startTapClick(ve.c)),ve.c.getBoolean("statusTap",p)&&F.e(6631).then(F.bind(F,6631)).then(L=>L.startStatusTap()),ve.c.getBoolean("inputShims",Jo())){const L=(0,ve.a)(window,"ios")?"ios":"android";F.e(7402).then(F.bind(F,7402)).then(re=>re.startInputShims(ve.c,L))}const y=yield Promise.resolve().then(F.bind(F,5098)),E=p||(0,Gn.shouldUseCloseWatcher)();ve.c.getBoolean("hardwareBackButton",E)?y.startHardwareBackButton():((0,Gn.shouldUseCloseWatcher)()&&(0,He.p)("experimentalCloseWatcher was set to `true`, but hardwareBackButton was set to `false`. Both config options must be `true` for the Close Watcher API to be used."),y.blockHardwareBackButton()),typeof window<"u"&&Promise.resolve().then(F.bind(F,6008)).then(L=>L.startKeyboardAssist(window)),Promise.resolve().then(F.bind(F,5498)).then(L=>u.focusVisible=L.startFocusVisible())}))}setFocus(u){var p=this;return(0,q.A)(function*(){p.focusVisible&&p.focusVisible.setFocus(u)})()}render(){const u=(0,ve.b)(this);return(0,S.h)(S.xr,{key:"e95cdeb2709edbc74f4e6ebf77cb110154605b72",class:{[u]:!0,"ion-page":!0,"force-statusbar-padding":ve.c.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return"html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}"}},[0,"ion-app",{setFocus:[64]}]),Jo=()=>!!((0,ve.a)(window,"ios")&&(0,ve.a)(window,"mobile")||(0,ve.a)(window,"android")&&(0,ve.a)(window,"mobileweb")),vo=C=>{"requestIdleCallback"in window?window.requestIdleCallback(C):setTimeout(C,32)},ua=function So(){typeof customElements>"u"||["ion-app"].forEach(u=>{"ion-app"===u&&(customElements.get(u)||customElements.define(u,Ho))})},Lo={bubbles:{dur:1e3,circles:9,fn:(C,u,p)=>{const y=C*u/p-C+"ms",E=2*Math.PI*u/p;return{r:5,style:{top:32*Math.sin(E)+"%",left:32*Math.cos(E)+"%","animation-delay":y}}}},circles:{dur:1e3,circles:8,fn:(C,u,p)=>{const y=u/p,E=C*y-C+"ms",L=2*Math.PI*y;return{r:5,style:{top:32*Math.sin(L)+"%",left:32*Math.cos(L)+"%","animation-delay":E}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(C,u)=>({r:6,style:{left:32-32*u+"%","animation-delay":-110*u+"ms"}})},lines:{dur:1e3,lines:8,fn:(C,u,p)=>({y1:14,y2:26,style:{transform:`rotate(${360/p*u+(u<p/2?180:-180)}deg)`,"animation-delay":C*u/p-C+"ms"}})},"lines-small":{dur:1e3,lines:8,fn:(C,u,p)=>({y1:12,y2:20,style:{transform:`rotate(${360/p*u+(u<p/2?180:-180)}deg)`,"animation-delay":C*u/p-C+"ms"}})},"lines-sharp":{dur:1e3,lines:12,fn:(C,u,p)=>({y1:17,y2:29,style:{transform:`rotate(${30*u+(u<6?180:-180)}deg)`,"animation-delay":C*u/p-C+"ms"}})},"lines-sharp-small":{dur:1e3,lines:12,fn:(C,u,p)=>({y1:12,y2:20,style:{transform:`rotate(${30*u+(u<6?180:-180)}deg)`,"animation-delay":C*u/p-C+"ms"}})}},Ql=(0,S.w$)(class extends S.wt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.duration=void 0,this.name=void 0,this.paused=!1}getName(){const u=this.name||ve.c.get("spinner"),p=(0,ve.b)(this);return u||("ios"===p?"lines":"circular")}render(){var u;const p=this,y=(0,ve.b)(p),E=p.getName(),L=null!==(u=Lo[E])&&void 0!==u?u:Lo.lines,re="number"==typeof p.duration&&p.duration>10?p.duration:L.dur,_e=[];if(void 0!==L.circles)for(let Ge=0;Ge<L.circles;Ge++)_e.push(ae(L,re,Ge,L.circles));else if(void 0!==L.lines)for(let Ge=0;Ge<L.lines;Ge++)_e.push(j(L,re,Ge,L.lines));return(0,S.h)(S.xr,{key:"50cbaed55eeab15292447d106a80b93db4cb40de",class:Nt(p.color,{[y]:!0,[`spinner-${E}`]:!0,"spinner-paused":p.paused||ve.c.getBoolean("_testing")}),role:"progressbar",style:L.elmDuration?{animationDuration:re+"ms"}:{}},_e)}static get style(){return":host{display:inline-block;position:relative;width:28px;height:28px;color:var(--color);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host(.ion-color){color:var(--ion-color-base)}svg{-webkit-transform-origin:center;transform-origin:center;position:absolute;top:0;left:0;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0)}:host-context([dir=rtl]) svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}[dir=rtl] svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}@supports selector(:dir(rtl)){svg:dir(rtl){-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}}:host(.spinner-lines) line,:host(.spinner-lines-small) line{stroke-width:7px}:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-width:4px}:host(.spinner-lines) line,:host(.spinner-lines-small) line,:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-linecap:round;stroke:currentColor}:host(.spinner-lines) svg,:host(.spinner-lines-small) svg,:host(.spinner-lines-sharp) svg,:host(.spinner-lines-sharp-small) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite}:host(.spinner-bubbles) svg{-webkit-animation:spinner-scale-out 1s linear infinite;animation:spinner-scale-out 1s linear infinite;fill:currentColor}:host(.spinner-circles) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite;fill:currentColor}:host(.spinner-crescent) circle{fill:transparent;stroke-width:4px;stroke-dasharray:128px;stroke-dashoffset:82px;stroke:currentColor}:host(.spinner-crescent) svg{-webkit-animation:spinner-rotate 1s linear infinite;animation:spinner-rotate 1s linear infinite}:host(.spinner-dots) circle{stroke-width:0;fill:currentColor}:host(.spinner-dots) svg{-webkit-animation:spinner-dots 1s linear infinite;animation:spinner-dots 1s linear infinite}:host(.spinner-circular) svg{-webkit-animation:spinner-circular linear infinite;animation:spinner-circular linear infinite}:host(.spinner-circular) circle{-webkit-animation:spinner-circular-inner ease-in-out infinite;animation:spinner-circular-inner ease-in-out infinite;stroke:currentColor;stroke-dasharray:80px, 200px;stroke-dashoffset:0px;stroke-width:5.6;fill:none}:host(.spinner-paused),:host(.spinner-paused) svg,:host(.spinner-paused) circle{-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@-webkit-keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@-webkit-keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}@keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}"}},[1,"ion-spinner",{color:[513],duration:[2],name:[1],paused:[4]}]),ae=(C,u,p,y)=>{const E=C.fn(u,p,y);return E.style["animation-duration"]=u+"ms",(0,S.h)("svg",{viewBox:E.viewBox||"0 0 64 64",style:E.style},(0,S.h)("circle",{transform:E.transform||"translate(32,32)",cx:E.cx,cy:E.cy,r:E.r,style:C.elmDuration?{animationDuration:u+"ms"}:{}}))},j=(C,u,p,y)=>{const E=C.fn(u,p,y);return E.style["animation-duration"]=u+"ms",(0,S.h)("svg",{viewBox:E.viewBox||"0 0 64 64",style:E.style},(0,S.h)("line",{transform:"translate(32,32)",y1:E.y1,y2:E.y2}))},Q=C=>{const u=(0,Se.c)(),p=(0,Se.c)(),y=(0,Se.c)();return p.addElement(C.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),y.addElement(C.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),u.addElement(C).easing("ease-in-out").duration(200).addAnimation([p,y])},Ve=C=>{const u=(0,Se.c)(),p=(0,Se.c)(),y=(0,Se.c)();return p.addElement(C.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),y.addElement(C.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),u.addElement(C).easing("ease-in-out").duration(200).addAnimation([p,y])},On=C=>{const u=(0,Se.c)(),p=(0,Se.c)(),y=(0,Se.c)();return p.addElement(C.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),y.addElement(C.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),u.addElement(C).easing("ease-in-out").duration(200).addAnimation([p,y])},Nr=C=>{const u=(0,Se.c)(),p=(0,Se.c)(),y=(0,Se.c)();return p.addElement(C.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),y.addElement(C.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),u.addElement(C).easing("ease-in-out").duration(200).addAnimation([p,y])},Ma=(0,S.w$)(class extends S.wt{constructor(){super(),this.__registerHost(),this.didPresent=(0,S.lh)(this,"ionLoadingDidPresent",7),this.willPresent=(0,S.lh)(this,"ionLoadingWillPresent",7),this.willDismiss=(0,S.lh)(this,"ionLoadingWillDismiss",7),this.didDismiss=(0,S.lh)(this,"ionLoadingDidDismiss",7),this.didPresentShorthand=(0,S.lh)(this,"didPresent",7),this.willPresentShorthand=(0,S.lh)(this,"willPresent",7),this.willDismissShorthand=(0,S.lh)(this,"willDismiss",7),this.didDismissShorthand=(0,S.lh)(this,"didDismiss",7),this.delegateController=Rr(this),this.lockController=ct(),this.triggerController=Zr(),this.customHTMLEnabled=ve.c.get("innerHTMLTemplatesEnabled",!1),this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,Yr)},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.message=void 0,this.cssClass=void 0,this.duration=0,this.backdropDismiss=!1,this.showBackdrop=!0,this.spinner=void 0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(u,p){!0===u&&!1===p?this.present():!1===u&&!0===p&&this.dismiss()}triggerChanged(){const{trigger:u,el:p,triggerController:y}=this;u&&y.addClickListener(p,u)}connectedCallback(){_r(this.el),this.triggerChanged()}componentWillLoad(){var u;if(void 0===this.spinner){const p=(0,ve.b)(this);this.spinner=ve.c.get("loadingSpinner",ve.c.get("spinner","ios"===p?"lines":"crescent"))}null!==(u=this.htmlAttributes)&&void 0!==u&&u.id||Xr(this.el)}componentDidLoad(){!0===this.isOpen&&(0,Me.r)(()=>this.present()),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}present(){var u=this;return(0,q.A)(function*(){const p=yield u.lockController.lock();yield u.delegateController.attachViewToDom(),yield kr(u,"loadingEnter",Q,On),u.duration>0&&(u.durationTimeout=setTimeout(()=>u.dismiss(),u.duration+10)),p()})()}dismiss(u,p){var y=this;return(0,q.A)(function*(){const E=yield y.lockController.lock();y.durationTimeout&&clearTimeout(y.durationTimeout);const L=yield fr(y,u,p,"loadingLeave",Ve,Nr);return L&&y.delegateController.removeViewFromDom(),E(),L})()}onDidDismiss(){return Lr(this.el,"ionLoadingDidDismiss")}onWillDismiss(){return Lr(this.el,"ionLoadingWillDismiss")}renderLoadingMessage(u){const{customHTMLEnabled:p,message:y}=this;return p?(0,S.h)("div",{class:"loading-content",id:u,innerHTML:Bt(y)}):(0,S.h)("div",{class:"loading-content",id:u},y)}render(){const{message:u,spinner:p,htmlAttributes:y,overlayIndex:E}=this,L=(0,ve.b)(this),re=`loading-${E}-msg`;return(0,S.h)(S.xr,Object.assign({key:"fb3d2cd7cd0539ed6540d8be50e243c7916b3ca2",role:"dialog","aria-modal":"true","aria-labelledby":void 0!==u?re:null,tabindex:"-1"},y,{style:{zIndex:`${4e4+this.overlayIndex}`},onIonBackdropTap:this.onBackdropTap,class:Object.assign(Object.assign({},Et(this.cssClass)),{[L]:!0,"overlay-hidden":!0,"loading-translucent":this.translucent})}),(0,S.h)("ion-backdrop",{key:"c8bd30782f3040b1b80e88aa924861e439d40754",visible:this.showBackdrop,tappable:this.backdropDismiss}),(0,S.h)("div",{key:"7ad4447fafa49aa861d311221b8c2e8171b4c610",tabindex:"0","aria-hidden":"true"}),(0,S.h)("div",{key:"1879df0d895eb8ee20ccdc94dd35d708c1140b91",class:"loading-wrapper ion-overlay-wrapper"},p&&(0,S.h)("div",{key:"220f292c136681f5fa91f94669aac75b15e490ce",class:"loading-spinner"},(0,S.h)("ion-spinner",{key:"d599084a1426d941bdd080a988d8ad5b9589b823",name:p,"aria-hidden":"true"})),void 0!==u&&this.renderLoadingMessage(re)),(0,S.h)("div",{key:"e443897b353a48e0c72718dba04d83d7c5070d73",tabindex:"0","aria-hidden":"true"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:".sc-ion-loading-ios-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-ios-h{display:none}.loading-wrapper.sc-ion-loading-ios{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}ion-spinner.sc-ion-loading-ios{color:var(--spinner-color)}.sc-ion-loading-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, var(--ion-background-color-step-100, #f9f9f9)));--max-width:270px;--max-height:90%;--spinner-color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);color:var(--ion-text-color, #000);font-size:0.875rem}.loading-wrapper.sc-ion-loading-ios{border-radius:8px;-webkit-padding-start:34px;padding-inline-start:34px;-webkit-padding-end:34px;padding-inline-end:34px;padding-top:24px;padding-bottom:24px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.loading-translucent.sc-ion-loading-ios-h .loading-wrapper.sc-ion-loading-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.loading-content.sc-ion-loading-ios{font-weight:bold}.loading-spinner.sc-ion-loading-ios+.loading-content.sc-ion-loading-ios{-webkit-margin-start:16px;margin-inline-start:16px}",md:".sc-ion-loading-md-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-md-h{display:none}.loading-wrapper.sc-ion-loading-md{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}ion-spinner.sc-ion-loading-md{color:var(--spinner-color)}.sc-ion-loading-md-h{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--max-width:280px;--max-height:90%;--spinner-color:var(--ion-color-primary, #0054e9);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));font-size:0.875rem}.loading-wrapper.sc-ion-loading-md{border-radius:2px;-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px;padding-top:24px;padding-bottom:24px;-webkit-box-shadow:0 16px 20px rgba(0, 0, 0, 0.4);box-shadow:0 16px 20px rgba(0, 0, 0, 0.4)}.loading-spinner.sc-ion-loading-md+.loading-content.sc-ion-loading-md{-webkit-margin-start:16px;margin-inline-start:16px}"}}},[34,"ion-loading",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],message:[1],cssClass:[1,"css-class"],duration:[2],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],spinner:[1025],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]);F(4341),F(5498),F(2782);const Ls=C=>{const u=C.getTimezoneOffset();return C.setMinutes(C.getMinutes()-u),C};Ls(new Date("2022T01:00")),Ls(new Date("2022T13:00"));const Jh=["outletContent"],bs=["*"];let Oa=(()=>{var C;let u=((0,x.A)(C=class extends we.Rg{constructor(y,E,L,re,_e,Ge,xt,Xt){super(y,E,L,re,_e,Ge,xt,Xt),(0,x.A)(this,"parentOutlet",void 0),(0,x.A)(this,"outletContent",void 0),this.parentOutlet=Xt}},"\u0275fac",function(y){return new(y||C)(H.kS0("name"),H.kS0("tabs"),H.rXU(it.aZ),H.rXU(H.aKT),H.rXU(At.Ix),H.rXU(H.SKi),H.rXU(At.nX),H.rXU(C,12))}),(0,x.A)(C,"\u0275cmp",H.VBU({type:C,selectors:[["ion-router-outlet"]],viewQuery:function(y,E){if(1&y&&H.GBs(Jh,7,H.c1b),2&y){let L;H.mGM(L=H.lsd())&&(E.outletContent=L.first)}},standalone:!0,features:[H.Vt3,H.aNF],ngContentSelectors:bs,decls:3,vars:0,consts:[["outletContent",""]],template:function(y,E){1&y&&(H.NAR(),H.qex(0,null,0),H.SdG(2),H.bVm())},encapsulation:2})),C);return u=(0,g.Cg)([(0,we.hO)({defineCustomElementFn:oe})],u),u})();const Uu=(C,u)=>{const p=C.prototype;u.forEach(y=>{Object.defineProperty(p,y,{get(){return this.el[y]},set(E){this.z.runOutsideAngular(()=>this.el[y]=E)},configurable:!0})})},jp=(C,u)=>{const p=C.prototype;u.forEach(y=>{p[y]=function(){const E=arguments;return this.z.runOutsideAngular(()=>this.el[y].apply(this.el,E))}})};function el(C){return function(p){const{defineCustomElementFn:y,inputs:E,methods:L}=C;return void 0!==y&&y(),E&&Uu(p,E),L&&jp(p,L),p}}let zp=(()=>{var C;let u=((0,x.A)(C=class{constructor(y,E,L){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=L,y.detach(),this.el=E.nativeElement}},"\u0275fac",function(y){return new(y||C)(H.rXU(H.gRc),H.rXU(H.aKT),H.rXU(H.SKi))}),(0,x.A)(C,"\u0275cmp",H.VBU({type:C,selectors:[["ion-app"]],standalone:!0,features:[H.aNF],ngContentSelectors:bs,decls:1,vars:0,template:function(y,E){1&y&&(H.NAR(),H.SdG(0))},encapsulation:2,changeDetection:0})),C);return u=(0,g.Cg)([el({defineCustomElementFn:ua,methods:["setFocus"]})],u),u})(),Yp=(()=>{var C;class u extends we.Kb{constructor(){super(Yt),(0,x.A)(this,"angularDelegate",(0,H.WQX)(we.Yq)),(0,x.A)(this,"injector",(0,H.WQX)(H.zZn)),(0,x.A)(this,"environmentInjector",(0,H.WQX)(H.uvJ)),function qe(){typeof customElements>"u"||["ion-modal","ion-backdrop"].forEach(u=>{switch(u){case"ion-modal":customElements.get(u)||customElements.define(u,Ue);break;case"ion-backdrop":customElements.get(u)||ie()}})}()}create(y){return super.create({...y,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return C=u,(0,x.A)(u,"\u0275fac",function(y){return new(y||C)}),(0,x.A)(u,"\u0275prov",H.jDH({token:C,factory:C.\u0275fac})),u})();class cv extends we.Kb{constructor(){super(Qn),(0,x.A)(this,"angularDelegate",(0,H.WQX)(we.Yq)),(0,x.A)(this,"injector",(0,H.WQX)(H.zZn)),(0,x.A)(this,"environmentInjector",(0,H.WQX)(H.uvJ)),et()}create(u){return super.create({...u,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const qp=(C={})=>(0,H.EmA)([{provide:we.sR,useValue:C},{provide:H.hnV,useFactory:cf,multi:!0,deps:[we.sR,it.qQ]},(0,we.YV)(),we.Yq,Yp,cv]),cf=(C,u)=>()=>{u.documentElement.classList.add("ion-ce"),(0,ve.i)(C)};let bc=(()=>{var C;class u extends we.Kb{constructor(){super(Ot),Kn()}}return C=u,(0,x.A)(u,"\u0275fac",function(y){return new(y||C)}),(0,x.A)(u,"\u0275prov",H.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})),u})(),Wd=(()=>{var C;class u extends we.Kb{constructor(){super(un),function rl(){typeof customElements>"u"||["ion-loading","ion-backdrop","ion-spinner"].forEach(u=>{switch(u){case"ion-loading":customElements.get(u)||customElements.define(u,Ma);break;case"ion-backdrop":customElements.get(u)||ie();break;case"ion-spinner":customElements.get(u)||function ye(){typeof customElements>"u"||["ion-spinner"].forEach(u=>{"ion-spinner"===u&&(customElements.get(u)||customElements.define(u,Ql))})}()}})}()}}return C=u,(0,x.A)(u,"\u0275fac",function(y){return new(y||C)}),(0,x.A)(u,"\u0275prov",H.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})),u})()},4742:(Un,Tt,F)=>{"use strict";F.d(Tt,{hG:()=>Mi,mC:()=>dr,In:()=>vr,Jm:()=>xn,QW:()=>nn,b_:()=>sn,I9:()=>qt,ME:()=>Fr,HW:()=>kr,tN:()=>lr,hU:()=>fo,W9:()=>Lr,A9:()=>ho,M0:()=>Cr,lO:()=>ko,eU:()=>Rr,iq:()=>Zr,KW:()=>tn,Ax:()=>ar,Hp:()=>Or,$w:()=>so,uz:()=>Nt,he:()=>Se,nf:()=>ut,Sb:()=>no,JI:()=>G,CF:()=>Tr,ln:()=>Jn,S1:()=>Uo,Nm:()=>Hn,Ip:()=>Ir,w2:()=>Oe,IO:()=>De,nc:()=>qe,BC:()=>Ct,ai:()=>Pn,bv:()=>ba,Xi:()=>bi,W3:()=>Yi,su:()=>ue,N7:()=>gr,Je:()=>fe,Gw:()=>Re});var x=F(9842),g=F(4438),H=F(4341),we=F(8880),q=F(1635),S=F(3726),Te=F(177),Be=(F(2902),F(9986),F(3604),F(5022),F(3615),F(8607),F(9483)),lt=F(464),Fe=(F(9568),F(5229)),wt=(F(8476),F(4261));F(1970),F(7192);var oe=F(467);const it=Be.i,At=function(){var B=(0,oe.A)(function*(se,Ne){if(!(typeof window>"u"))return yield it(),(0,wt.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),Ne)});return function(Ne,U){return B.apply(this,arguments)}}(),Ze=["*"];function sr(B,se){if(1&B&&(g.j41(0,"div",1),g.eu8(1,2),g.k0s()),2&B){const Ne=g.XpG();g.R7$(),g.Y8G("ngTemplateOutlet",Ne.template)}}function pt(B,se){if(1&B&&g.eu8(0,1),2&B){const Ne=g.XpG();g.Y8G("ngTemplateOutlet",Ne.template)}}let ue=(()=>{var B;class se extends we.fL{constructor(U,M){super(U,M),(0,x.A)(this,"el",void 0),this.el=M}handleInputEvent(U){this.handleValueChange(U,U.value)}registerOnChange(U){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName?M=>{U(""===M?null:parseFloat(M))}:U)}}return B=se,(0,x.A)(se,"\u0275fac",function(U){return new(U||B)(g.rXU(g.zZn),g.rXU(g.aKT))}),(0,x.A)(se,"\u0275dir",g.FsC({type:B,selectors:[["ion-input","type","number"],["ion-range"]],hostBindings:function(U,M){1&U&&g.bIt("ionInput",function(et){return M.handleInputEvent(et.target)})},features:[g.Jv_([{provide:H.kq,useExisting:B,multi:!0}]),g.Vt3]})),se})(),fe=(()=>{var B;class se extends we.fL{constructor(U,M){super(U,M)}_handleChangeEvent(U){this.handleValueChange(U,U.value)}}return B=se,(0,x.A)(se,"\u0275fac",function(U){return new(U||B)(g.rXU(g.zZn),g.rXU(g.aKT))}),(0,x.A)(se,"\u0275dir",g.FsC({type:B,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(U,M){1&U&&g.bIt("ionChange",function(et){return M._handleChangeEvent(et.target)})},features:[g.Jv_([{provide:H.kq,useExisting:B,multi:!0}]),g.Vt3]})),se})(),Re=(()=>{var B;class se extends we.fL{constructor(U,M){super(U,M)}_handleInputEvent(U){this.handleValueChange(U,U.value)}}return B=se,(0,x.A)(se,"\u0275fac",function(U){return new(U||B)(g.rXU(g.zZn),g.rXU(g.aKT))}),(0,x.A)(se,"\u0275dir",g.FsC({type:B,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(U,M){1&U&&g.bIt("ionInput",function(et){return M._handleInputEvent(et.target)})},features:[g.Jv_([{provide:H.kq,useExisting:B,multi:!0}]),g.Vt3]})),se})();const St=(B,se)=>{const Ne=B.prototype;se.forEach(U=>{Object.defineProperty(Ne,U,{get(){return this.el[U]},set(M){this.z.runOutsideAngular(()=>this.el[U]=M)},configurable:!0})})},Ot=(B,se)=>{const Ne=B.prototype;se.forEach(U=>{Ne[U]=function(){const M=arguments;return this.z.runOutsideAngular(()=>this.el[U].apply(this.el,M))}})},Lt=(B,se,Ne)=>{Ne.forEach(U=>B[U]=(0,S.R)(se,U))};function Yt(B){return function(Ne){const{defineCustomElementFn:U,inputs:M,methods:Z}=B;return void 0!==U&&U(),M&&St(Ne,M),Z&&Ot(Ne,Z),Ne}}let dr=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-avatar"]],ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({})],se),se})(),vr=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["color","mode"]})],se),se})(),xn=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement,Lt(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],se),se})(),nn=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["collapse"]})],se),se})(),sn=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],se),se})(),qt=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["mode"]})],se),se})(),Fr=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["color","mode","translucent"]})],se),se})(),kr=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["color","mode"]})],se),se})(),lr=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["color","mode"]})],se),se})(),fo=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],se),se})(),Lr=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement,Lt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],se),se})(),ho=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement,Lt(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",formatOptions:"formatOptions",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","formatOptions","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],se),se})(),Cr=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["collapse","mode","translucent"]})],se),se})(),ko=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["fixed"]})],se),se})(),Rr=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["collapse","mode","translucent"]})],se),se})(),Zr=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],se),se})(),tn=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement,Lt(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["alt","src"]})],se),se})(),ar=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement,Lt(this,this.el,["ionInfinite"])}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-infinite-scroll"]],inputs:{disabled:"disabled",position:"position",threshold:"threshold"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["disabled","position","threshold"],methods:["complete"]})],se),se})(),Or=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-infinite-scroll-content"]],inputs:{loadingSpinner:"loadingSpinner",loadingText:"loadingText"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["loadingSpinner","loadingText"]})],se),se})(),so=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement,Lt(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],se),se})(),Nt=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],se),se})(),Se=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["color","mode","position"]})],se),se})(),ut=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],se),se})(),G=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-note"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["color","mode"]})],se),se})(),Jn=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-row"]],ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({})],se),se})(),Uo=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement,Lt(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["animated","autocapitalize","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","maxlength","minlength","mode","name","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],se),se})(),Hn=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement,Lt(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],se),se})(),Ir=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["disabled","value"]})],se),se})(),Oe=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["color","duration","name","paused"]})],se),se})(),De=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["color","mode"]})],se),se})(),qe=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement,Lt(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",shape:"shape",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","maxlength","minlength","mode","name","placeholder","readonly","required","rows","shape","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],se),se})(),Ct=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["color","size"]})],se),se})(),Pn=(()=>{var B;let se=((0,x.A)(B=class{constructor(U,M,Z){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=Z,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||B)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(B,"\u0275cmp",g.VBU({type:B,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ze,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),B);return se=(0,q.Cg)([Yt({inputs:["color","mode"]})],se),se})(),gr=(()=>{var B;class se extends we.CE{}return B=se,(0,x.A)(se,"\u0275fac",(()=>{let Ne;return function(M){return(Ne||(Ne=g.xGo(B)))(M||B)}})()),(0,x.A)(se,"\u0275dir",g.FsC({type:B,selectors:[["","routerLink","",5,"a",5,"area"]],features:[g.Vt3]})),se})(),no=(()=>{var B;class se extends we.Sb{}return B=se,(0,x.A)(se,"\u0275fac",(()=>{let Ne;return function(M){return(Ne||(Ne=g.xGo(B)))(M||B)}})()),(0,x.A)(se,"\u0275cmp",g.VBU({type:B,selectors:[["ion-modal"]],features:[g.Vt3],decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(U,M){1&U&&g.DNE(0,sr,2,1,"div",0),2&U&&g.Y8G("ngIf",M.isCmpOpen||M.keepContentsMounted)},dependencies:[Te.bT,Te.T3],encapsulation:2,changeDetection:0})),se})(),Tr=(()=>{var B;class se extends we.CF{}return B=se,(0,x.A)(se,"\u0275fac",(()=>{let Ne;return function(M){return(Ne||(Ne=g.xGo(B)))(M||B)}})()),(0,x.A)(se,"\u0275cmp",g.VBU({type:B,selectors:[["ion-popover"]],features:[g.Vt3],decls:1,vars:1,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(U,M){1&U&&g.DNE(0,pt,1,1,"ng-container",0),2&U&&g.Y8G("ngIf",M.isCmpOpen||M.keepContentsMounted)},dependencies:[Te.bT,Te.T3],encapsulation:2,changeDetection:0})),se})();const go={provide:H.cz,useExisting:(0,g.Rfq)(()=>br),multi:!0};let br=(()=>{var B;class se extends H.zX{}return B=se,(0,x.A)(se,"\u0275fac",(()=>{let Ne;return function(M){return(Ne||(Ne=g.xGo(B)))(M||B)}})()),(0,x.A)(se,"\u0275dir",g.FsC({type:B,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(U,M){2&U&&g.BMQ("max",M._enabled?M.max:null)},features:[g.Jv_([go]),g.Vt3]})),se})();const Wr={provide:H.cz,useExisting:(0,g.Rfq)(()=>Ki),multi:!0};let Ki=(()=>{var B;class se extends H.VZ{}return B=se,(0,x.A)(se,"\u0275fac",(()=>{let Ne;return function(M){return(Ne||(Ne=g.xGo(B)))(M||B)}})()),(0,x.A)(se,"\u0275dir",g.FsC({type:B,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(U,M){2&U&&g.BMQ("min",M._enabled?M.min:null)},features:[g.Jv_([Wr]),g.Vt3]})),se})(),Mi=(()=>{var B;class se extends we.Kb{constructor(){super(Fe.a)}}return B=se,(0,x.A)(se,"\u0275fac",function(U){return new(U||B)}),(0,x.A)(se,"\u0275prov",g.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})),se})(),bi=(()=>{var B;class se extends we.Kb{constructor(){super(Fe.l)}}return B=se,(0,x.A)(se,"\u0275fac",function(U){return new(U||B)}),(0,x.A)(se,"\u0275prov",g.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})),se})(),Yi=(()=>{var B;class se extends we.Kb{constructor(){super(Fe.m),(0,x.A)(this,"angularDelegate",(0,g.WQX)(we.Yq)),(0,x.A)(this,"injector",(0,g.WQX)(g.zZn)),(0,x.A)(this,"environmentInjector",(0,g.WQX)(g.uvJ))}create(U){return super.create({...U,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return B=se,(0,x.A)(se,"\u0275fac",function(U){return new(U||B)}),(0,x.A)(se,"\u0275prov",g.jDH({token:B,factory:B.\u0275fac})),se})();class Po extends we.Kb{constructor(){super(Fe.c),(0,x.A)(this,"angularDelegate",(0,g.WQX)(we.Yq)),(0,x.A)(this,"injector",(0,g.WQX)(g.zZn)),(0,x.A)(this,"environmentInjector",(0,g.WQX)(g.uvJ))}create(se){return super.create({...se,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Sa=(B,se,Ne)=>()=>{const U=se.defaultView;if(U&&typeof window<"u"){(0,lt.s)({...B,_zoneGate:Z=>Ne.run(Z)});const M="__zone_symbol__addEventListener"in se.body?"__zone_symbol__addEventListener":"addEventListener";return function ze(){var B=[];if(typeof window<"u"){var se=window;(!se.customElements||se.Element&&(!se.Element.prototype.closest||!se.Element.prototype.matches||!se.Element.prototype.remove||!se.Element.prototype.getRootNode))&&B.push(F.e(7278).then(F.t.bind(F,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||se.NodeList&&!se.NodeList.prototype.forEach||!se.fetch||!function(){try{var U=new URL("b","http://a");return U.pathname="c%20d","http://a/c%20d"===U.href&&U.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&B.push(F.e(9329).then(F.t.bind(F,7783,23)))}return Promise.all(B)}().then(()=>At(U,{exclude:["ion-tabs"],syncQueue:!0,raf:we.er,jmp:Z=>Ne.runOutsideAngular(Z),ael(Z,et,ht,Bt){Z[M](et,ht,Bt)},rel(Z,et,ht,Bt){Z.removeEventListener(et,ht,Bt)}}))}};let ba=(()=>{var B;class se{static forRoot(U={}){return{ngModule:se,providers:[{provide:we.sR,useValue:U},{provide:g.hnV,useFactory:Sa,multi:!0,deps:[we.sR,Te.qQ,g.SKi]},we.Yq,(0,we.YV)()]}}}return B=se,(0,x.A)(se,"\u0275fac",function(U){return new(U||B)}),(0,x.A)(se,"\u0275mod",g.$C({type:B})),(0,x.A)(se,"\u0275inj",g.G2t({providers:[Yi,Po],imports:[Te.MD]})),se})()},1771:(Un,Tt,F)=>{"use strict";F.d(Tt,{L2:()=>Te,wt:()=>fe,xr:()=>so,lh:()=>Pe,$x:()=>Co,OX:()=>sn,Wi:()=>Ht,h:()=>ar,w$:()=>li,gv:()=>xn,iY:()=>an,zb:()=>St,bN:()=>nn});var x=F(467),g={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},q=Object.defineProperty,Te={isDev:!!g.isDev,isBrowser:!0,isServer:!1,isTesting:!!g.isTesting},ce=g.hotModuleReplacement?window.__STENCIL_HOSTREFS__||(window.__STENCIL_HOSTREFS__=new WeakMap):new WeakMap,Ke=X=>ce.get(X),Me=(X,$)=>$ in X,Be=(X,$)=>(0,console.error)(X,$),lt=g.isTesting?["STENCIL:"]:["%cstencil","color: white;background:#4c47ff;font-weight: bold; font-size:10px; padding:2px 6px; border-radius: 5px"],ct=(...X)=>console.error(...lt,...X),Fe=(...X)=>console.warn(...lt,...X),ft=new Map,ze=new Map,oe=[],jt="s-id",sr="http://www.w3.org/1999/xlink",pt=["formAssociatedCallback","formResetCallback","formDisabledCallback","formStateRestoreCallback"],We=typeof window<"u"?window:{},ue=We.document||{head:{}},fe=We.HTMLElement||class{},Re={$flags$:0,$resourcesUrl$:"",jmp:X=>X(),raf:X=>requestAnimationFrame(X),ael:(X,$,xe,je)=>X.addEventListener($,xe,je),rel:(X,$,xe,je)=>X.removeEventListener($,xe,je),ce:(X,$)=>new CustomEvent(X,$)},St=X=>{Object.assign(Re,X)},Ot=g.shadowDom,Lt=(()=>{let X=!1;try{ue.addEventListener("e",null,Object.defineProperty({},"passive",{get(){X=!0}}))}catch{}return X})(),Yt=!!g.constructableCSS&&(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),hr=0,Qn=!1,In=[],_r=[],Xr=[],dr=(X,$)=>xe=>{X.push(xe),Qn||(Qn=!0,$&&4&Re.$flags$?Kr(pr):Re.raf(pr))},Dr=X=>{for(let $=0;$<X.length;$++)try{X[$](performance.now())}catch(xe){Be(xe)}X.length=0},vr=(X,$)=>{let xe=0,je=0;for(;xe<X.length&&(je=performance.now())<$;)try{X[xe++](je)}catch(mt){Be(mt)}xe===X.length?X.length=0:0!==xe&&X.splice(0,xe)},pr=()=>{if(g.asyncQueue&&hr++,Dr(In),g.asyncQueue){const X=2==(6&Re.$flags$)?performance.now()+14*Math.ceil(.1*hr):1/0;vr(_r,X),vr(Xr,X),_r.length>0&&(Xr.push(..._r),_r.length=0),(Qn=In.length+_r.length+Xr.length>0)?Re.raf(pr):hr=0}else Dr(_r),(Qn=In.length>0)&&Re.raf(pr)},Kr=X=>Promise.resolve(void 0).then(X),xn=dr(In,!1),nn=dr(_r,!0),sn=X=>{const $=new URL(X,Re.$resourcesUrl$);return $.origin!==We.location.origin?$.href:$.pathname},Fr={},uo=X=>"object"==(X=typeof X)||"function"===X;((X,$)=>{for(var xe in $)q(X,xe,{get:$[xe],enumerable:!0})})({},{err:()=>Vr,map:()=>Ur,ok:()=>ho,unwrap:()=>qr,unwrapErr:()=>Yr});var ho=X=>({isOk:!0,isErr:!1,value:X}),Vr=X=>({isOk:!1,isErr:!0,value:X});function Ur(X,$){if(X.isOk){const xe=$(X.value);return xe instanceof Promise?xe.then(je=>ho(je)):ho(xe)}if(X.isErr)return Vr(X.value);throw"should never get here"}var qr=X=>{if(X.isOk)return X.value;throw X.value},Yr=X=>{if(X.isErr)return X.value;throw X.value},Cr=0,ko=(X,$="")=>{if(g.profile&&performance.mark){const xe=`st:${X}:${$}:${Cr++}`;return performance.mark(xe),()=>performance.measure(`[Stencil] ${X}() <${$}>`,xe)}return()=>{}},ar=(X,$,...xe)=>{let je=null,mt=null,gt=null,Qt=!1,Rt=!1;const Jt=[],pn=Kn=>{for(let wr=0;wr<Kn.length;wr++)je=Kn[wr],Array.isArray(je)?pn(je):null!=je&&"boolean"!=typeof je&&((Qt="function"!=typeof X&&!uo(je))?je=String(je):g.isDev&&"function"!=typeof X&&void 0===je.$flags$&&ct("vNode passed as children has unexpected type.\nMake sure it's using the correct h() function.\nEmpty objects can also be the cause, look for JSX comments that became objects."),Qt&&Rt?Jt[Jt.length-1].$text$+=je:Jt.push(Qt?Or(null,je):je),Rt=Qt)};if(pn(xe),$&&(g.isDev&&"input"===X&&Pt($),g.vdomKey&&$.key&&(mt=$.key),g.slotRelocation&&$.name&&(gt=$.name),g.vdomClass)){const Kn=$.className||$.class;Kn&&($.class="object"!=typeof Kn?Kn:Object.keys(Kn).filter(wr=>Kn[wr]).join(" "))}if(g.isDev&&Jt.some(Zt)&&ct("The <Host> must be the single root component. Make sure:\n- You are NOT using hostData() and <Host> in the same component.\n- <Host> is used once, and it's the single root component of the render() function."),g.vdomFunctional&&"function"==typeof X)return X(null===$?{}:$,Jt,Nt);const Wn=Or(X,null);return Wn.$attrs$=$,Jt.length>0&&(Wn.$children$=Jt),g.vdomKey&&(Wn.$key$=mt),g.slotRelocation&&(Wn.$name$=gt),Wn},Or=(X,$)=>{const xe={$flags$:0,$tag$:X,$text$:$,$elm$:null,$children$:null};return g.vdomAttribute&&(xe.$attrs$=null),g.vdomKey&&(xe.$key$=null),g.slotRelocation&&(xe.$name$=null),xe},so={},Zt=X=>X&&X.$tag$===so,Nt={forEach:(X,$)=>X.map(cn).forEach($),map:(X,$)=>X.map(cn).map($).map(Et)},cn=X=>({vattrs:X.$attrs$,vchildren:X.$children$,vkey:X.$key$,vname:X.$name$,vtag:X.$tag$,vtext:X.$text$}),Et=X=>{if("function"==typeof X.vtag){const xe={...X.vattrs};return X.vkey&&(xe.key=X.vkey),X.vname&&(xe.name=X.vname),ar(X.vtag,xe,...X.vchildren||[])}const $=Or(X.vtag,X.vtext);return $.$attrs$=X.vattrs,$.$children$=X.vchildren,$.$key$=X.vkey,$.$name$=X.vname,$},Pt=X=>{const $=Object.keys(X),xe=$.indexOf("value");if(-1===xe)return;const je=$.indexOf("type"),mt=$.indexOf("min"),gt=$.indexOf("max"),Qt=$.indexOf("step");(xe<je||xe<mt||xe<gt||xe<Qt)&&Fe('The "value" prop of <input> should be set after "min", "max", "type" and "step"')},Nn=(X,$,xe,je,mt,gt,Qt)=>{let Rt,Jt,pn,Wn;if(1===gt.nodeType){if(Rt=gt.getAttribute("c-id"),Rt&&(Jt=Rt.split("."),(Jt[0]===Qt||"0"===Jt[0])&&(pn={$flags$:0,$hostId$:Jt[0],$nodeId$:Jt[1],$depth$:Jt[2],$index$:Jt[3],$tag$:gt.tagName.toLowerCase(),$elm$:gt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},$.push(pn),gt.removeAttribute("c-id"),X.$children$||(X.$children$=[]),X.$children$[pn.$index$]=pn,X=pn,je&&"0"===pn.$depth$&&(je[pn.$index$]=pn.$elm$))),gt.shadowRoot)for(Wn=gt.shadowRoot.childNodes.length-1;Wn>=0;Wn--)Nn(X,$,xe,je,mt,gt.shadowRoot.childNodes[Wn],Qt);for(Wn=gt.childNodes.length-1;Wn>=0;Wn--)Nn(X,$,xe,je,mt,gt.childNodes[Wn],Qt)}else if(8===gt.nodeType)Jt=gt.nodeValue.split("."),(Jt[1]===Qt||"0"===Jt[1])&&(Rt=Jt[0],pn={$flags$:0,$hostId$:Jt[1],$nodeId$:Jt[2],$depth$:Jt[3],$index$:Jt[4],$elm$:gt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Rt?(pn.$elm$=gt.nextSibling,pn.$elm$&&3===pn.$elm$.nodeType&&(pn.$text$=pn.$elm$.textContent,$.push(pn),gt.remove(),X.$children$||(X.$children$=[]),X.$children$[pn.$index$]=pn,je&&"0"===pn.$depth$&&(je[pn.$index$]=pn.$elm$))):pn.$hostId$===Qt&&("s"===Rt?(pn.$tag$="slot",gt["s-sn"]=Jt[5]?pn.$name$=Jt[5]:"",gt["s-sr"]=!0,g.shadowDom&&je&&(pn.$elm$=ue.createElement(pn.$tag$),pn.$name$&&pn.$elm$.setAttribute("name",pn.$name$),gt.parentNode.insertBefore(pn.$elm$,gt),gt.remove(),"0"===pn.$depth$&&(je[pn.$index$]=pn.$elm$)),xe.push(pn),X.$children$||(X.$children$=[]),X.$children$[pn.$index$]=pn):"r"===Rt&&(g.shadowDom&&je?gt.remove():g.slotRelocation&&(mt["s-cr"]=gt,gt["s-cn"]=!0))));else if(X&&"style"===X.$tag$){const Kn=Or(null,gt.textContent);Kn.$elm$=gt,Kn.$index$="0",X.$children$=[Kn]}},Se=(X,$)=>{if(1===X.nodeType){let xe=0;if(X.shadowRoot)for(;xe<X.shadowRoot.childNodes.length;xe++)Se(X.shadowRoot.childNodes[xe],$);for(xe=0;xe<X.childNodes.length;xe++)Se(X.childNodes[xe],$)}else if(8===X.nodeType){const xe=X.nodeValue.split(".");"o"===xe[0]&&($.set(xe[1]+"."+xe[2],X),X.nodeValue="",X["s-en"]=xe[3])}},an=X=>oe.push(X),Ht=X=>Ke(X).$modeName$,Pe=(X,$,xe)=>{const je=(X=>g.lazyLoad?Ke(X).$hostElement$:X)(X);return{emit:mt=>(g.isDev&&!je.isConnected&&Fe(`The "${$}" event was emitted, but the dispatcher node is no longer connected to the dom.`),ie(je,$,{bubbles:!!(4&xe),composed:!!(2&xe),cancelable:!!(1&xe),detail:mt}))}},ie=(X,$,xe)=>{const je=Re.ce($,xe);return X.dispatchEvent(je),je},G=new WeakMap,Ut=(X,$,xe)=>{var je;const mt=Ln($,xe),gt=ze.get(mt);if(!g.attachStyles)return mt;if(X=11===X.nodeType?X:ue,gt)if("string"==typeof gt){let Rt,Qt=G.get(X=X.head||X);if(Qt||G.set(X,Qt=new Set),!Qt.has(mt)){if(g.hydrateClientSide&&X.host&&(Rt=X.querySelector(`[sty-id="${mt}"]`)))Rt.innerHTML=gt;else{Rt=ue.createElement("style"),Rt.innerHTML=gt;const Jt=null!=(je=Re.$nonce$)?je:function fo(X){var $,xe,je;return null!=(je=null==(xe=null==($=X.head)?void 0:$.querySelector('meta[name="csp-nonce"]'))?void 0:xe.getAttribute("content"))?je:void 0}(ue);null!=Jt&&Rt.setAttribute("nonce",Jt),(g.hydrateServerSide||g.hotModuleReplacement)&&2&$.$flags$&&Rt.setAttribute("sty-id",mt),(!(1&$.$flags$)||1&$.$flags$&&"HEAD"!==X.nodeName)&&X.insertBefore(Rt,X.querySelector("link"))}4&$.$flags$&&(Rt.innerHTML+="slot-fb{display:contents}slot-fb[hidden]{display:none}"),Qt&&Qt.add(mt)}}else g.constructableCSS&&!X.adoptedStyleSheets.includes(gt)&&(X.adoptedStyleSheets=[...X.adoptedStyleSheets,gt]);return mt},Ln=(X,$)=>"sc-"+(g.mode&&$&&32&X.$flags$?X.$tagName$+"-"+$:X.$tagName$),wn=(X,$,xe,je,mt,gt)=>{if(xe!==je){let Qt=Me(X,$),Rt=$.toLowerCase();if(g.vdomClass&&"class"===$){const Jt=X.classList,pn=Io(xe),Wn=Io(je);Jt.remove(...pn.filter(Kn=>Kn&&!Wn.includes(Kn))),Jt.add(...Wn.filter(Kn=>Kn&&!pn.includes(Kn)))}else if(g.vdomStyle&&"style"===$){if(g.updatable)for(const Jt in xe)(!je||null==je[Jt])&&(!g.hydrateServerSide&&Jt.includes("-")?X.style.removeProperty(Jt):X.style[Jt]="");for(const Jt in je)(!xe||je[Jt]!==xe[Jt])&&(!g.hydrateServerSide&&Jt.includes("-")?X.style.setProperty(Jt,je[Jt]):X.style[Jt]=je[Jt])}else if(!g.vdomKey||"key"!==$)if(g.vdomRef&&"ref"===$)je&&je(X);else if(!g.vdomListener||(g.lazyLoad?Qt:X.__lookupSetter__($))||"o"!==$[0]||"n"!==$[1]){if(g.vdomPropOrAttr){const Jt=uo(je);if((Qt||Jt&&null!==je)&&!mt)try{if(X.tagName.includes("-"))X[$]=je;else{const Wn=null==je?"":je;"list"===$?Qt=!1:(null==xe||X[$]!=Wn)&&(X[$]=Wn)}}catch{}let pn=!1;g.vdomXlink&&Rt!==(Rt=Rt.replace(/^xlink\:?/,""))&&($=Rt,pn=!0),null==je||!1===je?(!1!==je||""===X.getAttribute($))&&(g.vdomXlink&&pn?X.removeAttributeNS(sr,$):X.removeAttribute($)):(!Qt||4&gt||mt)&&!Jt&&(je=!0===je?"":je,g.vdomXlink&&pn?X.setAttributeNS(sr,$,je):X.setAttribute($,je))}}else if($="-"===$[2]?$.slice(3):Me(We,Rt)?Rt.slice(2):Rt[2]+$.slice(3),xe||je){const Jt=$.endsWith(zo);$=$.replace(wo,""),xe&&Re.rel(X,$,xe,Jt),je&&Re.ael(X,$,je,Jt)}}},Sr=/\s/,Io=X=>X?X.split(Sr):[],zo="Capture",wo=new RegExp(zo+"$"),To=(X,$,xe)=>{const je=11===$.$elm$.nodeType&&$.$elm$.host?$.$elm$.host:$.$elm$,mt=X&&X.$attrs$||Fr,gt=$.$attrs$||Fr;if(g.updatable)for(const Qt of Ar(Object.keys(mt)))Qt in gt||wn(je,Qt,mt[Qt],void 0,xe,$.$flags$);for(const Qt of Ar(Object.keys(gt)))wn(je,Qt,mt[Qt],gt[Qt],xe,$.$flags$)};function Ar(X){return X.includes("ref")?[...X.filter($=>"ref"!==$),"ref"]:X}var No,po,Jn,Uo=!1,tt=!1,dn=!1,Hn=!1,Ir=(X,$,xe,je)=>{var mt;const gt=$.$children$[xe];let Rt,Jt,pn,Qt=0;if(g.slotRelocation&&!Uo&&(dn=!0,"slot"===gt.$tag$&&(No&&je.classList.add(No+"-s"),gt.$flags$|=gt.$children$?2:1)),g.isDev&&gt.$elm$&&ct(`The JSX ${null!==gt.$text$?`"${gt.$text$}" text`:`"${gt.$tag$}" element`} node should not be shared within the same renderer. The renderer caches element lookups in order to improve performance. However, a side effect from this is that the exact same JSX node should not be reused. For more information please see https://stenciljs.com/docs/templating-jsx#avoid-shared-jsx-nodes`),g.vdomText&&null!==gt.$text$)Rt=gt.$elm$=ue.createTextNode(gt.$text$);else if(g.slotRelocation&&1&gt.$flags$)Rt=gt.$elm$=g.isDebug||g.hydrateServerSide?xr(gt):ue.createTextNode("");else{if(g.svg&&!Hn&&(Hn="svg"===gt.$tag$),Rt=gt.$elm$=g.svg?ue.createElementNS(Hn?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!Uo&&g.slotRelocation&&2&gt.$flags$?"slot-fb":gt.$tag$):ue.createElement(!Uo&&g.slotRelocation&&2&gt.$flags$?"slot-fb":gt.$tag$),g.svg&&Hn&&"foreignObject"===gt.$tag$&&(Hn=!1),g.vdomAttribute&&To(null,gt,Hn),!!Rt.getRootNode().querySelector("body")&&g.scoped&&(X=>null!=X)(No)&&Rt["s-si"]!==No&&Rt.classList.add(Rt["s-si"]=No),g.scoped&&Er(Rt,je),gt.$children$)for(Qt=0;Qt<gt.$children$.length;++Qt)Jt=Ir(X,gt,Qt,Rt),Jt&&Rt.appendChild(Jt);g.svg&&("svg"===gt.$tag$?Hn=!1:"foreignObject"===Rt.tagName&&(Hn=!0))}return Rt["s-hn"]=Jn,g.slotRelocation&&3&gt.$flags$&&(Rt["s-sr"]=!0,Rt["s-cr"]=po,Rt["s-sn"]=gt.$name$||"",Rt["s-rf"]=null==(mt=gt.$attrs$)?void 0:mt.ref,pn=X&&X.$children$&&X.$children$[xe],pn&&pn.$tag$===gt.$tag$&&X.$elm$&&(g.experimentalSlotFixes?eo(X.$elm$):Oe(X.$elm$,!1))),Rt},eo=X=>{Re.$flags$|=1;const $=X.closest(Jn.toLowerCase());if(null!=$){const xe=Array.from($.childNodes).find(mt=>mt["s-cr"]),je=Array.from(X.childNodes);for(const mt of xe?je.reverse():je)null!=mt["s-sh"]&&(Cn($,mt,null!=xe?xe:null),mt["s-sh"]=void 0,dn=!0)}Re.$flags$&=-2},Oe=(X,$)=>{Re.$flags$|=1;const xe=Array.from(X.childNodes);if(X["s-sr"]&&g.experimentalSlotFixes){let je=X;for(;je=je.nextSibling;)je&&je["s-sn"]===X["s-sn"]&&je["s-sh"]===Jn&&xe.push(je)}for(let je=xe.length-1;je>=0;je--){const mt=xe[je];mt["s-hn"]!==Jn&&mt["s-ol"]&&(Cn(qe(mt),mt,De(mt)),mt["s-ol"].remove(),mt["s-ol"]=void 0,mt["s-sh"]=void 0,dn=!0),$&&Oe(mt,$)}Re.$flags$&=-2},ot=(X,$,xe,je,mt,gt)=>{let Rt,Qt=g.slotRelocation&&X["s-cr"]&&X["s-cr"].parentNode||X;for(g.shadowDom&&Qt.shadowRoot&&Qt.tagName===Jn&&(Qt=Qt.shadowRoot);mt<=gt;++mt)je[mt]&&(Rt=Ir(null,xe,mt,X),Rt&&(je[mt].$elm$=Rt,Cn(Qt,Rt,g.slotRelocation?De($):$)))},Ft=(X,$,xe)=>{for(let je=$;je<=xe;++je){const mt=X[je];if(mt){const gt=mt.$elm$;An(mt),gt&&(g.slotRelocation&&(tt=!0,gt["s-ol"]?gt["s-ol"].remove():Oe(gt,!0)),gt.remove())}}},Ue=(X,$,xe=!1)=>!(X.$tag$!==$.$tag$||(g.slotRelocation&&"slot"===X.$tag$?"$nodeId$"in X&&xe&&8!==X.$elm$.nodeType||X.$name$!==$.$name$:g.vdomKey&&!xe&&X.$key$!==$.$key$)),De=X=>X&&X["s-ol"]||X,qe=X=>(X["s-ol"]?X["s-ol"]:X).parentNode,st=(X,$,xe=!1)=>{const je=$.$elm$=X.$elm$,mt=X.$children$,gt=$.$children$,Qt=$.$tag$,Rt=$.$text$;let Jt;g.vdomText&&null!==Rt?g.vdomText&&g.slotRelocation&&(Jt=je["s-cr"])?Jt.parentNode.textContent=Rt:g.vdomText&&X.$text$!==Rt&&(je.data=Rt):(g.svg&&(Hn="svg"===Qt||"foreignObject"!==Qt&&Hn),(g.vdomAttribute||g.reflect)&&(g.slot&&"slot"===Qt&&!Uo?g.experimentalSlotFixes&&X.$name$!==$.$name$&&($.$elm$["s-sn"]=$.$name$||"",eo($.$elm$.parentElement)):To(X,$,Hn)),g.updatable&&null!==mt&&null!==gt?((X,$,xe,je,mt=!1)=>{let Jo,vo,gt=0,Qt=0,Rt=0,Jt=0,pn=$.length-1,Wn=$[0],Kn=$[pn],wr=je.length-1,$r=je[0],Ho=je[wr];for(;gt<=pn&&Qt<=wr;)if(null==Wn)Wn=$[++gt];else if(null==Kn)Kn=$[--pn];else if(null==$r)$r=je[++Qt];else if(null==Ho)Ho=je[--wr];else if(Ue(Wn,$r,mt))st(Wn,$r,mt),Wn=$[++gt],$r=je[++Qt];else if(Ue(Kn,Ho,mt))st(Kn,Ho,mt),Kn=$[--pn],Ho=je[--wr];else if(Ue(Wn,Ho,mt))g.slotRelocation&&("slot"===Wn.$tag$||"slot"===Ho.$tag$)&&Oe(Wn.$elm$.parentNode,!1),st(Wn,Ho,mt),Cn(X,Wn.$elm$,Kn.$elm$.nextSibling),Wn=$[++gt],Ho=je[--wr];else if(Ue(Kn,$r,mt))g.slotRelocation&&("slot"===Wn.$tag$||"slot"===Ho.$tag$)&&Oe(Kn.$elm$.parentNode,!1),st(Kn,$r,mt),Cn(X,Kn.$elm$,Wn.$elm$),Kn=$[--pn],$r=je[++Qt];else{if(Rt=-1,g.vdomKey)for(Jt=gt;Jt<=pn;++Jt)if($[Jt]&&null!==$[Jt].$key$&&$[Jt].$key$===$r.$key$){Rt=Jt;break}g.vdomKey&&Rt>=0?(vo=$[Rt],vo.$tag$!==$r.$tag$?Jo=Ir($&&$[Qt],xe,Rt,X):(st(vo,$r,mt),$[Rt]=void 0,Jo=vo.$elm$),$r=je[++Qt]):(Jo=Ir($&&$[Qt],xe,Qt,X),$r=je[++Qt]),Jo&&(g.slotRelocation?Cn(qe(Wn.$elm$),Jo,De(Wn.$elm$)):Cn(Wn.$elm$.parentNode,Jo,Wn.$elm$))}gt>pn?ot(X,null==je[wr+1]?null:je[wr+1].$elm$,xe,je,Qt,wr):g.updatable&&Qt>wr&&Ft($,gt,pn)})(je,mt,$,gt,xe):null!==gt?(g.updatable&&g.vdomText&&null!==X.$text$&&(je.textContent=""),ot(je,null,$,gt,0,gt.length-1)):!xe&&g.updatable&&null!==mt&&Ft(mt,0,mt.length-1),g.svg&&Hn&&"svg"===Qt&&(Hn=!1))},Ct=X=>{const $=X.childNodes;for(const xe of $)if(1===xe.nodeType){if(xe["s-sr"]){const je=xe["s-sn"];xe.hidden=!1;for(const mt of $)if(mt!==xe)if(mt["s-hn"]!==xe["s-hn"]||""!==je){if(1===mt.nodeType&&(je===mt.getAttribute("slot")||je===mt["s-sn"])||3===mt.nodeType&&je===mt["s-sn"]){xe.hidden=!0;break}}else if(1===mt.nodeType||3===mt.nodeType&&""!==mt.textContent.trim()){xe.hidden=!0;break}}Ct(xe)}},Vt=[],mn=X=>{let $,xe,je;for(const mt of X.childNodes){if(mt["s-sr"]&&($=mt["s-cr"])&&$.parentNode){xe=$.parentNode.childNodes;const gt=mt["s-sn"];for(je=xe.length-1;je>=0;je--)if($=xe[je],!($["s-cn"]||$["s-nr"]||$["s-hn"]===mt["s-hn"]||g.experimentalSlotFixes&&$["s-sh"]&&$["s-sh"]===mt["s-hn"]))if(Pn($,gt)){let Qt=Vt.find(Rt=>Rt.$nodeToRelocate$===$);tt=!0,$["s-sn"]=$["s-sn"]||gt,Qt?(Qt.$nodeToRelocate$["s-sh"]=mt["s-hn"],Qt.$slotRefNode$=mt):($["s-sh"]=mt["s-hn"],Vt.push({$slotRefNode$:mt,$nodeToRelocate$:$})),$["s-sr"]&&Vt.map(Rt=>{Pn(Rt.$nodeToRelocate$,$["s-sn"])&&(Qt=Vt.find(Jt=>Jt.$nodeToRelocate$===$),Qt&&!Rt.$slotRefNode$&&(Rt.$slotRefNode$=Qt.$slotRefNode$))})}else Vt.some(Qt=>Qt.$nodeToRelocate$===$)||Vt.push({$nodeToRelocate$:$})}1===mt.nodeType&&mn(mt)}},Pn=(X,$)=>1===X.nodeType?null===X.getAttribute("slot")&&""===$||X.getAttribute("slot")===$:X["s-sn"]===$||""===$,An=X=>{g.vdomRef&&(X.$attrs$&&X.$attrs$.ref&&X.$attrs$.ref(null),X.$children$&&X.$children$.map(An))},Cn=(X,$,xe)=>{const je=null==X?void 0:X.insertBefore($,xe);return g.scoped&&Er($,X),je},nr=X=>{const $=[];return X&&$.push(...X["s-scs"]||[],X["s-si"],X["s-sc"],...nr(X.parentElement)),$},Er=(X,$,xe=!1)=>{var je;if(X&&$&&1===X.nodeType){const mt=new Set(nr($).filter(Boolean));if(mt.size&&(null==(je=X.classList)||je.add(...X["s-scs"]=[...mt]),X["s-ol"]||xe))for(const gt of Array.from(X.childNodes))Er(gt,X,!0)}},gr=(X,$,xe=!1)=>{var je,mt,gt,Qt,Rt;const Jt=X.$hostElement$,pn=X.$cmpMeta$,Wn=X.$vnode$||Or(null,null),Kn=Zt($)?$:ar(null,null,$);if(Jn=Jt.tagName,g.isDev&&Array.isArray($)&&$.some(Zt))throw new Error(`The <Host> must be the single root component.\nLooks like the render() function of "${Jn.toLowerCase()}" is returning an array that contains the <Host>.\n\nThe render() function should look like this instead:\n\nrender() {\n  // Do not return an array\n  return (\n    <Host>{content}</Host>\n  );\n}\n  `);if(g.reflect&&pn.$attrsToReflect$&&(Kn.$attrs$=Kn.$attrs$||{},pn.$attrsToReflect$.map(([wr,$r])=>Kn.$attrs$[$r]=Jt[wr])),xe&&Kn.$attrs$)for(const wr of Object.keys(Kn.$attrs$))Jt.hasAttribute(wr)&&!["key","ref","style","class"].includes(wr)&&(Kn.$attrs$[wr]=Jt[wr]);if(Kn.$tag$=null,Kn.$flags$|=4,X.$vnode$=Kn,Kn.$elm$=Wn.$elm$=g.shadowDom&&Jt.shadowRoot||Jt,(g.scoped||g.shadowDom)&&(No=Jt["s-sc"]),Uo=Ot&&!!(1&pn.$flags$),g.slotRelocation&&(po=Jt["s-cr"],tt=!1),st(Wn,Kn,xe),g.slotRelocation){if(Re.$flags$|=1,dn){mn(Kn.$elm$);for(const wr of Vt){const $r=wr.$nodeToRelocate$;if(!$r["s-ol"]){const Ho=g.isDebug||g.hydrateServerSide?no($r):ue.createTextNode("");Ho["s-nr"]=$r,Cn($r.parentNode,$r["s-ol"]=Ho,$r)}}for(const wr of Vt){const $r=wr.$nodeToRelocate$,Ho=wr.$slotRefNode$;if(Ho){const Jo=Ho.parentNode;let vo=Ho.nextSibling;if(!g.experimentalSlotFixes||vo&&1===vo.nodeType){let So=null==(je=$r["s-ol"])?void 0:je.previousSibling;for(;So;){let lo=null!=(mt=So["s-nr"])?mt:null;if(lo&&lo["s-sn"]===$r["s-sn"]&&Jo===lo.parentNode){for(lo=lo.nextSibling;lo===$r||null!=lo&&lo["s-sr"];)lo=null==lo?void 0:lo.nextSibling;if(!lo||!lo["s-nr"]){vo=lo;break}}So=So.previousSibling}}(!vo&&Jo!==$r.parentNode||$r.nextSibling!==vo)&&$r!==vo&&(!g.experimentalSlotFixes&&!$r["s-hn"]&&$r["s-ol"]&&($r["s-hn"]=$r["s-ol"].parentNode.nodeName),Cn(Jo,$r,vo),1===$r.nodeType&&($r.hidden=null!=(gt=$r["s-ih"])&&gt)),$r&&"function"==typeof Ho["s-rf"]&&Ho["s-rf"]($r)}else 1===$r.nodeType&&(xe&&($r["s-ih"]=null!=(Qt=$r.hidden)&&Qt),$r.hidden=!0)}}tt&&Ct(Kn.$elm$),Re.$flags$&=-2,Vt.length=0}if(g.experimentalScopedSlotChanges&&2&pn.$flags$)for(const wr of Kn.$elm$.childNodes)wr["s-hn"]!==Jn&&!wr["s-sh"]&&(xe&&null==wr["s-ih"]&&(wr["s-ih"]=null!=(Rt=wr.hidden)&&Rt),wr.hidden=!0);po=void 0},xr=X=>ue.createComment(`<slot${X.$name$?' name="'+X.$name$+'"':""}> (host=${Jn.toLowerCase()})`),no=X=>ue.createComment("org-location for "+(X.localName?`<${X.localName}> (host=${X["s-hn"]})`:`[${X.textContent}]`)),Tr=(X,$)=>{g.asyncLoading&&$&&!X.$onRenderResolve$&&$["s-p"]&&$["s-p"].push(new Promise(xe=>X.$onRenderResolve$=xe))},go=(X,$)=>{if(g.taskQueue&&g.updatable&&(X.$flags$|=16),g.asyncLoading&&4&X.$flags$)return void(X.$flags$|=512);Tr(X,X.$ancestorComponent$);const xe=()=>br(X,$);return g.taskQueue?nn(xe):xe()},br=(X,$)=>{const xe=X.$hostElement$,je=ko("scheduleUpdate",X.$cmpMeta$.$tagName$),mt=g.lazyLoad?X.$lazyInstance$:xe;if(!mt)throw new Error(`Can't render component <${xe.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let gt;return $?(g.lazyLoad&&g.hostListener&&(X.$flags$|=256,X.$queuedListeners$&&(X.$queuedListeners$.map(([Qt,Rt])=>Ri(mt,Qt,Rt)),X.$queuedListeners$=void 0)),Po(xe,"componentWillLoad"),g.cmpWillLoad&&(gt=Ri(mt,"componentWillLoad"))):(Po(xe,"componentWillUpdate"),g.cmpWillUpdate&&(gt=Ri(mt,"componentWillUpdate"))),Po(xe,"componentWillRender"),g.cmpWillRender&&(gt=Wr(gt,()=>Ri(mt,"componentWillRender"))),je(),Wr(gt,()=>Mi(X,mt,$))},Wr=(X,$)=>Ki(X)?X.then($).catch(xe=>{console.error(xe),$()}):$(),Ki=X=>X instanceof Promise||X&&X.then&&"function"==typeof X.then,Mi=function(){var X=(0,x.A)(function*($,xe,je){var mt;const gt=$.$hostElement$,Qt=ko("update",$.$cmpMeta$.$tagName$),Rt=gt["s-rc"];g.style&&je&&(X=>{const $=X.$cmpMeta$,xe=X.$hostElement$,je=$.$flags$,mt=ko("attachStyles",$.$tagName$),gt=Ut(g.shadowDom&&Ot&&xe.shadowRoot?xe.shadowRoot:xe.getRootNode(),$,X.$modeName$);(g.shadowDom||g.scoped)&&g.cssAnnotations&&10&je&&2&je&&(xe["s-sc"]=gt,xe.classList.add(gt+"-h"),g.scoped&&2&je&&xe.classList.add(gt+"-s")),mt()})($);const Jt=ko("render",$.$cmpMeta$.$tagName$);if(g.isDev&&($.$flags$|=1024),g.hydrateServerSide?yield ja($,xe,gt,je):ja($,xe,gt,je),g.isDev&&($.$renderCount$=void 0===$.$renderCount$?1:$.$renderCount$+1,$.$flags$&=-1025),g.hydrateServerSide)try{Sa(gt),je&&(1&$.$cmpMeta$.$flags$?gt["s-en"]="":2&$.$cmpMeta$.$flags$&&(gt["s-en"]="c"))}catch(pn){Be(pn,gt)}if(g.asyncLoading&&Rt&&(Rt.map(pn=>pn()),gt["s-rc"]=void 0),Jt(),Qt(),g.asyncLoading){const pn=null!=(mt=gt["s-p"])?mt:[],Wn=()=>bi($);0===pn.length?Wn():(Promise.all(pn).then(Wn),$.$flags$|=4,pn.length=0)}else bi($)});return function(xe,je,mt){return X.apply(this,arguments)}}(),ja=(X,$,xe,je)=>{const mt=!!g.allRenderFn,gt=!!g.lazyLoad,Qt=!!g.taskQueue,Rt=!!g.updatable;try{if($=(mt||$.render)&&$.render(),Rt&&Qt&&(X.$flags$&=-17),(Rt||gt)&&(X.$flags$|=2),g.hasRenderFn||g.reflect)if(g.vdomRender||g.reflect){if(g.hydrateServerSide)return Promise.resolve($).then(Jt=>gr(X,Jt,je));gr(X,$,je)}else 1&X.$cmpMeta$.$flags$?xe.shadowRoot.textContent=$:xe.textContent=$}catch(Jt){Be(Jt,X.$hostElement$)}return null},bi=X=>{const $=X.$cmpMeta$.$tagName$,xe=X.$hostElement$,je=ko("postUpdate",$),mt=g.lazyLoad?X.$lazyInstance$:xe,gt=X.$ancestorComponent$;g.cmpDidRender&&(g.isDev&&(X.$flags$|=1024),Ri(mt,"componentDidRender"),g.isDev&&(X.$flags$&=-1025)),Po(xe,"componentDidRender"),64&X.$flags$?(g.cmpDidUpdate&&(g.isDev&&(X.$flags$|=1024),Ri(mt,"componentDidUpdate"),g.isDev&&(X.$flags$&=-1025)),Po(xe,"componentDidUpdate"),je()):(X.$flags$|=64,g.asyncLoading&&g.cssAnnotations&&za(xe),g.cmpDidLoad&&(g.isDev&&(X.$flags$|=2048),Ri(mt,"componentDidLoad"),g.isDev&&(X.$flags$&=-2049)),Po(xe,"componentDidLoad"),je(),g.asyncLoading&&(X.$onReadyResolve$(xe),gt||Yi($))),g.method&&g.lazyLoad&&X.$onInstanceResolve$(xe),g.asyncLoading&&(X.$onRenderResolve$&&(X.$onRenderResolve$(),X.$onRenderResolve$=void 0),512&X.$flags$&&Kr(()=>go(X,!1)),X.$flags$&=-517)},Co=X=>{if(g.updatable&&(Te.isBrowser||Te.isTesting)){const $=Ke(X),xe=$.$hostElement$.isConnected;return xe&&2==(18&$.$flags$)&&go($,!1),xe}return!1},Yi=X=>{g.cssAnnotations&&za(ue.documentElement),g.asyncQueue&&(Re.$flags$|=2),Kr(()=>ie(We,"appload",{detail:{namespace:"app"}})),g.profile&&performance.measure&&performance.measure(`[Stencil] app initial load (by ${X})`,"st:app:start")},Ri=(X,$,xe)=>{if(X&&X[$])try{return X[$](xe)}catch(je){Be(je)}},Po=(X,$)=>{g.lifecycleDOMEvents&&ie(X,"stencil_"+$,{bubbles:!0,composed:!0,detail:{namespace:"app"}})},za=X=>{var $,xe;return g.hydratedClass?X.classList.add(null!=($=g.hydratedSelectorName)?$:"hydrated"):g.hydratedAttribute?X.setAttribute(null!=(xe=g.hydratedSelectorName)?xe:"hydrated",""):void 0},Sa=X=>{const $=X.children;if(null!=$)for(let xe=0,je=$.length;xe<je;xe++){const mt=$[xe];"function"==typeof mt.connectedCallback&&mt.connectedCallback(),Sa(mt)}},ba=(X,$,xe)=>{var je,mt;const gt=X.prototype;if(g.formAssociated&&64&$.$flags$&&1&xe&&pt.forEach(Qt=>Object.defineProperty(gt,Qt,{value(...Rt){const Jt=Ke(this),Wn=g.lazyLoad?Jt.$lazyInstance$:g.lazyLoad?Jt.$hostElement$:this;if(Wn){const Kn=Wn[Qt];"function"==typeof Kn&&Kn.call(Wn,...Rt)}else Jt.$onReadyPromise$.then(Kn=>{const wr=Kn[Qt];"function"==typeof wr&&wr.call(Kn,...Rt)})}})),g.member&&$.$members$||g.watchCallback&&($.$watchers$||X.watchers)){g.watchCallback&&X.watchers&&!$.$watchers$&&($.$watchers$=X.watchers);const Qt=Object.entries(null!=(je=$.$members$)?je:{});if(Qt.map(([Rt,[Jt]])=>{(g.prop||g.state)&&(31&Jt||(!g.lazyLoad||2&xe)&&32&Jt)?Object.defineProperty(gt,Rt,{get(){return((X,$)=>Ke(this).$instanceValues$.get($))(0,Rt)},set(pn){if(g.isDev){const Wn=Ke(this);!(1&xe)&&0===(Wn&&8&Wn.$flags$)&&31&Jt&&!(1024&Jt)&&Fe(`@Prop() "${Rt}" on <${$.$tagName$}> is immutable but was modified from within the component.\nMore information: https://stenciljs.com/docs/properties#prop-mutability`)}((X,$,xe,je)=>{const mt=Ke(X);if(g.lazyLoad&&!mt)throw new Error(`Couldn't find host element for "${je.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const gt=g.lazyLoad?mt.$hostElement$:X,Qt=mt.$instanceValues$.get($),Rt=mt.$flags$,Jt=g.lazyLoad?mt.$lazyInstance$:gt;xe=((X,$)=>null==X||uo(X)?X:g.propBoolean&&4&$?"false"!==X&&(""===X||!!X):g.propNumber&&2&$?parseFloat(X):g.propString&&1&$?String(X):X)(xe,je.$members$[$][0]);const pn=Number.isNaN(Qt)&&Number.isNaN(xe);if((!g.lazyLoad||!(8&Rt)||void 0===Qt)&&xe!==Qt&&!pn&&(mt.$instanceValues$.set($,xe),g.isDev&&(1024&mt.$flags$?Fe(`The state/prop "${$}" changed during rendering. This can potentially lead to infinite-loops and other bugs.`,"\nElement",gt,"\nNew value",xe,"\nOld value",Qt):2048&mt.$flags$&&Fe(`The state/prop "${$}" changed during "componentDidLoad()", this triggers extra re-renders, try to setup on "componentWillLoad()"`,"\nElement",gt,"\nNew value",xe,"\nOld value",Qt)),!g.lazyLoad||Jt)){if(g.watchCallback&&je.$watchers$&&128&Rt){const Kn=je.$watchers$[$];Kn&&Kn.map(wr=>{try{Jt[wr](xe,Qt,$)}catch($r){Be($r,gt)}})}if(g.updatable&&2==(18&Rt)){if(g.cmpShouldUpdate&&Jt.componentShouldUpdate&&!1===Jt.componentShouldUpdate(xe,Qt,$))return;go(mt,!1)}}})(this,Rt,pn,$)},configurable:!0,enumerable:!0}):g.lazyLoad&&g.method&&1&xe&&64&Jt&&Object.defineProperty(gt,Rt,{value(...pn){var Wn;const Kn=Ke(this);return null==(Wn=null==Kn?void 0:Kn.$onInstancePromise$)?void 0:Wn.then(()=>{var wr;return null==(wr=Kn.$lazyInstance$)?void 0:wr[Rt](...pn)})}})}),g.observeAttribute&&(!g.lazyLoad||1&xe)){const Rt=new Map;gt.attributeChangedCallback=function(Jt,pn,Wn){Re.jmp(()=>{var Kn;const wr=Rt.get(Jt);if(this.hasOwnProperty(wr))Wn=this[wr],delete this[wr];else{if(gt.hasOwnProperty(wr)&&"number"==typeof this[wr]&&this[wr]==Wn)return;if(null==wr){const $r=Ke(this),Ho=null==$r?void 0:$r.$flags$;if(Ho&&!(8&Ho)&&128&Ho&&Wn!==pn){const vo=g.lazyLoad?$r.$lazyInstance$:g.lazyLoad?$r.$hostElement$:this,So=null==(Kn=$.$watchers$)?void 0:Kn[Jt];null==So||So.forEach(lo=>{null!=vo[lo]&&vo[lo].call(vo,Wn,pn,Jt)})}return}}this[wr]=(null!==Wn||"boolean"!=typeof this[wr])&&Wn})},X.observedAttributes=Array.from(new Set([...Object.keys(null!=(mt=$.$watchers$)?mt:{}),...Qt.filter(([Jt,pn])=>15&pn[0]).map(([Jt,pn])=>{var Wn;const Kn=pn[1]||Jt;return Rt.set(Kn,Jt),g.reflect&&512&pn[0]&&(null==(Wn=$.$attrsToReflect$)||Wn.push([Jt,Kn])),Kn})]))}}return X},B=function(){var X=(0,x.A)(function*($,xe,je,mt){let gt;if(!(32&xe.$flags$)){if(xe.$flags$|=32,(g.lazyLoad||g.hydrateClientSide)&&je.$lazyBundleId$){const pn=((X,$,xe)=>{const je=X.$tagName$.replace(/-/g,"_"),mt=X.$lazyBundleId$;if(g.isDev&&"string"!=typeof mt)return void ct(`Trying to lazily load component <${X.$tagName$}> with style mode "${$.$modeName$}", but it does not exist.`);if(!mt)return;const gt=!g.hotModuleReplacement&&ft.get(mt);return gt?gt[je]:F(4140)(`./${mt}.entry.js${g.hotModuleReplacement&&xe?"?s-hmr="+xe:""}`).then(Qt=>(g.hotModuleReplacement||ft.set(mt,Qt),Qt[je]),Be)})(je,xe,mt);if(pn&&"then"in pn){const Kn=((X,$)=>g.profile&&performance.mark?(0===performance.getEntriesByName(X,"mark").length&&performance.mark(X),()=>{0===performance.getEntriesByName($,"measure").length&&performance.measure($,X)}):()=>{})(`st:load:${je.$tagName$}:${xe.$modeName$}`,`[Stencil] Load module for <${je.$tagName$}>`);gt=yield pn,Kn()}else gt=pn;if(!gt)throw new Error(`Constructor for "${je.$tagName$}#${xe.$modeName$}" was not found`);g.member&&!gt.isProxied&&(g.watchCallback&&(je.$watchers$=gt.watchers),ba(gt,je,2),gt.isProxied=!0);const Wn=ko("createInstance",je.$tagName$);g.member&&(xe.$flags$|=8);try{new gt(xe)}catch(Kn){Be(Kn)}g.member&&(xe.$flags$&=-9),g.watchCallback&&(xe.$flags$|=128),Wn(),se(xe.$lazyInstance$)}else gt=$.constructor,customElements.whenDefined($.localName).then(()=>xe.$flags$|=128);if(g.style&&gt&&gt.style){let pn;"string"==typeof gt.style?pn=gt.style:g.mode&&"string"!=typeof gt.style&&(xe.$modeName$=(X=>oe.map($=>$(X)).find($=>!!$))($),xe.$modeName$&&(pn=gt.style[xe.$modeName$]),g.hydrateServerSide&&xe.$modeName$&&$.setAttribute("s-mode",xe.$modeName$));const Wn=Ln(je,xe.$modeName$);if(!ze.has(Wn)){const Kn=ko("registerStyles",je.$tagName$);!g.hydrateServerSide&&g.shadowDom&&g.shadowDomShim&&8&je.$flags$&&(pn=yield F.e(3687).then(F.bind(F,3687)).then(wr=>wr.scopeCss(pn,Wn))),((X,$,xe)=>{let je=ze.get(X);Yt&&xe?(je=je||new CSSStyleSheet,"string"==typeof je?je=$:je.replaceSync($)):je=$,ze.set(X,je)})(Wn,pn,!!(1&je.$flags$)),Kn()}}}const Qt=xe.$ancestorComponent$,Rt=()=>go(xe,!0);g.asyncLoading&&Qt&&Qt["s-rc"]?Qt["s-rc"].push(Rt):Rt()});return function(xe,je,mt,gt){return X.apply(this,arguments)}}(),se=X=>{g.lazyLoad&&g.connectedCallback&&Ri(X,"connectedCallback")},U=X=>{const $=X["s-cr"]=ue.createComment(g.isDebug?`content-ref (host=${X.localName})`:"");$["s-cn"]=!0,Cn(X,$,X.firstChild)},M=X=>{g.lazyLoad&&g.disconnectedCallback&&Ri(X,"disconnectedCallback"),g.cmpDidUnload&&Ri(X,"componentDidUnload")},Z=function(){var X=(0,x.A)(function*($){if(!(1&Re.$flags$)){const xe=Ke($);g.hostListener&&xe.$rmListeners$&&(xe.$rmListeners$.map(je=>je()),xe.$rmListeners$=void 0),g.lazyLoad?null!=xe&&xe.$lazyInstance$?M(xe.$lazyInstance$):null!=xe&&xe.$onReadyPromise$&&xe.$onReadyPromise$.then(()=>M(xe.$lazyInstance$)):M($)}});return function(xe){return X.apply(this,arguments)}}(),ht=X=>{const $=X.cloneNode;X.cloneNode=function(xe){const je=this,mt=!!g.shadowDom&&je.shadowRoot&&Ot,gt=$.call(je,!!mt&&xe);if(g.slot&&!mt&&xe){let Rt,Jt,Qt=0;const pn=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;Qt<je.childNodes.length;Qt++)Rt=je.childNodes[Qt]["s-nr"],Jt=pn.every(Wn=>!je.childNodes[Qt][Wn]),Rt&&(g.appendChildSlotFix&&gt.__appendChild?gt.__appendChild(Rt.cloneNode(!0)):gt.appendChild(Rt.cloneNode(!0))),Jt&&gt.appendChild(je.childNodes[Qt].cloneNode(!0))}return gt}},Bt=X=>{X.__appendChild=X.appendChild,X.appendChild=function($){const xe=$["s-sn"]=Fo($),je=Go(this.childNodes,xe,this.tagName);if(je){const mt=qo(je,xe),gt=mt[mt.length-1],Qt=Cn(gt.parentNode,$,gt.nextSibling);return Ct(this),Qt}return this.__appendChild($)}},Mt=X=>{X.__removeChild=X.removeChild,X.removeChild=function($){if($&&typeof $["s-sn"]<"u"){const xe=Go(this.childNodes,$["s-sn"],this.tagName);if(xe){const mt=qo(xe,$["s-sn"]).find(gt=>gt===$);if(mt)return mt.remove(),void Ct(this)}}return this.__removeChild($)}},$t=X=>{const $=X.prepend;X.prepend=function(...xe){xe.forEach(je=>{"string"==typeof je&&(je=this.ownerDocument.createTextNode(je));const mt=je["s-sn"]=Fo(je),gt=Go(this.childNodes,mt,this.tagName);if(gt){const Qt=document.createTextNode("");Qt["s-nr"]=je,gt["s-cr"].parentNode.__appendChild(Qt),je["s-ol"]=Qt;const Jt=qo(gt,mt)[0];return Cn(Jt.parentNode,je,Jt.nextSibling)}return 1===je.nodeType&&je.getAttribute("slot")&&(je.hidden=!0),$.call(this,je)})}},Wt=X=>{X.append=function(...$){$.forEach(xe=>{"string"==typeof xe&&(xe=this.ownerDocument.createTextNode(xe)),this.appendChild(xe)})}},Dn=X=>{const $=X.insertAdjacentHTML;X.insertAdjacentHTML=function(xe,je){if("afterbegin"!==xe&&"beforeend"!==xe)return $.call(this,xe,je);const mt=this.ownerDocument.createElement("_");let gt;if(mt.innerHTML=je,"afterbegin"===xe)for(;gt=mt.firstChild;)this.prepend(gt);else if("beforeend"===xe)for(;gt=mt.firstChild;)this.append(gt)}},Bn=X=>{X.insertAdjacentText=function($,xe){this.insertAdjacentHTML($,xe)}},ir=X=>{const $=X.insertAdjacentElement;X.insertAdjacentElement=function(xe,je){return"afterbegin"!==xe&&"beforeend"!==xe?$.call(this,xe,je):"afterbegin"===xe?(this.prepend(je),je):("beforeend"===xe&&this.append(je),je)}},mr=X=>{const $=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(X,"__textContent",$),Object.defineProperty(X,"textContent",g.experimentalScopedSlotChanges?{get(){return" "+Br(this.childNodes).map(mt=>{var gt,Qt;const Rt=[];let Jt=mt.nextSibling;for(;Jt&&Jt["s-sn"]===mt["s-sn"];)(3===Jt.nodeType||1===Jt.nodeType)&&Rt.push(null!=(Qt=null==(gt=Jt.textContent)?void 0:gt.trim())?Qt:""),Jt=Jt.nextSibling;return Rt.filter(pn=>""!==pn).join(" ")}).filter(mt=>""!==mt).join(" ")+" "},set(xe){Br(this.childNodes).forEach(mt=>{let gt=mt.nextSibling;for(;gt&&gt["s-sn"]===mt["s-sn"];){const Qt=gt;gt=gt.nextSibling,Qt.remove()}if(""===mt["s-sn"]){const Qt=this.ownerDocument.createTextNode(xe);Qt["s-sn"]="",Cn(mt.parentElement,Qt,mt.nextSibling)}else mt.remove()})}}:{get(){var xe;const je=Go(this.childNodes,"",this.tagName);return 3===(null==(xe=null==je?void 0:je.nextSibling)?void 0:xe.nodeType)?je.nextSibling.textContent:je?je.textContent:this.__textContent},set(xe){var je;const mt=Go(this.childNodes,"",this.tagName);if(3===(null==(je=null==mt?void 0:mt.nextSibling)?void 0:je.nodeType))mt.nextSibling.textContent=xe;else if(mt)mt.textContent=xe;else{this.__textContent=xe;const gt=this["s-cr"];gt&&Cn(this,gt,this.firstChild)}}})},Pr=(X,$)=>{class xe extends Array{item(mt){return this[mt]}}if(8&$.$flags$){const je=X.__lookupGetter__("childNodes");Object.defineProperty(X,"children",{get(){return this.childNodes.map(mt=>1===mt.nodeType)}}),Object.defineProperty(X,"childElementCount",{get:()=>X.children.length}),Object.defineProperty(X,"childNodes",{get(){const mt=je.call(this);if(!(1&Re.$flags$)&&2&Ke(this).$flags$){const gt=new xe;for(let Qt=0;Qt<mt.length;Qt++){const Rt=mt[Qt]["s-nr"];Rt&&gt.push(Rt)}return gt}return xe.from(mt)}})}},Br=X=>{const $=[];for(const xe of Array.from(X))xe["s-sr"]&&$.push(xe),$.push(...Br(xe.childNodes));return $},Fo=X=>X["s-sn"]||1===X.nodeType&&X.getAttribute("slot")||"",Go=(X,$,xe)=>{let mt,je=0;for(;je<X.length;je++)if(mt=X[je],mt["s-sr"]&&mt["s-sn"]===$&&mt["s-hn"]===xe||(mt=Go(mt.childNodes,$,xe),mt))return mt;return null},qo=(X,$)=>{const xe=[X];for(;(X=X.nextSibling)&&X["s-sn"]===$;)xe.push(X);return xe},li=(X,$)=>{const xe={$flags$:$[0],$tagName$:$[1]};g.member&&(xe.$members$=$[2]),g.hostListener&&(xe.$listeners$=$[3]),g.watchCallback&&(xe.$watchers$=X.$watchers$),g.reflect&&(xe.$attrsToReflect$=[]),g.shadowDom&&!Ot&&1&xe.$flags$&&(xe.$flags$|=8),g.experimentalSlotFixes?g.scoped&&2&xe.$flags$&&((X,$)=>{ht(X),Bt(X),Wt(X),$t(X),ir(X),Dn(X),Bn(X),mr(X),Pr(X,$),Mt(X)})(X.prototype,xe):(g.slotChildNodesFix&&Pr(X.prototype,xe),g.cloneNodeFix&&ht(X.prototype),g.appendChildSlotFix&&Bt(X.prototype),g.scopedSlotTextContentFix&&2&xe.$flags$&&mr(X.prototype));const je=X.prototype.connectedCallback,mt=X.prototype.disconnectedCallback;return Object.assign(X.prototype,{__registerHost(){((X,$)=>{const xe={$flags$:0,$hostElement$:X,$cmpMeta$:$,$instanceValues$:new Map};g.isDev&&(xe.$renderCount$=0),g.method&&g.lazyLoad&&(xe.$onInstancePromise$=new Promise(je=>xe.$onInstanceResolve$=je)),g.asyncLoading&&(xe.$onReadyPromise$=new Promise(je=>xe.$onReadyResolve$=je),X["s-p"]=[],X["s-rc"]=[]),ce.set(X,xe)})(this,xe)},connectedCallback(){const gt=Ke(this);zi(this,gt,xe.$listeners$,!1),(X=>{if(!(1&Re.$flags$)){const $=Ke(X),xe=$.$cmpMeta$,je=ko("connectedCallback",xe.$tagName$);if(g.hostListenerTargetParent&&zi(X,$,xe.$listeners$,!0),1&$.$flags$)zi(X,$,xe.$listeners$,!1),null!=$&&$.$lazyInstance$?se($.$lazyInstance$):null!=$&&$.$onReadyPromise$&&$.$onReadyPromise$.then(()=>se($.$lazyInstance$));else{let mt;if($.$flags$|=1,g.hydrateClientSide&&(mt=X.getAttribute(jt),mt)){if(g.shadowDom&&Ot&&1&xe.$flags$){const gt=g.mode?Ut(X.shadowRoot,xe,X.getAttribute("s-mode")):Ut(X.shadowRoot,xe);X.classList.remove(gt+"-h",gt+"-s")}((X,$,xe,je)=>{const mt=ko("hydrateClient",$),gt=X.shadowRoot,Qt=[],Jt=g.shadowDom&&gt?[]:null,pn=je.$vnode$=Or($,null);Re.$orgLocNodes$||Se(ue.body,Re.$orgLocNodes$=new Map),X[jt]=xe,X.removeAttribute(jt),Nn(pn,Qt,[],Jt,X,X,xe),Qt.map(Wn=>{const Kn=Wn.$hostId$+"."+Wn.$nodeId$,wr=Re.$orgLocNodes$.get(Kn),$r=Wn.$elm$;wr&&Ot&&""===wr["s-en"]&&wr.parentNode.insertBefore($r,wr.nextSibling),gt||($r["s-hn"]=$,wr&&($r["s-ol"]=wr,$r["s-ol"]["s-nr"]=$r)),Re.$orgLocNodes$.delete(Kn)}),g.shadowDom&&gt&&Jt.map(Wn=>{Wn&&gt.appendChild(Wn)}),mt()})(X,xe.$tagName$,mt,$)}if(g.slotRelocation&&!mt&&(g.hydrateServerSide||(g.slot||g.shadowDom)&&12&xe.$flags$)&&U(X),g.asyncLoading){let gt=X;for(;gt=gt.parentNode||gt.host;)if(g.hydrateClientSide&&1===gt.nodeType&&gt.hasAttribute("s-id")&&gt["s-p"]||gt["s-p"]){Tr($,$.$ancestorComponent$=gt);break}}g.prop&&!g.hydrateServerSide&&xe.$members$&&Object.entries(xe.$members$).map(([gt,[Qt]])=>{if(31&Qt&&X.hasOwnProperty(gt)){const Rt=X[gt];delete X[gt],X[gt]=Rt}}),g.initializeNextTick?Kr(()=>B(X,$,xe)):B(X,$,xe)}je()}})(this),g.connectedCallback&&je&&je.call(this)},disconnectedCallback(){Z(this),g.disconnectedCallback&&mt&&mt.call(this)},__attachShadow(){if(Ot)if(this.shadowRoot){if("open"!==this.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${xe.$tagName$}! Mode is set to ${this.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else this.attachShadow(g.shadowDelegatesFocus?{mode:"open",delegatesFocus:!!(16&xe.$flags$)}:{mode:"open"});else this.shadowRoot=this}}),X.is=xe.$tagName$,ba(X,xe,3)},zi=(X,$,xe,je)=>{g.hostListener&&xe&&(g.hostListenerTargetParent&&(xe=xe.filter(je?([mt])=>32&mt:([mt])=>!(32&mt))),xe.map(([mt,gt,Qt])=>{const Rt=g.hostListenerTarget?ws(X,mt):X,Jt=Aa($,Qt),pn=Ei(mt);Re.ael(Rt,gt,Jt,pn),($.$rmListeners$=$.$rmListeners$||[]).push(()=>Re.rel(Rt,gt,Jt,pn))}))},Aa=(X,$)=>xe=>{var je;try{g.lazyLoad?256&X.$flags$?null==(je=X.$lazyInstance$)||je[$](xe):(X.$queuedListeners$=X.$queuedListeners$||[]).push([$,xe]):X.$hostElement$[$](xe)}catch(mt){Be(mt)}},ws=(X,$)=>g.hostListenerTargetDocument&&4&$?ue:g.hostListenerTargetWindow&&8&$?We:g.hostListenerTargetBody&&16&$?ue.body:g.hostListenerTargetParent&&32&$&&X.parentElement?X.parentElement:X,Ei=X=>Lt?{passive:!!(1&X),capture:!!(2&X)}:!!(2&X)},467:(Un,Tt,F)=>{"use strict";function x(H,we,q,S,Te,ce,Ke){try{var _t=H[ce](Ke),$e=_t.value}catch(Me){return void q(Me)}_t.done?we($e):Promise.resolve($e).then(S,Te)}function g(H){return function(){var we=this,q=arguments;return new Promise(function(S,Te){var ce=H.apply(we,q);function Ke($e){x(ce,S,Te,Ke,_t,"next",$e)}function _t($e){x(ce,S,Te,Ke,_t,"throw",$e)}Ke(void 0)})}}F.d(Tt,{A:()=>g})},9842:(Un,Tt,F)=>{"use strict";function x(q){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(q)}function we(q,S,Te){return(S=function H(q){var S=function g(q,S){if("object"!=x(q)||!q)return q;var Te=q[Symbol.toPrimitive];if(void 0!==Te){var ce=Te.call(q,S||"default");if("object"!=x(ce))return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===S?String:Number)(q)}(q,"string");return"symbol"==x(S)?S:S+""}(S))in q?Object.defineProperty(q,S,{value:Te,enumerable:!0,configurable:!0,writable:!0}):q[S]=Te,q}F.d(Tt,{A:()=>we})},1635:(Un,Tt,F)=>{"use strict";function q(ue,fe,Re,St){var un,Ot=arguments.length,Lt=Ot<3?fe:null===St?St=Object.getOwnPropertyDescriptor(fe,Re):St;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Lt=Reflect.decorate(ue,fe,Re,St);else for(var Yt=ue.length-1;Yt>=0;Yt--)(un=ue[Yt])&&(Lt=(Ot<3?un(Lt):Ot>3?un(fe,Re,Lt):un(fe,Re))||Lt);return Ot>3&&Lt&&Object.defineProperty(fe,Re,Lt),Lt}function Me(ue,fe,Re,St){return new(Re||(Re=Promise))(function(Lt,un){function Yt(In){try{Qn(St.next(In))}catch(_r){un(_r)}}function hr(In){try{Qn(St.throw(In))}catch(_r){un(_r)}}function Qn(In){In.done?Lt(In.value):function Ot(Lt){return Lt instanceof Re?Lt:new Re(function(un){un(Lt)})}(In.value).then(Yt,hr)}Qn((St=St.apply(ue,fe||[])).next())})}function rt(ue){return this instanceof rt?(this.v=ue,this):new rt(ue)}function Ee(ue,fe,Re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ot,St=Re.apply(ue,fe||[]),Lt=[];return Ot=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Yt("next"),Yt("throw"),Yt("return",function un(dr){return function(Dr){return Promise.resolve(Dr).then(dr,_r)}}),Ot[Symbol.asyncIterator]=function(){return this},Ot;function Yt(dr,Dr){St[dr]&&(Ot[dr]=function(vr){return new Promise(function(pr,Kr){Lt.push([dr,vr,pr,Kr])>1||hr(dr,vr)})},Dr&&(Ot[dr]=Dr(Ot[dr])))}function hr(dr,Dr){try{!function Qn(dr){dr.value instanceof rt?Promise.resolve(dr.value.v).then(In,_r):Xr(Lt[0][2],dr)}(St[dr](Dr))}catch(vr){Xr(Lt[0][3],vr)}}function In(dr){hr("next",dr)}function _r(dr){hr("throw",dr)}function Xr(dr,Dr){dr(Dr),Lt.shift(),Lt.length&&hr(Lt[0][0],Lt[0][1])}}function oe(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,fe=ue[Symbol.asyncIterator];return fe?fe.call(ue):(ue=function ct(ue){var fe="function"==typeof Symbol&&Symbol.iterator,Re=fe&&ue[fe],St=0;if(Re)return Re.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&St>=ue.length&&(ue=void 0),{value:ue&&ue[St++],done:!ue}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),Re={},St("next"),St("throw"),St("return"),Re[Symbol.asyncIterator]=function(){return this},Re);function St(Lt){Re[Lt]=ue[Lt]&&function(un){return new Promise(function(Yt,hr){!function Ot(Lt,un,Yt,hr){Promise.resolve(hr).then(function(Qn){Lt({value:Qn,done:Yt})},un)}(Yt,hr,(un=ue[Lt](un)).done,un.value)})}}}F.d(Tt,{AQ:()=>Ee,Cg:()=>q,N3:()=>rt,sH:()=>Me,xN:()=>oe}),"function"==typeof SuppressedError&&SuppressedError}},Un=>{Un(Un.s=3862)}]);