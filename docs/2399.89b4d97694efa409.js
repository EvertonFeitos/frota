"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2399],{2399:(j,p,a)=>{a.r(p),a.d(p,{LoginPage:()=>O});var u=a(467),n=a(4438),h=a(177),c=a(4341),t=a(4742),f=a(2902),m=a(8313),C=a(9684);function M(l,g){if(1&l){const r=n.RV6();n.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",2),n.bIt("click",function(){n.eBV(r);const e=n.XpG();return n.Njj(e.openModalChange.emit(!1))}),n.EFF(4,"Voltar"),n.k0s()(),n.j41(5,"ion-buttons",3)(6,"ion-button",4),n.bIt("click",function(){n.eBV(r);const e=n.XpG();return n.Njj(e.botaoConfirmar())}),n.EFF(7,"Confirmar"),n.k0s()()()(),n.j41(8,"ion-content",5)(9,"ion-row")(10,"ion-col",6)(11,"h2"),n.EFF(12,"Configura\xe7\xf5es"),n.k0s(),n.j41(13,"ion-item")(14,"ion-label",7),n.EFF(15,"Caminho Api"),n.k0s(),n.j41(16,"ion-input",8),n.mxI("ngModelChange",function(e){n.eBV(r);const s=n.XpG();return n.DH7(s.config,e)||(s.config=e),n.Njj(e)}),n.k0s()()()()()}if(2&l){const r=n.XpG();n.R7$(6),n.Y8G("disabled",!r.config)("strong",!0),n.R7$(10),n.R50("ngModel",r.config)}}let b=(()=>{var l;class g{constructor(o){this.baseApi=o,this.openModalChange=new n.bkB}ngOnInit(){this.baseApi.baseUrl$.subscribe(o=>{this.config=o})}botaoConfirmar(){this.baseApi.setBaseUrl(this.config),this.openModalChange.emit(!1)}}return(l=g).\u0275fac=function(o){return new(o||l)(n.rXU(C.v))},l.\u0275cmp=n.VBU({type:l,selectors:[["app-config"]],inputs:{openModal:"openModal"},outputs:{openModalChange:"openModalChange"},standalone:!0,features:[n.aNF],decls:2,vars:1,consts:[[3,"isOpen"],["slot","start"],[3,"click"],["slot","end"],[3,"click","disabled","strong"],[1,"ion-padding"],["size","12"],["color","darking","position","stacked"],["placeholder","10.0.0.0:88","aria-label","Caminho Api",3,"ngModelChange","ngModel"]],template:function(o,e){1&o&&(n.j41(0,"ion-modal",0),n.DNE(1,M,17,3,"ng-template"),n.k0s()),2&o&&n.Y8G("isOpen",e.openModal)},dependencies:[t.bv,t.Jm,t.QW,t.hU,t.W9,t.eU,t.$w,t.uz,t.he,t.ln,t.ai,t.Sb,t.Gw,h.MD,c.YN,c.BC,c.vS]}),g})();var _=a(5079),P=a(5873),v=a(5784),k=a(9313);let O=(()=>{var l;class g{constructor(o,e,s,i){this.auth=o,this.loaddingCtrl=e,this.alert=s,this.router=i,this.appRoutes=v.S,this.credentials=(0,n.vPA)({}),this.loading=!1,this.viewPassword=!1,this.configOpen=!1,(0,_.a)({settingsOutline:P.s8q})}submit(){var o=this;return(0,u.A)(function*(){const{id:e,senha:s}=o.credentials();var i;void 0!==e&&void 0!==s&&null!==e&&null!==s&&(yield(0,m.h)(o.loaddingCtrl,o.alert,{mainAction:(i=(0,u.A)(function*(){yield o.auth.login(Number(e),s),o.credentials.set({})}),function(){return i.apply(this,arguments)}),onAfterTryDismiss:()=>{o.router.navigate([o.appRoutes.home.path])},onError:i=>{console.error(i),o.credentials.update(d=>(d.senha=null,d))}}))})()}abrirConfiguracoes(){this.configOpen=!0}openModalChange(o){this.configOpen=o}}return(l=g).\u0275fac=function(o){return new(o||l)(n.rXU(k.H),n.rXU(t.Xi),n.rXU(t.hG),n.rXU(f.Ix))},l.\u0275cmp=n.VBU({type:l,selectors:[["app-login"]],standalone:!0,features:[n.aNF],decls:17,vars:7,consts:[[3,"fullscreen"],[2,"height","95vh","display","flex","align-items","center","justify-content","space-between","flex-direction","column"],["size","12",1,"ion-text-center"],["src","assets/icon-controle-frota.svg",1,"icon-app"],["fill","outline","label","C\xf3digo",3,"ngModelChange","type","labelPlacement","ngModel"],["fill","outline","label","Senha","type","password",3,"ngModelChange","labelPlacement","ngModel"],["expand","block","size","default","fill","solid","color","primary",1,"button-edit",3,"click"],[1,"logo-footer"],["src","assets/logo.png",1,"logo",3,"click"],[3,"openModalChange","openModal"]],template:function(o,e){1&o&&(n.j41(0,"ion-content",0)(1,"ion-grid",1)(2,"ion-row")(3,"ion-col",2),n.nrm(4,"ion-img",3),n.k0s()(),n.j41(5,"ion-row")(6,"ion-col",2)(7,"ion-input",4),n.mxI("ngModelChange",function(i){return n.DH7(e.credentials().id,i)||(e.credentials().id=i),i}),n.k0s()(),n.j41(8,"ion-col",2)(9,"ion-input",5),n.mxI("ngModelChange",function(i){return n.DH7(e.credentials().senha,i)||(e.credentials().senha=i),i}),n.k0s()(),n.j41(10,"ion-col",2)(11,"ion-button",6),n.bIt("click",function(){return e.submit()}),n.EFF(12,"Entrar"),n.k0s()()(),n.j41(13,"ion-row")(14,"div",7)(15,"ion-img",8),n.bIt("click",function(){return e.abrirConfiguracoes()}),n.k0s()()()()(),n.j41(16,"app-config",9),n.bIt("openModalChange",function(i){return e.openModalChange(i)}),n.k0s()),2&o&&(n.Y8G("fullscreen",!0),n.R7$(7),n.Y8G("type","number")("labelPlacement","stacked"),n.R50("ngModel",e.credentials().id),n.R7$(2),n.Y8G("labelPlacement","stacked"),n.R50("ngModel",e.credentials().senha),n.R7$(7),n.Y8G("openModal",e.configOpen))},dependencies:[t.bv,t.Jm,t.hU,t.W9,t.lO,t.KW,t.$w,t.ln,t.Gw,h.MD,c.YN,c.BC,c.vS,f.iI,b],styles:["[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}[_nghost-%COMP%]   ion-img.logo[_ngcontent-%COMP%]{max-width:300px;width:66%;margin:0 auto}[_nghost-%COMP%]   ion-img.icon-app[_ngcontent-%COMP%]{position:relative;top:75px;width:120px}[_nghost-%COMP%]   .header-ios[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]:last-of-type{--border-width: 0 0 0}[_nghost-%COMP%]   .header-md[_ngcontent-%COMP%]{box-shadow:none!important}[_nghost-%COMP%]   ion-footer[_ngcontent-%COMP%]{padding-top:2em;padding-bottom:2em;box-shadow:none;background-color:var(--ion-background-color)}"]}),g})()}}]);