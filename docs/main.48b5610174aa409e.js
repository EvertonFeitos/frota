(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{555:(Vn,At,B)=>{"use strict";B.d(At,{c:()=>S});var x=B(4878);let g;const _e=(ke,se,Ge)=>{const wt=se.startsWith("animation")?(ke=>(void 0===g&&(g=void 0===ke.style.animationName&&void 0!==ke.style.webkitAnimationName?"-webkit-":""),g))(ke):"";ke.style.setProperty(wt+se,Ge)},J=(ke=[],se)=>{if(void 0!==se){const Ge=Array.isArray(se)?se:[se];return[...ke,...Ge]}return ke},S=ke=>{let se,Ge,wt,Oe,Se,qe,pe,Dt,Ke,je,tn,Ne=[],ot=[],it=[],Pe=!1,vt={},ct=[],Je=[],Ce={},$e=0,re=!1,rt=!1,Lt=!0,Bt=!1,Xn=!0,Kn=!1;const lr=ke,ut=[],Ue=[],ce=[],de=[],Ae=[],Et=[],Mt=[],Ft=[],ln=[],Xt=[],dr=[],er="function"==typeof AnimationEffect||void 0!==x.w&&"function"==typeof x.w.AnimationEffect,wn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&er,wr=()=>dr,pr=(Qe,an)=>{const zn=an.findIndex(_r=>_r.c===Qe);zn>-1&&an.splice(zn,1)},yn=(Qe,an)=>((null!=an&&an.oneTimeCallback?Ue:ut).push({c:Qe,o:an}),tn),rn=()=>{wn&&(dr.forEach(Qe=>{Qe.cancel()}),dr.length=0)},Kt=()=>{Et.forEach(Qe=>{null!=Qe&&Qe.parentNode&&Qe.parentNode.removeChild(Qe)}),Et.length=0},Er=()=>void 0!==Se?Se:pe?pe.getFill():"both",To=()=>void 0!==Dt?Dt:void 0!==qe?qe:pe?pe.getDirection():"normal",Lr=()=>re?"linear":void 0!==wt?wt:pe?pe.getEasing():"linear",io=()=>rt?0:void 0!==Ke?Ke:void 0!==Ge?Ge:pe?pe.getDuration():0,nn=()=>void 0!==Oe?Oe:pe?pe.getIterations():1,Ir=()=>void 0!==je?je:void 0!==se?se:pe?pe.getDelay():0,He=()=>{0!==$e&&($e--,0===$e&&((()=>{ln.forEach(Zr=>Zr()),Xt.forEach(Zr=>Zr());const Qe=Lt?1:0,an=ct,zn=Je,_r=Ce;de.forEach(Zr=>{const Te=Zr.classList;an.forEach(et=>Te.add(et)),zn.forEach(et=>Te.remove(et));for(const et in _r)_r.hasOwnProperty(et)&&_e(Zr,et,_r[et])}),Ke=void 0,Dt=void 0,je=void 0,ut.forEach(Zr=>Zr.c(Qe,tn)),Ue.forEach(Zr=>Zr.c(Qe,tn)),Ue.length=0,Xn=!0,Lt&&(Bt=!0),Lt=!0})(),pe&&pe.animationFinish()))},ye=()=>{(()=>{Mt.forEach(_r=>_r()),Ft.forEach(_r=>_r());const Qe=ot,an=it,zn=vt;de.forEach(_r=>{const Zr=_r.classList;Qe.forEach(Te=>Zr.add(Te)),an.forEach(Te=>Zr.remove(Te));for(const Te in zn)zn.hasOwnProperty(Te)&&_e(_r,Te,zn[Te])})})(),Ne.length>0&&wn&&(de.forEach(Qe=>{const an=Qe.animate(Ne,{id:lr,delay:Ir(),duration:io(),easing:Lr(),iterations:nn(),fill:Er(),direction:To()});an.pause(),dr.push(an)}),dr.length>0&&(dr[0].onfinish=()=>{He()})),Pe=!0},le=Qe=>{Qe=Math.min(Math.max(Qe,0),.9999),wn&&dr.forEach(an=>{an.currentTime=an.effect.getComputedTiming().delay+io()*Qe,an.pause()})},zt=Qe=>{dr.forEach(an=>{an.effect.updateTiming({delay:Ir(),duration:io(),easing:Lr(),iterations:nn(),fill:Er(),direction:To()})}),void 0!==Qe&&le(Qe)},cn=(Qe=!1,an=!0,zn)=>(Qe&&Ae.forEach(_r=>{_r.update(Qe,an,zn)}),wn&&zt(zn),tn),Gr=()=>{Pe&&(wn?dr.forEach(Qe=>{Qe.pause()}):de.forEach(Qe=>{_e(Qe,"animation-play-state","paused")}),Kn=!0)},Dr=Qe=>new Promise(an=>{null!=Qe&&Qe.sync&&(rt=!0,yn(()=>rt=!1,{oneTimeCallback:!0})),Pe||ye(),Bt&&(wn&&(le(0),zt()),Bt=!1),Xn&&($e=Ae.length+1,Xn=!1);const zn=()=>{pr(_r,Ue),an()},_r=()=>{pr(zn,ce),an()};yn(_r,{oneTimeCallback:!0}),(Qe=>{ce.push({c:Qe,o:{oneTimeCallback:!0}})})(zn),Ae.forEach(Zr=>{Zr.play()}),wn?(dr.forEach(Qe=>{Qe.play()}),(0===Ne.length||0===de.length)&&He()):He(),Kn=!1}),co=(Qe,an)=>{const zn=Ne[0];return void 0===zn||void 0!==zn.offset&&0!==zn.offset?Ne=[{offset:0,[Qe]:an},...Ne]:zn[Qe]=an,tn};return tn={parentAnimation:pe,elements:de,childAnimations:Ae,id:lr,animationFinish:He,from:co,to:(Qe,an)=>{const zn=Ne[Ne.length-1];return void 0===zn||void 0!==zn.offset&&1!==zn.offset?Ne=[...Ne,{offset:1,[Qe]:an}]:zn[Qe]=an,tn},fromTo:(Qe,an,zn)=>co(Qe,an).to(Qe,zn),parent:Qe=>(pe=Qe,tn),play:Dr,pause:()=>(Ae.forEach(Qe=>{Qe.pause()}),Gr(),tn),stop:()=>{Ae.forEach(Qe=>{Qe.stop()}),Pe&&(rn(),Pe=!1),re=!1,rt=!1,Xn=!0,Dt=void 0,Ke=void 0,je=void 0,$e=0,Bt=!1,Lt=!0,Kn=!1,ce.forEach(Qe=>Qe.c(0,tn)),ce.length=0},destroy:Qe=>(Ae.forEach(an=>{an.destroy(Qe)}),(Qe=>{rn(),Qe&&Kt()})(Qe),de.length=0,Ae.length=0,Ne.length=0,ut.length=0,Ue.length=0,Pe=!1,Xn=!0,tn),keyframes:Qe=>{const an=Ne!==Qe;return Ne=Qe,an&&(Qe=>{wn&&wr().forEach(an=>{const zn=an.effect;if(zn.setKeyframes)zn.setKeyframes(Qe);else{const _r=new KeyframeEffect(zn.target,Qe,zn.getTiming());an.effect=_r}})})(Ne),tn},addAnimation:Qe=>{if(null!=Qe)if(Array.isArray(Qe))for(const an of Qe)an.parent(tn),Ae.push(an);else Qe.parent(tn),Ae.push(Qe);return tn},addElement:Qe=>{if(null!=Qe)if(1===Qe.nodeType)de.push(Qe);else if(Qe.length>=0)for(let an=0;an<Qe.length;an++)de.push(Qe[an]);else console.error("Invalid addElement value");return tn},update:cn,fill:Qe=>(Se=Qe,cn(!0),tn),direction:Qe=>(qe=Qe,cn(!0),tn),iterations:Qe=>(Oe=Qe,cn(!0),tn),duration:Qe=>(!wn&&0===Qe&&(Qe=1),Ge=Qe,cn(!0),tn),easing:Qe=>(wt=Qe,cn(!0),tn),delay:Qe=>(se=Qe,cn(!0),tn),getWebAnimations:wr,getKeyframes:()=>Ne,getFill:Er,getDirection:To,getDelay:Ir,getIterations:nn,getEasing:Lr,getDuration:io,afterAddRead:Qe=>(ln.push(Qe),tn),afterAddWrite:Qe=>(Xt.push(Qe),tn),afterClearStyles:(Qe=[])=>{for(const an of Qe)Ce[an]="";return tn},afterStyles:(Qe={})=>(Ce=Qe,tn),afterRemoveClass:Qe=>(Je=J(Je,Qe),tn),afterAddClass:Qe=>(ct=J(ct,Qe),tn),beforeAddRead:Qe=>(Mt.push(Qe),tn),beforeAddWrite:Qe=>(Ft.push(Qe),tn),beforeClearStyles:(Qe=[])=>{for(const an of Qe)vt[an]="";return tn},beforeStyles:(Qe={})=>(vt=Qe,tn),beforeRemoveClass:Qe=>(it=J(it,Qe),tn),beforeAddClass:Qe=>(ot=J(ot,Qe),tn),onFinish:yn,isRunning:()=>0!==$e&&!Kn,progressStart:(Qe=!1,an)=>(Ae.forEach(zn=>{zn.progressStart(Qe,an)}),Gr(),re=Qe,Pe||ye(),cn(!1,!0,an),tn),progressStep:Qe=>(Ae.forEach(an=>{an.progressStep(Qe)}),le(Qe),tn),progressEnd:(Qe,an,zn)=>(re=!1,Ae.forEach(_r=>{_r.progressEnd(Qe,an,zn)}),void 0!==zn&&(Ke=zn),Bt=!1,Lt=!0,0===Qe?(Dt="reverse"===To()?"normal":"reverse","reverse"===Dt&&(Lt=!1),wn?(cn(),le(1-an)):(je=(1-an)*io()*-1,cn(!1,!1))):1===Qe&&(wn?(cn(),le(an)):(je=an*io()*-1,cn(!1,!1))),void 0!==Qe&&!pe&&Dr(),tn)}}},6081:(Vn,At,B)=>{"use strict";B.d(At,{g:()=>g});var x=B(4878);const g=()=>{if(void 0!==x.w)return x.w.Capacitor}},2782:(Vn,At,B)=>{"use strict";B.d(At,{i:()=>x});const x=g=>g&&""!==g.dir?"rtl"===g.dir.toLowerCase():"rtl"===(null==document?void 0:document.dir.toLowerCase())},5498:(Vn,At,B)=>{"use strict";B.r(At),B.d(At,{startFocusVisible:()=>_e});const x="ion-focused",H=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],_e=J=>{let S=[],ke=!0;const se=J?J.shadowRoot:document,Ge=J||document.body,wt=it=>{S.forEach(Pe=>Pe.classList.remove(x)),it.forEach(Pe=>Pe.classList.add(x)),S=it},Oe=()=>{ke=!1,wt([])},Se=it=>{ke=H.includes(it.key),ke||wt([])},qe=it=>{if(ke&&void 0!==it.composedPath){const Pe=it.composedPath().filter(pe=>!!pe.classList&&pe.classList.contains("ion-focusable"));wt(Pe)}},Ne=()=>{se.activeElement===Ge&&wt([])};return se.addEventListener("keydown",Se),se.addEventListener("focusin",qe),se.addEventListener("focusout",Ne),se.addEventListener("touchstart",Oe,{passive:!0}),se.addEventListener("mousedown",Oe),{destroy:()=>{se.removeEventListener("keydown",Se),se.removeEventListener("focusin",qe),se.removeEventListener("focusout",Ne),se.removeEventListener("touchstart",Oe),se.removeEventListener("mousedown",Oe)},setFocus:wt}}},8875:(Vn,At,B)=>{"use strict";B.d(At,{B:()=>_e,G:()=>J});class g{constructor(ke,se,Ge,wt,Oe){this.id=se,this.name=Ge,this.disableScroll=Oe,this.priority=1e6*wt+se,this.ctrl=ke}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ke=this.ctrl.capture(this.name,this.id,this.priority);return ke&&this.disableScroll&&this.ctrl.disableScroll(this.id),ke}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class H{constructor(ke,se,Ge,wt){this.id=se,this.disable=Ge,this.disableScroll=wt,this.ctrl=ke}block(){if(this.ctrl){if(this.disable)for(const ke of this.disable)this.ctrl.disableGesture(ke,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ke of this.disable)this.ctrl.enableGesture(ke,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const _e="backdrop-no-scroll",J=new class x{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ke){var se;return new g(this,this.newID(),ke.name,null!==(se=ke.priority)&&void 0!==se?se:0,!!ke.disableScroll)}createBlocker(ke={}){return new H(this,this.newID(),ke.disable,!!ke.disableScroll)}start(ke,se,Ge){return this.canStart(ke)?(this.requestedStart.set(se,Ge),!0):(this.requestedStart.delete(se),!1)}capture(ke,se,Ge){if(!this.start(ke,se,Ge))return!1;const wt=this.requestedStart;let Oe=-1e4;if(wt.forEach(Se=>{Oe=Math.max(Oe,Se)}),Oe===Ge){this.capturedId=se,wt.clear();const Se=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ke}});return document.dispatchEvent(Se),!0}return wt.delete(se),!1}release(ke){this.requestedStart.delete(ke),this.capturedId===ke&&(this.capturedId=void 0)}disableGesture(ke,se){let Ge=this.disabledGestures.get(ke);void 0===Ge&&(Ge=new Set,this.disabledGestures.set(ke,Ge)),Ge.add(se)}enableGesture(ke,se){const Ge=this.disabledGestures.get(ke);void 0!==Ge&&Ge.delete(se)}disableScroll(ke){this.disabledScroll.add(ke),1===this.disabledScroll.size&&document.body.classList.add(_e)}enableScroll(ke){this.disabledScroll.delete(ke),0===this.disabledScroll.size&&document.body.classList.remove(_e)}canStart(ke){return!(void 0!==this.capturedId||this.isDisabled(ke))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ke){const se=this.disabledGestures.get(ke);return!!(se&&se.size>0)}newID(){return this.gestureId++,this.gestureId}}},5098:(Vn,At,B)=>{"use strict";B.r(At),B.d(At,{MENU_BACK_BUTTON_PRIORITY:()=>se,OVERLAY_BACK_BUTTON_PRIORITY:()=>ke,blockHardwareBackButton:()=>J,shouldUseCloseWatcher:()=>_e,startHardwareBackButton:()=>S});var x=B(467),g=B(4878),H=B(5531);const _e=()=>H.c.get("experimentalCloseWatcher",!1)&&void 0!==g.w&&"CloseWatcher"in g.w,J=()=>{document.addEventListener("backbutton",()=>{})},S=()=>{const Ge=document;let wt=!1;const Oe=()=>{if(wt)return;let Se=0,qe=[];const Ne=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Pe,pe){qe.push({priority:Pe,handler:pe,id:Se++})}}});Ge.dispatchEvent(Ne);const ot=function(){var Pe=(0,x.A)(function*(pe){try{if(null!=pe&&pe.handler){const vt=pe.handler(it);null!=vt&&(yield vt)}}catch(vt){console.error(vt)}});return function(vt){return Pe.apply(this,arguments)}}(),it=()=>{if(qe.length>0){let Pe={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};qe.forEach(pe=>{pe.priority>=Pe.priority&&(Pe=pe)}),wt=!0,qe=qe.filter(pe=>pe.id!==Pe.id),ot(Pe).then(()=>wt=!1)}};it()};if(_e()){let Se;const qe=()=>{null==Se||Se.destroy(),Se=new g.w.CloseWatcher,Se.onclose=()=>{Oe(),qe()}};qe()}else Ge.addEventListener("backbutton",Oe)},ke=100,se=99},1656:(Vn,At,B)=>{"use strict";B.d(At,{a:()=>se,b:()=>Ge,c:()=>H,d:()=>J,e:()=>Ne,f:()=>qe,g:()=>wt,h:()=>Se,i:()=>ke,j:()=>_e,k:()=>ot,l:()=>vt,p:()=>Pe,r:()=>Oe,s:()=>Je});const H=(Ce,$e)=>{Ce.componentOnReady?Ce.componentOnReady().then(re=>$e(re)):Oe(()=>$e(Ce))},_e=Ce=>void 0!==Ce.componentOnReady,J=(Ce,$e=[])=>{const re={};return $e.forEach(rt=>{Ce.hasAttribute(rt)&&(null!==Ce.getAttribute(rt)&&(re[rt]=Ce.getAttribute(rt)),Ce.removeAttribute(rt))}),re},S=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ke=(Ce,$e)=>{let re=S;return $e&&$e.length>0&&(re=re.filter(rt=>!$e.includes(rt))),J(Ce,re)},se=(Ce,$e,re,rt)=>{var Dt;if(typeof window<"u"){const Ke=window,je=null===(Dt=null==Ke?void 0:Ke.Ionic)||void 0===Dt?void 0:Dt.config;if(je){const Lt=je.get("_ael");if(Lt)return Lt(Ce,$e,re,rt);if(je._ael)return je._ael(Ce,$e,re,rt)}}return Ce.addEventListener($e,re,rt)},Ge=(Ce,$e,re,rt)=>{var Dt;if(typeof window<"u"){const Ke=window,je=null===(Dt=null==Ke?void 0:Ke.Ionic)||void 0===Dt?void 0:Dt.config;if(je){const Lt=je.get("_rel");if(Lt)return Lt(Ce,$e,re,rt);if(je._rel)return je._rel(Ce,$e,re,rt)}}return Ce.removeEventListener($e,re,rt)},wt=(Ce,$e=Ce)=>Ce.shadowRoot||$e,Oe=Ce=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ce):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ce):setTimeout(Ce),Se=Ce=>!!Ce.shadowRoot&&!!Ce.attachShadow,qe=Ce=>{if(Ce.focus(),Ce.classList.contains("ion-focusable")){const $e=Ce.closest("ion-app");$e&&$e.setFocus([Ce])}},Ne=(Ce,$e,re,rt,Dt)=>{if(Ce||Se($e)){let Ke=$e.querySelector("input.aux-input");Ke||(Ke=$e.ownerDocument.createElement("input"),Ke.type="hidden",Ke.classList.add("aux-input"),$e.appendChild(Ke)),Ke.disabled=Dt,Ke.name=re,Ke.value=rt||""}},ot=(Ce,$e,re)=>Math.max(Ce,Math.min($e,re)),Pe=Ce=>{if(Ce){const $e=Ce.changedTouches;if($e&&$e.length>0){const re=$e[0];return{x:re.clientX,y:re.clientY}}if(void 0!==Ce.pageX)return{x:Ce.pageX,y:Ce.pageY}}return{x:0,y:0}},vt=(Ce,$e)=>{const re=Ce._original||Ce;return{_original:Ce,emit:ct(re.emit.bind(re),$e)}},ct=(Ce,$e=0)=>{let re;return(...rt)=>{clearTimeout(re),re=setTimeout(Ce,$e,...rt)}},Je=(Ce,$e)=>{if(null!=Ce||(Ce={}),null!=$e||($e={}),Ce===$e)return!0;const re=Object.keys(Ce);if(re.length!==Object.keys($e).length)return!1;for(const rt of re)if(!(rt in $e)||Ce[rt]!==$e[rt])return!1;return!0}},6031:(Vn,At,B)=>{"use strict";B.d(At,{L:()=>S,a:()=>ke,b:()=>se,c:()=>Ge,d:()=>wt,e:()=>tn,g:()=>ut,t:()=>pe,w:()=>Xn});var x=B(467),g=B(5531),H=B(1771),_e=B(1979),J=B(1656);const S="ionViewWillEnter",ke="ionViewDidEnter",se="ionViewWillLeave",Ge="ionViewDidLeave",wt="ionViewWillUnload",Oe=Ue=>{Ue.tabIndex=-1,Ue.focus()},Se=Ue=>null!==Ue.offsetParent,Ne="ion-last-focus",Pe_saveViewFocus=de=>{if(g.c.get("focusManagerPriority",!1)){const Et=document.activeElement;null!==Et&&null!=de&&de.contains(Et)&&Et.setAttribute(Ne,"true")}},Pe_setViewFocus=de=>{const Ae=g.c.get("focusManagerPriority",!1);if(Array.isArray(Ae)&&!de.contains(document.activeElement)){const Et=de.querySelector(`[${Ne}]`);if(Et&&Se(Et))return void Oe(Et);for(const Mt of Ae)switch(Mt){case"content":const Ft=de.querySelector('main, [role="main"]');if(Ft&&Se(Ft))return void Oe(Ft);break;case"heading":const ln=de.querySelector('h1, [role="heading"][aria-level="1"]');if(ln&&Se(ln))return void Oe(ln);break;case"banner":const Xt=de.querySelector('header, [role="banner"]');if(Xt&&Se(Xt))return void Oe(Xt);break;default:(0,_e.p)(`Unrecognized focus manager priority value ${Mt}`)}Oe(de)}},pe=Ue=>new Promise((ce,de)=>{(0,H.bN)(()=>{vt(Ue),ct(Ue).then(Ae=>{Ae.animation&&Ae.animation.destroy(),Je(Ue),ce(Ae)},Ae=>{Je(Ue),de(Ae)})})}),vt=Ue=>{const ce=Ue.enteringEl,de=Ue.leavingEl;Pe_saveViewFocus(de),lr(ce,de,Ue.direction),Ue.showGoBack?ce.classList.add("can-go-back"):ce.classList.remove("can-go-back"),Kn(ce,!1),ce.style.setProperty("pointer-events","none"),de&&(Kn(de,!1),de.style.setProperty("pointer-events","none"))},ct=function(){var Ue=(0,x.A)(function*(ce){const de=yield Ce(ce);return de&&H.L2.isBrowser?$e(de,ce):re(ce)});return function(de){return Ue.apply(this,arguments)}}(),Je=Ue=>{const ce=Ue.enteringEl,de=Ue.leavingEl;ce.classList.remove("ion-page-invisible"),ce.style.removeProperty("pointer-events"),void 0!==de&&(de.classList.remove("ion-page-invisible"),de.style.removeProperty("pointer-events")),Pe_setViewFocus(ce)},Ce=function(){var Ue=(0,x.A)(function*(ce){return ce.leavingEl&&ce.animated&&0!==ce.duration?ce.animationBuilder?ce.animationBuilder:"ios"===ce.mode?(yield B.e(4699).then(B.bind(B,4699))).iosTransitionAnimation:(yield B.e(7179).then(B.bind(B,7179))).mdTransitionAnimation:void 0});return function(de){return Ue.apply(this,arguments)}}(),$e=function(){var Ue=(0,x.A)(function*(ce,de){yield rt(de,!0);const Ae=ce(de.baseEl,de);je(de.enteringEl,de.leavingEl);const Et=yield Ke(Ae,de);return de.progressCallback&&de.progressCallback(void 0),Et&&Lt(de.enteringEl,de.leavingEl),{hasCompleted:Et,animation:Ae}});return function(de,Ae){return Ue.apply(this,arguments)}}(),re=function(){var Ue=(0,x.A)(function*(ce){const de=ce.enteringEl,Ae=ce.leavingEl,Et=g.c.get("focusManagerPriority",!1);return yield rt(ce,Et),je(de,Ae),Lt(de,Ae),{hasCompleted:!0}});return function(de){return Ue.apply(this,arguments)}}(),rt=function(){var Ue=(0,x.A)(function*(ce,de){(void 0!==ce.deepWait?ce.deepWait:de)&&(yield Promise.all([tn(ce.enteringEl),tn(ce.leavingEl)])),yield Dt(ce.viewIsReady,ce.enteringEl)});return function(de,Ae){return Ue.apply(this,arguments)}}(),Dt=function(){var Ue=(0,x.A)(function*(ce,de){ce&&(yield ce(de))});return function(de,Ae){return Ue.apply(this,arguments)}}(),Ke=(Ue,ce)=>{const de=ce.progressCallback,Ae=new Promise(Et=>{Ue.onFinish(Mt=>Et(1===Mt))});return de?(Ue.progressStart(!0),de(Ue)):Ue.play(),Ae},je=(Ue,ce)=>{Bt(ce,se),Bt(Ue,S)},Lt=(Ue,ce)=>{Bt(Ue,ke),Bt(ce,Ge)},Bt=(Ue,ce)=>{if(Ue){const de=new CustomEvent(ce,{bubbles:!1,cancelable:!1});Ue.dispatchEvent(de)}},Xn=()=>new Promise(Ue=>(0,J.r)(()=>(0,J.r)(()=>Ue()))),tn=function(){var Ue=(0,x.A)(function*(ce){const de=ce;if(de){if(null!=de.componentOnReady){if(null!=(yield de.componentOnReady()))return}else if(null!=de.__registerHost)return void(yield new Promise(Et=>(0,J.r)(Et)));yield Promise.all(Array.from(de.children).map(tn))}});return function(de){return Ue.apply(this,arguments)}}(),Kn=(Ue,ce)=>{ce?(Ue.setAttribute("aria-hidden","true"),Ue.classList.add("ion-page-hidden")):(Ue.hidden=!1,Ue.removeAttribute("aria-hidden"),Ue.classList.remove("ion-page-hidden"))},lr=(Ue,ce,de)=>{void 0!==Ue&&(Ue.style.zIndex="back"===de?"99":"101"),void 0!==ce&&(ce.style.zIndex="100")},ut=Ue=>Ue.classList.contains("ion-page")?Ue:Ue.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ue},2104:(Vn,At,B)=>{"use strict";B.r(At),B.d(At,{GESTURE_CONTROLLER:()=>x.G,createGesture:()=>Ge});var x=B(8875);const g=(qe,Ne,ot,it)=>{const Pe=H(qe)?{capture:!!it.capture,passive:!!it.passive}:!!it.capture;let pe,vt;return qe.__zone_symbol__addEventListener?(pe="__zone_symbol__addEventListener",vt="__zone_symbol__removeEventListener"):(pe="addEventListener",vt="removeEventListener"),qe[pe](Ne,ot,Pe),()=>{qe[vt](Ne,ot,Pe)}},H=qe=>{if(void 0===_e)try{const Ne=Object.defineProperty({},"passive",{get:()=>{_e=!0}});qe.addEventListener("optsTest",()=>{},Ne)}catch{_e=!1}return!!_e};let _e;const ke=qe=>qe instanceof Document?qe:qe.ownerDocument,Ge=qe=>{let Ne=!1,ot=!1,it=!0,Pe=!1;const pe=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},qe),vt=pe.canStart,ct=pe.onWillStart,Je=pe.onStart,Ce=pe.onEnd,$e=pe.notCaptured,re=pe.onMove,rt=pe.threshold,Dt=pe.passive,Ke=pe.blurOnStart,je={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Lt=((qe,Ne,ot)=>{const it=ot*(Math.PI/180),Pe="x"===qe,pe=Math.cos(it),vt=Ne*Ne;let ct=0,Je=0,Ce=!1,$e=0;return{start(re,rt){ct=re,Je=rt,$e=0,Ce=!0},detect(re,rt){if(!Ce)return!1;const Dt=re-ct,Ke=rt-Je,je=Dt*Dt+Ke*Ke;if(je<vt)return!1;const Lt=Math.sqrt(je),Bt=(Pe?Dt:Ke)/Lt;return $e=Bt>pe?1:Bt<-pe?-1:0,Ce=!1,!0},isGesture:()=>0!==$e,getDirection:()=>$e}})(pe.direction,pe.threshold,pe.maxAngle),Bt=x.G.createGesture({name:qe.gestureName,priority:qe.gesturePriority,disableScroll:qe.disableScroll}),Kn=()=>{Ne&&(Pe=!1,re&&re(je))},lr=()=>!!Bt.capture()&&(Ne=!0,it=!1,je.startX=je.currentX,je.startY=je.currentY,je.startTime=je.currentTime,ct?ct(je).then(Ue):Ue(),!0),Ue=()=>{Ke&&(()=>{if(typeof document<"u"){const Mt=document.activeElement;null!=Mt&&Mt.blur&&Mt.blur()}})(),Je&&Je(je),it=!0},ce=()=>{Ne=!1,ot=!1,Pe=!1,it=!0,Bt.release()},de=Mt=>{const Ft=Ne,ln=it;if(ce(),ln){if(wt(je,Mt),Ft)return void(Ce&&Ce(je));$e&&$e(je)}},Ae=((qe,Ne,ot,it,Pe)=>{let pe,vt,ct,Je,Ce,$e,re,rt=0;const Dt=ut=>{rt=Date.now()+2e3,Ne(ut)&&(!vt&&ot&&(vt=g(qe,"touchmove",ot,Pe)),ct||(ct=g(ut.target,"touchend",je,Pe)),Je||(Je=g(ut.target,"touchcancel",je,Pe)))},Ke=ut=>{rt>Date.now()||Ne(ut)&&(!$e&&ot&&($e=g(ke(qe),"mousemove",ot,Pe)),re||(re=g(ke(qe),"mouseup",Lt,Pe)))},je=ut=>{Bt(),it&&it(ut)},Lt=ut=>{Xn(),it&&it(ut)},Bt=()=>{vt&&vt(),ct&&ct(),Je&&Je(),vt=ct=Je=void 0},Xn=()=>{$e&&$e(),re&&re(),$e=re=void 0},tn=()=>{Bt(),Xn()},Kn=(ut=!0)=>{ut?(pe||(pe=g(qe,"touchstart",Dt,Pe)),Ce||(Ce=g(qe,"mousedown",Ke,Pe))):(pe&&pe(),Ce&&Ce(),pe=Ce=void 0,tn())};return{enable:Kn,stop:tn,destroy:()=>{Kn(!1),it=ot=Ne=void 0}}})(pe.el,Mt=>{const Ft=Se(Mt);return!(ot||!it||(Oe(Mt,je),je.startX=je.currentX,je.startY=je.currentY,je.startTime=je.currentTime=Ft,je.velocityX=je.velocityY=je.deltaX=je.deltaY=0,je.event=Mt,vt&&!1===vt(je))||(Bt.release(),!Bt.start()))&&(ot=!0,0===rt?lr():(Lt.start(je.startX,je.startY),!0))},Mt=>{Ne?!Pe&&it&&(Pe=!0,wt(je,Mt),requestAnimationFrame(Kn)):(wt(je,Mt),Lt.detect(je.currentX,je.currentY)&&(!Lt.isGesture()||!lr())&&Et())},de,{capture:!1,passive:Dt}),Et=()=>{ce(),Ae.stop(),$e&&$e(je)};return{enable(Mt=!0){Mt||(Ne&&de(void 0),ce()),Ae.enable(Mt)},destroy(){Bt.destroy(),Ae.destroy()}}},wt=(qe,Ne)=>{if(!Ne)return;const ot=qe.currentX,it=qe.currentY,Pe=qe.currentTime;Oe(Ne,qe);const pe=qe.currentX,vt=qe.currentY,Je=(qe.currentTime=Se(Ne))-Pe;if(Je>0&&Je<100){const $e=(vt-it)/Je;qe.velocityX=(pe-ot)/Je*.7+.3*qe.velocityX,qe.velocityY=.7*$e+.3*qe.velocityY}qe.deltaX=pe-qe.startX,qe.deltaY=vt-qe.startY,qe.event=Ne},Oe=(qe,Ne)=>{let ot=0,it=0;if(qe){const Pe=qe.changedTouches;if(Pe&&Pe.length>0){const pe=Pe[0];ot=pe.clientX,it=pe.clientY}else void 0!==qe.pageX&&(ot=qe.pageX,it=qe.pageY)}Ne.currentX=ot,Ne.currentY=it},Se=qe=>qe.timeStamp||Date.now()},4878:(Vn,At,B)=>{"use strict";B.d(At,{d:()=>g,w:()=>x});const x=typeof window<"u"?window:void 0,g=typeof document<"u"?document:void 0},1979:(Vn,At,B)=>{"use strict";B.d(At,{a:()=>g,b:()=>H,p:()=>x});const x=(_e,...J)=>console.warn(`[Ionic Warning]: ${_e}`,...J),g=(_e,...J)=>console.error(`[Ionic Error]: ${_e}`,...J),H=(_e,...J)=>console.error(`<${_e.tagName.toLowerCase()}> must be used inside ${J.join(" or ")}.`)},7849:(Vn,At,B)=>{"use strict";B.d(At,{a:()=>Oe,c:()=>qe,d:()=>ot,f:()=>wt,g:()=>Ge,i:()=>se,p:()=>Ne,r:()=>it,s:()=>Se});var x=B(467),g=B(1656),H=B(1979);const J="ion-content",S=".ion-content-scroll-host",ke=`${J}, ${S}`,se=Pe=>"ION-CONTENT"===Pe.tagName,Ge=function(){var Pe=(0,x.A)(function*(pe){return se(pe)?(yield new Promise(vt=>(0,g.c)(pe,vt)),pe.getScrollElement()):pe});return function(vt){return Pe.apply(this,arguments)}}(),wt=Pe=>Pe.querySelector(S)||Pe.querySelector(ke),Oe=Pe=>Pe.closest(ke),Se=(Pe,pe)=>se(Pe)?Pe.scrollToTop(pe):Promise.resolve(Pe.scrollTo({top:0,left:0,behavior:pe>0?"smooth":"auto"})),qe=(Pe,pe,vt,ct)=>se(Pe)?Pe.scrollByPoint(pe,vt,ct):Promise.resolve(Pe.scrollBy({top:vt,left:pe,behavior:ct>0?"smooth":"auto"})),Ne=Pe=>(0,H.b)(Pe,J),ot=Pe=>{if(se(Pe)){const vt=Pe.scrollY;return Pe.scrollY=!1,vt}return Pe.style.setProperty("overflow","hidden"),!0},it=(Pe,pe)=>{se(Pe)?Pe.scrollY=pe:Pe.style.removeProperty("overflow")}},5531:(Vn,At,B)=>{"use strict";B.d(At,{a:()=>Oe,b:()=>Kn,c:()=>H,g:()=>wt,i:()=>lr});var x=B(1771);class g{constructor(){this.m=new Map}reset(Ue){this.m=new Map(Object.entries(Ue))}get(Ue,ce){const de=this.m.get(Ue);return void 0!==de?de:ce}getBoolean(Ue,ce=!1){const de=this.m.get(Ue);return void 0===de?ce:"string"==typeof de?"true"===de:!!de}getNumber(Ue,ce){const de=parseFloat(this.m.get(Ue));return isNaN(de)?void 0!==ce?ce:NaN:de}set(Ue,ce){this.m.set(Ue,ce)}}const H=new g,Ge="ionic-persist-config",wt=ut=>Se(ut),Oe=(ut,Ue)=>("string"==typeof ut&&(Ue=ut,ut=void 0),wt(ut).includes(Ue)),Se=(ut=window)=>{if(typeof ut>"u")return[];ut.Ionic=ut.Ionic||{};let Ue=ut.Ionic.platforms;return null==Ue&&(Ue=ut.Ionic.platforms=qe(ut),Ue.forEach(ce=>ut.document.documentElement.classList.add(`plt-${ce}`))),Ue},qe=ut=>{const Ue=H.get("platform");return Object.keys(Xn).filter(ce=>{const de=null==Ue?void 0:Ue[ce];return"function"==typeof de?de(ut):Xn[ce](ut)})},ot=ut=>!!(Lt(ut,/iPad/i)||Lt(ut,/Macintosh/i)&&Ce(ut)),pe=ut=>Lt(ut,/android|sink/i),Ce=ut=>Bt(ut,"(any-pointer:coarse)"),re=ut=>rt(ut)||Dt(ut),rt=ut=>!!(ut.cordova||ut.phonegap||ut.PhoneGap),Dt=ut=>{const Ue=ut.Capacitor;return!(null==Ue||!Ue.isNative)},Lt=(ut,Ue)=>Ue.test(ut.navigator.userAgent),Bt=(ut,Ue)=>{var ce;return null===(ce=ut.matchMedia)||void 0===ce?void 0:ce.call(ut,Ue).matches},Xn={ipad:ot,iphone:ut=>Lt(ut,/iPhone/i),ios:ut=>Lt(ut,/iPhone|iPod/i)||ot(ut),android:pe,phablet:ut=>{const Ue=ut.innerWidth,ce=ut.innerHeight,de=Math.min(Ue,ce),Ae=Math.max(Ue,ce);return de>390&&de<520&&Ae>620&&Ae<800},tablet:ut=>{const Ue=ut.innerWidth,ce=ut.innerHeight,de=Math.min(Ue,ce),Ae=Math.max(Ue,ce);return ot(ut)||(ut=>pe(ut)&&!Lt(ut,/mobile/i))(ut)||de>460&&de<820&&Ae>780&&Ae<1400},cordova:rt,capacitor:Dt,electron:ut=>Lt(ut,/electron/i),pwa:ut=>{var Ue;return!!(null!==(Ue=ut.matchMedia)&&void 0!==Ue&&Ue.call(ut,"(display-mode: standalone)").matches||ut.navigator.standalone)},mobile:Ce,mobileweb:ut=>Ce(ut)&&!re(ut),desktop:ut=>!Ce(ut),hybrid:re};let tn;const Kn=ut=>ut&&(0,x.Wi)(ut)||tn,lr=(ut={})=>{if(typeof window>"u")return;const Ue=window.document,ce=window,de=ce.Ionic=ce.Ionic||{},Ae={};ut._ael&&(Ae.ael=ut._ael),ut._rel&&(Ae.rel=ut._rel),ut._ce&&(Ae.ce=ut._ce),(0,x.zb)(Ae);const Et=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(ut=>{try{const Ue=ut.sessionStorage.getItem(Ge);return null!==Ue?JSON.parse(Ue):{}}catch{return{}}})(ce)),{persistConfig:!1}),de.config),(ut=>{const Ue={};return ut.location.search.slice(1).split("&").map(ce=>ce.split("=")).map(([ce,de])=>{try{return[decodeURIComponent(ce),decodeURIComponent(de)]}catch{return["",""]}}).filter(([ce])=>((ut,Ue)=>ut.substr(0,Ue.length)===Ue)(ce,"ionic:")).map(([ce,de])=>[ce.slice(6),de]).forEach(([ce,de])=>{Ue[ce]=de}),Ue})(ce)),ut);H.reset(Et),H.getBoolean("persistConfig")&&((ut,Ue)=>{try{ut.sessionStorage.setItem(Ge,JSON.stringify(Ue))}catch{return}})(ce,Et),Se(ce),de.config=H,de.mode=tn=H.get("mode",Ue.documentElement.getAttribute("mode")||(Oe(ce,"ios")?"ios":"md")),H.set("mode",tn),Ue.documentElement.setAttribute("mode",tn),Ue.documentElement.classList.add(tn),H.getBoolean("_testing")&&H.set("animated",!1);const Mt=ln=>{var Xt;return null===(Xt=ln.tagName)||void 0===Xt?void 0:Xt.startsWith("ION-")},Ft=ln=>["ios","md"].includes(ln);(0,x.iY)(ln=>{for(;ln;){const Xt=ln.mode||ln.getAttribute("mode");if(Xt){if(Ft(Xt))return Xt;Mt(ln)&&console.warn('Invalid ionic mode: "'+Xt+'", expected: "ios" or "md"')}ln=ln.parentElement}return tn})}},5680:(Vn,At,B)=>{"use strict";B.d(At,{K:()=>_e,a:()=>H});var x=B(6081),g=function(J){return J.Unimplemented="UNIMPLEMENTED",J.Unavailable="UNAVAILABLE",J}(g||{}),H=function(J){return J.Body="body",J.Ionic="ionic",J.Native="native",J.None="none",J}(H||{});const _e={getEngine(){const J=(0,x.g)();if(null!=J&&J.isPluginAvailable("Keyboard"))return J.Plugins.Keyboard},getResizeMode(){const J=this.getEngine();return null!=J&&J.getResizeMode?J.getResizeMode().catch(S=>{if(S.code!==g.Unimplemented)throw S}):Promise.resolve(void 0)}}},6008:(Vn,At,B)=>{"use strict";B.r(At),B.d(At,{KEYBOARD_DID_CLOSE:()=>H,KEYBOARD_DID_OPEN:()=>g,copyVisualViewport:()=>vt,keyboardDidClose:()=>ot,keyboardDidOpen:()=>qe,keyboardDidResize:()=>Ne,resetKeyboardAssist:()=>se,setKeyboardClose:()=>Se,setKeyboardOpen:()=>Oe,startKeyboardAssist:()=>Ge,trackViewportChanges:()=>pe});var x=B(5680);const g="ionKeyboardDidShow",H="ionKeyboardDidHide";let J={},S={},ke=!1;const se=()=>{J={},S={},ke=!1},Ge=ct=>{if(x.K.getEngine())wt(ct);else{if(!ct.visualViewport)return;S=vt(ct.visualViewport),ct.visualViewport.onresize=()=>{pe(ct),qe()||Ne(ct)?Oe(ct):ot(ct)&&Se(ct)}}},wt=ct=>{ct.addEventListener("keyboardDidShow",Je=>Oe(ct,Je)),ct.addEventListener("keyboardDidHide",()=>Se(ct))},Oe=(ct,Je)=>{it(ct,Je),ke=!0},Se=ct=>{Pe(ct),ke=!1},qe=()=>!ke&&J.width===S.width&&(J.height-S.height)*S.scale>150,Ne=ct=>ke&&!ot(ct),ot=ct=>ke&&S.height===ct.innerHeight,it=(ct,Je)=>{const $e=new CustomEvent(g,{detail:{keyboardHeight:Je?Je.keyboardHeight:ct.innerHeight-S.height}});ct.dispatchEvent($e)},Pe=ct=>{const Je=new CustomEvent(H);ct.dispatchEvent(Je)},pe=ct=>{J=Object.assign({},S),S=vt(ct.visualViewport)},vt=ct=>({width:Math.round(ct.width),height:Math.round(ct.height),offsetTop:ct.offsetTop,offsetLeft:ct.offsetLeft,pageTop:ct.pageTop,pageLeft:ct.pageLeft,scale:ct.scale})},9986:(Vn,At,B)=>{"use strict";B.d(At,{c:()=>S});var x=B(8476);let g;const _e=(ke,se,Ge)=>{const wt=se.startsWith("animation")?(ke=>(void 0===g&&(g=void 0===ke.style.animationName&&void 0!==ke.style.webkitAnimationName?"-webkit-":""),g))(ke):"";ke.style.setProperty(wt+se,Ge)},J=(ke=[],se)=>{if(void 0!==se){const Ge=Array.isArray(se)?se:[se];return[...ke,...Ge]}return ke},S=ke=>{let se,Ge,wt,Oe,Se,qe,pe,Dt,Ke,je,tn,Ne=[],ot=[],it=[],Pe=!1,vt={},ct=[],Je=[],Ce={},$e=0,re=!1,rt=!1,Lt=!0,Bt=!1,Xn=!0,Kn=!1;const lr=ke,ut=[],Ue=[],ce=[],de=[],Ae=[],Et=[],Mt=[],Ft=[],ln=[],Xt=[],dr=[],er="function"==typeof AnimationEffect||void 0!==x.w&&"function"==typeof x.w.AnimationEffect,wn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&er,wr=()=>dr,pr=(Qe,an)=>{const zn=an.findIndex(_r=>_r.c===Qe);zn>-1&&an.splice(zn,1)},yn=(Qe,an)=>((null!=an&&an.oneTimeCallback?Ue:ut).push({c:Qe,o:an}),tn),rn=()=>{wn&&(dr.forEach(Qe=>{Qe.cancel()}),dr.length=0)},Kt=()=>{Et.forEach(Qe=>{null!=Qe&&Qe.parentNode&&Qe.parentNode.removeChild(Qe)}),Et.length=0},Er=()=>void 0!==Se?Se:pe?pe.getFill():"both",To=()=>void 0!==Dt?Dt:void 0!==qe?qe:pe?pe.getDirection():"normal",Lr=()=>re?"linear":void 0!==wt?wt:pe?pe.getEasing():"linear",io=()=>rt?0:void 0!==Ke?Ke:void 0!==Ge?Ge:pe?pe.getDuration():0,nn=()=>void 0!==Oe?Oe:pe?pe.getIterations():1,Ir=()=>void 0!==je?je:void 0!==se?se:pe?pe.getDelay():0,He=()=>{0!==$e&&($e--,0===$e&&((()=>{ln.forEach(Zr=>Zr()),Xt.forEach(Zr=>Zr());const Qe=Lt?1:0,an=ct,zn=Je,_r=Ce;de.forEach(Zr=>{const Te=Zr.classList;an.forEach(et=>Te.add(et)),zn.forEach(et=>Te.remove(et));for(const et in _r)_r.hasOwnProperty(et)&&_e(Zr,et,_r[et])}),Ke=void 0,Dt=void 0,je=void 0,ut.forEach(Zr=>Zr.c(Qe,tn)),Ue.forEach(Zr=>Zr.c(Qe,tn)),Ue.length=0,Xn=!0,Lt&&(Bt=!0),Lt=!0})(),pe&&pe.animationFinish()))},ye=()=>{(()=>{Mt.forEach(_r=>_r()),Ft.forEach(_r=>_r());const Qe=ot,an=it,zn=vt;de.forEach(_r=>{const Zr=_r.classList;Qe.forEach(Te=>Zr.add(Te)),an.forEach(Te=>Zr.remove(Te));for(const Te in zn)zn.hasOwnProperty(Te)&&_e(_r,Te,zn[Te])})})(),Ne.length>0&&wn&&(de.forEach(Qe=>{const an=Qe.animate(Ne,{id:lr,delay:Ir(),duration:io(),easing:Lr(),iterations:nn(),fill:Er(),direction:To()});an.pause(),dr.push(an)}),dr.length>0&&(dr[0].onfinish=()=>{He()})),Pe=!0},le=Qe=>{Qe=Math.min(Math.max(Qe,0),.9999),wn&&dr.forEach(an=>{an.currentTime=an.effect.getComputedTiming().delay+io()*Qe,an.pause()})},zt=Qe=>{dr.forEach(an=>{an.effect.updateTiming({delay:Ir(),duration:io(),easing:Lr(),iterations:nn(),fill:Er(),direction:To()})}),void 0!==Qe&&le(Qe)},cn=(Qe=!1,an=!0,zn)=>(Qe&&Ae.forEach(_r=>{_r.update(Qe,an,zn)}),wn&&zt(zn),tn),Gr=()=>{Pe&&(wn?dr.forEach(Qe=>{Qe.pause()}):de.forEach(Qe=>{_e(Qe,"animation-play-state","paused")}),Kn=!0)},Dr=Qe=>new Promise(an=>{null!=Qe&&Qe.sync&&(rt=!0,yn(()=>rt=!1,{oneTimeCallback:!0})),Pe||ye(),Bt&&(wn&&(le(0),zt()),Bt=!1),Xn&&($e=Ae.length+1,Xn=!1);const zn=()=>{pr(_r,Ue),an()},_r=()=>{pr(zn,ce),an()};yn(_r,{oneTimeCallback:!0}),(Qe=>{ce.push({c:Qe,o:{oneTimeCallback:!0}})})(zn),Ae.forEach(Zr=>{Zr.play()}),wn?(dr.forEach(Qe=>{Qe.play()}),(0===Ne.length||0===de.length)&&He()):He(),Kn=!1}),co=(Qe,an)=>{const zn=Ne[0];return void 0===zn||void 0!==zn.offset&&0!==zn.offset?Ne=[{offset:0,[Qe]:an},...Ne]:zn[Qe]=an,tn};return tn={parentAnimation:pe,elements:de,childAnimations:Ae,id:lr,animationFinish:He,from:co,to:(Qe,an)=>{const zn=Ne[Ne.length-1];return void 0===zn||void 0!==zn.offset&&1!==zn.offset?Ne=[...Ne,{offset:1,[Qe]:an}]:zn[Qe]=an,tn},fromTo:(Qe,an,zn)=>co(Qe,an).to(Qe,zn),parent:Qe=>(pe=Qe,tn),play:Dr,pause:()=>(Ae.forEach(Qe=>{Qe.pause()}),Gr(),tn),stop:()=>{Ae.forEach(Qe=>{Qe.stop()}),Pe&&(rn(),Pe=!1),re=!1,rt=!1,Xn=!0,Dt=void 0,Ke=void 0,je=void 0,$e=0,Bt=!1,Lt=!0,Kn=!1,ce.forEach(Qe=>Qe.c(0,tn)),ce.length=0},destroy:Qe=>(Ae.forEach(an=>{an.destroy(Qe)}),(Qe=>{rn(),Qe&&Kt()})(Qe),de.length=0,Ae.length=0,Ne.length=0,ut.length=0,Ue.length=0,Pe=!1,Xn=!0,tn),keyframes:Qe=>{const an=Ne!==Qe;return Ne=Qe,an&&(Qe=>{wn&&wr().forEach(an=>{const zn=an.effect;if(zn.setKeyframes)zn.setKeyframes(Qe);else{const _r=new KeyframeEffect(zn.target,Qe,zn.getTiming());an.effect=_r}})})(Ne),tn},addAnimation:Qe=>{if(null!=Qe)if(Array.isArray(Qe))for(const an of Qe)an.parent(tn),Ae.push(an);else Qe.parent(tn),Ae.push(Qe);return tn},addElement:Qe=>{if(null!=Qe)if(1===Qe.nodeType)de.push(Qe);else if(Qe.length>=0)for(let an=0;an<Qe.length;an++)de.push(Qe[an]);else console.error("Invalid addElement value");return tn},update:cn,fill:Qe=>(Se=Qe,cn(!0),tn),direction:Qe=>(qe=Qe,cn(!0),tn),iterations:Qe=>(Oe=Qe,cn(!0),tn),duration:Qe=>(!wn&&0===Qe&&(Qe=1),Ge=Qe,cn(!0),tn),easing:Qe=>(wt=Qe,cn(!0),tn),delay:Qe=>(se=Qe,cn(!0),tn),getWebAnimations:wr,getKeyframes:()=>Ne,getFill:Er,getDirection:To,getDelay:Ir,getIterations:nn,getEasing:Lr,getDuration:io,afterAddRead:Qe=>(ln.push(Qe),tn),afterAddWrite:Qe=>(Xt.push(Qe),tn),afterClearStyles:(Qe=[])=>{for(const an of Qe)Ce[an]="";return tn},afterStyles:(Qe={})=>(Ce=Qe,tn),afterRemoveClass:Qe=>(Je=J(Je,Qe),tn),afterAddClass:Qe=>(ct=J(ct,Qe),tn),beforeAddRead:Qe=>(Mt.push(Qe),tn),beforeAddWrite:Qe=>(Ft.push(Qe),tn),beforeClearStyles:(Qe=[])=>{for(const an of Qe)vt[an]="";return tn},beforeStyles:(Qe={})=>(vt=Qe,tn),beforeRemoveClass:Qe=>(it=J(it,Qe),tn),beforeAddClass:Qe=>(ot=J(ot,Qe),tn),onFinish:yn,isRunning:()=>0!==$e&&!Kn,progressStart:(Qe=!1,an)=>(Ae.forEach(zn=>{zn.progressStart(Qe,an)}),Gr(),re=Qe,Pe||ye(),cn(!1,!0,an),tn),progressStep:Qe=>(Ae.forEach(an=>{an.progressStep(Qe)}),le(Qe),tn),progressEnd:(Qe,an,zn)=>(re=!1,Ae.forEach(_r=>{_r.progressEnd(Qe,an,zn)}),void 0!==zn&&(Ke=zn),Bt=!1,Lt=!0,0===Qe?(Dt="reverse"===To()?"normal":"reverse","reverse"===Dt&&(Lt=!1),wn?(cn(),le(1-an)):(je=(1-an)*io()*-1,cn(!1,!1))):1===Qe&&(wn?(cn(),le(an)):(je=an*io()*-1,cn(!1,!1))),void 0!==Qe&&!pe&&Dr(),tn)}}},464:(Vn,At,B)=>{"use strict";B.d(At,{E:()=>wt,a:()=>x,s:()=>se});const x=Oe=>{try{if(Oe instanceof ke)return Oe.value;if(!_e()||"string"!=typeof Oe||""===Oe)return Oe;if(Oe.includes("onload="))return"";const Se=document.createDocumentFragment(),qe=document.createElement("div");Se.appendChild(qe),qe.innerHTML=Oe,S.forEach(Pe=>{const pe=Se.querySelectorAll(Pe);for(let vt=pe.length-1;vt>=0;vt--){const ct=pe[vt];ct.parentNode?ct.parentNode.removeChild(ct):Se.removeChild(ct);const Je=H(ct);for(let Ce=0;Ce<Je.length;Ce++)g(Je[Ce])}});const Ne=H(Se);for(let Pe=0;Pe<Ne.length;Pe++)g(Ne[Pe]);const ot=document.createElement("div");ot.appendChild(Se);const it=ot.querySelector("div");return null!==it?it.innerHTML:ot.innerHTML}catch(Se){return console.error(Se),""}},g=Oe=>{if(Oe.nodeType&&1!==Oe.nodeType)return;if(typeof NamedNodeMap<"u"&&!(Oe.attributes instanceof NamedNodeMap))return void Oe.remove();for(let qe=Oe.attributes.length-1;qe>=0;qe--){const Ne=Oe.attributes.item(qe),ot=Ne.name;if(!J.includes(ot.toLowerCase())){Oe.removeAttribute(ot);continue}const it=Ne.value,Pe=Oe[ot];(null!=it&&it.toLowerCase().includes("javascript:")||null!=Pe&&Pe.toLowerCase().includes("javascript:"))&&Oe.removeAttribute(ot)}const Se=H(Oe);for(let qe=0;qe<Se.length;qe++)g(Se[qe])},H=Oe=>null!=Oe.children?Oe.children:Oe.childNodes,_e=()=>{var Oe;const Se=window,qe=null===(Oe=null==Se?void 0:Se.Ionic)||void 0===Oe?void 0:Oe.config;return!qe||(qe.get?qe.get("sanitizerEnabled",!0):!0===qe.sanitizerEnabled||void 0===qe.sanitizerEnabled)},J=["class","id","href","src","name","slot"],S=["script","style","iframe","meta","link","object","embed"];class ke{constructor(Se){this.value=Se}}const se=Oe=>{const Se=window,qe=Se.Ionic;if(!qe||!qe.config||"Object"===qe.config.constructor.name)return Se.Ionic=Se.Ionic||{},Se.Ionic.config=Object.assign(Object.assign({},Se.Ionic.config),Oe),Se.Ionic.config},wt=!1},8621:(Vn,At,B)=>{"use strict";B.d(At,{C:()=>J,a:()=>H,d:()=>_e});var x=B(467),g=B(4920);const H=function(){var S=(0,x.A)(function*(ke,se,Ge,wt,Oe,Se){var qe;if(ke)return ke.attachViewToDom(se,Ge,Oe,wt);if(!(Se||"string"==typeof Ge||Ge instanceof HTMLElement))throw new Error("framework delegate is missing");const Ne="string"==typeof Ge?null===(qe=se.ownerDocument)||void 0===qe?void 0:qe.createElement(Ge):Ge;return wt&&wt.forEach(ot=>Ne.classList.add(ot)),Oe&&Object.assign(Ne,Oe),se.appendChild(Ne),yield new Promise(ot=>(0,g.c)(Ne,ot)),Ne});return function(se,Ge,wt,Oe,Se,qe){return S.apply(this,arguments)}}(),_e=(S,ke)=>{if(ke){if(S)return S.removeViewFromDom(ke.parentElement,ke);ke.remove()}return Promise.resolve()},J=()=>{let S,ke;return{attachViewToDom:function(){var wt=(0,x.A)(function*(Oe,Se,qe={},Ne=[]){var ot,it;let Pe;if(S=Oe,Se){const vt="string"==typeof Se?null===(ot=S.ownerDocument)||void 0===ot?void 0:ot.createElement(Se):Se;Ne.forEach(ct=>vt.classList.add(ct)),Object.assign(vt,qe),S.appendChild(vt),Pe=vt,yield new Promise(ct=>(0,g.c)(vt,ct))}else if(S.children.length>0&&("ION-MODAL"===S.tagName||"ION-POPOVER"===S.tagName)&&!(Pe=S.children[0]).classList.contains("ion-delegate-host")){const ct=null===(it=S.ownerDocument)||void 0===it?void 0:it.createElement("div");ct.classList.add("ion-delegate-host"),Ne.forEach(Je=>ct.classList.add(Je)),ct.append(...S.children),S.appendChild(ct),Pe=ct}const pe=document.querySelector("ion-app")||document.body;return ke=document.createComment("ionic teleport"),S.parentNode.insertBefore(ke,S),pe.appendChild(S),null!=Pe?Pe:S});return function(Se,qe){return wt.apply(this,arguments)}}(),removeViewFromDom:()=>(S&&ke&&(ke.parentNode.insertBefore(S,ke),ke.remove()),Promise.resolve())}}},1970:(Vn,At,B)=>{"use strict";B.d(At,{B:()=>_e,G:()=>J});class g{constructor(ke,se,Ge,wt,Oe){this.id=se,this.name=Ge,this.disableScroll=Oe,this.priority=1e6*wt+se,this.ctrl=ke}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ke=this.ctrl.capture(this.name,this.id,this.priority);return ke&&this.disableScroll&&this.ctrl.disableScroll(this.id),ke}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class H{constructor(ke,se,Ge,wt){this.id=se,this.disable=Ge,this.disableScroll=wt,this.ctrl=ke}block(){if(this.ctrl){if(this.disable)for(const ke of this.disable)this.ctrl.disableGesture(ke,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ke of this.disable)this.ctrl.enableGesture(ke,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const _e="backdrop-no-scroll",J=new class x{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ke){var se;return new g(this,this.newID(),ke.name,null!==(se=ke.priority)&&void 0!==se?se:0,!!ke.disableScroll)}createBlocker(ke={}){return new H(this,this.newID(),ke.disable,!!ke.disableScroll)}start(ke,se,Ge){return this.canStart(ke)?(this.requestedStart.set(se,Ge),!0):(this.requestedStart.delete(se),!1)}capture(ke,se,Ge){if(!this.start(ke,se,Ge))return!1;const wt=this.requestedStart;let Oe=-1e4;if(wt.forEach(Se=>{Oe=Math.max(Oe,Se)}),Oe===Ge){this.capturedId=se,wt.clear();const Se=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ke}});return document.dispatchEvent(Se),!0}return wt.delete(se),!1}release(ke){this.requestedStart.delete(ke),this.capturedId===ke&&(this.capturedId=void 0)}disableGesture(ke,se){let Ge=this.disabledGestures.get(ke);void 0===Ge&&(Ge=new Set,this.disabledGestures.set(ke,Ge)),Ge.add(se)}enableGesture(ke,se){const Ge=this.disabledGestures.get(ke);void 0!==Ge&&Ge.delete(se)}disableScroll(ke){this.disabledScroll.add(ke),1===this.disabledScroll.size&&document.body.classList.add(_e)}enableScroll(ke){this.disabledScroll.delete(ke),0===this.disabledScroll.size&&document.body.classList.remove(_e)}canStart(ke){return!(void 0!==this.capturedId||this.isDisabled(ke))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ke){const se=this.disabledGestures.get(ke);return!!(se&&se.size>0)}newID(){return this.gestureId++,this.gestureId}}},7192:(Vn,At,B)=>{"use strict";B.r(At),B.d(At,{MENU_BACK_BUTTON_PRIORITY:()=>Ge,OVERLAY_BACK_BUTTON_PRIORITY:()=>se,blockHardwareBackButton:()=>S,shouldUseCloseWatcher:()=>J,startHardwareBackButton:()=>ke});var x=B(467),g=B(8476),H=B(9483);B(4261);const J=()=>H.c.get("experimentalCloseWatcher",!1)&&void 0!==g.w&&"CloseWatcher"in g.w,S=()=>{document.addEventListener("backbutton",()=>{})},ke=()=>{const wt=document;let Oe=!1;const Se=()=>{if(Oe)return;let qe=0,Ne=[];const ot=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(pe,vt){Ne.push({priority:pe,handler:vt,id:qe++})}}});wt.dispatchEvent(ot);const it=function(){var pe=(0,x.A)(function*(vt){try{if(null!=vt&&vt.handler){const ct=vt.handler(Pe);null!=ct&&(yield ct)}}catch(ct){console.error(ct)}});return function(ct){return pe.apply(this,arguments)}}(),Pe=()=>{if(Ne.length>0){let pe={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ne.forEach(vt=>{vt.priority>=pe.priority&&(pe=vt)}),Oe=!0,Ne=Ne.filter(vt=>vt.id!==pe.id),it(pe).then(()=>Oe=!1)}};Pe()};if(J()){let qe;const Ne=()=>{null==qe||qe.destroy(),qe=new g.w.CloseWatcher,qe.onclose=()=>{Se(),Ne()}};Ne()}else wt.addEventListener("backbutton",Se)},se=100,Ge=99},4920:(Vn,At,B)=>{"use strict";B.d(At,{a:()=>se,b:()=>Ge,c:()=>H,d:()=>Ne,e:()=>vt,f:()=>qe,g:()=>wt,h:()=>J,i:()=>ke,j:()=>ot,k:()=>_e,l:()=>Se,m:()=>it,n:()=>pe,o:()=>ct,p:()=>Pe,r:()=>Oe,s:()=>Je,t:()=>x});const x=(Ce,$e=0)=>new Promise(re=>{g(Ce,$e,re)}),g=(Ce,$e=0,re)=>{let rt,Dt;const Ke={passive:!0},Lt=()=>{rt&&rt()},Bt=Xn=>{(void 0===Xn||Ce===Xn.target)&&(Lt(),re(Xn))};return Ce&&(Ce.addEventListener("webkitTransitionEnd",Bt,Ke),Ce.addEventListener("transitionend",Bt,Ke),Dt=setTimeout(Bt,$e+500),rt=()=>{void 0!==Dt&&(clearTimeout(Dt),Dt=void 0),Ce.removeEventListener("webkitTransitionEnd",Bt,Ke),Ce.removeEventListener("transitionend",Bt,Ke)}),Lt},H=(Ce,$e)=>{Ce.componentOnReady?Ce.componentOnReady().then(re=>$e(re)):Oe(()=>$e(Ce))},_e=Ce=>void 0!==Ce.componentOnReady,J=(Ce,$e=[])=>{const re={};return $e.forEach(rt=>{Ce.hasAttribute(rt)&&(null!==Ce.getAttribute(rt)&&(re[rt]=Ce.getAttribute(rt)),Ce.removeAttribute(rt))}),re},S=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ke=(Ce,$e)=>{let re=S;return $e&&$e.length>0&&(re=re.filter(rt=>!$e.includes(rt))),J(Ce,re)},se=(Ce,$e,re,rt)=>{var Dt;if(typeof window<"u"){const Ke=window,je=null===(Dt=null==Ke?void 0:Ke.Ionic)||void 0===Dt?void 0:Dt.config;if(je){const Lt=je.get("_ael");if(Lt)return Lt(Ce,$e,re,rt);if(je._ael)return je._ael(Ce,$e,re,rt)}}return Ce.addEventListener($e,re,rt)},Ge=(Ce,$e,re,rt)=>{var Dt;if(typeof window<"u"){const Ke=window,je=null===(Dt=null==Ke?void 0:Ke.Ionic)||void 0===Dt?void 0:Dt.config;if(je){const Lt=je.get("_rel");if(Lt)return Lt(Ce,$e,re,rt);if(je._rel)return je._rel(Ce,$e,re,rt)}}return Ce.removeEventListener($e,re,rt)},wt=(Ce,$e=Ce)=>Ce.shadowRoot||$e,Oe=Ce=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ce):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ce):setTimeout(Ce),Se=Ce=>!!Ce.shadowRoot&&!!Ce.attachShadow,qe=Ce=>{if(Ce.focus(),Ce.classList.contains("ion-focusable")){const $e=Ce.closest("ion-app");$e&&$e.setFocus([Ce])}},Ne=(Ce,$e,re,rt,Dt)=>{if(Ce||Se($e)){let Ke=$e.querySelector("input.aux-input");Ke||(Ke=$e.ownerDocument.createElement("input"),Ke.type="hidden",Ke.classList.add("aux-input"),$e.appendChild(Ke)),Ke.disabled=Dt,Ke.name=re,Ke.value=rt||""}},ot=(Ce,$e,re)=>Math.max(Ce,Math.min($e,re)),it=(Ce,$e)=>{if(!Ce){const re="ASSERT: "+$e;throw console.error(re),new Error(re)}},Pe=Ce=>{if(Ce){const $e=Ce.changedTouches;if($e&&$e.length>0){const re=$e[0];return{x:re.clientX,y:re.clientY}}if(void 0!==Ce.pageX)return{x:Ce.pageX,y:Ce.pageY}}return{x:0,y:0}},pe=Ce=>{const $e="rtl"===document.dir;switch(Ce){case"start":return $e;case"end":return!$e;default:throw new Error(`"${Ce}" is not a valid value for [side]. Use "start" or "end" instead.`)}},vt=(Ce,$e)=>{const re=Ce._original||Ce;return{_original:Ce,emit:ct(re.emit.bind(re),$e)}},ct=(Ce,$e=0)=>{let re;return(...rt)=>{clearTimeout(re),re=setTimeout(Ce,$e,...rt)}},Je=(Ce,$e)=>{if(null!=Ce||(Ce={}),null!=$e||($e={}),Ce===$e)return!0;const re=Object.keys(Ce);if(re.length!==Object.keys($e).length)return!1;for(const rt of re)if(!(rt in $e)||Ce[rt]!==$e[rt])return!1;return!0}},4261:(Vn,At,B)=>{"use strict";B.d(At,{B:()=>S,a:()=>Xn,b:()=>Za,c:()=>Er,d:()=>nn,e:()=>ln,f:()=>fr,g:()=>To,h:()=>Tr,i:()=>io,j:()=>yt,k:()=>dr,r:()=>Ge,w:()=>Xt});var x=B(467);var _e=Object.defineProperty,S={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},ke=new WeakMap,se=M=>ke.get(M),Ge=(M,q)=>ke.set(q.$lazyInstance$=M,q),Oe=(M,q)=>q in M,Se=(M,q)=>(0,console.error)(M,q),qe=new Map,ot=new Map,it=[],Je="s-id",rt="slot-fb{display:contents}slot-fb[hidden]{display:none}",Dt="http://www.w3.org/1999/xlink",Ke=typeof window<"u"?window:{},je=Ke.document||{head:{}},Bt={$flags$:0,$resourcesUrl$:"",jmp:M=>M(),raf:M=>requestAnimationFrame(M),ael:(M,q,Ze,st)=>M.addEventListener(q,Ze,st),rel:(M,q,Ze,st)=>M.removeEventListener(q,Ze,st),ce:(M,q)=>new CustomEvent(M,q)},Xn=M=>{Object.assign(Bt,M)},Kn=(()=>{let M=!1;try{je.addEventListener("e",null,Object.defineProperty({},"passive",{get(){M=!0}}))}catch{}return M})(),ut=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Ue=!1,ce=[],de=[],Ae=(M,q)=>Ze=>{M.push(Ze),Ue||(Ue=!0,q&&4&Bt.$flags$?Ft(Mt):Bt.raf(Mt))},Et=M=>{for(let q=0;q<M.length;q++)try{M[q](performance.now())}catch(Ze){Se(Ze)}M.length=0},Mt=()=>{Et(ce),Et(de),(Ue=ce.length>0)&&Bt.raf(Mt)},Ft=M=>Promise.resolve(void 0).then(M),ln=Ae(ce,!1),Xt=Ae(de,!0),dr=M=>{const q=new URL(M,Bt.$resourcesUrl$);return q.origin!==Ke.location.origin?q.href:q.pathname},er={},hr=M=>"object"==(M=typeof M)||"function"===M;function Ar(M){var q,Ze,st;return null!=(st=null==(Ze=null==(q=M.head)?void 0:q.querySelector('meta[name="csp-nonce"]'))?void 0:Ze.getAttribute("content"))?st:void 0}((M,q)=>{for(var Ze in q)_e(M,Ze,{get:q[Ze],enumerable:!0})})({},{err:()=>Kr,map:()=>yn,ok:()=>pr,unwrap:()=>en,unwrapErr:()=>rn});var pr=M=>({isOk:!0,isErr:!1,value:M}),Kr=M=>({isOk:!1,isErr:!0,value:M});function yn(M,q){if(M.isOk){const Ze=q(M.value);return Ze instanceof Promise?Ze.then(st=>pr(st)):pr(Ze)}if(M.isErr)return Kr(M.value);throw"should never get here"}var en=M=>{if(M.isOk)return M.value;throw M.value},rn=M=>{if(M.isErr)return M.value;throw M.value},Tr=(M,q,...Ze)=>{let st=null,Ot=null,kt=null,Nt=!1,Vt=!1;const In=[],Fn=ur=>{for(let Mr=0;Mr<ur.length;Mr++)st=ur[Mr],Array.isArray(st)?Fn(st):null!=st&&"boolean"!=typeof st&&((Nt="function"!=typeof M&&!hr(st))&&(st=String(st)),Nt&&Vt?In[In.length-1].$text$+=st:In.push(Nt?sr(null,st):st),Vt=Nt)};if(Fn(Ze),q){q.key&&(Ot=q.key),q.name&&(kt=q.name);{const ur=q.className||q.class;ur&&(q.class="object"!=typeof ur?ur:Object.keys(ur).filter(Mr=>ur[Mr]).join(" "))}}if("function"==typeof M)return M(null===q?{}:q,In,ho);const ir=sr(M,null);return ir.$attrs$=q,In.length>0&&(ir.$children$=In),ir.$key$=Ot,ir.$name$=kt,ir},sr=(M,q)=>({$flags$:0,$tag$:M,$text$:q,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),fr={},ho={forEach:(M,q)=>M.map(Vr).forEach(q),map:(M,q)=>M.map(Vr).map(q).map(ko)},Vr=M=>({vattrs:M.$attrs$,vchildren:M.$children$,vkey:M.$key$,vname:M.$name$,vtag:M.$tag$,vtext:M.$text$}),ko=M=>{if("function"==typeof M.vtag){const Ze={...M.vattrs};return M.vkey&&(Ze.key=M.vkey),M.vname&&(Ze.name=M.vname),Tr(M.vtag,Ze,...M.vchildren||[])}const q=sr(M.vtag,M.vtext);return q.$attrs$=M.vattrs,q.$children$=M.vchildren,q.$key$=M.vkey,q.$name$=M.vname,q},zr=(M,q,Ze,st,Ot,kt,Nt)=>{let Vt,In,Fn,ir;if(1===kt.nodeType){if(Vt=kt.getAttribute("c-id"),Vt&&(In=Vt.split("."),(In[0]===Nt||"0"===In[0])&&(Fn={$flags$:0,$hostId$:In[0],$nodeId$:In[1],$depth$:In[2],$index$:In[3],$tag$:kt.tagName.toLowerCase(),$elm$:kt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},q.push(Fn),kt.removeAttribute("c-id"),M.$children$||(M.$children$=[]),M.$children$[Fn.$index$]=Fn,M=Fn,st&&"0"===Fn.$depth$&&(st[Fn.$index$]=Fn.$elm$))),kt.shadowRoot)for(ir=kt.shadowRoot.childNodes.length-1;ir>=0;ir--)zr(M,q,Ze,st,Ot,kt.shadowRoot.childNodes[ir],Nt);for(ir=kt.childNodes.length-1;ir>=0;ir--)zr(M,q,Ze,st,Ot,kt.childNodes[ir],Nt)}else if(8===kt.nodeType)In=kt.nodeValue.split("."),(In[1]===Nt||"0"===In[1])&&(Vt=In[0],Fn={$flags$:0,$hostId$:In[1],$nodeId$:In[2],$depth$:In[3],$index$:In[4],$elm$:kt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Vt?(Fn.$elm$=kt.nextSibling,Fn.$elm$&&3===Fn.$elm$.nodeType&&(Fn.$text$=Fn.$elm$.textContent,q.push(Fn),kt.remove(),M.$children$||(M.$children$=[]),M.$children$[Fn.$index$]=Fn,st&&"0"===Fn.$depth$&&(st[Fn.$index$]=Fn.$elm$))):Fn.$hostId$===Nt&&("s"===Vt?(Fn.$tag$="slot",kt["s-sn"]=In[5]?Fn.$name$=In[5]:"",kt["s-sr"]=!0,st&&(Fn.$elm$=je.createElement(Fn.$tag$),Fn.$name$&&Fn.$elm$.setAttribute("name",Fn.$name$),kt.parentNode.insertBefore(Fn.$elm$,kt),kt.remove(),"0"===Fn.$depth$&&(st[Fn.$index$]=Fn.$elm$)),Ze.push(Fn),M.$children$||(M.$children$=[]),M.$children$[Fn.$index$]=Fn):"r"===Vt&&(st?kt.remove():(Ot["s-cr"]=kt,kt["s-cn"]=!0))));else if(M&&"style"===M.$tag$){const ur=sr(null,kt.textContent);ur.$elm$=kt,ur.$index$="0",M.$children$=[ur]}},Jr=(M,q)=>{if(1===M.nodeType){let Ze=0;if(M.shadowRoot)for(;Ze<M.shadowRoot.childNodes.length;Ze++)Jr(M.shadowRoot.childNodes[Ze],q);for(Ze=0;Ze<M.childNodes.length;Ze++)Jr(M.childNodes[Ze],q)}else if(8===M.nodeType){const Ze=M.nodeValue.split(".");"o"===Ze[0]&&(q.set(Ze[1]+"."+Ze[2],M),M.nodeValue="",M["s-en"]=Ze[3])}},Er=M=>it.push(M),To=M=>se(M).$modeName$,io=M=>se(M).$hostElement$,nn=(M,q,Ze)=>{const st=io(M);return{emit:Ot=>Ir(st,q,{bubbles:!!(4&Ze),composed:!!(2&Ze),cancelable:!!(1&Ze),detail:Ot})}},Ir=(M,q,Ze)=>{const st=Bt.ce(q,Ze);return M.dispatchEvent(st),st},$r=new WeakMap,Qt=(M,q,Ze)=>{var st;const Ot=sn(q,Ze),kt=ot.get(Ot);if(M=11===M.nodeType?M:je,kt)if("string"==typeof kt){let Vt,Nt=$r.get(M=M.head||M);if(Nt||$r.set(M,Nt=new Set),!Nt.has(Ot)){if(M.host&&(Vt=M.querySelector(`[sty-id="${Ot}"]`)))Vt.innerHTML=kt;else{Vt=je.createElement("style"),Vt.innerHTML=kt;const In=null!=(st=Bt.$nonce$)?st:Ar(je);null!=In&&Vt.setAttribute("nonce",In),(!(1&q.$flags$)||1&q.$flags$&&"HEAD"!==M.nodeName)&&M.insertBefore(Vt,M.querySelector("link"))}4&q.$flags$&&(Vt.innerHTML+=rt),Nt&&Nt.add(Ot)}}else M.adoptedStyleSheets.includes(kt)||(M.adoptedStyleSheets=[...M.adoptedStyleSheets,kt]);return Ot},sn=(M,q)=>"sc-"+(q&&32&M.$flags$?M.$tagName$+"-"+q:M.$tagName$),_t=(M,q,Ze,st,Ot,kt)=>{if(Ze!==st){let Nt=Oe(M,q),Vt=q.toLowerCase();if("class"===q){const In=M.classList,Fn=_n(Ze),ir=_n(st);In.remove(...Fn.filter(ur=>ur&&!ir.includes(ur))),In.add(...ir.filter(ur=>ur&&!Fn.includes(ur)))}else if("style"===q){for(const In in Ze)(!st||null==st[In])&&(In.includes("-")?M.style.removeProperty(In):M.style[In]="");for(const In in st)(!Ze||st[In]!==Ze[In])&&(In.includes("-")?M.style.setProperty(In,st[In]):M.style[In]=st[In])}else if("key"!==q)if("ref"===q)st&&st(M);else if(Nt||"o"!==q[0]||"n"!==q[1]){const In=hr(st);if((Nt||In&&null!==st)&&!Ot)try{if(M.tagName.includes("-"))M[q]=st;else{const ir=null==st?"":st;"list"===q?Nt=!1:(null==Ze||M[q]!=ir)&&(M[q]=ir)}}catch{}let Fn=!1;Vt!==(Vt=Vt.replace(/^xlink\:?/,""))&&(q=Vt,Fn=!0),null==st||!1===st?(!1!==st||""===M.getAttribute(q))&&(Fn?M.removeAttributeNS(Dt,q):M.removeAttribute(q)):(!Nt||4&kt||Ot)&&!In&&(st=!0===st?"":st,Fn?M.setAttributeNS(Dt,q,st):M.setAttribute(q,st))}else if(q="-"===q[2]?q.slice(3):Oe(Ke,Vt)?Vt.slice(2):Vt[2]+q.slice(3),Ze||st){const In=q.endsWith(Nn);q=q.replace(bt,""),Ze&&Bt.rel(M,q,Ze,In),st&&Bt.ael(M,q,st,In)}}},Tt=/\s/,_n=M=>M?M.split(Tt):[],Nn="Capture",bt=new RegExp(Nn+"$"),jt=(M,q,Ze)=>{const st=11===q.$elm$.nodeType&&q.$elm$.host?q.$elm$.host:q.$elm$,Ot=M&&M.$attrs$||er,kt=q.$attrs$||er;for(const Nt of vn(Object.keys(Ot)))Nt in kt||_t(st,Nt,Ot[Nt],void 0,Ze,q.$flags$);for(const Nt of vn(Object.keys(kt)))_t(st,Nt,Ot[Nt],kt[Nt],Ze,q.$flags$)};function vn(M){return M.includes("ref")?[...M.filter(q=>"ref"!==q),"ref"]:M}var gn,mt,He,Ut=!1,ye=!1,le=!1,zt=!1,cn=(M,q,Ze,st)=>{var Ot;const kt=q.$children$[Ze];let Vt,In,Fn,Nt=0;if(Ut||(le=!0,"slot"===kt.$tag$&&(gn&&st.classList.add(gn+"-s"),kt.$flags$|=kt.$children$?2:1)),null!==kt.$text$)Vt=kt.$elm$=je.createTextNode(kt.$text$);else if(1&kt.$flags$)Vt=kt.$elm$=je.createTextNode("");else{if(zt||(zt="svg"===kt.$tag$),Vt=kt.$elm$=je.createElementNS(zt?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!Ut&&2&kt.$flags$?"slot-fb":kt.$tag$),zt&&"foreignObject"===kt.$tag$&&(zt=!1),jt(null,kt,zt),!!Vt.getRootNode().querySelector("body")&&(M=>null!=M)(gn)&&Vt["s-si"]!==gn&&Vt.classList.add(Vt["s-si"]=gn),_r(Vt,st),kt.$children$)for(Nt=0;Nt<kt.$children$.length;++Nt)In=cn(M,kt,Nt,Vt),In&&Vt.appendChild(In);"svg"===kt.$tag$?zt=!1:"foreignObject"===Vt.tagName&&(zt=!0)}return Vt["s-hn"]=He,3&kt.$flags$&&(Vt["s-sr"]=!0,Vt["s-cr"]=mt,Vt["s-sn"]=kt.$name$||"",Vt["s-rf"]=null==(Ot=kt.$attrs$)?void 0:Ot.ref,Fn=M&&M.$children$&&M.$children$[Ze],Fn&&Fn.$tag$===kt.$tag$&&M.$elm$&&Zn(M.$elm$)),Vt},Zn=M=>{Bt.$flags$|=1;const q=M.closest(He.toLowerCase());if(null!=q){const Ze=Array.from(q.childNodes).find(Ot=>Ot["s-cr"]),st=Array.from(M.childNodes);for(const Ot of Ze?st.reverse():st)null!=Ot["s-sh"]&&(an(q,Ot,null!=Ze?Ze:null),Ot["s-sh"]=void 0,le=!0)}Bt.$flags$&=-2},qn=(M,q)=>{Bt.$flags$|=1;const Ze=Array.from(M.childNodes);if(M["s-sr"]){let st=M;for(;st=st.nextSibling;)st&&st["s-sn"]===M["s-sn"]&&st["s-sh"]===He&&Ze.push(st)}for(let st=Ze.length-1;st>=0;st--){const Ot=Ze[st];Ot["s-hn"]!==He&&Ot["s-ol"]&&(an(jo(Ot),Ot,_o(Ot)),Ot["s-ol"].remove(),Ot["s-ol"]=void 0,Ot["s-sh"]=void 0,le=!0),q&&qn(Ot,q)}Bt.$flags$&=-2},Mn=(M,q,Ze,st,Ot,kt)=>{let Vt,Nt=M["s-cr"]&&M["s-cr"].parentNode||M;for(Nt.shadowRoot&&Nt.tagName===He&&(Nt=Nt.shadowRoot);Ot<=kt;++Ot)st[Ot]&&(Vt=cn(null,Ze,Ot,M),Vt&&(st[Ot].$elm$=Vt,an(Nt,Vt,_o(q))))},Gr=(M,q,Ze)=>{for(let st=q;st<=Ze;++st){const Ot=M[st];if(Ot){const kt=Ot.$elm$;Qe(Ot),kt&&(ye=!0,kt["s-ol"]?kt["s-ol"].remove():qn(kt,!0),kt.remove())}}},ei=(M,q,Ze=!1)=>!(M.$tag$!==q.$tag$||("slot"===M.$tag$?"$nodeId$"in M&&Ze&&8!==M.$elm$.nodeType||M.$name$!==q.$name$:!Ze&&M.$key$!==q.$key$)),_o=M=>M&&M["s-ol"]||M,jo=M=>(M["s-ol"]?M["s-ol"]:M).parentNode,Dr=(M,q,Ze=!1)=>{const st=q.$elm$=M.$elm$,Ot=M.$children$,kt=q.$children$,Nt=q.$tag$,Vt=q.$text$;let In;null===Vt?(zt="svg"===Nt||"foreignObject"!==Nt&&zt,"slot"!==Nt||Ut?jt(M,q,zt):M.$name$!==q.$name$&&(q.$elm$["s-sn"]=q.$name$||"",Zn(q.$elm$.parentElement)),null!==Ot&&null!==kt?((M,q,Ze,st,Ot=!1)=>{let Wo,qo,kt=0,Nt=0,Vt=0,In=0,Fn=q.length-1,ir=q[0],ur=q[Fn],Mr=st.length-1,Pr=st[0],Oo=st[Mr];for(;kt<=Fn&&Nt<=Mr;)if(null==ir)ir=q[++kt];else if(null==ur)ur=q[--Fn];else if(null==Pr)Pr=st[++Nt];else if(null==Oo)Oo=st[--Mr];else if(ei(ir,Pr,Ot))Dr(ir,Pr,Ot),ir=q[++kt],Pr=st[++Nt];else if(ei(ur,Oo,Ot))Dr(ur,Oo,Ot),ur=q[--Fn],Oo=st[--Mr];else if(ei(ir,Oo,Ot))("slot"===ir.$tag$||"slot"===Oo.$tag$)&&qn(ir.$elm$.parentNode,!1),Dr(ir,Oo,Ot),an(M,ir.$elm$,ur.$elm$.nextSibling),ir=q[++kt],Oo=st[--Mr];else if(ei(ur,Pr,Ot))("slot"===ir.$tag$||"slot"===Oo.$tag$)&&qn(ur.$elm$.parentNode,!1),Dr(ur,Pr,Ot),an(M,ur.$elm$,ir.$elm$),ur=q[--Fn],Pr=st[++Nt];else{for(Vt=-1,In=kt;In<=Fn;++In)if(q[In]&&null!==q[In].$key$&&q[In].$key$===Pr.$key$){Vt=In;break}Vt>=0?(qo=q[Vt],qo.$tag$!==Pr.$tag$?Wo=cn(q&&q[Nt],Ze,Vt,M):(Dr(qo,Pr,Ot),q[Vt]=void 0,Wo=qo.$elm$),Pr=st[++Nt]):(Wo=cn(q&&q[Nt],Ze,Nt,M),Pr=st[++Nt]),Wo&&an(jo(ir.$elm$),Wo,_o(ir.$elm$))}kt>Fn?Mn(M,null==st[Mr+1]?null:st[Mr+1].$elm$,Ze,st,Nt,Mr):Nt>Mr&&Gr(q,kt,Fn)})(st,Ot,q,kt,Ze):null!==kt?(null!==M.$text$&&(st.textContent=""),Mn(st,null,q,kt,0,kt.length-1)):!Ze&&null!==Ot&&Gr(Ot,0,Ot.length-1),zt&&"svg"===Nt&&(zt=!1)):(In=st["s-cr"])?In.parentNode.textContent=Vt:M.$text$!==Vt&&(st.data=Vt)},Po=M=>{const q=M.childNodes;for(const Ze of q)if(1===Ze.nodeType){if(Ze["s-sr"]){const st=Ze["s-sn"];Ze.hidden=!1;for(const Ot of q)if(Ot!==Ze)if(Ot["s-hn"]!==Ze["s-hn"]||""!==st){if(1===Ot.nodeType&&(st===Ot.getAttribute("slot")||st===Ot["s-sn"])||3===Ot.nodeType&&st===Ot["s-sn"]){Ze.hidden=!0;break}}else if(1===Ot.nodeType||3===Ot.nodeType&&""!==Ot.textContent.trim()){Ze.hidden=!0;break}}Po(Ze)}},co=[],Qn=M=>{let q,Ze,st;for(const Ot of M.childNodes){if(Ot["s-sr"]&&(q=Ot["s-cr"])&&q.parentNode){Ze=q.parentNode.childNodes;const kt=Ot["s-sn"];for(st=Ze.length-1;st>=0;st--)if(q=Ze[st],!(q["s-cn"]||q["s-nr"]||q["s-hn"]===Ot["s-hn"]||q["s-sh"]&&q["s-sh"]===Ot["s-hn"]))if(zo(q,kt)){let Nt=co.find(Vt=>Vt.$nodeToRelocate$===q);ye=!0,q["s-sn"]=q["s-sn"]||kt,Nt?(Nt.$nodeToRelocate$["s-sh"]=Ot["s-hn"],Nt.$slotRefNode$=Ot):(q["s-sh"]=Ot["s-hn"],co.push({$slotRefNode$:Ot,$nodeToRelocate$:q})),q["s-sr"]&&co.map(Vt=>{zo(Vt.$nodeToRelocate$,q["s-sn"])&&(Nt=co.find(In=>In.$nodeToRelocate$===q),Nt&&!Vt.$slotRefNode$&&(Vt.$slotRefNode$=Nt.$slotRefNode$))})}else co.some(Nt=>Nt.$nodeToRelocate$===q)||co.push({$nodeToRelocate$:q})}1===Ot.nodeType&&Qn(Ot)}},zo=(M,q)=>1===M.nodeType?null===M.getAttribute("slot")&&""===q||M.getAttribute("slot")===q:M["s-sn"]===q||""===q,Qe=M=>{M.$attrs$&&M.$attrs$.ref&&M.$attrs$.ref(null),M.$children$&&M.$children$.map(Qe)},an=(M,q,Ze)=>{const st=null==M?void 0:M.insertBefore(q,Ze);return _r(q,M),st},zn=M=>{const q=[];return M&&q.push(...M["s-scs"]||[],M["s-si"],M["s-sc"],...zn(M.parentElement)),q},_r=(M,q,Ze=!1)=>{var st;if(M&&q&&1===M.nodeType){const Ot=new Set(zn(q).filter(Boolean));if(Ot.size&&(null==(st=M.classList)||st.add(...M["s-scs"]=[...Ot]),M["s-ol"]||Ze))for(const kt of Array.from(M.childNodes))_r(kt,M,!0)}},Te=(M,q)=>{q&&!M.$onRenderResolve$&&q["s-p"]&&q["s-p"].push(new Promise(Ze=>M.$onRenderResolve$=Ze))},et=(M,q)=>{if(M.$flags$|=16,!(4&M.$flags$))return Te(M,M.$ancestorComponent$),Xt(()=>Rt(M,q));M.$flags$|=512},Rt=(M,q)=>{const Ot=M.$lazyInstance$;if(!Ot)throw new Error(`Can't render component <${M.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let kt;return q&&(M.$flags$|=256,M.$queuedListeners$&&(M.$queuedListeners$.map(([Nt,Vt])=>fn(Ot,Nt,Vt)),M.$queuedListeners$=void 0),kt=fn(Ot,"componentWillLoad")),kt=ae(kt,()=>fn(Ot,"componentWillRender")),ae(kt,()=>Ie(M,Ot,q))},ae=(M,q)=>Le(M)?M.then(q).catch(Ze=>{console.error(Ze),q()}):q(),Le=M=>M instanceof Promise||M&&M.then&&"function"==typeof M.then,Ie=function(){var M=(0,x.A)(function*(q,Ze,st){var Ot;const kt=q.$hostElement$,Vt=kt["s-rc"];st&&(M=>{const q=M.$cmpMeta$,Ze=M.$hostElement$,st=q.$flags$,kt=Qt(Ze.shadowRoot?Ze.shadowRoot:Ze.getRootNode(),q,M.$modeName$);10&st&&2&st&&(Ze["s-sc"]=kt,Ze.classList.add(kt+"-h"),2&st&&Ze.classList.add(kt+"-s"))})(q);Xe(q,Ze,kt,st),Vt&&(Vt.map(Fn=>Fn()),kt["s-rc"]=void 0);{const Fn=null!=(Ot=kt["s-p"])?Ot:[],ir=()=>nt(q);0===Fn.length?ir():(Promise.all(Fn).then(ir),q.$flags$|=4,Fn.length=0)}});return function(Ze,st,Ot){return M.apply(this,arguments)}}(),Xe=(M,q,Ze,st)=>{try{q=q.render&&q.render(),M.$flags$&=-17,M.$flags$|=2,((M,q,Ze=!1)=>{var st,Ot,kt,Nt,Vt;const In=M.$hostElement$,Fn=M.$cmpMeta$,ir=M.$vnode$||sr(null,null),ur=(M=>M&&M.$tag$===fr)(q)?q:Tr(null,null,q);if(He=In.tagName,Fn.$attrsToReflect$&&(ur.$attrs$=ur.$attrs$||{},Fn.$attrsToReflect$.map(([Mr,Pr])=>ur.$attrs$[Pr]=In[Mr])),Ze&&ur.$attrs$)for(const Mr of Object.keys(ur.$attrs$))In.hasAttribute(Mr)&&!["key","ref","style","class"].includes(Mr)&&(ur.$attrs$[Mr]=In[Mr]);if(ur.$tag$=null,ur.$flags$|=4,M.$vnode$=ur,ur.$elm$=ir.$elm$=In.shadowRoot||In,gn=In["s-sc"],Ut=!!(1&Fn.$flags$),mt=In["s-cr"],ye=!1,Dr(ir,ur,Ze),Bt.$flags$|=1,le){Qn(ur.$elm$);for(const Mr of co){const Pr=Mr.$nodeToRelocate$;if(!Pr["s-ol"]){const Oo=je.createTextNode("");Oo["s-nr"]=Pr,an(Pr.parentNode,Pr["s-ol"]=Oo,Pr)}}for(const Mr of co){const Pr=Mr.$nodeToRelocate$,Oo=Mr.$slotRefNode$;if(Oo){const Wo=Oo.parentNode;let qo=Oo.nextSibling;if(qo&&1===qo.nodeType){let Uo=null==(st=Pr["s-ol"])?void 0:st.previousSibling;for(;Uo;){let li=null!=(Ot=Uo["s-nr"])?Ot:null;if(li&&li["s-sn"]===Pr["s-sn"]&&Wo===li.parentNode){for(li=li.nextSibling;li===Pr||null!=li&&li["s-sr"];)li=null==li?void 0:li.nextSibling;if(!li||!li["s-nr"]){qo=li;break}}Uo=Uo.previousSibling}}(!qo&&Wo!==Pr.parentNode||Pr.nextSibling!==qo)&&Pr!==qo&&(an(Wo,Pr,qo),1===Pr.nodeType&&(Pr.hidden=null!=(kt=Pr["s-ih"])&&kt)),Pr&&"function"==typeof Oo["s-rf"]&&Oo["s-rf"](Pr)}else 1===Pr.nodeType&&(Ze&&(Pr["s-ih"]=null!=(Nt=Pr.hidden)&&Nt),Pr.hidden=!0)}}if(ye&&Po(ur.$elm$),Bt.$flags$&=-2,co.length=0,2&Fn.$flags$)for(const Mr of ur.$elm$.childNodes)Mr["s-hn"]!==He&&!Mr["s-sh"]&&(Ze&&null==Mr["s-ih"]&&(Mr["s-ih"]=null!=(Vt=Mr.hidden)&&Vt),Mr.hidden=!0);mt=void 0})(M,q,st)}catch(Ot){Se(Ot,M.$hostElement$)}return null},nt=M=>{const Ze=M.$hostElement$,Ot=M.$lazyInstance$,kt=M.$ancestorComponent$;fn(Ot,"componentDidRender"),64&M.$flags$?fn(Ot,"componentDidUpdate"):(M.$flags$|=64,Rn(Ze),fn(Ot,"componentDidLoad"),M.$onReadyResolve$(Ze),kt||$t()),M.$onInstanceResolve$(Ze),M.$onRenderResolve$&&(M.$onRenderResolve$(),M.$onRenderResolve$=void 0),512&M.$flags$&&Ft(()=>et(M,!1)),M.$flags$&=-517},yt=M=>{{const q=se(M),Ze=q.$hostElement$.isConnected;return Ze&&2==(18&q.$flags$)&&et(q,!1),Ze}},$t=M=>{Rn(je.documentElement),Ft(()=>Ir(Ke,"appload",{detail:{namespace:"ionic"}}))},fn=(M,q,Ze)=>{if(M&&M[q])try{return M[q](Ze)}catch(st){Se(st)}},Rn=M=>M.classList.add("hydrated"),tr=(M,q,Ze)=>{var st,Ot;const kt=M.prototype;if(q.$members$||q.$watchers$||M.watchers){M.watchers&&!q.$watchers$&&(q.$watchers$=M.watchers);const Nt=Object.entries(null!=(st=q.$members$)?st:{});if(Nt.map(([Vt,[In]])=>{31&In||2&Ze&&32&In?Object.defineProperty(kt,Vt,{get(){return((M,q)=>se(this).$instanceValues$.get(q))(0,Vt)},set(Fn){((M,q,Ze,st)=>{const Ot=se(M);if(!Ot)throw new Error(`Couldn't find host element for "${st.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const kt=Ot.$hostElement$,Nt=Ot.$instanceValues$.get(q),Vt=Ot.$flags$,In=Ot.$lazyInstance$;Ze=((M,q)=>null==M||hr(M)?M:4&q?"false"!==M&&(""===M||!!M):2&q?parseFloat(M):1&q?String(M):M)(Ze,st.$members$[q][0]);const Fn=Number.isNaN(Nt)&&Number.isNaN(Ze);if((!(8&Vt)||void 0===Nt)&&Ze!==Nt&&!Fn&&(Ot.$instanceValues$.set(q,Ze),In)){if(st.$watchers$&&128&Vt){const ur=st.$watchers$[q];ur&&ur.map(Mr=>{try{In[Mr](Ze,Nt,q)}catch(Pr){Se(Pr,kt)}})}2==(18&Vt)&&et(Ot,!1)}})(this,Vt,Fn,q)},configurable:!0,enumerable:!0}):1&Ze&&64&In&&Object.defineProperty(kt,Vt,{value(...Fn){var ir;const ur=se(this);return null==(ir=null==ur?void 0:ur.$onInstancePromise$)?void 0:ir.then(()=>{var Mr;return null==(Mr=ur.$lazyInstance$)?void 0:Mr[Vt](...Fn)})}})}),1&Ze){const Vt=new Map;kt.attributeChangedCallback=function(In,Fn,ir){Bt.jmp(()=>{var ur;const Mr=Vt.get(In);if(this.hasOwnProperty(Mr))ir=this[Mr],delete this[Mr];else{if(kt.hasOwnProperty(Mr)&&"number"==typeof this[Mr]&&this[Mr]==ir)return;if(null==Mr){const Pr=se(this),Oo=null==Pr?void 0:Pr.$flags$;if(Oo&&!(8&Oo)&&128&Oo&&ir!==Fn){const Wo=Pr.$lazyInstance$,qo=null==(ur=q.$watchers$)?void 0:ur[In];null==qo||qo.forEach(Uo=>{null!=Wo[Uo]&&Wo[Uo].call(Wo,ir,Fn,In)})}return}}this[Mr]=(null!==ir||"boolean"!=typeof this[Mr])&&ir})},M.observedAttributes=Array.from(new Set([...Object.keys(null!=(Ot=q.$watchers$)?Ot:{}),...Nt.filter(([In,Fn])=>15&Fn[0]).map(([In,Fn])=>{var ir;const ur=Fn[1]||In;return Vt.set(ur,In),512&Fn[0]&&(null==(ir=q.$attrsToReflect$)||ir.push([In,ur])),ur})]))}}return M},Cr=function(){var M=(0,x.A)(function*(q,Ze,st,Ot){let kt;if(!(32&Ze.$flags$)){if(Ze.$flags$|=32,st.$lazyBundleId$){const Fn=(M=>{const st=M.$tagName$.replace(/-/g,"_"),Ot=M.$lazyBundleId$;if(!Ot)return;const kt=qe.get(Ot);return kt?kt[st]:B(8996)(`./${Ot}.entry.js`).then(Nt=>(qe.set(Ot,Nt),Nt[st]),Se)})(st);if(Fn&&"then"in Fn){const ur=()=>{};kt=yield Fn,ur()}else kt=Fn;if(!kt)throw new Error(`Constructor for "${st.$tagName$}#${Ze.$modeName$}" was not found`);kt.isProxied||(st.$watchers$=kt.watchers,tr(kt,st,2),kt.isProxied=!0);const ir=()=>{};Ze.$flags$|=8;try{new kt(Ze)}catch(ur){Se(ur)}Ze.$flags$&=-9,Ze.$flags$|=128,ir(),mr(Ze.$lazyInstance$)}else kt=q.constructor,customElements.whenDefined(q.localName).then(()=>Ze.$flags$|=128);if(kt&&kt.style){let Fn;"string"==typeof kt.style?Fn=kt.style:"string"!=typeof kt.style&&(Ze.$modeName$=(M=>it.map(q=>q(M)).find(q=>!!q))(q),Ze.$modeName$&&(Fn=kt.style[Ze.$modeName$]));const ir=sn(st,Ze.$modeName$);if(!ot.has(ir)){const ur=()=>{};((M,q,Ze)=>{let st=ot.get(M);ut&&Ze?(st=st||new CSSStyleSheet,"string"==typeof st?st=q:st.replaceSync(q)):st=q,ot.set(M,st)})(ir,Fn,!!(1&st.$flags$)),ur()}}}const Nt=Ze.$ancestorComponent$,Vt=()=>et(Ze,!0);Nt&&Nt["s-rc"]?Nt["s-rc"].push(Vt):Vt()});return function(Ze,st,Ot,kt){return M.apply(this,arguments)}}(),mr=M=>{fn(M,"connectedCallback")},eo=M=>{const q=M["s-cr"]=je.createComment("");q["s-cn"]=!0,an(M,q,M.firstChild)},kr=M=>{fn(M,"disconnectedCallback")},po=function(){var M=(0,x.A)(function*(q){if(!(1&Bt.$flags$)){const Ze=se(q);Ze.$rmListeners$&&(Ze.$rmListeners$.map(st=>st()),Ze.$rmListeners$=void 0),null!=Ze&&Ze.$lazyInstance$?kr(Ze.$lazyInstance$):null!=Ze&&Ze.$onReadyPromise$&&Ze.$onReadyPromise$.then(()=>kr(Ze.$lazyInstance$))}});return function(Ze){return M.apply(this,arguments)}}(),Ur=M=>{const q=M.cloneNode;M.cloneNode=function(Ze){const st=this,Ot=st.shadowRoot&&true,kt=q.call(st,!!Ot&&Ze);if(!Ot&&Ze){let Vt,In,Nt=0;const Fn=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;Nt<st.childNodes.length;Nt++)Vt=st.childNodes[Nt]["s-nr"],In=Fn.every(ir=>!st.childNodes[Nt][ir]),Vt&&(kt.__appendChild?kt.__appendChild(Vt.cloneNode(!0)):kt.appendChild(Vt.cloneNode(!0))),In&&kt.appendChild(st.childNodes[Nt].cloneNode(!0))}return kt}},Ki=M=>{M.__appendChild=M.appendChild,M.appendChild=function(q){const Ze=q["s-sn"]=za(q),st=Sa(this.childNodes,Ze,this.tagName);if(st){const Ot=fs(st,Ze),kt=Ot[Ot.length-1],Nt=an(kt.parentNode,q,kt.nextSibling);return Po(this),Nt}return this.__appendChild(q)}},Fi=M=>{M.__removeChild=M.removeChild,M.removeChild=function(q){if(q&&typeof q["s-sn"]<"u"){const Ze=Sa(this.childNodes,q["s-sn"],this.tagName);if(Ze){const Ot=fs(Ze,q["s-sn"]).find(kt=>kt===q);if(Ot)return Ot.remove(),void Po(this)}}return this.__removeChild(q)}},ea=M=>{const q=M.prepend;M.prepend=function(...Ze){Ze.forEach(st=>{"string"==typeof st&&(st=this.ownerDocument.createTextNode(st));const Ot=st["s-sn"]=za(st),kt=Sa(this.childNodes,Ot,this.tagName);if(kt){const Nt=document.createTextNode("");Nt["s-nr"]=st,kt["s-cr"].parentNode.__appendChild(Nt),st["s-ol"]=Nt;const In=fs(kt,Ot)[0];return an(In.parentNode,st,In.nextSibling)}return 1===st.nodeType&&st.getAttribute("slot")&&(st.hidden=!0),q.call(this,st)})}},ja=M=>{M.append=function(...q){q.forEach(Ze=>{"string"==typeof Ze&&(Ze=this.ownerDocument.createTextNode(Ze)),this.appendChild(Ze)})}},Li=M=>{const q=M.insertAdjacentHTML;M.insertAdjacentHTML=function(Ze,st){if("afterbegin"!==Ze&&"beforeend"!==Ze)return q.call(this,Ze,st);const Ot=this.ownerDocument.createElement("_");let kt;if(Ot.innerHTML=st,"afterbegin"===Ze)for(;kt=Ot.firstChild;)this.prepend(kt);else if("beforeend"===Ze)for(;kt=Ot.firstChild;)this.append(kt)}},vi=M=>{M.insertAdjacentText=function(q,Ze){this.insertAdjacentHTML(q,Ze)}},wo=M=>{const q=M.insertAdjacentElement;M.insertAdjacentElement=function(Ze,st){return"afterbegin"!==Ze&&"beforeend"!==Ze?q.call(this,Ze,st):"afterbegin"===Ze?(this.prepend(st),st):("beforeend"===Ze&&this.append(st),st)}},qi=M=>{const q=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(M,"__textContent",q),Object.defineProperty(M,"textContent",{get(){return" "+Mo(this.childNodes).map(Ot=>{var kt,Nt;const Vt=[];let In=Ot.nextSibling;for(;In&&In["s-sn"]===Ot["s-sn"];)(3===In.nodeType||1===In.nodeType)&&Vt.push(null!=(Nt=null==(kt=In.textContent)?void 0:kt.trim())?Nt:""),In=In.nextSibling;return Vt.filter(Fn=>""!==Fn).join(" ")}).filter(Ot=>""!==Ot).join(" ")+" "},set(Ze){Mo(this.childNodes).forEach(Ot=>{let kt=Ot.nextSibling;for(;kt&&kt["s-sn"]===Ot["s-sn"];){const Nt=kt;kt=kt.nextSibling,Nt.remove()}if(""===Ot["s-sn"]){const Nt=this.ownerDocument.createTextNode(Ze);Nt["s-sn"]="",an(Ot.parentElement,Nt,Ot.nextSibling)}else Ot.remove()})}})},Mi=(M,q)=>{class Ze extends Array{item(Ot){return this[Ot]}}if(8&q.$flags$){const st=M.__lookupGetter__("childNodes");Object.defineProperty(M,"children",{get(){return this.childNodes.map(Ot=>1===Ot.nodeType)}}),Object.defineProperty(M,"childElementCount",{get:()=>M.children.length}),Object.defineProperty(M,"childNodes",{get(){const Ot=st.call(this);if(!(1&Bt.$flags$)&&2&se(this).$flags$){const kt=new Ze;for(let Nt=0;Nt<Ot.length;Nt++){const Vt=Ot[Nt]["s-nr"];Vt&&kt.push(Vt)}return kt}return Ze.from(Ot)}})}},Mo=M=>{const q=[];for(const Ze of Array.from(M))Ze["s-sr"]&&q.push(Ze),q.push(...Mo(Ze.childNodes));return q},za=M=>M["s-sn"]||1===M.nodeType&&M.getAttribute("slot")||"",Sa=(M,q,Ze)=>{let Ot,st=0;for(;st<M.length;st++)if(Ot=M[st],Ot["s-sr"]&&Ot["s-sn"]===q&&Ot["s-hn"]===Ze||(Ot=Sa(Ot.childNodes,q,Ze),Ot))return Ot;return null},fs=(M,q)=>{const Ze=[M];for(;(M=M.nextSibling)&&M["s-sn"]===q;)Ze.push(M);return Ze},Za=(M,q={})=>{var Ze;const Ot=[],kt=q.exclude||[],Nt=Ke.customElements,Vt=je.head,In=Vt.querySelector("meta[charset]"),Fn=je.createElement("style"),ir=[];let ur,Mr=!0;Object.assign(Bt,q),Bt.$resourcesUrl$=new URL(q.resourcesUrl||"./",je.baseURI).href,Bt.$flags$|=2;let Pr=!1;if(M.map(Oo=>{Oo[1].map(Wo=>{var qo;const Uo={$flags$:Wo[0],$tagName$:Wo[1],$members$:Wo[2],$listeners$:Wo[3]};4&Uo.$flags$&&(Pr=!0),Uo.$members$=Wo[2],Uo.$listeners$=Wo[3],Uo.$attrsToReflect$=[],Uo.$watchers$=null!=(qo=Wo[4])?qo:{};const li=Uo.$tagName$,la=class extends HTMLElement{constructor(ci){if(super(ci),this.hasRegisteredEventListeners=!1,((M,q)=>{const Ze={$flags$:0,$hostElement$:M,$cmpMeta$:q,$instanceValues$:new Map};Ze.$onInstancePromise$=new Promise(st=>Ze.$onInstanceResolve$=st),Ze.$onReadyPromise$=new Promise(st=>Ze.$onReadyResolve$=st),M["s-p"]=[],M["s-rc"]=[],ke.set(M,Ze)})(ci=this,Uo),1&Uo.$flags$)if(ci.shadowRoot){if("open"!==ci.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${Uo.$tagName$}! Mode is set to ${ci.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else ci.attachShadow({mode:"open",delegatesFocus:!!(16&Uo.$flags$)})}connectedCallback(){const ci=se(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,ba(this,ci,Uo.$listeners$)),ur&&(clearTimeout(ur),ur=null),Mr?ir.push(this):Bt.jmp(()=>(M=>{if(!(1&Bt.$flags$)){const q=se(M),Ze=q.$cmpMeta$,st=()=>{};if(1&q.$flags$)ba(M,q,Ze.$listeners$),null!=q&&q.$lazyInstance$?mr(q.$lazyInstance$):null!=q&&q.$onReadyPromise$&&q.$onReadyPromise$.then(()=>mr(q.$lazyInstance$));else{let Ot;if(q.$flags$|=1,Ot=M.getAttribute(Je),Ot){if(1&Ze.$flags$){const kt=Qt(M.shadowRoot,Ze,M.getAttribute("s-mode"));M.classList.remove(kt+"-h",kt+"-s")}((M,q,Ze,st)=>{const kt=M.shadowRoot,Nt=[],In=kt?[]:null,Fn=st.$vnode$=sr(q,null);Bt.$orgLocNodes$||Jr(je.body,Bt.$orgLocNodes$=new Map),M[Je]=Ze,M.removeAttribute(Je),zr(Fn,Nt,[],In,M,M,Ze),Nt.map(ir=>{const ur=ir.$hostId$+"."+ir.$nodeId$,Mr=Bt.$orgLocNodes$.get(ur),Pr=ir.$elm$;Mr&&""===Mr["s-en"]&&Mr.parentNode.insertBefore(Pr,Mr.nextSibling),kt||(Pr["s-hn"]=q,Mr&&(Pr["s-ol"]=Mr,Pr["s-ol"]["s-nr"]=Pr)),Bt.$orgLocNodes$.delete(ur)}),kt&&In.map(ir=>{ir&&kt.appendChild(ir)})})(M,Ze.$tagName$,Ot,q)}Ot||12&Ze.$flags$&&eo(M);{let kt=M;for(;kt=kt.parentNode||kt.host;)if(1===kt.nodeType&&kt.hasAttribute("s-id")&&kt["s-p"]||kt["s-p"]){Te(q,q.$ancestorComponent$=kt);break}}Ze.$members$&&Object.entries(Ze.$members$).map(([kt,[Nt]])=>{if(31&Nt&&M.hasOwnProperty(kt)){const Vt=M[kt];delete M[kt],M[kt]=Vt}}),Cr(M,q,Ze)}st()}})(this))}disconnectedCallback(){Bt.jmp(()=>po(this))}componentOnReady(){return se(this).$onReadyPromise$}};2&Uo.$flags$&&((M,q)=>{Ur(M),Ki(M),ja(M),ea(M),wo(M),Li(M),vi(M),qi(M),Mi(M,q),Fi(M)})(la.prototype,Uo),Uo.$lazyBundleId$=Oo[0],!kt.includes(li)&&!Nt.get(li)&&(Ot.push(li),Nt.define(li,tr(la,Uo,1)))})}),Ot.length>0&&(Pr&&(Fn.textContent+=rt),Fn.textContent+=Ot.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",Fn.innerHTML.length)){Fn.setAttribute("data-styles","");const Oo=null!=(Ze=Bt.$nonce$)?Ze:Ar(je);null!=Oo&&Fn.setAttribute("nonce",Oo),Vt.insertBefore(Fn,In?In.nextSibling:Vt.firstChild)}Mr=!1,ir.length?ir.map(Oo=>Oo.connectedCallback()):Bt.jmp(()=>ur=setTimeout($t,30))},ba=(M,q,Ze,st)=>{Ze&&Ze.map(([Ot,kt,Nt])=>{const Vt=ie(M,Ot),In=L(q,Nt),Fn=Me(Ot);Bt.ael(Vt,kt,In,Fn),(q.$rmListeners$=q.$rmListeners$||[]).push(()=>Bt.rel(Vt,kt,In,Fn))})},L=(M,q)=>Ze=>{var st;try{256&M.$flags$?null==(st=M.$lazyInstance$)||st[q](Ze):(M.$queuedListeners$=M.$queuedListeners$||[]).push([q,Ze])}catch(Ot){Se(Ot)}},ie=(M,q)=>4&q?je:8&q?Ke:16&q?je.body:M,Me=M=>Kn?{passive:!!(1&M),capture:!!(2&M)}:!!(2&M)},8607:(Vn,At,B)=>{"use strict";B.r(At),B.d(At,{GESTURE_CONTROLLER:()=>x.G,createGesture:()=>Ge});var x=B(1970);const g=(qe,Ne,ot,it)=>{const Pe=H(qe)?{capture:!!it.capture,passive:!!it.passive}:!!it.capture;let pe,vt;return qe.__zone_symbol__addEventListener?(pe="__zone_symbol__addEventListener",vt="__zone_symbol__removeEventListener"):(pe="addEventListener",vt="removeEventListener"),qe[pe](Ne,ot,Pe),()=>{qe[vt](Ne,ot,Pe)}},H=qe=>{if(void 0===_e)try{const Ne=Object.defineProperty({},"passive",{get:()=>{_e=!0}});qe.addEventListener("optsTest",()=>{},Ne)}catch{_e=!1}return!!_e};let _e;const ke=qe=>qe instanceof Document?qe:qe.ownerDocument,Ge=qe=>{let Ne=!1,ot=!1,it=!0,Pe=!1;const pe=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},qe),vt=pe.canStart,ct=pe.onWillStart,Je=pe.onStart,Ce=pe.onEnd,$e=pe.notCaptured,re=pe.onMove,rt=pe.threshold,Dt=pe.passive,Ke=pe.blurOnStart,je={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Lt=((qe,Ne,ot)=>{const it=ot*(Math.PI/180),Pe="x"===qe,pe=Math.cos(it),vt=Ne*Ne;let ct=0,Je=0,Ce=!1,$e=0;return{start(re,rt){ct=re,Je=rt,$e=0,Ce=!0},detect(re,rt){if(!Ce)return!1;const Dt=re-ct,Ke=rt-Je,je=Dt*Dt+Ke*Ke;if(je<vt)return!1;const Lt=Math.sqrt(je),Bt=(Pe?Dt:Ke)/Lt;return $e=Bt>pe?1:Bt<-pe?-1:0,Ce=!1,!0},isGesture:()=>0!==$e,getDirection:()=>$e}})(pe.direction,pe.threshold,pe.maxAngle),Bt=x.G.createGesture({name:qe.gestureName,priority:qe.gesturePriority,disableScroll:qe.disableScroll}),Kn=()=>{Ne&&(Pe=!1,re&&re(je))},lr=()=>!!Bt.capture()&&(Ne=!0,it=!1,je.startX=je.currentX,je.startY=je.currentY,je.startTime=je.currentTime,ct?ct(je).then(Ue):Ue(),!0),Ue=()=>{Ke&&(()=>{if(typeof document<"u"){const Mt=document.activeElement;null!=Mt&&Mt.blur&&Mt.blur()}})(),Je&&Je(je),it=!0},ce=()=>{Ne=!1,ot=!1,Pe=!1,it=!0,Bt.release()},de=Mt=>{const Ft=Ne,ln=it;if(ce(),ln){if(wt(je,Mt),Ft)return void(Ce&&Ce(je));$e&&$e(je)}},Ae=((qe,Ne,ot,it,Pe)=>{let pe,vt,ct,Je,Ce,$e,re,rt=0;const Dt=ut=>{rt=Date.now()+2e3,Ne(ut)&&(!vt&&ot&&(vt=g(qe,"touchmove",ot,Pe)),ct||(ct=g(ut.target,"touchend",je,Pe)),Je||(Je=g(ut.target,"touchcancel",je,Pe)))},Ke=ut=>{rt>Date.now()||Ne(ut)&&(!$e&&ot&&($e=g(ke(qe),"mousemove",ot,Pe)),re||(re=g(ke(qe),"mouseup",Lt,Pe)))},je=ut=>{Bt(),it&&it(ut)},Lt=ut=>{Xn(),it&&it(ut)},Bt=()=>{vt&&vt(),ct&&ct(),Je&&Je(),vt=ct=Je=void 0},Xn=()=>{$e&&$e(),re&&re(),$e=re=void 0},tn=()=>{Bt(),Xn()},Kn=(ut=!0)=>{ut?(pe||(pe=g(qe,"touchstart",Dt,Pe)),Ce||(Ce=g(qe,"mousedown",Ke,Pe))):(pe&&pe(),Ce&&Ce(),pe=Ce=void 0,tn())};return{enable:Kn,stop:tn,destroy:()=>{Kn(!1),it=ot=Ne=void 0}}})(pe.el,Mt=>{const Ft=Se(Mt);return!(ot||!it||(Oe(Mt,je),je.startX=je.currentX,je.startY=je.currentY,je.startTime=je.currentTime=Ft,je.velocityX=je.velocityY=je.deltaX=je.deltaY=0,je.event=Mt,vt&&!1===vt(je))||(Bt.release(),!Bt.start()))&&(ot=!0,0===rt?lr():(Lt.start(je.startX,je.startY),!0))},Mt=>{Ne?!Pe&&it&&(Pe=!0,wt(je,Mt),requestAnimationFrame(Kn)):(wt(je,Mt),Lt.detect(je.currentX,je.currentY)&&(!Lt.isGesture()||!lr())&&Et())},de,{capture:!1,passive:Dt}),Et=()=>{ce(),Ae.stop(),$e&&$e(je)};return{enable(Mt=!0){Mt||(Ne&&de(void 0),ce()),Ae.enable(Mt)},destroy(){Bt.destroy(),Ae.destroy()}}},wt=(qe,Ne)=>{if(!Ne)return;const ot=qe.currentX,it=qe.currentY,Pe=qe.currentTime;Oe(Ne,qe);const pe=qe.currentX,vt=qe.currentY,Je=(qe.currentTime=Se(Ne))-Pe;if(Je>0&&Je<100){const $e=(vt-it)/Je;qe.velocityX=(pe-ot)/Je*.7+.3*qe.velocityX,qe.velocityY=.7*$e+.3*qe.velocityY}qe.deltaX=pe-qe.startX,qe.deltaY=vt-qe.startY,qe.event=Ne},Oe=(qe,Ne)=>{let ot=0,it=0;if(qe){const Pe=qe.changedTouches;if(Pe&&Pe.length>0){const pe=Pe[0];ot=pe.clientX,it=pe.clientY}else void 0!==qe.pageX&&(ot=qe.pageX,it=qe.pageY)}Ne.currentX=ot,Ne.currentY=it},Se=qe=>qe.timeStamp||Date.now()},3604:(Vn,At,B)=>{"use strict";B.d(At,{b:()=>se,c:()=>Ge,d:()=>wt,e:()=>tn,g:()=>ut,l:()=>Bt,s:()=>Kn,t:()=>pe,w:()=>Xn});var x=B(467),g=B(9483),H=B(4261),_e=B(4929),J=B(4920);const se="ionViewWillLeave",Ge="ionViewDidLeave",wt="ionViewWillUnload",Oe=Ue=>{Ue.tabIndex=-1,Ue.focus()},Se=Ue=>null!==Ue.offsetParent,Ne="ion-last-focus",Pe_saveViewFocus=de=>{if(g.c.get("focusManagerPriority",!1)){const Et=document.activeElement;null!==Et&&null!=de&&de.contains(Et)&&Et.setAttribute(Ne,"true")}},Pe_setViewFocus=de=>{const Ae=g.c.get("focusManagerPriority",!1);if(Array.isArray(Ae)&&!de.contains(document.activeElement)){const Et=de.querySelector(`[${Ne}]`);if(Et&&Se(Et))return void Oe(Et);for(const Mt of Ae)switch(Mt){case"content":const Ft=de.querySelector('main, [role="main"]');if(Ft&&Se(Ft))return void Oe(Ft);break;case"heading":const ln=de.querySelector('h1, [role="heading"][aria-level="1"]');if(ln&&Se(ln))return void Oe(ln);break;case"banner":const Xt=de.querySelector('header, [role="banner"]');if(Xt&&Se(Xt))return void Oe(Xt);break;default:(0,_e.p)(`Unrecognized focus manager priority value ${Mt}`)}Oe(de)}},pe=Ue=>new Promise((ce,de)=>{(0,H.w)(()=>{vt(Ue),ct(Ue).then(Ae=>{Ae.animation&&Ae.animation.destroy(),Je(Ue),ce(Ae)},Ae=>{Je(Ue),de(Ae)})})}),vt=Ue=>{const ce=Ue.enteringEl,de=Ue.leavingEl;Pe_saveViewFocus(de),lr(ce,de,Ue.direction),Ue.showGoBack?ce.classList.add("can-go-back"):ce.classList.remove("can-go-back"),Kn(ce,!1),ce.style.setProperty("pointer-events","none"),de&&(Kn(de,!1),de.style.setProperty("pointer-events","none"))},ct=function(){var Ue=(0,x.A)(function*(ce){const de=yield Ce(ce);return de&&H.B.isBrowser?$e(de,ce):re(ce)});return function(de){return Ue.apply(this,arguments)}}(),Je=Ue=>{const ce=Ue.enteringEl,de=Ue.leavingEl;ce.classList.remove("ion-page-invisible"),ce.style.removeProperty("pointer-events"),void 0!==de&&(de.classList.remove("ion-page-invisible"),de.style.removeProperty("pointer-events")),Pe_setViewFocus(ce)},Ce=function(){var Ue=(0,x.A)(function*(ce){return ce.leavingEl&&ce.animated&&0!==ce.duration?ce.animationBuilder?ce.animationBuilder:"ios"===ce.mode?(yield Promise.resolve().then(B.bind(B,5022))).iosTransitionAnimation:(yield Promise.resolve().then(B.bind(B,3615))).mdTransitionAnimation:void 0});return function(de){return Ue.apply(this,arguments)}}(),$e=function(){var Ue=(0,x.A)(function*(ce,de){yield rt(de,!0);const Ae=ce(de.baseEl,de);je(de.enteringEl,de.leavingEl);const Et=yield Ke(Ae,de);return de.progressCallback&&de.progressCallback(void 0),Et&&Lt(de.enteringEl,de.leavingEl),{hasCompleted:Et,animation:Ae}});return function(de,Ae){return Ue.apply(this,arguments)}}(),re=function(){var Ue=(0,x.A)(function*(ce){const de=ce.enteringEl,Ae=ce.leavingEl,Et=g.c.get("focusManagerPriority",!1);return yield rt(ce,Et),je(de,Ae),Lt(de,Ae),{hasCompleted:!0}});return function(de){return Ue.apply(this,arguments)}}(),rt=function(){var Ue=(0,x.A)(function*(ce,de){(void 0!==ce.deepWait?ce.deepWait:de)&&(yield Promise.all([tn(ce.enteringEl),tn(ce.leavingEl)])),yield Dt(ce.viewIsReady,ce.enteringEl)});return function(de,Ae){return Ue.apply(this,arguments)}}(),Dt=function(){var Ue=(0,x.A)(function*(ce,de){ce&&(yield ce(de))});return function(de,Ae){return Ue.apply(this,arguments)}}(),Ke=(Ue,ce)=>{const de=ce.progressCallback,Ae=new Promise(Et=>{Ue.onFinish(Mt=>Et(1===Mt))});return de?(Ue.progressStart(!0),de(Ue)):Ue.play(),Ae},je=(Ue,ce)=>{Bt(ce,se),Bt(Ue,"ionViewWillEnter")},Lt=(Ue,ce)=>{Bt(Ue,"ionViewDidEnter"),Bt(ce,Ge)},Bt=(Ue,ce)=>{if(Ue){const de=new CustomEvent(ce,{bubbles:!1,cancelable:!1});Ue.dispatchEvent(de)}},Xn=()=>new Promise(Ue=>(0,J.r)(()=>(0,J.r)(()=>Ue()))),tn=function(){var Ue=(0,x.A)(function*(ce){const de=ce;if(de){if(null!=de.componentOnReady){if(null!=(yield de.componentOnReady()))return}else if(null!=de.__registerHost)return void(yield new Promise(Et=>(0,J.r)(Et)));yield Promise.all(Array.from(de.children).map(tn))}});return function(de){return Ue.apply(this,arguments)}}(),Kn=(Ue,ce)=>{ce?(Ue.setAttribute("aria-hidden","true"),Ue.classList.add("ion-page-hidden")):(Ue.hidden=!1,Ue.removeAttribute("aria-hidden"),Ue.classList.remove("ion-page-hidden"))},lr=(Ue,ce,de)=>{void 0!==Ue&&(Ue.style.zIndex="back"===de?"99":"101"),void 0!==ce&&(ce.style.zIndex="100")},ut=Ue=>Ue.classList.contains("ion-page")?Ue:Ue.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ue},4929:(Vn,At,B)=>{"use strict";B.d(At,{a:()=>g,b:()=>H,p:()=>x});const x=(_e,...J)=>console.warn(`[Ionic Warning]: ${_e}`,...J),g=(_e,...J)=>console.error(`[Ionic Error]: ${_e}`,...J),H=(_e,...J)=>console.error(`<${_e.tagName.toLowerCase()}> must be used inside ${J.join(" or ")}.`)},8476:(Vn,At,B)=>{"use strict";B.d(At,{d:()=>g,w:()=>x});const x=typeof window<"u"?window:void 0,g=typeof document<"u"?document:void 0},9568:(Vn,At,B)=>{"use strict";B.d(At,{m:()=>qe});var x=B(467),g=B(8476),H=B(7192),_e=B(4929),J=B(4920),S=B(9483),ke=B(9986);const se=Ne=>(0,ke.c)().duration(Ne?400:300),Ge=Ne=>{let ot,it;const Pe=Ne.width+8,pe=(0,ke.c)(),vt=(0,ke.c)();Ne.isEndSide?(ot=Pe+"px",it="0px"):(ot=-Pe+"px",it="0px"),pe.addElement(Ne.menuInnerEl).fromTo("transform",`translateX(${ot})`,`translateX(${it})`);const Je="ios"===(0,S.b)(Ne),Ce=Je?.2:.25;return vt.addElement(Ne.backdropEl).fromTo("opacity",.01,Ce),se(Je).addAnimation([pe,vt])},wt=Ne=>{let ot,it;const Pe=(0,S.b)(Ne),pe=Ne.width;Ne.isEndSide?(ot=-pe+"px",it=pe+"px"):(ot=pe+"px",it=-pe+"px");const vt=(0,ke.c)().addElement(Ne.menuInnerEl).fromTo("transform",`translateX(${it})`,"translateX(0px)"),ct=(0,ke.c)().addElement(Ne.contentEl).fromTo("transform","translateX(0px)",`translateX(${ot})`),Je=(0,ke.c)().addElement(Ne.backdropEl).fromTo("opacity",.01,.32);return se("ios"===Pe).addAnimation([vt,ct,Je])},Oe=Ne=>{const ot=(0,S.b)(Ne),it=Ne.width*(Ne.isEndSide?-1:1)+"px",Pe=(0,ke.c)().addElement(Ne.contentEl).fromTo("transform","translateX(0px)",`translateX(${it})`);return se("ios"===ot).addAnimation(Pe)},qe=(()=>{const Ne=new Map,ot=[],it=function(){var ce=(0,x.A)(function*(de){const Ae=yield $e(de,!0);return!!Ae&&Ae.open()});return function(Ae){return ce.apply(this,arguments)}}(),Pe=function(){var ce=(0,x.A)(function*(de){const Ae=yield void 0!==de?$e(de,!0):re();return void 0!==Ae&&Ae.close()});return function(Ae){return ce.apply(this,arguments)}}(),pe=function(){var ce=(0,x.A)(function*(de){const Ae=yield $e(de,!0);return!!Ae&&Ae.toggle()});return function(Ae){return ce.apply(this,arguments)}}(),vt=function(){var ce=(0,x.A)(function*(de,Ae){const Et=yield $e(Ae);return Et&&(Et.disabled=!de),Et});return function(Ae,Et){return ce.apply(this,arguments)}}(),ct=function(){var ce=(0,x.A)(function*(de,Ae){const Et=yield $e(Ae);return Et&&(Et.swipeGesture=de),Et});return function(Ae,Et){return ce.apply(this,arguments)}}(),Je=function(){var ce=(0,x.A)(function*(de){if(null!=de){const Ae=yield $e(de);return void 0!==Ae&&Ae.isOpen()}return void 0!==(yield re())});return function(Ae){return ce.apply(this,arguments)}}(),Ce=function(){var ce=(0,x.A)(function*(de){const Ae=yield $e(de);return!!Ae&&!Ae.disabled});return function(Ae){return ce.apply(this,arguments)}}(),$e=function(){var ce=(0,x.A)(function*(de,Ae=!1){if(yield Ue(),"start"===de||"end"===de){const Mt=ot.filter(ln=>ln.side===de&&!ln.disabled);if(Mt.length>=1)return Mt.length>1&&Ae&&(0,_e.p)(`menuController queried for a menu on the "${de}" side, but ${Mt.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Mt.map(ln=>ln.el)),Mt[0].el;const Ft=ot.filter(ln=>ln.side===de);if(Ft.length>=1)return Ft.length>1&&Ae&&(0,_e.p)(`menuController queried for a menu on the "${de}" side, but ${Ft.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ft.map(ln=>ln.el)),Ft[0].el}else if(null!=de)return ut(Mt=>Mt.menuId===de);return ut(Mt=>!Mt.disabled)||(ot.length>0?ot[0].el:void 0)});return function(Ae){return ce.apply(this,arguments)}}(),re=function(){var ce=(0,x.A)(function*(){return yield Ue(),tn()});return function(){return ce.apply(this,arguments)}}(),rt=function(){var ce=(0,x.A)(function*(){return yield Ue(),Kn()});return function(){return ce.apply(this,arguments)}}(),Dt=function(){var ce=(0,x.A)(function*(){return yield Ue(),lr()});return function(){return ce.apply(this,arguments)}}(),Ke=(ce,de)=>{Ne.set(ce,de)},Bt=function(){var ce=(0,x.A)(function*(de,Ae,Et){if(lr())return!1;if(Ae){const Mt=yield re();Mt&&de.el!==Mt&&(yield Mt.setOpen(!1,!1))}return de._setOpen(Ae,Et)});return function(Ae,Et,Mt){return ce.apply(this,arguments)}}(),tn=()=>ut(ce=>ce._isOpen),Kn=()=>ot.map(ce=>ce.el),lr=()=>ot.some(ce=>ce.isAnimating),ut=ce=>{const de=ot.find(ce);if(void 0!==de)return de.el},Ue=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ce=>new Promise(de=>(0,J.c)(ce,de))));return Ke("reveal",Oe),Ke("push",wt),Ke("overlay",Ge),null==g.d||g.d.addEventListener("ionBackButton",ce=>{const de=tn();de&&ce.detail.register(H.MENU_BACK_BUTTON_PRIORITY,()=>de.close())}),{registerAnimation:Ke,get:$e,getMenus:rt,getOpen:re,isEnabled:Ce,swipeGesture:ct,isAnimating:Dt,isOpen:Je,enable:vt,toggle:pe,close:Pe,open:it,_getOpenSync:tn,_createAnimation:(ce,de)=>{const Ae=Ne.get(ce);if(!Ae)throw new Error("animation not registered");return Ae(de)},_register:ce=>{ot.indexOf(ce)<0&&ot.push(ce)},_unregister:ce=>{const de=ot.indexOf(ce);de>-1&&ot.splice(de,1)},_setOpen:Bt}})()},9483:(Vn,At,B)=>{"use strict";B.d(At,{a:()=>Oe,b:()=>Kn,c:()=>H,i:()=>lr});var x=B(4261);class g{constructor(){this.m=new Map}reset(Ue){this.m=new Map(Object.entries(Ue))}get(Ue,ce){const de=this.m.get(Ue);return void 0!==de?de:ce}getBoolean(Ue,ce=!1){const de=this.m.get(Ue);return void 0===de?ce:"string"==typeof de?"true"===de:!!de}getNumber(Ue,ce){const de=parseFloat(this.m.get(Ue));return isNaN(de)?void 0!==ce?ce:NaN:de}set(Ue,ce){this.m.set(Ue,ce)}}const H=new g,Ge="ionic-persist-config",Oe=(ut,Ue)=>("string"==typeof ut&&(Ue=ut,ut=void 0),(ut=>Se(ut))(ut).includes(Ue)),Se=(ut=window)=>{if(typeof ut>"u")return[];ut.Ionic=ut.Ionic||{};let Ue=ut.Ionic.platforms;return null==Ue&&(Ue=ut.Ionic.platforms=qe(ut),Ue.forEach(ce=>ut.document.documentElement.classList.add(`plt-${ce}`))),Ue},qe=ut=>{const Ue=H.get("platform");return Object.keys(Xn).filter(ce=>{const de=null==Ue?void 0:Ue[ce];return"function"==typeof de?de(ut):Xn[ce](ut)})},ot=ut=>!!(Lt(ut,/iPad/i)||Lt(ut,/Macintosh/i)&&Ce(ut)),pe=ut=>Lt(ut,/android|sink/i),Ce=ut=>Bt(ut,"(any-pointer:coarse)"),re=ut=>rt(ut)||Dt(ut),rt=ut=>!!(ut.cordova||ut.phonegap||ut.PhoneGap),Dt=ut=>{const Ue=ut.Capacitor;return!(null==Ue||!Ue.isNative)},Lt=(ut,Ue)=>Ue.test(ut.navigator.userAgent),Bt=(ut,Ue)=>{var ce;return null===(ce=ut.matchMedia)||void 0===ce?void 0:ce.call(ut,Ue).matches},Xn={ipad:ot,iphone:ut=>Lt(ut,/iPhone/i),ios:ut=>Lt(ut,/iPhone|iPod/i)||ot(ut),android:pe,phablet:ut=>{const Ue=ut.innerWidth,ce=ut.innerHeight,de=Math.min(Ue,ce),Ae=Math.max(Ue,ce);return de>390&&de<520&&Ae>620&&Ae<800},tablet:ut=>{const Ue=ut.innerWidth,ce=ut.innerHeight,de=Math.min(Ue,ce),Ae=Math.max(Ue,ce);return ot(ut)||(ut=>pe(ut)&&!Lt(ut,/mobile/i))(ut)||de>460&&de<820&&Ae>780&&Ae<1400},cordova:rt,capacitor:Dt,electron:ut=>Lt(ut,/electron/i),pwa:ut=>{var Ue;return!!(null!==(Ue=ut.matchMedia)&&void 0!==Ue&&Ue.call(ut,"(display-mode: standalone)").matches||ut.navigator.standalone)},mobile:Ce,mobileweb:ut=>Ce(ut)&&!re(ut),desktop:ut=>!Ce(ut),hybrid:re};let tn;const Kn=ut=>ut&&(0,x.g)(ut)||tn,lr=(ut={})=>{if(typeof window>"u")return;const Ue=window.document,ce=window,de=ce.Ionic=ce.Ionic||{},Ae={};ut._ael&&(Ae.ael=ut._ael),ut._rel&&(Ae.rel=ut._rel),ut._ce&&(Ae.ce=ut._ce),(0,x.a)(Ae);const Et=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(ut=>{try{const Ue=ut.sessionStorage.getItem(Ge);return null!==Ue?JSON.parse(Ue):{}}catch{return{}}})(ce)),{persistConfig:!1}),de.config),(ut=>{const Ue={};return ut.location.search.slice(1).split("&").map(ce=>ce.split("=")).map(([ce,de])=>{try{return[decodeURIComponent(ce),decodeURIComponent(de)]}catch{return["",""]}}).filter(([ce])=>((ut,Ue)=>ut.substr(0,Ue.length)===Ue)(ce,"ionic:")).map(([ce,de])=>[ce.slice(6),de]).forEach(([ce,de])=>{Ue[ce]=de}),Ue})(ce)),ut);H.reset(Et),H.getBoolean("persistConfig")&&((ut,Ue)=>{try{ut.sessionStorage.setItem(Ge,JSON.stringify(Ue))}catch{return}})(ce,Et),Se(ce),de.config=H,de.mode=tn=H.get("mode",Ue.documentElement.getAttribute("mode")||(Oe(ce,"ios")?"ios":"md")),H.set("mode",tn),Ue.documentElement.setAttribute("mode",tn),Ue.documentElement.classList.add(tn),H.getBoolean("_testing")&&H.set("animated",!1);const Mt=ln=>{var Xt;return null===(Xt=ln.tagName)||void 0===Xt?void 0:Xt.startsWith("ION-")},Ft=ln=>["ios","md"].includes(ln);(0,x.c)(ln=>{for(;ln;){const Xt=ln.mode||ln.getAttribute("mode");if(Xt){if(Ft(Xt))return Xt;Mt(ln)&&console.warn('Invalid ionic mode: "'+Xt+'", expected: "ios" or "md"')}ln=ln.parentElement}return tn})}},5022:(Vn,At,B)=>{"use strict";B.r(At),B.d(At,{iosTransitionAnimation:()=>Ne,shadow:()=>se});var x=B(9986),g=B(3604);B(8476),B(9483),B(4261);const ke=it=>document.querySelector(`${it}.ion-cloned-element`),se=it=>it.shadowRoot||it,Ge=it=>{const Pe="ION-TABS"===it.tagName?it:it.querySelector("ion-tabs"),pe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Pe){const vt=Pe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=vt?vt.querySelector(pe):null}return it.querySelector(pe)},wt=(it,Pe)=>{const pe="ION-TABS"===it.tagName?it:it.querySelector("ion-tabs");let vt=[];if(null!=pe){const ct=pe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=ct&&(vt=ct.querySelectorAll("ion-buttons"))}else vt=it.querySelectorAll("ion-buttons");for(const ct of vt){const Je=ct.closest("ion-header"),Ce=Je&&!Je.classList.contains("header-collapse-condense-inactive"),$e=ct.querySelector("ion-back-button"),re=ct.classList.contains("buttons-collapse");if(null!==$e&&("start"===ct.slot||""===ct.slot)&&(re&&Ce&&Pe||!re))return $e}return null},Se=(it,Pe,pe,vt,ct,Je,Ce,$e,re)=>{var rt,Dt;const Ke=Pe?`calc(100% - ${ct.right+4}px)`:ct.left-4+"px",je=Pe?"right":"left",Lt=Pe?"left":"right",Bt=Pe?"right":"left";let Xn=1,tn=1,Kn=`scale(${tn})`;const lr="scale(1)";if(Je&&Ce){const en=(null===(rt=Je.textContent)||void 0===rt?void 0:rt.trim())===(null===(Dt=$e.textContent)||void 0===Dt?void 0:Dt.trim());Xn=re.width/Ce.width,tn=(re.height-ot)/Ce.height,Kn=en?`scale(${Xn}, ${tn})`:`scale(${tn})`}const Ue=se(vt).querySelector("ion-icon").getBoundingClientRect(),ce=Pe?Ue.width/2-(Ue.right-ct.right)+"px":ct.left-Ue.width/2+"px",de=Pe?`-${window.innerWidth-ct.right}px`:`${ct.left}px`,Ae=`${re.top}px`,Et=`${ct.top}px`,ln=pe?[{offset:0,transform:`translate3d(${de}, ${Et}, 0)`},{offset:1,transform:`translate3d(${ce}, ${Ae}, 0)`}]:[{offset:0,transform:`translate3d(${ce}, ${Ae}, 0)`},{offset:1,transform:`translate3d(${de}, ${Et}, 0)`}],er=pe?[{offset:0,opacity:1,transform:lr},{offset:1,opacity:0,transform:Kn}]:[{offset:0,opacity:0,transform:Kn},{offset:1,opacity:1,transform:lr}],Xr=pe?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],hr=(0,x.c)(),Ar=(0,x.c)(),xr=(0,x.c)(),pr=ke("ion-back-button"),Kr=se(pr).querySelector(".button-text"),yn=se(pr).querySelector("ion-icon");pr.text=vt.text,pr.mode=vt.mode,pr.icon=vt.icon,pr.color=vt.color,pr.disabled=vt.disabled,pr.style.setProperty("display","block"),pr.style.setProperty("position","fixed"),Ar.addElement(yn),hr.addElement(Kr),xr.addElement(pr),xr.beforeStyles({position:"absolute",top:"0px",[Bt]:"0px"}).beforeAddWrite(()=>{vt.style.setProperty("display","none"),pr.style.setProperty(je,Ke)}).afterAddWrite(()=>{vt.style.setProperty("display",""),pr.style.setProperty("display","none"),pr.style.removeProperty(je)}).keyframes(ln),hr.beforeStyles({"transform-origin":`${je} top`}).keyframes(er),Ar.beforeStyles({"transform-origin":`${Lt} center`}).keyframes(Xr),it.addAnimation([hr,Ar,xr])},qe=(it,Pe,pe,vt,ct,Je,Ce,$e,re)=>{var rt,Dt;const Ke=Pe?"right":"left",je=Pe?`calc(100% - ${ct.right}px)`:`${ct.left}px`,Bt=`${ct.top}px`;let tn=Pe?`-${window.innerWidth-Ce.right-8}px`:`${Ce.x+8}px`,Kn=.5;const lr="scale(1)";let ut=`scale(${Kn})`;if($e&&re){tn=Pe?`-${window.innerWidth-re.right-8}px`:re.x-8+"px";const Xt=(null===(rt=$e.textContent)||void 0===rt?void 0:rt.trim())===(null===(Dt=vt.textContent)||void 0===Dt?void 0:Dt.trim());Kn=re.height/(Je.height-ot),ut=Xt?`scale(${re.width/Je.width}, ${Kn})`:`scale(${Kn})`}const de=Ce.top+Ce.height/2-ct.height*Kn/2+"px",Mt=pe?[{offset:0,opacity:0,transform:`translate3d(${tn}, ${de}, 0) ${ut}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Bt}, 0) ${lr}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Bt}, 0) ${lr}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${tn}, ${de}, 0) ${ut}`}],Ft=ke("ion-title"),ln=(0,x.c)();Ft.innerText=vt.innerText,Ft.size=vt.size,Ft.color=vt.color,ln.addElement(Ft),ln.beforeStyles({"transform-origin":`${Ke} top`,height:`${ct.height}px`,display:"",position:"relative",[Ke]:je}).beforeAddWrite(()=>{vt.style.setProperty("opacity","0")}).afterAddWrite(()=>{vt.style.setProperty("opacity",""),Ft.style.setProperty("display","none")}).keyframes(Mt),it.addAnimation(ln)},Ne=(it,Pe)=>{var pe;try{const vt="cubic-bezier(0.32,0.72,0,1)",ct="opacity",Je="transform",Ce="0%",re="rtl"===it.ownerDocument.dir,rt=re?"-99.5%":"99.5%",Dt=re?"33%":"-33%",Ke=Pe.enteringEl,je=Pe.leavingEl,Lt="back"===Pe.direction,Bt=Ke.querySelector(":scope > ion-content"),Xn=Ke.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),tn=Ke.querySelectorAll(":scope > ion-header > ion-toolbar"),Kn=(0,x.c)(),lr=(0,x.c)();if(Kn.addElement(Ke).duration((null!==(pe=Pe.duration)&&void 0!==pe?pe:0)||540).easing(Pe.easing||vt).fill("both").beforeRemoveClass("ion-page-invisible"),je&&null!=it){const de=(0,x.c)();de.addElement(it),Kn.addAnimation(de)}if(Bt||0!==tn.length||0!==Xn.length?(lr.addElement(Bt),lr.addElement(Xn)):lr.addElement(Ke.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Kn.addAnimation(lr),Lt?lr.beforeClearStyles([ct]).fromTo("transform",`translateX(${Dt})`,`translateX(${Ce})`).fromTo(ct,.8,1):lr.beforeClearStyles([ct]).fromTo("transform",`translateX(${rt})`,`translateX(${Ce})`),Bt){const de=se(Bt).querySelector(".transition-effect");if(de){const Ae=de.querySelector(".transition-cover"),Et=de.querySelector(".transition-shadow"),Mt=(0,x.c)(),Ft=(0,x.c)(),ln=(0,x.c)();Mt.addElement(de).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ft.addElement(Ae).beforeClearStyles([ct]).fromTo(ct,0,.1),ln.addElement(Et).beforeClearStyles([ct]).fromTo(ct,.03,.7),Mt.addAnimation([Ft,ln]),lr.addAnimation([Mt])}}const ut=Ke.querySelector("ion-header.header-collapse-condense"),{forward:Ue,backward:ce}=((it,Pe,pe,vt,ct)=>{const Je=wt(vt,pe),Ce=Ge(ct),$e=Ge(vt),re=wt(ct,pe),rt=null!==Je&&null!==Ce&&!pe,Dt=null!==$e&&null!==re&&pe;if(rt){const Ke=Ce.getBoundingClientRect(),je=Je.getBoundingClientRect(),Lt=se(Je).querySelector(".button-text"),Bt=null==Lt?void 0:Lt.getBoundingClientRect(),tn=se(Ce).querySelector(".toolbar-title").getBoundingClientRect();qe(it,Pe,pe,Ce,Ke,tn,je,Lt,Bt),Se(it,Pe,pe,Je,je,Lt,Bt,Ce,tn)}else if(Dt){const Ke=$e.getBoundingClientRect(),je=re.getBoundingClientRect(),Lt=se(re).querySelector(".button-text"),Bt=null==Lt?void 0:Lt.getBoundingClientRect(),tn=se($e).querySelector(".toolbar-title").getBoundingClientRect();qe(it,Pe,pe,$e,Ke,tn,je,Lt,Bt),Se(it,Pe,pe,re,je,Lt,Bt,$e,tn)}return{forward:rt,backward:Dt}})(Kn,re,Lt,Ke,je);if(tn.forEach(de=>{const Ae=(0,x.c)();Ae.addElement(de),Kn.addAnimation(Ae);const Et=(0,x.c)();Et.addElement(de.querySelector("ion-title"));const Mt=(0,x.c)(),Ft=Array.from(de.querySelectorAll("ion-buttons,[menuToggle]")),ln=de.closest("ion-header"),Xt=null==ln?void 0:ln.classList.contains("header-collapse-condense-inactive");let dr;dr=Ft.filter(Lt?hr=>{const Ar=hr.classList.contains("buttons-collapse");return Ar&&!Xt||!Ar}:hr=>!hr.classList.contains("buttons-collapse")),Mt.addElement(dr);const er=(0,x.c)();er.addElement(de.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const wn=(0,x.c)();wn.addElement(se(de).querySelector(".toolbar-background"));const wr=(0,x.c)(),Xr=de.querySelector("ion-back-button");if(Xr&&wr.addElement(Xr),Ae.addAnimation([Et,Mt,er,wn,wr]),Mt.fromTo(ct,.01,1),er.fromTo(ct,.01,1),Lt)Xt||Et.fromTo("transform",`translateX(${Dt})`,`translateX(${Ce})`).fromTo(ct,.01,1),er.fromTo("transform",`translateX(${Dt})`,`translateX(${Ce})`),wr.fromTo(ct,.01,1);else if(ut||Et.fromTo("transform",`translateX(${rt})`,`translateX(${Ce})`).fromTo(ct,.01,1),er.fromTo("transform",`translateX(${rt})`,`translateX(${Ce})`),wn.beforeClearStyles([ct,"transform"]),(null==ln?void 0:ln.translucent)?wn.fromTo("transform",re?"translateX(-100%)":"translateX(100%)","translateX(0px)"):wn.fromTo(ct,.01,"var(--opacity)"),Ue||wr.fromTo(ct,.01,1),Xr&&!Ue){const Ar=(0,x.c)();Ar.addElement(se(Xr).querySelector(".button-text")).fromTo("transform",re?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ae.addAnimation(Ar)}}),je){const de=(0,x.c)(),Ae=je.querySelector(":scope > ion-content"),Et=je.querySelectorAll(":scope > ion-header > ion-toolbar"),Mt=je.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ae||0!==Et.length||0!==Mt.length?(de.addElement(Ae),de.addElement(Mt)):de.addElement(je.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Kn.addAnimation(de),Lt){de.beforeClearStyles([ct]).fromTo("transform",`translateX(${Ce})`,re?"translateX(-100%)":"translateX(100%)");const Ft=(0,g.g)(je);Kn.afterAddWrite(()=>{"normal"===Kn.getDirection()&&Ft.style.setProperty("display","none")})}else de.fromTo("transform",`translateX(${Ce})`,`translateX(${Dt})`).fromTo(ct,1,.8);if(Ae){const Ft=se(Ae).querySelector(".transition-effect");if(Ft){const ln=Ft.querySelector(".transition-cover"),Xt=Ft.querySelector(".transition-shadow"),dr=(0,x.c)(),er=(0,x.c)(),wn=(0,x.c)();dr.addElement(Ft).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),er.addElement(ln).beforeClearStyles([ct]).fromTo(ct,.1,0),wn.addElement(Xt).beforeClearStyles([ct]).fromTo(ct,.7,.03),dr.addAnimation([er,wn]),de.addAnimation([dr])}}Et.forEach(Ft=>{const ln=(0,x.c)();ln.addElement(Ft);const Xt=(0,x.c)();Xt.addElement(Ft.querySelector("ion-title"));const dr=(0,x.c)(),er=Ft.querySelectorAll("ion-buttons,[menuToggle]"),wn=Ft.closest("ion-header"),wr=null==wn?void 0:wn.classList.contains("header-collapse-condense-inactive"),Xr=Array.from(er).filter(yn=>{const en=yn.classList.contains("buttons-collapse");return en&&!wr||!en});dr.addElement(Xr);const hr=(0,x.c)(),Ar=Ft.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Ar.length>0&&hr.addElement(Ar);const xr=(0,x.c)();xr.addElement(se(Ft).querySelector(".toolbar-background"));const pr=(0,x.c)(),Kr=Ft.querySelector("ion-back-button");if(Kr&&pr.addElement(Kr),ln.addAnimation([Xt,dr,hr,pr,xr]),Kn.addAnimation(ln),pr.fromTo(ct,.99,0),dr.fromTo(ct,.99,0),hr.fromTo(ct,.99,0),Lt){if(wr||Xt.fromTo("transform",`translateX(${Ce})`,re?"translateX(-100%)":"translateX(100%)").fromTo(ct,.99,0),hr.fromTo("transform",`translateX(${Ce})`,re?"translateX(-100%)":"translateX(100%)"),xr.beforeClearStyles([ct,"transform"]),(null==wn?void 0:wn.translucent)?xr.fromTo("transform","translateX(0px)",re?"translateX(-100%)":"translateX(100%)"):xr.fromTo(ct,"var(--opacity)",0),Kr&&!ce){const en=(0,x.c)();en.addElement(se(Kr).querySelector(".button-text")).fromTo("transform",`translateX(${Ce})`,`translateX(${(re?-124:124)+"px"})`),ln.addAnimation(en)}}else wr||Xt.fromTo("transform",`translateX(${Ce})`,`translateX(${Dt})`).fromTo(ct,.99,0).afterClearStyles([Je,ct]),hr.fromTo("transform",`translateX(${Ce})`,`translateX(${Dt})`).afterClearStyles([Je,ct]),pr.afterClearStyles([ct]),Xt.afterClearStyles([ct]),dr.afterClearStyles([ct])})}return Kn}catch(vt){throw vt}},ot=10},3615:(Vn,At,B)=>{"use strict";B.r(At),B.d(At,{mdTransitionAnimation:()=>S});var x=B(9986),g=B(3604);B(8476),B(9483),B(4261);const S=(ke,se)=>{var Ge,wt,Oe;const Ne="back"===se.direction,it=se.leavingEl,Pe=(0,g.g)(se.enteringEl),pe=Pe.querySelector("ion-toolbar"),vt=(0,x.c)();if(vt.addElement(Pe).fill("both").beforeRemoveClass("ion-page-invisible"),Ne?vt.duration((null!==(Ge=se.duration)&&void 0!==Ge?Ge:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):vt.duration((null!==(wt=se.duration)&&void 0!==wt?wt:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),pe){const ct=(0,x.c)();ct.addElement(pe),vt.addAnimation(ct)}if(it&&Ne){vt.duration((null!==(Oe=se.duration)&&void 0!==Oe?Oe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const ct=(0,x.c)();ct.addElement((0,g.g)(it)).onFinish(Je=>{1===Je&&ct.elements.length>0&&ct.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),vt.addAnimation(ct)}return vt}},7610:(Vn,At,B)=>{"use strict";B.d(At,{B:()=>er,F:()=>Kr,G:()=>wn,O:()=>wr,a:()=>Pe,b:()=>pe,c:()=>Ce,d:()=>Xr,e:()=>hr,f:()=>Ue,g:()=>de,h:()=>Mt,i:()=>ln,j:()=>re,k:()=>rt,l:()=>vt,m:()=>ct,n:()=>wt,o:()=>lr,q:()=>Oe,s:()=>dr});var x=B(467),g=B(8476),H=B(4920),_e=B(7192),J=B(9483),S=B(8621),ke=B(1970),se=B(4929);const Ge='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',wt=(yn,en)=>{const rn=yn.querySelector(Ge);Se(rn,null!=en?en:yn)},Oe=(yn,en)=>{const rn=Array.from(yn.querySelectorAll(Ge));Se(rn.length>0?rn[rn.length-1]:null,null!=en?en:yn)},Se=(yn,en)=>{let rn=yn;const Kt=null==yn?void 0:yn.shadowRoot;Kt&&(rn=Kt.querySelector(Ge)||yn),rn?(0,H.f)(rn):en.focus()};let qe=0,Ne=0;const ot=new WeakMap,it=yn=>({create:en=>Dt(yn,en),dismiss:(en,rn,Kt)=>Xn(document,en,rn,yn,Kt),getTop:()=>(0,x.A)(function*(){return lr(document,yn)})()}),Pe=it("ion-alert"),pe=it("ion-action-sheet"),vt=it("ion-loading"),ct=it("ion-modal"),Ce=it("ion-popover"),re=yn=>{typeof document<"u"&&Bt(document);const en=qe++;yn.overlayIndex=en},rt=yn=>(yn.hasAttribute("id")||(yn.id="ion-overlay-"+ ++Ne),yn.id),Dt=(yn,en)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(yn).then(()=>{const rn=document.createElement(yn);return rn.classList.add("overlay-hidden"),Object.assign(rn,Object.assign(Object.assign({},en),{hasController:!0})),Ae(document).appendChild(rn),new Promise(Kt=>(0,H.c)(rn,Kt))}):Promise.resolve(),je=(yn,en)=>{let rn=yn;const Kt=null==yn?void 0:yn.shadowRoot;Kt&&(rn=Kt.querySelector(Ge)||yn),rn?(0,H.f)(rn):en.focus()},Bt=yn=>{0===qe&&(qe=1,yn.addEventListener("focus",en=>{((yn,en)=>{const rn=lr(en,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),Kt=yn.target;rn&&Kt&&!rn.classList.contains(Kr)&&(rn.shadowRoot?(()=>{if(rn.contains(Kt))rn.lastFocus=Kt;else if("ION-TOAST"===Kt.tagName)je(rn.lastFocus,rn);else{const sr=rn.lastFocus;wt(rn),sr===en.activeElement&&Oe(rn),rn.lastFocus=en.activeElement}})():(()=>{if(rn===Kt)rn.lastFocus=void 0;else if("ION-TOAST"===Kt.tagName)je(rn.lastFocus,rn);else{const sr=(0,H.g)(rn);if(!sr.contains(Kt))return;const fr=sr.querySelector(".ion-overlay-wrapper");if(!fr)return;if(fr.contains(Kt)||Kt===sr.querySelector("ion-backdrop"))rn.lastFocus=Kt;else{const uo=rn.lastFocus;wt(fr,rn),uo===en.activeElement&&Oe(fr,rn),rn.lastFocus=en.activeElement}}})())})(en,yn)},!0),yn.addEventListener("ionBackButton",en=>{const rn=lr(yn);null!=rn&&rn.backdropDismiss&&en.detail.register(_e.OVERLAY_BACK_BUTTON_PRIORITY,()=>{rn.dismiss(void 0,er)})}),(0,_e.shouldUseCloseWatcher)()||yn.addEventListener("keydown",en=>{if("Escape"===en.key){const rn=lr(yn);null!=rn&&rn.backdropDismiss&&rn.dismiss(void 0,er)}}))},Xn=(yn,en,rn,Kt,Br)=>{const Tr=lr(yn,Kt,Br);return Tr?Tr.dismiss(en,rn):Promise.reject("overlay does not exist")},Kn=(yn,en)=>((yn,en)=>(void 0===en&&(en="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(yn.querySelectorAll(en)).filter(rn=>rn.overlayIndex>0)))(yn,en).filter(rn=>!(yn=>yn.classList.contains("overlay-hidden"))(rn)),lr=(yn,en,rn)=>{const Kt=Kn(yn,en);return void 0===rn?Kt[Kt.length-1]:Kt.find(Br=>Br.id===rn)},ut=(yn=!1)=>{const rn=Ae(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");rn&&(yn?rn.setAttribute("aria-hidden","true"):rn.removeAttribute("aria-hidden"))},Ue=function(){var yn=(0,x.A)(function*(en,rn,Kt,Br,Tr){var sr,fr;if(en.presented)return;"ION-TOAST"!==en.el.tagName&&ut(!0),document.body.classList.add(ke.B),xr(en.el),Ar(en.el),en.presented=!0,en.willPresent.emit(),null===(sr=en.willPresentShorthand)||void 0===sr||sr.emit();const uo=(0,J.b)(en),ho=en.enterAnimation?en.enterAnimation:J.c.get(rn,"ios"===uo?Kt:Br);(yield Et(en,ho,en.el,Tr))&&(en.didPresent.emit(),null===(fr=en.didPresentShorthand)||void 0===fr||fr.emit()),"ION-TOAST"!==en.el.tagName&&ce(en.el),en.keyboardClose&&(null===document.activeElement||!en.el.contains(document.activeElement))&&en.el.focus(),en.el.removeAttribute("aria-hidden")});return function(rn,Kt,Br,Tr,sr){return yn.apply(this,arguments)}}(),ce=function(){var yn=(0,x.A)(function*(en){let rn=document.activeElement;if(!rn)return;const Kt=null==rn?void 0:rn.shadowRoot;Kt&&(rn=Kt.querySelector(Ge)||rn),yield en.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&rn.focus()});return function(rn){return yn.apply(this,arguments)}}(),de=function(){var yn=(0,x.A)(function*(en,rn,Kt,Br,Tr,sr,fr){var uo,ho;if(!en.presented)return!1;const Vr=void 0!==g.d?Kn(g.d).filter(Hr=>"ION-TOAST"!==Hr.tagName):[];1===Vr.length&&Vr[0].id===en.el.id&&(ut(!1),document.body.classList.remove(ke.B)),en.presented=!1;try{Ar(en.el),en.el.style.setProperty("pointer-events","none"),en.willDismiss.emit({data:rn,role:Kt}),null===(uo=en.willDismissShorthand)||void 0===uo||uo.emit({data:rn,role:Kt});const Hr=(0,J.b)(en),zr=en.leaveAnimation?en.leaveAnimation:J.c.get(Br,"ios"===Hr?Tr:sr);Kt!==wn&&(yield Et(en,zr,en.el,fr)),en.didDismiss.emit({data:rn,role:Kt}),null===(ho=en.didDismissShorthand)||void 0===ho||ho.emit({data:rn,role:Kt}),(ot.get(en)||[]).forEach(xo=>xo.destroy()),ot.delete(en),en.el.classList.add("overlay-hidden"),en.el.style.removeProperty("pointer-events"),void 0!==en.el.lastFocus&&(en.el.lastFocus=void 0)}catch(Hr){console.error(Hr)}return en.el.remove(),pr(),!0});return function(rn,Kt,Br,Tr,sr,fr,uo){return yn.apply(this,arguments)}}(),Ae=yn=>yn.querySelector("ion-app")||yn.body,Et=function(){var yn=(0,x.A)(function*(en,rn,Kt,Br){Kt.classList.remove("overlay-hidden");const sr=rn(en.el,Br);(!en.animated||!J.c.getBoolean("animated",!0))&&sr.duration(0),en.keyboardClose&&sr.beforeAddWrite(()=>{const uo=Kt.ownerDocument.activeElement;null!=uo&&uo.matches("input,ion-input, ion-textarea")&&uo.blur()});const fr=ot.get(en)||[];return ot.set(en,[...fr,sr]),yield sr.play(),!0});return function(rn,Kt,Br,Tr){return yn.apply(this,arguments)}}(),Mt=(yn,en)=>{let rn;const Kt=new Promise(Br=>rn=Br);return Ft(yn,en,Br=>{rn(Br.detail)}),Kt},Ft=(yn,en,rn)=>{const Kt=Br=>{(0,H.b)(yn,en,Kt),rn(Br)};(0,H.a)(yn,en,Kt)},ln=yn=>"cancel"===yn||yn===er,Xt=yn=>yn(),dr=(yn,en)=>{if("function"==typeof yn)return J.c.get("_zoneGate",Xt)(()=>{try{return yn(en)}catch(Kt){throw Kt}})},er="backdrop",wn="gesture",wr=39,Xr=yn=>{let rn,en=!1;const Kt=(0,S.C)(),Br=(fr=!1)=>{if(rn&&!fr)return{delegate:rn,inline:en};const{el:uo,hasController:ho,delegate:Vr}=yn;return en=null!==uo.parentNode&&!ho,rn=en?Vr||Kt:Vr,{inline:en,delegate:rn}};return{attachViewToDom:function(){var fr=(0,x.A)(function*(uo){const{delegate:ho}=Br(!0);if(ho)return yield ho.attachViewToDom(yn.el,uo);const{hasController:Vr}=yn;if(Vr&&void 0!==uo)throw new Error("framework delegate is missing");return null});return function(ho){return fr.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:fr}=Br();fr&&void 0!==yn.el&&fr.removeViewFromDom(yn.el.parentElement,yn.el)}}},hr=()=>{let yn;const en=()=>{yn&&(yn(),yn=void 0)};return{addClickListener:(Kt,Br)=>{en();const Tr=void 0!==Br?document.getElementById(Br):null;Tr?yn=((fr,uo)=>{const ho=()=>{uo.present()};return fr.addEventListener("click",ho),()=>{fr.removeEventListener("click",ho)}})(Tr,Kt):(0,se.p)(`A trigger element with the ID "${Br}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Kt)},removeClickListener:en}},Ar=yn=>{void 0!==g.d&&yn.setAttribute("aria-hidden","true")},xr=yn=>{var en;if(void 0===g.d)return;const rn=Kn(g.d);for(let Kt=rn.length-1;Kt>=0;Kt--){const Br=rn[Kt],Tr=null!==(en=rn[Kt+1])&&void 0!==en?en:yn;(Tr.hasAttribute("aria-hidden")||"ION-TOAST"!==Tr.tagName)&&Br.setAttribute("aria-hidden","true")}},pr=()=>{if(void 0===g.d)return;const yn=Kn(g.d);for(let en=yn.length-1;en>=0;en--){const rn=yn[en];if(rn.removeAttribute("aria-hidden"),"ION-TOAST"!==rn.tagName)break}},Kr="ion-disable-focus-trap"},369:(Vn,At,B)=>{"use strict";B.d(At,{w:()=>S});var x=B(467),g=B(119),H=B.n(g);const _e={SecureStorage:"ionicSecureStorage",IndexedDB:H().INDEXEDDB,LocalStorage:H().LOCALSTORAGE},J={name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:[_e.SecureStorage,_e.IndexedDB,_e.LocalStorage]};class S{constructor(se=J){this._db=null,this._secureStorageDriver=null;const Ge=Object.assign({},J,se||{});this._config=Ge}create(){var se=this;return(0,x.A)(function*(){const Ge=H().createInstance(se._config);return se._db=Ge,yield Ge.setDriver(se._config.driverOrder||[]),se})()}defineDriver(se){var Ge=this;return(0,x.A)(function*(){return se._driver===_e.SecureStorage&&(Ge._secureStorageDriver=se),H().defineDriver(se)})()}get driver(){var se;return(null===(se=this._db)||void 0===se?void 0:se.driver())||null}assertDb(){if(!this._db)throw new Error("Database not created. Must call create() first");return this._db}get(se){return this.assertDb().getItem(se)}set(se,Ge){return this.assertDb().setItem(se,Ge)}remove(se){return this.assertDb().removeItem(se)}clear(){return this.assertDb().clear()}length(){return this.assertDb().length()}keys(){return this.assertDb().keys()}forEach(se){return this.assertDb().iterate(se)}setEncryptionKey(se){var Ge;if(!this._secureStorageDriver)throw new Error("@ionic-enterprise/secure-storage not installed. Encryption support not available");null===(Ge=this._secureStorageDriver)||void 0===Ge||Ge.setEncryptionKey(se)}}},4401:(Vn,At,B)=>{"use strict";B.d(At,{R:()=>uy});var x=B(467),g=function(i,n){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var a in r)r.hasOwnProperty(a)&&(e[a]=r[a])})(i,n)};function H(i,n){function e(){this.constructor=i}g(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}function _e(i,n,e,r){return new(e||(e=Promise))(function(a,c){function h(b){try{m(r.next(b))}catch(_){c(_)}}function f(b){try{m(r.throw(b))}catch(_){c(_)}}function m(b){b.done?a(b.value):new e(function(_){_(b.value)}).then(h,f)}m((r=r.apply(i,n||[])).next())})}function J(i,n){var e,r,a,c,h={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(b){return function(_){if(e)throw new TypeError("Generator is already executing.");for(;h;)try{if(e=1,r&&(a=2&_[0]?r.return:_[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,_[1])).done)return a;switch(r=0,a&&(_=[2&_[0],a.value]),_[0]){case 0:case 1:a=_;break;case 4:return h.label++,{value:_[1],done:!1};case 5:h.label++,r=_[1],_=[0];continue;case 7:_=h.ops.pop(),h.trys.pop();continue;default:if(!(a=(a=h.trys).length>0&&a[a.length-1])&&(6===_[0]||2===_[0])){h=0;continue}if(3===_[0]&&(!a||_[1]>a[0]&&_[1]<a[3])){h.label=_[1];break}if(6===_[0]&&h.label<a[1]){h.label=a[1],a=_;break}if(a&&h.label<a[2]){h.label=a[2],h.ops.push(_);break}a[2]&&h.ops.pop(),h.trys.pop();continue}_=n.call(i,h)}catch(I){_=[6,I],r=0}finally{e=a=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([m,b])}}}var S=function(){function i(n){this.global=n,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return i.prototype.setPlatform=function(n,e){null!=this.platform&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+e+"."),this.platformName=n,this.platform=e},i.prototype.registerFlag=function(n,e,r){if(this.flagRegistry[n]={evaluationFn:e,setHook:r},null!=this.urlFlags[n]){var a=this.urlFlags[n];console.warn("Setting feature override from URL "+n+": "+a+"."),this.set(n,a)}},i.prototype.get=function(n){return n in this.flags||(this.flags[n]=this.evaluateFlag(n)),this.flags[n]},i.prototype.getNumber=function(n){return this.get(n)},i.prototype.getBool=function(n){return this.get(n)},i.prototype.getFlags=function(){return this.flags},Object.defineProperty(i.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),i.prototype.set=function(n,e){if(null==this.flagRegistry[n])throw new Error("Cannot set flag "+n+" as it has not been registered.");this.flags[n]=e,null!=this.flagRegistry[n].setHook&&this.flagRegistry[n].setHook(e)},i.prototype.evaluateFlag=function(n){if(null==this.flagRegistry[n])throw new Error("Cannot evaluate flag '"+n+"': no evaluation function found.");return this.flagRegistry[n].evaluationFn()},i.prototype.setFlags=function(n){this.flags=Object.assign({},n)},i.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},i.prototype.populateURLFlags=function(){var n=this;if(void 0!==this.global&&void 0!==this.global.location&&void 0!==this.global.location.search){var r,a=(r={},this.global.location.search.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(c){for(var h=[],f=1;f<arguments.length;f++)h[f-1]=arguments[f];return function ke(i,n,e){i[decodeURIComponent(n)]=decodeURIComponent(e||"")}(r,h[0],h[1]),h.join("=")}),r);"tfjsflags"in a&&a.tfjsflags.split(",").forEach(function(c){var h=c.split(":"),f=h[0];n.urlFlags[f]=function(b,_){if("true"===(_=_.toLowerCase())||"false"===_)return"true"===_;if(""+ +_===_)return+_;throw new Error("Could not parse value flag value "+_+" for flag "+b+".")}(f,h[1])})}},i}();function se(){return Ge}var Ge=null,wt=new Map,Oe=new Map;function Se(i,n){var e=vt(i,n);return wt.get(e)}function Ne(i){for(var n=wt.entries(),e=[];;){var r=n.next(),c=r.value;if(r.done)break;var f=c[1];c[0].split("_")[0]===i&&e.push(f)}return e}function ot(i){var n=i.kernelName,e=i.backendName,r=vt(n,e);if(wt.has(r))throw new Error("The kernel '"+n+"' for backend '"+e+"' is already registered");wt.set(r,i)}function it(i){var n=i.kernelName;Oe.has(n)&&console.warn("Overriding the gradient for '"+n+"'"),Oe.set(n,i)}function vt(i,n){return n+"_"+i}function ct(i){for(var n=i.length,e=0,r=0;n>0;)r=Math.random()*n|0,e=i[--n],i[n]=i[r],i[r]=e}function Je(i,n,e){return Math.max(i,Math.min(n,e))}function Ce(i){return i%2==0?i:i+1}function $e(i){for(var n=0,e=0;e<i.length;e++)n+=i[e];return n}function re(i,n){if(!i)throw new Error("string"==typeof n?n:n())}function rt(i,n,e){void 0===e&&(e=""),re(Lt(i,n),function(){return e+" Shapes "+i+" and "+n+" must match"})}function Dt(i){re(null!=i,function(){return"The input to the tensor constructor must be a non-null value."})}function Ke(i,n,e){if(void 0===n&&(n=[]),void 0===e&&(e=!1),null==n&&(n=[]),Array.isArray(i)||ln(i)&&!e)for(var r=0;r<i.length;++r)Ke(i[r],n,e);else n.push(i);return n}function je(i){if(0===i.length)return 1;for(var n=i[0],e=1;e<i.length;e++)n*=i[e];return n}function Lt(i,n){if(i===n)return!0;if(null==i||null==n||i.length!==n.length)return!1;for(var e=0;e<i.length;e++)if(i[e]!==n[e])return!1;return!0}function Bt(i){return i%1==0}function Xn(i){if(null!=Math.tanh)return Math.tanh(i);if(i===1/0)return 1;if(i===-1/0)return-1;var n=Math.exp(2*i);return(n-1)/(n+1)}function tn(i){var n=Math.ceil(Math.sqrt(i));return[n,Math.ceil(i/n)]}function Kn(i,n){return n<=i.length?i:i+" ".repeat(n-i.length)}function lr(i,n,e){return void 0===n&&(n=function(r){return 0}),new Promise(function(r,a){var c=0,h=function(){if(i())r();else{c++;var f=n(c);null!=e&&c>=e?a():setTimeout(h,f)}};h()})}function ut(i,n){for(var e=1,r=-1,a=0;a<i.length;++a)if(i[a]>=0)e*=i[a];else if(-1===i[a]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+a);r=a}else if(i[a]<0)throw Error("Shapes can not be < 0. Found "+i[a]+" at dim "+a);if(-1===r){if(n>0&&n!==e)throw Error("Size("+n+") must match the product of shape "+i);return i}if(0===e)throw Error("Cannot infer the missing size in ["+i+"] when there are 0 elements");if(n%e!=0)throw Error("The implicit shape can't be a fractional number. Got "+n+" / "+e);var c=i.slice();return c[r]=n/e,c}function Ue(i,n){var e=n.length;return re((i=null==i?n.map(function(r,a){return a}):[].concat(i)).every(function(r){return r>=-e&&r<e}),function(){return"All values in axis param must be in range [-"+e+", "+e+") but got axis "+i}),re(i.every(function(r){return Bt(r)}),function(){return"All values in axis param must be integers but got axis "+i}),i.map(function(r){return r<0?e+r:r})}function ce(i,n){for(var e=[],r=[],a=null!=n&&Array.isArray(n)&&0===n.length,c=null==n||a?null:Ue(n,i).sort(),h=0,f=0;f<i.length;++f){if(null!=c){if(c[h]===f&&1!==i[f])throw new Error("Can't squeeze axis "+f+" since its dim '"+i[f]+"' is not 1");(null==c[h]||c[h]>f)&&1===i[f]&&(e.push(i[f]),r.push(f)),c[h]<=f&&h++}1!==i[f]&&(e.push(i[f]),r.push(f))}return{newShape:e,keptDims:r}}function de(i,n){var e=null;if(null==i||"float32"===i)e=new Float32Array(n);else if("int32"===i)e=new Int32Array(n);else{if("bool"!==i)throw new Error("Unknown data type "+i);e=new Uint8Array(n)}return e}function Ae(i,n){var e=null;if(null==i||"float32"===i)e=new Float32Array(n);else if("int32"===i)e=new Int32Array(n);else if("bool"===i)e=new Uint8Array(n);else{if("string"!==i)throw new Error("Unknown data type "+i);e=new Array(n)}return e}function Et(i,n){for(var e=0;e<i.length;e++){var r=i[e];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+n+" being uploaded contains "+r+".")}}function Mt(i){return"bool"===i||"complex64"===i||"float32"===i||"int32"===i||"string"===i}function Ft(i,n){return!("complex64"===n||"float32"===n&&"complex64"!==i||"int32"===n&&"float32"!==i&&"complex64"!==i||"bool"===n&&"bool"===i)}function ln(i){return i instanceof Float32Array||i instanceof Int32Array||i instanceof Uint8Array}function Xt(i){if("float32"===i||"int32"===i)return 4;if("complex64"===i)return 8;if("bool"===i)return 1;throw new Error("Unknown dtype "+i)}function dr(i){if(null==i)return 0;var n=0;return i.forEach(function(e){return n+=e.length}),n}function er(i){return"string"==typeof i||i instanceof String}function wn(i){return"boolean"==typeof i}function wr(i){return"number"==typeof i}function Xr(i){return Array.isArray(i)?Xr(i[0]):i instanceof Float32Array?"float32":i instanceof Int32Array||i instanceof Uint8Array?"int32":wr(i)?"float32":er(i)?"string":wn(i)?"bool":"float32"}function hr(i){return!!(i&&i.constructor&&i.call&&i.apply)}function Ar(i,n){for(var e=n;e<i;++e)if(i%e==0)return e;return i}function xr(i){var n=i.length;if(n<2)return[];var e=new Array(n-1);e[n-2]=i[n-1];for(var r=n-3;r>=0;--r)e[r]=e[r+1]*i[r+1];return e}function pr(i,n,e){if("string"===n)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(i)&&(i=Ke(i)),e&&Et(i,n),h=n,(c=i)instanceof Float32Array&&"float32"===h||c instanceof Int32Array&&"int32"===h||c instanceof Uint8Array&&"bool"===h)return i;var c,h;if(null==n||"float32"===n||"complex64"===n)return new Float32Array(i);if("int32"===n)return new Int32Array(i);if("bool"===n){for(var r=new Uint8Array(i.length),a=0;a<r.length;++a)0!==Math.round(i[a])&&(r[a]=1);return r}throw new Error("Unknown data type "+n)}function Kr(i,n){if(0===i.length)return n[0];var e=i.reduce(function(r,a){return r*a});if(0===e)return[];if(e!==n.length)throw new Error("["+i+"] does not match the input size.");return function r(a,c,h){var f=new Array;if(1===c.length)for(var m=c[0],b=0;b<m;b++)f[b]=h[a+b];else{m=c[0];var _=c.slice(1),I=_.reduce(function(D,T){return D*T});for(b=0;b<m;b++)f[b]=r(a+b*I,_,h)}return f}(0,i,n)}function yn(i,n){for(var e=en(i,n),r=0;r<e.length;r++)e[r]=1;return e}function en(i,n){if(null==n||"float32"===n||"complex64"===n)return new Float32Array(i);if("int32"===n)return new Int32Array(i);if("bool"===n)return new Uint8Array(i);throw new Error("Unknown data type "+n)}function rn(){return se().platform.now()}function Kt(i){i.forEach(function(n){re(Number.isInteger(n)&&n>=0,function(){return"Tensor must have a shape comprised of positive integers but got shape ["+i+"]."})})}function Br(i,n){return void 0===n&&(n="utf-8"),n=n||"utf-8",se().platform.encode(i,n)}function Tr(i,n){return void 0===n&&(n="utf-8"),n=n||"utf-8",se().platform.decode(i,n)}function sr(i,n,e){if(0===n)return 0;if(1===n)return i[0];for(var r=i[i.length-1],a=0;a<i.length-1;++a)r+=e[a]*i[a];return r}function fr(i,n,e){if(0===n)return[];if(1===n)return[i];for(var r=new Array(n),a=0;a<r.length-1;++a)r[a]=Math.floor(i/e[a]),i-=r[a]*e[a];return r[r.length-1]=i,r}Object.freeze({shuffle:ct,clamp:Je,nearestLargerEven:Ce,sum:$e,randUniform:function(i,n){var e=Math.random();return n*e+(1-e)*i},distSquared:function(i,n){for(var e=0,r=0;r<i.length;r++){var a=Number(i[r])-Number(n[r]);e+=a*a}return e},assert:re,assertShapesMatch:rt,assertNonNull:Dt,flatten:Ke,sizeFromShape:je,isScalarShape:function(i){return 0===i.length},arraysEqual:Lt,isInt:Bt,tanh:Xn,sizeToSquarishShape:tn,createShuffledIndices:function(i){for(var n=new Uint32Array(i),e=0;e<i;++e)n[e]=e;return ct(n),n},rightPad:Kn,repeatedTry:lr,inferFromImplicitShape:ut,parseAxisParam:Ue,squeezeShape:ce,getTypedArrayFromDType:de,getArrayFromDType:Ae,checkConversionForErrors:Et,isValidDtype:Mt,hasEncodingLoss:Ft,isTypedArray:ln,bytesPerElement:Xt,bytesFromStringArray:dr,isString:er,isBoolean:wn,isNumber:wr,inferDtype:Xr,isFunction:hr,nearestDivisor:Ar,computeStrides:xr,toTypedArray:pr,toNestedArray:Kr,makeOnesTypedArray:yn,makeZerosTypedArray:en,now:rn,assertNonNegativeIntegerDimensions:Kt,fetch:function(i,n){return se().platform.fetch(i,n)},encodeString:Br,decodeString:Tr,locToIndex:sr,indexToLoc:fr});var ho=function(){function i(n,e){this.backendTimer=n,this.logger=e,null==e&&(this.logger=new Vr)}return i.prototype.profileKernel=function(n,e,r){var a,c=this,h=this.backendTimer.time(function(){a=r()});return a.forEach(function(f){f.data().then(function(m){(function(b,_,I){if("float32"!==_)return!1;for(var D=0;D<b.length;D++){var T=b[D];if(isNaN(T)||!isFinite(T))return console.warn("Found "+T+" in the result of '"+I+"'"),!0}})(m,f.dtype,n),h.then(function(b){var _="";null!=b.getExtraProfileInfo&&(_=b.getExtraProfileInfo()),c.logger.logKernelProfile(n,f,m,b.kernelMs,e,_)})})}),a},i}(),Vr=function(){function i(){}return i.prototype.logKernelProfile=function(n,e,r,a,c,h){var f="number"==typeof a?Kn(a+"ms",9):a.error,m=Kn(n,25),b=e.rank,_=e.size,I=Kn(e.shape.toString(),14),D="";for(var T in c){var z=c[T].shape||e.shape,Q=z.length;D+=T+": "+Q+"D "+(Q>0?z:"")+" "}console.log("%c"+m+"\t%c"+f+"\t%c"+b+"D "+I+"\t%c"+_+"\t%c"+D+"\t%c"+h,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},i}();function xo(i,n,e){return Kn(Array.isArray(i)?parseFloat(i[0].toFixed(7))+" + "+parseFloat(i[1].toFixed(7))+"j":er(i)?"'"+i+"'":"bool"===e?Er(i):parseFloat(i.toFixed(7)).toString(),n)}function Er(i){return 0===i?"false":"true"}function To(i){for(var n=[],e=0;e<i.length;e+=2)n.push([i[e],i[e+1]]);return n}var Lr=function(){function i(n,e,r){var a=this;if(this.dtype=e,this.shape=n.slice(),this.size=je(n),null!=r){var c=r.length;re(c===this.size,function(){return"Length of values '"+c+"' does not match the size inferred by the shape '"+a.size+"'."})}if("complex64"===e)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||Ae(e,this.size),this.strides=xr(n)}return i.prototype.set=function(n){for(var e=this,r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];0===r.length&&(r=[0]),re(r.length===this.rank,function(){return"The number of provided coordinates ("+r.length+") must match the rank ("+e.rank+")"});var c=this.locToIndex(r);this.values[c]=n},i.prototype.get=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];0===n.length&&(n=[0]);for(var r=0,a=0,c=n;a<c.length;a++){var h=c[a];if(h<0||h>=this.shape[r])throw new Error("Requested out of range element at "+n+".   Buffer shape="+this.shape);r++}for(var m=n[n.length-1],b=0;b<n.length-1;++b)m+=this.strides[b]*n[b];return this.values[m]},i.prototype.locToIndex=function(n){if(0===this.rank)return 0;if(1===this.rank)return n[0];for(var e=n[n.length-1],r=0;r<n.length-1;++r)e+=this.strides[r]*n[r];return e},i.prototype.indexToLoc=function(n){if(0===this.rank)return[];if(1===this.rank)return[n];for(var e=new Array(this.shape.length),r=0;r<e.length-1;++r)e[r]=Math.floor(n/this.strides[r]),n-=e[r]*this.strides[r];return e[e.length-1]=n,e},Object.defineProperty(i.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),i.prototype.toTensor=function(){return io().makeTensor(this.values,this.shape,this.dtype)},i}(),io=null,nn=null,Ir=null,$r=function(){function i(n,e,r,a){this.kept=!1,this.isDisposedInternal=!1,this.shape=n.slice(),this.dtype=e||"float32",this.size=je(n),this.strides=xr(n),this.dataId=r,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}return i.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},i.prototype.asScalar=function(){return this.throwIfDisposed(),re(1===this.size,function(){return"The array must have only 1 element."}),this.reshape([])},i.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},i.prototype.as2D=function(n,e){return this.throwIfDisposed(),this.reshape([n,e])},i.prototype.as3D=function(n,e,r){return this.throwIfDisposed(),this.reshape([n,e,r])},i.prototype.as4D=function(n,e,r,a){return this.throwIfDisposed(),this.reshape([n,e,r,a])},i.prototype.as5D=function(n,e,r,a,c){return this.throwIfDisposed(),this.reshape([n,e,r,a,c])},i.prototype.asType=function(n){return this.throwIfDisposed(),nn.cast(this,n)},Object.defineProperty(i.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),i.prototype.buffer=function(){return _e(this,void 0,void 0,function(){var n;return J(this,function(e){switch(e.label){case 0:return[4,this.data()];case 1:return n=e.sent(),[2,nn.buffer(this.shape,this.dtype,n)]}})})},i.prototype.bufferSync=function(){return nn.buffer(this.shape,this.dtype,this.dataSync())},i.prototype.array=function(){return _e(this,void 0,void 0,function(){var n;return J(this,function(e){switch(e.label){case 0:return[4,this.data()];case 1:return n=e.sent(),[2,Kr(this.shape,n)]}})})},i.prototype.arraySync=function(){return Kr(this.shape,this.dataSync())},i.prototype.data=function(){return _e(this,void 0,void 0,function(){var n,e;return J(this,function(r){switch(r.label){case 0:return this.throwIfDisposed(),n=io().read(this.dataId),"string"!==this.dtype?[3,2]:[4,n];case 1:e=r.sent();try{return[2,e.map(function(a){return Tr(a)})]}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}r.label=2;case 2:return[2,n]}})})},i.prototype.dataSync=function(){this.throwIfDisposed();var n=io().readSync(this.dataId);if("string"===this.dtype)try{return n.map(function(e){return Tr(e)})}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return n},i.prototype.bytes=function(){return _e(this,void 0,void 0,function(){var n;return J(this,function(e){switch(e.label){case 0:return this.throwIfDisposed(),[4,io().read(this.dataId)];case 1:return n=e.sent(),"string"===this.dtype?[2,n]:[2,new Uint8Array(n.buffer)]}})})},i.prototype.dispose=function(){this.isDisposed||(io().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(i.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),i.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},i.prototype.toFloat=function(){return this.asType("float32")},i.prototype.toInt=function(){return this.asType("int32")},i.prototype.toBool=function(){return this.asType("bool")},i.prototype.print=function(n){return void 0===n&&(n=!1),nn.print(this,n)},i.prototype.reshape=function(n){return this.throwIfDisposed(),nn.reshape(this,n)},i.prototype.reshapeAs=function(n){return this.throwIfDisposed(),this.reshape(n.shape)},i.prototype.expandDims=function(n){return void 0===n&&(n=0),nn.expandDims(this,n)},i.prototype.cumsum=function(n,e,r){return void 0===n&&(n=0),void 0===e&&(e=!1),void 0===r&&(r=!1),nn.cumsum(this,n,e,r)},i.prototype.squeeze=function(n){return this.throwIfDisposed(),nn.squeeze(this,n)},i.prototype.clone=function(){return this.throwIfDisposed(),nn.clone(this)},i.prototype.oneHot=function(n,e,r){return this.throwIfDisposed(),nn.oneHot(this,n,e,r)},i.prototype.toString=function(n){return void 0===n&&(n=!1),function Jr(i,n,e,r){var a=xr(n),c=function(b,_,I,D){var T=je(_),z=D[D.length-1],Q=new Array(z).fill(0),Z=_.length,ne="complex64"===I?To(b):b;if(Z>1)for(var fe=0;fe<T/z;fe++)for(var me=fe*z,he=0;he<z;he++)Q[he]=Math.max(Q[he],xo(ne[me+he],0,I).length);return Q}(i,n,e,a),h=n.length,f=function b(_,I,D,T,z,Q){void 0===Q&&(Q=!0);var Z="complex64"===D?2:1,ne=I[0],fe=I.length;if(0===fe)return"complex64"===D?[xo(To(_)[0],0,D)]:"bool"===D?[Er(_[0])]:[_[0].toString()];if(1===fe){if(ne>20){var he=Array.from(_.slice(0,3*Z)),we=Array.from(_.slice((ne-3)*Z,ne*Z));return"complex64"===D&&(he=To(he),we=To(we)),["["+he.map(function(Bn,Jn){return xo(Bn,z[Jn],D)}).join(", ")+", ..., "+we.map(function(Bn,Jn){return xo(Bn,z[ne-3+Jn],D)}).join(", ")+"]"]}return["["+("complex64"===D?To(_):Array.from(_)).map(function(Bn,Jn){return xo(Bn,z[Jn],D)}).join(", ")+"]"]}var We=I.slice(1),It=T.slice(1),xt=T[0]*Z,ht=[];if(ne>20){for(var ft=0;ft<3;ft++){var Zt=(Gt=ft*xt)+xt;ht.push.apply(ht,b(_.slice(Gt,Zt),We,D,It,z,!1))}for(ht.push("..."),ft=ne-3;ft<ne;ft++)Zt=(Gt=ft*xt)+xt,ht.push.apply(ht,b(_.slice(Gt,Zt),We,D,It,z,ft===ne-1))}else for(ft=0;ft<ne;ft++){var Gt;Zt=(Gt=ft*xt)+xt,ht.push.apply(ht,b(_.slice(Gt,Zt),We,D,It,z,ft===ne-1))}var Dn=2===fe?",":"";for(ht[0]="["+ht[0]+Dn,ft=1;ft<ht.length-1;ft++)ht[ft]=" "+ht[ft]+Dn;var On=",\n";for(ft=2;ft<fe;ft++)On+="\n";return ht[ht.length-1]=" "+ht[ht.length-1]+"]"+(Q?"":On),ht}(i,n,e,a,c),m=["Tensor"];return r&&(m.push("  dtype: "+e),m.push("  rank: "+h),m.push("  shape: ["+n+"]"),m.push("  values:")),m.push(f.map(function(b){return"    "+b}).join("\n")),m.join("\n")}(this.dataSync(),this.shape,this.dtype,n)},i.prototype.tile=function(n){return this.throwIfDisposed(),nn.tile(this,n)},i.prototype.gather=function(n,e){return void 0===e&&(e=0),this.throwIfDisposed(),nn.gather(this,n,e)},i.prototype.matMul=function(n,e,r){return void 0===e&&(e=!1),void 0===r&&(r=!1),this.throwIfDisposed(),nn.matMul(this,n,e,r)},i.prototype.dot=function(n){return this.throwIfDisposed(),nn.dot(this,n)},i.prototype.norm=function(n,e,r){return void 0===n&&(n="euclidean"),void 0===e&&(e=null),void 0===r&&(r=!1),this.throwIfDisposed(),nn.norm(this,n,e,r)},i.prototype.slice=function(n,e){return this.throwIfDisposed(),nn.slice(this,n,e)},i.prototype.reverse=function(n){return this.throwIfDisposed(),nn.reverse(this,n)},i.prototype.concat=function(n,e){return void 0===e&&(e=0),this.throwIfDisposed(),n instanceof i&&(n=[n]),nn.concat([this].concat(n),e)},i.prototype.split=function(n,e){return void 0===e&&(e=0),this.throwIfDisposed(),nn.split(this,n,e)},i.prototype.stack=function(n,e){return void 0===e&&(e=0),nn.stack([this,n],e)},i.prototype.unstack=function(n){return void 0===n&&(n=0),nn.unstack(this,n)},i.prototype.pad=function(n,e){return void 0===e&&(e=0),nn.pad(this,n,e)},i.prototype.batchNormalization=function(n,e,r,a,c){return void 0===r&&(r=.001),Ir("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(n,e,c,a,r)},i.prototype.batchNorm=function(n,e,r,a,c){return void 0===c&&(c=.001),this.throwIfDisposed(),nn.batchNorm(this,n,e,r,a,c)},i.prototype.all=function(n,e){return void 0===n&&(n=null),void 0===e&&(e=!1),this.throwIfDisposed(),nn.all(this,n,e)},i.prototype.any=function(n,e){return void 0===n&&(n=null),void 0===e&&(e=!1),this.throwIfDisposed(),nn.any(this,n,e)},i.prototype.logSumExp=function(n,e){return void 0===n&&(n=null),void 0===e&&(e=!1),this.throwIfDisposed(),nn.logSumExp(this,n,e)},i.prototype.sum=function(n,e){return void 0===n&&(n=null),void 0===e&&(e=!1),this.throwIfDisposed(),nn.sum(this,n,e)},i.prototype.prod=function(n,e){return void 0===n&&(n=null),void 0===e&&(e=!1),this.throwIfDisposed(),nn.prod(this,n,e)},i.prototype.mean=function(n,e){return void 0===n&&(n=null),void 0===e&&(e=!1),this.throwIfDisposed(),nn.mean(this,n,e)},i.prototype.min=function(n,e){return void 0===n&&(n=null),void 0===e&&(e=!1),this.throwIfDisposed(),nn.min(this,n,e)},i.prototype.max=function(n,e){return void 0===n&&(n=null),void 0===e&&(e=!1),this.throwIfDisposed(),nn.max(this,n,e)},i.prototype.argMin=function(n){return void 0===n&&(n=null),this.throwIfDisposed(),nn.argMin(this,n)},i.prototype.argMax=function(n){return void 0===n&&(n=null),this.throwIfDisposed(),nn.argMax(this,n)},i.prototype.cast=function(n){return this.throwIfDisposed(),nn.cast(this,n)},i.prototype.add=function(n){return this.throwIfDisposed(),nn.add(this,n)},i.prototype.addStrict=function(n){return this.throwIfDisposed(),nn.addStrict(this,n)},i.prototype.atan2=function(n){return this.throwIfDisposed(),nn.atan2(this,n)},i.prototype.sub=function(n){return this.throwIfDisposed(),nn.sub(this,n)},i.prototype.subStrict=function(n){return this.throwIfDisposed(),nn.subStrict(this,n)},i.prototype.pow=function(n){return this.throwIfDisposed(),nn.pow(this,n)},i.prototype.powStrict=function(n){return this.throwIfDisposed(),nn.powStrict(this,n)},i.prototype.mul=function(n){return this.throwIfDisposed(),nn.mul(this,n)},i.prototype.mulStrict=function(n){return this.throwIfDisposed(),nn.mulStrict(this,n)},i.prototype.div=function(n){return this.throwIfDisposed(),nn.div(this,n)},i.prototype.divNoNan=function(n){return this.throwIfDisposed(),nn.divNoNan(this,n)},i.prototype.floorDiv=function(n){return this.throwIfDisposed(),nn.floorDiv(this,n)},i.prototype.divStrict=function(n){return this.throwIfDisposed(),nn.divStrict(this,n)},i.prototype.minimum=function(n){return this.throwIfDisposed(),nn.minimum(this,n)},i.prototype.minimumStrict=function(n){return this.throwIfDisposed(),nn.minimumStrict(this,n)},i.prototype.maximum=function(n){return this.throwIfDisposed(),nn.maximum(this,n)},i.prototype.maximumStrict=function(n){return this.throwIfDisposed(),nn.maximumStrict(this,n)},i.prototype.mod=function(n){return this.throwIfDisposed(),nn.mod(this,n)},i.prototype.modStrict=function(n){return this.throwIfDisposed(),nn.modStrict(this,n)},i.prototype.squaredDifferenceStrict=function(n){return this.throwIfDisposed(),nn.squaredDifferenceStrict(this,n)},i.prototype.transpose=function(n){return this.throwIfDisposed(),nn.transpose(this,n)},i.prototype.notEqual=function(n){return this.throwIfDisposed(),nn.notEqual(this,n)},i.prototype.notEqualStrict=function(n){return this.throwIfDisposed(),nn.notEqualStrict(this,n)},i.prototype.less=function(n){return this.throwIfDisposed(),nn.less(this,n)},i.prototype.lessStrict=function(n){return this.throwIfDisposed(),nn.lessStrict(this,n)},i.prototype.equal=function(n){return this.throwIfDisposed(),nn.equal(this,n)},i.prototype.equalStrict=function(n){return this.throwIfDisposed(),nn.equalStrict(this,n)},i.prototype.lessEqual=function(n){return this.throwIfDisposed(),nn.lessEqual(this,n)},i.prototype.lessEqualStrict=function(n){return this.throwIfDisposed(),nn.lessEqualStrict(this,n)},i.prototype.greater=function(n){return this.throwIfDisposed(),nn.greater(this,n)},i.prototype.greaterStrict=function(n){return this.throwIfDisposed(),nn.greaterStrict(this,n)},i.prototype.greaterEqual=function(n){return this.throwIfDisposed(),nn.greaterEqual(this,n)},i.prototype.greaterEqualStrict=function(n){return this.throwIfDisposed(),nn.greaterEqualStrict(this,n)},i.prototype.logicalAnd=function(n){return this.throwIfDisposed(),nn.logicalAnd(this,n)},i.prototype.logicalOr=function(n){return this.throwIfDisposed(),nn.logicalOr(this,n)},i.prototype.logicalNot=function(){return this.throwIfDisposed(),nn.logicalNot(this)},i.prototype.logicalXor=function(n){return this.throwIfDisposed(),nn.logicalXor(this,n)},i.prototype.where=function(n,e){return this.throwIfDisposed(),nn.where(n,this,e)},i.prototype.neg=function(){return this.throwIfDisposed(),nn.neg(this)},i.prototype.ceil=function(){return this.throwIfDisposed(),nn.ceil(this)},i.prototype.floor=function(){return this.throwIfDisposed(),nn.floor(this)},i.prototype.sign=function(){return this.throwIfDisposed(),nn.sign(this)},i.prototype.isNaN=function(){return this.throwIfDisposed(),nn.isNaN(this)},i.prototype.isInf=function(){return this.throwIfDisposed(),nn.isInf(this)},i.prototype.isFinite=function(){return this.throwIfDisposed(),nn.isFinite(this)},i.prototype.exp=function(){return this.throwIfDisposed(),nn.exp(this)},i.prototype.expm1=function(){return this.throwIfDisposed(),nn.expm1(this)},i.prototype.log=function(){return this.throwIfDisposed(),nn.log(this)},i.prototype.log1p=function(){return this.throwIfDisposed(),nn.log1p(this)},i.prototype.sqrt=function(){return this.throwIfDisposed(),nn.sqrt(this)},i.prototype.rsqrt=function(){return this.throwIfDisposed(),nn.rsqrt(this)},i.prototype.square=function(){return this.throwIfDisposed(),nn.square(this)},i.prototype.reciprocal=function(){return this.throwIfDisposed(),nn.reciprocal(this)},i.prototype.abs=function(){return this.throwIfDisposed(),nn.abs(this)},i.prototype.clipByValue=function(n,e){return this.throwIfDisposed(),nn.clipByValue(this,n,e)},i.prototype.relu=function(){return this.throwIfDisposed(),nn.relu(this)},i.prototype.relu6=function(){return this.throwIfDisposed(),nn.relu6(this)},i.prototype.elu=function(){return this.throwIfDisposed(),nn.elu(this)},i.prototype.selu=function(){return this.throwIfDisposed(),nn.selu(this)},i.prototype.leakyRelu=function(n){return void 0===n&&(n=.2),this.throwIfDisposed(),nn.leakyRelu(this,n)},i.prototype.prelu=function(n){return this.throwIfDisposed(),nn.prelu(this,n)},i.prototype.sigmoid=function(){return this.throwIfDisposed(),nn.sigmoid(this)},i.prototype.logSigmoid=function(){return this.throwIfDisposed(),nn.logSigmoid(this)},i.prototype.softplus=function(){return this.throwIfDisposed(),nn.softplus(this)},i.prototype.zerosLike=function(){return this.throwIfDisposed(),nn.zerosLike(this)},i.prototype.onesLike=function(){return this.throwIfDisposed(),nn.onesLike(this)},i.prototype.sin=function(){return this.throwIfDisposed(),nn.sin(this)},i.prototype.cos=function(){return this.throwIfDisposed(),nn.cos(this)},i.prototype.tan=function(){return this.throwIfDisposed(),nn.tan(this)},i.prototype.asin=function(){return this.throwIfDisposed(),nn.asin(this)},i.prototype.acos=function(){return this.throwIfDisposed(),nn.acos(this)},i.prototype.atan=function(){return this.throwIfDisposed(),nn.atan(this)},i.prototype.sinh=function(){return this.throwIfDisposed(),nn.sinh(this)},i.prototype.cosh=function(){return this.throwIfDisposed(),nn.cosh(this)},i.prototype.tanh=function(){return this.throwIfDisposed(),nn.tanh(this)},i.prototype.asinh=function(){return this.throwIfDisposed(),nn.asinh(this)},i.prototype.acosh=function(){return this.throwIfDisposed(),nn.acosh(this)},i.prototype.atanh=function(){return this.throwIfDisposed(),nn.atanh(this)},i.prototype.erf=function(){return this.throwIfDisposed(),nn.erf(this)},i.prototype.round=function(){return this.throwIfDisposed(),nn.round(this)},i.prototype.step=function(n){return void 0===n&&(n=0),this.throwIfDisposed(),nn.step(this,n)},i.prototype.softmax=function(n){return void 0===n&&(n=-1),this.throwIfDisposed(),nn.softmax(this,n)},i.prototype.logSoftmax=function(n){return void 0===n&&(n=-1),this.throwIfDisposed(),nn.logSoftmax(this,n)},i.prototype.resizeBilinear=function(n,e){return void 0===e&&(e=!1),this.throwIfDisposed(),nn.image.resizeBilinear(this,n,e)},i.prototype.resizeNearestNeighbor=function(n,e){return void 0===e&&(e=!1),this.throwIfDisposed(),nn.image.resizeNearestNeighbor(this,n,e)},i.prototype.conv1d=function(n,e,r,a,c,h){return void 0===a&&(a="NWC"),void 0===c&&(c=1),this.throwIfDisposed(),nn.conv1d(this,n,e,r,a,c,h)},i.prototype.conv2d=function(n,e,r,a,c,h){return void 0===a&&(a="NHWC"),void 0===c&&(c=[1,1]),this.throwIfDisposed(),nn.conv2d(this,n,e,r,a,c,h)},i.prototype.conv2dTranspose=function(n,e,r,a,c){return this.throwIfDisposed(),nn.conv2dTranspose(this,n,e,r,a,c)},i.prototype.depthwiseConv2D=function(n,e,r,a,c,h){return void 0===a&&(a="NHWC"),void 0===c&&(c=[1,1]),this.throwIfDisposed(),nn.depthwiseConv2d(this,n,e,r,a,c,h)},i.prototype.separableConv2d=function(n,e,r,a,c,h){return void 0===c&&(c=[1,1]),void 0===h&&(h="NHWC"),this.throwIfDisposed(),nn.separableConv2d(this,n,e,r,a,c,h)},i.prototype.avgPool=function(n,e,r,a){return this.throwIfDisposed(),nn.avgPool(this,n,e,r,a)},i.prototype.maxPool=function(n,e,r,a){return this.throwIfDisposed(),nn.maxPool(this,n,e,r,a)},i.prototype.localResponseNormalization=function(n,e,r,a){return void 0===n&&(n=5),void 0===e&&(e=1),void 0===r&&(r=1),void 0===a&&(a=.5),nn.localResponseNormalization(this,n,e,r,a)},i.prototype.pool=function(n,e,r,a,c){return this.throwIfDisposed(),nn.pool(this,n,e,r,a,c)},i.prototype.variable=function(n,e,r){return void 0===n&&(n=!0),this.throwIfDisposed(),io().makeVariable(this,n,e,r)},i.prototype.unsortedSegmentSum=function(n,e){return this.throwIfDisposed(),nn.unsortedSegmentSum(this,n,e)},i.prototype.batchToSpaceND=function(n,e){return this.throwIfDisposed(),nn.batchToSpaceND(this,n,e)},i.prototype.spaceToBatchND=function(n,e){return this.throwIfDisposed(),nn.spaceToBatchND(this,n,e)},i.prototype.topk=function(n,e){return void 0===n&&(n=1),void 0===e&&(e=!0),this.throwIfDisposed(),nn.topk(this,n,e)},i.prototype.stridedSlice=function(n,e,r,a,c,h,f,m){return void 0===a&&(a=0),void 0===c&&(c=0),void 0===h&&(h=0),void 0===f&&(f=0),void 0===m&&(m=0),this.throwIfDisposed(),nn.stridedSlice(this,n,e,r,a,c,h,f,m)},i.prototype.depthToSpace=function(n,e){return this.throwIfDisposed(),nn.depthToSpace(this,n,e)},i.prototype.fft=function(){return this.throwIfDisposed(),nn.spectral.fft(this)},i.prototype.ifft=function(){return this.throwIfDisposed(),nn.spectral.ifft(this)},i.prototype.rfft=function(){return this.throwIfDisposed(),nn.spectral.rfft(this)},i.prototype.irfft=function(){return this.throwIfDisposed(),nn.spectral.irfft(this)},i}();Object.defineProperty($r,Symbol.hasInstance,{value:function(i){return!!i&&null!=i.dataId&&null!=i.shape&&null!=i.dtype}});var lo,Qt,Pt,sn,_t,i,Tt=function(i){function n(e,r,a,c){var h=i.call(this,e.shape,e.dtype,e.dataId,c)||this;return h.trainable=r,h.name=a,h}return H(n,i),n.prototype.assign=function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value ("+e.dtype+") and previous value ("+this.dtype+") must match");if(!Lt(e.shape,this.shape))throw new Error("shape of the new value ("+e.shape+") and previous value ("+this.shape+") must match");io().disposeTensor(this),this.dataId=e.dataId,io().incRef(this,null)},n.prototype.dispose=function(){io().disposeVariable(this),this.isDisposedInternal=!0},n}($r);Object.defineProperty(Tt,Symbol.hasInstance,{value:function(i){return i instanceof $r&&null!=i.assign&&i.assign instanceof Function}}),(i=lo||(lo={})).R0="R0",i.R1="R1",i.R2="R2",i.R3="R3",i.R4="R4",i.R5="R5",i.R6="R6",function(i){i.float32="float32",i.int32="int32",i.bool="int32",i.complex64="complex64"}(Qt||(Qt={})),function(i){i.float32="float32",i.int32="int32",i.bool="bool",i.complex64="complex64"}(Pt||(Pt={})),function(i){i.float32="float32",i.int32="float32",i.bool="float32",i.complex64="complex64"}(sn||(sn={})),function(i){i.float32="complex64",i.int32="complex64",i.bool="complex64",i.complex64="complex64"}(_t||(_t={}));var _n={float32:sn,int32:Qt,bool:Pt,complex64:_t};function Nn(i,n){if("string"===i||"string"===n){if("string"===i&&"string"===n)return"string";throw new Error("Can not upcast "+i+" with "+n)}return _n[i][n]}function bt(i){return Nn(i,"int32")}function jt(i,n){if(i.dtype===n.dtype)return[i,n];var e=Nn(i.dtype,n.dtype);return[i.cast(e),n.cast(e)]}function vn(i,n){re(i.dtype===n.dtype,function(){return"The dtypes of the first("+i.dtype+") and second("+n.dtype+") input must match"})}function gn(i){var n=[];return function e(r,a,c){if(null!=r){if(r instanceof $r)return void a.push(r);if(h=r,Array.isArray(h)||"object"==typeof h){var h,f=r;for(var m in f){var b=f[m];c.has(b)||(c.add(b),e(b,a,c))}}}}(i,n,new Set),n}Object.freeze({makeTypesMatch:jt,assertTypesMatch:vn,isTensorInList:function(i,n){return n.some(function(e){return e.id===i.id})},getTensorsInContainer:gn});var mt,Ut=function(){function i(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return i.prototype.dispose=function(){for(var n in this.registeredVariables)this.registeredVariables[n].dispose()},i}(),ye=function(){function i(n){this.ENV=n,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new Ut}return i.prototype.ready=function(){return _e(this,void 0,void 0,function(){var n,e,r;return J(this,function(a){switch(a.label){case 0:if(null!=this.pendingBackendInit)return[2,this.pendingBackendInit.then(function(){})];if(null!=this.backendInstance)return[2];n=this.getSortedBackends(),e=0,a.label=1;case 1:return e<n.length?[4,this.initializeBackend(r=n[e]).success]:[3,5];case 2:return a.sent()?[4,this.setBackend(r)]:[3,4];case 3:return a.sent(),[2];case 4:return e++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}})})},Object.defineProperty(i.prototype,"backend",{get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var n=this.initializeBackendsAndReturnBest(),e=n.name;if(n.asyncInit)throw new Error("The highest priority backend '"+e+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(e)}return this.backendInstance},enumerable:!0,configurable:!0}),i.prototype.backendNames=function(){return Object.keys(this.registryFactory)},i.prototype.findBackend=function(n){return n in this.registry||n in this.registryFactory&&!this.initializeBackend(n).asyncInit?this.registry[n]:null},i.prototype.findBackendFactory=function(n){return n in this.registryFactory?this.registryFactory[n].factory:null},i.prototype.registerBackend=function(n,e,r){return void 0===r&&(r=1),n in this.registryFactory?(console.warn(n+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[n]={factory:e,priority:r},!0)},i.prototype.setBackend=function(n){return _e(this,void 0,void 0,function(){var e,r,a;return J(this,function(c){switch(c.label){case 0:if(null==this.registryFactory[n])throw new Error("Backend name '"+n+"' not found in registry");return this.backendName=n,null!=this.registry[n]?[3,4]:(this.backendInstance=null,e=this.initializeBackend(n),r=e.success,e.asyncInit?[4,r]:[3,2]);case 1:return a=c.sent(),[3,3];case 2:a=r,c.label=3;case 3:if(!a)return[2,!1];c.label=4;case 4:return this.backendInstance=this.registry[n],this.setupRegisteredKernels(),this.profiler=new ho(this.backendInstance),[2,!0]}})})},i.prototype.setupRegisteredKernels=function(){var n=this;Ne(this.backendName).forEach(function(e){null!=e.setupFunc&&e.setupFunc(n.backendInstance)})},i.prototype.disposeRegisteredKernels=function(n){var e=this;Ne(n).forEach(function(r){null!=r.disposeFunc&&r.disposeFunc(e.registry[n])})},i.prototype.initializeBackend=function(n){var e=this,r=this.registryFactory[n];if(null==r)throw new Error("Cannot initialize backend "+n+", no registration found.");try{var a=r.factory();if(Promise.resolve(a)===a){var c=++this.pendingBackendInitId,h=a.then(function(f){return!(c<e.pendingBackendInitId||(e.registry[n]=f,e.pendingBackendInit=null,0))}).catch(function(f){return!(c<e.pendingBackendInitId||(e.pendingBackendInit=null,console.warn("Initialization of backend "+n+" failed"),console.warn(f.stack||f.message),1))});return this.pendingBackendInit=h,{success:h,asyncInit:!0}}return this.registry[n]=a,{success:!0,asyncInit:!1}}catch(f){return console.warn("Initialization of backend "+n+" failed"),console.warn(f.stack||f.message),{success:!1,asyncInit:!1}}},i.prototype.removeBackend=function(n){if(!(n in this.registryFactory))throw new Error(n+" backend not found in registry");this.backendName===n&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,n in this.registry&&(this.disposeRegisteredKernels(n),this.registry[n].dispose(),delete this.registry[n]),delete this.registryFactory[n],this.backendName===n&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},i.prototype.getSortedBackends=function(){var n=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(function(e,r){return n.registryFactory[r].priority-n.registryFactory[e].priority})},i.prototype.initializeBackendsAndReturnBest=function(){for(var n=this.getSortedBackends(),e=0;e<n.length;e++){var r=n[e],a=this.initializeBackend(r),h=a.asyncInit;if(h||a.success)return{name:r,asyncInit:h}}throw new Error("Could not initialize any backends, all backend initializations failed.")},i.prototype.moveData=function(n,e){var r=this.state.tensorInfo.get(e),a=r.backend,c=this.readSync(e);a.disposeData(e),r.backend=n,n.move(e,c,r.shape,r.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},i.prototype.tidy=function(n,e){var r,a=this,c=null;if(null==e){if("function"!=typeof n)throw new Error("Please provide a function to tidy()");e=n}else{if("string"!=typeof n&&!(n instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof e)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");c=n}return this.scopedRun(function(){return a.startScope(c)},function(){return a.endScope(r)},function(){return(r=e())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),r})},i.prototype.scopedRun=function(n,e,r){n();try{var a=r();return e(),a}catch(c){throw e(),c}},i.prototype.nextTensorId=function(){return i.nextTensorId++},i.prototype.nextVariableId=function(){return i.nextVariableId++},i.prototype.clone=function(n){var e=this.makeTensorFromDataId(n.dataId,n.shape,n.dtype);return this.addTapeNode(this.state.activeScope.name,{x:n},[e],function(a){return{x:function(){return a.toFloat()}}},[]),e},i.prototype.runKernel=function(n,e,r,a,c){return this.runKernelFunc(null,e,null,n,r,a,c)},i.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},i.prototype.checkKernelForMemLeak=function(n,e,r){var a=this.backend.numDataIds(),c=0;r.forEach(function(m){c+="complex64"===m.dtype?3:1});var f=a-e-c-this.state.numDataMovesStack[this.state.numDataMovesStack.length-1];if(f>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+f+" data ids) after running '"+n+"'")},i.prototype.runKernelFunc=function(n,e,r,a,c,h,f){var m,b=this;void 0===h&&(h=[]),void 0===f&&(f=[]);var _=[],I=this.isTapeOn();null==a&&(a=null!=this.state.activeScope?this.state.activeScope.name:"");var D,T=function(fe){I&&(_=fe.map(function(me){return b.keep(b.clone(me))}))},z=this.state.numBytes,Q=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var Z,ne=Se(a,this.backendName);return D=null!=ne?function(){var fe=b.backend.numDataIds();Z=ne.kernelFunc({inputs:e,attrs:c,backend:b.backend});var me=Array.isArray(Z)?Z:[Z];b.shouldCheckForMemLeaks()&&b.checkKernelForMemLeak(a,fe,me);var he=me.map(function(We){return b.makeTensorFromDataId(We.dataId,We.shape,We.dtype)}),we=he.filter(function(We,It){return f[It]});return T((h||[]).slice().concat(we)),he}:function(){var fe=b.backend.numDataIds();Z=b.tidy(function(){return n(b.backend,T)});var me=Array.isArray(Z)?Z:[Z];return b.shouldCheckForMemLeaks()&&b.checkKernelForMemLeak(a,fe,me),me},this.scopedRun(function(){return b.state.kernelDepth++},function(){return b.state.kernelDepth--},function(){m=b.ENV.getBool("DEBUG")?b.profiler.profileKernel(a,e,function(){return D()}):D()}),I&&this.addTapeNode(a,e,m,r,_),this.state.profiling&&this.state.activeProfile.kernels.push({name:a,bytesAdded:this.state.numBytes-z,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-Q,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(e).map(function(fe){return e[fe].shape}),outputShapes:m.map(function(fe){return fe.shape})}),Array.isArray(Z)?m:m[0]},i.prototype.makeTensor=function(n,e,r,a){if(null==n)throw new Error("Values passed to engine.makeTensor() are null");a=a||this.backend;var c=n;"string"===(r=r||"float32")&&er(n[0])&&(c=n.map(function(_){return Br(_)}));var h=a.write(c,e,r),f=new $r(e,r,h,this.nextTensorId());if(this.incRef(f,a),"string"===r){var m=this.state.tensorInfo.get(h),b=dr(c);this.state.numBytes+=b-m.bytes,m.bytes=b}return f},i.prototype.makeTensorFromDataId=function(n,e,r,a){var c=new $r(e,r=r||"float32",n,this.nextTensorId());return this.incRef(c,a),c},i.prototype.makeVariable=function(n,e,r,a){void 0===e&&(e=!0),r=r||this.nextVariableId().toString(),null!=a&&a!==n.dtype&&(n=n.asType(a));var c=new Tt(n,e,r,this.nextTensorId());if(null!=this.state.registeredVariables[c.name])throw new Error("Variable with name "+c.name+" was already registered");return this.state.registeredVariables[c.name]=c,this.incRef(c,this.backend),c},i.prototype.incRef=function(n,e){var r=this.state.tensorInfo.has(n.dataId)?this.state.tensorInfo.get(n.dataId).refCount:0;if(this.state.numTensors++,"string"===n.dtype&&this.state.numStringTensors++,0===r){this.state.numDataBuffers++;var a=0;"complex64"!==n.dtype&&"string"!==n.dtype&&(a=n.size*Xt(n.dtype)),this.state.tensorInfo.set(n.dataId,{backend:e||this.backend,dtype:n.dtype,shape:n.shape,bytes:a,refCount:0}),this.state.numBytes+=a}this.state.tensorInfo.get(n.dataId).refCount++,n instanceof Tt||this.track(n)},i.prototype.disposeTensor=function(n){if(this.state.tensorInfo.has(n.dataId)){this.state.numTensors--,"string"===n.dtype&&this.state.numStringTensors--;var e=this.state.tensorInfo.get(n.dataId);e.refCount<=1?("complex64"!==n.dtype&&(this.state.numBytes-=e.bytes),this.state.numDataBuffers--,e.backend.disposeData(n.dataId),this.state.tensorInfo.delete(n.dataId)):this.state.tensorInfo.get(n.dataId).refCount--}},i.prototype.disposeVariables=function(){for(var n in this.state.registeredVariables)this.disposeVariable(this.state.registeredVariables[n])},i.prototype.disposeVariable=function(n){this.disposeTensor(n),null!=this.state.registeredVariables[n.name]&&delete this.state.registeredVariables[n.name]},i.prototype.memory=function(){var n=this.backend.memory();return n.numTensors=this.state.numTensors,n.numDataBuffers=this.state.numDataBuffers,n.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(n.unreliable=!0,null==n.reasons&&(n.reasons=[]),n.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),n},i.prototype.profile=function(n){return _e(this,void 0,void 0,function(){var e,r;return J(this,function(a){return this.state.profiling=!0,e=this.state.numBytes,r=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=n(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map(function(c){return c.totalBytesSnapshot})),this.state.activeProfile.newBytes=this.state.numBytes-e,this.state.activeProfile.newTensors=this.state.numTensors-r,[2,this.state.activeProfile]})})},i.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth},i.prototype.addTapeNode=function(n,e,r,a,c){var h=this,f={id:this.state.nextTapeNodeId++,kernelName:n,inputs:e,outputs:r,saved:c},m=function qe(i){return Oe.get(i)}(n);null!=m&&(a=m.gradFunc),null!=a&&(f.gradient=function(b){return b=b.map(function(_,I){if(null==_){var D=r[I],T=en(D.size,D.dtype);return h.makeTensor(T,D.shape,D.dtype)}return _}),a(b.length>1?b:b[0],c)}),this.state.activeTape.push(f)},i.prototype.keep=function(n){return n.kept=!0,n},i.prototype.startTape=function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++},i.prototype.endTape=function(){this.state.gradientDepth--},i.prototype.startScope=function(n){var e={track:[],name:"unnamed scope",id:this.state.nextScopeId++};n&&(e.name=n),this.state.scopeStack.push(e),this.state.activeScope=e},i.prototype.endScope=function(n){for(var e=this,r=gn(n),a=new Set(r.map(function(m){return m.id})),c=0;c<this.state.activeScope.track.length;c++){var h=this.state.activeScope.track[c];h.kept||a.has(h.id)||h.dispose()}var f=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],r.forEach(function(m){m.kept||m.scopeId!==f.id||e.track(m)})},i.prototype.gradients=function(n,e,r,a){var c=this;if(void 0===a&&(a=!1),re(e.length>0,function(){return"gradients() received an empty list of xs."}),null!=r&&"float32"!==r.dtype)throw new Error("dy must have 'float32' dtype, but has '"+r.dtype+"'");var h=this.scopedRun(function(){return c.startTape()},function(){return c.endTape()},function(){return c.tidy("forward",n)});re(h instanceof $r,function(){return"The result y returned by f() must be a tensor."});var f=function(m,b,_){for(var I={},D={},T=0;T<b.length;T++)I[b[T].id]=!0;for(T=0;T<m.length;T++){var z=(We=m[T]).inputs;for(var Q in z){for(var Z=z[Q],ne=!1,fe=0;fe<b.length;fe++)if(I[Z.id]){We.outputs.forEach(function(ft){return I[ft.id]=!0}),ne=!0,D[We.id]=!0;break}if(ne)break}}var me={};me[_.id]=!0;var he={};for(T=m.length-1;T>=0;T--)for(z=(We=m[T]).inputs,fe=0;fe<We.outputs.length;fe++)if(me[We.outputs[fe].id]){for(var Q in z)me[z[Q].id]=!0,he[We.id]=!0;break}var we=[];for(T=0;T<m.length;T++){var We;if(D[(We=m[T]).id]&&he[We.id]){var It={};for(var Q in We.inputs){var xt=We.inputs[Q];I[xt.id]&&(It[Q]=xt)}var ht=Object.assign({},We);ht.inputs=It,ht.outputs=We.outputs,we.push(ht)}}return we}(this.state.activeTape,e,h);if(!a&&0===f.length&&e.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",function(){var m,b,_={};_[h.id]=null==r?(b=yn(je(m=h.shape),"float32"),le.makeTensor(b,m,"float32")):r,function(D,T){for(var Q=function(ne){var fe=T[ne],me=[];if(fe.outputs.forEach(function(It){var xt=D[It.id];me.push(null!=xt?xt:null)}),null==fe.gradient)throw new Error("Cannot compute gradient: gradient function not found for "+fe.kernelName+".");var he=fe.gradient(me),we=function(It){if(!(It in he))throw new Error("Cannot backprop through input "+It+". Available gradients found: "+Object.keys(he)+".");var xt=c.tidy(function(){return he[It]()});if("float32"!==xt.dtype)throw new Error("Error in gradient for op "+fe.kernelName+". The gradient of input "+It+" must have 'float32' dtype, but has '"+xt.dtype+"'");var ht=fe.inputs[It];if(!Lt(xt.shape,ht.shape))throw new Error("Error in gradient for op "+fe.kernelName+". The gradient of input '"+It+"' has shape '"+xt.shape+"', which does not match the shape of the input '"+ht.shape+"'");if(null==D[ht.id])D[ht.id]=xt;else{var ft=D[ht.id];D[ht.id]=ft.add(xt),ft.dispose()}};for(var We in fe.inputs)we(We)},Z=T.length-1;Z>=0;Z--)Q(Z)}(_,f);var I=e.map(function(D){return _[D.id]});return 0===c.state.gradientDepth&&(c.state.activeTape.forEach(function(D){for(var T=0,z=D.saved;T<z.length;T++)z[T].dispose()}),c.state.activeTape=null),{value:h,grads:I}})},i.prototype.customGrad=function(n){var e=this;return re(hr(n),function(){return"The f passed in customGrad(f) must be a function."}),function(){for(var r,a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];re(a.every(function(f){return f instanceof $r}),function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"});var h={};return a.forEach(function(f,m){h[m]=f}),e.runKernelFunc(function(f,m){return re((r=n.apply(void 0,a.concat([m]))).value instanceof $r,function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"}),re(hr(r.gradFunc),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."}),r.value},h,function(f,m){var b=r.gradFunc(f,m),_=Array.isArray(b)?b:[b];re(_.length===a.length,function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."}),re(_.every(function(D){return D instanceof $r}),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."});var I={};return _.forEach(function(D,T){I[T]=function(){return D}}),I})}},i.prototype.readSync=function(n){return this.state.tensorInfo.get(n).backend.readSync(n)},i.prototype.read=function(n){return this.state.tensorInfo.get(n).backend.read(n)},i.prototype.time=function(n){return _e(this,void 0,void 0,function(){var e,r;return J(this,function(a){switch(a.label){case 0:return e=rn(),[4,this.backend.time(n)];case 1:return(r=a.sent()).wallMs=rn()-e,[2,r]}})})},i.prototype.track=function(n){return null!=this.state.activeScope&&(n.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(n)),n},Object.defineProperty(i.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),i.prototype.reset=function(){for(var n in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new Ut,this.registry)this.disposeRegisteredKernels(n),this.registry[n].dispose(),delete this.registry[n];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},i.nextTensorId=0,i.nextVariableId=0,i}(),le=function(){var i=function(){if(null==mt){var e=void 0;if(typeof window<"u")e=window;else if(typeof global<"u")e=global;else if(typeof process<"u")e=process;else{if(typeof self>"u")throw new Error("Could not find a global object");e=self}mt=e}return mt}();if(null==i._tfengine){var n=new S(i);i._tfengine=new ye(n)}return Ge=i._tfengine.ENV,io=function(){return i._tfengine},i._tfengine}();function zt(){return typeof window<"u"&&null!=window.document||typeof WorkerGlobalScope<"u"}var cn=se();cn.registerFlag("DEBUG",function(){return!1},function(i){i&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),cn.registerFlag("IS_BROWSER",function(){return zt()}),cn.registerFlag("IS_NODE",function(){return typeof process<"u"&&void 0!==process.versions&&void 0!==process.versions.node}),cn.registerFlag("IS_CHROME",function(){return typeof navigator<"u"&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}),cn.registerFlag("PROD",function(){return!1}),cn.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",function(){return cn.getBool("DEBUG")}),cn.registerFlag("DEPRECATION_WARNINGS_ENABLED",function(){return!0}),cn.registerFlag("IS_TEST",function(){return!1});var Zn,qn,Mn,Gr={},$o={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function ei(i,n){Gr[i]=n}function _o(i){i in Gr||(Gr[i]=function(e){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var r=function(a){if(typeof OffscreenCanvas<"u"&&2===a)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e);return r.addEventListener("webglcontextlost",function(a){a.preventDefault(),delete Gr[e]},!1),1===e?r.getContext("webgl",$o)||r.getContext("experimental-webgl",$o):r.getContext("webgl2",$o)}(i));var n=Gr[i];return n.isContextLost()?(delete Gr[i],_o(i)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),Gr[i])}function jo(i,n){return[n,i]}function Dr(i){var n=je(i);return tn(Math.ceil(n/4))}function Po(i,n){return[Math.max(1,Math.ceil(n/2)),Math.max(1,Math.ceil(i/2))]}function co(i,n){var e,r,a,c,h,f,m,b,_,I=i;return 2===se().getNumber("WEBGL_VERSION")?(e=I.R32F,r=I.R16F,a=I.RGBA16F,c=I.RGBA32F,h=I.RED,f=4,m=1,b=I.HALF_FLOAT,_=I.FLOAT):(e=i.RGBA,r=i.RGBA,a=i.RGBA,c=I.RGBA,h=i.RGBA,f=4,m=4,b=null!=n?n.HALF_FLOAT_OES:null,_=i.FLOAT),{internalFormatFloat:e,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:c,textureFormatFloat:h,downloadTextureFormat:i.RGBA,downloadUnpackNumChannels:f,defaultNumChannels:m,textureTypeHalfFloat:b,textureTypeFloat:_}}function Qn(i,n,e){var r=e();return n&&function(a){var c=a.getError();if(c!==a.NO_ERROR)throw new Error("WebGL Error: "+zn(a,c))}(i),r}function an(i){return!!(se().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===i||5.96e-8<Math.abs(i)&&Math.abs(i)<65504)}function zn(i,n){switch(n){case i.NO_ERROR:return"NO_ERROR";case i.INVALID_ENUM:return"INVALID_ENUM";case i.INVALID_VALUE:return"INVALID_VALUE";case i.INVALID_OPERATION:return"INVALID_OPERATION";case i.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case i.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case i.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+n}}function _r(i,n,e){return gr(i,n,function(){return i.getExtension(e)},'Extension "'+e+'" not supported on this browser.')}function Zr(i,n,e){var r=gr(i,n,function(){return i.createShader(i.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(Qn(i,n,function(){return i.shaderSource(r,e)}),Qn(i,n,function(){return i.compileShader(r)}),!1===i.getShaderParameter(r,i.COMPILE_STATUS))throw console.log(i.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function Te(i,n,e){var r=gr(i,n,function(){return i.createShader(i.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(Qn(i,n,function(){return i.shaderSource(r,e)}),Qn(i,n,function(){return i.compileShader(r)}),!1===i.getShaderParameter(r,i.COMPILE_STATUS))throw function(a,c){var h=ae.exec(c);if(null==h)return console.log("Couldn't parse line number in error: "+c),void console.log(a);for(var f=+h[1],m=a.split("\n"),b=m.length.toString().length+2,_=m.map(function(Z,ne){return Kn((ne+1).toString(),b)+Z}),I=0,D=0;D<_.length;D++)I=Math.max(_[D].length,I);var T=_.slice(0,f-1),z=_.slice(f-1,f),Q=_.slice(f);console.log(T.join("\n")),console.log(c.split("\n")[0]),console.log("%c "+Kn(z[0],I),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(Q.join("\n"))}(e,i.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}(function(i){i[i.DENSE=0]="DENSE",i[i.SHARED_BATCH=1]="SHARED_BATCH"})(Zn||(Zn={})),function(i){i[i.RENDER=0]="RENDER",i[i.UPLOAD=1]="UPLOAD",i[i.PIXELS=2]="PIXELS",i[i.DOWNLOAD=3]="DOWNLOAD"}(qn||(qn={})),function(i){i[i.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",i[i.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",i[i.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",i[i.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",i[i.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(Mn||(Mn={}));var et,Rt,ae=/ERROR: [0-9]+:([0-9]+):/g;function Le(i,n){return gr(i,n,function(){return i.createProgram()},"Unable to create WebGLProgram.")}function Ie(i,n,e){if(Qn(i,n,function(){return i.linkProgram(e)}),!1===i.getProgramParameter(e,i.LINK_STATUS))throw console.log(i.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function Xe(i,n,e){if(Qn(i,n,function(){return i.validateProgram(e)}),!1===i.getProgramParameter(e,i.VALIDATE_STATUS))throw console.log(i.getProgramInfoLog(e)),new Error("Shader program validation failed.")}function nt(i,n,e){var r=gr(i,n,function(){return i.createBuffer()},"Unable to create WebGLBuffer");return Qn(i,n,function(){return i.bindBuffer(i.ARRAY_BUFFER,r)}),Qn(i,n,function(){return i.bufferData(i.ARRAY_BUFFER,e,i.STATIC_DRAW)}),r}function yt(i,n,e){var r=gr(i,n,function(){return i.createBuffer()},"Unable to create WebGLBuffer");return Qn(i,n,function(){return i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,r)}),Qn(i,n,function(){return i.bufferData(i.ELEMENT_ARRAY_BUFFER,e,i.STATIC_DRAW)}),r}function $t(i,n){return gr(i,n,function(){return i.createTexture()},"Unable to create WebGLTexture.")}function fn(i,n){var e=se().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(i<=0||n<=0){var r="["+i+"x"+n+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(i>e||n>e)throw r="["+i+"x"+n+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU ["+e+"x"+e+"].")}function Rn(i,n){return gr(i,n,function(){return i.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function kn(i,n,e,r,a,c,h,f){var m=i.getAttribLocation(e,r);return-1!==m&&(Qn(i,n,function(){return i.bindBuffer(i.ARRAY_BUFFER,a)}),Qn(i,n,function(){return i.vertexAttribPointer(m,c,i.FLOAT,!1,h,f)}),Qn(i,n,function(){return i.enableVertexAttribArray(m)}),!0)}function xn(i,n,e,r){Ur(i,r),Qn(i,n,function(){return i.activeTexture(i.TEXTURE0+r)}),Qn(i,n,function(){return i.bindTexture(i.TEXTURE_2D,e)})}function tr(i,n,e,r){return gr(i,n,function(){return i.getUniformLocation(e,r)},'uniform "'+r+'" not present in program.')}function Cr(i,n,e){return i.getUniformLocation(n,e)}function mr(i,n,e,r,a,c){Qn(i,n,function(){return xn(i,n,r,c)}),Qn(i,n,function(){return i.uniform1i(a,c)})}function br(i,n,e,r){Qn(i,n,function(){return i.bindFramebuffer(i.FRAMEBUFFER,r)}),Qn(i,n,function(){return i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,e,0)})}function eo(i,n,e){Qn(i,n,function(){return i.bindFramebuffer(i.FRAMEBUFFER,e)}),Qn(i,n,function(){return i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,null,0)})}function kr(i){var n=i.checkFramebufferStatus(i.FRAMEBUFFER);if(n!==i.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+po(i,n))}function po(i,n){switch(n){case i.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case i.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case i.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case i.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+n}}function gr(i,n,e,r){var a=Qn(i,n,function(){return e()});if(null==a)throw new Error(r);return a}function Ur(i,n){var e=i.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=n+i.TEXTURE0;if(r<i.TEXTURE0||r>e)throw new Error("textureUnit must be in [gl.TEXTURE0, gl.TEXTURE"+e+"].")}function Ki(i,n){return void 0===n&&(n=2),je(i.slice(0,i.length-n))}function Fi(i){if(0===i.length)throw Error("Cannot get rows and columns of an empty shape array.");return[i.length>1?i[i.length-2]:1,i[i.length-1]]}function ea(i){var n=[1,1,1];return 0===i.length||1===i.length&&1===i[0]||(n=[Ki(i)].concat(Fi(i))),n}function ja(i,n){var e;void 0===n&&(n=!1);var r=se().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(n&&(r*=2,1===(i=i.map(function(b,_){return _>=i.length-2?Ce(i[_]):i[_]})).length&&(i=[2,i[0]])),2!==i.length){var a=ce(i);i=a.newShape}var c=je(i);if(i.length<=1&&c<=r)return[1,c];if(2===i.length&&i[0]<=r&&i[1]<=r)return i;if(3===i.length&&i[0]*i[1]<=r&&i[2]<=r)return[i[0]*i[1],i[2]];if(3===i.length&&i[0]<=r&&i[1]*i[2]<=r)return[i[0],i[1]*i[2]];if(4===i.length&&i[0]*i[1]*i[2]<=r&&i[3]<=r)return[i[0]*i[1]*i[2],i[3]];if(4===i.length&&i[0]<=r&&i[1]*i[2]*i[3]<=r)return[i[0],i[1]*i[2]*i[3]];if(n){var h=Ki(i),f=2,m=2;return i.length&&(f=(e=Fi(i))[0],m=e[1]),tn(c=h*(f/2)*(m/2)).map(function(b){return 2*b})}return tn(c)}function Li(i){return i%2==0}function vi(i,n){if(Lt(i=i.slice(-2),n=n.slice(-2))||!i.length||!n.length||0===i[0]||0===i[1]||0===n[0]||0===n[1])return!0;if(i.length!==n.length){var e=i.slice(-1)[0],r=n.slice(-1)[0];if(e===r||Li(e)&&Li(r)&&(1===i[0]||1===n[0]))return!0}return i[1]===n[1]&&Li(i[0])&&Li(n[0])}function wo(i){if(null==et){var n=_o(i);et=n.getParameter(n.MAX_TEXTURE_SIZE)}return et}function qi(i){if(null==Rt){var n=_o(i);Rt=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,Rt)}function Mi(i){if(0===i)return 0;var n=_o(i);return Mo(n,"EXT_disjoint_timer_query_webgl2")&&2===i?2:Mo(n,"EXT_disjoint_timer_query")?1:0}function Mo(i,n){return null!=i.getExtension(n)}function za(i){try{if(null!=_o(i))return!0}catch{return!1}return!1}function Sa(i){if(0===i)return!1;var n=_o(i);if(1===i){if(!Mo(n,"OES_texture_float"))return!1}else if(!Mo(n,"EXT_color_buffer_float"))return!1;return Za(n)}function fs(i){if(0===i)return!1;var n=_o(i);if(1!==i){if(Mo(n,"EXT_color_buffer_float"))return Za(n);if(Mo(n,"EXT_color_buffer_half_float")){var e=n.getExtension("EXT_color_buffer_half_float");return function(r,a){var c=co(r,a),h=r.createTexture();r.bindTexture(r.TEXTURE_2D,h),r.texImage2D(r.TEXTURE_2D,0,c.internalFormatHalfFloat,1,1,0,c.textureFormatFloat,c.textureTypeHalfFloat,null);var f=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,f),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,h,0);var m=r.checkFramebufferStatus(r.FRAMEBUFFER)===r.FRAMEBUFFER_COMPLETE;return r.bindTexture(r.TEXTURE_2D,null),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteTexture(h),r.deleteFramebuffer(f),m}(n,e)}return!1}return!!Mo(n,"OES_texture_float")&&!!Mo(n,"WEBGL_color_buffer_float")&&Za(n)}function Za(i){var n=co(i),e=i.createTexture();i.bindTexture(i.TEXTURE_2D,e),i.texImage2D(i.TEXTURE_2D,0,n.internalFormatFloat,1,1,0,n.textureFormatFloat,n.textureTypeFloat,null);var r=i.createFramebuffer();i.bindFramebuffer(i.FRAMEBUFFER,r),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,e,0);var a=i.checkFramebufferStatus(i.FRAMEBUFFER)===i.FRAMEBUFFER_COMPLETE;return i.bindTexture(i.TEXTURE_2D,null),i.bindFramebuffer(i.FRAMEBUFFER,null),i.deleteTexture(e),i.deleteFramebuffer(r),a}function ba(i){return 2===i&&null!=_o(i).fenceSync}var L=Object.freeze({callAndCheck:Qn,canBeRepresented:an,getWebGLErrorMessage:zn,getExtensionOrThrow:_r,createVertexShader:Zr,createFragmentShader:Te,createProgram:Le,linkProgram:Ie,validateProgram:Xe,createStaticVertexBuffer:nt,createStaticIndexBuffer:yt,getNumChannels:function(){return 2===se().getNumber("WEBGL_VERSION")?1:4},createTexture:$t,validateTextureSize:fn,createFramebuffer:Rn,bindVertexBufferToProgramAttribute:kn,bindTextureUnit:xn,unbindTextureUnit:function(i,n,e){Ur(i,e),Qn(i,n,function(){return i.activeTexture(i.TEXTURE0+e)}),Qn(i,n,function(){return i.bindTexture(i.TEXTURE_2D,null)})},getProgramUniformLocationOrThrow:tr,getProgramUniformLocation:Cr,bindTextureToProgramUniformSampler:mr,bindCanvasToFramebuffer:function(i,n){Qn(i,n,function(){return i.bindFramebuffer(i.FRAMEBUFFER,null)}),Qn(i,n,function(){return i.viewport(0,0,i.canvas.width,i.canvas.height)}),Qn(i,n,function(){return i.scissor(0,0,i.canvas.width,i.canvas.height)})},bindColorTextureToFramebuffer:br,unbindColorTextureFromFramebuffer:eo,validateFramebuffer:kr,getFramebufferErrorMessage:po,getBatchDim:Ki,getRowsCols:Fi,getShapeAs3D:ea,getTextureShapeFromLogicalShape:ja,isReshapeFree:vi,getWebGLMaxTextureSize:wo,resetMaxTextureSize:function(){et=null},resetMaxTexturesInShader:function(){Rt=null},getMaxTexturesInShader:qi,getWebGLDisjointQueryTimerVersion:Mi,hasExtension:Mo,isWebGLVersionEnabled:za,isCapableOfRenderingToFloatTexture:Sa,isDownloadFloatTextureEnabled:fs,isWebGLFenceEnabled:ba}),ie=se();function q(i){se().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(i+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function Nt(i,n){return le.tidy(i,n)}function Vt(i){gn(i).forEach(function(n){return n.dispose()})}function la(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];se().getBool("IS_TEST")||console.warn.apply(console,i)}function ci(i,n){var e=i;if(ln(i))return"string"===n?[]:[i.length];if(!Array.isArray(i))return[];for(var r=[];Array.isArray(e)||ln(e)&&"string"!==n;)r.push(e.length),e=e[0];return Array.isArray(i)&&se().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function a(c,h,f){if(f=f||[],Array.isArray(c)||ln(c)){re(h.length>0,function(){return"Element arr["+f.join("][")+"] should be a primitive, but is an array of "+c.length+" elements"}),re(c.length===h[0],function(){return"Element arr["+f.join("][")+"] should have "+h[0]+" elements, but has "+c.length+" elements"});for(var m=h.slice(1),b=0;b<c.length;++b)a(c[b],m,f.concat(b))}else re(0===h.length,function(){return"Element arr["+f.join("][")+"] is a primitive, but should be an array/TypedArray of "+h[0]+" elements"})}(i,r,[]),r}function Ri(i,n,e,r){if(null!=i&&("numeric"!==i&&i!==n||"numeric"===i&&"string"===n))throw new Error("Argument '"+e+"' passed to '"+r+"' must be "+i+" tensor, but got "+n+" tensor")}function Ve(i,n,e,r){if(void 0===r&&(r="numeric"),i instanceof $r)return Ri(r,i.dtype,n,e),i;var a=Xr(i);if("string"!==a&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),Ri(r,a,n,e),null==i||!ln(i)&&!Array.isArray(i)&&"number"!=typeof i&&"boolean"!=typeof i&&"string"!=typeof i)throw new Error("Argument '"+n+"' passed to '"+e+"' must be a Tensor or TensorLike, but got '"+(null==i?"null":i.constructor.name)+"'");var h=ci(i,a);ln(i)||Array.isArray(i)||(i=[i]);var f="string"!==a?pr(i,a,se().getBool("DEBUG")):Ke(i,[],!0);return le.makeTensor(f,h,a)}function zi(i,n,e,r){if(void 0===r&&(r="numeric"),!Array.isArray(i))throw new Error("Argument "+n+" passed to "+e+" must be a `Tensor[]` or `TensorLike[]`");return i.map(function(a,c){return Ve(a,n+"["+c+"]",e)},r)}function Aa(i,n){for(var e=0;e<i.length;++e)if(i[i.length-e-1]!==n-1-e)return!1;return!0}function ws(i,n,e){for(var r=i.length+n.length,a=[],c=0,h=0,f=0;f<r;f++)-1===e.indexOf(f)?a.push(i[c++]):a.push(n[h++]);return a}function Ei(i,n){for(var e=[],r=i.length,a=0;a<r;a++)-1===n.indexOf(a)&&e.push(i[a]);return[e,n.map(function(c){return i[c]})]}function yi(i,n){return ws(i,n.map(function(e){return 1}),n)}function ta(i,n,e){re(Aa(n,e),function(){return i+" supports only inner-most axes for now. Got axes "+n+" and rank-"+e+" input."})}function ca(i,n){if(Aa(i,n))return null;for(var e=[],r=0;r<n;++r)-1===i.indexOf(r)&&e.push(r);return i.forEach(function(a){return e.push(a)}),e}function di(i){return i.map(function(n,e){return[e,n]}).sort(function(n,e){return n[1]-e[1]}).map(function(n){return n[0]})}function Yi(i,n){for(var e=[],r=n-i;r<n;++r)e.push(r);return e}function Ua(i,n){var e=i[0].length;i.forEach(function(a,c){re(a.length===e,function(){return"Error in concat"+e+"D: rank of tensors["+c+"] must be the same as the rank of the rest ("+e+")"})}),re(n>=0&&n<e,function(){return"Error in concat"+e+"D: axis must be between 0 and "+(e-1)+"."});var r=i[0];i.forEach(function(a,c){for(var h=0;h<e;h++)re(h===n||a[h]===r[h],function(){return"Error in concat"+e+"D: Shape of tensors["+c+"] ("+a+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+c+"."})})}function G(i,n){for(var e=i[0].slice(),r=1;r<i.length;r++)e[n]+=i[r][n];return e}function $(i){var n=Object.keys(i);if(1!==n.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+n.length+" keys.");var e=n[0],r=i[e];e.endsWith("_")&&(e=e.substring(0,e.length-1));var a=function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];le.startScope(e);try{var f=r.apply(void 0,c);return f instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),le.endScope(f),f}catch(m){throw le.endScope(null),m}};return Object.defineProperty(a,"name",{value:e,configurable:!0}),a}ie.registerFlag("HAS_WEBGL",function(){return ie.getNumber("WEBGL_VERSION")>0}),ie.registerFlag("WEBGL_VERSION",function(){return za(2)?2:za(1)?1:0}),ie.registerFlag("WEBGL_BUFFER_SUPPORTED",function(){return 2===ie.get("WEBGL_VERSION")}),ie.registerFlag("WEBGL_CPU_FORWARD",function(){return!0}),ie.registerFlag("WEBGL_FORCE_F16_TEXTURES",function(){return!1}),ie.registerFlag("WEBGL_PACK",function(){return ie.getBool("HAS_WEBGL")}),ie.registerFlag("WEBGL_PACK_NORMALIZATION",function(){return ie.getBool("WEBGL_PACK")}),ie.registerFlag("WEBGL_PACK_CLIP",function(){return ie.getBool("WEBGL_PACK")}),ie.registerFlag("WEBGL_PACK_DEPTHWISECONV",function(){return!1}),ie.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",function(){return ie.getBool("WEBGL_PACK")}),ie.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",function(){return ie.getBool("WEBGL_PACK")}),ie.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",function(){return ie.getBool("WEBGL_PACK")}),ie.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",function(){return ie.getBool("WEBGL_PACK")}),ie.registerFlag("WEBGL_PACK_REDUCE",function(){return ie.getBool("WEBGL_PACK")}),ie.registerFlag("WEBGL_LAZILY_UNPACK",function(){return ie.getBool("WEBGL_PACK")}),ie.registerFlag("WEBGL_CONV_IM2COL",function(){return ie.getBool("WEBGL_PACK")}),ie.registerFlag("WEBGL_MAX_TEXTURE_SIZE",function(){return wo(ie.getNumber("WEBGL_VERSION"))}),ie.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",function(){return qi(ie.getNumber("WEBGL_VERSION"))}),ie.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",function(){var i=ie.getNumber("WEBGL_VERSION");return 0===i?0:Mi(i)}),ie.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",function(){return ie.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(i=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4))));var i}),ie.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",function(){return Sa(ie.getNumber("WEBGL_VERSION"))}),ie.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",function(){return!ie.getBool("WEBGL_FORCE_F16_TEXTURES")&&ie.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")}),ie.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",function(){return fs(ie.getNumber("WEBGL_VERSION"))}),ie.registerFlag("WEBGL_FENCE_API_ENABLED",function(){return ba(ie.getNumber("WEBGL_VERSION"))}),ie.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",function(){return ie.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0}),Ir=q;var ve=$({complex_:function(i,n){var e=Ve(i,"real","complex"),r=Ve(n,"imag","complex");return rt(e.shape,r.shape,"real and imag shapes, "+e.shape+" and "+r.shape+", must match in call to tf.complex()."),le.runKernelFunc(function(a){return a.complex(e,r)},{$real:e,$imag:r})}}),Fe=$({real_:function(i){var n=Ve(i,"input","real");return le.runKernelFunc(function(e){return e.real(n)},{$input:n})}}),lt=$({imag_:function(i){var n=Ve(i,"input","imag");return le.runKernelFunc(function(e){return e.imag(n)},{$input:n})}});function dt(i,n,e){return qt(i,n,ci(i,e),e)}function qt(i,n,e,r){if(null==r&&(r=Xr(i)),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!ln(i)&&!Array.isArray(i)&&"number"!=typeof i&&"boolean"!=typeof i&&"string"!=typeof i)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=n){Kt(n);var a=je(n),c=je(e);re(a===c,function(){return"Based on the provided shape, ["+n+"], the tensor should have "+a+" values but has "+c});for(var h=0;h<e.length;++h){var m=h!==e.length-1||e[h]!==je(n.slice(h));re(e[h]===n[h]||!m,function(){return"Error creating a new Tensor. Inferred shape ("+e+") does not match the provided shape ("+n+"). "})}}return ln(i)||Array.isArray(i)||(i=[i]),n=n||e,i="string"!==r?pr(i,r,se().getBool("DEBUG")):Ke(i,[],!0),le.makeTensor(i,n,r)}function St(i,n){if((ln(i)&&"string"!==n||Array.isArray(i))&&"complex64"!==n)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===n&&ln(i)&&!(i instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return qt(i,[],[],n)}function Yt(i,n){Dt(i);var e=ci(i,n);if(1!==e.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return qt(i,null,e,n)}function hn(i,n,e){if(Dt(i),null!=n&&2!==n.length)throw new Error("tensor2d() requires shape to have two numbers");var r=ci(i,e);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==n)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return qt(i,n,r,e)}function Un(i,n,e){if(Dt(i),null!=n&&3!==n.length)throw new Error("tensor3d() requires shape to have three numbers");var r=ci(i,e);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==n)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return qt(i,n,r,e)}function Hn(i,n,e){if(Dt(i),null!=n&&4!==n.length)throw new Error("tensor4d() requires shape to have four numbers");var r=ci(i,e);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==n)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return qt(i,n,r,e)}function Qo(i,n){if(void 0===n&&(n="float32"),"complex64"===n){var e=Qo(i,"float32"),r=mo(i,"float32");return ve(e,r)}var a=yn(je(i),n);return le.makeTensor(a,i,n)}function mo(i,n){if(void 0===n&&(n="float32"),"complex64"===n){var e=mo(i,"float32"),r=mo(i,"float32");return ve(e,r)}var a=en(je(i),n);return le.makeTensor(a,i,n)}function Eo(i,n,e){return le.runKernelFunc(function(r){return r.fill(i,n,e)},{})}function ua(i,n,e,r){if(void 0===e&&(e=1),void 0===r&&(r="float32"),0===e)throw new Error("Cannot have a step of zero");if(i===n||i<n&&e<0||n<i&&e>1)return mo([0],r);var a=en(Math.abs(Math.ceil((n-i)/e)),r);n<i&&1===e&&(e=-1),a[0]=i;for(var c=1;c<a.length;c++)a[c]=a[c-1]+e;return Yt(a,r)}var Ui=$({onesLike_:function(i){var n=Ve(i,"x","onesLike");if("complex64"===n.dtype){var e=Ui(Fe(n)),r=No(lt(n));return ve(e,r)}return le.runKernelFunc(function(a){return a.onesLike(n)},{$x:n},function(a,c){return{$x:function(){return No(a)}}})}}),No=$({zerosLike_:function(i){var n=Ve(i,"x","zerosLike");return le.runKernelFunc(function(e){return e.zerosLike(n)},{$x:n},function(e,r){return{$x:function(){return No(e)}}})}}),hi=$({concat_:function(i,n){void 0===n&&(n=0),re(i.length>=1,function(){return"Pass at least one tensor to concat"});var e=zi(i,"tensors","concat");"complex64"===e[0].dtype&&e.forEach(function(f){if("complex64"!==f.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype "+f.dtype+". ")}),n=Ue(n,e[0].shape)[0];var r=G(e.map(function(f){return f.shape}),n);if(0===je(r))return dt([],r);if(1===(e=e.filter(function(f){return f.size>0})).length)return e[0];var a=e.map(function(f){return f.shape});return Ua(a,n),le.runKernelFunc(function(f){return f.concat(e,n)},e,function(f){var m=a.map(function(b){return b[n]});return ge(f,m,n).map(function(b){return function(){return b}})},"Concat",{axis:n})}}),Sc=$({concat1d_:function(i){return hi(i,0)}}),Ql=$({concat2d_:function(i,n){return hi(i,n)}}),oe=$({concat3d_:function(i,n){return hi(i,n)}}),j=$({concat4d_:function(i,n){return hi(i,n)}}),ge=$({split_:function(i,n,e){void 0===e&&(e=0);var r,a=Ve(i,"x","split");return e=Ue(e,a.shape)[0],"number"==typeof n?(re(a.shape[e]%n==0,function(){return"Number of splits must evenly divide the axis."}),r=new Array(n).fill(a.shape[e]/n)):(re(a.shape[e]===n.reduce(function(c,h){return c+h}),function(){return"The sum of sizes must match the size of the axis dimension."}),r=n),le.runKernelFunc(function(c){return c.split(a,r,e)},{$x:a},function(c){return{$x:function(){return hi(c,e)}}})}});function Y(i,n){return i(n={exports:{}},n.exports),n.exports}typeof globalThis<"u"||typeof window<"u"||typeof global<"u"&&global;var Be=Y(function(i){!function(n,e){function a(f){var m,b=this,_=(m=4022871197,function(I){I=I.toString();for(var D=0;D<I.length;D++){var T=.02519603282416938*(m+=I.charCodeAt(D));T-=m=T>>>0,m=(T*=m)>>>0,m+=4294967296*(T-=m)}return 2.3283064365386963e-10*(m>>>0)});b.next=function(){var I=2091639*b.s0+2.3283064365386963e-10*b.c;return b.s0=b.s1,b.s1=b.s2,b.s2=I-(b.c=0|I)},b.c=1,b.s0=_(" "),b.s1=_(" "),b.s2=_(" "),b.s0-=_(f),b.s0<0&&(b.s0+=1),b.s1-=_(f),b.s1<0&&(b.s1+=1),b.s2-=_(f),b.s2<0&&(b.s2+=1),_=null}function c(f,m){return m.c=f.c,m.s0=f.s0,m.s1=f.s1,m.s2=f.s2,m}function h(f,m){var b=new a(f),_=m&&m.state,I=b.next;return I.int32=function(){return 4294967296*b.next()|0},I.double=function(){return I()+11102230246251565e-32*(2097152*I()|0)},I.quick=I,_&&("object"==typeof _&&c(_,b),I.state=function(){return c(b,{})}),I}e&&e.exports?e.exports=h:this.alea=h}(0,i)}),Pn=Y(function(i){!function(n,e){function a(f){var m=this,b="";m.x=0,m.y=0,m.z=0,m.w=0,m.next=function(){var I=m.x^m.x<<11;return m.x=m.y,m.y=m.z,m.z=m.w,m.w^=m.w>>>19^I^I>>>8},f===(0|f)?m.x=f:b+=f;for(var _=0;_<b.length+64;_++)m.x^=0|b.charCodeAt(_),m.next()}function c(f,m){return m.x=f.x,m.y=f.y,m.z=f.z,m.w=f.w,m}function h(f,m){var b=new a(f),_=m&&m.state,I=function(){return(b.next()>>>0)/4294967296};return I.double=function(){do{var D=((b.next()>>>11)+(b.next()>>>0)/4294967296)/2097152}while(0===D);return D},I.int32=b.next,I.quick=I,_&&("object"==typeof _&&c(_,b),I.state=function(){return c(b,{})}),I}e&&e.exports?e.exports=h:this.xor128=h}(0,i)}),Rr=Y(function(i){!function(n,e){function a(f){var m=this,b="";m.next=function(){var I=m.x^m.x>>>2;return m.x=m.y,m.y=m.z,m.z=m.w,m.w=m.v,(m.d=m.d+362437|0)+(m.v=m.v^m.v<<4^I^I<<1)|0},m.x=0,m.y=0,m.z=0,m.w=0,m.v=0,f===(0|f)?m.x=f:b+=f;for(var _=0;_<b.length+64;_++)m.x^=0|b.charCodeAt(_),_==b.length&&(m.d=m.x<<10^m.x>>>4),m.next()}function c(f,m){return m.x=f.x,m.y=f.y,m.z=f.z,m.w=f.w,m.v=f.v,m.d=f.d,m}function h(f,m){var b=new a(f),_=m&&m.state,I=function(){return(b.next()>>>0)/4294967296};return I.double=function(){do{var D=((b.next()>>>11)+(b.next()>>>0)/4294967296)/2097152}while(0===D);return D},I.int32=b.next,I.quick=I,_&&("object"==typeof _&&c(_,b),I.state=function(){return c(b,{})}),I}e&&e.exports?e.exports=h:this.xorwow=h}(0,i)}),xi=Y(function(i){!function(n,e){function a(f){var m=this;m.next=function(){var b,_,I=m.x,D=m.i;return b=I[D],_=(b^=b>>>7)^b<<24,_^=(b=I[D+1&7])^b>>>10,_^=(b=I[D+3&7])^b>>>3,_^=(b=I[D+4&7])^b<<7,b=I[D+7&7],_^=(b^=b<<13)^b<<9,I[D]=_,m.i=D+1&7,_},function(b,_){var I,D=[];if(_===(0|_))D[0]=_;else for(_=""+_,I=0;I<_.length;++I)D[7&I]=D[7&I]<<15^_.charCodeAt(I)+D[I+1&7]<<13;for(;D.length<8;)D.push(0);for(I=0;I<8&&0===D[I];++I);for(8==I&&(D[7]=-1),b.x=D,b.i=0,I=256;I>0;--I)b.next()}(m,f)}function c(f,m){return m.x=f.x.slice(),m.i=f.i,m}function h(f,m){null==f&&(f=+new Date);var b=new a(f),_=m&&m.state,I=function(){return(b.next()>>>0)/4294967296};return I.double=function(){do{var D=((b.next()>>>11)+(b.next()>>>0)/4294967296)/2097152}while(0===D);return D},I.int32=b.next,I.quick=I,_&&(_.x&&c(_,b),I.state=function(){return c(b,{})}),I}e&&e.exports?e.exports=h:this.xorshift7=h}(0,i)}),da=Y(function(i){!function(n,e){function a(f){var m=this;m.next=function(){var b,_,I=m.w,D=m.X,T=m.i;return m.w=I=I+1640531527|0,_=D[T+34&127],b=D[T=T+1&127],_^=_<<13,b^=b<<17,_=D[T]=(_^=_>>>15)^(b^=b>>>12),m.i=T,_+(I^I>>>16)|0},function(b,_){var I,D,T,z,Q,Z=[],ne=128;for(_===(0|_)?(D=_,_=null):(_+="\0",D=0,ne=Math.max(ne,_.length)),T=0,z=-32;z<ne;++z)_&&(D^=_.charCodeAt((z+32)%_.length)),0===z&&(Q=D),D^=D<<10,D^=D>>>15,D^=D<<4,D^=D>>>13,z>=0&&(T=0==(I=Z[127&z]^=D+(Q=Q+1640531527|0))?T+1:0);for(T>=128&&(Z[127&(_&&_.length||0)]=-1),T=127,z=512;z>0;--z)D=Z[T+34&127],I=Z[T=T+1&127],D^=D<<13,I^=I<<17,Z[T]=(D^=D>>>15)^(I^=I>>>12);b.w=Q,b.X=Z,b.i=T}(m,f)}function c(f,m){return m.i=f.i,m.w=f.w,m.X=f.X.slice(),m}function h(f,m){null==f&&(f=+new Date);var b=new a(f),_=m&&m.state,I=function(){return(b.next()>>>0)/4294967296};return I.double=function(){do{var D=((b.next()>>>11)+(b.next()>>>0)/4294967296)/2097152}while(0===D);return D},I.int32=b.next,I.quick=I,_&&(_.X&&c(_,b),I.state=function(){return c(b,{})}),I}e&&e.exports?e.exports=h:this.xor4096=h}(0,i)}),Ta=Y(function(i){!function(n,e){function a(f){var m=this,b="";m.next=function(){var I=m.b,D=m.c,T=m.d,z=m.a;return I=I<<25^I>>>7^D,D=D-T|0,T=T<<24^T>>>8^z,z=z-I|0,m.b=I=I<<20^I>>>12^D,m.c=D=D-T|0,m.d=T<<16^D>>>16^z,m.a=z-I|0},m.a=0,m.b=0,m.c=-1640531527,m.d=1367130551,f===Math.floor(f)?(m.a=f/4294967296|0,m.b=0|f):b+=f;for(var _=0;_<b.length+20;_++)m.b^=0|b.charCodeAt(_),m.next()}function c(f,m){return m.a=f.a,m.b=f.b,m.c=f.c,m.d=f.d,m}function h(f,m){var b=new a(f),_=m&&m.state,I=function(){return(b.next()>>>0)/4294967296};return I.double=function(){do{var D=((b.next()>>>11)+(b.next()>>>0)/4294967296)/2097152}while(0===D);return D},I.int32=b.next,I.quick=I,_&&("object"==typeof _&&c(_,b),I.state=function(){return c(b,{})}),I}e&&e.exports?e.exports=h:this.tychei=h}(0,i)}),na=Y(function(i){!function(n,e){var r,a=this,c=256,f="random",m=e.pow(c,6),b=e.pow(2,52),_=2*b,I=c-1;function D(ne,fe,me){var he=[],we=Q(function xt(ht,ft){var Zt,Gt=[],Dn=typeof ht;if(ft&&"object"==Dn)for(Zt in ht)try{Gt.push(xt(ht[Zt],ft-1))}catch{}return Gt.length?Gt:"string"==Dn?ht:ht+"\0"}((fe=1==fe?{entropy:!0}:fe||{}).entropy?[ne,Z(n)]:null==ne?function(){try{var xt;return r&&(xt=r.randomBytes)?xt=xt(c):(xt=new Uint8Array(c),(a.crypto||a.msCrypto).getRandomValues(xt)),Z(xt)}catch{var ht=a.navigator,ft=ht&&ht.plugins;return[+new Date,a,ft,a.screen,Z(n)]}}():ne,3),he),We=new T(he),It=function(){for(var xt=We.g(6),ht=m,ft=0;xt<b;)xt=(xt+ft)*c,ht*=c,ft=We.g(1);for(;xt>=_;)xt/=2,ht/=2,ft>>>=1;return(xt+ft)/ht};return It.int32=function(){return 0|We.g(4)},It.quick=function(){return We.g(4)/4294967296},It.double=It,Q(Z(We.S),n),(fe.pass||me||function(xt,ht,ft,Zt){return Zt&&(Zt.S&&z(Zt,We),xt.state=function(){return z(We,{})}),ft?(e[f]=xt,ht):xt})(It,we,"global"in fe?fe.global:this==e,fe.state)}function T(ne){var fe,me=ne.length,he=this,we=0,We=he.i=he.j=0,It=he.S=[];for(me||(ne=[me++]);we<c;)It[we]=we++;for(we=0;we<c;we++)It[we]=It[We=I&We+ne[we%me]+(fe=It[we])],It[We]=fe;(he.g=function(xt){for(var ht,ft=0,Zt=he.i,Gt=he.j,Dn=he.S;xt--;)ht=Dn[Zt=I&Zt+1],ft=ft*c+Dn[I&(Dn[Zt]=Dn[Gt=I&Gt+ht])+(Dn[Gt]=ht)];return he.i=Zt,he.j=Gt,ft})(c)}function z(ne,fe){return fe.i=ne.i,fe.j=ne.j,fe.S=ne.S.slice(),fe}function Q(ne,fe){for(var me,he=ne+"",we=0;we<he.length;)fe[I&we]=I&(me^=19*fe[I&we])+he.charCodeAt(we++);return Z(fe)}function Z(ne){return String.fromCharCode.apply(0,ne)}if(e["seed"+f]=D,Q(e.random(),n),i.exports){i.exports=D;try{r=B(8082)}catch{}}}([],Math)});na.alea=Be,na.xor128=Pn,na.xorwow=Rr,na.xorshift7=xi,na.xor4096=da,na.tychei=Ta;var Ma=na.alea,rl=function(){function i(n,e,r,a,c){this.mean=n,this.stdDev=e,this.dtype=r,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var h=c||Math.random();this.random=Ma(h.toString())}return i.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var n=this.nextVal;return this.nextVal=NaN,n}for(var e,r,a=!1;!a;){var c=void 0,h=void 0,f=void 0;do{f=(c=2*this.random()-1)*c+(h=2*this.random()-1)*h}while(f>=1||0===f);var m=Math.sqrt(-2*Math.log(f)/f);e=this.mean+this.stdDev*c*m,r=this.mean+this.stdDev*h*m,this.truncated&&!this.isValidTruncated(e)||(a=!0)}return this.truncated&&!this.isValidTruncated(r)||(this.nextVal=this.convertValue(r)),this.convertValue(e)},i.prototype.convertValue=function(n){return null==this.dtype||"float32"===this.dtype?n:Math.round(n)},i.prototype.isValidTruncated=function(n){return n<=this.upper&&n>=this.lower},i}(),Ac=function(){function i(n,e,r,a){this.alpha=n,this.beta=1/e,this.dtype=r;var c=a||Math.random();this.randu=Ma(c.toString()),this.randn=new rl(0,1,r,!1,this.randu()),this.d=n<1?n+2/3:n-1/3,this.c=1/Math.sqrt(9*this.d)}return i.prototype.nextValue=function(){for(var n,e,r,a,c,h;;){do{a=this.randn.nextValue(),h=1+this.c*a}while(h<=0);if(e=1-.331*(n=a*a)*n,r=.5*n+this.d*(1-(h*=h*h)+Math.log(h)),(c=this.randu())<e||Math.log(c)<r)break}return h*=1/this.beta*this.d,this.alpha<1&&(h*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(h)},i.prototype.convertValue=function(n){return"float32"===this.dtype?n:Math.round(n)},i}(),pu=function(){function i(n,e,r,a){var c=this;if(void 0===n&&(n=0),void 0===e&&(e=1),this.canReturnFloat=function(){return null==c.dtype||"float32"===c.dtype},this.min=n,this.range=e-n,this.dtype=r,null==a&&(a=Math.random()),"number"==typeof a&&(a=a.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+n+" - "+e+" <= 1 and dtype is not float");this.random=Ma(a)}return i.prototype.convertValue=function(n){return this.canReturnFloat()?n:Math.round(n)},i.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},i}();function ar(i,n,e){return void 0===n&&(n="float32"),n=n||"float32",Kt(i),new Lr(i,n,e)}var Vi=$({batchToSpaceND_:function(i,n,e){var r=Ve(i,"x","batchToSpaceND"),a=n.reduce(function(c,h){return c*h});return re(r.rank>=1+n.length,function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+n.length}),re(e.length===n.length,function(){return"crops.length is "+e.length+" but should be equal to blockShape.length  "+n.length}),re(r.shape[0]%a==0,function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+n.join(" * ")+" === "+a}),le.runKernelFunc(function(c){return c.batchToSpaceND(r,n,e)},{$x:r},function(c){return{$x:function(){return c.spaceToBatchND(n,e)}}})}}),_s=$({broadcastTo_:function(i,n){var e=Ve(i,"broadcastTo","x"),r=e.shape;if(n.some(function(m){return!(m>0)||m%1!=0}))throw new Error("broadcastTo(): Invalid broadcast shape ["+n+"].");if(n.length<e.rank)throw new Error("broadcastTo(): shape.length="+n.length+" < input.rank="+e.rank+".");if(n.length>e.rank){for(var a=e.shape.slice();a.length<n.length;)a.unshift(1);e=e.reshape(a)}for(var c=Array.from(n),h=n.length-1;h>=0;h--)if(e.shape[h]===n[h])c[h]=1;else if(1!==e.shape[h])throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+n+"].");var f=c.map(function(m,b){return m>1?b:-1}).filter(function(m){return m>=0});return 0===f.length?e.clone():le.runKernelFunc(function(m){return m.tile(e,c)},{input:e},function(m){return{input:function(){return m.sum(f,!0)}}})}}),ha=$({cast_:function(i,n){var e=Ve(i,"x","cast");if(!Mt(n))throw new Error("Failed to cast to unknown dtype "+n);if("string"===n&&"string"!==e.dtype||"string"!==n&&"string"===e.dtype)throw new Error("Only strings can be casted to strings");return le.runKernelFunc(function(a){return a.cast(e,n)},{x:e},function(a){return{x:function(){return a.clone()}}},"Cast",{dtype:n})}}),Jl=$({clone_:function(i){var n=Ve(i,"x","clone",null);return le.runKernelFunc(function(){return le.makeTensorFromDataId(n.dataId,n.shape,n.dtype)},{$x:n},function(e){return{$x:function(){return e.toFloat()}}})}}),ec=$({cumsum_:function(i,n,e,r){void 0===n&&(n=0),void 0===e&&(e=!1),void 0===r&&(r=!1);var a=Ve(i,"x","cumsum"),c=ca([n|=0],a.rank),h=a;null!=c&&(h=a.transpose(c));var f=Yi(1,a.rank)[0],m=le.runKernelFunc(function(b){return b.cumsum(h,f,e,r)},{permutedX:h},function(b){return{permutedX:function(){return b.cumsum(n,e,!r)}}});return null!=c&&(m=m.transpose(c)),m}}),os=$({depthToSpace_:function(i,n,e){void 0===e&&(e="NHWC");var r=Ve(i,"x","depthToSpace"),a="NHWC"===e?r.shape[1]:r.shape[2],c="NHWC"===e?r.shape[2]:r.shape[3],h="NHWC"===e?r.shape[3]:r.shape[1];return re(a*n>=0,function(){return"Negative dimension size caused by overflow when multiplying\n      "+a+" and "+n+"  for depthToSpace with input shape\n      "+r.shape}),re(c*n>=0,function(){return"Negative dimension size caused by overflow when multiplying\n      "+c+" and "+n+" for depthToSpace with input shape\n          "+r.shape}),re(h%(n*n)==0,function(){return"Dimension size must be evenly divisible by "+n*n+" but is "+h+" for depthToSpace with input shape "+r.shape}),le.runKernelFunc(function(f){return f.depthToSpace(r,n,e)},{$x:r})}}),ps=$({expandDims_:function(i,n){void 0===n&&(n=0);var e=Ve(i,"x","expandDims",null);re(n<=e.rank,function(){return"Axis must be <= rank of the tensor"});var r=e.shape.slice();return n<0&&(re(-(e.rank+1)<=n,function(){return"Axis must be in the interval ["+-(e.rank+1)+", "+e.rank+"]"}),n=e.rank+n+1),r.splice(n,0,1),Hi(e,r)}}),mu=$({eye_:function(i,n,e,r){void 0===r&&(r="float32"),null==n&&(n=i);for(var a=ar([i,n],r),c=i<=n?i:n,h=0;h<c;++h)a.set(1,h,h);var f=a.toTensor().as2D(i,n);if(null==e)return f;if(1===e.length)return ol(ps(f,0),[e[0],1,1]);if(2===e.length)return ol(ps(ps(f,0),0),[e[0],e[1],1,1]);if(3===e.length)return ol(ps(ps(ps(f,0),0),0),[e[0],e[1],e[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+e.length+"D.")}}),Hs=$({multinomial_:function(i,n,e,r){void 0===r&&(r=!1);var a=Ve(i,"logits","multinomial"),c=a.size,h=a.rank;if(c<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+c+".");if(h>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+h);e=e||Math.random();var f=1===h?a.as2D(1,-1):a,m=le.runKernelFunc(function(b){return b.multinomial(f,r,n,e)},{logits2D:f});return 1===h?m.as1D():m}}),fa=$({oneHot_:function(i,n,e,r){if(void 0===e&&(e=1),void 0===r&&(r=0),n<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+n);var a=Ve(i,"indices","oneHot","int32"),c=a.shape.concat([n]);return a=a.flatten(),le.runKernelFunc(function(h){return h.oneHot(a,n,e,r)},{$indices:a},function(h){return{$indices:function(){return mo(a.shape,"float32")}}}).reshape(c)}}),Os=$({pad_:function(i,n,e){void 0===e&&(e=0);var r=Ve(i,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");return le.runKernelFunc(function(c){return c.pad(r,n,e)},{x:r},function(c){var h=n.map(function(f){return f[0]});return{x:function(){return c.slice(h,r.shape)}}},"PadV2",{paddings:n,constantValue:e})}}),cd=$({pad1d_:function(i,n,e){return void 0===e&&(e=0),re(2===n.length,function(){return"Invalid number of paddings. Must be length of 2."}),Os(i,[n],e)}}),Tc=$({pad2d_:function(i,n,e){return void 0===e&&(e=0),re(2===n.length&&2===n[0].length&&2===n[1].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),Os(i,n,e)}}),ud=$({pad3d_:function(i,n,e){return void 0===e&&(e=0),re(3===n.length&&2===n[0].length&&2===n[1].length&&2===n[2].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),Os(i,n,e)}}),tc=$({pad4d_:function(i,n,e){return void 0===e&&(e=0),re(4===n.length&&2===n[0].length&&2===n[1].length&&2===n[2].length&&2===n[3].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),Os(i,n,e)}}),gu=$({rand_:function(i,n,e){var r=je(i),a=null;if(null==e||"float32"===e)a=new Float32Array(r);else if("int32"===e)a=new Int32Array(r);else{if("bool"!==e)throw new Error("Unknown data type "+e);a=new Uint8Array(r)}for(var c=0;c<r;c++)a[c]=n();return le.makeTensor(a,i,e)}}),Tl=$({randomNormal_:function(i,n,e,r,a){if(void 0===n&&(n=0),void 0===e&&(e=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var c=new rl(n,e,r,!1,a),h=ar(i,r),f=0;f<h.values.length;f++)h.values[f]=c.nextValue();return h.toTensor()}}),dd=$({randomGamma_:function(i,n,e,r,a){if(void 0===e&&(e=1),void 0===r&&(r="float32"),null==e&&(e=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type "+r);for(var c=new Ac(n,e,r,a),h=ar(i,r),f=0;f<h.values.length;f++)h.values[f]=c.nextValue();return h.toTensor()}}),Ml=$({randomUniform_:function(i,n,e,r,a){void 0===n&&(n=0),void 0===e&&(e=1),void 0===r&&(r="float32");for(var c=ar(i,r),h=new pu(n,e,null,a),f=0;f<c.values.length;f++)c.values[f]=h.nextValue();return c.toTensor()}}),Hi=$({reshape_:function(i,n){var e=Ve(i,"x","reshape",null);return n=ut(n,e.size),re(e.size===je(n),function(){return"new shape and old shape must have the same number of elements."}),le.runKernelFunc(function(a){return a.reshape(e,n)},{x:e},function(a){return{x:function(){return a.reshape(e.shape)}}},"Reshape",{shape:n})}}),vu=$({spaceToBatchND_:function(i,n,e){var r=Ve(i,"x","spaceToBatchND");return re(r.rank>=1+n.length,function(){return"input rank "+r.rank+" should be > than [blockShape] "+n.length}),re(e.length===n.length,function(){return"paddings.shape[0] "+e.length+" must be equal to [blockShape] "+n.length}),re(r.shape.reduce(function(a,c,h){return h>0&&h<=n.length?a&&(c+e[h-1][0]+e[h-1][1])%n[h-1]==0:a},!0),function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+e.toString()+" must be divisible by blockShapes "+n.toString()}),le.runKernelFunc(function(a){return a.spaceToBatchND(r,n,e)},{$x:r},function(a){return{$x:function(){return a.batchToSpaceND(n,e)}}})}}),nc=$({squeeze_:function(i,n){var e=Ve(i,"x","squeeze");return Hi(e,ce(e.shape,n).newShape)}}),pa=$({stack_:function(i,n){void 0===n&&(n=0);var e=zi(i,"tensors","stack");if(re(e.length>=1,function(){return"Pass at least one tensor to tf.stack"}),1===e.length)return e[0].expandDims(n);var a=e[0].shape,c=e[0].dtype;re(n<=e[0].rank,function(){return"Axis must be <= rank of the tensor"}),e.forEach(function(f){rt(a,f.shape,"All tensors passed to stack must have matching shapes")}),e.forEach(function(f){re(c===f.dtype,function(){return"All tensors passed to stack must have matching dtypes"})});var h=e.map(function(f){return f.expandDims(n)});return hi(h,n)}}),ol=$({tile_:function(i,n){var e=Ve(i,"x","tile",null);return re(e.rank===n.length,function(){return"Error in transpose: rank of input "+e.rank+" must match length of reps "+n+"."}),le.runKernelFunc(function(c,h){var f=c.tile(e,n);return h([e]),f},{x:e},function(c,h){var f=h[0];return{x:function(){var m=No(f);if(1===f.rank)for(var b=0;b<n[0];++b)m=m.add(c.slice([b*f.shape[0]],[f.shape[0]]));else if(2===f.rank)for(b=0;b<n[0];++b)for(var _=0;_<n[1];++_)m=m.add(c.slice([b*f.shape[0],_*f.shape[1]],[f.shape[0],f.shape[1]]));else if(3===f.rank)for(b=0;b<n[0];++b)for(_=0;_<n[1];++_)for(var I=0;I<n[2];++I)m=m.add(c.slice([b*f.shape[0],_*f.shape[1],I*f.shape[2]],[f.shape[0],f.shape[1],f.shape[2]]));else{if(4!==f.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+f.rank+" tensors yet.");for(b=0;b<n[0];++b)for(_=0;_<n[1];++_)for(I=0;I<n[2];++I)for(var D=0;D<n[3];++D)m=m.add(c.slice([b*f.shape[0],_*f.shape[1],I*f.shape[2],D*f.shape[3]],[f.shape[0],f.shape[1],f.shape[2],f.shape[3]]))}return m}}},"Tile",{reps:n},[e])}}),Mc=$({truncatedNormal_:function(i,n,e,r,a){if(void 0===n&&(n=0),void 0===e&&(e=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var c=new rl(n,e,r,!0,a),h=ar(i,r),f=0;f<h.values.length;f++)h.values[f]=c.nextValue();return h.toTensor()}}),Wi=$({unstack_:function(i,n){void 0===n&&(n=0),n=n||0;var e=Ve(i,"x","unstack");return re(n>=-e.shape.length&&n<e.shape.length,function(){return"Axis = "+n+" is not in [-"+e.shape.length+", "+e.shape.length+")"}),n<0&&(n+=e.shape.length),le.runKernelFunc(function(a){return a.unstack(e,n)},{x:e},function(a){return{x:function(){return pa(a,n)}}},"Unpack",{axis:n})}});function Ns(i,n,e,r){void 0===r&&(r=!0);var a=[];if(r)(a=a.concat(n.slice(0))).push(i[0]/e),a=a.concat(i.slice(1));else{a=a.concat(i[0]);for(var c=n.length,h=0;h<c;++h)a=a.concat([i[h+1]/n[h],n[h]]);a=a.concat(i.slice(c+1))}return a}function Rl(i,n,e){void 0===e&&(e=!0);var r=[];if(e){r.push(n);for(var a=n+1;a<i;++a)a<=2*n?(r.push(a),r.push(a-(n+1))):r.push(a)}else{var c=[],h=[];for(a=1;a<i;++a)a>=2*n+1||a%2==1?h.push(a):c.push(a);r.push.apply(r,c),r.push(0),r.push.apply(r,h)}return r}function Ws(i,n,e,r){void 0===r&&(r=!0);var a=[];a.push(r?i[0]/e:i[0]*e);for(var c=1;c<i.length;++c)a.push(c<=n.length?r?n[c-1]*i[c]:i[c]/n[c-1]:i[c]);return a}function rc(i,n){for(var e=[0],r=0;r<n;++r)e.push(i[r][0]);return e}function oc(i,n,e){for(var r=i.slice(0,1),a=0;a<e;++a)r.push(i[a+1]-n[a][0]-n[a][1]);return r}function is(i,n){if(i.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+i.rank+".");if(n.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+n.rank+".");if("int32"!==n.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+n.dtype+".");if(n.shape[n.rank-1]>i.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+n.shape[n.rank-1]+" vs. "+i.rank);if(0===i.size)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+i.shape+".");for(var e=n.shape,r=e[e.length-1],a=1,c=0;c<e.length-1;++c)a*=e[c];var h=i.shape,f=e.slice();f.pop();var m=1;for(c=r;c<i.rank;++c)m*=h[c],f.push(h[c]);var b=xr(i.shape).map(function(_){return _/m}).concat([1]).slice(0,r);return[f,a,m,b]}function ya(i){return i<=30?i:Ar(i,Math.floor(Math.sqrt(i)))}function xa(i,n,e){var r=n.rank>1?n.shape[n.rank-1]:1,a=n.rank>1?n.rank-1:1,c="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+e.shape+", indices.shape: "+n.shape+", shape: "+i+", sliceDim: "+r+", and batchDim: "+a+".";if(e.rank<a)throw new Error(c+" update.rank < "+a+". ");if(i.length<r+(e.rank-a))throw new Error(c+" Output shape length < "+(r+(e.rank-a)));if(e.rank!==a+i.length-r)throw new Error(c+" update.rank != "+(a+i.length-r));for(var h=0;h<a;++h)if(e.shape[h]!==n.shape[h])throw new Error(c+" updates.shape["+h+"] ("+e.shape[h]+") != indices.shape["+h+"] ("+n.shape[h]+").");for(h=0;h<e.rank-a;++h)if(e.shape[h+a]!==i[h+r])throw new Error(c+" updates.shape["+(h+a)+"] ("+e.shape[h+a]+") != shape["+(h+a)+"] ("+i[h+a]+")")}function Cs(i,n,e){if(n.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+n.rank+".");if(i.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+i.rank+".");if("int32"!==n.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: "+n.dtype);if(e.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+e);if(0===e.length){if(0===n.size)throw new Error("Indices specified for empty output. indices shape: "+n.shape);if(0===i.size)throw new Error("Updates specified for empty output. updates shape: "+i.shape)}xa(e,n,i)}function bl(i,n,e){for(var r=n.shape.length,a=r>1?n.shape[r-1]:1,c=e.length,h=1,f=a;f<c;++f)h*=e[f];var m=a<1?1:a;return{sliceRank:a,numUpdates:je(n.shape)/m,sliceSize:h,strides:xr(e.slice(0,a)).concat([1]),outputSize:je(e)}}function ee(i,n,e){re(i.rank===n.length,function(){return"Error in slice"+i.rank+"D: Length of begin "+n+" must match the rank of the array ("+i.rank+")."}),re(i.rank===e.length,function(){return"Error in slice"+i.rank+"D: Length of size "+e+" must match the rank of the array ("+i.rank+")."});for(var r=function(c){re(n[c]+e[c]<=i.shape[c],function(){return"Error in slice"+i.rank+"D: begin["+c+"] + size["+c+"] ("+(n[c]+e[c])+") would overflow input.shape["+c+"] ("+i.shape[c]+")"})},a=0;a<i.rank;++a)r(a)}function Ye(i){for(var n=[],e=0;i>0;)1&i&&n.push(e),i/=2,e++;return n}function K(i,n,e){for(var r=[],a=0;a<i.length;a++)r[a]=Math.ceil((n[a]-i[a])/e[a]);return r}function Ee(i,n,e,r,a){var c=n[a];(i&1<<a||null==c)&&(c=(e[a]||1)>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var f=r[a];return c<0&&(c+=f),Je(0,c,f-1)}function at(i,n,e,r,a){var c=n[a],h=e[a]||1;(i&1<<a||null==c)&&(c=h>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var f=r[a];return c<0&&(c+=f),h>0?Je(0,c,f):Je(-1,c,f-1)}function mn(i,n,e){for(var r=e.length,a=0;a<e.length;a++)if(e[a]>1){r=a;break}for(a=r+1;a<e.length;a++)if(n[a]>0||e[a]!==i[a])return!1;return!0}function Wn(i,n){for(var e=i.length>0?i[i.length-1]:1,r=0;r<i.length-1;r++)e+=i[r]*n[r];return e}function wi(i){return le.customGrad(i)}Object.freeze({prepareAndValidate:is}),Object.freeze({validateUpdateShape:xa,validateInput:Cs,calculateShapes:bl}),Object.freeze({assertParamsValid:ee,maskToAxes:Ye,computeOutShape:K,startForAxis:Ee,stopForAxis:at,isSliceContinous:mn,computeFlatOffset:Wn});var Ro=$({softmax_:function(i,n){void 0===n&&(n=-1);var e=Ve(i,"logits","softmax","float32");if(-1===n&&(n=e.rank-1),n!==e.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+e.rank+" and dim was "+n);return le.runKernelFunc(function(r,a){var c=r.softmax(e,n);return a([c]),c},{logits:e},function(r,a){var c=a[0],h=r.mul(c);return{logits:function(){return h.sub(h.sum([n],!0).mul(c))}}},"Softmax",{dim:n},[],[!0])}}),Ln=$({logSoftmax_:function(i,n){void 0===n&&(n=-1);var e=Ve(i,"logits","logSoftmax");if(-1===n&&(n=e.rank-1),n!==e.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+e.rank+" and axis was "+n);return wi(function(r,a){var c=r.max(n,!0),h=r.sub(c),f=h.toFloat().sub(h.exp().sum(n,!0).log());return a([f]),{value:f,gradFunc:function(m,b){var _=b[0].exp();return m.sub(m.sum(n,!0).mul(_))}}})(e)}}),Nr=function(){function i(n,e){this.backend=n,this.dataMover=e,this.data=new WeakMap,this.dataIdsCount=0}return i.prototype.get=function(n){return this.data.has(n)||this.dataMover.moveData(this.backend,n),this.data.get(n)},i.prototype.set=function(n,e){this.dataIdsCount++,this.data.set(n,e)},i.prototype.has=function(n){return this.data.has(n)},i.prototype.delete=function(n){return this.dataIdsCount--,this.data.delete(n)},i.prototype.numDataIds=function(){return this.dataIdsCount},i}(),Di=function(){function i(){}return i.prototype.time=function(n){return on("time")},i.prototype.read=function(n){return on("read")},i.prototype.readSync=function(n){return on("readSync")},i.prototype.numDataIds=function(){return on("numDataIds")},i.prototype.disposeData=function(n){return on("disposeData")},i.prototype.write=function(n,e,r){return on("write")},i.prototype.move=function(n,e,r,a){return on("move")},i.prototype.memory=function(){return on("memory")},i.prototype.floatPrecision=function(){return on("floatPrecision")},i.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},i.prototype.batchMatMul=function(n,e,r,a){return on("batchMatMul")},i.prototype.fusedBatchMatMul=function(n){return on("fusedBatchMatMul")},i.prototype.slice=function(n,e,r){return on("slice")},i.prototype.stridedSlice=function(n,e,r,a){return on("stridedSlice")},i.prototype.unstack=function(n,e){return on("unstack")},i.prototype.reverse=function(n,e){return on("reverse")},i.prototype.concat=function(n,e){return on("concat")},i.prototype.neg=function(n){return on("neg")},i.prototype.add=function(n,e){return on("add")},i.prototype.addN=function(n){return on("addN")},i.prototype.subtract=function(n,e){return on("subtract")},i.prototype.multiply=function(n,e){return on("multiply")},i.prototype.realDivide=function(n,e){return on("realDivide")},i.prototype.floorDiv=function(n,e){return on("floorDiv")},i.prototype.sum=function(n,e){return on("sum")},i.prototype.prod=function(n,e){return on("prod")},i.prototype.unsortedSegmentSum=function(n,e,r){return on("unsortedSegmentSum")},i.prototype.argMin=function(n,e){return on("argMin")},i.prototype.argMax=function(n,e){return on("argMax")},i.prototype.equal=function(n,e){return on("equal")},i.prototype.notEqual=function(n,e){return on("notEqual")},i.prototype.less=function(n,e){return on("less")},i.prototype.lessEqual=function(n,e){return on("lessEqual")},i.prototype.greater=function(n,e){return on("greater")},i.prototype.greaterEqual=function(n,e){return on("greaterEqual")},i.prototype.logicalNot=function(n){return on("logicalNot")},i.prototype.logicalAnd=function(n,e){return on("logicalAnd")},i.prototype.logicalOr=function(n,e){return on("logicalOr")},i.prototype.where=function(n){return on("where")},i.prototype.select=function(n,e,r){return on("select")},i.prototype.topk=function(n,e,r){return on("topk")},i.prototype.min=function(n,e){return on("min")},i.prototype.minimum=function(n,e){return on("minimum")},i.prototype.mod=function(n,e){return on("mod")},i.prototype.max=function(n,e){return on("max")},i.prototype.maximum=function(n,e){return on("maximum")},i.prototype.all=function(n,e){return on("all")},i.prototype.any=function(n,e){return on("any")},i.prototype.squaredDifference=function(n,e){return on("squaredDifference")},i.prototype.ceil=function(n){return on("ceil")},i.prototype.floor=function(n){return on("floor")},i.prototype.round=function(n){return on("round")},i.prototype.sign=function(n){return on("sign")},i.prototype.isNaN=function(n){return on("isNaN")},i.prototype.isInf=function(n){return on("isInf")},i.prototype.isFinite=function(n){return on("isFinite")},i.prototype.pow=function(n,e){return on("pow")},i.prototype.exp=function(n){return on("exp")},i.prototype.expm1=function(n){return on("expm1")},i.prototype.softmax=function(n,e){return on("softmax")},i.prototype.log=function(n){return on("log")},i.prototype.log1p=function(n){return on("log1p")},i.prototype.sqrt=function(n){return on("sqrt")},i.prototype.rsqrt=function(n){return on("rsqrt")},i.prototype.square=function(n){return on("square")},i.prototype.reciprocal=function(n){return on("reciprocal")},i.prototype.relu=function(n){return on("relu")},i.prototype.relu6=function(n){return on("relu6")},i.prototype.prelu=function(n,e){return on("prelu")},i.prototype.elu=function(n){return on("elu")},i.prototype.eluDer=function(n,e){return on("eluDer")},i.prototype.selu=function(n){return on("selu")},i.prototype.int=function(n){return on("int")},i.prototype.clip=function(n,e,r){return on("clip")},i.prototype.abs=function(n){return on("abs")},i.prototype.complexAbs=function(n){return on("complexAbs")},i.prototype.sigmoid=function(n){return on("sigmoid")},i.prototype.softplus=function(n){return on("softplus")},i.prototype.sin=function(n){return on("sin")},i.prototype.cos=function(n){return on("cos")},i.prototype.tan=function(n){return on("tan")},i.prototype.asin=function(n){return on("asin")},i.prototype.acos=function(n){return on("acos")},i.prototype.atan=function(n){return on("atan")},i.prototype.atan2=function(n,e){return on("atan2")},i.prototype.sinh=function(n){return on("sinh")},i.prototype.cosh=function(n){return on("cosh")},i.prototype.tanh=function(n){return on("tanh")},i.prototype.asinh=function(n){return on("asinh")},i.prototype.acosh=function(n){return on("acosh")},i.prototype.atanh=function(n){return on("atanh")},i.prototype.erf=function(n){return on("erf")},i.prototype.step=function(n,e){return on("step")},i.prototype.fusedConv2d=function(n){return on("fusedConv2d")},i.prototype.conv2d=function(n,e,r){return on("conv2d")},i.prototype.conv2dDerInput=function(n,e,r){return on("conv2dDerInput")},i.prototype.conv2dDerFilter=function(n,e,r){return on("conv2dDerFilter")},i.prototype.fusedDepthwiseConv2D=function(n){return on("fusedDepthwiseConv2D")},i.prototype.depthwiseConv2D=function(n,e,r){return on("depthwiseConv2D")},i.prototype.depthwiseConv2DDerInput=function(n,e,r){return on("depthwiseConv2DDerInput")},i.prototype.depthwiseConv2DDerFilter=function(n,e,r){return on("depthwiseConv2DDerFilter")},i.prototype.conv3d=function(n,e,r){return on("conv3d")},i.prototype.conv3dDerInput=function(n,e,r){return on("conv3dDerInput")},i.prototype.conv3dDerFilter=function(n,e,r){return on("conv3dDerFilter")},i.prototype.maxPool=function(n,e){return on("maxPool")},i.prototype.maxPoolBackprop=function(n,e,r,a){return on("maxPoolBackprop")},i.prototype.avgPool=function(n,e){return on("avgPool")},i.prototype.avgPoolBackprop=function(n,e,r){return on("avgPoolBackprop")},i.prototype.avgPool3d=function(n,e){return on("avgPool3d")},i.prototype.avgPool3dBackprop=function(n,e,r){return on("avgPool3dBackprop")},i.prototype.maxPool3d=function(n,e){return on("maxPool3d")},i.prototype.maxPool3dBackprop=function(n,e,r,a){return on("maxPool3dBackprop")},i.prototype.reshape=function(n,e){return on("reshape")},i.prototype.cast=function(n,e){return on("cast")},i.prototype.tile=function(n,e){return on("tile")},i.prototype.pad=function(n,e,r){return on("pad")},i.prototype.transpose=function(n,e){return on("transpose")},i.prototype.gather=function(n,e,r){return on("gather")},i.prototype.gatherND=function(n,e){return on("gatherND")},i.prototype.scatterND=function(n,e,r){return on("scatterND")},i.prototype.batchToSpaceND=function(n,e,r){return on("batchToSpaceND")},i.prototype.spaceToBatchND=function(n,e,r){return on("spaceToBatchND")},i.prototype.resizeBilinear=function(n,e,r,a){return on("resizeBilinear")},i.prototype.resizeBilinearBackprop=function(n,e,r){return on("resizeBilinearBackprop")},i.prototype.resizeNearestNeighbor=function(n,e,r,a){return on("resizeNearestNeighbor")},i.prototype.resizeNearestNeighborBackprop=function(n,e,r){return on("resizeNearestNeighborBackprop")},i.prototype.batchNormalization=function(n,e,r,a,c,h){return on("batchNormalization")},i.prototype.localResponseNormalization4D=function(n,e,r,a,c){return on("localResponseNormalization4D")},i.prototype.LRNGrad=function(n,e,r,a,c,h,f){return on("LRNGrad")},i.prototype.multinomial=function(n,e,r,a){return on("multinomial")},i.prototype.oneHot=function(n,e,r,a){return on("oneHot")},i.prototype.cumsum=function(n,e,r,a){return on("cumsum")},i.prototype.nonMaxSuppression=function(n,e,r,a,c){return on("nonMaxSuppression")},i.prototype.fft=function(n){return on("fft")},i.prototype.ifft=function(n){return on("ifft")},i.prototype.complex=function(n,e){return on("complex")},i.prototype.real=function(n){return on("real")},i.prototype.imag=function(n){return on("imag")},i.prototype.cropAndResize=function(n,e,r,a,c,h){return on("cropAndResize")},i.prototype.depthToSpace=function(n,e,r){return on("depthToSpace")},i.prototype.split=function(n,e,r){return on("split")},i.prototype.sparseToDense=function(n,e,r,a){return on("sparseToDense")},i.prototype.diag=function(n){return on("diag")},i.prototype.fill=function(n,e,r){return on("fill")},i.prototype.onesLike=function(n){return on("onesLike")},i.prototype.zerosLike=function(n){return on("zerosLike")},i.prototype.linspace=function(n,e,r){return on("linspace")},i.prototype.dispose=function(){return on("dispose")},i}();function on(i){throw new Error("'"+i+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function oi(i,n){for(var e=i.length,r=[],a=0;a<e;a++){var c=e-1-a;(n[n.length-1-a]||1)>1&&1===(i[c]||1)&&r.unshift(c)}return r}function Xo(i,n){for(var e=[],r=0;r<n.length;r++){var a=i[i.length-r-1],c=n.length-r-1;(null==a||1===a&&n[c]>1)&&e.unshift(c)}return e}function yo(i,n){for(var e=[],r=Math.max(i.length,n.length),a=0;a<r;a++){var c=i[i.length-a-1];null==c&&(c=1);var h=n[n.length-a-1];if(null==h&&(h=1),1===c)e.unshift(h);else if(1===h)e.unshift(c);else{if(c!==h)throw Error("Operands could not be broadcast together with shapes "+i+" and "+n+".");e.unshift(c)}}return e}function ui(i,n,e,r,a,c,h){void 0===h&&(h="channelsLast");var f,m=Ol(n),b=m[0],_=m[1];if("channelsLast"===h)f=[b,_,i[3],i[3]];else{if("channelsFirst"!==h)throw new Error("Unknown dataFormat "+h);f=[b,_,i[1],i[1]]}return ma(i,f,e,r,a,c,!1,h)}function Ai(i,n,e,r,a,c,h){void 0===h&&(h="NDHWC");var f,m,b=Gs(n),_=b[0],I=b[1],D=b[2];if("NDHWC"===h)m="channelsLast",f=[_,I,D,i[4],i[4]];else{if("NCDHW"!==h)throw new Error("Unknown dataFormat "+h);m="channelsFirst",f=[_,I,D,i[1],i[1]]}return qr(i,f,e,r,a,!1,m,c)}function ma(i,n,e,r,a,c,h,f){void 0===h&&(h=!1),void 0===f&&(f="channelsLast");var m=[-1,-1,-1,-1],b=m[0],_=m[1],I=m[2],D=m[3];if("channelsLast"===f)b=i[0],_=i[1],I=i[2],D=i[3];else{if("channelsFirst"!==f)throw new Error("Unknown dataFormat "+f);b=i[0],D=i[1],_=i[2],I=i[3]}var T,z=n[0],Q=n[1],Z=n[3],ne=Ol(e),fe=ne[0],me=ne[1],he=Ol(r),we=he[0],We=he[1],It=Ko(z,we),xt=Ko(Q,We),ht=function(On,Bn,Jn,Gn,jn,nr,or,Fr){var ro,vo,Zo;if("number"==typeof On){ro={top:On,bottom:On,left:On,right:On,type:0===On?"VALID":"NUMBER"};var Jo=function(pi,ji,Si,va,sa){null==va&&(va=as(pi,ji,Si));var Cc=pi[1],Ic=Is((pi[0]-ji+2*va)/Si+1,sa);re(Bt(Ic),function(){return"The output # of rows ("+Ic+") must be an integer. Change the stride and/or zero pad parameters"});var gl=Is((Cc-ji+2*va)/Si+1,sa);return re(Bt(gl),function(){return"The output # of columns ("+gl+") must be an integer. Change the stride and/or zero pad parameters"}),[Ic,gl]}([Bn,Jn],nr,Gn,On,Fr);vo=Jo[0],Zo=Jo[1]}else if("same"===On){vo=Math.ceil(Bn/Gn),Zo=Math.ceil(Jn/jn);var si=Math.max(0,(vo-1)*Gn+nr-Bn),mi=Math.max(0,(Zo-1)*jn+or-Jn),fi=Math.floor(si/2),gi=si-fi,$a=Math.floor(mi/2);ro={top:fi,bottom:gi,left:$a,right:mi-$a,type:"SAME"}}else{if("valid"!==On)throw Error("Unknown padding parameter: "+On);ro={top:0,bottom:0,left:0,right:0,type:"VALID"},vo=Math.ceil((Bn-nr+1)/Gn),Zo=Math.ceil((Jn-or+1)/jn)}return{padInfo:ro,outHeight:vo,outWidth:Zo}}(a,_,I,fe,me,It,xt,c),Zt=ht.outHeight,Gt=ht.outWidth,Dn=h?Z*D:Z;return"channelsFirst"===f?T=[b,Dn,Zt,Gt]:"channelsLast"===f&&(T=[b,Zt,Gt,Dn]),{batchSize:b,dataFormat:f,inHeight:_,inWidth:I,inChannels:D,outHeight:Zt,outWidth:Gt,outChannels:Dn,padInfo:ht.padInfo,strideHeight:fe,strideWidth:me,filterHeight:z,filterWidth:Q,effectiveFilterHeight:It,effectiveFilterWidth:xt,dilationHeight:we,dilationWidth:We,inShape:i,outShape:T,filterShape:n}}function qr(i,n,e,r,a,c,h,f){void 0===c&&(c=!1),void 0===h&&(h="channelsLast");var m=[-1,-1,-1,-1,-1],b=m[0],_=m[1],I=m[2],D=m[3],T=m[4];if("channelsLast"===h)b=i[0],_=i[1],I=i[2],D=i[3],T=i[4];else{if("channelsFirst"!==h)throw new Error("Unknown dataFormat "+h);b=i[0],T=i[1],_=i[2],I=i[3],D=i[4]}var z,Q=n[0],Z=n[1],ne=n[2],fe=n[4],me=Gs(e),he=me[0],we=me[1],We=me[2],It=Gs(r),xt=It[0],ht=It[1],ft=It[2],Zt=Ko(Q,xt),Gt=Ko(Z,ht),Dn=Ko(ne,ft),On=function(or,Fr,ro,vo,Zo,Jo,si,mi,fi,gi,$a){var pi,ji,Si,va;if("number"==typeof or){pi={top:or,bottom:or,left:or,right:or,front:or,back:or,type:0===or?"VALID":"NUMBER"};var sa=function(Xf,Ec,cu,ql,Yl,dy){null==Yl&&(Yl=as(Xf,Ec,ql));var _w=Xf[1],d1=Xf[2],a0=Is((Xf[0]-Ec+2*Yl)/ql+1,dy);re(Bt(a0),function(){return"The output # of depths ("+a0+") must be an integer. Change the stride and/or zero pad parameters"});var s0=Is((_w-Ec+2*Yl)/ql+1,dy);re(Bt(s0),function(){return"The output # of rows ("+s0+") must be an integer. Change the stride and/or zero pad parameters"});var l0=Is((d1-Ec+2*Yl)/ql+1,dy);return re(Bt(l0),function(){return"The output # of columns ("+l0+") must be an integer. Change the stride and/or zero pad parameters"}),[a0,s0,l0,1]}([Fr,ro,vo,1],mi,0,Zo,or,$a);ji=sa[0],Si=sa[1],va=sa[2]}else if("same"===or){var Ca=((ji=Math.ceil(Fr/Zo))-1)*Zo+mi-Fr,Cc=((Si=Math.ceil(ro/Jo))-1)*Jo+fi-ro,Ic=((va=Math.ceil(vo/si))-1)*si+gi-vo,gl=Math.floor(Ca/2),Gf=Ca-gl,su=Math.floor(Cc/2),ld=Cc-su,lu=Math.floor(Ic/2);pi={top:su,bottom:ld,left:lu,right:Ic-lu,front:gl,back:Gf,type:"SAME"}}else{if("valid"!==or)throw Error("Unknown padding parameter: "+or);pi={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},ji=Math.ceil((Fr-mi+1)/Zo),Si=Math.ceil((ro-fi+1)/Jo),va=Math.ceil((vo-gi+1)/si)}return{padInfo:pi,outDepth:ji,outHeight:Si,outWidth:va}}(a,_,I,D,he,we,We,Zt,Gt,Dn,f),Jn=On.outDepth,Gn=On.outHeight,jn=On.outWidth,nr=c?fe*T:fe;return"channelsFirst"===h?z=[b,nr,Jn,Gn,jn]:"channelsLast"===h&&(z=[b,Jn,Gn,jn,nr]),{batchSize:b,dataFormat:h,inDepth:_,inHeight:I,inWidth:D,inChannels:T,outDepth:Jn,outHeight:Gn,outWidth:jn,outChannels:nr,padInfo:On.padInfo,strideDepth:he,strideHeight:we,strideWidth:We,filterDepth:Q,filterHeight:Z,filterWidth:ne,effectiveFilterDepth:Zt,effectiveFilterHeight:Gt,effectiveFilterWidth:Dn,dilationDepth:xt,dilationHeight:ht,dilationWidth:ft,inShape:i,outShape:z,filterShape:n}}function as(i,n,e,r){void 0===r&&(r=1);var a=Ko(n,r);return Math.floor((i[0]*(e-1)-e+a)/2)}function Ol(i){return"number"==typeof i?[i,i,i]:2===i.length?[i[0],i[1],1]:i}function Gs(i){return"number"==typeof i?[i,i,i]:i}function Ko(i,n){return n<=1?i:i+(i-1)*(n-1)}function Is(i,n){if(!n)return i;switch(n){case"round":return Math.round(i);case"ceil":return Math.ceil(i);case"floor":return Math.floor(i);default:throw new Error("Unknown roundingMode "+n)}}function Es(i){var n=Ol(i);return 1===n[0]&&1===n[1]&&1===n[2]}function Bi(i,n){return Es(i)||Es(n)}function il(i){if("NHWC"===i)return"channelsLast";if("NCHW"===i)return"channelsFirst";throw new Error("Unknown dataFormat "+i)}function Xs(i,n,e){if("complex64"===n){if("complex64"===i.dtype)return i.clone();var r=mo(i.shape),a=i.toFloat(),c=e.complex(a,r);return r.dispose(),a.dispose(),c}if(!Ft(i.dtype,n))return le.makeTensorFromDataId(i.dataId,i.shape,n);if("complex64"===i.dtype){var h=e.real(i);return c=h.cast(n),h.dispose(),c}if("int32"===n)return e.int(i);if("bool"===n){var f=St(0,i.dtype);return c=e.notEqual(i,f),f.dispose(),c}throw new Error("Error in Cast: failed to cast "+i.dtype+" to "+n)}function ms(i,n){return le.makeTensorFromDataId(i.dataId,n,i.dtype)}function Fs(i,n,e){var r=(n-i)/(e-1),a=en(e,"float32");a[0]=i;for(var c=1;c<a.length;c++)a[c]=a[c-1]+r;return Yt(a,"float32")}function jr(i,n){if(i.length!==n.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+i.length+", imag: "+n.length+".");for(var e=new Float32Array(2*i.length),r=0;r<e.length;r+=2)e[r]=i[r/2],e[r+1]=n[r/2];return e}function bu(i,n){return{real:i[2*n],imag:i[2*n+1]}}function Nl(i,n,e,r){i[2*r]=n,i[2*r+1]=e}function ks(i,n,e){var r=(e?2:-2)*Math.PI*(i/n);return{real:Math.cos(r),imag:Math.sin(r)}}function yu(i,n,e){var r=function(m,b,_){for(var I=0,D=m.length,T=0,z=!1;I<D;){var Q=_(b,m[T=I+(D-I>>>1)]);Q>0?I=T+1:(D=T,z=!Q)}return z?I:-I-1}(i,n,e||ic);i.splice(r<0?-(r+1):r,0,n)}function ic(i,n){return i>n?1:i<n?-1:0}function Ti(i,n,e,r,a){return ra(i,n,e,r,a,0).selectedIndices}function yl(i,n,e,r,a,c){var h=ra(i,n,e,r,a,c,!0);return h.numValidOutputs.dispose(),{selectedIndices:h.selectedIndices,selectedScores:h.selectedScores}}function ra(i,n,e,r,a,c,h,f){void 0===h&&(h=!1),void 0===f&&(f=!1);for(var m=Array.from(n).map(function(he,we){return{score:he,boxIndex:we,suppressBeginIndex:0}}).filter(function(he){return he.score>a}).sort(Ls),b=c>0?-.5/c:0,_=[],I=[];_.length<e&&m.length>0;){var D=m.pop(),T=D.score,z=D.boxIndex,Q=D.suppressBeginIndex;if(T<a)break;for(var Z=!1,ne=_.length-1;ne>=Q;--ne){var fe=Ra(i,z,_[ne]);if(fe>=r){Z=!0;break}if(D.score=D.score*Pc(r,b,fe),D.score<=a)break}D.suppressBeginIndex=_.length,Z||(D.score===T?(_.push(z),I.push(D.score)):D.score>a&&yu(m,D,Ls))}var me=_.length;return f&&(_.fill(0,me),I.fill(0,me)),{selectedIndices:Yt(_,"int32"),selectedScores:Yt(I,"float32"),numValidOutputs:St(me,"int32")}}function Ra(i,n,e){var r=i.subarray(4*n,4*n+4),a=i.subarray(4*e,4*e+4),c=Math.min(r[0],r[2]),h=Math.min(r[1],r[3]),f=Math.max(r[0],r[2]),m=Math.max(r[1],r[3]),b=Math.min(a[0],a[2]),_=Math.min(a[1],a[3]),I=Math.max(a[0],a[2]),D=Math.max(a[1],a[3]),T=(f-c)*(m-h),z=(I-b)*(D-_);if(T<=0||z<=0)return 0;var Q=Math.max(c,b),Z=Math.max(h,_),ne=Math.min(f,I),fe=Math.min(m,D),me=Math.max(ne-Q,0)*Math.max(fe-Z,0);return me/(T+z-me)}function Pc(i,n,e){var r=Math.exp(n*e*e);return e<=i?r:0}function Ls(i,n){return i.score-n.score||i.score===n.score&&n.boxIndex-i.boxIndex}function ac(i,n,e){var r=new Array(i.rank).fill(0),a=i.shape.slice();return n.map(function(c){a[e]=c;var h=i.slice(r,a);return r[e]+=c,h})}function gs(i,n){for(var e=new Array(i.rank),r=0;r<e.length;r++)e[r]=i.shape[r]*n[r];var a=ar(e,i.dtype);for(r=0;r<a.values.length;++r){for(var c=a.indexToLoc(r),h=new Array(i.rank),f=0;f<h.length;f++)h[f]=c[f]%i.shape[f];var m=i.locToIndex(h);a.values[r]=i.values[m]}return a.toTensor()}function xl(i,n,e,r,a){for(var c=n[n.length-1],h=[i.length/c,c],f=h[0],m=h[1],b=de(e,f*r),_=de("int32",f*r),I=0;I<f;I++){for(var D=I*m,T=i.subarray(D,D+m),z=[],Q=0;Q<T.length;Q++)z.push({value:T[Q],index:Q});z.sort(function(he,we){return we.value-he.value});var Z=I*r,ne=b.subarray(Z,Z+r),fe=_.subarray(Z,Z+r);for(Q=0;Q<r;Q++)ne[Q]=z[Q].value,fe[Q]=z[Q].index}var me=n.slice();return me[me.length-1]=r,[dt(b,me,e),dt(_,me,"int32")]}function Oc(i,n){for(var e=[],r=0;r<n.length;r++)n[r]&&e.push(r);var a=ar(i,"int32"),c=ar([e.length,i.length],"int32");for(r=0;r<e.length;r++){var h=a.indexToLoc(e[r]);c.values.set(h,r*i.length)}return c.toTensor()}Object.freeze({castTensor:Xs,reshapeTensor:ms,linspaceImpl:Fs,upcastType:Nn,axesAreInnerMostDims:Aa,combineLocations:ws,computeOutAndReduceShapes:Ei,expandShapeToKeepDim:yi,assertAxesAreInnerMostDims:ta,getAxesPermutation:ca,getUndoAxesPermutation:di,getInnerMostAxes:Yi,getBroadcastDims:oi,getReductionAxes:Xo,assertAndGetBroadcastShape:yo,assertParamsConsistent:Ua,computeOutShape:G,computePool2DInfo:ui,computePool3DInfo:Ai,computeConv2DInfo:ma,computeConv3DInfo:qr,computeDefaultPad:as,tupleValuesAreOne:Es,eitherStridesOrDilationsAreOne:Bi,convertConv2DDataFormat:il,PARALLELIZE_THRESHOLD:30,computeOptimalWindowSize:ya});var yh=function(i,n){this.outputShape=[],this.outputShape=i,this.variableNames=n.map(function(a,c){return"T"+c});var e=[];this.variableNames.forEach(function(a){e.push("float v"+a+" = get"+a+"AtOutCoords();")});var r=this.variableNames.map(function(a){return"v"+a}).join(" + ");this.userCode="\n      void main() {\n        "+e.join("\n        ")+"\n\n        float result = "+r+";\n        setOutput(result);\n      }\n    "},xu=function(i,n){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i,this.variableNames=n.map(function(a,c){return"T"+c});var e=[];this.variableNames.forEach(function(a){e.push("vec4 v"+a+" = get"+a+"AtOutCoords();")});var r=this.variableNames.map(function(a){return"v"+a}).join(" + ");this.userCode="\n      void main() {\n        "+e.join("\n        ")+"\n\n        vec4 result = "+r+";\n        setOutput(result);\n      }\n    "},wu=function(i,n,e){this.variableNames=["A"];var r=i.windowSize,a=i.batchSize,h=Math.ceil(i.inSize/r);e||this.variableNames.push("bestIndicesA"),this.outputShape=[a,h],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < "+r+"; i++) {\n          int inIdx = "+(e?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));")+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+("max"===n?">":"<")+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "};function hd(i,n){return["x","y","z","w","u","v"].slice(0,n).map(function(e){return i+"."+e})}function Va(i,n){return 1===n?[i]:hd(i,n)}function Ja(){var i,n,e,r,a,c,h,f,m,b;return 2===se().getNumber("WEBGL_VERSION")?(i="#version 300 es",n="in",e="out",r="in",a="texture",c="outputColor",h="out vec4 outputColor;",f="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",m="",b="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(i="",n="attribute",e="varying",r="varying",a="texture2D",c="gl_FragColor",h="",f="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",m="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",b="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:i,attribute:n,varyingVs:e,varyingFs:r,texture2D:a,output:c,defineOutput:h,defineSpecialNaN:f,defineSpecialInf:m,defineRound:b}}function sc(i,n,e){void 0===e&&(e="index");var r=xr(n);return r.map(function(a,c){return"int "+i[c]+" = "+e+" / "+a+"; "+(c===r.length-1?"int "+i[c+1]+" = "+e+" - "+i[c]+" * "+a:"index -= "+i[c]+" * "+a)+";"}).join("")}function xh(i){var n=xr(i).map(function(e){return e.toString()});return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * "+n[0]+" + coords.y * "+n[1]+" + coords.z;\n  }\n"}var tp="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n";function og(i,n,e,r){var a=[];i.forEach(function(T){var z=je(T.shapeInfo.logicalShape);T.shapeInfo.isUniform?a.push("uniform float "+T.name+(z>1?"["+z+"]":"")+";"):(a.push("uniform sampler2D "+T.name+";"),a.push("uniform int offset"+T.name+";"))});var c,h,T,f=a.join("\n"),m=i.map(function(T){return function(z,Q,Z){void 0===Z&&(Z=!1);var ne="";return ne+=Z?N(z):A(z),z.shapeInfo.logicalShape.length<=Q.logicalShape.length&&(ne+=Z?function(he,we){var We,Jn,It=he.name,xt=It.charAt(0).toUpperCase()+It.slice(1),ht="get"+xt+"AtOutCoords",ft=he.shapeInfo.logicalShape.length,Zt=we.logicalShape.length,Gt=oi(he.shapeInfo.logicalShape,we.logicalShape),Dn=dn(Zt),On=Zt-ft,Bn=["x","y","z","w","u","v"];We=0===ft?"":Zt<2&&Gt.length>=1?"coords = 0;":Gt.map(function(ro){return"coords."+Bn[ro+On]+" = 0;"}).join("\n"),Jn=Zt<2&&ft>0?"coords":he.shapeInfo.logicalShape.map(function(ro,vo){return"coords."+Bn[vo+On]}).join(", ");var Gn="return outputValue;",jn=1===je(he.shapeInfo.logicalShape),nr=1===je(we.logicalShape);if(1!==ft||jn||nr){if(jn&&!nr)Gn=1===Zt?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(Gt.length){var or=ft-2,Fr=ft-1;Gt.indexOf(or)>-1&&Gt.indexOf(Fr)>-1?Gn="return vec4(outputValue.x);":Gt.indexOf(or)>-1?Gn="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":Gt.indexOf(Fr)>-1&&(Gn="return vec4(outputValue.xx, outputValue.zz);")}}else Gn="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 "+ht+"() {\n      "+Dn+" coords = getOutputCoords();\n      "+We+"\n      vec4 outputValue = get"+xt+"("+Jn+");\n      "+Gn+"\n    }\n  "}(z,Q):function(he,we){var We=he.name,It=We.charAt(0).toUpperCase()+We.slice(1),xt="get"+It+"AtOutCoords",Zt=he.shapeInfo.logicalShape.length,Gt=we.logicalShape.length;if(!he.shapeInfo.isUniform&&Zt===Gt&&null==he.shapeInfo.flatOffset&&Lt(he.shapeInfo.texShape,we.texShape))return"\n      float "+xt+"() {\n        return sampleTexture("+We+", resultUV);\n      }\n    ";var On=dn(Gt),Bn=oi(he.shapeInfo.logicalShape,we.logicalShape),Jn=Gt-Zt,Gn=["x","y","z","w","u","v"];return"\n    float "+xt+"() {\n      "+On+" coords = getOutputCoords();\n      "+(0===Zt?"":Gt<2&&Bn.length>=1?"coords = 0;":Bn.map(function(nr){return"coords."+Gn[nr+Jn]+" = 0;"}).join("\n"))+"\n      return get"+It+"("+(Gt<2&&Zt>0?"coords":he.shapeInfo.logicalShape.map(function(nr,or){return"coords."+Gn[or+Jn]}).join(", "))+");\n    }\n  "}(z,Q)),ne}(T,n,r)}).join("\n"),b=n.texShape,_=Ja(),I="\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return "+_.texture2D+"(textureSampler, uv).r;\n    }\n  ",D=(T=_).version+"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    "+T.varyingFs+" vec2 resultUV;\n    "+T.defineOutput+"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    "+T.defineSpecialNaN+"\n    "+T.defineSpecialInf+"\n    "+T.defineRound+"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    "+V+"\n    "+O+"\n    "+X+"\n  ";return n.isPacked?(c=function(T,z){switch(T.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return we=z,1===(We=[Math.ceil(we[0]/2),Math.ceil(we[1]/2)])[0]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * "+We[1]+".0);\n      }\n    ":1===We[1]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * "+We[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+We[0]+", "+We[1]+"));\n      return 2 * (resTexRC.x * "+We[1]+" + resTexRC.y);\n    }\n  ";case 2:return function(he,we){var We=[Math.ceil(we[0]/2),Math.ceil(we[1]/2)];if(Lt(he,we))return"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2("+We[0]+", "+We[1]+"));\n      }\n    ";var It=Math.ceil(he[1]/2);return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+We[0]+", "+We[1]+"));\n\n      int index = resTexRC.x * "+We[1]+" + resTexRC.y;\n      int r = 2 * (index / "+It+");\n      int c = imod(index, "+It+") * 2;\n\n      return ivec2(r, c);\n    }\n  "}(T,z);case 3:return Q=T,Z=z,ne=[Math.ceil(Z[0]/2),Math.ceil(Z[1]/2)],me=(fe=Math.ceil(Q[2]/2))*Math.ceil(Q[1]/2),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+ne[0]+", "+ne[1]+"));\n      int index = resTexRC.x * "+ne[1]+" + resTexRC.y;\n\n      int b = index / "+me+";\n      index -= b * "+me+";\n\n      int r = 2 * (index / "+fe+");\n      int c = imod(index, "+fe+") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";default:return function(he,we){for(var We=[Math.ceil(we[0]/2),Math.ceil(we[1]/2)],It=Math.ceil(he[he.length-1]/2),xt=It*Math.ceil(he[he.length-2]/2),ht=xt,ft="",Zt="b, r, c",Gt=2;Gt<he.length-1;Gt++)ft="\n      int b"+Gt+" = index / "+(ht*=he[he.length-Gt-1])+";\n      index -= b"+Gt+" * "+ht+";\n    "+ft,Zt="b"+Gt+", "+Zt;return"\n    ivec"+he.length+" getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+We[0]+", "+We[1]+"));\n      int index = resTexRC.x * "+We[1]+" + resTexRC.y;\n\n      "+ft+"\n\n      int b = index / "+xt+";\n      index -= b * "+xt+";\n\n      int r = 2 * (index / "+It+");\n      int c = imod(index, "+It+") * 2;\n\n      return ivec"+he.length+"("+Zt+");\n    }\n  "}(T,z)}var we,We,Q,Z,ne,fe,me}(n.logicalShape,b),h=function(T){return"\n    void setOutput(vec4 val) {\n      "+T.output+" = val;\n    }\n  "}(_)):(c=function(T,z){switch(T.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return 1===(fe=z)[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+fe[1]+".0);\n      }\n    ":1===fe[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+fe[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+fe[0]+", "+fe[1]+"));\n      return resTexRC.x * "+fe[1]+" + resTexRC.y;\n    }\n  ";case 2:return function(ne,fe){return Lt(ne,fe)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+fe[0]+", "+fe[1]+"));\n      }\n    ":1===ne[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+fe[0]+", "+fe[1]+"));\n        int index = resTexRC.x * "+fe[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===ne[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+fe[0]+", "+fe[1]+"));\n        int index = resTexRC.x * "+fe[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+fe[0]+", "+fe[1]+"));\n      int index = resTexRC.x * "+fe[1]+" + resTexRC.y;\n      int r = index / "+ne[1]+";\n      int c = index - r * "+ne[1]+";\n      return ivec2(r, c);\n    }\n  "}(T,z);case 3:return Q=z,Z=sc(["r","c","d"],T),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+Q[0]+", "+Q[1]+"));\n      int index = resTexRC.x * "+Q[1]+" + resTexRC.y;\n      "+Z+"\n      return ivec3(r, c, d);\n    }\n  ";case 4:return function(ne,fe){var me=sc(["r","c","d","d2"],ne);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+fe[0]+", "+fe[1]+"));\n      int index = resTexRC.x * "+fe[1]+" + resTexRC.y;\n      "+me+"\n      return ivec4(r, c, d, d2);\n    }\n  "}(T,z);case 5:return function(ne,fe){var me=sc(["r","c","d","d2","d3"],ne);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+fe[0]+",\n                             "+fe[1]+"));\n\n      int index = resTexRC.x * "+fe[1]+" + resTexRC.y;\n\n      "+me+"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}(T,z);case 6:return function(ne,fe){var me=sc(["r","c","d","d2","d3","d4"],ne);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+fe[0]+", "+fe[1]+"));\n      int index = resTexRC.x * "+fe[1]+" + resTexRC.y;\n\n      "+me+"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}(T,z);default:throw new Error(T.length+"-D output sampling is not yet supported")}var fe,Q,Z}(n.logicalShape,b),h=function(T){return"\n    void setOutput(float val) {\n      "+T.output+" = vec4(val, 0, 0, 0);\n    }\n  "}(_)),r&&(D+=De),[D,I,h,f,c,m,e].join("\n")}function A(i){var n=i.shapeInfo.logicalShape;switch(n.length){case 0:return function(e){var r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1);if(e.shapeInfo.isUniform)return"float "+a+"() {return "+r+";}";var c=e.shapeInfo.texShape;if(1===c[0]&&1===c[1])return"\n      float "+a+"() {\n        return sampleTexture("+r+", halfCR);\n      }\n    ";var m=e.shapeInfo.texShape;return"\n    float "+a+"() {\n      vec2 uv = uvFromFlat("+m[0]+", "+m[1]+", "+Re(r)+");\n      return sampleTexture("+r+", uv);\n    }\n  "}(i);case 1:return function(e){var r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1);if(e.shapeInfo.isUniform)return"\n      float "+a+"(int index) {\n        "+Ht(e)+"\n      }\n    ";var c=e.shapeInfo.texShape,h=c[0],f=c[1];if(1===f&&1===h)return"\n      float "+a+"(int index) {\n        return sampleTexture("+r+", halfCR);\n      }\n    ";var m=Re(r);return 1===f?"\n      float "+a+"(int index) {\n        vec2 uv = vec2(0.5, (float(index + "+m+") + 0.5) / "+h+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":1===h?"\n      float "+a+"(int index) {\n        vec2 uv = vec2((float(index + "+m+") + 0.5) / "+f+".0, 0.5);\n        return sampleTexture("+r+", uv);\n      }\n    ":"\n    float "+a+"(int index) {\n      vec2 uv = uvFromFlat("+h+", "+f+", index + "+m+");\n      return sampleTexture("+r+", uv);\n    }\n  "}(i);case 2:return function(e){var r=e.shapeInfo.logicalShape,a=e.name,c="get"+a.charAt(0).toUpperCase()+a.slice(1),h=e.shapeInfo.texShape;if(null!=h&&Lt(r,h))return"\n    float "+c+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+h[1]+".0, "+h[0]+".0);\n      return sampleTexture("+a+", uv);\n    }\n  ";var b=ce(r),_=b.newShape,I=b.keptDims;if(_.length<r.length)return"\n      "+A(Jt(e,_))+"\n      float "+c+"(int row, int col) {\n        return "+c+"("+cr(["row","col"],I)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+c+"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2("+r[1]+", 1)));\n        "+Ht(e)+"\n      }\n    ";var z=h[0],Q=h[1],Z=Re(a);return 1===Q?"\n    float "+c+"(int row, int col) {\n      float index = dot(vec3(row, col, "+Z+"), vec3("+r[1]+", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / "+z+".0);\n      return sampleTexture("+a+", uv);\n    }\n  ":1===z?"\n    float "+c+"(int row, int col) {\n      float index = dot(vec3(row, col, "+Z+"), vec3("+r[1]+", 1, 1));\n      vec2 uv = vec2((index + 0.5) / "+Q+".0, 0.5);\n      return sampleTexture("+a+", uv);\n    }\n  ":"\n  float "+c+"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * "+r[1]+" + col + "+Z+";\n    vec2 uv = uvFromFlat("+z+", "+Q+", index);\n    return sampleTexture("+a+", uv);\n  }\n"}(i);case 3:return function(e){var r=e.shapeInfo.logicalShape,a=e.name,c="get"+a.charAt(0).toUpperCase()+a.slice(1),h=r[1]*r[2],f=r[2],m=ce(r),b=m.newShape,_=m.keptDims;if(b.length<r.length)return"\n        "+A(Jt(e,b))+"\n        float "+c+"(int row, int col, int depth) {\n          return "+c+"("+cr(["row","col","depth"],_)+");\n        }\n      ";if(e.shapeInfo.isUniform)return"\n      float "+c+"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3("+h+", "+f+", 1)));\n        "+Ht(e)+"\n      }\n    ";var T=e.shapeInfo.texShape,z=T[0],Q=T[1],Z=e.shapeInfo.flatOffset;return Q===h&&null==Z?"\n        float "+c+"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2("+f+", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+Q+".0, "+z+".0);\n          return sampleTexture("+a+", uv);\n        }\n      ":Q===f&&null==Z?"\n    float "+c+"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2("+r[1]+", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+Q+".0, "+z+".0);\n      return sampleTexture("+a+", uv);\n    }\n  ":"\n      float "+c+"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * "+h+" + col * "+f+" + depth + "+Re(a)+";\n        vec2 uv = uvFromFlat("+z+", "+Q+", index);\n        return sampleTexture("+a+", uv);\n      }\n  "}(i);case 4:return function(e){var r=e.shapeInfo.logicalShape,a=e.name,c="get"+a.charAt(0).toUpperCase()+a.slice(1),h=r[3],f=r[2]*h,m=r[1]*f,b=ce(r),_=b.newShape,I=b.keptDims;if(_.length<r.length)return"\n      "+A(Jt(e,_))+"\n      float "+c+"(int row, int col, int depth, int depth2) {\n        return "+c+"("+cr(["row","col","depth","depth2"],I)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+c+"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4("+m+", "+f+", "+h+", 1)));\n        "+Ht(e)+"\n      }\n    ";var T=e.shapeInfo.flatOffset,z=e.shapeInfo.texShape,Q=z[0],Z=z[1];return Z===m&&null==T?"\n      float "+c+"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3("+f+", "+h+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+Z+".0, "+Q+".0);\n        return sampleTexture("+a+", uv);\n      }\n    ":Z===h&&null==T?"\n      float "+c+"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3("+r[1]*r[2]+", "+r[2]+", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+Z+".0, "+Q+".0);\n        return sampleTexture("+a+", uv);\n      }\n    ":"\n    float "+c+"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+m+" + col * "+f+" +\n          depth * "+h+" + depth2;\n      vec2 uv = uvFromFlat("+Q+", "+Z+", index + "+Re(a)+");\n      return sampleTexture("+a+", uv);\n    }\n  "}(i);case 5:return function(e){var r=e.shapeInfo.logicalShape,a=e.name,c="get"+a.charAt(0).toUpperCase()+a.slice(1),h=r[4],f=r[3]*h,m=r[2]*f,b=r[1]*m,_=ce(r),I=_.newShape,D=_.keptDims;if(I.length<r.length)return"\n      "+A(Jt(e,I))+"\n      float "+c+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+c+"("+cr(["row","col","depth","depth2","depth3"],D)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+c+"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+b+", "+m+", "+f+", "+h+")) +\n          depth3;\n        "+Ht(e)+"\n      }\n    ";var z=e.shapeInfo.flatOffset,Q=e.shapeInfo.texShape,Z=Q[0],ne=Q[1];return ne===b&&null==z?"\n      float "+c+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4("+m+", "+f+", "+h+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+ne+".0, "+Z+".0);\n        return sampleTexture("+a+", uv);\n      }\n    ":ne===h&&null==z?"\n      float "+c+"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+r[1]*r[2]*r[3]+",\n               "+r[2]*r[3]+", "+r[3]+", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+ne+".0, "+Z+".0);\n        return sampleTexture("+a+", uv);\n      }\n    ":"\n    float "+c+"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+b+" + col * "+m+" + depth * "+f+" +\n          depth2 * "+h+" + depth3 + "+Re(a)+";\n      vec2 uv = uvFromFlat("+Z+", "+ne+", index);\n      return sampleTexture("+a+", uv);\n    }\n  "}(i);case 6:return function(e){var r=e.shapeInfo.logicalShape,a=e.name,c="get"+a.charAt(0).toUpperCase()+a.slice(1),h=ce(r),f=h.newShape,m=h.keptDims;if(f.length<r.length)return"\n      "+A(Jt(e,f))+"\n      float "+c+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+c+"("+cr(["row","col","depth","depth2","depth3","depth4"],m)+");\n      }\n    ";var _=r[5],I=r[4]*_,D=r[3]*I,T=r[2]*D,z=r[1]*T;if(e.shapeInfo.isUniform)return"\n      float "+c+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4("+z+", "+T+", "+D+", "+I+")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2("+_+", 1)));\n        "+Ht(e)+"\n      }\n    ";var Q=e.shapeInfo.flatOffset,Z=e.shapeInfo.texShape,ne=Z[0],fe=Z[1];return fe===z&&null==Q?"\n      float "+c+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4("+T+", "+D+", "+I+", "+_+")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+fe+".0, "+ne+".0);\n        return sampleTexture("+a+", uv);\n      }\n    ":fe===_&&null==Q?"\n      float "+c+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4("+r[1]*r[2]*r[3]*r[4]+",\n               "+r[2]*r[3]*r[4]+",\n               "+r[3]*r[4]+",\n               "+r[4]+")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+fe+".0, "+ne+".0);\n        return sampleTexture("+a+", uv);\n      }\n    ":"\n    float "+c+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+z+" + col * "+T+" + depth * "+D+" +\n          depth2 * "+I+" + depth3 * "+_+" + depth4 + "+Re(a)+";\n      vec2 uv = uvFromFlat("+ne+", "+fe+", index);\n      return sampleTexture("+a+", uv);\n    }\n  "}(i);default:throw new Error(n.length+"-D input sampling is not yet supported")}}function N(i){var n,a,c,h,f,m,b;switch(i.shapeInfo.logicalShape.length){case 0:return"\n    vec4 get"+(n=i.name).charAt(0).toUpperCase()+n.slice(1)+"() {\n      return "+Ja().texture2D+"("+n+", halfCR);\n    }\n  ";case 1:return h="get"+(c=(a=i).name).charAt(0).toUpperCase()+c.slice(1),f=a.shapeInfo.texShape,m=[Math.ceil(f[0]/2),Math.ceil(f[1]/2)],b=Ja(),"\n    vec4 "+h+"(int index) {\n      vec2 uv = packedUVfrom1D(\n        "+m[0]+", "+m[1]+", index);\n      return "+b.texture2D+"("+c+", uv);\n    }\n  ";case 2:return function(a){var c=a.shapeInfo.logicalShape,h=a.name,f="get"+h.charAt(0).toUpperCase()+h.slice(1),m=a.shapeInfo.texShape,b=m[0],_=m[1],I=Ja();if(null!=m&&Lt(c,m))return"\n      vec4 "+f+"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2("+_+".0, "+b+".0);\n\n        return "+I.texture2D+"("+h+", uv);\n      }\n    ";var D=[Math.ceil(m[0]/2),Math.ceil(m[1]/2)];return"\n    vec4 "+f+"(int row, int col) {\n      vec2 uv = packedUVfrom2D("+Math.ceil(c[1]/2)+", "+D[0]+", "+D[1]+", row, col);\n      return "+I.texture2D+"("+h+", uv);\n    }\n  "}(i);case 3:return function(a){var c=a.shapeInfo.logicalShape,h=a.name,f="get"+h.charAt(0).toUpperCase()+h.slice(1),m=a.shapeInfo.texShape,b=[Math.ceil(m[0]/2),Math.ceil(m[1]/2)];if(1===c[0])return"\n        "+N(Jt(a,c.slice(1)))+"\n        vec4 "+f+"(int b, int row, int col) {\n          return "+f+"("+cr(["b","row","col"],[1,2])+");\n        }\n      ";var D=b[0],T=b[1],z=Math.ceil(c[2]/2);return"\n    vec4 "+f+"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        "+D+", "+T+", "+z*Math.ceil(c[1]/2)+", "+z+", b, row, col);\n      return "+Ja().texture2D+"("+h+", uv);\n    }\n  "}(i);default:return function(a){for(var c=a.shapeInfo.logicalShape,h=c.length,f=a.name,m="get"+f.charAt(0).toUpperCase()+f.slice(1),b=a.shapeInfo.texShape,_=[Math.ceil(b[0]/2),Math.ceil(b[1]/2)],I=_[0],D=_[1],T=Math.ceil(c[h-1]/2),z=T*Math.ceil(c[h-2]/2),Q="int b, int row, int col",Z="b * "+z+" + (row / 2) * "+T+" + (col / 2)",ne=2;ne<h-1;ne++)Q="int b"+ne+", "+Q,Z="b"+ne+" * "+(z*=c[h-ne-1])+" + "+Z;return"\n    vec4 "+m+"("+Q+") {\n      int index = "+Z+";\n      int texR = index / "+D+";\n      int texC = index - texR * "+D+";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+D+", "+I+");\n      return "+Ja().texture2D+"("+f+", uv);\n    }\n  "}(i)}}var V="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",O="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",X="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",De="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function Re(i){return"offset"+i}function Ht(i){var n=i.name,e=je(i.shapeInfo.logicalShape);return e<2?"return "+n+";":"\n    for (int i = 0; i < "+e+"; i++) {\n      if (i == index) {\n        return "+n+"[i];\n      }\n    }\n  "}function dn(i){if(i<=1)return"int";if(2===i)return"ivec2";if(3===i)return"ivec3";if(4===i)return"ivec4";if(5===i)return"ivec5";if(6===i)return"ivec6";throw Error("GPU for rank "+i+" is not yet supported")}function Jt(i,n){var e=JSON.parse(JSON.stringify(i));return e.shapeInfo.logicalShape=n,e}function cr(i,n){return n.map(function(e){return i[e]}).join(", ")}var fo=function(i,n,e,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,re(i.length>2,function(){return"Packed arg"+(e.charAt(0).toUpperCase()+e.slice(1))+" supports only inputs with rank above 2."});var c=Math.ceil(i[i.length-1]/n);this.outputShape=i.slice(0,-1),c>1&&this.outputShape.push(c),r||this.variableNames.push("bestIndicesA");var h,f,m=this.outputShape,b=m.length,_=dn(b),I=Va("coords",b);if(1===c){var D=dn(f=b+1);h="\n        "+D+" sourceLocR = "+D+"("+I.join()+", 0);\n        ++"+I[b-1]+";\n        "+D+" sourceLocG = "+D+"("+I.join()+", 0);\n        ++"+I[b-2]+";\n        "+D+" sourceLocA = "+D+"("+I.join()+", 0);\n        --"+I[b-1]+";\n        "+D+" sourceLocB = "+D+"("+I.join()+", 0);\n        --"+I[b-2]+";"}else f=b,h="\n        "+_+" sourceLocR = coords;\n        ++"+I[b-1]+";\n        "+_+" sourceLocG = coords;\n        ++"+I[b-2]+";\n        "+_+" sourceLocA = coords;\n        --"+I[b-1]+";\n        "+_+" sourceLocB = coords;\n        --"+I[b-2]+";";var T=["x","y","z","w","u","v"].slice(0,f),z="."+T[f-1],Q=T.map(function(xt){return"int "+xt}),Z=Va("sourceLocR",f-1).concat("inIdx.r"),ne=Va("sourceLocG",f-1).concat("inIdx.g"),fe=Va("sourceLocB",f-1).concat("inIdx.b"),me=Va("sourceLocA",f-1).concat("inIdx.a"),he="max"===e?"greaterThan":"lessThan",we=r?"":"\n          inIdx = round(vec4(getBestIndicesAChannel("+Z.join()+"),\n                             getBestIndicesAChannel("+ne.join()+"),\n                             getBestIndicesAChannel("+fe.join()+"),\n                             getBestIndicesAChannel("+me.join()+")));",We="vec4(\n            getAChannel("+Z.join()+"),\n            hasNextCol ? getAChannel("+ne.join()+") : 0.,\n            hasNextRow ? getAChannel("+fe.join()+") : 0.,\n            hasNextRow && hasNextCol ? getAChannel("+me.join()+") : 0.)",It=r?"":"\n      float getBestIndicesAChannel("+Q.join()+") {\n        return getChannel(getBestIndicesA("+T.join()+"),\n                                          vec2("+T.slice(-2).join()+"));\n      }";this.userCode="\n      float getAChannel("+Q.join()+") {\n        return getChannel(getA("+T.join()+"),\n                               vec2("+T.slice(-2).join()+"));\n      }\n      "+It+"\n      void main() {\n        "+_+" coords = getOutputCoords();\n        bool hasNextCol = "+I[b-1]+" < "+(m[b-1]-1)+";\n        bool hasNextRow = "+I[b-2]+" < "+(m[b-2]-1)+";\n        "+h+"\n        ivec4 srcIdx = ivec4(sourceLocR"+z+", sourceLocG"+z+",\n          sourceLocB"+z+", sourceLocA"+z+") * "+n+";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = "+We+";\n\n        for (int i = 0; i < "+n+"; i++) {\n          inIdx = srcIdx;\n          "+we+"\n          vec4 candidate = "+We+";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4("+he+"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    "},ii=function(i){this.variableNames=["dy"],this.outputShape=i.inShape;var f=i.effectiveFilterHeight,m=i.effectiveFilterWidth;this.userCode="\n      const ivec2 pads = ivec2("+(f-1-i.padInfo.top)+", "+(m-1-i.padInfo.left)+");\n      const float avgMultiplier = float("+1/(i.filterHeight*i.filterWidth)+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+f+";\n            wR += "+i.dilationHeight+") {\n          float dyR = float(dyRCorner + wR) / "+i.strideHeight+".0;\n\n          if (dyR < 0.0 || dyR >= "+i.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+m+";\n            wC+= "+i.dilationWidth+") {\n            float dyC = float(dyCCorner + wC) / "+i.strideWidth+".0;\n\n            if (dyC < 0.0 || dyC >= "+i.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},So=function(i){this.variableNames=["dy"],this.outputShape=i.inShape;var _=i.effectiveFilterDepth,I=i.effectiveFilterHeight,D=i.effectiveFilterWidth;this.userCode="\n      const ivec3 pads = ivec3("+(_-1-i.padInfo.front)+", "+(I-1-i.padInfo.top)+", "+(D-1-i.padInfo.left)+");\n      const float avgMultiplier = float("+1/(i.filterDepth*i.filterHeight*i.filterWidth)+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+_+";\n            wD += "+i.dilationDepth+") {\n          float dyD = float(dyDCorner + wD) / "+i.strideDepth+".0;\n\n          if (dyD < 0.0 || dyD >= "+i.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+I+";\n              wR += "+i.dilationHeight+") {\n            float dyR = float(dyRCorner + wR) / "+i.strideHeight+".0;\n\n            if (dyR < 0.0 || dyR >= "+i.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+D+";\n                wC += "+i.dilationWidth+") {\n              float dyC = float(dyCCorner + wC) / "+i.strideWidth+".0;\n\n              if (dyC < 0.0 || dyC >= "+i.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},$i=function(i,n,e,r,a,c){this.outputShape=[],this.variableNames=["x","mean","variance"],yo(i,n),yo(i,e);var h="0.0";null!=r&&(yo(i,r),this.variableNames.push("offset"),h="getOffsetAtOutCoords()");var f="1.0";null!=a&&(yo(i,a),this.variableNames.push("scale"),f="getScaleAtOutCoords()"),this.outputShape=i,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+h+";\n        float scale = "+f+";\n        float inv = scale * inversesqrt(variance + float("+c+"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    "},Ha=function(i,n,e,r,a,c){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],yo(i,n),yo(i,e);var h="vec4(0.0)";null!=r&&(yo(i,r),this.variableNames.push("offset"),h="getOffsetAtOutCoords()");var f="vec4(1.0)";null!=a&&(yo(i,a),this.variableNames.push("scale"),f="getScaleAtOutCoords()"),this.outputShape=i,this.userCode="\n      void main() {\n        vec4 offset = "+h+";\n        vec4 scale = "+f+";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4("+c+"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    "},ss=function(i,n,e){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=yo(n,e),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        "+i+"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    "},Ks="return a + b;",Fl="return a - b;",Nc="return a * b;",Fc="return (a < 0.) ? b * a : a;",ki=function(i,n,e){this.variableNames=["A","B"],this.outputShape=yo(n,e),this.userCode="\n      float binaryOperation(float a, float b) {\n        "+i+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "},Ss="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",qs=function(i,n,e,r){void 0===r&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=yo(n,e);var a=this.outputShape.length,c="";if(r)if(0===a||1===je(this.outputShape))c="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(c="\n          "+dn(a)+" coords = getOutputCoords();\n        ",1===a)c+="\n            result.y = (coords + 1) >= "+this.outputShape[0]+" ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ";else{var h=Va("coords",a);c+="\n            bool nextRowOutOfBounds =\n              ("+h[a-2]+" + 1) >= "+this.outputShape[a-2]+";\n            bool nextColOutOfBounds =\n              ("+h[a-1]+" + 1) >= "+this.outputShape[a-1]+";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        "+i+"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        "+c+"\n\n        setOutput(result);\n      }\n    "},_u=function(){function i(n){this.variableNames=["A"],this.outputShape=n,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}return i.prototype.getCustomSetupFunc=function(n,e){var r=this;return function(a,c){null==r.minLoc&&(r.minLoc=a.getUniformLocationNoThrow(c,"minVal"),r.maxLoc=a.getUniformLocationNoThrow(c,"maxVal")),a.gl.uniform1f(r.minLoc,n),a.gl.uniform1f(r.maxLoc,e)}},i}(),ri=function(){function i(n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}return i.prototype.getCustomSetupFunc=function(n,e){var r=this;return function(a,c){null==r.minLoc&&(r.minLoc=a.getUniformLocationNoThrow(c,"minVal"),r.maxLoc=a.getUniformLocationNoThrow(c,"maxVal")),a.gl.uniform1f(r.minLoc,n),a.gl.uniform1f(r.maxLoc,e)}},i}(),wh=function(i){this.variableNames=["real","imag"],this.outputShape=i,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "},Cu=function(i){this.outputShape=[],this.outputShape=G(i,1),this.variableNames=i.map(function(f,m){return"T"+m});var n=new Array(i.length-1);n[0]=i[0][1];for(var e=1;e<n.length;e++)n[e]=n[e-1]+i[e][1];var r=["if (yC < "+n[0]+") setOutput(getT0(yR, yC));"];for(e=1;e<n.length;e++)r.push("else if (yC < "+n[e]+") setOutput(getT"+e+"(yR, yC-"+n[e-1]+"));");r.push("else setOutput(getT"+n.length+"(yR, yC-"+n[n.length-1]+"));"),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        "+r.join("\n        ")+"\n      }\n    "},ls=function(i,n){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=G(i,n);var e=this.outputShape,r=e.length,a=dn(r),c=Va("coords",r),h=["x","y","z","w","u","v"].slice(0,r);this.variableNames=i.map(function(Z,ne){return"T"+ne});var f=new Array(i.length-1);f[0]=i[0][n];for(var m=1;m<f.length;m++)f[m]=f[m-1]+i[m][n];var b=h[n],_=h.slice(-2),I=h.join(),D="if ("+b+" < "+f[0]+") {\n        return getChannel(\n            getT0("+I+"), vec2("+_.join()+"));\n        }";for(m=1;m<f.length;m++){var T=f[m-1];D+="\n        if ("+b+" < "+f[m]+"  && "+b+" >= "+f[m-1]+") {\n          return getChannel(\n            getT"+m+"("+Iu(h,b,T)+"),\n            vec2("+Iu(_,b,T)+"));\n        }"}var Q=f[f.length-1];D+="\n        return getChannel(\n          getT"+f.length+"("+Iu(h,b,Q)+"),\n          vec2("+Iu(_,b,Q)+"));",this.userCode="\n      float getValue("+h.map(function(Z){return"int "+Z})+") {\n        "+D+"\n      }\n\n      void main() {\n        "+a+" coords = getOutputCoords();\n        vec4 result = vec4(getValue("+c+"), 0., 0., 0.);\n\n        "+c[r-1]+" = "+c[r-1]+" + 1;\n        if ("+c[r-1]+" < "+e[r-1]+") {\n          result.g = getValue("+c+");\n        }\n\n        "+c[r-2]+" = "+c[r-2]+" + 1;\n        if ("+c[r-2]+" < "+e[r-2]+") {\n          result.a = getValue("+c+");\n        }\n\n        "+c[r-1]+" = "+c[r-1]+" - 1;\n        if ("+c[r-2]+" < "+e[r-2]+" &&\n            "+c[r-1]+" < "+e[r-1]+") {\n          result.b = getValue("+c+");\n        }\n        setOutput(result);\n      }\n    "};function Iu(i,n,e){var r=i.indexOf(n);return i.map(function(a,c){return c===r?a+" - "+e:a}).join()}var Eu=function(i){this.variableNames=["x","dy"],this.outputShape=i.filterShape,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+i.batchSize+"; b++) {\n          for (int yR = 0; yR < "+i.outHeight+"; yR++) {\n            int xR = wR + yR * "+i.strideHeight+" - "+i.padInfo.top+";\n\n            if (xR < 0 || xR >= "+i.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+i.outWidth+"; yC++) {\n              int xC = wC + yC * "+i.strideWidth+" - "+i.padInfo.left+";\n\n              if (xC < 0 || xC >= "+i.inWidth+") {\n                continue;\n              }\n\n              if ("+("channelsLast"===i.dataFormat)+") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},cc=function(i){this.variableNames=["dy","W"],this.outputShape=i.inShape;var n=i.filterHeight,e=i.filterWidth,c="channelsLast"===i.dataFormat;this.userCode="\n      const ivec2 pads = ivec2("+(n-1-i.padInfo.top)+", "+(e-1-i.padInfo.left)+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords["+(c?3:1)+"];\n\n        ivec2 dyCorner = ivec2(coords["+(c?1:2)+"], coords["+(c?2:3)+"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+n+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+i.strideHeight+".0;\n\n          if (dyR < 0.0 || dyR >= "+i.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+n+" - 1 - wR;\n\n          for (int wC = 0; wC < "+e+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i.strideWidth+".0;\n\n            if (dyC < 0.0 || dyC >= "+i.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+e+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+i.outChannels+"; d2++) {\n\n              if ("+c+") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Ia=function(i){this.variableNames=["x","dy"],this.outputShape=i.filterShape,this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+i.batchSize+"; b++) {\n          for (int yF = 0; yF < "+i.outDepth+"; yF++) {\n            int xF = wF + yF * "+i.strideDepth+" - "+i.padInfo.front+";\n\n            if (xF < 0 || xF >= "+i.inDepth+") {\n              continue;\n            }\n\n            for (int yR = 0; yR < "+i.outHeight+"; yR++) {\n              int xR = wR + yR * "+i.strideHeight+" - "+i.padInfo.top+";\n\n              if (xR < 0 || xR >= "+i.inHeight+") {\n                continue;\n              }\n\n              for (int yC = 0; yC < "+i.outWidth+"; yC++) {\n                int xC = wC + yC * "+i.strideWidth+" - "+i.padInfo.left+";\n\n                if (xC < 0 || xC >= "+i.inWidth+") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},np=function(i){this.variableNames=["dy","W"],this.outputShape=i.inShape;var n=i.filterDepth,e=i.filterHeight,r=i.filterWidth;this.userCode="\n      const ivec3 pads = ivec3("+(n-1-i.padInfo.front)+", "+(e-1-i.padInfo.top)+", "+(r-1-i.padInfo.left)+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+n+"; wF++) {\n          float dyF = float(dyFCorner + wF) / "+i.strideDepth+".0;\n\n          if (dyF < 0.0 || dyF >= "+i.outDepth+".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = "+n+" - 1 - wF;\n\n          for (int wR = 0; wR < "+e+"; wR++) {\n            float dyR = float(dyRCorner + wR) / "+i.strideHeight+".0;\n\n            if (dyR < 0.0 || dyR >= "+i.outHeight+".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = "+e+" - 1 - wR;\n\n            for (int wC = 0; wC < "+r+"; wC++) {\n              float dyC = float(dyCCorner + wC) / "+i.strideWidth+".0;\n\n              if (dyC < 0.0 || dyC >= "+i.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = "+r+" - 1 - wC;\n\n              for (int d2 = 0; d2 < "+i.outChannels+"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Du=function(i){this.variableNames=["x","dy"],this.outputShape=i.filterShape,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+i.outChannels/i.inChannels+" + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < "+i.batchSize+"; b++) {\n          for (int yR = 0; yR < "+i.outHeight+"; yR++) {\n            int xR = wR + yR * "+i.strideHeight+" - "+i.padInfo.top+";\n\n            if (xR < 0 || xR >= "+i.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+i.outWidth+"; yC++) {\n              int xC = wC + yC * "+i.strideWidth+" - "+i.padInfo.left+";\n\n              if (xC < 0 || xC >= "+i.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ig=function(i){this.variableNames=["dy","W"],this.outputShape=i.inShape;var n=i.filterHeight,e=i.filterWidth,f=i.outChannels/i.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+(n-1-i.padInfo.top)+", "+(e-1-i.padInfo.left)+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+n+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+i.strideHeight+".0;\n\n          if (dyR < 0.0 || dyR >= "+i.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+n+" - 1 - wR;\n\n          for (int wC = 0; wC < "+e+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i.strideWidth+".0;\n\n            if (dyC < 0.0 || dyC >= "+i.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+e+" - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+f+"; dm++) {\n              int d2 = d1 * "+f+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Bs=function(i,n,e,r){void 0===n&&(n=!1),void 0===e&&(e=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=i.outShape;var a=i.padInfo.top,c=i.padInfo.left,h=i.strideHeight,f=i.strideWidth,m=i.dilationHeight,b=i.dilationWidth,_=i.filterHeight,I=i.filterWidth,D=4*Math.floor(i.inChannels/4),T=i.inChannels%4,z="channelsLast"===i.dataFormat,Q=z?1:2,Z=z?2:3,ne=z?3:1,fe="",me="";e&&(fe=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+e+"\n        }":"\n          float activation(float x) {\n            "+e+"\n          }\n        ",me="result = activation(result);");var he=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+fe+"\n\n      const ivec2 strides = ivec2("+h+", "+f+");\n      const ivec2 pads = ivec2("+a+", "+c+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords["+ne+"];\n\n        ivec2 xRCCorner =\n            ivec2(coords["+Q+"], coords["+Z+"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+_+"; wR++) {\n          int xR = xRCorner + wR * "+m+";\n\n          if (xR < 0 || xR >= "+i.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+I+"; wC++) {\n            int xC = xCCorner + wC * "+b+";\n\n            if (xC < 0 || xC >= "+i.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+D+"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if ("+z+") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if ("+(1===T)+") {\n\n              if ("+z+") {\n                dotProd +=\n                    getX(batch, xR, xC, "+D+") *\n                    getW(wR, wC, "+D+", d2);\n              } else {\n                dotProd +=\n                    getX(batch, "+D+", xR, xC) *\n                    getW(wR, wC, "+D+", d2);\n              }\n\n            } else if ("+(2===T)+") {\n              vec2 wValues = vec2(\n                getW(wR, wC, "+D+", d2),\n                getW(wR, wC, "+D+" + 1, d2)\n              );\n\n              if ("+z+") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, "+D+"),\n                  getX(batch, xR, xC, "+D+" + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, "+D+", xR, xC),\n                  getX(batch, "+D+" + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if ("+(3===T)+") {\n              vec3 wValues = vec3(\n                getW(wR, wC, "+D+", d2),\n                getW(wR, wC, "+D+" + 1, d2),\n                getW(wR, wC, "+D+" + 2, d2)\n              );\n\n              if ("+z+") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, "+D+"),\n                  getX(batch, xR, xC, "+D+" + 1),\n                  getX(batch, xR, xC, "+D+" + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, "+D+", xR, xC),\n                  getX(batch, "+D+" + 1, xR, xC),\n                  getX(batch, "+D+" + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        "+he+"\n        "+me+"\n        setOutput(result);\n      }\n    "},rp=function(i){this.variableNames=["x","W"],this.outputShape=i.outShape;var n=i.padInfo.front,e=i.padInfo.top,r=i.padInfo.left,a=i.strideDepth,c=i.strideHeight,h=i.strideWidth,f=i.dilationDepth,m=i.dilationHeight,b=i.dilationWidth,_=i.filterDepth,I=i.filterHeight,D=i.filterWidth,T=4*Math.floor(i.inChannels/4),z=i.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3("+a+", "+c+", "+h+");\n      const ivec3 pads = ivec3("+n+", "+e+", "+r+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+_+"; wF++) {\n          int xF = xFCorner + wF * "+f+";\n\n          if (xF < 0 || xF >= "+i.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+I+"; wR++) {\n            int xR = xRCorner + wR * "+m+";\n\n            if (xR < 0 || xR >= "+i.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+D+"; wC++) {\n              int xC = xCCorner + wC * "+b+";\n\n              if (xC < 0 || xC >= "+i.inWidth+") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < "+T+"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if ("+(1===z)+") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, "+T+") *\n                  getW(wF, wR, wC, "+T+", d2);\n              } else if ("+(2===z)+") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, "+T+"),\n                  getX(batch, xF, xR, xC, "+T+" + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, "+T+", d2),\n                  getW(wF, wR, wC, "+T+" + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if ("+(3===z)+") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, "+T+"),\n                  getX(batch, xF, xR, xC, "+T+" + 1),\n                  getX(batch, xF, xR, xC, "+T+" + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, "+T+", d2),\n                  getW(wF, wR, wC, "+T+" + 1, d2),\n                  getW(wF, wR, wC, "+T+" + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},_h=function(i,n,e,r){void 0===n&&(n=!1),void 0===e&&(e=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=i.outShape;var a=i.inHeight,c=i.inWidth,h=i.padInfo.top,f=i.padInfo.left,m=i.strideHeight,b=i.strideWidth,_=i.dilationHeight,I=i.dilationWidth,D=i.filterHeight,T=i.filterWidth,z=i.outChannels/i.inChannels,Q="",Z="";e&&(Q=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+e+"\n        }":"\n          float activation(float x) {\n            "+e+"\n          }\n        ",Z="result = activation(result);");var ne=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+Q+"\n\n      const ivec2 strides = ivec2("+m+", "+b+");\n      const ivec2 pads = ivec2("+h+", "+f+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+z+";\n        int q = d2 - d1 * "+z+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+D+"; wR++) {\n          int xR = xRCorner + wR * "+_+";\n\n          if (xR < 0 || xR >= "+a+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+T+"; wC++) {\n            int xC = xCCorner + wC * "+I+";\n\n            if (xC < 0 || xC >= "+c+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        "+ne+"\n        "+Z+"\n        setOutput(result);\n      }\n    "},Ch=function(i,n,e,r){void 0===n&&(n=!1),void 0===e&&(e=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i.outShape;for(var a=i.inHeight,c=i.inWidth,h=i.padInfo.top,f=i.padInfo.left,m=i.strideHeight,b=i.strideWidth,_=i.dilationHeight,I=i.dilationWidth,D=i.filterHeight,T=i.filterWidth,z=T,Q="int xR; int xC; int xCOffset;",Z=0;Z<D;Z++)for(var ne=0;ne<T;ne++)Q+="\n          vec4 xTexelR"+Z+"C"+2*ne+" = vec4(0.);\n          vec4 wR"+Z+"C"+ne+" = vec4(0.);\n          vec4 xR"+Z+"C"+ne+" = vec4(0.);";for(Z=0;Z<D;Z++)for(var fe=0;fe<z;fe++){if(Q+="\n          xR = xRCorner + "+Z*_+";\n          xC = xCCorner + "+(ne=2*fe)*I+";\n        ",1===b){if(ne<T&&(Q+=f%2==1?"\n                xCOffset = xC + 1;\n                if(xR >= 0 && xR < "+a+" && xCOffset >= 0 && xCOffset < "+c+") {\n                  xTexelR"+Z+"C"+ne+" = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+c+") {\n                    xTexelR"+Z+"C"+ne+".zw = vec2(0.);\n                  }\n                } else {\n                  xTexelR"+Z+"C"+ne+" = vec4(0.);\n                }\n\n                xCOffset = xC + 1 - 2;\n                if(xR >= 0 && xR < "+a+" && xCOffset >= 0 && xCOffset < "+c+") {\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+c+") {\n                    previous.zw = vec2(0.);\n                  }\n\n                  xR"+Z+"C"+ne+" = vec4(previous.zw, xTexelR"+Z+"C"+ne+".xy);\n                } else {\n                  xR"+Z+"C"+ne+" = vec4(0, 0, xTexelR"+Z+"C"+ne+".xy);\n                }\n              ":"\n                if(xR >= 0 && xR < "+a+" && xC >= 0 && xC < "+c+") {\n                  xTexelR"+Z+"C"+ne+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+Z+"C"+ne+" = vec4(0.);\n                }\n\n                xR"+Z+"C"+ne+" = xTexelR"+Z+"C"+ne+";\n              ",ne+1<T)){var me=f%2==0?Ce(I):I;I%2==0&&f%2==1||I%2!=0&&f%2!=1?(Q+="\n                  xCOffset = xC + "+f%2+" + "+me+";\n\n                  if(xR >= 0 && xR < "+a+" &&\n                    xCOffset >= 0 && xCOffset < "+c+") {\n                    xTexelR"+Z+"C"+(ne+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n                ",I>1&&(Q+="\n                    xCOffset -= 2;\n                    if(xR >= 0 && xR < "+a+" &&\n                      xCOffset >= 0 && xCOffset < "+c+") {\n                      xTexelR"+Z+"C"+ne+" = getX(batch, xR, xCOffset, d1);\n                    } else {\n                      xTexelR"+Z+"C"+ne+" = vec4(0.);\n                    }\n                  "),Q+="\n                  xR"+Z+"C"+(ne+1)+" = vec4(\n                    xTexelR"+Z+"C"+ne+".zw, xTexelR"+Z+"C"+(ne+2)+".xy);\n                "):Q+="\n                  xCOffset = xC + "+me+";\n\n                  if(xR >= 0 && xR < "+a+" &&\n                    xCOffset >= 0 && xCOffset < "+c+") {\n                    xTexelR"+Z+"C"+(ne+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n\n                  xR"+Z+"C"+(ne+1)+" = xTexelR"+Z+"C"+(ne+2)+";\n                "}}else ne<T&&(Q+="\n              if(xR >= 0 && xR < "+a+") {\n            ",f%2==1?(Q+="\n                xCOffset = xC + 1 - "+b+";\n                if(xCOffset >= 0 && xCOffset < "+c+") {\n                  xTexelR"+Z+"C"+ne+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+Z+"C"+ne+" = vec4(0.);\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < "+c+") {\n                  xTexelR"+Z+"C"+(ne+2)+" = getX(batch, xR, xC + 1, d1);\n                } else {\n                  xTexelR"+Z+"C"+(ne+2)+" = vec4(0.);\n                }\n\n                xR"+Z+"C"+ne+" = vec4(\n                  xTexelR"+Z+"C"+ne+".zw, xTexelR"+Z+"C"+(ne+2)+".zw);\n              ",ne+1<T&&(Q+="\n                  vec4 final = vec4(0.);\n                  xCOffset = xC + 1 + "+b+";\n                  if(xCOffset >= 0 && xCOffset < "+c+") {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xR"+Z+"C"+(ne+1)+" = vec4(xTexelR"+Z+"C"+(ne+2)+".xy, final.xy);\n                ")):(Q+="\n                if(xC >= 0 && xC < "+c+") {\n                  xTexelR"+Z+"C"+ne+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+Z+"C"+ne+" = vec4(0.);\n                }\n\n                xCOffset = xC + "+b+";\n                if(xCOffset >= 0 && xCOffset < "+c+") {\n                  xTexelR"+Z+"C"+(ne+2)+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+Z+"C"+(ne+2)+" = vec4(0.);\n                }\n\n                xR"+Z+"C"+ne+" = vec4(\n                  xTexelR"+Z+"C"+ne+".xy, xTexelR"+Z+"C"+(ne+2)+".xy);\n              ",ne+1<T&&(Q+="\n                  xR"+Z+"C"+(ne+1)+" = vec4(\n                    xTexelR"+Z+"C"+ne+".zw, xTexelR"+Z+"C"+(ne+2)+".zw);\n                ")),Q+="}");ne<T&&(Q+="\n            vec4 wTexelR"+Z+"C"+ne+" = getW("+Z+", "+ne+", d1, q);\n            wR"+Z+"C"+ne+" = vec4(wTexelR"+Z+"C"+ne+".xz, wTexelR"+Z+"C"+ne+".xz);\n          ",ne+1<T&&(Q+="\n              vec4 wTexelR"+Z+"C"+(ne+1)+" = getW("+Z+", "+(ne+1)+", d1, q);\n              wR"+Z+"C"+(ne+1)+" =\n                vec4(wTexelR"+Z+"C"+(ne+1)+".xz, wTexelR"+Z+"C"+(ne+1)+".xz);"))}for(Z=0;Z<D;Z++)for(ne=0;ne<T;ne++)Q+="dotProd += xR"+Z+"C"+ne+" * wR"+Z+"C"+ne+";";var he="",we="";e&&(he=r?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+e+"\n        }":"vec4 activation(vec4 x) {\n          "+e+"\n        }",we="result = activation(result);");var We=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+he+"\n\n      const ivec2 strides = ivec2("+m+", "+b+");\n      const ivec2 pads = ivec2("+h+", "+f+");\n\n      void main() {\n\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 dotProd = vec4(0.);\n\n        "+Q+"\n\n        vec4 result = dotProd;\n        "+We+"\n        "+we+"\n        setOutput(result);\n      }\n    "},fd=function(i,n,e,r,a){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var c=i[0],h=i[1],f=i[2],_=e[0],I=e[1];this.outputShape=[n[0],_,I,i[3]];var T=[h-1+".0",f-1+".0"],z=T[0],Q=T[1],Z=_>1?[""+(h-1)/(_-1),"(y2-y1) * height_ratio","y1*"+z+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+z],he=I>1?[""+(f-1)/(I-1),"(x2-x1) * width_ratio","x1*"+Q+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+Q];this.userCode="\n      const float height_ratio = float("+Z[0]+");\n      const float width_ratio = float("+he[0]+");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= "+c+") {\n          return;\n        }\n\n        float height_scale = "+Z[1]+";\n        float width_scale = "+he[1]+";\n\n        float in_y = "+Z[2]+";\n        if( in_y < 0.0 || in_y > "+z+" ) {\n          setOutput(float("+a+"));\n          return;\n        }\n        float in_x = "+he[2]+";\n        if( in_x < 0.0 || in_x > "+Q+" ) {\n          setOutput(float("+a+"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if("+("bilinear"===r?1:0)+" == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    "},al=function(i,n,e){this.variableNames=["x"],this.outputShape=i;var r=i.length,a=i[i.length-1],c=e?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(e?"return "+a+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+dn(r)+" coords = getOutputCoords();\n        int end = "+pd(r,"coords")+";\n        float val = 0.0;\n        for (int i = "+a+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+c+" end) {\n            continue;\n          }\n          if (idx == end && "+n+") {\n            continue;\n          }\n          "+pd(r,"coords")+" = idx;\n          val += getX("+function(h,f){if(1===h)return""+f;if(2===h)return f+".x, "+f+".y";if(3===h)return f+".x, "+f+".y, "+f+".z";if(4===h)return f+".x, "+f+".y, "+f+".z, "+f+".w";throw Error("Cumulative sum for rank "+h+" is not yet supported")}(r,"coords")+");\n        }\n        setOutput(val);\n      }\n    "};function pd(i,n){if(1===i)return""+n;if(2===i)return n+".y";if(3===i)return n+".z";if(4===i)return n+".w";throw Error("Cumulative sum for rank "+i+" is not yet supported")}var md=function(i){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Zn.DENSE;var n=Dr(i),e=Ja();this.outputShape=i,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+sc(["r","c","d"],i)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+n[0]+", "+n[1]+"));\n        int index = 4 * (resTexRC.x * "+n[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        "+e.output+" = result;\n      }\n    "},op=function(i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Zn.DENSE;var n=Dr(i),e=Ja();this.outputShape=i,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+sc(["r","c","d"],i)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+n[0]+", "+n[1]+"));\n        int index = 4 * (resTexRC.x * "+n[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        "+e.output+" = result;\n      }\n    "},wl=function(){function i(n,e,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=n,this.blockSize=e,this.dataFormat=r,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = "+this.getHeightCoordString()+";\n      int w = "+this.getWidthCoordString()+";\n      int d = "+this.getDepthCoordString()+";\n\n      int in_h = h / "+e+";\n      int offset_h = imod(h, "+e+");\n      int in_w = w / "+e+";\n      int offset_w = imod(w, "+e+");\n      int offset_d = (offset_h * "+e+" + offset_w) *\n        "+this.getOutputDepthSize()+";\n      int in_d = d + offset_d;\n\n      float result = "+this.getInputSamplingString()+";\n      setOutput(result);\n    }\n  "}return i.prototype.getHeightCoordString=function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"},i.prototype.getWidthCoordString=function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"},i.prototype.getDepthCoordString=function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"},i.prototype.getOutputDepthSize=function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]},i.prototype.getInputSamplingString=function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},i}(),Co=function(i){this.variableNames=["X"],this.outputShape=[i,i],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "},gd=function(i){this.variableNames=["A"],this.outTexUsage=qn.DOWNLOAD;var n=Ja();this.outputShape=i,this.userCode="\n      "+tp+"\n\n      void main() {\n        float x = getAAtOutCoords();\n        "+n.output+" = encode_float(x);\n      }\n    "},ip=function(i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=qn.DOWNLOAD;var n=Ja();this.outputShape=i,this.userCode="\n      "+tp+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        "+n.output+" = encode_float(x);\n      }\n    "},ap=function(i,n,e){void 0===e&&(e=!1),this.variableNames=["A"];var r=Ja(),a=n[0],c=n[1];this.outputShape=i;var h="result";e&&(h="floor(result * 255. + 0.5)"),this.userCode="\n      "+xh(i)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n        \n        int r = flatIndex / "+c+";\n        int c = imod(flatIndex, "+c+");\n        vec2 uv = (vec2(c, r) + halfCR) / vec2("+c+".0, "+a+".0);\n        vec4 values = "+r.texture2D+"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        "+r.output+" = vec4("+h+", 0., 0., 0.);\n      }\n    "},A0=function(i,n,e){void 0===e&&(e=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=Ja(),a=n[0],c=n[1];this.outputShape=i;var h="",f="result";e&&(f="floor(result * 255. + 0.5)");for(var m=0;m<=1;m++)for(var b=0;b<=1;b++){var _=2*m+b;h+="\n          localCoords = coords;\n          if(localCoords[2] + "+b+" < "+i[2]+") {\n            localCoords[2] += "+b+";\n            if(localCoords[1] + "+m+" < "+i[1]+") {\n              localCoords[1] += "+m+";\n\n              flatIndex = getFlatIndex(localCoords);\n              offset = imod(flatIndex, 4);\n\n              flatIndex = idiv(flatIndex, 4, 1.);\n\n              r = flatIndex / "+c+";\n              c = imod(flatIndex, "+c+");\n              uv = (vec2(c, r) + halfCR) / vec2("+c+".0, "+a+".0);\n              values = "+r.texture2D+"(A, uv);\n\n              if(offset == 0) {\n                result["+_+"] = values[0];\n              } else if(offset == 1) {\n                result["+_+"] = values[1];\n              } else if(offset == 2) {\n                result["+_+"] = values[2];\n              } else {\n                result["+_+"] = values[3];\n              }\n            }\n          }\n        "}this.userCode="\n      "+xh(i)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        vec4 result = vec4(0.);\n        int flatIndex, r, c, offset;\n        ivec3 localCoords;\n        vec2 uv;\n        vec4 values;\n\n        "+h+"\n\n        "+r.output+" = "+f+";\n      }\n    "},sg=function(i,n,e){this.variableNames=["real","imag"];var r=n[1];this.outputShape=n;var a=e?"2.0 * "+Math.PI:"-2.0 * "+Math.PI;this.userCode="\n      const float exponentMultiplier = "+a+";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        "+i+"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float("+r+");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < "+r+"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / "+(e?r+".0":"1.0")+";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    "},sp=function(){function i(n,e){this.outputShape=[],this.variableNames=["x"],this.outputShape=n,this.userCode="\n      uniform float value;\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}return i.prototype.getCustomSetupFunc=function(n){var e=this;return function(r,a){null==e.valueLoc&&(e.valueLoc=r.getUniformLocationNoThrow(a,"value")),r.gl.uniform1f(e.valueLoc,n)}},i}(),Lc=function(i,n,e){this.variableNames=["A","indices"];var r=i.slice();r[e]=n,this.outputShape=r,this.rank=r.length;var a=dn(this.rank),c=function(h,f){var m=h.length;if(m>4)throw Error("Gather for rank "+m+" is not yet supported");if(1===m)return"int(getIndices(resRC))";for(var b=["resRC.x","resRC.y","resRC.z","resRC.w"],_=[],I=0;I<h.length;I++)_.push(I===f?"int(getIndices("+b[I]+"))":""+b[I]);return _.join()}(i,e);this.userCode="\n      void main() {\n        "+a+" resRC = getOutputCoords();\n        setOutput(getA("+c+"));\n      }\n    "},lg=function(i,n,e){this.sliceDim=i,this.strides=n,this.variableNames=["x","indices"],this.outputShape=e;var r=dn(n.length),a=dn(e.length);this.userCode="\n        "+r+" strides = "+r+"("+this.strides+");\n         void main() {\n          "+a+" coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < "+this.sliceDim+"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * "+(this.sliceDim>1?"strides[j]":"strides")+";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      "};function lp(i,n){var e=Ja();return Zr(i,n,e.version+"\n    precision highp float;\n    "+e.attribute+" vec3 clipSpacePos;\n    "+e.attribute+" vec2 uv;\n    "+e.varyingVs+" vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }")}function cp(i,n){return nt(i,n,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function up(i,n){return yt(i,n,new Uint16Array([0,1,2,2,1,3]))}function Bc(i,n,e,r,a,c,h){fn(e,r);var f=$t(i,n),m=i.TEXTURE_2D;return Qn(i,n,function(){return i.bindTexture(m,f)}),Qn(i,n,function(){return i.texParameteri(m,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE)}),Qn(i,n,function(){return i.texParameteri(m,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE)}),Qn(i,n,function(){return i.texParameteri(m,i.TEXTURE_MIN_FILTER,i.NEAREST)}),Qn(i,n,function(){return i.texParameteri(m,i.TEXTURE_MAG_FILTER,i.NEAREST)}),Qn(i,n,function(){return i.texImage2D(m,0,a,e,r,0,c,h,null)}),Qn(i,n,function(){return i.bindTexture(i.TEXTURE_2D,null)}),f}function En(i,n,e,r,a){var c=jo(e,r);return Bc(i,n,c[0],c[1],a.internalFormatFloat,a.textureFormatFloat,i.FLOAT)}function Fo(i,n,e,r,a){var c=jo(e,r);return Bc(i,n,c[0],c[1],a.internalFormatHalfFloat,a.textureFormatFloat,a.textureTypeHalfFloat)}function Eh(i,n,e,r,a){var c=jo(e,r);return Bc(i,n,c[0],c[1],i.RGBA,i.RGBA,i.UNSIGNED_BYTE)}function Dh(i,n,e,r,a){var c=Po(e,r);return Bc(i,n,c[0],c[1],a.internalFormatPackedFloat,i.RGBA,i.FLOAT)}function bi(i,n,e,r,a){var c=Po(e,r);return Bc(i,n,c[0],c[1],a.internalFormatPackedHalfFloat,i.RGBA,a.textureTypeHalfFloat)}function vd(i,n,e,r){return Qn(i,n,function(){return i.bindBuffer(i.ARRAY_BUFFER,r)}),kn(i,n,e,"clipSpacePos",r,3,20,0)&&kn(i,n,e,"uv",r,2,20,12)}function Ll(i,n,e,r,a,c,h){var f,m,b;Qn(i,n,function(){return i.bindTexture(i.TEXTURE_2D,e)}),c instanceof Uint8Array?(f=new Uint8Array(r*a*4),m=i.UNSIGNED_BYTE,b=i.RGBA):(f=new Float32Array(r*a*4),m=i.FLOAT,b=h.internalFormatPackedFloat),f.set(c),Qn(i,n,function(){return i.texImage2D(i.TEXTURE_2D,0,b,r,a,0,i.RGBA,m,f)}),Qn(i,n,function(){return i.bindTexture(i.TEXTURE_2D,null)})}function Ys(i,n,e,r){Qn(i,n,function(){return i.bindTexture(i.TEXTURE_2D,e)}),r.data instanceof Uint8Array?Qn(i,n,function(){return i.texImage2D(i.TEXTURE_2D,0,i.RGBA,r.width,r.height,0,i.RGBA,i.UNSIGNED_BYTE,r.data)}):Qn(i,n,function(){return i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,r)}),Qn(i,n,function(){return i.bindTexture(i.TEXTURE_2D,null)})}function bd(i,n,e,r,a){var c=i.createBuffer();Qn(i,n,function(){return i.bindBuffer(i.PIXEL_PACK_BUFFER,c)});var h=16*e*r;return Qn(i,n,function(){return i.bufferData(i.PIXEL_PACK_BUFFER,h,i.STREAM_READ)}),Qn(i,n,function(){return i.readPixels(0,0,r,e,i.RGBA,i.FLOAT,0)}),Qn(i,n,function(){return i.bindBuffer(i.PIXEL_PACK_BUFFER,null)}),c}function kh(i,n,e){var r=i,a=new Float32Array(e);return r.bindBuffer(r.PIXEL_PACK_BUFFER,n),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}function Sh(i,n,e,r,a){var c=jo(e,r),h=c[0],f=c[1],m=new Uint8Array(e*r*4);return Qn(i,n,function(){return i.readPixels(0,0,h,f,a.downloadTextureFormat,i.UNSIGNED_BYTE,m)}),new Float32Array(m.buffer)}function cg(i,n,e,r,a,c,h,f){var D,m=i,b=new Float32Array((D=Po(c,h))[0]*D[1]*4);return m.bindBuffer(m.PIXEL_PACK_BUFFER,n),m.getBufferSubData(m.PIXEL_PACK_BUFFER,0,b),m.bindBuffer(m.PIXEL_PACK_BUFFER,null),b}function ug(i,n,e,r){var a=new Float32Array(e*r*4);return Qn(i,n,function(){return i.readPixels(0,0,r,e,i.RGBA,i.FLOAT,a)}),a}var dp=Object.freeze({createVertexShader:lp,createVertexBuffer:cp,createIndexBuffer:up,createFloat32MatrixTexture:En,createFloat16MatrixTexture:Fo,createUnsignedBytesMatrixTexture:Eh,createPackedMatrixTexture:Dh,createFloat16PackedMatrixTexture:bi,bindVertexProgramAttributeStreams:vd,uploadDenseMatrixToTexture:Ll,uploadPixelDataToTexture:Ys,createBufferFromOutputTexture:bd,downloadFloat32MatrixFromBuffer:kh,downloadByteEncodedFloatMatrixFromOutputTexture:Sh,downloadPackedMatrixFromBuffer:cg,downloadMatrixFromPackedOutputTexture:ug}),Ah=function(){function i(n){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var e=se().getNumber("WEBGL_VERSION");null!=n?(this.gl=n,ei(e,n)):this.gl=_o(e);var r="WEBGL_color_buffer_float";if(1===se().getNumber("WEBGL_VERSION")){if(this.textureFloatExtension=_r(this.gl,this.debug,"OES_texture_float"),Mo(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=_r(this.gl,this.debug,"OES_texture_half_float");else if(se().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),Mo(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=_r(this.gl,this.debug,"EXT_color_buffer_half_float");else if(se().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(Mo(this.gl,r="EXT_color_buffer_float"))this.colorBufferFloatExtension=this.gl.getExtension(r);else{if(!Mo(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=cp(this.gl,this.debug),this.indexBuffer=up(this.gl,this.debug),this.framebuffer=Rn(this.gl,this.debug),this.textureConfig=co(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(i.prototype,"debug",{get:function(){return se().getBool("DEBUG")},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){var n=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var e=this.gl;Qn(e,this.debug,function(){return e.finish()}),Qn(e,this.debug,function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)}),Qn(e,this.debug,function(){return e.deleteFramebuffer(n.framebuffer)}),Qn(e,this.debug,function(){return e.bindBuffer(e.ARRAY_BUFFER,null)}),Qn(e,this.debug,function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)}),Qn(e,this.debug,function(){return e.deleteBuffer(n.indexBuffer)}),this.disposed=!0}},i.prototype.createFloat32MatrixTexture=function(n,e){return this.throwIfDisposed(),En(this.gl,this.debug,n,e,this.textureConfig)},i.prototype.createFloat16MatrixTexture=function(n,e){return this.throwIfDisposed(),Fo(this.gl,this.debug,n,e,this.textureConfig)},i.prototype.createUnsignedBytesMatrixTexture=function(n,e){return this.throwIfDisposed(),Eh(this.gl,this.debug,n,e)},i.prototype.uploadPixelDataToTexture=function(n,e){this.throwIfDisposed(),Ys(this.gl,this.debug,n,e)},i.prototype.uploadDenseMatrixToTexture=function(n,e,r,a){this.throwIfDisposed(),Ll(this.gl,this.debug,n,e,r,a,this.textureConfig)},i.prototype.createFloat16PackedMatrixTexture=function(n,e){return this.throwIfDisposed(),bi(this.gl,this.debug,n,e,this.textureConfig)},i.prototype.createPackedMatrixTexture=function(n,e){return this.throwIfDisposed(),Dh(this.gl,this.debug,n,e,this.textureConfig)},i.prototype.deleteMatrixTexture=function(n){var e=this;this.throwIfDisposed(),this.outputTexture===n&&(eo(this.gl,this.debug,this.framebuffer),this.outputTexture=null),Qn(this.gl,this.debug,function(){return e.gl.deleteTexture(n)})},i.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(n,e,r){var a=this;return this.downloadMatrixDriver(n,function(){return Sh(a.gl,a.debug,e,r,a.textureConfig)})},i.prototype.downloadPackedMatrixFromBuffer=function(n,e,r,a,c,h){return cg(this.gl,n,0,0,0,c,h)},i.prototype.downloadFloat32MatrixFromBuffer=function(n,e){return kh(this.gl,n,e)},i.prototype.createBufferFromTexture=function(n,e,r){this.bindTextureToFrameBuffer(n);var a=bd(this.gl,this.debug,e,r);return this.unbindTextureToFrameBuffer(),a},i.prototype.createAndWaitForFence=function(){var n=this.createFence(this.gl);return this.pollFence(n)},i.prototype.createFence=function(n){var e,r,a=this;if(se().getBool("WEBGL_FENCE_API_ENABLED")){var c=n,h=c.fenceSync(c.SYNC_GPU_COMMANDS_COMPLETE,0);n.flush(),r=function(){var f=c.clientWaitSync(h,0,0);return f===c.ALREADY_SIGNALED||f===c.CONDITION_SATISFIED},e=h}else se().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(e=this.beginQuery(),this.endQuery(),r=function(){return a.isQueryAvailable(e,se().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):r=function(){return!0};return{query:e,isFencePassed:r}},i.prototype.downloadMatrixFromPackedTexture=function(n,e,r){var a=this;return this.downloadMatrixDriver(n,function(){return ug(a.gl,a.debug,e,r)})},i.prototype.createProgram=function(n){this.throwIfDisposed();var e=this.gl,r=Te(e,this.debug,n),a=lp(e,this.debug),c=Le(e,this.debug);return Qn(e,this.debug,function(){return e.attachShader(c,a)}),Qn(e,this.debug,function(){return e.attachShader(c,r)}),Ie(e,this.debug,c),this.debug&&Xe(e,this.debug,c),this.vertexAttrsAreBound||(this.setProgram(c),this.vertexAttrsAreBound=vd(e,this.debug,this.program,this.vertexBuffer)),c},i.prototype.deleteProgram=function(n){var e=this;this.throwIfDisposed(),n===this.program&&(this.program=null),null!=n&&Qn(this.gl,this.debug,function(){return e.gl.deleteProgram(n)})},i.prototype.setProgram=function(n){var e=this;this.throwIfDisposed(),this.program=n,null!=this.program&&this.debug&&Xe(this.gl,this.debug,this.program),Qn(this.gl,this.debug,function(){return e.gl.useProgram(n)})},i.prototype.getUniformLocation=function(n,e,r){return void 0===r&&(r=!0),this.throwIfDisposed(),r?tr(this.gl,this.debug,n,e):Cr(this.gl,n,e)},i.prototype.getAttributeLocation=function(n,e){var r=this;return this.throwIfDisposed(),Qn(this.gl,this.debug,function(){return r.gl.getAttribLocation(n,e)})},i.prototype.getUniformLocationNoThrow=function(n,e){return this.throwIfDisposed(),this.gl.getUniformLocation(n,e)},i.prototype.setInputMatrixTexture=function(n,e,r){this.throwIfDisposed(),this.throwIfNoProgram(),mr(this.gl,this.debug,0,n,e,r)},i.prototype.setOutputMatrixTexture=function(n,e,r){this.setOutputMatrixTextureDriver(n,r,e)},i.prototype.setOutputPackedMatrixTexture=function(n,e,r){this.throwIfDisposed();var a=Po(e,r);this.setOutputMatrixTextureDriver(n,a[0],a[1])},i.prototype.setOutputMatrixWriteRegion=function(n,e,r,a){this.setOutputMatrixWriteRegionDriver(r,n,a,e)},i.prototype.setOutputPackedMatrixWriteRegion=function(n,e,r,a){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},i.prototype.debugValidate=function(){null!=this.program&&Xe(this.gl,this.debug,this.program),kr(this.gl)},i.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var n=this.gl;this.debug&&this.debugValidate(),Qn(n,this.debug,function(){return n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0)})},i.prototype.blockUntilAllProgramsCompleted=function(){var n=this;this.throwIfDisposed(),Qn(this.gl,this.debug,function(){return n.gl.finish()})},i.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=_r(this.gl,this.debug,2===se().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},i.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},i.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},i.prototype.beginQuery=function(){if(2===se().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var n=this.gl,e=this.getQueryTimerExtensionWebGL2(),r=n.createQuery();return n.beginQuery(e.TIME_ELAPSED_EXT,r),r}var a=this.getQueryTimerExtensionWebGL1(),c=a.createQueryEXT();return a.beginQueryEXT(a.TIME_ELAPSED_EXT,c),c},i.prototype.endQuery=function(){if(2!==se().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var n=this.getQueryTimerExtensionWebGL1();n.endQueryEXT(n.TIME_ELAPSED_EXT)}else{var e=this.gl,r=this.getQueryTimerExtensionWebGL2();e.endQuery(r.TIME_ELAPSED_EXT)}},i.prototype.waitForQueryAndGetTime=function(n){return _e(this,void 0,void 0,function(){var e=this;return J(this,function(r){switch(r.label){case 0:return[4,lr(function(){return e.disposed||e.isQueryAvailable(n,se().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return r.sent(),[2,this.getQueryTime(n,se().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})})},i.prototype.getQueryTime=function(n,e){if(0===e)return null;if(2===e){var r=this.gl;return r.getQueryParameter(n,r.QUERY_RESULT)/1e6}var a=this.getQueryTimerExtensionWebGL1();return a.getQueryObjectEXT(n,a.QUERY_RESULT_EXT)/1e6},i.prototype.isQueryAvailable=function(n,e){if(0===e)return!0;if(2===e){var r=this.gl,a=this.getQueryTimerExtensionWebGL2(),c=r.getQueryParameter(n,r.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),c&&!this.disjoint}return c=(a=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(n,a.QUERY_RESULT_AVAILABLE_EXT),null==this.disjoint&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),c&&!this.disjoint},i.prototype.pollFence=function(n){var e=this;return new Promise(function(r){e.addItemToPoll(function(){return n.isFencePassed()},function(){return r()})})},i.prototype.pollItems=function(){for(var n=function(r){for(var a=0;a<r.length&&r[a]();++a);return a-1}(this.itemsToPoll.map(function(r){return r.isDoneFn})),e=0;e<=n;++e)(0,this.itemsToPoll[e].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(n+1)},i.prototype.addItemToPoll=function(n,e){var r=this;this.itemsToPoll.push({isDoneFn:n,resolveFn:e}),this.itemsToPoll.length>1||lr(function(){return r.pollItems(),0===r.itemsToPoll.length})},i.prototype.bindTextureToFrameBuffer=function(n){this.throwIfDisposed(),br(this.gl,this.debug,n,this.framebuffer),this.debug&&kr(this.gl)},i.prototype.unbindTextureToFrameBuffer=function(){null!=this.outputTexture?(br(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&kr(this.gl)):eo(this.gl,this.debug,this.framebuffer)},i.prototype.downloadMatrixDriver=function(n,e){this.bindTextureToFrameBuffer(n);var r=e();return this.unbindTextureToFrameBuffer(),r},i.prototype.setOutputMatrixTextureDriver=function(n,e,r){this.throwIfDisposed();var a=this.gl;br(a,this.debug,n,this.framebuffer),this.debug&&kr(a),this.outputTexture=n,Qn(a,this.debug,function(){return a.viewport(0,0,e,r)}),Qn(a,this.debug,function(){return a.scissor(0,0,e,r)})},i.prototype.setOutputMatrixWriteRegionDriver=function(n,e,r,a){var c=this;this.throwIfDisposed(),Qn(this.gl,this.debug,function(){return c.gl.scissor(n,e,r,a)})},i.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},i.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},i}();function ts(i,n){if(i.length!==n.length)throw Error("Binary was compiled with "+i.length+" inputs, but was executed with "+n.length+" inputs");i.forEach(function(e,r){var a=e.logicalShape,c=n[r],h=c.shape;if(!Lt(a,h))throw Error("Binary was compiled with different shapes than the current args. Shapes "+a+" and "+h+" must match");if(!e.isUniform||!c.isUniform){var f=e.texShape,m=c.isUniform?null:c.texData.texShape;if(!Lt(f,m))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+f+" and "+m+" must match")}})}var ga=function(i,n,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i;for(var a=e.inChannels,c=e.strideWidth,h=e.strideHeight,f=e.padInfo,m=e.outWidth,b=e.dilationWidth,_=e.dilationHeight,I=e.dataFormat,D=f.left,T=f.top,z=a*e.filterWidth,Q=Ja(),Z="channelsLast"===I,ne=Z?0:1,fe=Z?1:2,me="",he=0;he<=1;he++)for(var we=0;we<=1;we++)me+="\n          blockIndex = rc.y + "+we+";\n          pos = rc.x + "+he+";\n\n          if(blockIndex < "+i[1]+" && pos < "+i[0]+") {\n            offsetY = int(blockIndex / ("+m+")) * "+h+" - "+T+";\n            d0 = offsetY + "+_+" * (pos / "+z+");\n\n            if(d0 < "+n[ne]+" && d0 >= 0) {\n\n              offsetX = int(mod(float(blockIndex), "+m+".) * "+c+". - "+D+".);\n              d1 = offsetX + "+b+" * (int(mod(float(pos), "+z+".) / "+a+".));\n\n              if(d1 < "+n[fe]+" && d1 >= 0) {\n\n                ch = int(mod(float(pos), "+a+".));\n\n                if ("+Z+") {\n                  innerDims = vec2(d1, ch);\n                  result["+(2*he+we)+"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result["+(2*he+we)+"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ";this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        "+me+"\n\n        "+Q.output+" = result;\n      }\n    "},_l=function(i,n,e,r,a){this.variableNames=["x"],this.outputShape=[];var h=n,f=i[3]-1;this.outputShape=i;var m="float("+e+") + float("+r+") * sum";this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+h+"; j <= "+h+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+f+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+(.5===a?"inversesqrt("+m+")":1===a?"1.0/("+m+")":"exp(log("+m+") * float(-"+a+"));")+";\n        setOutput(val);\n      }\n    "},dg=function(i,n,e,r,a){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=i,this.depth=i[3],this.depthRadius=n,this.bias=e,this.alpha=r,this.beta=a,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < "+this.depth+"; ++d) {\n          int depthBegin = int(max(0.0, float(d - "+n+")));\n          int depthEnd = int(min(float("+this.depth+"),\n              float(d + "+n+" + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = "+this.depth+";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float("+r+") * norm + float("+e+");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float("+r+")\n                * float("+a+")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * "+a+");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    "},Zs=function(i,n,e,r,a){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var h=n,f=i[3]-1;this.outputShape=i;var m="float("+e+") + float("+r+") * sum";this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < "+this.outputShape[3]+";\n        bool hasNextRow = c < "+this.outputShape[2]+";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - "+h+";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - "+h+"; j <= "+h+"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2("+f+"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * "+(.5===a?"inversesqrt("+m+")":1===a?"1.0/("+m+")":"exp(log("+m+") * float(-"+a+"));")+";\n        setOutput(result);\n      }\n    "},Qs=function(i){this.variableNames=["dy","maxPos"],this.outputShape=i.inShape;var a=i.effectiveFilterHeight,c=i.effectiveFilterWidth;this.userCode="\n      const ivec2 pads = ivec2("+(a-1-i.padInfo.top)+", "+(c-1-i.padInfo.left)+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+a+";\n          wR += "+i.dilationHeight+") {\n          float dyR = float(dyRCorner + wR) / "+i.strideHeight+".0;\n\n          if (dyR < 0.0 || dyR >= "+i.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+c+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i.strideWidth+".0;\n\n            if (dyC < 0.0 || dyC >= "+i.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+(a*c-1)+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+c+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},hp=function(i){this.variableNames=["dy","maxPos"],this.outputShape=i.inShape;var f=i.effectiveFilterDepth,m=i.effectiveFilterHeight,b=i.effectiveFilterWidth;this.userCode="\n      const ivec3 pads = ivec3("+(f-1-i.padInfo.front)+", "+(m-1-i.padInfo.top)+", "+(b-1-i.padInfo.left)+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+f+";\n           wD += "+i.dilationDepth+") {\n          float dyD = float(dyDCorner + wD) / "+i.strideDepth+".0;\n\n          if (dyD < 0.0 || dyD >= "+i.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+m+";\n              wR += "+i.dilationHeight+") {\n            float dyR = float(dyRCorner + wR) / "+i.strideHeight+".0;\n\n            if (dyR < 0.0 || dyR >= "+i.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+b+";\n                wC += "+i.dilationWidth+") {\n              float dyC = float(dyCCorner + wC) / "+i.strideWidth+".0;\n\n              if (dyC < 0.0 || dyC >= "+i.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = "+(f*m*b-1)+" -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * "+m+" * "+b+" +\n                  wR * "+b+" + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Th=function(i,n,e,r,a,c,h){void 0===e&&(e=!1),void 0===r&&(r=!1),void 0===a&&(a=!1),void 0===c&&(c=null),void 0===h&&(h=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n;var m=Math.ceil((e?i[1]:i[2])/2),b=e?"i * 2, rc.y":"rc.y, i * 2",_=r?"rc.z, i * 2":"i * 2, rc.z",I=e?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],D=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],T="",z="";c&&(T=h?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+c+"\n        }":"vec4 activation(vec4 x) {\n          "+c+"\n        }",z="result = activation(result);");var Q=a?"result += getBiasAtOutCoords();":"";a&&this.variableNames.push("bias"),h&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+T+"\n\n      const float sharedDimension = "+m+".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < "+m+"; i++) {\n          vec4 a = getMatrixA(rc.x, "+b+");\n          vec4 b = getMatrixB(rc.x, "+_+");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += ("+I[0]+" * "+D[0]+");\n          result += ("+I[1]+" * "+D[1]+");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        "+Q+"\n\n        "+z+"\n\n        setOutput(result);\n      }\n    "},fp=function(){function i(n,e,r){this.variableNames=["probs"],this.outputShape=[n,r],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(e-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(e-1)+"));\n      }\n    "}return i.prototype.getCustomSetupFunc=function(n){var e=this;return function(r,a){null==e.seedLoc&&(e.seedLoc=r.getUniformLocation(a,"seed")),r.gl.uniform1f(e.seedLoc,n)}},i}(),hg=function(i,n,e,r){this.variableNames=["indices"],this.outputShape=[i,n],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+r+"), float("+e+"),\n                      float(index == coords.y)));\n      }\n    "},Mh=function(i){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=i;var f,b,_,n=i.length;if(0===n)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var e=Va("rc",n),r=dn(n),a=function(f,m,b){if(1===f)return"rc > "+m[0];for(var _="",I=f-2;I<f;I++)_+=b[I]+" >= "+m[I],I<f-1&&(_+="||");return _}(n,i,e),c=function(f,m,b,_){if(1===f)return"";var I=_.slice(-2);return"\n    int r = "+I[0]+";\n    int c = "+I[1]+";\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= "+m+";\n    bool rEdge = rp1 >= "+b+";\n  "}(n,i[i.length-1],i[i.length-2],e),h=(_=function(I,D){for(var T=[],z=0;z<=1;z++)for(var Q=0;Q<=1;Q++){for(var Z=(0===z?"r":"rp1")+", "+(0===Q?"c":"cp1"),ne=2;ne<I;ne++)Z=D[D.length-1-ne]+","+Z;T.push(Z)}return T}(b=(f=i).length,e),1===b?"getA(rc),\n            rc + 1 >= "+f[0]+" ? 0. : getA(rc + 1),\n            0, 0":"getA("+_[0]+"),\n          cEdge ? 0. : getA("+_[1]+"),\n          rEdge ? 0. : getA("+_[2]+"),\n          rEdge || cEdge ? 0. : getA("+_[3]+")");this.userCode="\n        void main() {\n          "+r+" rc = getOutputCoords();\n\n          if("+a+") {\n            setOutput(vec4(0));\n          } else {\n            "+c+"\n\n            setOutput(vec4("+h+"));\n          }\n        }\n      "}},yd=function(i,n,e){this.variableNames=["x"],this.outputShape=n.map(function(m,b){return m[0]+i[b]+m[1]});var r=i.length,a=dn(r),c=n.map(function(m){return m[0]}).join(","),h=n.map(function(m,b){return m[0]+i[b]}).join(","),f=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?"\n      "+a+" start = "+a+"("+c+");\n      "+a+" end = "+a+"("+h+");\n\n      void main() {\n        "+a+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+e+"));\n        } else {\n          "+a+" coords = outC - start;\n          setOutput(getX("+f+"));\n        }\n      }\n    ":"\n        int start = "+c+";\n        int end = "+h+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+e+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "},ku=function(i,n,e){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map(function(Z,ne){return Z[0]+i[ne]+Z[1]});for(var r=i.length,a=dn(r),c=n.map(function(Z){return Z[0]}).join(","),h=n.map(function(Z,ne){return Z[0]+i[ne]}).join(","),f=Va("rc",r),m=Va("source",r),b=f[r-1]+" < "+this.outputShape[r-1],_=1===r?"source":"vec2("+m.slice(-2).join()+")",I=[a+" rc = outputLoc;",f[r-1]+" += 1;\n       if("+b+") {\n      ",1===r?"":"}\n       rc = outputLoc;\n       "+f[r-2]+" += 1;\n       if("+f[r-2]+" < "+this.outputShape[r-2]+") {",1===r?"":"  "+f[r-1]+" += 1;\n         if("+b+") {"],D=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",T="",z=0,Q=1===r?2:4;z<Q;z++)T+="\n        "+I[z]+"\n        if ("+D+") {\n          result["+z+"] = float("+e+");\n        } else {\n          "+a+" source = rc - start;\n          result["+z+"] = getChannel(getX("+m.join()+"), "+_+");\n        }\n      ";this.userCode="\n      const "+a+" start = "+a+"("+c+");\n      const "+a+" end = "+a+"("+h+");\n\n      void main() {\n        "+a+" outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        "+(T+=1===r?"} ":"}}")+"\n        setOutput(result);\n      }\n    "},uc=function(i,n,e){if(this.variableNames=["x"],"avg"===n&&e)throw new Error("Cannot compute positions for average pool.");var r=i.filterWidth,a=i.strideHeight,c=i.strideWidth,h=i.dilationHeight,f=i.dilationWidth,m=i.effectiveFilterHeight,b=i.effectiveFilterWidth,_=i.padInfo.top,I=i.padInfo.left;this.outputShape=i.outShape;var D="avg"===n,T="0.0";if(D||(T="-1.0 / 1e-20"),e)this.userCode="\n        const ivec2 strides = ivec2("+a+", "+c+");\n        const ivec2 pads = ivec2("+_+", "+I+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+m+";\n              wR += "+h+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+i.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+b+";\n                wC += "+f+") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+i.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+b+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var z=n+"("+n+"("+n+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(z="avgValue / count");var Q=4*Math.floor(r/4),Z=r%4,ne="\n      if ("+D+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+a+", "+c+");\n      const ivec2 pads = ivec2("+_+", "+I+");\n      const float initializationValue = "+T+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+i.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+T+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+m+";\n            wR += "+h+") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+i.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+Q+"; wC += 4) {\n            int xC = xCCorner + wC * "+f+";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+f+", d),\n              getValue(batch, xR, xC + 2 * "+f+", d),\n              getValue(batch, xR, xC + 3 * "+f+", d)\n            );\n\n            "+ne+"\n          }\n\n          int xC = xCCorner + "+Q+";\n          if ("+(1===Z)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+ne+"\n          } else if ("+(2===Z)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+f+", d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+ne+"\n          } else if ("+(3===Z)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+f+", d),\n              getValue(batch, xR, xC + 2 * "+f+", d),\n              initializationValue\n            );\n\n            "+ne+"\n          }\n        }\n        setOutput("+z+");\n      }\n    "}},$c=function(i,n,e){if(this.variableNames=["x"],"avg"===n&&e)throw new Error("Cannot compute positions for average pool.");var r=i.filterWidth,a=i.strideDepth,c=i.strideHeight,h=i.strideWidth,f=i.dilationDepth,m=i.dilationHeight,b=i.dilationWidth,_=i.effectiveFilterDepth,I=i.effectiveFilterHeight,D=i.effectiveFilterWidth,T=i.padInfo.front,z=i.padInfo.top,Q=i.padInfo.left;this.outputShape=i.outShape;var Z="avg"===n,ne="0.0";if(Z||(ne="-1.0 / 1e-20"),e)this.userCode="\n        const ivec3 strides =\n            ivec3("+a+", "+c+", "+h+");\n        const ivec3 pads = ivec3("+T+", "+z+", "+Q+");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < "+_+";\n              wD += "+f+") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= "+i.inDepth+") {\n              continue;\n            }\n\n            for (int wR = 0; wR < "+I+";\n                wR += "+m+") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= "+i.inHeight+") {\n                continue;\n              }\n\n              for (int wC = 0; wC < "+D+";\n                  wC += "+b+") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= "+i.inWidth+") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value >= currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition =\n                      wD * "+I+" * "+D+" +\n                      wR * "+D+" + wC;;\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var fe=n+"("+n+"("+n+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(fe="avgValue / count");var me=4*Math.floor(r/4),he=r%4,we="\n      if ("+Z+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec3 strides =\n        ivec3("+a+", "+c+", "+h+");\n      const ivec3 pads = ivec3("+T+", "+z+", "+Q+");\n      const float initializationValue = "+ne+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= "+i.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+ne+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < "+_+";\n            wD += "+f+") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= "+i.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+I+";\n            wR += "+m+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+i.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+me+"; wC += 4) {\n              int xC = xCCorner + wC * "+b+";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+b+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+b+", ch),\n                getValue(batch, xD, xR, xC + 3 * "+b+", ch)\n              );\n\n              "+we+"\n            }\n\n            int xC = xCCorner + "+me+";\n            if ("+(1===he)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              "+we+"\n            } else if ("+(2===he)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+b+", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              "+we+"\n            } else if ("+(3===he)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+b+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+b+", ch),\n                initializationValue\n              );\n\n              "+we+"\n            }\n          }\n          setOutput("+fe+");\n        }\n      }\n    "}},Su=function(i,n){this.variableNames=["x"];var e=i.windowSize,r=i.batchSize,a=i.inSize,c=Math.ceil(a/e);this.outputShape=[r,c];var h="0.0",f="";"prod"===n?h="1.0":"min"===n?(h="1.0 / 1e-20",f="min"):"max"===n&&(h="-1.0 / 1e-20",f="max");var m=n+"("+n+"("+n+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===n?m="sumValue":"prod"===n?m="prodValue":"all"===n?m="allValue":"any"===n&&(m="anyValue");var b=4*Math.floor(e/4),_=e%4,I="\n      if ("+("sum"===n)+") {\n        sumValue += dot(values, ones);\n      } else if ("+("prod"===n)+") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = "+f+"(values, minMaxValue);\n      }\n    ",D="vec4";"all"===n?(h="1.0",I="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",D="bvec4"):"any"===n&&(h="0.0",I="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",D="bvec4");var T="";a%e>0&&(T="\n        if (inIdx < 0 || inIdx >= "+a+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+h+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+T+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+e+";\n\n        vec4 minMaxValue = vec4("+h+");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+b+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+D+" values = "+D+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+I+"\n        }\n\n        int inIdx = inOffset + "+b+";\n        if ("+(1===_)+") {\n          "+D+" values = "+D+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+I+"\n        } else if ("+(2===_)+") {\n          "+D+" values = "+D+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+I+"\n        } else if ("+(3===_)+") {\n          "+D+" values = "+D+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+I+"\n        }\n        setOutput("+m+");\n      }\n    "},Rh=function(i,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i;for(var e="",r=0;r<4;r++){var a="thisRC = rc;";r%2==1&&(a+="thisRC.z += 1;"),r>1&&(a+="thisRC.y += 1;"),e+="\n        "+a+"\n        "+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+"\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result["+r+"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        "+(r>0?"}":"")+"\n      "}this.userCode="\n      \n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      "+sc(["r","c","d"],n)+"\n      return ivec3(r, c, d);\n    }\n  \n      "+xh(i)+"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = "+i[1]+";\n        int cols = "+i[2]+";\n\n        "+e+"\n\n        setOutput(result);\n      }\n    "},pp=function(i,n,e){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n.shape;var r=n.shape,a=r[1],c=r[2],h=i.shape,f=h[1],m=h[2],b=[e&&f>1?a-1:a,e&&m>1?c-1:c],_=[e&&f>1?f-1:f,e&&m>1?m-1:m],I=b[0]/_[0],D=b[1]/_[1],T=1/I,z=1/D,Q=2*Math.ceil(T)+2,Z=2*Math.ceil(z)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+I+");\n        const float widthScale = float("+D+");\n\n        const float invHeightScale = float("+T+");\n        const float invWidthScale = float("+z+");\n\n        const int winHeight = int("+Q+");\n        const int winWidth = int("+Z+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+f+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+m+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(a-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(c-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},mp=function(i,n,e,r){this.variableNames=["A"],this.outputShape=[];var c=i[1],h=i[2];this.outputShape=[i[0],n,e,i[3]];var m=[r&&n>1?c-1:c,r&&e>1?h-1:h],b=[r&&n>1?n-1:n,r&&e>1?e-1:e];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+m[0]/b[0]+",\n          "+m[1]/b[1]+");\n      const vec2 inputShapeRC = vec2("+c+".0, "+h+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "},Ph=function(i,n,e,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var c=i[1],h=i[2],f=i[3];this.outputShape=[i[0],n,e,f];var m=[r&&n>1?c-1:c,r&&e>1?h-1:h],b=[r&&n>1?n-1:n,r&&e>1?e-1:e];this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          "+m[0]/b[0]+",\n          "+m[1]/b[1]+",\n          "+m[1]/b[1]+");\n      const vec3 inputShapeRC = vec3("+c+".0, "+h+".0,\n                                     "+h+".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < "+(f-1)+";\n        bool hasNextRow = coords.z < "+(e-1)+";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    "},gp=function(i,n,e){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n.shape;var r=n.shape,a=r[1],c=r[2],h=i.shape,f=h[1],m=h[2],b=[e&&f>1?a-1:a,e&&m>1?c-1:c],_=[e&&f>1?f-1:f,e&&m>1?m-1:m],I=b[0]/_[0],D=b[1]/_[1],T=1/I,z=1/D,Q=2*Math.ceil(T)+2,Z=2*Math.ceil(z)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+I+");\n        const float widthScale = float("+D+");\n\n        const float invHeightScale = float("+T+");\n        const float invWidthScale = float("+z+");\n\n        const int winHeight = int("+Q+");\n        const int winWidth = int("+Z+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+f+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+m+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+b[0]+") *\n                (float(dyR) / float("+_[0]+"));\n\n            float sourceFracCol =\n                float("+b[1]+") *\n                  (float(dyC) / float("+_[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+a+") - 1),\n                "+e+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+c+") - 1),\n                "+e+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},Oh=function(i,n,e,r){this.variableNames=["A"],this.outputShape=[];var c=i[1],h=i[2];this.outputShape=[i[0],n,e,i[3]];var m=[r&&n>1?c-1:c,r&&e>1?h-1:h],b=[r&&n>1?n-1:n,r&&e>1?e-1:e];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+m[0]/b[0]+",\n          "+m[1]/b[1]+");\n      const vec2 inputShapeRC = vec2("+c+".0, "+h+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+(r?"0.5":"0.0")+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "},dc=function(i,n){this.variableNames=["x"];var e=i.length;if(e>4)throw new Error("WebGL backend: Reverse of rank-"+e+" tensor is not yet supported");if(this.outputShape=i,1!==e){var r=i.map(function(c,h){return-1!==n.indexOf(f=h)&&1!==i[f]?i[f]+" - coords["+f+"] - 1":"coords["+f+"]";var f}).join(","),a=dn(e);this.userCode="\n      void main() {\n        "+a+" coords = getOutputCoords();\n        setOutput(getX("+r+"));\n      }\n    "}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+i[0]+" - coord - 1));\n        }\n      "},Pa=function(i,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var e=i.length;if(e>4)throw new Error("WebGL backend: Reverse of rank-"+e+" tensor is not yet supported");this.outputShape=i;var m,r=Va("rc",e),a=r[e-1]+" + 1 < "+this.outputShape[e-1],c=r[e-2]+" + 1 < "+this.outputShape[e-2],h=dn(e);function f(m){var b=i.map(function(_,I){return T=m,-1!==n.indexOf(D=I)&&1!==i[D]?i[D]+" - "+T[D]+" - 1":""+T[D];var D,T});return"getChannel(getX("+b.join(",")+"), vec2("+b.slice(-2).join(",")+"))"}this.userCode=1===e?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX("+i[0]+" - rc - 1),\n            "+i[0]+" - rc - 1);\n          if("+a+"){\n              result.g = getChannel(getX("+i[0]+" - (rc  + 1) - 1),\n                "+i[0]+" - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      ":"\n        void main() {\n          "+h+" rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = "+f(r.slice())+";\n          if("+a+"){\n            result.g = "+((m=r.slice())[e-1]="("+m[e-1]+" + 1)",f(m)+";\n          }\n          if(")+c+") {\n            result.b = "+function(m){return m[e-2]="("+m[e-2]+" + 1)",f(m)}(r.slice())+";\n            if("+a+") {\n              result.a = "+function(m){return m[e-1]="("+m[e-1]+" + 1)",m[e-2]="("+m[e-2]+" + 1)",f(m)}(r.slice())+";\n            }\n          }\n          setOutput(result);\n        }\n    "},sl=function(i,n,e,r,a,c,h){void 0===h&&(h=!0),this.variableNames=["updates","indices","defaultValue"],this.outputShape=c;var f=dn(a.length),m=dn(c.length),b="";1===e?b="i":2===e&&(b="i, j");var I="";1===r?I="i":2===r&&(I="i, coords[1]"),this.userCode="\n        "+f+" strides = "+f+"("+a+");\n\n        void main() {\n          "+m+" coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < "+i+"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < "+n+"; j++) {\n              int index = round(getIndices("+b+"));\n              flattenedIndex += index * "+(n>1?"strides[j]":"strides")+";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += getUpdates("+I+");\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      "},Pi=function(i,n){this.variableNames=["x","segmentIds"];var e=i.windowSize,r=i.batchSize,a=i.inSize,c=i.numSegments,h=c*Math.ceil(a/e);this.outputShape=[r,h];var f=4*Math.floor(e/4),m=e%4,b="\n        sumValue += dot(values, segFilter);\n    ",_="";a%e>0&&(_="\n        if (inIdx < 0 || inIdx >= "+a+") {\n          return initializationValue;\n        }\n      ");var I="";a%e>0&&(I="\n        if (inIdx < 0 || inIdx >= "+a+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        "+_+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+I+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+c+")) * float("+e+"));\n        int currentSeg = int(mod(float(outIdx), float("+c+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+f+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+b+"\n        }\n\n        int inIdx = inOffset + "+f+";\n        if ("+(1===m)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+b+"\n        } else if ("+(2===m)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+b+"\n        } else if ("+(3===m)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+b+"\n        }\n        setOutput(sumValue);\n      }\n    "},fg=function(i,n,e){var r,a;if(this.variableNames=["c","a","b"],this.outputShape=n,e>4)throw Error("Where for rank "+e+" is not yet supported");if(1===e)a="resRC",r="resRC";else{for(var c=["resRC.x","resRC.y","resRC.z","resRC.w"],h=[],f=[],m=0;m<n.length;m++)f.push(""+c[m]),m<i&&h.push(""+c[m]);r=h.join(),a=f.join()}var b=dn(e);this.userCode="\n      void main() {\n        "+b+" resRC = getOutputCoords();\n        float cVal = getC("+r+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+a+"));\n        } else {\n          setOutput(getB("+a+"));\n        }\n      }\n    "},pg=function(){function i(n){this.variableNames=["source"],this.outputShape=n,this.rank=n.length;var e,r=dn(this.rank),a="uniform int start["+this.rank+"];",c=function(h){if(1===h)return"sourceLoc";if(h<=6)return Nh.slice(0,h).map(function(f){return"sourceLoc."+f}).join(",");throw Error("Slicing for rank "+h+" is not yet supported")}(this.rank);e="\n        "+r+" sourceLoc;\n        "+r+" coords = getOutputCoords();\n        "+n.map(function(h,f){return"sourceLoc."+Nh[f]+" = start["+f+"] + coords."+Nh[f]+";"}).join("\n")+"\n      ",this.userCode="\n      "+a+"\n      void main() {\n        "+e+"\n        setOutput(getSource("+c+"));\n      }\n    "}return i.prototype.getCustomSetupFunc=function(n){var e=this;if(n.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+n.length+")");return function(r,a){null==e.startLoc&&(e.startLoc=r.getUniformLocationNoThrow(a,"start"),null==e.startLoc)||r.gl.uniform1iv(e.startLoc,n)}},i}(),Nh=["x","y","z","w","u","v"],mg=function(){function i(n){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.rank=n.length;var e=dn(this.rank),r=Va("coords",this.rank),a=Va("sourceLoc",this.rank),c=1===this.rank?"sourceLoc":"vec2("+a.slice(-2).join()+")",h="getChannel(getSource("+a.join()+"), "+c+")",f="\n      result.x = "+h+";\n      if (++"+r[this.rank-1]+" < "+n[this.rank-1]+") {\n        ++"+a[this.rank-1]+";\n        result.y = "+h+";\n        --"+a[this.rank-1]+";\n      }\n    ",m=1===this.rank?"":"\n      --"+r[this.rank-1]+";\n      if (++"+r[this.rank-2]+" < "+n[this.rank-2]+") {\n        ++"+a[this.rank-2]+";\n        result.z = "+h+";\n        if (++"+r[this.rank-1]+" < "+n[this.rank-1]+") {\n          ++"+a[this.rank-1]+";\n          result.w = "+h+";\n        }\n      }\n    ",b=this.rank<=4?"sourceLoc = coords +\n            "+e+"("+n.map(function(_,I){return"start["+I+"]"}).join()+");":n.map(function(_,I){return a[I]+" = "+r[I]+" + start["+I+"];"}).join("\n");this.userCode="\n      uniform int start["+this.rank+"];\n      void main() {\n        "+e+" coords = getOutputCoords();\n        "+e+" sourceLoc;\n        "+b+"\n        vec4 result = vec4(0.);\n        "+f+"\n        "+m+"\n        setOutput(result);\n      }\n    "}return i.prototype.getCustomSetupFunc=function(n){var e=this;if(n.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+n.length+")");return function(r,a){null==e.startLoc&&(e.startLoc=r.getUniformLocationNoThrow(a,"start"),null==e.startLoc)||r.gl.uniform1iv(e.startLoc,n)}},i}(),gg=function(i,n,e){this.variableNames=["x"],this.outputShape=e;var r=e.length,a=dn(e.length),c=dn(e.length),h="";if(1===r)h="coords * strides + begin";else{var f=0;h=e.map(function(m,b){return f++,1===e.length?"coords * strides["+b+"] + begin["+b+"]":"coords["+(f-1)+"] * strides["+b+"] + begin["+b+"]"}).join(",")}this.userCode="\n      "+a+" begin = "+a+"("+i+");\n      "+a+" strides = "+a+"("+n+");\n\n      void main() {\n        "+c+" coords = getOutputCoords();\n        setOutput(getX("+h+"));\n      }\n    "},vg=function(){function i(n){this.gpgpu=n,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return i.prototype.acquireTexture=function(n,e,r){var a,c=Au(e,r),h=As(n,c,r);if(h in this.freeTextures||(this.freeTextures[h]=[]),h in this.usedTextures||(this.usedTextures[h]=[]),this.freeTextures[h].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var f=this.freeTextures[h].shift();return this.usedTextures[h].push(f),f}return this.numUsedTextures++,this.log(),c===Mn.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(n[0],n[1]):c===Mn.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(n[0],n[1]):c===Mn.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(n[0],n[1]):c===Mn.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(n[0],n[1]):c===Mn.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(n[0],n[1])),this.usedTextures[h].push(a),a},i.prototype.releaseTexture=function(n,e,r,a){if(null!=this.freeTextures){var c=As(e,Au(r,a),a);c in this.freeTextures||(this.freeTextures[c]=[]),this.freeTextures[c].push(n),this.numFreeTextures++,this.numUsedTextures--;var h=this.usedTextures[c],f=h.indexOf(n);if(f<0)throw new Error("Cannot release a texture that was never provided by this texture manager");h.splice(f,1),this.log()}},i.prototype.log=function(){this.logEnabled&&console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+(this.numFreeTextures+this.numUsedTextures)+")")},i.prototype.getNumUsedTextures=function(){return this.numUsedTextures},i.prototype.getNumFreeTextures=function(){return this.numFreeTextures},i.prototype.dispose=function(){var n=this;if(null!=this.freeTextures){for(var e in this.freeTextures)this.freeTextures[e].forEach(function(r){n.gpgpu.deleteMatrixTexture(r)});for(var e in this.usedTextures)this.usedTextures[e].forEach(function(a){n.gpgpu.deleteMatrixTexture(a)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},i}();function Au(i,n){if(i===qn.UPLOAD)return Mn.PACKED_2X2_FLOAT32;if(i===qn.RENDER||null==i)return e=n,se().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?Mn.PACKED_2X2_FLOAT32:Mn.UNPACKED_FLOAT32:e?Mn.PACKED_2X2_FLOAT16:Mn.UNPACKED_FLOAT16;var e;if(i===qn.DOWNLOAD||i===qn.PIXELS)return Mn.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+i)}function As(i,n,e){return i[0]+"_"+i[1]+"_"+n+"_"+e}var vp=function(i,n){this.variableNames=["A"];for(var e=new Array(i.length),r=0;r<e.length;r++)e[r]=i[r]*n[r];this.outputShape=e,this.rank=e.length;var a=dn(this.rank),c=function(h){var f=h.length;if(f>5)throw Error("Tile for rank "+f+" is not yet supported");if(1===f)return"imod(resRC, "+h[0]+")";for(var m=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],b=[],_=0;_<h.length;_++)b.push("imod("+m[_]+", "+h[_]+")");return b.join()}(i);this.userCode="\n      void main() {\n        "+a+" resRC = getOutputCoords();\n        setOutput(getA("+c+"));\n      }\n    "},Tu=function(i,n){this.variableNames=["A"];for(var e=new Array(i.length),r=0;r<e.length;r++)e[r]=i[n[r]];this.outputShape=e,this.rank=e.length;var a=dn(this.rank),c=function(h){var f=h.length;if(f>6)throw Error("Transpose for rank "+f+" is not yet supported");for(var m=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],b=new Array(f),_=0;_<h.length;_++)b[h[_]]=m[_];return b.join()}(n);this.userCode="\n    void main() {\n      "+a+" resRC = getOutputCoords();\n      setOutput(getA("+c+"));\n    }\n    "},xd=function(i,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var e=new Array(i.length),r=0;r<e.length;r++)e[r]=i[n[r]];if(this.outputShape=e,this.rank=e.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var a=dn(this.rank),c=hd("rc",this.rank),h=new Array(this.rank);for(r=0;r<n.length;r++)h[n[r]]=c[r];var f="vec2("+h.slice(-2).join()+")",m="++"+c[this.rank-1]+" < "+e[this.rank-1],b="getChannel(getA("+h.join()+"), "+f+")";this.userCode="\n    void main() {\n      "+a+" rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = "+b+";\n      if("+m+") {\n        result[1] = "+b+";\n      }\n      --"+c[this.rank-1]+";\n      if(++"+c[this.rank-2]+" < "+e[this.rank-2]+") {\n        result[2] = "+b+";\n        if("+m+") {\n          result[3] = "+b+";\n        }\n      }\n      setOutput(result);\n    }\n    "},Mu=1.7580993408473768,Ru=1.0507009873554805,Ho=function(i,n){this.variableNames=["A"],this.outputShape=i,this.userCode="\n      float unaryOperation(float x) {\n        "+n+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},$s="if (isnan(x)) return x;",hc="return abs(x);",jc=$s+"\n  return (x < 0.0) ? 0.0 : x;\n",yg=$s+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",wd="return (x >= 0.0) ? x : (exp(x) - 1.0);",bp="\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = "+Mu+";\n  float scale = "+Ru+";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n",yp="return -x;",_d="return ceil(x);",xg="return floor(x);",wg="return exp(x);",_g="return exp(x) - 1.0;",Fh=$s+"\n  return sin(x);\n",zc=$s+"\n  return cos(x);\n",Lh=$s+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n",Cd=$s+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n",Cg=$s+"\n  return atan(x);\n",Pu=$s+"return log(x + sqrt(x * x + 1.0));",xp=$s+"\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));",Ou=$s+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;",js="return x;",Bh="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",wp="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",_p="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",Ts=function(i,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i,this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        "+n+"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},Ig=function(i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=i;var n=i.length,e=Va("rc",n),r=dn(n),a=function(f,m){if(1===f)return"rc";for(var b="",_=0;_<f;_++)b+=m[_],_<f-1&&(b+=",");return b}(n,e),c=e.slice(-2),h=n<=1?"rc":"vec2("+c.join(",")+")";this.userCode="\n      void main() {\n        "+r+" rc = getOutputCoords();\n        vec4 packedInput = getA("+a+");\n\n        setOutput(getChannel(packedInput, "+h+"));\n      }\n    "},Uc={};function Vc(i,n){if(void 0===n&&(n=!1),"linear"===i)return"return x;";if("relu"===i)return n?Bh:jc;if("elu"===i)return n?_p:wd;if("relu6"===i)return n?wp:yg;if("prelu"===i)return n?Ss:Fc;throw new Error("Activation "+i+" has not been implemented for the WebGL backend.")}var Nu=function(i){function n(e){var r,a=i.call(this)||this;if(a.pendingRead=new WeakMap,a.pendingDisposal=new WeakSet,a.dataRefCount=new WeakMap,a.numBytesInGPU=0,a.uploadWaitMs=0,a.downloadWaitMs=0,a.warnedAboutMemory=!1,a.pendingDeletes=0,a.disposed=!1,!se().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null==e){var c=_o(se().getNumber("WEBGL_VERSION"));a.binaryCache=((r=se().getNumber("WEBGL_VERSION"))in Uc||(Uc[r]={}),Uc[r]),a.gpgpu=new Ah(c),a.canvas=c.canvas,a.gpgpuCreatedLocally=!0}else a.gpgpu=e,a.binaryCache={},a.gpgpuCreatedLocally=!1,a.canvas=e.gl.canvas;return a.textureManager=new vg(a.gpgpu),a.numMBBeforeWarning=null==se().global.screen?1024:se().global.screen.height*se().global.screen.width*window.devicePixelRatio*600/1024/1024,a.texData=new Nr(a,le),a}return H(n,i),n.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},n.prototype.write=function(e,r,a){if(se().getBool("DEBUG")&&this.checkNumericalProblems(e),"complex64"===a&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var c={};return this.texData.set(c,{shape:r,dtype:a,values:e,usage:qn.UPLOAD}),c},n.prototype.move=function(e,r,a,c){if(se().getBool("DEBUG")&&this.checkNumericalProblems(r),"complex64"===c)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:a,dtype:c,values:r,usage:qn.UPLOAD})},n.prototype.readSync=function(e){var r=this.texData.get(e),a=r.values,c=r.dtype,h=r.complexTensors,m=r.shape;if(null!=r.slice){var _;_=r.isPacked?new Ts(m,js):new Ho(m,js);var I=this.runWebGLProgram(_,[{dataId:e,shape:m,dtype:c}],c),D=this.readSync(I.dataId);return this.disposeData(I.dataId),D}if(null!=a)return this.convertAndCacheOnCPU(e);if("string"===c)return a;var T,z,Q=null!=this.activeTimers;return Q&&(T=rn()),z="complex64"===c?jr(h.real.dataSync(),h.imag.dataSync()):this.getValuesFromTexture(e),Q&&(this.downloadWaitMs+=rn()-T),this.convertAndCacheOnCPU(e,z)},n.prototype.read=function(e){return _e(this,void 0,void 0,function(){var r,a,c,h,m,b,_,I,D,T,z,Q,Z,ne,fe,we,We,It,xt;return J(this,function(ht){switch(ht.label){case 0:if(this.pendingRead.has(e))return r=this.pendingRead.get(e),[2,new Promise(function(ft){return r.push(ft)})];if(a=this.texData.get(e),c=a.values,h=a.shape,m=a.dtype,b=a.complexTensors,_=a.isPacked,null!=a.slice)return I=_?new Ts(h,js):new Ho(h,js),D=this.runWebGLProgram(I,[{dataId:e,shape:h,dtype:m}],m),T=this.read(D.dataId),this.disposeData(D.dataId),[2,T];if(null!=c)return[2,this.convertAndCacheOnCPU(e)];if(!se().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===se().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return z=null,"complex64"!==m&&se().get("WEBGL_BUFFER_SUPPORTED")&&(Q=this.decode(e),Z=this.texData.get(Q.dataId),z=(xt=this.gpgpu).createBufferFromTexture.apply(xt,[Z.texture].concat(Dr(h)))),this.pendingRead.set(e,[]),"complex64"===m?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:ht.sent(),ht.label=2;case 2:return"complex64"!==m?[3,4]:[4,Promise.all([b.real.data(),b.imag.data()])];case 3:return fe=ht.sent(),ne=jr(fe[0],fe[1]),[3,5];case 4:null==z?ne=this.getValuesFromTexture(e):(we=je(h),ne=this.gpgpu.downloadFloat32MatrixFromBuffer(z,we)),ht.label=5;case 5:return null!=Q&&this.disposeData(Q.dataId),We=this.convertAndCacheOnCPU(e,ne),It=this.pendingRead.get(e),this.pendingRead.delete(e),It.forEach(function(ft){return ft(We)}),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e),this.pendingDeletes--),[2,We]}})})},n.prototype.checkNumericalProblems=function(e){if(null!=e)for(var r=0;r<e.length;r++){var a=e[r];if(!an(a))throw se().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error("The value "+a+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'"):Error("The value "+a+" cannot be represented on this device.")}},n.prototype.getValuesFromTexture=function(e){var r,a=this.texData.get(e),c=a.shape,h=a.dtype,f=a.isPacked,m=je(c);if(se().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var b=this.decode(e),_=this.texData.get(b.dataId),I=(r=this.gpgpu).downloadMatrixFromPackedTexture.apply(r,[_.texture].concat(Dr(c))).subarray(0,m);return this.disposeData(b.dataId),I}var D=se().getBool("WEBGL_PACK")&&!0===f,T=D?ea(c):c,z=D?new ip(T):new gd(T),Q=this.runWebGLProgram(z,[{shape:T,dtype:h,dataId:e}],"float32"),Z=this.texData.get(Q.dataId),ne=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(Z.texture,Z.texShape[0],Z.texShape[1]).subarray(0,m);return this.disposeData(Q.dataId),ne},n.prototype.time=function(e){return _e(this,void 0,void 0,function(){var r,a,c,h,f,m,b;return J(this,function(_){switch(_.label){case 0:return r=this.activeTimers,a=[],c=!1,null==this.programTimersStack?(this.programTimersStack=a,c=!0):this.activeTimers.push(a),this.activeTimers=a,e(),h=Ke(this.activeTimers.map(function(I){return I.query})).filter(function(I){return null!=I}),f=Ke(this.activeTimers.map(function(I){return I.name})).filter(function(I){return null!=I}),this.activeTimers=r,c&&(this.programTimersStack=null),m={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},se().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(h)]:[3,2];case 1:return b=_.sent(),m.kernelMs=$e(b),m.getExtraProfileInfo=function(){return b.map(function(I,D){return{name:f[D],ms:I}}).map(function(I){return I.name+": "+I.ms}).join(", ")},[3,3];case 2:m.kernelMs={error:"WebGL query timers are not supported in this environment."},_.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,m]}})})},n.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},n.prototype.startTimer=function(){return se().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:rn(),endMs:null}},n.prototype.endTimer=function(e){return se().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=rn(),e)},n.prototype.getQueryTime=function(e){return _e(this,void 0,void 0,function(){var r;return J(this,function(a){return se().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(e)]:[2,(r=e).endMs-r.startMs]})})},n.prototype.disposeData=function(e){if(!this.pendingDisposal.has(e)){if(this.pendingRead.has(e))return this.pendingDisposal.add(e),void this.pendingDeletes++;if(this.texData.has(e)){this.releaseGPUData(e);var r=this.texData.get(e).complexTensors;null!=r&&(r.real.dispose(),r.imag.dispose()),this.texData.delete(e)}}},n.prototype.releaseGPUData=function(e){var r=this.texData.get(e),a=r.texture,c=r.dtype,h=r.texShape,f=r.usage,m=r.isPacked,b=r.slice,_=b&&b.origDataId||e,I=this.dataRefCount.get(_);I>1?this.dataRefCount.set(_,I-1):(this.dataRefCount.delete(_),null!=a&&(this.numBytesInGPU-=this.computeBytes(h,c),this.textureManager.releaseTexture(a,h,f,m)));var D=this.texData.get(e);D.texture=null,D.texShape=null,D.isPacked=!1,D.slice=null},n.prototype.getTexture=function(e){return this.uploadToGPU(e),this.texData.get(e).texture},n.prototype.getDataInfo=function(e){return this.texData.get(e)},n.prototype.getCPUBackend=function(){return se().getBool("WEBGL_CPU_FORWARD")?(null==this.cpuBackend&&(this.cpuBackend=le.findBackend("cpu")),this.cpuBackend):null},n.prototype.shouldExecuteOnCPU=function(e,r){var a=this;return void 0===r&&(r=128),null!=this.getCPUBackend()&&e.every(function(c){return null==a.texData.get(c.dataId).texture&&c.size<r})},n.prototype.getGPGPUContext=function(){return this.gpgpu},n.prototype.complex=function(e,r){var a=this.makeOutput(e.shape,"complex64");return this.texData.get(a.dataId).complexTensors={real:le.keep(e.clone()),imag:le.keep(r.clone())},a},n.prototype.real=function(e){return this.texData.get(e.dataId).complexTensors.real.clone()},n.prototype.imag=function(e){return this.texData.get(e.dataId).complexTensors.imag.clone()},n.prototype.slice=function(e,r,a){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.slice(e,r,a);if(0===je(a))return dt([],a,e.dtype);var c=this.texData.get(e.dataId).isPacked,h=mn(e.shape,r,a);if(c||!h){var f=se().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new mg(a):new pg(a),m=f.getCustomSetupFunc(r);return this.compileAndRun(f,[e],null,m)}return this.uploadToGPU(e.dataId),this.shallowSlice(e,r,a)},n.prototype.shallowSlice=function(e,r,a){var c=this.texData.get(e.dataId),h=this.makeOutput(a,e.dtype),f=this.texData.get(h.dataId);Object.assign(f,c),f.shape=a,f.dtype=e.dtype;var m=Wn(r,e.strides);c.slice&&(m+=c.slice.flatOffset),f.slice={flatOffset:m,origDataId:c.slice&&c.slice.origDataId||e.dataId};var b=this.dataRefCount.get(f.slice.origDataId)||1;return this.dataRefCount.set(f.slice.origDataId,b+1),h},n.prototype.stridedSlice=function(e,r,a,c){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.stridedSlice(e,r,a,c);var h=K(r,a,c);if(h.some(function(m){return 0===m}))return dt([],h);var f=new gg(r,c,h);return this.compileAndRun(f,[e])},n.prototype.reverse=function(e,r){var a=se().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Pa(e.shape,r):new dc(e.shape,r);return this.compileAndRun(a,[e])},n.prototype.concat=function(e,r){if("complex64"===e[0].dtype){var a=e.map(function(T){return Fe(T)}),c=e.map(function(T){return lt(T)});return ve(this.concat(a,r),this.concat(c,r))}if(this.shouldExecuteOnCPU(e))return this.cpuBackend.concat(e,r);if(1===e.length)return e[0];if(e.length>se().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var h=Math.floor(e.length/2),f=this.concat(e.slice(0,h),r),m=this.concat(e.slice(h),r);return this.concat([f,m],r)}if(se().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].rank>1){var b=new ls(e.map(function(T){return T.shape}),r);return this.compileAndRun(b,e)}var _=G(e.map(function(T){return T.shape}),r),I=e.map(function(T){return T.as2D(-1,je(T.shape.slice(r)))}),D=new Cu(I.map(function(T){return T.shape}));return this.compileAndRun(D,I).reshape(_)},n.prototype.neg=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.neg(e);if(se().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,yp,e.dtype);var r=new Ho(e.shape,yp);return this.compileAndRun(r,[e])},n.prototype.batchMatMul=function(e,r,a,c){var h=a?e.shape[2]:e.shape[1],f=c?r.shape[1]:r.shape[2],m=a?e.shape[1]:e.shape[2],b=e.shape[0];if((1===h||1===f)&&m>1e3){a&&(e=e.transpose([0,2,1])),c&&(r=r.transpose([0,2,1]));var _=1===f?e:e.as3D(b,m,1),I=1===f?2:1,D=1===f?r.as3D(b,1,m):r;return this.multiply(_,D).sum(I,!0)}var T=Nn(e.dtype,r.dtype),z=new Th(e.shape,[b,h,f],a,c);return this.compileAndRun(z,[e,r],T)},n.prototype.fusedBatchMatMul=function(e){var r=e.a,a=e.b,c=e.transposeA,h=e.transposeB,f=e.bias,m=e.activation,b=e.preluActivationWeights,_=c?r.shape[2]:r.shape[1],I=h?a.shape[1]:a.shape[2],D=r.shape[0],T=Nn(r.dtype,a.dtype),z=null!=f,Q=null!=b,Z=m?Vc(m,!0):null,ne=new Th(r.shape,[D,_,I],c,h,z,Z,Q),fe=[r,a];return f&&fe.push(f),b&&fe.push(b),this.compileAndRun(ne,fe,T)},n.prototype.multiply=function(e,r){if("complex64"===e.dtype){var a=this.texData.get(e.dataId),c=this.texData.get(r.dataId),h=new ss("return areal * breal - aimag * bimag;",e.shape,r.shape),f=new ss("return areal * bimag + aimag * breal;",e.shape,r.shape),m=[this.makeComplexComponentTensorInfo(e,a.complexTensors.real),this.makeComplexComponentTensorInfo(e,a.complexTensors.imag),this.makeComplexComponentTensorInfo(r,c.complexTensors.real),this.makeComplexComponentTensorInfo(r,c.complexTensors.imag)],b=this.compileAndRun(h,m),_=this.compileAndRun(f,m),I=this.complex(b,_);return b.dispose(),_.dispose(),I}if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.multiply(e,r);if(se().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,Nc,e.dtype);var D=new ki(Nc,e.shape,r.shape);return this.compileAndRun(D,[e,r],e.dtype)},n.prototype.batchNormalization=function(e,r,a,c,h,f){var m=[e,r,a],b=null;null!=f&&(b=f.shape,m.push(f));var _=null;if(null!=h&&(_=h.shape,m.push(h)),se().getBool("WEBGL_PACK_NORMALIZATION")){var I=new Ha(e.shape,r.shape,a.shape,b,_,c);return this.compileAndRun(I,m)}var D=new $i(e.shape,r.shape,a.shape,b,_,c);return this.compileAndRun(D,m)},n.prototype.localResponseNormalization4D=function(e,r,a,c,h){var f=se().getBool("WEBGL_PACK_NORMALIZATION")?new Zs(e.shape,r,a,c,h):new _l(e.shape,r,a,c,h);return this.compileAndRun(f,[e])},n.prototype.LRNGrad=function(e,r,a,c,h,f,m){var b=new dg(r.shape,c,h,f,m);return this.compileAndRun(b,[r,a,e])},n.prototype.tile=function(e,r){if("string"===e.dtype){var a=this.readSync(e.dataId).map(function(h){return Tr(h)});return gs(ar(e.shape,e.dtype,a),r)}var c=new vp(e.shape,r);return this.compileAndRun(c,[e])},n.prototype.pad=function(e,r,a){var c=se().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ku(e.shape,r,a):new yd(e.shape,r,a);return this.compileAndRun(c,[e])},n.prototype.transpose=function(e,r){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.transpose(e,r);var a=se().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new xd(e.shape,r):new Tu(e.shape,r);return this.compileAndRun(a,[e])},n.prototype.gather=function(e,r,a){if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.gather(e,r,a);var c=new Lc(e.shape,r.size,a);return this.compileAndRun(c,[e,r])},n.prototype.batchToSpaceND=function(e,r,a){re(e.rank<=4,function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"});var c=r.reduce(function(I,D){return I*D}),h=Ns(e.shape,r,c),f=Rl(h.length,r.length),m=Ws(e.shape,r,c),b=rc(a,r.length),_=oc(m,a,r.length);return e.reshape(h).transpose(f).reshape(m).slice(b,_)},n.prototype.spaceToBatchND=function(e,r,a){re(e.rank<=4,function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"});var c=r.reduce(function(D,T){return D*T}),h=[[0,0]];h.push.apply(h,a);for(var f=1+r.length;f<e.shape.length;++f)h.push([0,0]);var m=e.pad(h),b=Ns(m.shape,r,c,!1),_=Rl(b.length,r.length,!1),I=Ws(m.shape,r,c,!1);return m.reshape(b).transpose(_).reshape(I)},n.prototype.reduce=function(e,r,a){var c=e.shape[0],h=e.shape[1],f=ya(h),m=new Su({windowSize:f,inSize:h,batchSize:c},r),b=this.compileAndRun(m,[e],a);return 1===b.shape[1]?b:this.reduce(b,r,a)},n.prototype.argReduce=function(e,r,a){void 0===a&&(a=null);var c=e.shape[0],h=e.shape[1];null!=a&&(c=a.shape[0],h=a.shape[1]);var f=ya(h),m=new wu({windowSize:f,inSize:h,batchSize:c},r,null==a),b=[e];null!=a&&b.push(a);var _=this.compileAndRun(m,b,"int32");return 1===_.shape[1]?_:this.argReduce(e,r,_)},n.prototype.argReducePacked=function(e,r,a){void 0===a&&(a=null);var c=null!=a?a.shape:e.shape,h=ya(c[c.length-1]),f=new fo(c,h,r,null==a),b=this.compileAndRun(f,null==a?[e]:[e,a],"int32");return b.rank===e.rank?this.argReducePacked(e,r,b):b},n.prototype.sum=function(e,r){ta("sum",r,e.rank);var a=Ei(e.shape,r),c=a[0],h=je(a[1]),f=e.as2D(-1,h),m=bt(e.dtype);return this.reduce(f,"sum",m).reshape(c)},n.prototype.prod=function(e,r){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.prod(e,r);var a=Ei(e.shape,r),c=a[0],h=je(a[1]),f=e.as2D(-1,h),m=bt(e.dtype);return this.reduce(f,"prod",m).reshape(c)},n.prototype.unsortedSegmentSum=function(e,r,a){var c=0,h=ca([c],e.rank),f=e;null!=h&&(f=e.transpose(h),c=Yi(1,e.rank)[0]);var m=function(T,z,Q){for(var Z=[],ne=T.length,fe=0;fe<ne;fe++)Z.push(fe!==z?T[fe]:Q);return Z}(f.shape,c,a),b=je([f.shape[c]]),_=f.as2D(-1,b),I=bt(e.dtype),D=this.segOpCompute(_,"unsortedSegmentSum",r,I,a).reshape(m);return null!=h&&(D=D.transpose(di(h))),D},n.prototype.segOpCompute=function(e,r,a,c,h){var f=e.shape[0],m=e.shape[1],b=function(D,T){var z,Q=!1;for(D<=30?(z=D,Q=!0):z=Ar(D,Math.floor(Math.sqrt(D)));!Q;)z>T||z===D?Q=!0:z=Ar(D,z+1);return z}(m,h),_=new Pi({windowSize:b,inSize:m,batchSize:f,numSegments:h},r),I=this.compileAndRun(_,[e,a],c);return I.shape[1]===h?I:(a=ua(0,h).tile([m/b]),this.segOpCompute(I,r,a,c,h))},n.prototype.argMinMaxReduce=function(e,r,a){var c=[r];if(ta("arg"+a.charAt(0).toUpperCase()+a.slice(1),c,e.rank),!se().getBool("WEBGL_PACK_REDUCE")||e.rank<=2){var h=Ei(e.shape,c),f=h[0],m=je(h[1]),b=e.as2D(-1,m);return this.argReduce(b,a).reshape(f)}return this.argReducePacked(e,a)},n.prototype.argMin=function(e,r){return this.argMinMaxReduce(e,r,"min")},n.prototype.argMax=function(e,r){return this.argMinMaxReduce(e,r,"max")},n.prototype.cumsum=function(e,r,a,c){if(r!==e.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(e.rank-1)+" but got axis="+r);var h=new al(e.shape,a,c);return this.compileAndRun(h,[e])},n.prototype.equal=function(e,r){if(se().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,"\n  return vec4(equal(a, b));\n","bool");var a=new ki("return float(a == b);",e.shape,r.shape);return this.compileAndRun(a,[e,r],"bool")},n.prototype.notEqual=function(e,r){if(se().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,"\n  return vec4(notEqual(a, b));\n","bool");var a=new ki("return float(a != b);",e.shape,r.shape);return this.compileAndRun(a,[e,r],"bool")},n.prototype.less=function(e,r){if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.less(e,r);if(se().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,"\n  return vec4(lessThan(a, b));\n","bool");var a=new ki("return float(a < b);",e.shape,r.shape);return this.compileAndRun(a,[e,r],"bool")},n.prototype.lessEqual=function(e,r){if(se().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,"\n  return vec4(lessThanEqual(a, b));\n","bool");var a=new ki("return float(a <= b);",e.shape,r.shape);return this.compileAndRun(a,[e,r],"bool")},n.prototype.greater=function(e,r){if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.greater(e,r);if(se().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,"\n  return vec4(greaterThan(a, b));\n","bool");var a=new ki("return float(a > b);",e.shape,r.shape);return this.compileAndRun(a,[e,r],"bool")},n.prototype.greaterEqual=function(e,r){if(se().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,"\n  return vec4(greaterThanEqual(a, b));\n","bool");var a=new ki("return float(a >= b);",e.shape,r.shape);return this.compileAndRun(a,[e,r],"bool")},n.prototype.logicalNot=function(e){var r=new Ho(e.shape,"return float(!(x >= 1.0));");return this.compileAndRun(r,[e])},n.prototype.logicalAnd=function(e,r){if(se().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n","bool");var a=new ki("return float(a >= 1.0 && b >= 1.0);",e.shape,r.shape);return this.compileAndRun(a,[e,r],"bool")},n.prototype.logicalOr=function(e,r){if(se().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n","bool");var a=new ki("return float(a >= 1.0 || b >= 1.0);",e.shape,r.shape);return this.compileAndRun(a,[e,r],"bool")},n.prototype.select=function(e,r,a){var c=new fg(e.rank,r.shape,r.rank);return this.compileAndRun(c,[e,r,a],Nn(r.dtype,a.dtype))},n.prototype.where=function(e){la("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var r=e.dataSync();return Oc(e.shape,r)},n.prototype.topk=function(e,r,a){return xl(e.dataSync(),e.shape,e.dtype,r)},n.prototype.min=function(e,r){ta("min",r,e.rank);var a=Ei(e.shape,r),c=a[0],h=je(a[1]),f=e.as2D(-1,h);return this.reduce(f,"min",f.dtype).reshape(c)},n.prototype.minimum=function(e,r){if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.minimum(e,r);var a=se().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new qs("\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,r.shape):new ki("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",e.shape,r.shape);return this.compileAndRun(a,[e,r])},n.prototype.mod=function(e,r){var a=se().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new qs("\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,r.shape):new ki("if (b == 0.0) return NAN;\n  return mod(a, b);",e.shape,r.shape);return this.compileAndRun(a,[e,r])},n.prototype.max=function(e,r){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.max(e,r);ta("max",r,e.rank);var a=Ei(e.shape,r),c=a[0],h=je(a[1]),f=e.as2D(-1,h);return this.reduce(f,"max",f.dtype).reshape(c)},n.prototype.maximum=function(e,r){if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.maximum(e,r);var a=se().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new qs("\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,r.shape):new ki("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",e.shape,r.shape);return this.compileAndRun(a,[e,r])},n.prototype.all=function(e,r){ta("all",r,e.rank);var a=Ei(e.shape,r),c=a[0],h=je(a[1]),f=e.as2D(-1,h);return this.reduce(f,"all",f.dtype).reshape(c)},n.prototype.any=function(e,r){ta("any",r,e.rank);var a=Ei(e.shape,r),c=a[0],h=je(a[1]),f=e.as2D(-1,h);return this.reduce(f,"any",f.dtype).reshape(c)},n.prototype.realDivide=function(e,r){if(se().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n","float32",!0);var a=new ki("\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",e.shape,r.shape);return this.compileAndRun(a,[e,r],"float32")},n.prototype.floorDiv=function(e,r){if(se().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n","int32");var a=new ki("\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",e.shape,r.shape);return this.compileAndRun(a,[e,r],"int32")},n.prototype.add=function(e,r){if("complex64"===e.dtype&&"complex64"===r.dtype)return this.complexSeparableBinaryOp(e,r,Ks);if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.add(e,r);var a=Nn(e.dtype,r.dtype);if(se().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,Ks,a);var c=new ki(Ks,e.shape,r.shape);return this.compileAndRun(c,[e,r],a)},n.prototype.packedUnaryOp=function(e,r,a){var c=new Ts(e.shape,r);return this.compileAndRun(c,[e],a)},n.prototype.packedBinaryOp=function(e,r,a,c,h){void 0===h&&(h=!1);var f=new qs(a,e.shape,r.shape,h);return this.compileAndRun(f,[e,r],c)},n.prototype.complexSeparableBinaryOp=function(e,r,a){var c=this,h=this.texData.get(e.dataId),f=this.texData.get(r.dataId),m=[[h.complexTensors.real,f.complexTensors.real],[h.complexTensors.imag,f.complexTensors.imag]].map(function(D){var T=D[0],z=D[1],Q=c.makeComplexComponentTensorInfo(e,T),Z=c.makeComplexComponentTensorInfo(r,z),ne=new ki(a,e.shape,r.shape);return c.compileAndRun(ne,[Q,Z],Nn(T.dtype,z.dtype))}),b=m[0],_=m[1],I=this.complex(b,_);return b.dispose(),_.dispose(),I},n.prototype.makeComplexComponentTensorInfo=function(e,r){return{dataId:r.dataId,dtype:r.dtype,shape:e.shape}},n.prototype.addN=function(e){if(1===e.length)return e[0];if(e.length>se().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var r=Math.floor(e.length/2),a=this.addN(e.slice(0,r)),c=this.addN(e.slice(r));return this.addN([a,c])}var h=e.map(function(b){return b.dtype}).reduce(function(b,_){return Nn(b,_)}),f=e.map(function(b){return b.shape}),m=se().getBool("WEBGL_PACK")?new xu(e[0].shape,f):new yh(e[0].shape,f);return this.compileAndRun(m,e,h)},n.prototype.subtract=function(e,r){if("complex64"===e.dtype&&"complex64"===r.dtype)return this.complexSeparableBinaryOp(e,r,Fl);if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.subtract(e,r);var a=Nn(e.dtype,r.dtype);if(se().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,Fl,e.dtype);var c=new ki(Fl,e.shape,r.shape);return this.compileAndRun(c,[e,r],a)},n.prototype.pow=function(e,r){var a=se().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new qs("\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,r.shape):new ki("\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nif (b == 0.0) {\n  return 1.0;\n}\nreturn (round(mod(b, 2.0)) != 1) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",e.shape,r.shape),c=Nn(e.dtype,r.dtype);return this.compileAndRun(a,[e,r],c)},n.prototype.ceil=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.ceil(e);if(se().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,_d,e.dtype);var r=new Ho(e.shape,_d);return this.compileAndRun(r,[e])},n.prototype.floor=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.floor(e);if(se().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,xg,e.dtype);var r=new Ho(e.shape,xg);return this.compileAndRun(r,[e])},n.prototype.sign=function(e){var r=new Ho(e.shape,"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n");return this.compileAndRun(r,[e])},n.prototype.isNaN=function(e){var r=new Ho(e.shape,"return float(isnan(x));");return this.compileAndRun(r,[e],"bool")},n.prototype.isInf=function(e){var r=new Ho(e.shape,"return float(isinf(x));");return this.compileAndRun(r,[e],"bool")},n.prototype.isFinite=function(e){var r=new Ho(e.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(r,[e],"bool")},n.prototype.round=function(e){var r=new Ho(e.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n");return this.compileAndRun(r,[e])},n.prototype.exp=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.exp(e);if(se().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,wg,e.dtype);var r=new Ho(e.shape,wg);return this.compileAndRun(r,[e])},n.prototype.expm1=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.expm1(e);if(se().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,_g,e.dtype);var r=new Ho(e.shape,_g);return this.compileAndRun(r,[e])},n.prototype.softmax=function(e,r){var a=Ue([r],e.shape),c=this.max(e,a),h=yi(c.shape,a),f=this.subtract(e,c.reshape(h)),m=this.exp(f),b=this.sum(m,a).reshape(h);return this.realDivide(m,b)},n.prototype.log=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.log(e);if(se().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,"\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n",e.dtype);var r=new Ho(e.shape,"if (x < 0.0) return NAN;\n  return log(x);");return this.compileAndRun(r,[e])},n.prototype.log1p=function(e){var r=new Ho(e.shape,"return log(1.0 + x);");return this.compileAndRun(r,[e])},n.prototype.sqrt=function(e){var r=new Ho(e.shape,"return sqrt(x);");return this.compileAndRun(r,[e])},n.prototype.rsqrt=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.rsqrt(e);var r=new Ho(e.shape,"return inversesqrt(x);");return this.compileAndRun(r,[e])},n.prototype.reciprocal=function(e){var r=new Ho(e.shape,"return 1.0 / x;");return this.compileAndRun(r,[e])},n.prototype.relu=function(e){var r;return r=se().getBool("WEBGL_PACK")?new Ts(e.shape,Bh):new Ho(e.shape,jc),this.compileAndRun(r,[e])},n.prototype.relu6=function(e){var r;return r=se().getBool("WEBGL_PACK")?new Ts(e.shape,wp):new Ho(e.shape,yg),this.compileAndRun(r,[e])},n.prototype.prelu=function(e,r){var a=se().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new qs(Ss,e.shape,r.shape):new ki(Fc,e.shape,r.shape);return this.compileAndRun(a,[e,r])},n.prototype.elu=function(e){if(se().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,_p,e.dtype);var r=new Ho(e.shape,wd);return this.compileAndRun(r,[e])},n.prototype.eluDer=function(e,r){var a=se().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new qs("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",e.shape,r.shape):new ki("return (b >= 1.0) ? a : a * (b + 1.0);",e.shape,r.shape);return this.compileAndRun(a,[e,r])},n.prototype.selu=function(e){var r=new Ho(e.shape,bp);return this.compileAndRun(r,[e])},n.prototype.int=function(e){var r=new Ho(e.shape,"return float(int(x));");return this.compileAndRun(r,[e],"int32")},n.prototype.clip=function(e,r,a){var c,h=(c=se().getBool("WEBGL_PACK_CLIP")?new ri(e.shape):new _u(e.shape)).getCustomSetupFunc(r,a);return this.compileAndRun(c,[e],null,h)},n.prototype.abs=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.abs(e);if(se().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,hc,e.dtype);var r=new Ho(e.shape,hc);return this.compileAndRun(r,[e])},n.prototype.complexAbs=function(e){var r=this.texData.get(e.dataId),a=new wh(e.shape),c=[this.makeComplexComponentTensorInfo(e,r.complexTensors.real),this.makeComplexComponentTensorInfo(e,r.complexTensors.imag)];return this.compileAndRun(a,c)},n.prototype.sigmoid=function(e){var r=new Ho(e.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(r,[e])},n.prototype.softplus=function(e){var r=new Ho(e.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n");return this.compileAndRun(r,[e])},n.prototype.sin=function(e){var r=new Ho(e.shape,Fh);return this.compileAndRun(r,[e])},n.prototype.cos=function(e){var r=new Ho(e.shape,zc);return this.compileAndRun(r,[e])},n.prototype.tan=function(e){var r=new Ho(e.shape,"return tan(x);");return this.compileAndRun(r,[e])},n.prototype.asin=function(e){var r=new Ho(e.shape,Lh);return this.compileAndRun(r,[e])},n.prototype.acos=function(e){var r=new Ho(e.shape,Cd);return this.compileAndRun(r,[e])},n.prototype.atan=function(e){var r=new Ho(e.shape,Cg);return this.compileAndRun(r,[e])},n.prototype.atan2=function(e,r){var a=se().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new qs("\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,r.shape):new ki("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",e.shape,r.shape);return this.compileAndRun(a,[e,r])},n.prototype.sinh=function(e){var r=new Ho(e.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n");return this.compileAndRun(r,[e])},n.prototype.cosh=function(e){var r=new Ho(e.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n");return this.compileAndRun(r,[e])},n.prototype.tanh=function(e){var r=new Ho(e.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n");return this.compileAndRun(r,[e])},n.prototype.asinh=function(e){var r=new Ho(e.shape,Pu);return this.compileAndRun(r,[e])},n.prototype.acosh=function(e){var r=new Ho(e.shape,xp);return this.compileAndRun(r,[e])},n.prototype.atanh=function(e){var r=new Ho(e.shape,Ou);return this.compileAndRun(r,[e])},n.prototype.erf=function(e){var r=new Ho(e.shape,'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = 0.3275911;\n  float a1 = 0.254829592;\n  float a2 = -0.284496736;\n  float a3 = 1.421413741;\n  float a4 = -1.453152027;\n  float a5 = 1.061405429;\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n');return this.compileAndRun(r,[e])},n.prototype.step=function(e,r){var c,a=new Ho(e.shape,(void 0===(c=r)&&(c=0),$s+"\n    return x > 0.0 ? 1.0 : float("+c+");\n  "));return this.compileAndRun(a,[e])},n.prototype.conv2dByMatMul=function(e,r,a,c,h,f){var m=e.shape,b=this.texData.get(e.dataId),T="channelsLast"===a.dataFormat,Q=m[2]%2!=0&&!!b.isPacked;if((1==m[0]*m[1]*m[2]||1===a.outChannels)&&a.inChannels>1e3||!se().getBool("WEBGL_LAZILY_UNPACK")||!se().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!Q){var ne=this.reshape(e,[1,T?m[0]*m[1]*m[2]:m[0]*m[2]*m[3],a.inChannels]),fe=this.reshape(r,[1,a.inChannels,a.outChannels]);return this.reshape(this.fusedBatchMatMul({a:ne,b:fe,transposeA:!1,transposeB:!1,bias:c,activation:h,preluActivationWeights:f}),a.outShape)}var he={dataId:e.dataId,shape:[1,T?m[0]*m[1]*(m[2]+1):m[0]*m[2]*(m[3]+1),a.inChannels],dtype:e.dtype},we=b.shape;b.shape=b.shape.slice(),b.shape[b.shape.length-2]++,re(vi(b.shape,he.shape),function(){return"packed reshape "+b.shape+" to "+he.shape+" isn't free"});var We=this.reshape(r,[1,a.inChannels,a.outChannels]),It=this.fusedBatchMatMul({a:he,b:We,transposeA:!1,transposeB:!1,bias:c,activation:h,preluActivationWeights:f}),xt=this.texData.get(It.dataId);return re(xt.isPacked,function(){return"batchMatMul result is expected to be packed"}),b.shape=we,xt.shape=a.outShape,le.makeTensorFromDataId(It.dataId,a.outShape,It.dtype)},n.prototype.conv2dWithIm2Row=function(e,r,a,c,h,f){var I=a.outWidth,D=a.outHeight,T="channelsLast"===a.dataFormat,z=a.filterWidth*a.filterHeight*a.inChannels,Q=D*I,Z=[z,Q],ne=e.squeeze([0]),fe=r.reshape([1,z,-1]),me=new ga(Z,ne.shape,a),he=this.compileAndRun(me,[ne]).reshape([1,Z[0],Z[1]]),we=null!=c,We=null!=f,It=h?Vc(h,!0):null,xt=new Th(he.shape,[1,Q,a.outChannels],!0,!1,we,It,We),ht=[he,fe];return c&&ht.push(c),We&&ht.push(f),this.compileAndRun(xt,ht).reshape(T?[1,D,I,a.outChannels]:[1,a.outChannels,D,I])},n.prototype.fusedConv2d=function(e){var r=e.input,a=e.filter,c=e.convInfo,h=e.bias,f=e.activation,m=e.preluActivationWeights;if(1===c.filterHeight&&1===c.filterWidth&&1===c.dilationHeight&&1===c.dilationWidth&&1===c.strideHeight&&1===c.strideWidth&&("SAME"===c.padInfo.type||"VALID"===c.padInfo.type))return this.conv2dByMatMul(r,a,c,h,f,m);if(se().getBool("WEBGL_CONV_IM2COL")&&1===r.shape[0])return this.conv2dWithIm2Row(r,a,c,h,f,m);var b=null!=h,_=null!=m,I=f?Vc(f,!1):null,D=new Bs(c,b,I,_),T=[r,a];return h&&T.push(h),m&&T.push(m),this.compileAndRun(D,T)},n.prototype.conv2d=function(e,r,a){if(1===a.filterHeight&&1===a.filterWidth&&1===a.dilationHeight&&1===a.dilationWidth&&1===a.strideHeight&&1===a.strideWidth&&("SAME"===a.padInfo.type||"VALID"===a.padInfo.type))return this.conv2dByMatMul(e,r,a);if(se().getBool("WEBGL_CONV_IM2COL")&&1===e.shape[0])return this.conv2dWithIm2Row(e,r,a);var c=new Bs(a);return this.compileAndRun(c,[e,r])},n.prototype.conv2dDerInput=function(e,r,a){var c=new cc(a);return this.compileAndRun(c,[e,r])},n.prototype.conv2dDerFilter=function(e,r,a){var c=new Eu(a);return this.compileAndRun(c,[e,r])},n.prototype.fusedDepthwiseConv2D=function(e){var r,a=e.input,c=e.filter,h=e.convInfo,f=e.bias,m=e.activation,b=e.preluActivationWeights,_=se().getBool("WEBGL_PACK_DEPTHWISECONV")&&h.strideWidth<=2&&h.outChannels/h.inChannels==1,I=m?Vc(m,_):null,D=[a,c],T=null!=f,z=null!=b;return T&&D.push(f),z&&D.push(b),_?(r=new Ch(h,T,I,z),this.compileAndRun(r,D)):(r=new _h(h,T,I,z),this.compileAndRun(r,D))},n.prototype.depthwiseConv2D=function(e,r,a){var c;return se().getBool("WEBGL_PACK_DEPTHWISECONV")&&a.strideWidth<=2&&a.outChannels/a.inChannels==1?(c=new Ch(a),this.compileAndRun(c,[e,r])):(c=new _h(a),this.compileAndRun(c,[e,r]))},n.prototype.depthwiseConv2DDerInput=function(e,r,a){var c=new ig(a);return this.compileAndRun(c,[e,r])},n.prototype.depthwiseConv2DDerFilter=function(e,r,a){var c=new Du(a);return this.compileAndRun(c,[e,r])},n.prototype.conv3d=function(e,r,a){var c=new rp(a);return this.compileAndRun(c,[e,r])},n.prototype.conv3dDerInput=function(e,r,a){var c=new np(a);return this.compileAndRun(c,[e,r])},n.prototype.conv3dDerFilter=function(e,r,a){var c=new Ia(a);return this.compileAndRun(c,[e,r])},n.prototype.maxPool=function(e,r){var a=new uc(r,"max",!1);return this.compileAndRun(a,[e])},n.prototype.avgPool=function(e,r){var a=new uc(r,"avg",!1);return this.compileAndRun(a,[e],"float32")},n.prototype.maxPoolBackprop=function(e,r,a,c){var h=new uc(c,"max",!0),f=this.compileAndRun(h,[r]),m=new Qs(c),b=this.compileAndRun(m,[e,f],r.dtype);return f.dispose(),b},n.prototype.avgPoolBackprop=function(e,r,a){var c=new ii(a);return this.compileAndRun(c,[e],r.dtype)},n.prototype.cast=function(e,r){return Xs(e,r,this)},n.prototype.unstack=function(e,r){for(var a=e.shape[r],c=new Array(e.rank-1),h=0,f=0;f<e.rank;f++)f!==r&&(c[h++]=e.shape[f]);var m=new Array(e.rank).fill(0),b=e.shape.slice();b[r]=1;var _=new Array(a);for(f=0;f<_.length;f++)m[r]=f,_[f]=this.slice(e,m,b).reshape(c);return _},n.prototype.avgPool3d=function(e,r){var a=new $c(r,"avg",!1);return this.compileAndRun(a,[e],"float32")},n.prototype.avgPool3dBackprop=function(e,r,a){var c=new So(a);return this.compileAndRun(c,[e],r.dtype)},n.prototype.maxPool3d=function(e,r){var a=new $c(r,"max",!1);return this.compileAndRun(a,[e],"float32")},n.prototype.maxPool3dBackprop=function(e,r,a,c){var h=new $c(c,"max",!0),f=this.compileAndRun(h,[r]),m=new hp(c),b=this.compileAndRun(m,[e,f],r.dtype);return f.dispose(),b},n.prototype.reshape=function(e,r){var a=this.texData.get(e.dataId);if(a.isPacked&&!vi(e.shape,r)&&(null===a.texture||!vi(a.shape,r))){var c=this.packedReshape(e,r);return le.makeTensorFromDataId(c.dataId,c.shape,c.dtype)}return ms(e,r)},n.prototype.resizeBilinear=function(e,r,a,c){var h=se().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Ph(e.shape,r,a,c):new mp(e.shape,r,a,c);return this.compileAndRun(h,[e],"float32")},n.prototype.resizeBilinearBackprop=function(e,r,a){var c=new pp(e,r,a);return this.compileAndRun(c,[e])},n.prototype.resizeNearestNeighbor=function(e,r,a,c){var h=new Oh(e.shape,r,a,c);return this.compileAndRun(h,[e])},n.prototype.resizeNearestNeighborBackprop=function(e,r,a){var c=new gp(e,r,a);return this.compileAndRun(c,[e])},n.prototype.multinomial=function(e,r,a,c){var h=r?e:Ro(e),b=new fp(h.shape[0],h.shape[1],a),_=b.getCustomSetupFunc(c);return this.compileAndRun(b,[h],"int32",_)},n.prototype.oneHot=function(e,r,a,c){var h=new hg(e.size,r,a,c);return this.compileAndRun(h,[e])},n.prototype.diag=function(e){var r=new Co(e.size);return this.compileAndRun(r,[e])},n.prototype.nonMaxSuppression=function(e,r,a,c,h){return la("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),Ti(e.dataSync(),r.dataSync(),a,c,h)},n.prototype.cropAndResize=function(e,r,a,c,h,f){var m=new fd(e.shape,r.shape,c,h,f);return this.compileAndRun(m,[e,r,a],"float32")},n.prototype.depthToSpace=function(e,r,a){re(r>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+r});var c=e.shape[0],b=("NHWC"===a?e.shape[1]:e.shape[2])*r,_=("NHWC"===a?e.shape[2]:e.shape[3])*r,I=("NHWC"===a?e.shape[3]:e.shape[1])/(r*r),D=new wl("NHWC"===a?[c,b,_,I]:[c,I,b,_],r,a);return this.compileAndRun(D,[e])},n.prototype.split=function(e,r,a){return ac(e,r,a)},n.prototype.scatterND=function(e,r,a){var c=bl(0,e,a),h=c.sliceRank,f=c.numUpdates,m=c.sliceSize,b=c.strides,_=c.outputSize,I=[_/m,m],D=e.reshape([f,h]),T=r.reshape([f,m]);if(0===_)return ms(dt([]),a);var z=St(0),Q=new sl(f,h,D.rank,T.rank,b,I);return this.compileAndRun(Q,[T,D,z]).reshape(a)},n.prototype.sparseToDense=function(e,r,a,c){var h=bl(0,e,a),I=new sl(h.numUpdates,h.sliceRank,e.rank,r.rank,h.strides,[h.outputSize,1],!1);return this.compileAndRun(I,[r,e,c]).reshape(a)},n.prototype.fft=function(e){return this.fftImpl(e,!1)},n.prototype.ifft=function(e){return this.fftImpl(e,!0)},n.prototype.fftImpl=function(e,r){var a=this.texData.get(e.dataId),c=new sg("return real * expR - imag * expI;",e.shape,r),h=new sg("return real * expI + imag * expR;",e.shape,r),f=[this.makeComplexComponentTensorInfo(e,a.complexTensors.real),this.makeComplexComponentTensorInfo(e,a.complexTensors.imag)],m=this.compileAndRun(c,f),b=this.compileAndRun(h,f),_=this.complex(m,b).as2D(e.shape[0],e.shape[1]);return m.dispose(),b.dispose(),_},n.prototype.gatherND=function(e,r){var a=r.shape,c=a[a.length-1],h=is(e,r),f=h[0],m=h[1],b=h[2],_=h[3],I=r.reshape([m,c]),D=e.reshape([e.size/b,b]),T=new lg(c,_,[m,b]);return this.compileAndRun(T,[D,I]).reshape(f)},n.prototype.fill=function(e,r,a){if("string"===(a=a||Xr(r))){var c=Ae(a,je(e));return c.fill(r),le.makeTensor(c,e,a,this)}var h=new sp(e,r),f=h.getCustomSetupFunc(r);return this.compileAndRun(h,[],a,f)},n.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported under string dtype");return this.fill(e.shape,1,e.dtype)},n.prototype.zerosLike=function(e){return this.fill(e.shape,"string"===e.dtype?"":0,e.dtype)},n.prototype.linspace=function(e,r,a){return Fs(e,r,a)},n.prototype.makeTensorInfo=function(e,r){var a=this.write(null,e,r);return this.texData.get(a).usage=null,{dataId:a,shape:e,dtype:r}},n.prototype.makeOutput=function(e,r){var a=this.makeTensorInfo(e,r).dataId;return le.makeTensorFromDataId(a,e,r,this)},n.prototype.unpackTensor=function(e){var r=new Ig(e.shape);return this.runWebGLProgram(r,[e],e.dtype)},n.prototype.packTensor=function(e){var r=new Mh(e.shape);return this.runWebGLProgram(r,[e],e.dtype,null,!0)},n.prototype.packedReshape=function(e,r){var a=[Ki(e.shape)].concat(Fi(e.shape)),c={dtype:e.dtype,shape:a,dataId:e.dataId},h=[Ki(r)].concat(Fi(r)),f=new Rh(h,a),m=this.runWebGLProgram(f,[c],e.dtype,null,!0);return{dataId:m.dataId,shape:r,dtype:m.dtype}},n.prototype.decode=function(e){var r,a=this.texData.get(e),c=a.isPacked,h=a.shape,f=a.dtype,m=ea(h);return r=c?new op(m):new md(m),{dtype:f,shape:h,dataId:this.runWebGLProgram(r,[{shape:m,dtype:f,dataId:e}],f,null,!0).dataId}},n.prototype.runWebGLProgram=function(e,r,a,c,h){var f=this;void 0===h&&(h=!1);var m=this.makeTensorInfo(e.outputShape,a),b=this.texData.get(m.dataId);if(e.packedOutput&&(b.isPacked=!0),e.outPackingScheme===Zn.DENSE){var _=Dr(e.outputShape);b.texShape=_.map(function(me){return 2*me})}if(null!=e.outTexUsage&&(b.usage=e.outTexUsage),0===je(m.shape))return b.values=de(m.dtype,0),m;var I=[],D=r.map(function(me){if("complex64"===me.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var he=f.texData.get(me.dataId);if(null==he.texture){if(!e.packedInputs&&je(me.shape)<=se().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:me.shape,texData:null,isUniform:!0,uniformValues:he.values};e.packedInputs&&(he.isPacked=!0,he.shape=me.shape)}else if(!!he.isPacked!=!!e.packedInputs)me=he.isPacked?f.unpackTensor(me):f.packTensor(me),I.push(me),he=f.texData.get(me.dataId);else if(he.isPacked&&!vi(he.shape,me.shape)){var we=me,We=me.shape;me.shape=he.shape,me=f.packedReshape(me,We),I.push(me),he=f.texData.get(me.dataId),we.shape=We}return f.uploadToGPU(me.dataId),{shape:me.shape,texData:he,isUniform:!1}});this.uploadToGPU(m.dataId);var T,me,We,z={shape:m.shape,texData:b,isUniform:!1},Q=(me=e,We="",D.concat(z).forEach(function(ht){We+=ht.shape+"_"+(ht.isUniform?"uniform":ht.texData.texShape)+"_"+(null!=ht.texData&&null!=ht.texData.slice&&ht.texData.slice.flatOffset>0)}),me.constructor.name+"_"+We+"_"+me.userCode),Z=this.getAndSaveBinary(Q,function(){return function(me,he,we,We){var It=he.userCode,xt=we.map(function(jn,nr){var or={logicalShape:jn.shape,texShape:jn.isUniform?null:jn.texData.texShape,isUniform:jn.isUniform,isPacked:!jn.isUniform&&jn.texData.isPacked,flatOffset:null};return null!=jn.texData&&null!=jn.texData.slice&&jn.texData.slice.flatOffset>0&&(or.flatOffset=jn.texData.slice.flatOffset),{name:he.variableNames[nr],shapeInfo:or}}),ht=xt.map(function(jn){return jn.shapeInfo}),ft={logicalShape:We.shape,texShape:We.texData.texShape,isUniform:!1,isPacked:We.texData.isPacked,flatOffset:null},Zt=og(xt,ft,It,he.packedInputs),Gt=me.createProgram(Zt),Dn=null,On=me.getUniformLocation(Gt,"NAN",!1);1===se().getNumber("WEBGL_VERSION")&&(Dn=me.getUniformLocation(Gt,"INFINITY",!1));for(var Bn={},Jn=0;Jn<he.variableNames.length;Jn++){var Gn=he.variableNames[Jn];Bn[Gn]=me.getUniformLocation(Gt,Gn,!1),Bn["offset"+Gn]=me.getUniformLocation(Gt,"offset"+Gn,!1)}return{program:he,source:Zt,webGLProgram:Gt,uniformLocations:Bn,inShapeInfos:ht,outShapeInfo:ft,infLoc:Dn,nanLoc:On}}(f.gpgpu,e,D,z)}),ne=null!=this.activeTimers;if(ne&&(T=this.startTimer()),function(me,he,we,We,It){ts(he.inShapeInfos,we),ts([he.outShapeInfo],[We]);var xt=We.texData.texture,ht=We.texData.texShape;We.texData.isPacked?me.setOutputPackedMatrixTexture(xt,ht[0],ht[1]):me.setOutputMatrixTexture(xt,ht[0],ht[1]),me.setProgram(he.webGLProgram),1===se().getNumber("WEBGL_VERSION")&&null!==he.infLoc&&me.gl.uniform1f(he.infLoc,1/0),null!==he.nanLoc&&me.gl.uniform1f(he.nanLoc,NaN),we.forEach(function(ft,Zt){var Gt=he.program.variableNames[Zt],Dn=he.uniformLocations[Gt],On=he.uniformLocations["offset"+Gt];if(null!=Dn)if(ft.isUniform)if(je(ft.shape)<2)me.gl.uniform1f(Dn,ft.uniformValues[0]);else{var Bn=ft.uniformValues;Bn instanceof Float32Array||(Bn=new Float32Array(Bn)),me.gl.uniform1fv(Dn,Bn)}else null!=ft.texData.slice&&null!=On&&me.gl.uniform1i(On,ft.texData.slice.flatOffset),me.setInputMatrixTexture(ft.texData.texture,Dn,Zt)}),null!=It&&It(me,he.webGLProgram),me.executeProgram()}(this.gpgpu,Z,D,z,c),I.forEach(function(me){return f.disposeData(me.dataId)}),ne&&(T=this.endTimer(T),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(T)})),!se().getBool("WEBGL_LAZILY_UNPACK")&&b.isPacked&&!1===h){var fe=this.unpackTensor(m);return this.disposeData(m.dataId),fe}return m},n.prototype.compileAndRun=function(e,r,a,c,h){void 0===h&&(h=!1);var f=this.runWebGLProgram(e,r,a=a||r[0].dtype,c,h);return le.makeTensorFromDataId(f.dataId,f.shape,f.dtype)},n.prototype.getAndSaveBinary=function(e,r){return e in this.binaryCache||(this.binaryCache[e]=r()),this.binaryCache[e]},n.prototype.getTextureManager=function(){return this.textureManager},n.prototype.dispose=function(){var e=this;this.disposed||(se().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(function(r){e.gpgpu.deleteProgram(e.binaryCache[r].webGLProgram),delete e.binaryCache[r]}),this.textureManager.dispose(),null!=this.canvas&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},n.prototype.floatPrecision=function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=Nt(function(){if(!se().get("WEBGL_RENDER_FLOAT32_ENABLED")){var r=se().getBool("DEBUG");se().set("DEBUG",!1);var a=e.abs(St(1e-8)).dataSync()[0];if(se().set("DEBUG",r),a>0)return 32}return 16})),this.floatPrecisionValue},n.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},n.prototype.uploadToGPU=function(e){var r,a=this.texData.get(e),c=a.shape,h=a.dtype,f=a.values,b=a.usage,_=a.isPacked;if(null==a.texture){var I,D=null!=this.activeTimers;D&&(I=rn());var T=a.texShape;if(null==T&&(T=ja(c,_),a.texShape=T),null!=f){var z=ea(c),Q=void 0,Z=T[1],ne=T[0],fe=f instanceof Uint8Array;_?(Z=(r=Po(T[0],T[1]))[0],Q=new A0(z,[ne=r[1],Z],fe)):Q=new ap(z,[ne,Z],fe);var me=this.makeTensorInfo([ne,Z],h);this.texData.get(me.dataId).usage=fe?qn.PIXELS:qn.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(me.dataId),Z,ne,f);var he=this.runWebGLProgram(Q,[me],h,null,!0),we=this.texData.get(he.dataId);a.texture=we.texture,a.texShape=we.texShape,a.isPacked=we.isPacked,a.usage=we.usage,this.disposeData(me.dataId),this.texData.delete(he.dataId),a.values=null,D&&(this.uploadWaitMs+=rn()-I)}else{var We=this.acquireTexture(T,b,h,_);a.texture=We}}},n.prototype.convertAndCacheOnCPU=function(e,r){var a=this.texData.get(e),c=a.dtype;return this.releaseGPUData(e),null!=r&&(a.values=function(h,f){if("float32"===f||"complex64"===f)return h;if("int32"===f||"bool"===f){for(var m="int32"===f?new Int32Array(h.length):new Uint8Array(h.length),b=0;b<m.length;++b)m[b]=Math.round(h[b]);return m}throw new Error("Unknown dtype "+f)}(r,c)),a.values},n.prototype.acquireTexture=function(e,r,a,c){if(this.numBytesInGPU+=this.computeBytes(e,a),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var h=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+h+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(e,r,c)},n.prototype.computeBytes=function(e,r){return e[0]*e[1]*Xt(r)},n}(Di);zt()&&le.registerBackend("webgl",function(){return new Nu},2);var $h=$({square_:function(i){var n=Ve(i,"x","square");return le.runKernelFunc(function(r,a){return a([n]),r.square(n)},{x:n},null,"Square",{},[n],[])}}),Id="SquaredDifference",jh=$({squaredDifference_:function(i,n){var e,r=Ve(i,"a","squaredDifference"),a=Ve(n,"b","squaredDifference");return e=jt(r,a),yo((r=e[0]).shape,(a=e[1]).shape),le.runKernelFunc(function(f,m){var b=f.squaredDifference(r,a);return m([r,a]),b},{a:r,b:a},function(f,m){var b=m[0],_=m[1],I=St(2);return{a:function(){return f.mul(b.sub(_).mul(I))},b:function(){return f.mul(_.sub(b).mul(I))}}},Id,{},[r,a],[])}}),Eg=$({abs_:function(i){var n=Ve(i,"x","abs");return"complex64"===n.dtype?le.runKernelFunc(function(e){return e.complexAbs(n)},{$x:n}):le.runKernelFunc(function(e,r){var a=e.abs(n);return r([n]),a},{x:n},function(e,r){var a=r[0];return{x:function(){return e.mul(a.toFloat().step(-1))}}},"Abs")}}),Ip=$({acos_:function(i){var n=Ve(i,"x","acos");return le.runKernelFunc(function(e,r){var a=e.acos(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return e.divStrict(St(1).sub(a.toFloat().square()).sqrt()).neg()}}})}}),Dg=$({acosh_:function(i){var n=Ve(i,"x","acosh");return le.runKernelFunc(function(e,r){var a=e.acosh(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return e.divStrict(a.toFloat().square().sub(1).sqrt())}}})}}),kg=$({asin_:function(i){var n=Ve(i,"x","asin");return le.runKernelFunc(function(e,r){var a=e.asin(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return e.divStrict(St(1).sub(a.toFloat().square()).sqrt())}}})}}),Ed=$({asinh_:function(i){var n=Ve(i,"x","asinh");return le.runKernelFunc(function(e,r){var a=e.asinh(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return e.divStrict(St(1).add(a.toFloat().square()).sqrt())}}})}}),fc=$({atan_:function(i){var n=Ve(i,"x","atan");return le.runKernelFunc(function(e,r){var a=e.atan(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return e.div(a.toFloat().square().add(1))}}})}}),M0=$({atanh_:function(i){var n=Ve(i,"x","atanh");return le.runKernelFunc(function(e,r){var a=e.atanh(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return e.div(St(1).sub(a.toFloat().square()))}}})}}),Ep=$({ceil_:function(i){var n=Ve(i,"x","ceil");return le.runKernelFunc(function(e){return e.ceil(n)},{$x:n},function(e){return{$x:function(){return No(e)}}})}}),Hc=$({clipByValue_:function(i,n,e){var r=Ve(i,"x","clipByValue");return re(n<=e,function(){return"Error in clip: min ("+n+") must be less than or equal to max ("+e+")."}),le.runKernelFunc(function(h,f){var m=h.clip(r,n,e);return f([r]),m},{x:r},function(h,f){var m=f[0];return{x:function(){return h.where(m.greaterEqual(n).logicalAnd(m.lessEqual(e)),No(h))}}},"ClipByValue",{min:n,max:e},[r])}}),Cl=$({cos_:function(i){var n=Ve(i,"x","cos");return le.runKernelFunc(function(r,a){var c=r.cos(n);return a([n]),c},{x:n},function(r,a){var c=a[0];return{x:function(){return c.toFloat().sin().neg().mul(r)}}},"Cos",{},[n])}}),Fu=$({cosh_:function(i){var n=Ve(i,"x","cosh");return le.runKernelFunc(function(e,r){var a=e.cosh(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return a.toFloat().sinh().mulStrict(e)}}})}}),Ea=$({erf_:function(i){var n=Ve(i,"x","erf");return re("int32"===n.dtype||"float32"===n.dtype,function(){return"Input dtype must be `int32` or `float32`."}),"int32"===n.dtype&&(n=n.toFloat()),le.runKernelFunc(function(e,r){var a=e.erf(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return e.mul(a.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}})}}),Dp=$({exp_:function(i){var n=Ve(i,"x","exp");return le.runKernelFunc(function(e,r){var a=e.exp(n);return r([a]),a},{x:n},function(e,r){return{x:function(){return e.mulStrict(r[0])}}},"Exp",{},[],[!0])}}),kp=$({expm1_:function(i){var n=Ve(i,"x","expm1");return le.runKernelFunc(function(e,r){var a=e.expm1(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return e.mul(a.exp())}}})}}),zh=$({floor_:function(i){var n=Ve(i,"x","floor");return le.runKernelFunc(function(e){return e.floor(n)},{$x:n},function(e){return{$x:function(){return No(e)}}})}}),Sg=$({log_:function(i){var n=Ve(i,"x","log");return le.runKernelFunc(function(r,a){var c=r.log(n);return a([n]),c},{x:n},function(r,a){var c=a[0];return{x:function(){return r.div(c.toFloat())}}},"Log",{},[n])}}),Uh=$({log1p_:function(i){var n=Ve(i,"x","log1p");return le.runKernelFunc(function(e,r){var a=e.log1p(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return e.div(a.add(1))}}})}}),Dd=$({logSigmoid_:function(i){var n=Ve(i,"x","logSigmoid");return le.runKernelFunc(function(e,r){var a=e.softplus(n.neg()).neg();return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return e.mul(a.neg().sigmoid())}}})}}),kd=$({neg_:function(i){var n=Ve(i,"x","neg");return le.runKernelFunc(function(r){return r.neg(n)},{x:n},function(r){return{x:function(){return r.neg()}}},"Neg",{},[n])}}),Sp=$({reciprocal_:function(i){var n=Ve(i,"x","reciprocal");return le.runKernelFunc(function(e,r){var a=e.reciprocal(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return e.div(a.square().neg())}}})}}),Vh=$({round_:function(i){var n=Ve(i,"x","round");return le.runKernelFunc(function(e){return e.round(n)},{$x:n},function(e){return{$x:function(){return No(e)}}})}}),Lu=$({rsqrt_:function(i){var n=Ve(i,"x","rsqrt");return le.runKernelFunc(function(r,a){var c=r.rsqrt(n);return a([n]),c},{x:n},function(r,a){var c=a[0];return{x:function(){return r.div(c.pow(1.5).mul(2)).neg()}}},"Rsqrt",{},[n])}}),Hh=$({sigmoid_:function(i){var n=Ve(i,"x","sigmoid");return le.runKernelFunc(function(e,r){var a=e.sigmoid(n);return r([a]),a},{x:n},function(e,r){var a=r[0];return{x:function(){return e.mul(a.mul(St(1).sub(a)))}}},"Sigmoid")}}),Ag=$({sign_:function(i){var n=Ve(i,"x","sign");return le.runKernelFunc(function(e){return e.sign(n)},{$x:n},function(e){return{$x:function(){return No(e)}}})}}),R0=$({isNaN_:function(i){var n=Ve(i,"x","isNaN");return le.runKernelFunc(function(e){return e.isNaN(n)},{$x:n},function(e){return{$x:function(){return No(e)}}})}}),Tg=$({isInf_:function(i){var n=Ve(i,"x","isInf");return le.runKernelFunc(function(e){return e.isInf(n)},{$x:n},function(e){return{$x:function(){return No(e)}}})}}),Mg=$({isFinite_:function(i){var n=Ve(i,"x","isFinite");return le.runKernelFunc(function(e){return e.isFinite(n)},{$x:n},function(e){return{$x:function(){return No(e)}}})}}),Rg=$({sin_:function(i){var n=Ve(i,"x","sin");return le.runKernelFunc(function(r,a){var c=r.sin(n);return a([n]),c},{x:n},function(r,a){var c=a[0];return{x:function(){return c.toFloat().cos().mul(r)}}},"Sin",{},[n])}}),Ap=$({sinh_:function(i){var n=Ve(i,"x","sinh");return le.runKernelFunc(function(e,r){var a=e.sinh(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return a.toFloat().cosh().mulStrict(e)}}})}}),Tp=$({softplus_:function(i){var n=Ve(i,"x","softplus");return le.runKernelFunc(function(e,r){var a=e.softplus(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return e.mul(a.sigmoid())}}})}}),Pg=$({sqrt_:function(i){var n=Ve(i,"x","sqrt");return le.runKernelFunc(function(e,r){var a=e.sqrt(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return e.div(a.toFloat().sqrt().mul(2))}}})}}),Jy=$({step_:function(i,n){void 0===n&&(n=0);var e=Ve(i,"x","step");return le.runKernelFunc(function(r){return r.step(e,n)},{$x:e},function(r){return{$x:function(){return No(r)}}})}}),Mp=$({tan_:function(i){var n=Ve(i,"x","tan");return le.runKernelFunc(function(e,r){var a=e.tan(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return e.div(a.cos().square())}}})}}),Og=$({tanh_:function(i){var n=Ve(i,"x","tanh");return le.runKernelFunc(function(e,r){var a=e.tanh(n);return r([a]),a},{x:n},function(e,r){var a=r[0];return{x:function(){return St(1).sub(a.square()).mulStrict(e)}}},"Tanh",{},null,[!0])}});function ns(i,n,e,r,a,c){var h,f,m=Ve(i,"x","batchNorm"),b=Ve(n,"mean","batchNorm"),_=Ve(e,"variance","batchNorm");return null!=a&&(h=Ve(a,"scale","batchNorm")),null!=r&&(f=Ve(r,"offset","batchNorm")),re(2===m.rank,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+m.rank+"."}),re(2===b.rank||1===b.rank,function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+b.rank+"."}),re(2===_.rank||1===_.rank,function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+_.rank+"."}),null!=h&&re(2===h.rank||1===h.rank,function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+h.rank+"."}),null!=f&&re(2===f.rank||1===f.rank,function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+f.rank+"."}),Gh(m,b,_,f,h,c)}function Ng(i,n,e,r,a,c){var h,f,m=Ve(i,"x","batchNorm"),b=Ve(n,"mean","batchNorm"),_=Ve(e,"variance","batchNorm");return null!=a&&(h=Ve(a,"scale","batchNorm")),null!=r&&(f=Ve(r,"offset","batchNorm")),re(3===m.rank,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+m.rank+"."}),re(3===b.rank||1===b.rank,function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+b.rank+"."}),re(3===_.rank||1===_.rank,function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+_.rank+"."}),null!=h&&re(3===h.rank||1===h.rank,function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+h.rank+"."}),null!=f&&re(3===f.rank||1===f.rank,function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+f.rank+"."}),Gh(m,b,_,f,h,c)}function Wh(i,n,e,r,a,c){var h,f,m=Ve(i,"x","batchNorm"),b=Ve(n,"mean","batchNorm"),_=Ve(e,"variance","batchNorm");return null!=a&&(h=Ve(a,"scale","batchNorm")),null!=r&&(f=Ve(r,"offset","batchNorm")),re(4===m.rank,function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+m.rank+"."}),re(4===b.rank||1===b.rank,function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+b.rank+"."}),re(4===_.rank||1===_.rank,function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+_.rank+"."}),null!=h&&re(4===h.rank||1===h.rank,function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+h.rank+"."}),null!=f&&re(4===f.rank||1===f.rank,function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+f.rank+"."}),Gh(m,b,_,f,h,c)}function Gh(i,n,e,r,a,c){null==c&&(c=.001);var h,f,m,b=Ve(i,"x","batchNorm"),_=Ve(n,"mean","batchNorm"),I=Ve(e,"variance","batchNorm");return null!=a&&(h=Ve(a,"scale","batchNorm")),null!=r&&(f=Ve(r,"offset","batchNorm")),re(_.rank===I.rank,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),re(null==f||_.rank===f.rank,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),re(null==h||_.rank===h.rank,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}),m=0===b.rank||1===b.rank?b.as4D(1,1,1,b.size):2===b.rank?b.as4D(1,1,b.shape[0],b.shape[1]):3===b.rank?b.as4D(1,b.shape[0],b.shape[1],b.shape[2]):b,le.runKernelFunc(function(T,z){var Q=T.batchNormalization(m,Bu(_),Bu(I),c,Bu(h),Bu(f));return z([b,_,I,h]),Q},{x:b,mean:_,variance:I,scale:h,offset:f},function(T,z){var Z=z[0],ne=z[1],fe=z[2],me=z[3],he=null==me?St(1):me,we=Xo(ne.shape,m.shape),We=[];if(1===ne.rank){for(var It=0;It<m.shape.length-1;++It)We.push(m.shape[It]);We.push(1)}var xt=Z.sub(ne),ht=T.mul(he),ft=Lu(fe.add(St(c))),Zt=ft.mul(ft).mul(ft).mul(St(-.5));return{x:function(){return 1===ne.rank?T.mul(ol(ft.as4D(1,1,1,ne.shape[0]),We)).mul(he).reshape(Z.shape):T.mul(ft).mul(he).reshape(Z.shape)},mean:function(){var Gt=ft.mul(St(-1)).mul(ht);return 1===ne.rank&&(Gt=Gt.sum(we)),Gt.reshape(ne.shape)},variance:function(){var Gt=Zt.mul(xt).mul(ht);return 1===ne.rank&&(Gt=Gt.sum(we)),Gt.reshape(ne.shape)},scale:function(){var Gt=xt.mul(ft),Dn=T.mul(Gt);return 1===ne.rank&&(Dn=Dn.sum(we)),Dn.reshape(ne.shape)},offset:function(){var Gt=T;return 1===ne.rank&&(Gt=Gt.sum(we)),Gt.reshape(ne.shape)}}},"BatchNormalization",{varianceEpsilon:c},[b,_,I,h]).reshape(b.shape)}function Bu(i){return null==i?null:0===i.rank?i.as1D():1===i.rank?i:2===i.rank?i.as4D(1,1,i.shape[0],i.shape[1]):3===i.rank?i.as4D(1,i.shape[0],i.shape[1],i.shape[2]):i}function Rp(){q("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var Xh=$({batchNormalization2d_:function(i,n,e,r,a,c){return void 0===r&&(r=.001),Rp(),ns(i,n,e,c,a,r)}}),Pp=$({batchNormalization3d_:function(i,n,e,r,a,c){return void 0===r&&(r=.001),Rp(),Ng(i,n,e,c,a,r)}}),Wc=$({batchNormalization4d_:function(i,n,e,r,a,c){return void 0===r&&(r=.001),Rp(),Wh(i,n,e,c,a,r)}}),P0=$({batchNormalization_:function(i,n,e,r,a,c){return void 0===r&&(r=.001),Rp(),Gh(i,n,e,c,a,r)}}),Op=$({batchNorm_:Gh}),Gc=$({batchNorm2d_:ns}),O0=$({batchNorm3d_:Ng}),Fg=$({batchNorm4d_:Wh}),vs=$({logicalAnd_:function(i,n){var e=Ve(i,"a","logicalAnd","bool"),r=Ve(n,"b","logicalAnd","bool");return yo(e.shape,r.shape),le.runKernelFunc(function(a){return a.logicalAnd(e,r)},{a:e,b:r},null,"LogicalAnd")}}),Kh=$({logicalNot_:function(i){var n=Ve(i,"x","logicalNot","bool");return le.runKernelFunc(function(e){return e.logicalNot(n)},{$x:n})}}),qh=$({logicalOr_:function(i,n){var e=Ve(i,"a","logicalOr","bool"),r=Ve(n,"b","logicalOr","bool");return yo(e.shape,r.shape),le.runKernelFunc(function(a){return a.logicalOr(e,r)},{$a:e,$b:r})}}),Lg=$({logicalXor_:function(i,n){var e=Ve(i,"a","logicalXor","bool"),r=Ve(n,"b","logicalXor","bool");return yo(e.shape,r.shape),qh(i,n).logicalAnd(vs(i,n).logicalNot())}}),Xc=$({where_:function(i,n,e){var r=Ve(n,"a","where"),a=Ve(e,"b","where"),c=Ve(i,"condition","where","bool");return rt(r.shape,a.shape,"Error in where: "),1===c.rank?re(c.shape[0]===r.shape[0],function(){return"The first dimension of `a` must match the size of `condition`."}):rt(c.shape,a.shape,"Error in where: "),le.runKernelFunc(function(h,f){var m=h.select(c,r,a);return f([c]),m},{$condition:c,$a:r,$b:a},function(h,f){var m=f[0];return{$condition:function(){return No(m).toFloat()},$a:function(){return h.mul(m.cast(h.dtype))},$b:function(){return h.mul(m.logicalNot().cast(h.dtype))}}})}}),Sd=function(i){return _e(this,void 0,void 0,function(){var n,e,r;return J(this,function(a){switch(a.label){case 0:return[4,(n=Ve(i,"condition","whereAsync","bool")).data()];case 1:return e=a.sent(),r=Oc(n.shape,e),i!==n&&n.dispose(),[2,r]}})})},Bo=$({add_:function(i,n){var e,r=Ve(i,"a","add"),a=Ve(n,"b","add");e=jt(r,a);var c=yo((r=e[0]).shape,(a=e[1]).shape);return le.runKernelFunc(function(h){return h.add(r,a)},{a:r,b:a},function(h){return{a:function(){var f=h,m=Xo(r.shape,c);return m.length>0&&(f=f.sum(m)),f.reshape(r.shape)},b:function(){var f=h,m=Xo(a.shape,c);return m.length>0&&(f=f.sum(m)),f.reshape(a.shape)}}},"Add")}}),N0=$({addN_:function(i){re(Array.isArray(i),function(){return"The argument passed to tf.addN() must be a list of tensors"}),re(i.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+i.length});var n=i.map(function(a,c){return Ve(a,"tensors"+c,"addN")}),e=n[0];return n.forEach(function(a){if(a.dtype!==e.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),n.forEach(function(a){if(!Lt(a.shape,e.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}),le.runKernelFunc(function(a){return a.addN(n)},n,function(a){var c={};return n.forEach(function(h,f){c[f]=function(){return a.clone()}}),c},"AddN")}}),Gi=$({addStrict_:function(i,n){var e=Ve(i,"a","addStrict"),r=Ve(n,"b","addStrict");return rt(e.shape,r.shape,"Error in addStrict: "),e.add(r)}}),F0=$({atan2_:function(i,n){var e,r=Ve(i,"a","atan2"),a=Ve(n,"b","atan2");e=jt(r,a);var c=yo((r=e[0]).shape,(a=e[1]).shape);return le.runKernelFunc(function(h,f){var m=h.atan2(r,a);return f([r,a]),m},{$a:r,$b:a},function(h,f){var m=f[0],b=f[1];return{$a:function(){var _=Bo(m.square(),b.square()),I=h.mul(b.div(_)),D=Xo(m.shape,c);return D.length>0&&(I=I.sum(D)),I.reshape(m.shape)},$b:function(){var _=Bo(m.square(),b.square()),I=kd(h.mul(m.div(_))),D=Xo(b.shape,c);return D.length>0&&(I=I.sum(D)),I.reshape(b.shape)}}})}}),Ms=$({div_:function(i,n){var e,r=Ve(i,"a","div"),a=Ve(n,"b","div");if(e=jt(r,a),a=e[1],"int32"===(r=e[0]).dtype&&"int32"===a.dtype)return Yh(r,a);var c=yo(r.shape,a.shape);return le.runKernelFunc(function(h,f){var m=h.realDivide(r,a);return f([r,a]),m},{a:r,b:a},function(h,f){var m=f[0],b=f[1];return{a:function(){var _=h.div(b.toFloat()),I=Xo(m.shape,c);return I.length>0?_.sum(I).reshape(m.shape):_},b:function(){var _=h.mul(m.toFloat()),I=Xo(b.shape,c);I.length>0&&(_=_.sum(I).reshape(b.shape));var D=b.square();return _.div(D.toFloat()).neg()}}},"Div")}}),Bg=$({divNoNan_:function(i,n){var e,r=Ve(i,"a","div"),a=Ve(n,"b","div");r=(e=jt(r,a))[0];var c=Ms(r,a=e[1]),h=No(c),f=a.equal(h);return Xc(f,h,c)}}),$g=$({divStrict_:function(i,n){var e=Ve(i,"a","div"),r=Ve(n,"b","div");return rt(e.shape,r.shape,"Error in divideStrict: "),e.div(r)}}),Yh=$({floorDiv_:function(i,n){var e,r=Ve(i,"a","floorDiv"),a=Ve(n,"b","floorDiv");e=jt(r,a);var c=yo((r=e[0]).shape,(a=e[1]).shape);return le.runKernelFunc(function(h,f){var m=h.floorDiv(r,a);return f([r,a]),m},{a:r,b:a},function(h,f){var m=f[0],b=f[1];return{a:function(){var _=h.div(b.toFloat()),I=Xo(m.shape,c);return I.length>0?_.sum(I).reshape(m.shape):_},b:function(){var _=h.mul(m.toFloat()),I=Xo(b.shape,c);I.length>0&&(_=_.sum(I).reshape(b.shape));var D=b.square();return _.div(D.toFloat()).neg()}}},"FloorDiv")}}),Ad=$({maximum_:function(i,n){var e,r=Ve(i,"a","maximum"),a=Ve(n,"b","maximum");return e=jt(r,a),a=e[1],"bool"===(r=e[0]).dtype&&(r=r.toInt(),a=a.toInt()),yo(r.shape,a.shape),le.runKernelFunc(function(c,h){var f=c.maximum(r,a);return h([r,a]),f},{a:r,b:a},function(c,h){var f=h[0],m=h[1];return{a:function(){return c.mul(f.greaterEqual(m).toFloat())},b:function(){return c.mul(f.less(m).toFloat())}}},"Maximum")}}),jg=$({maximumStrict_:function(i,n){var e=Ve(i,"a","maximumStrict"),r=Ve(n,"b","maximumStrict");return rt(e.shape,r.shape,"Error in maximumStrict: "),e.maximum(r)}}),Td=$({minimum_:function(i,n){var e,r=Ve(i,"a","minimum"),a=Ve(n,"b","minimum");return e=jt(r,a),a=e[1],"bool"===(r=e[0]).dtype&&(r=r.toInt(),a=a.toInt()),yo(r.shape,a.shape),le.runKernelFunc(function(c,h){var f=c.minimum(r,a);return h([r,a]),f},{a:r,b:a},function(c,h){var f=h[0],m=h[1];return{a:function(){return c.mul(f.lessEqual(m).toFloat())},b:function(){return c.mul(f.greater(m).toFloat())}}},"Minimum")}}),zg=$({minimumStrict_:function(i,n){var e=Ve(i,"a","minimumStrict"),r=Ve(n,"b","minimumStrict");return rt(e.shape,r.shape,"Error in minimumStrict: "),e.minimum(r)}}),Md=$({mod_:function(i,n){var e,r=Ve(i,"a","mod"),a=Ve(n,"b","mod");e=jt(r,a);var c=yo((r=e[0]).shape,(a=e[1]).shape);return le.runKernelFunc(function(h,f){var m=h.mod(r,a);return f([r,a]),m},{$a:r,$b:a},function(h,f){var m=f[0],b=f[1];return{$a:function(){var _=Xo(m.shape,c);return _.length>0?h.sum(_).reshape(m.shape):h},$b:function(){var _=h.mul(m.div(b).floor().neg()),I=Xo(b.shape,c);return I.length>0?_.sum(I).reshape(b.shape):_}}})}}),Np=$({modStrict_:function(i,n){var e=Ve(i,"a","modStrict"),r=Ve(n,"b","modStrict");return rt(e.shape,r.shape,"Error in modStrict: "),e.mod(r)}}),rs=$({mul_:function(i,n){var e,r=Ve(i,"a","mul"),a=Ve(n,"b","mul");e=jt(r,a);var c=yo((r=e[0]).shape,(a=e[1]).shape);return le.runKernelFunc(function(h,f){var m=h.multiply(r,a);return f([r,a]),m},{a:r,b:a},function(h,f){var m=f[0],b=f[1];return{a:function(){var _=h.mul(b.toFloat()),I=Xo(m.shape,c);return I.length>0?_.sum(I).reshape(m.shape):_},b:function(){var _=h.mul(m.toFloat()),I=Xo(b.shape,c);return I.length>0?_.sum(I).reshape(b.shape):_}}},"Mul")}}),ll=$({mulStrict_:function(i,n){var e=Ve(i,"a","mul"),r=Ve(n,"b","mul");return rt(e.shape,r.shape,"Error in multiplyStrict: "),e.mul(r)}}),Rd=$({pow_:function(i,n){var e,r=Ve(i,"base","pow"),a=Ve(n,"exp","pow");e=jt(r,a);var c=yo((r=e[0]).shape,(a=e[1]).shape);return le.runKernelFunc(function(f,m){var b=f.pow(r,a);return m([r,a,b]),b},{a:r,b:a},function(f,m){var b=m[0],_=m[1],I=m[2];return{a:function(){var D=_.toFloat(),T=f.mul(D.mul(b.pow(D.sub(St(1))))),z=Xo(b.shape,c);return z.length>0&&(T=T.sum(z)),T.reshape(b.shape)},b:function(){var D=b.greater(0),T=b.log().where(D,No(b)),z=f.mul(I.mul(T)),Q=Xo(_.shape,c);return Q.length>0&&(z=z.sum(Q)),z.reshape(_.shape)}}},"Pow",{},[r,a],[!0])}}),Pd=$({powStrict_:function(i,n){return rt(i.shape,n.shape,"Error in powStrict: "),i.pow(n)}}),L0=$({squaredDifferenceStrict_:function(i,n){var e=Ve(i,"a","squaredDifferenceStrict"),r=Ve(n,"b","squaredDifferenceStrict");return rt(e.shape,r.shape,"Error in squaredDifferenceStrict: "),e.squaredDifference(r)}}),Wa=$({sub_:function(i,n){var e,r=Ve(i,"a","sub"),a=Ve(n,"b","sub");e=jt(r,a);var c=yo((r=e[0]).shape,(a=e[1]).shape);return le.runKernelFunc(function(h){return h.subtract(r,a)},{a:r,b:a},function(h){return{a:function(){var f=h,m=Xo(r.shape,c);return m.length>0&&(f=f.sum(m)),f.reshape(r.shape)},b:function(){var f=h,m=Xo(a.shape,c);return m.length>0&&(f=f.sum(m)),f.neg().reshape(a.shape)}}},"Sub")}}),B0=$({subStrict_:function(i,n){var e=Ve(i,"a","subStrict"),r=Ve(n,"b","subStrict");return rt(e.shape,r.shape,"Error in subStrict: "),e.sub(r)}}),$0=$({equal_:function(i,n){var e,r=Ve(i,"a","equal"),a=Ve(n,"b","equal");return e=jt(r,a),yo((r=e[0]).shape,(a=e[1]).shape),le.runKernelFunc(function(c){return c.equal(r,a)},{$a:r,$b:a})}}),j0=$({equalStrict_:function(i,n){var e=Ve(i,"a","equalStrict"),r=Ve(n,"b","equalStrict");return rt(e.shape,r.shape,"Error in equalStrict: "),e.equal(r)}}),z0=$({greater_:function(i,n){var e,r=Ve(i,"a","greater"),a=Ve(n,"b","greater");return e=jt(r,a),yo((r=e[0]).shape,(a=e[1]).shape),le.runKernelFunc(function(c){return c.greater(r,a)},{a:r,b:a},null,"Greater")}}),pc=$({greaterEqual_:function(i,n){var e,r=Ve(i,"a","greaterEqual"),a=Ve(n,"b","greaterEqual");return e=jt(r,a),yo((r=e[0]).shape,(a=e[1]).shape),le.runKernelFunc(function(c,h){var f=c.greaterEqual(r,a);return h([r,a]),f},{a:r,b:a},function(c,h){var f=h[0],m=h[1];return{a:function(){return No(f)},b:function(){return No(m)}}},"GreaterEqual")}}),$u=$({greaterEqualStrict_:function(i,n){var e=Ve(i,"a","greaterEqualStrict"),r=Ve(n,"b","greaterEqualStrict");return rt(e.shape,r.shape,"Error in greaterEqualStrict: "),e.greaterEqual(r)}}),Fp=$({greaterStrict_:function(i,n){var e=Ve(i,"a","greaterStrict"),r=Ve(n,"b","greaterStrict");return rt(e.shape,r.shape,"Error in greaterStrict: "),e.greater(r)}}),Ug=$({less_:function(i,n){var e,r=Ve(i,"a","less"),a=Ve(n,"b","less");return e=jt(r,a),yo((r=e[0]).shape,(a=e[1]).shape),le.runKernelFunc(function(c){return c.less(r,a)},{a:r,b:a},null,"Less")}}),Lp=$({lessEqual_:function(i,n){var e,r=Ve(i,"a","lessEqual"),a=Ve(n,"b","lessEqual");return e=jt(r,a),yo((r=e[0]).shape,(a=e[1]).shape),le.runKernelFunc(function(c,h){var f=c.lessEqual(r,a);return h([r,a]),f},{a:r,b:a},null,"LessEqual")}}),ju=$({lessEqualStrict_:function(i,n){var e=Ve(i,"a","lessEqualStrict"),r=Ve(n,"b","lessEqualStrict");return rt(e.shape,r.shape,"Error in lessEqualStrict: "),e.lessEqual(r)}}),U0=$({lessStrict_:function(i,n){var e=Ve(i,"a","lessStrict"),r=Ve(n,"b","lessStrict");return rt(e.shape,r.shape,"Error in lessStrict: "),e.less(r)}}),Zh=$({notEqual_:function(i,n){var e,r=Ve(i,"a","notEqual"),a=Ve(n,"b","notEqual");return e=jt(r,a),yo((r=e[0]).shape,(a=e[1]).shape),le.runKernelFunc(function(c){return c.notEqual(r,a)},{a:r,b:a},null,"NotEqual")}}),Vg=$({notEqualStrict_:function(i,n){var e=Ve(i,"a","notEqualStrict"),r=Ve(n,"b","notEqualStrict");return rt(e.shape,r.shape,"Error in notEqualStrict: "),e.notEqual(r)}});function Kc(i,n){for(var e=[],r=i;r<n;++r)e.push(r);return e}function qc(i){for(var n=[],e=0;e<i.length;++e)for(var r=0;r<i[e].length;++r)n.push(i[e][r]);return n}var Od=$({gather_:function(i,n,e){void 0===e&&(e=0);var r=Ve(i,"x","gather"),a=Ve(n,"indices","gather","int32");e=Ue(e,r.shape)[0];var c=function(h,f,m){for(var b=h.shape[m],_=[],I=1,D=1,T=0;T<m;T++)_.push(h.shape[T]),I*=h.shape[T];for(T=0;T<f.rank;T++)_.push(f.shape[T]);for(T=m+1;T<h.rank;T++)_.push(h.shape[T]),D*=h.shape[T];return{batchSize:I,sliceSize:D,dimSize:b,outputShape:_}}(r,a,e);return le.runKernelFunc(function(h,f){var m=h.gather(r,a.flatten(),e);return f([a]),m},{x:r,indices:a},function(h,f){var m=f[0];return{x:function(){var b=r.shape,_=m.size,I=b.slice(0,e),D=I.length,T=b.slice(e,b.length).slice(1),z=T.length,Q=Kc(0,D),Z=Kc(D+1,D+1+z),ne=qc([I,[_],T]),fe=h.reshape(ne),me=m.reshape([_]),he=qc([[D],Q,Z]),we=fe.transpose(he),We=Nd(we,me,r.shape[e]),It=di(he);return We.transpose(It)},indices:function(){return m}}},"Gather",{axis:e}).reshape(c.outputShape)}}),Nd=$({unsortedSegmentSum_:function(i,n,e){var r=Ve(i,"x","unsortedSegmentSum"),a=Ve(n,"segmentIds","unsortedSegmentSum","int32");return re(Bt(e),function(){return"numSegments must be of dtype int"}),le.runKernelFunc(function(c,h){var f=c.unsortedSegmentSum(r,a,e);return h([a]),f},{$x:r},function(c,h){var f=h[0];return{$x:function(){return function(m,b){for(var _=Ad(b,No(b)),I=Od(m,_),D=pc(b,St(0,"int32")),T=I.rank-D.rank,z=0;z<T;++z)D=ps(D,z+1);D=vs(D,Qo(I.shape,"bool"));var Q=No(I);return Xc(D,I,Q)}(c,f)}}})}});function Wg(i,n,e,r,a,c,h){void 0===c&&(c="NHWC"),re(i.length===n.rank,function(){return"Length of inShape ("+i.length+") and rank of dy ("+n.rank+") must match"});var f=i,m=n,b=!1;3===n.rank&&(b=!0,m=n.as4D(1,n.shape[0],n.shape[1],n.shape[2]),f=[1,i[0],i[1],i[2]]),re(4===f.length,function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+f.length+"."}),re(4===m.rank,function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+m.rank}),re(4===e.rank,function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+e.rank});var _="NHWC"===c?f[3]:f[1],I="NHWC"===c?m.shape[3]:m.shape[1];re(_===e.shape[2],function(){return"Error in conv2dDerInput: depth of input ("+_+") must match input depth for filter "+e.shape[2]+"."}),re(I===e.shape[3],function(){return"Error in conv2dDerInput: depth of output ("+I+") must match output depth for filter "+e.shape[3]+"."}),null!=h&&re(Bt(a),function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+h+" but got pad "+a+"."});var D=il(c),T=ma(f,e.shape,r,1,a,h,!1,D),z=le.runKernelFunc(function(Q,Z){var ne=Q.conv2dDerInput(m,e,T);return Z([e,m]),ne},{dy4D:m,filter:e},function(Q,Z){var ne=Z[0],fe=Z[1];return{dy4D:function(){return Js(Q,ne,r,a,c,1,h)},filter:function(){return Fd(Q,fe,ne.shape,r,a,c,h)}}});return b?z.as3D(z.shape[1],z.shape[2],z.shape[3]):z}function Qh(i){var c,n="number"==typeof(c=i)?[c,c,c]:2===c.length?[c[0],c[1],1]:c;return 1===n[0]&&1===n[1]&&1===n[2]}function Jh(i,n,e,r,a){re(i.length===n.rank,function(){return"Length of inShape ("+i.length+") and rank of dy ("+n.rank+") must match"});var c=i,h=n,f=!1;4===n.rank&&(f=!0,h=n.as5D(1,n.shape[0],n.shape[1],n.shape[2],n.shape[3]),c=[1,i[0],i[1],i[2],i[3]]);var m=c[4],b=h.shape[4];re(5===c.length,function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+c.length+"."}),re(5===h.rank,function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+h.rank}),re(5===e.rank,function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+e.rank}),re(m===e.shape[3],function(){return"Error in conv3dDerInput: depth of input ("+m+") must match input depth for filter "+e.shape[3]+"."}),re(b===e.shape[4],function(){return"Error in conv3dDerInput: depth of output ("+b+") must match output depth for filter "+e.shape[4]+"."});var _=qr(c,e.shape,r,1,a),I=le.runKernelFunc(function(D){return D.conv3dDerInput(h,e,_)},{dy5D:h});return f?I.as4D(I.shape[1],I.shape[2],I.shape[3],I.shape[4]):I}var bs=$({conv1d_:function(i,n,e,r,a,c,h){void 0===a&&(a="NWC"),void 0===c&&(c=1);var f=Ve(i,"x","conv1d"),m=Ve(n,"filter","conv1d"),b=f,_=!1;2===f.rank&&(_=!0,b=f.as3D(1,f.shape[0],f.shape[1])),re(3===b.rank,function(){return"Error in conv1d: input must be rank 3, but got rank "+b.rank+"."}),re(3===m.rank,function(){return"Error in conv1d: filter must be rank 3, but got rank "+m.rank+"."}),null!=h&&re(Bt(r),function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+h+" but got pad "+r+"."}),re(b.shape[2]===m.shape[1],function(){return"Error in conv1d: depth of input ("+b.shape[2]+") must match input depth for filter "+m.shape[1]+"."}),re(Bi(e,c),function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+e+" and dilation '"+c+"'"}),re("NWC"===a,function(){return"Error in conv1d: got dataFormat of "+a+" but only NWC is currently supported."});var I=m.as4D(1,m.shape[0],m.shape[1],m.shape[2]),D=b.as4D(b.shape[0],1,b.shape[1],b.shape[2]),T=Js(D,I,[1,e],r,"NHWC",[1,c],h);return _?T.as2D(T.shape[2],T.shape[3]):T.as3D(T.shape[0],T.shape[2],T.shape[3])}}),Js=$({conv2d_:function(i,n,e,r,a,c,h){void 0===a&&(a="NHWC"),void 0===c&&(c=[1,1]);var f=Ve(i,"x","conv2d"),m=Ve(n,"filter","conv2d"),b=f,_=!1;3===f.rank&&(_=!0,b=f.as4D(1,f.shape[0],f.shape[1],f.shape[2])),re(4===b.rank,function(){return"Error in conv2d: input must be rank 4, but got rank "+b.rank+"."}),re(4===m.rank,function(){return"Error in conv2d: filter must be rank 4, but got rank "+m.rank+"."}),null!=h&&re(Bt(r),function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+h+" but got pad "+r+"."});var I="NHWC"===a?b.shape[3]:b.shape[1];re(I===m.shape[2],function(){return"Error in conv2d: depth of input ("+I+") must match input depth for filter "+m.shape[2]+"."}),re(Bi(e,c),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+e+" and dilations '"+c+"'"});var D=il(a),T=ma(b.shape,m.shape,e,c,r,h,!1,D),Q=le.runKernelFunc(function(Z,ne){var fe=Z.conv2d(b,m,T);return ne([m,b]),fe},{x:b,filter:m},function(Z,ne){var me=ne[0],he=ne[1];return re(Es(c),function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+c+"'"}),{x:function(){return Bp(he.shape,Z,me,e,r,a)},filter:function(){return Fd(he,Z,me.shape,e,r,a)}}},"Conv2D",T,[m,b]);return _?Q.as3D(Q.shape[1],Q.shape[2],Q.shape[3]):Q}}),Rs=$({conv3d_:function(i,n,e,r,a,c){void 0===a&&(a="NDHWC"),void 0===c&&(c=[1,1,1]);var T,h=Ve(i,"x","conv3d"),f=Ve(n,"filter","conv3d"),m=h,b=!1;4===h.rank&&(b=!0,m=h.as5D(1,h.shape[0],h.shape[1],h.shape[2],h.shape[3])),re(5===m.rank,function(){return"Error in conv3d: input must be rank 5, but got rank "+m.rank+"."}),re(5===f.rank,function(){return"Error in conv3d: filter must be rank 5, but got rank "+f.rank+"."}),re(m.shape[4]===f.shape[3],function(){return"Error in conv3d: depth of input ("+m.shape[4]+") must match input depth for filter "+f.shape[3]+"."}),re((T=c,Qh(e)||Qh(T)),function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+e+" and dilations '"+c+"'"}),re("NDHWC"===a,function(){return"Error in conv3d: got dataFormat of "+a+" but only NDHWC is currently supported."});var _=qr(m.shape,f.shape,e,c,r),I=le.runKernelFunc(function(D,T){var z=D.conv3d(m,f,_);return T([m,f]),z},{x:m,$filter:f},function(D,T){re(Qh(c),function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+c+"'"});var z=T[0],Q=T[1];return{x:function(){return Jh(z.shape,D,Q,e,r)},$filter:function(){return function(Z,ne,fe,me,he){var we=Z;4===Z.rank&&(we=Z.as5D(1,Z.shape[0],Z.shape[1],Z.shape[2],Z.shape[3]));var We=ne;4===We.rank&&(We=ne.as5D(1,ne.shape[0],ne.shape[1],ne.shape[2],ne.shape[3])),re(5===we.rank,function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+we.shape+"."}),re(5===We.rank,function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+We.shape+"."}),re(5===fe.length,function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+fe+"."}),re(we.shape[4]===fe[3],function(){return"Error in conv3dDerFilter: depth of input "+we.shape[4]+") must match input depth in filter ("+fe[3]+"."}),re(We.shape[4]===fe[4],function(){return"Error in conv3dDerFilter: depth of dy ("+We.shape[4]+") must match output depth for filter ("+fe[4]+")."});var It=qr(we.shape,fe,me,1,he);return le.runKernelFunc(function(xt){return xt.conv3dDerFilter(we,We,It)},{x5D:we,dy5D:We})}(z,D,Q.shape,e,r)}}});return b?I.as4D(I.shape[1],I.shape[2],I.shape[3],I.shape[4]):I}}),Fd=$({conv2dDerFilter_:function(i,n,e,r,a,c,h){void 0===c&&(c="NHWC");var f=i;3===i.rank&&(f=i.as4D(1,i.shape[0],i.shape[1],i.shape[2]));var m=n;3===m.rank&&(m=n.as4D(1,n.shape[0],n.shape[1],n.shape[2])),re(4===f.rank,function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+f.shape+"."}),re(4===m.rank,function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+m.shape+"."}),re(4===e.length,function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+e+"."});var b="NHWC"===c?f.shape[3]:f.shape[1],_="NHWC"===c?m.shape[3]:m.shape[1];re(b===e[2],function(){return"Error in conv2dDerFilter: depth of input "+b+") must match input depth in filter ("+e[2]+"."}),re(_===e[3],function(){return"Error in conv2dDerFilter: depth of dy ("+_+") must match output depth for filter ("+e[3]+")."}),null!=h&&re(Bt(a),function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+h+" but got pad "+a+"."});var I=il(c),D=ma(f.shape,e,r,1,a,h,!1,I);return le.runKernelFunc(function(T){return T.conv2dDerFilter(f,m,D)},{x4D:f,dy4D:m})}}),Bp=$({conv2dDerInput_:Wg}),Yc=$({depthwiseConv2d_:function(i,n,e,r,a,c,h){void 0===a&&(a="NHWC"),void 0===c&&(c=[1,1]);var f=Ve(i,"x","depthwiseConv2d"),m=Ve(n,"filter","depthwiseConv2d"),b=f,_=!1;3===f.rank&&(_=!0,b=f.as4D(1,f.shape[0],f.shape[1],f.shape[2])),re(4===b.rank,function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+b.rank+"."}),re(4===m.rank,function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+m.rank+"."}),re(b.shape[3]===m.shape[2],function(){return"Error in depthwiseConv2d: number of input channels ("+b.shape[3]+") must match the inChannels dimension in filter "+m.shape[2]+"."}),null==c&&(c=[1,1]),re(Bi(e,c),function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+e+" and dilations '"+c+"'"}),null!=h&&re(Bt(r),function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+h+" but got pad "+r+"."});var I=ma(b.shape,m.shape,e,c,r,h,!0),T=le.runKernelFunc(function(z,Q){var Z=z.depthwiseConv2D(b,m,I);return Q([b,m]),Z},{x:b,filter:m},function(z,Q){re(Es(c),function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+c+"'"});var Z=Q[0],ne=Q[1];return{x:function(){return V0(Z.shape,z,ne,I)},filter:function(){return H0(Z,z,ne.shape,I)}}},"DepthwiseConv2dNative",I,[b,m]);return _?T.as3D(T.shape[1],T.shape[2],T.shape[3]):T}}),V0=$({depthwiseConv2dDerInput_:function(i,n,e,r){var a=n,c=!1;3===n.rank&&(c=!0,a=n.as4D(1,n.shape[0],n.shape[1],n.shape[2]));var h=le.runKernelFunc(function(f){return f.depthwiseConv2DDerInput(a,e,r)},{dy4D:a});return c?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}}),H0=$({depthwiseConv2dDerFilter_:function(i,n,e,r){var a=i;3===i.rank&&(a=i.as4D(1,i.shape[0],i.shape[1],i.shape[2]));var c=n;return 3===c.rank&&(c=n.as4D(1,n.shape[0],n.shape[1],n.shape[2])),le.runKernelFunc(function(h){return h.depthwiseConv2DDerFilter(a,c,r)},{x4D:a,dy4D:c})}}),Oa=$({separableConv2d_:function(i,n,e,r,a,c,h){void 0===c&&(c=[1,1]),void 0===h&&(h="NHWC");var f=Ve(i,"x","separableConv2d"),m=Ve(n,"depthwiseFilter","separableConv2d"),b=Ve(e,"pointwiseFilter","separableConv2d"),_=f,I=!1;if(3===f.rank&&(I=!0,_=f.as4D(1,f.shape[0],f.shape[1],f.shape[2])),"NCHW"===h)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");re(4===_.rank,function(){return"Error in separableConv2d: input must be rank 4, but got rank "+_.rank+"."}),re(4===m.rank,function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+m.rank+"."}),re(4===b.rank,function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+m.rank+"."}),re(1===b.shape[0],function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+b.shape[0]+"."}),re(1===b.shape[1],function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+b.shape[1]+"."});var D=m.shape[2],T=m.shape[3];re(b.shape[2]===D*T,function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+D*T+", but got "+b.shape[2]+"."});var z=Yc(_,m,r,a,h,c),Q=Js(z,b,1,"valid",h);return I?Q.as3D(Q.shape[1],Q.shape[2],Q.shape[3]):Q}}),zu=$({conv2dTranspose_:function(i,n,e,r,a,c){return Wg(e,Ve(i,"x","conv2dTranspose"),Ve(n,"filter","conv2dTranspose"),r,a,"NHWC",c)}}),Gg=$({conv3dTranspose_:function(i,n,e,r,a){return Jh(e,Ve(i,"x","conv3dTranspose"),Ve(n,"filter","conv3dTranspose"),r,a)}}),Ld=$({matMul_:function(i,n,e,r){var a;void 0===e&&(e=!1),void 0===r&&(r=!1);var c=Ve(i,"a","matMul"),h=Ve(n,"b","matMul");a=jt(c,h),c=a[0],h=a[1];var f=e?c.shape[c.rank-2]:c.shape[c.rank-1],m=r?h.shape[h.rank-1]:h.shape[h.rank-2],b=e?c.shape[c.rank-1]:c.shape[c.rank-2],_=r?h.shape[h.rank-2]:h.shape[h.rank-1],I=c.shape.slice(0,-2),D=h.shape.slice(0,-2),T=je(I),z=je(D);re(c.rank>=2&&h.rank>=2&&c.rank===h.rank,function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+c.rank+" and "+h.rank+"."}),re(Lt(I,D),function(){return"Error in matMul: outer dimensions ("+I+") and ("+D+") of Tensors with shapes "+c.shape+" and "+h.shape+" must match."}),re(f===m,function(){return"Error in matMul: inner shapes ("+f+") and ("+m+") of Tensors with shapes "+c.shape+" and "+h.shape+" and transposeA="+e+" and transposeB="+r+" must match."});var Q=c.shape.slice(0,-2).concat([b,_]),Z=e?c.as3D(T,f,b):c.as3D(T,b,f),ne=r?h.as3D(z,_,m):h.as3D(z,m,_);return le.runKernelFunc(function(me,he){var we=me.batchMatMul(Z,ne,e,r);return he([Z,ne]),we},{a:Z,b:ne},function(me,he){var We=he[0],It=he[1];return e||r?!e&&r?{a:function(){return me.matMul(It,!1,!1)},b:function(){return me.matMul(We,!0,!1)}}:e&&!r?{a:function(){return It.matMul(me,!1,!0)},b:function(){return We.matMul(me,!1,!1)}}:{a:function(){return It.matMul(me,!0,!0)},b:function(){return me.matMul(We,!0,!0)}}:{a:function(){return me.matMul(It,!1,!0)},b:function(){return We.matMul(me,!0,!1)}}},"BatchMatMul",{transposeA:e,transposeB:r}).reshape(Q)}}),W0=$({dot_:function(i,n){var e=Ve(i,"t1","dot"),r=Ve(n,"t2","dot");re(!(1!==e.rank&&2!==e.rank||1!==r.rank&&2!==r.rank),function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+e.rank+" and "+r.rank+"."});var a=1===e.rank?e.size:e.shape[1],c=1===r.rank?r.size:r.shape[0];return re(a===c,function(){return"Error in dot: inner dimensions of inputs must match, but got "+a+" and "+c+"."}),1===e.rank&&1===r.rank?e.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():1===e.rank&&2===r.rank?e.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():2===e.rank&&1===r.rank?e.matMul(r.as2D(-1,1)).as1D():e.matMul(r.as2D(r.shape[0],r.shape[1]))}}),Xg=$({outerProduct_:function(i,n){var e=Ve(i,"v1","outerProduct"),r=Ve(n,"v2","outerProduct");return re(1===e.rank&&1===r.rank,function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+e.rank+" and "+r.rank+"."}),e.as2D(-1,1).matMul(r.as2D(1,-1))}}),Uu=$({reverse_:function(i,n){var e=Ve(i,"x","reverse");if(0===e.rank)return e.clone();var r=Ue(n,e.shape);return le.runKernelFunc(function(a){return a.reverse(e,r)},{$x:e},function(a){return{$x:function(){return a.reverse(r)}}}).reshapeAs(e)}}),$p=$({reverse1d_:function(i){var n=Ve(i,"x","reverse");return re(1===n.rank,function(){return"Error in reverse1D: x must be rank 1 but got rank "+n.rank+"."}),Uu(n,0)}}),cl=$({reverse2d_:function(i,n){var e=Ve(i,"x","reverse");return re(2===e.rank,function(){return"Error in reverse2D: x must be rank 2 but got rank "+e.rank+"."}),Uu(e,n)}}),Kg=$({reverse3d_:function(i,n){var e=Ve(i,"x","reverse");return re(3===e.rank,function(){return"Error in reverse3D: x must be rank 3 but got rank "+e.rank+"."}),Uu(e,n)}}),el=$({reverse4d_:function(i,n){var e=Ve(i,"x","reverse");return re(4===e.rank,function(){return"Error in reverse4D: x must be rank 4 but got rank "+e.rank+"."}),Uu(e,n)}});function qg(i,n,e,r,a,c){var h=Ve(i,"x","maxPool"),f=h,m=!1;3===h.rank&&(m=!0,f=h.as4D(1,h.shape[0],h.shape[1],h.shape[2])),null==r&&(r=[1,1]),re(4===f.rank,function(){return"Error in maxPool: input must be rank 4 but got rank "+f.rank+"."}),re(Bi(e,r),function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+e+" and dilations '"+r+"'"}),null!=c&&re(Bt(a),function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+c+" but got pad "+a+"."});var b=ui(f.shape,n,e,r,a,c);if(1===b.filterWidth&&1===b.filterHeight&&Lt(b.inShape,b.outShape))return h.clone();var I=le.runKernelFunc(function(D,T){var z=D.maxPool(f,b);return T([f,z]),z},{x:f},function(D,T){var z=T[0],Q=T[1];return{x:function(){return function(Z,ne,fe,me,he,we,We){var xt=Ve(Z,"dy","maxPoolBackprop"),ht=Ve(ne,"input","maxPoolBackprop"),ft=Ve(fe,"output","maxPoolBackprop");re(ht.rank===xt.rank,function(){return"Rank of input ("+ht.rank+") does not match rank of dy ("+xt.rank+")"}),null==we&&(we=[1,1]),re(Bi(he,we),function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+he+" and dilations '"+we+"'"}),re(4===xt.rank,function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+xt.rank+"."}),re(4===ht.rank,function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+ht.rank+"."});var Zt=ui(ht.shape,me,he,we,We,void 0);return le.runKernelFunc(function(Gt){return Gt.maxPoolBackprop(xt,ht,ft,Zt)},{$dy:xt,$input:ht})}(D,z,Q,n,e,r,a)}}},"MaxPool",b,[f]);return m?I.as3D(I.shape[1],I.shape[2],I.shape[3]):I}function Yg(i,n,e,r,a,c){var h=Ve(i,"x","avgPool","float32");null==r&&(r=[1,1]),re(Bi(e,r),function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+e+" and dilations '"+r+"'"});var f=h,m=!1;3===h.rank&&(m=!0,f=h.as4D(1,h.shape[0],h.shape[1],h.shape[2])),re(4===f.rank,function(){return"Error in avgPool: x must be rank 4 but got rank "+f.rank+"."}),null!=c&&re(Bt(a),function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+c+" but got pad "+a+"."});var b=ui(f.shape,n,e,r,a,c);if(1===b.filterWidth&&1===b.filterHeight&&Lt(b.inShape,b.outShape))return h.clone();var _=le.runKernelFunc(function(I){return I.avgPool(f,b)},{x:f},function(I){return{x:function(){return function(D,T,z,Q,Z,ne){var fe=Ve(D,"dy","avgPoolBackprop"),me=Ve(T,"input","avgPoolBackprop");re(me.rank===fe.rank,function(){return"Rank of input ("+me.rank+") does not match rank of dy ("+fe.rank+")"}),null==Z&&(Z=[1,1]),re(Bi(Q,Z),function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+Q+" and dilations '"+Z+"'"});var he=me,we=fe,We=!1;3===me.rank&&(We=!0,he=me.as4D(1,me.shape[0],me.shape[1],me.shape[2]),we=fe.as4D(1,fe.shape[0],fe.shape[1],fe.shape[2])),re(4===we.rank,function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+we.rank+"."}),re(4===he.rank,function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+he.rank+"."});var It=ui(he.shape,z,Q,Z,ne),xt=le.runKernelFunc(function(ht){return ht.avgPoolBackprop(we,he,It)},{dy4D:we,input4D:he});return We?xt.as3D(xt.shape[1],xt.shape[2],xt.shape[3]):xt}(I,f,n,e,r,a)}}},"AvgPool",b);return _=_.cast(h.dtype),m?_.as3D(_.shape[1],_.shape[2],_.shape[3]):_}var Ga=$({maxPool_:function(i,n,e,r,a){return qg(i,n,e,1,r,a)}}),Vu=$({avgPool_:function(i,n,e,r,a){return Yg(i,n,e,1,r,a)}}),jp=$({pool_:function(i,n,e,r,a,c){null==a&&(a=[1,1]),null==c&&(c=1),0===r&&(r="valid");var h=Ve(i,"x","maxPool"),f=h,m=!1;3===h.rank&&(m=!0,f=h.as4D(1,h.shape[0],h.shape[1],h.shape[2])),re(Bi(c,a),function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+c+" and dilations '"+a+"'"});var b,we,We,It,xt,_=ui(f.shape,n,c,a,r),I=[_.dilationHeight,_.dilationWidth];b="same"===r?(we=I,We=[_.filterHeight,_.filterWidth].map(function(ht,ft){return ht+(ht-1)*(we[ft]-1)}).map(function(ht){return ht-1}),It=We.map(function(ht){return Math.floor(ht/2)}),xt=We.map(function(ht,ft){return ht-It[ft]}),We.map(function(ht,ft){return[It[ft],xt[ft]]})):[[0,0],[0,0]];var D=1===I[0]&&1===I[1],T=function(he,we,We){var It=We.map(function(On){return On[0]}),xt=We.map(function(On){return On[1]}),ht=he.concat(It,xt),ft=we.map(function(On,Bn){return(On-ht[Bn]%On)%On}),Zt=xt.map(function(On,Bn){return On+ft[Bn]});return[we.map(function(On,Bn){return[It[Bn],Zt[Bn]]}),we.map(function(On,Bn){return[0,ft[Bn]]})]}([_.inHeight,_.inWidth],I,b),Q=T[1],Z=D?r:"valid",ne=D?f:vu(f,I,T[0]),fe=("avg"===e?function(){return Yg(ne,n,c,1,Z)}:function(){return qg(ne,n,c,1,Z)})(),me=D?fe:Vi(fe,I,Q);return m?me.as3D(me.shape[1],me.shape[2],me.shape[3]):me}}),Zg=$({maxPool3d_:function(i,n,e,r,a,c,h){void 0===c&&(c="NDHWC");var f=Ve(i,"x","maxPool3d"),m=f,b=!1;4===f.rank&&(b=!0,m=f.as5D(1,f.shape[0],f.shape[1],f.shape[2],f.shape[3])),null==h&&(h=[1,1,1]),re(5===m.rank,function(){return"Error in maxPool3d: x must be rank 5 but got rank "+m.rank+"."}),re("NDHWC"===c,function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+c}),re(Bi(e,h),function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+e+" and dilations '"+h+"'"}),null!=a&&re(Bt(r),function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."});var _=Ai(m.shape,n,e,h,r,a,c),I=le.runKernelFunc(function(D,T){var z=D.maxPool3d(m,_);return T([m,z]),z},{x:m},function(D,T){var z=T[0],Q=T[1];return{x:function(){return function(Z,ne,fe,me,he,we,We,It){var xt=Ve(Z,"dy","maxPool3dBackprop"),ht=Ve(ne,"input","maxPool3dBackprop"),ft=Ve(fe,"output","maxPool3dBackprop"),Zt=xt,Gt=ht,Dn=ft,On=!1;4===ht.rank&&(On=!0,Zt=xt.as5D(1,xt.shape[0],xt.shape[1],xt.shape[2],xt.shape[3]),Gt=ht.as5D(1,ht.shape[0],ht.shape[1],ht.shape[2],ht.shape[3]),Dn=ft.as5D(1,ft.shape[0],ft.shape[1],ft.shape[2],ft.shape[3])),re(5===Zt.rank,function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+Zt.rank+"."}),re(5===Gt.rank,function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+Gt.rank+"."}),re(5===Dn.rank,function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+Dn.rank+"."}),null==we&&(we=[1,1,1]),re(Bi(he,we),function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+he+" and dilations '"+we+"'"}),null!=It&&re(Bt(We),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+It+" but got pad "+We+"."});var Bn=Ai(Gt.shape,me,he,we,We,It),Jn=le.runKernelFunc(function(Gn){return Gn.maxPool3dBackprop(Zt,Gt,Dn,Bn)},{dy5D:Zt,input5D:Gt});return On?Jn.as4D(Jn.shape[1],Jn.shape[2],Jn.shape[3],Jn.shape[4]):Jn}(D,z,Q,n,e,h,r,a)}}});return b?I.as4D(I.shape[1],I.shape[2],I.shape[3],I.shape[4]):I}}),ef=$({avgPool3d_:function(i,n,e,r,a,c,h){void 0===c&&(c="NDHWC");var f=Ve(i,"x","avgPool3d","float32"),m=f,b=!1;4===f.rank&&(b=!0,m=f.as5D(1,f.shape[0],f.shape[1],f.shape[2],f.shape[3])),null==h&&(h=[1,1,1]),re(5===m.rank,function(){return"Error in avgPool3d: x must be rank 5 but got rank "+m.rank+"."}),re("NDHWC"===c,function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+c}),re(Bi(e,h),function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+e+" and dilations '"+h+"'"}),null!=a&&re(Bt(r),function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."});var _=Ai(m.shape,n,e,h,r,a,c),I=le.runKernelFunc(function(D){return D.avgPool3d(m,_)},{x:m},function(D){return{x:function(){return function(T,z,Q,Z,ne,fe,me){var he=Ve(T,"dy","avgPool3dBackprop"),we=Ve(z,"input","avgPool3dBackprop"),We=he,It=we,xt=!1;4===we.rank&&(xt=!0,We=he.as5D(1,he.shape[0],he.shape[1],he.shape[2],he.shape[3]),It=we.as5D(1,we.shape[0],we.shape[1],we.shape[2],we.shape[3])),re(5===We.rank,function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+We.rank+"."}),re(5===It.rank,function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+It.rank+"."}),null==ne&&(ne=[1,1,1]),re(Bi(Z,ne),function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+Z+" and dilations '"+ne+"'"}),null!=me&&re(Bt(fe),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+me+" but got pad "+fe+"."});var ht=Ai(It.shape,Q,Z,ne,fe,me),ft=le.runKernelFunc(function(Zt){return Zt.avgPool3dBackprop(We,It,ht)},{dy5D:We,input5D:It});return xt?ft.as4D(ft.shape[1],ft.shape[2],ft.shape[3],ft.shape[4]):ft}(D,m,n,e,h,r,a)}}});return I=I.cast(m.dtype),b?I.as4D(I.shape[1],I.shape[2],I.shape[3],I.shape[4]):I}}),ul=$({slice_:function(i,n,e){var r,a,c=Ve(i,"x","slice");if(0===c.rank)throw new Error("Slicing scalar is not possible");(r="number"==typeof n?[n].concat(new Array(c.rank-1).fill(0)):n.length<c.rank?n.concat(new Array(c.rank-n.length).fill(0)):n.slice()).forEach(function(m){re(-1!==m,function(){return"slice() does not support negative begin indexing."})}),a=(a=null==e?new Array(c.rank).fill(-1):"number"==typeof e?[e].concat(new Array(c.rank-1).fill(-1)):e.length<c.rank?e.concat(new Array(c.rank-e.length).fill(-1)):e).map(function(m,b){return m>=0?m:(re(-1===m,function(){return"Negative size values should be exactly -1 but got "+m+" for the slice() size at index "+b+"."}),c.shape[b]-r[b])}),ee(c,r,a);var h=c.shape;return le.runKernelFunc(function(m){return m.slice(c,r,a)},{x:c},function(m){for(var b=[],_=0;_<m.rank;_++)b.push([r[_],h[_]-r[_]-a[_]]);return{x:function(){return m.pad(b)}}},"Slice",{begin:r,size:a})}}),Qg=$({slice1d_:function(i,n,e){var r=Ve(i,"x","slice1d");return re(1===r.rank,function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"}),ul(r,[n],[e])}}),Jg=$({slice2d_:function(i,n,e){var r=Ve(i,"x","slice2d");return re(2===r.rank,function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"}),ul(r,n,e)}}),zp=$({slice3d_:function(i,n,e){var r=Ve(i,"x","slice3d");return re(3===r.rank,function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"}),ul(r,n,e)}}),G0=$({slice4d_:function(i,n,e){var r=Ve(i,"x","slice4d");return re(4===r.rank,function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"}),ul(r,n,e)}});function ev(i,n,e,r,a){return n.rank<e.rank&&(n=n.reshape(yi(n.shape,r))),i.rank<e.rank&&(i=i.reshape(yi(i.shape,r))),{x:function(){var c=i.mul(e.equal(n).cast(i.dtype));return null==a?c:c.transpose(a)}}}var X0=$({all_:function(i,n,e){void 0===n&&(n=null),void 0===e&&(e=!1);var r=Ve(i,"x","all","bool"),a=Ue(n,r.shape),c=a,h=ca(c,r.rank);null!=h&&(r=r.transpose(h),c=Yi(c.length,r.rank));var f=le.runKernelFunc(function(b){return b.all(r,c)},{$x:r});if(e){var m=yi(f.shape,a);return f.reshape(m)}return f}}),K0=$({any_:function(i,n,e){void 0===n&&(n=null),void 0===e&&(e=!1);var r=Ve(i,"x","any","bool"),a=Ue(n,r.shape),c=a,h=ca(c,r.rank);null!=h&&(r=r.transpose(h),c=Yi(c.length,r.rank));var f=le.runKernelFunc(function(b){return b.any(r,c)},{$x:r});if(e){var m=yi(f.shape,a);return f.reshape(m)}return f}}),tv=$({argMax_:function(i,n){void 0===n&&(n=0);var e=Ve(i,"x","argMax");null==n&&(n=0);var r=Ue(n,e.shape),a=ca(r,e.rank);return null!=a&&(e=e.transpose(a),r=Yi(r.length,e.rank)),le.runKernelFunc(function(f,m){var b=f.argMax(e,r[0]);return m([e]),b},{x:e},function(f,m){var b=m[0];return{x:function(){return No(b)}}},"ArgMax",{axis:r[0]},[e])}}),ex=$({argMin_:function(i,n){void 0===n&&(n=0);var e=Ve(i,"x","argMin");null==n&&(n=0);var r=Ue(n,e.shape),a=ca(r,e.rank);return null!=a&&(e=e.transpose(a),r=Yi(r.length,e.rank)),le.runKernelFunc(function(c,h){var f=c.argMin(e,r[0]);return h([e]),f},{$x:e},function(c,h){var f=h[0];return{$x:function(){return No(f)}}})}}),nv=$({logSumExp_:function(i,n,e){void 0===n&&(n=null),void 0===e&&(e=!1);var r=Ve(i,"x","logSumExp"),a=Ue(n,r.shape),c=r.max(a,!0),h=r.sub(c).exp().sum(a).log(),f=c.reshape(h.shape).add(h);if(e){var m=yi(f.shape,a);return f.reshape(m)}return f}}),tf=$({max_:function(i,n,e){void 0===n&&(n=null),void 0===e&&(e=!1);var r=Ve(i,"x","max"),a=r,c=Ue(n,r.shape),h=c,f=ca(h,r.rank);null!=f&&(r=r.transpose(f),h=Yi(h.length,r.rank));var b=le.runKernelFunc(function(I,D){var T=I.max(r,h);return D([a,T]),T},{x:r},function(I,D){return ev(I,D[1],D[0],c,f)},"Max",{axes:h},[r],[!0]);if(e){var _=yi(b.shape,c);b=b.reshape(_)}return b}}),q0=$({mean_:function(i,n,e){void 0===n&&(n=null),void 0===e&&(e=!1);var r=Ve(i,"x","mean"),a=Ue(n,r.shape),c=je(Ei(r.shape,a)[1]);return wi(function(h){var f=St(c);return{value:(f.dtype===h.dtype?h:h.cast(f.dtype)).div(f).sum(n,e),gradFunc:function(m){var b=h.shape.slice();return a.forEach(function(_){b[_]=1}),m.reshape(b).mul(Qo(h.shape,"float32")).div(c)}}})(r)}}),tx=$({min_:function(i,n,e){void 0===n&&(n=null),void 0===e&&(e=!1);var r=Ve(i,"x","min"),a=r,c=Ue(n,r.shape),h=c,f=ca(h,r.rank);null!=f&&(r=r.transpose(f),h=Yi(h.length,r.rank));var b=le.runKernelFunc(function(I,D){var T=I.min(r,h);return D([a,T]),T},{x:r},function(I,D){return ev(I,D[1],D[0],c,f)},"Min",{axes:h},[r],[!0]);if(e){var _=yi(b.shape,c);b=b.reshape(_)}return b}}),Y0=$({moments_:function(i,n,e){void 0===n&&(n=null),void 0===e&&(e=!1);var r=Ue(n,(i=Ve(i,"x","moments")).shape),a=i.mean(r,e),c=a.shape;e||(c=yi(a.shape,r));var h=i.toFloat().sub(a.reshape(c)).square();return{mean:a,variance:h.mean(r,e)}}}),Up=$({sum_:function(i,n,e){void 0===n&&(n=null),void 0===e&&(e=!1);var r=Ve(i,"x","sum");"bool"===r.dtype&&(r=r.toInt());var a=Ue(n,r.shape);return wi(function(c){var h=ca(a,c.rank),f=a,m=c;null!=h&&(m=c.transpose(h),f=Yi(f.length,c.rank));var b=function(T){var z=c.shape.slice();return a.forEach(function(Q){z[Q]=1}),T.reshape(z).mul(Qo(c.shape,"float32"))},I=le.runKernelFunc(function(T){return T.sum(m,f)},{x:m},function(T){return{x:function(){return b(T)}}},"Sum",{axes:f});if(e){var D=yi(I.shape,a);I=I.reshape(D)}return{value:I,gradFunc:b}})(r)}}),Vp=$({prod_:function(i,n,e){void 0===n&&(n=null),void 0===e&&(e=!1);var r=Ve(i,"x","prod");"bool"===r.dtype&&(r=r.toInt());var a=Ue(n,r.shape),c=ca(a,r.rank),h=a,f=r;null!=c&&(f=r.transpose(c),h=Yi(h.length,r.rank));var m=le.runKernelFunc(function(_){return _.prod(f,h)},{permutedX:f});if(e){var b=yi(m.shape,a);m=m.reshape(b)}return m}}),rv=$({elu_:function(i){var n=Ve(i,"x","elu");return le.runKernelFunc(function(e,r){var a=e.elu(n);return r([a]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){return le.runKernelFunc(function(c){return c.eluDer(e,a)},{dy:e,y:a})}}})}}),mc=$({leakyRelu_:function(i,n){void 0===n&&(n=.2);var e=Ve(i,"x","leakyRelu");return Ad(St(n).mul(e),e)}}),Bd=$({prelu_:function(i,n){var e=Ve(i,"x","prelu"),r=Ve(n,"alpha","prelu");return le.runKernelFunc(function(a,c){var h=a.prelu(e,r);return c([e,r]),h},{x:e,alpha:r},function(a,c){var h=c[0],f=c[1],m=h.greater(0);return{x:function(){return Xc(m,a,a.mul(f))},alpha:function(){var b=Xc(m,No(a),a.mul(h)),_=Xo(f.shape,a.shape);return _.length>0&&(b=b.sum(_)),b.reshape(f.shape)}}},"Prelu")}}),oa=$({relu_:function(i){var n=Ve(i,"x","relu");return"bool"===n.dtype?n.toInt():le.runKernelFunc(function(e,r){var a=e.relu(n);return r([n]),a},{x:n},function(e,r){var a=r[0];return{x:function(){return e.mulStrict(a.step().toFloat())}}},"Relu")}}),Hp=$({relu6_:function(i){var n=Ve(i,"x","relu6");return"bool"===n.dtype?n.toInt():le.runKernelFunc(function(e,r){var a=e.relu6(n);return r([n]),a},{x:n},function(e,r){var a=r[0],c=a.lessEqual(6).mul(a.step());return{x:function(){return e.mulStrict(c.toFloat())}}},"Relu6")}}),nf=$({selu_:function(i){var n=Ve(i,"x","selu");return le.runKernelFunc(function(e,r){var a=e.selu(n);return r([n]),a},{$x:n},function(e,r){var a=r[0];return{$x:function(){var c=a.greater(St(0)),h=St(Mu),f=St(Ru),m=e.mul(f),b=e.mul(h).mul(a.toFloat().exp());return Xc(c,m,b)}}})}}),Zc=$({transpose_:function(i,n){var e=Ve(i,"x","transpose");return null==n&&(n=e.shape.map(function(a,c){return c}).reverse()),re(e.rank===n.length,function(){return"Error in transpose: rank of input "+e.rank+" must match length of perm "+n+"."}),n.forEach(function(a){re(a>=0&&a<e.rank,function(){return"All entries in 'perm' must be between 0 and "+(e.rank-1)+" but got "+n})}),e.rank<=1?e.clone():le.runKernelFunc(function(a){return a.transpose(e,n)},{x:e},function(a){var c=di(n);return{x:function(){return a.transpose(c)}}},"Transpose",{perm:n})}}),nx=$({localResponseNormalization_:function(i,n,e,r,a){void 0===n&&(n=5),void 0===e&&(e=1),void 0===r&&(r=1),void 0===a&&(a=.5);var c=Ve(i,"x","localResponseNormalization");re(4===c.rank||3===c.rank,function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+c.rank+"."}),re(Bt(n),function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+n+"."});var h=c,f=!1;3===c.rank&&(f=!0,h=c.as4D(1,c.shape[0],c.shape[1],c.shape[2]));var m=le.runKernelFunc(function(b,_){var I=b.localResponseNormalization4D(h,n,e,r,a);return _([h,I]),I},{x4D:h},function(b,_){var I=_[0],D=_[1];return{x4D:function(){return le.runKernelFunc(function(T){return T.LRNGrad(b,I,D,n,e,r,a)},{})}}});return f?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),ov=$({norm_:function(i,n,e,r){void 0===n&&(n="euclidean"),void 0===e&&(e=null),void 0===r&&(r=!1);var a=function f(m,b,_){if(void 0===_&&(_=null),0===m.rank)return m.abs();if(1!==m.rank&&null===_)return f(m.reshape([-1]),b,_);if(1===m.rank||"number"==typeof _||Array.isArray(_)&&1===_.length){if(1===b)return m.abs().sum(_);if(b===1/0)return m.abs().max(_);if(b===-1/0)return m.abs().min(_);if("euclidean"===b||2===b)return m.abs().pow(St(2,"int32")).sum(_).sqrt();throw new Error("Error in norm: invalid ord value: "+b)}if(Array.isArray(_)&&2===_.length){if(1===b)return m.abs().sum(_[0]).max(_[1]-1);if(b===1/0)return m.abs().sum(_[1]).max(_[0]);if(b===-1/0)return m.abs().sum(_[1]).min(_[0]);if("fro"===b||"euclidean"===b)return m.square().sum(_).sqrt();throw new Error("Error in norm: invalid ord value: "+b)}throw new Error("Error in norm: invalid axis: "+_)}(i=Ve(i,"x","norm"),n,e),c=a.shape;if(r){var h=Ue(e,i.shape);c=yi(a.shape,h)}return a.reshape(c)}}),Z0=$({basicLSTMCell_:function(i,n,e,r,a,c){var h=Ve(i,"forgetBias","basicLSTMCell"),f=Ve(n,"lstmKernel","basicLSTMCell"),m=Ve(e,"lstmBias","basicLSTMCell"),b=Ve(r,"data","basicLSTMCell"),_=Ve(a,"c","basicLSTMCell"),I=Ve(c,"h","basicLSTMCell"),D=b.concat(I,1).matMul(f).add(m),z=D.shape[1]/4,Q=[D.shape[0],z],Z=D.slice([0,0],Q),ne=D.slice([0,z],Q),fe=D.slice([0,2*z],Q),me=D.slice([0,3*z],Q),he=Z.sigmoid().mulStrict(ne.tanh()).addStrict(_.mulStrict(h.add(fe).sigmoid())),we=he.tanh().mulStrict(me.sigmoid());return[he,we]}}),Q0=$({multiRNNCell_:function(i,n,e,r){for(var a=Ve(n,"data","multiRNNCell"),c=zi(e,"c","multiRNNCell"),h=zi(r,"h","multiRNNCell"),f=a,m=[],b=0;b<i.length;b++){var _=i[b](f,c[b],h[b]);m.push(_[0]),m.push(_[1]),f=_[1]}var I=[],D=[];for(b=0;b<m.length;b+=2)I.push(m[b]),D.push(m[b+1]);return[I,D]}}),rx=$({movingAverage_:function(i,n,e,r,a){void 0===a&&(a=!0);var c=Ve(i,"v","movingAverage"),h=Ve(n,"x","movingAverage"),f=Ve(e,"decay","movingAverage");vn(c,h),re(Lt(c.shape,h.shape),function(){return"Shape mismatch in v and x"});var m=St(1),b=m.sub(f),_=h.sub(c).mul(b);if(a){re(null!=r,function(){return"When using zeroDebias: true, step is required."});var I=Ve(r,"step","movingAverage");_=_.div(m.sub(Rd(f,I)))}return c.add(_)}}),ox=$({stridedSlice_:function(i,n,e,r,a,c,h,f,m){if(void 0===a&&(a=0),void 0===c&&(c=0),void 0===h&&(h=0),void 0===f&&(f=0),void 0===m&&(m=0),null==r&&(r=new Array(n.length)),0!==h)throw new Error("ellipsis mask is not yet supported");var b=Ve(i,"x","stridedSlice"),_=Ye(f),I=b.shape.slice();_.forEach(function(Z){n[Z]=0,e[Z]=1,I.splice(Z,0,1)}),b=b.reshape(I);for(var D=0;D<b.rank;D++)n[D]=Ee(a,n,r,b.shape,D),e[D]=at(c,e,r,b.shape,D),r[D]=r[D]||1;var T=Ye(m);T.forEach(function(Z){e[Z]=n[Z]+1,r[Z]=1});var z=K(n,e,r),Q=z.filter(function(Z,ne){return-1===T.indexOf(ne)});return r.every(function(Z){return 1===Z})?ul(b,n,z).reshape(Q):le.runKernelFunc(function(Z){return Z.stridedSlice(b,n,e,r)},{$x:b}).reshape(Q)}}),rf=$({topk_:function(i,n,e){void 0===n&&(n=1),void 0===e&&(e=!0);var r=Ve(i,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var a=r.shape[r.shape.length-1];if(n>a)throw new Error("'k' passed to topk() must be <= the last dimension ("+a+") but got "+n);var c=le.runKernelFunc(function(h){return h.topk(r,n,e)},{$x:r});return{values:c[0],indices:c[1]}}}),J0=$({scatterND_:function(i,n,e){var r=Ve(i,"indices","scatterND","int32"),a=Ve(n,"updates","scatterND");return Cs(a,r,e),le.runKernelFunc(function(c){return c.scatterND(r,a,e)},{indices:r,updates:a},null,"ScatterNd",{shape:e})}}),$d=$({fft_:function(i){re("complex64"===i.dtype,function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+i.dtype+"."});var n=i.shape[i.shape.length-1],r=i.as2D(i.size/n,n);return le.runKernelFunc(function(a){return a.fft(r)},{input:i}).reshape(i.shape)}}),Hu=$({ifft_:function(i){re("complex64"===i.dtype,function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+i.dtype+"."});var n=i.shape[i.shape.length-1],r=i.as2D(i.size/n,n);return le.runKernelFunc(function(a){return a.ifft(r)},{input:i}).reshape(i.shape)}}),gc=$({rfft_:function(i,n){re("float32"===i.dtype,function(){return"The dtype for rfft() must be real value but got "+i.dtype});var e,r=i.shape[i.shape.length-1],a=i.size/r;if(null!=n&&n<r){var c=i.shape.map(function(ne){return 0}),h=i.shape.map(function(ne){return ne});h[i.shape.length-1]=n,e=i.slice(c,h),r=n}else if(null!=n&&n>r){var f=i.shape.map(function(ne){return ne});f[i.shape.length-1]=n-r,e=i.concat(mo(f),i.shape.length-1),r=n}else e=i;var m=e.zerosLike(),b=ve(e,m).as2D(a,r),_=$d(b),I=Math.floor(r/2)+1,D=Fe(_),T=lt(_),z=D.split([I,r-I],D.shape.length-1),Q=T.split([I,r-I],T.shape.length-1),Z=e.shape.slice();return Z[e.shape.length-1]=I,ve(z[0],Q[0]).reshape(Z)}}),Wu=$({irfft_:function(i){var n=i.shape[i.shape.length-1],e=i.size/n;if(n<=2){var r=i.as2D(e,n),a=Hu(r);return Fe(a)}var c=[e,2*(n-1)],h=Fe(i).as2D(e,n),f=lt(i).as2D(e,n),m=h.slice([0,1],[e,n-2]).reverse(1),b=f.slice([0,1],[e,n-2]).reverse(1).mul(St(-1)),_=h.concat(m,1),I=f.concat(b,1);return r=ve(_,I).as2D(c[0],c[1]),a=Hu(r),Fe(a)}}),af=Object.freeze({fft:$d,ifft:Hu,rfft:gc,irfft:Wu}),Gu=$({sparseToDense_:function(i,n,e,r){void 0===r&&(r=0);var a=Ve(i,"sparseIndices","sparseToDense","int32"),c=Ve(n,"sparseValues","sparseToDense"),h=Ve(r,"defaultValue","sparseToDense",c.dtype);return function(f,m,b,_){if("int32"!==f.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+f.dtype+".");if(f.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+f.shape+".");var I=f.rank>0?f.shape[0]:1,D=f.rank>1?f.shape[1]:1;if(b.length!==D)throw new Error("outputShape has incorrect number of elements:, "+b.length+", should be: "+D+".");if(0!==m.rank&&(1!==m.rank||m.size!==I))throw new Error("sparseValues has incorrect shape "+m.shape+", should be [] or ["+I+"]");if(m.dtype!==_.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(a,c,e,h),le.runKernelFunc(function(f){return f.sparseToDense(a,c,e,h)},{$sparseIndices:a,$sparseValues:c,$defaultValue:h})}}),jd=$({gatherND_:function(i,n){var e=Ve(n,"indices","gatherND","int32"),r=Ve(i,"x","gatherND");return le.runKernelFunc(function(a){return a.gatherND(r,e)},{x:r,indices:e},null,"GatherNd")}}),Xu=$({diag_:function(i){var n=Ve(i,"x","diag").flatten(),e=i.shape.concat(i.shape);return le.runKernelFunc(function(r){return r.diag(n)},{$x:n}).reshape(e)}}),Wp=$({dropout_:function(i,n,e,r){var a=Ve(i,"x","dropout");if(re("float32"===a.dtype,function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+a.dtype+" tensor instead."}),re(n>=0&&n<1,function(){return"rate must be a float in the range [0, 1), but got "+n+"."}),0===n)return i instanceof $r?a.clone():a;var c=function(m,b){if(null==b)return m.shape.slice();if(Lt(m.shape,b))return b;if(m.shape.length===b.length){for(var _=[],I=0;I<m.shape.length;I++)_.push(null==b[I]&&null!=m.shape[I]?m.shape[I]:b[I]);return _}return b}(a,e),h=1-n,f=Ml(c,0,1,"float32",r).add(h).floor().div(h);return a.mul(f)}});function Ku(i,n,e){for(var r=1-i%2,a=new Float32Array(i),c=0;c<i;++c){var h=2*Math.PI*c/(i+r-1);a[c]=n-e*Math.cos(h)}return Yt(a,"float32")}var cs,vc=$({hannWindow_:function(i){return Ku(i,.5,.5)}}),zd=$({hammingWindow_:function(i){return Ku(i,.54,.46)}}),iv=$({frame_:function(i,n,e,r,a){void 0===r&&(r=!1),void 0===a&&(a=0);for(var c=0,h=[];c+n<=i.size;)h.push(ul(i,c,n)),c+=e;if(r)for(;c<i.size;){var f=c+n-i.size,m=hi([ul(i,c,n-f),Eo([f],a)]);h.push(m),c+=e}return 0===h.length?hn([],[0,n]):hi(h).as2D(h.length,n)}}),sf=$({stft_:function(i,n,e,r,a){void 0===a&&(a=vc),null==r&&(r=Math.floor(Math.pow(2,Math.ceil(Math.log(n)/Math.log(2)))));for(var h=iv(i,n,e),f=rs(h,a(n)),m=[],b=0;b<h.shape[0];b++)m.push(gc(f.slice([b,0],[1,n]),r));return hi(m)}}),Ud=Object.freeze({hannWindow:vc,hammingWindow:zd,frame:iv,stft:sf});!function(i){i[i.NONE=0]="NONE",i[i.MEAN=1]="MEAN",i[i.SUM=2]="SUM",i[i.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(cs||(cs={}));var eb=$({absoluteDifference_:function(i,n,e,r){void 0===r&&(r=cs.SUM_BY_NONZERO_WEIGHTS);var a=Ve(i,"labels","absoluteDifference"),c=Ve(n,"predictions","absoluteDifference"),h=null;null!=e&&(h=Ve(e,"weights","absoluteDifference")),rt(a.shape,c.shape,"Error in absoluteDifference: ");var f=a.sub(c).abs();return Bl(f,h,r)}}),Bl=$({computeWeightedLoss_:function(i,n,e){void 0===e&&(e=cs.SUM_BY_NONZERO_WEIGHTS);var r=Ve(i,"losses","computeWeightedLoss"),a=null;null!=n&&(a=Ve(n,"weights","computeWeightedLoss"));var c=null==a?r:r.mul(a);if(e===cs.NONE)return c;if(e===cs.SUM)return c.sum();if(e===cs.MEAN){if(null==a)return c.mean();var h=r.size/a.size,f=c.sum().div(a.sum());return h>1?f.div(St(h)):f}if(e===cs.SUM_BY_NONZERO_WEIGHTS){if(null==a)return c.sum().div(St(r.size));var m=a.mul(Qo(r.shape)).notEqual(St(0)).sum().toFloat();return c.sum().div(m)}throw Error("Unknown reduction: "+e)}}),Gp=$({cosineDistance_:function(i,n,e,r,a){void 0===a&&(a=cs.SUM_BY_NONZERO_WEIGHTS);var c=Ve(i,"labels","cosineDistance"),h=Ve(n,"predictions","cosineDistance"),f=null;null!=r&&(f=Ve(r,"weights","cosineDistance")),rt(c.shape,h.shape,"Error in cosineDistance: ");var m=St(1).sub(c.mul(h).sum(e,!0));return Bl(m,f,a)}}),sv=$({hingeLoss_:function(i,n,e,r){void 0===r&&(r=cs.SUM_BY_NONZERO_WEIGHTS);var a=Ve(i,"labels","hingeLoss"),c=Ve(n,"predictions","hingeLoss"),h=null;null!=e&&(h=Ve(e,"weights","hingeLoss")),rt(a.shape,c.shape,"Error in hingeLoss: ");var f=St(1);a=St(2).mul(a).sub(f);var m=f.sub(a.mul(c)).relu();return Bl(m,h,r)}}),tb=$({huberLoss_:function(i,n,e,r,a){void 0===r&&(r=1),void 0===a&&(a=cs.SUM_BY_NONZERO_WEIGHTS);var c=Ve(i,"labels","huberLoss"),h=Ve(n,"predictions","huberLoss"),f=null;null!=e&&(f=Ve(e,"weights","huberLoss")),rt(c.shape,h.shape,"Error in huberLoss: ");var m=St(r),b=h.sub(c).abs(),_=Td(b,m),I=b.sub(_),D=St(.5).mul(_.square()).add(m.mul(I));return Bl(D,f,a)}}),nb=$({logLoss_:function(i,n,e,r,a){void 0===r&&(r=1e-7),void 0===a&&(a=cs.SUM_BY_NONZERO_WEIGHTS);var c=Ve(i,"labels","logLoss"),h=Ve(n,"predictions","logLoss"),f=null;null!=e&&(f=Ve(e,"weights","logLoss")),rt(c.shape,h.shape,"Error in logLoss: ");var m=St(1),b=St(r),_=c.mul(h.add(b).log()).neg().sub(m.sub(c).mul(m.sub(h).add(b).log()));return Bl(_,f,a)}}),Vd=$({meanSquaredError_:function(i,n,e,r){void 0===r&&(r=cs.SUM_BY_NONZERO_WEIGHTS);var a=Ve(i,"labels","meanSquaredError"),c=Ve(n,"predictions","meanSquaredError"),h=null;null!=e&&(h=Ve(e,"weights","meanSquaredError")),rt(a.shape,c.shape,"Error in meanSquaredError: ");var f=a.squaredDifference(c);return Bl(f,h,r)}}),lv=$({sigmoidCrossEntropy_:function(i,n,e,r,a){void 0===r&&(r=0),void 0===a&&(a=cs.SUM_BY_NONZERO_WEIGHTS);var c=Ve(i,"multiClassLabels","sigmoidCrossEntropy"),h=Ve(n,"logits","sigmoidCrossEntropy"),f=null;if(null!=e&&(f=Ve(e,"weights","sigmoidCrossEntropy")),rt(c.shape,h.shape,"Error in sigmoidCrossEntropy: "),r>0){var m=St(r),b=St(1),_=St(.5);c=c.mul(b.sub(m)).add(_.mul(m))}var I=function(D,T){var z=Ve(D,"labels","sigmoidCrossEntropyWithLogits"),Q=Ve(T,"logits","sigmoidCrossEntropyWithLogits");rt(z.shape,Q.shape,"Error in sigmoidCrossEntropyWithLogits: ");var Z=Q.relu(),ne=Q.mul(z),fe=Q.abs().neg().exp().log1p();return Z.sub(ne).add(fe)}(c,h);return Bl(I,f,a)}}),Xp=$({softmaxCrossEntropy_:function(i,n,e,r,a){void 0===r&&(r=0),void 0===a&&(a=cs.SUM_BY_NONZERO_WEIGHTS);var c=Ve(i,"onehotLabels","softmaxCrossEntropy"),h=Ve(n,"logits","softmaxCrossEntropy"),f=null;if(null!=e&&(f=Ve(e,"weights","softmaxCrossEntropy")),rt(c.shape,h.shape,"Error in softmaxCrossEntropy: "),r>0){var m=St(r),b=St(1),_=St(c.shape[1]);c=c.mul(b.sub(m)).add(m.div(_))}var I=function(D,T,z){if(void 0===z&&(z=-1),-1===z&&(z=T.rank-1),z!==T.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+T.rank+" and dim was "+z);return wi(function(Q,Z,ne){var fe=Z.logSumExp([z],!0),me=Z.toFloat().sub(fe);return ne([Q,me]),{value:me.mul(Q).neg().sum([z]),gradFunc:function(he,we){var We=we[0],It=we[1],xt=yi(he.shape,[z]);return[he.reshape(xt).mul(We.toFloat().sub(It.exp())),he.reshape(xt).mul(It.exp().sub(We.toFloat()))]}}})(D,T)}(c,h);return Bl(I,f,a)}}),rb=Object.freeze({get Reduction(){return cs},absoluteDifference:eb,computeWeightedLoss:Bl,cosineDistance:Gp,hingeLoss:sv,huberLoss:tb,logLoss:nb,meanSquaredError:Vd,sigmoidCrossEntropy:lv,softmaxCrossEntropy:Xp});function ob(i,n){return void 0===n&&(n=!1),le.tidy(function(){if(2!==i.shape.length)throw new Error("qr2d() requires a 2D Tensor, but got a "+i.shape.length+"D Tensor.");for(var e=i.shape[0],r=i.shape[1],a=mu(e),c=i.clone(),h=hn([[1]],[1,1]),f=h.clone(),m=e>=r?r:e,b=function(I){var D,T=c,z=f,Q=a;D=le.tidy(function(){var Z=c.slice([I,I],[e-I,1]),ne=Z.norm(),fe=c.slice([I,I],[1,1]),me=hn([[-1]]).where(fe.greater(0),hn([[1]])),he=fe.sub(me.mul(ne)),we=Z.div(he);f=1===we.shape[0]?h.clone():h.concat(we.slice([1,0],[we.shape[0]-1,we.shape[1]]),0);var We=me.matMul(he).div(ne).neg(),It=c.slice([I,0],[e-I,r]),xt=We.mul(f);if(0===I)c=It.sub(xt.matMul(f.transpose().matMul(It)));else{var ht=It.sub(xt.matMul(f.transpose().matMul(It)));c=c.slice([0,0],[I,r]).concat(ht,0)}var ft=a.slice([0,I],[e,a.shape[1]-I]);if(0===I)a=ft.sub(ft.matMul(f).matMul(xt.transpose()));else{var Zt=ft.sub(ft.matMul(f).matMul(xt.transpose()));a=a.slice([0,0],[e,I]).concat(Zt,1)}return[f,c,a]}),f=D[0],c=D[1],a=D[2],Vt([T,z,Q])},_=0;_<m;++_)b(_);return!n&&e>r&&(a=a.slice([0,0],[e,r]),c=c.slice([0,0],[r,r])),[a,c]})}var ix=$({bandPart_:function(i,n,e){if(n%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+n+".");if(e%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+e+".");var r=Ve(i,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var a=r.shape,c=r.shape.slice(-2),h=c[0],f=c[1];if(!(n<=h))throw new Error("bandPart(): numLower ("+n+") must not be greater than the number of rows ("+h+").");if(!(e<=f))throw new Error("bandPart(): numUpper ("+e+") must not be greater than the number of columns ("+f+").");n<0&&(n=h),e<0&&(e=f);var m=ua(0,h,1,"int32").reshape([-1,1]),b=ua(0,f,1,"int32"),_=Wa(m,b),I=vs(_.lessEqual(St(+n,"int32")),_.greaterEqual(St(-e,"int32"))),D=mo([h,f],r.dtype);return pa(Wi(r.reshape([-1,h,f])).map(function(T){return Xc(I,T,D)})).reshape(a)}}),Hd=$({gramSchmidt_:function(i){var n;if(Array.isArray(i)){n=!1,re(null!=i&&i.length>0,function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"});for(var e=i[0].shape[0],r=function(m){re(i[m].shape[0]===e,function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+i[m].shape[0]+" vs. "+e+")"})},a=1;a<i.length;++a)r(a)}else n=!0,i=ge(i,i.shape[0],0).map(function(m){return nc(m,[0])});re(i.length<=i[0].shape[0],function(){return"Gram-Schmidt: Number of vectors ("+i.length+") exceeds number of dimensions ("+i[0].shape[0]+")."});var c=[],h=i,f=function(m){c.push(le.tidy(function(){var b=h[m];if(m>0)for(var _=0;_<m;++_){var I=Up(c[_].mulStrict(b)).mul(c[_]);b=b.sub(I)}return b.div(ov(b,"euclidean"))}))};for(a=0;a<i.length;++a)f(a);return n?pa(c,0):c}}),ib=$({qr_:function(i,n){if(void 0===n&&(n=!1),i.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+i.rank);if(2===i.rank)return ob(i,n);var e=i.shape.slice(0,i.shape.length-2).reduce(function(h,f){return h*f}),r=Wi(i.reshape([e,i.shape[i.shape.length-2],i.shape[i.shape.length-1]]),0),a=[],c=[];return r.forEach(function(h){var f=ob(h,n),b=f[1];a.push(f[0]),c.push(b)}),[pa(a,0).reshape(i.shape),pa(c,0).reshape(i.shape)]}}),lf=Object.freeze({bandPart:ix,gramSchmidt:Hd,qr:ib});function qu(i,n,e,r,a,c){null==r&&(r=.5),null==a&&(a=Number.NEGATIVE_INFINITY),null==c&&(c=0);var h=i.shape[0];return e=Math.min(e,h),re(0<=r&&r<=1,function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"}),re(2===i.rank,function(){return"boxes must be a 2D tensor, but was of rank '"+i.rank+"'"}),re(4===i.shape[1],function(){return"boxes must have 4 columns, but 2nd dimension was "+i.shape[1]}),re(1===n.rank,function(){return"scores must be a 1D tensor"}),re(n.shape[0]===h,function(){return"scores has incompatible shape with boxes. Expected "+h+", but was "+n.shape[0]}),re(0<=c&&c<=1,function(){return"softNmsSigma must be in [0, 1], but was '"+c+"'"}),{maxOutputSize:e,iouThreshold:r,scoreThreshold:a,softNmsSigma:c}}var Kp=$({resizeBilinear_:function(i,n,e){void 0===e&&(e=!1);var r=Ve(i,"images","resizeBilinear");re(3===r.rank||4===r.rank,function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."}),re(2===n.length,function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+n+"."});var a=r,c=!1;3===r.rank&&(c=!0,a=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var h=n[0],f=n[1],m=le.runKernelFunc(function(b,_){return _([a]),b.resizeBilinear(a,h,f,e)},{x:a},function(b,_){return{x:function(){return le.runKernelFunc(function(I){return I.resizeBilinearBackprop(b,_[0],e)},{})}}},"ResizeBilinear",{alignCorners:e,newHeight:h,newWidth:f});return c?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),cv=$({resizeNearestNeighbor_:function(i,n,e){void 0===e&&(e=!1);var r=Ve(i,"images","resizeNearestNeighbor");re(3===r.rank||4===r.rank,function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."}),re(2===n.length,function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+n+"."}),re("float32"===r.dtype||"int32"===r.dtype,function(){return"`images` must have `int32` or `float32` as dtype"});var a=r,c=!1;3===r.rank&&(c=!0,a=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var h=n[0],f=n[1],m=le.runKernelFunc(function(b,_){return _([a]),b.resizeNearestNeighbor(a,h,f,e)},{batchImages:a},function(b,_){return{batchImages:function(){return le.runKernelFunc(function(I){return I.resizeNearestNeighborBackprop(b,_[0],e)},{})}}});return c?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),qp=$({nonMaxSuppression_:function(i,n,e,r,a){void 0===r&&(r=.5),void 0===a&&(a=Number.NEGATIVE_INFINITY);var c=Ve(i,"boxes","nonMaxSuppression"),h=Ve(n,"scores","nonMaxSuppression"),f=qu(c,h,e,r,a);return le.runKernelFunc(function(b){return b.nonMaxSuppression(c,h,e,r,a)},{boxes:c,scores:h},null,"NonMaxSuppressionV3",{maxOutputSize:e=f.maxOutputSize,iouThreshold:r=f.iouThreshold,scoreThreshold:a=f.scoreThreshold})}}),uv=$({nonMaxSuppressionWithScore_:function(i,n,e,r,a,c){void 0===r&&(r=.5),void 0===a&&(a=Number.NEGATIVE_INFINITY),void 0===c&&(c=0);var h=Ve(i,"boxes","nonMaxSuppression"),f=Ve(n,"scores","nonMaxSuppression"),m=qu(h,f,e,r,a,c),b={maxOutputSize:e=m.maxOutputSize,iouThreshold:r=m.iouThreshold,scoreThreshold:a=m.scoreThreshold,softNmsSigma:c=m.softNmsSigma},_=le.runKernel("NonMaxSuppressionV5",{boxes:h,scores:f},b);return{selectedIndices:_[0],selectedScores:_[1]}}}),dv=$({cropAndResize_:function(i,n,e,r,a,c){var h=Ve(i,"image","cropAndResize"),f=Ve(n,"boxes","cropAndResize","float32"),m=Ve(e,"boxInd","cropAndResize","int32");a=a||"bilinear",c=c||0;var b=f.shape[0];return re(4===h.rank,function(){return"Error in cropAndResize: image must be rank 4,but got rank "+h.rank+"."}),re(2===f.rank&&4===f.shape[1],function(){return"Error in cropAndResize: boxes must be have size ["+b+",4] but had shape "+f.shape+"."}),re(1===m.rank&&m.shape[0]===b,function(){return"Error in cropAndResize: boxInd must be have size ["+b+"] but had shape "+f.shape+"."}),re(2===r.length,function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."}),re(r[0]>=1&&r[1]>=1,function(){return"cropSize must be atleast [1,1], but was "+r}),re("bilinear"===a||"nearest"===a,function(){return"method must be bilinear or nearest, but was "+a}),le.runKernelFunc(function(_,I){return _.cropAndResize(h,f,m,r,a,c)},{images:h,boxes:f,boxInd:m},null,"CropAndResize",{method:a,extrapolationValue:c,cropSize:r})}}),Yu=Object.freeze({resizeBilinear:Kp,resizeNearestNeighbor:cv,nonMaxSuppression:qp,nonMaxSuppressionAsync:function(i,n,e,r,a){return void 0===r&&(r=.5),void 0===a&&(a=Number.NEGATIVE_INFINITY),_e(this,void 0,void 0,function(){var c,h,f,m,I;return J(this,function(D){switch(D.label){case 0:return c=Ve(i,"boxes","nonMaxSuppressionAsync"),h=Ve(n,"scores","nonMaxSuppressionAsync"),f=qu(c,h,e,r,a),e=f.maxOutputSize,r=f.iouThreshold,a=f.scoreThreshold,[4,Promise.all([c.data(),h.data()])];case 1:return m=D.sent(),I=Ti(m[0],m[1],e,r,a),c!==i&&c.dispose(),h!==n&&h.dispose(),[2,I]}})})},nonMaxSuppressionWithScore:uv,nonMaxSuppressionWithScoreAsync:function(i,n,e,r,a,c){return void 0===r&&(r=.5),void 0===a&&(a=Number.NEGATIVE_INFINITY),void 0===c&&(c=0),_e(this,void 0,void 0,function(){var h,f,m,b,D;return J(this,function(T){switch(T.label){case 0:return h=Ve(i,"boxes","nonMaxSuppressionAsync"),f=Ve(n,"scores","nonMaxSuppressionAsync"),m=qu(h,f,e,r,a,c),e=m.maxOutputSize,r=m.iouThreshold,a=m.scoreThreshold,c=m.softNmsSigma,[4,Promise.all([h.data(),f.data()])];case 1:return b=T.sent(),D=yl(b[0],b[1],e,r,a,c),h!==i&&h.dispose(),f!==n&&f.dispose(),[2,D]}})})},cropAndResize:dv}),Wd=function(i,n){return!(i>0)||"linear"===n},uf=function(i,n,e){if(null==e||"linear"===e)return i;if("relu"===e)return i.mul(n.step());throw new Error("Gradient for activation "+e+" has not been implemented yet.")},df=function(i,n){var e=n,r=Xo(i.shape,n.shape);return r.length>0&&(e=e.sum(r)),e.reshape(i.shape)},Gd=function(i,n,e){if("linear"===n)return i;if("relu"===n)return oa(i);if("elu"===n)return rv(i);if("relu6"===n)return Hp(i);if("prelu"===n)return Bd(i,e);throw new Error("Unknown fused activation "+n+".")},hv=$({fusedMatMul_:function(i){var n,e=i.a,r=i.b,a=i.transposeA,c=void 0!==a&&a,h=i.transposeB,f=void 0!==h&&h,m=i.bias,b=i.activation,_=void 0===b?"linear":b,I=i.preluActivationWeights;if(!1===Wd(le.state.gradientDepth,_)){var D=Ld(e,r,c,f);return null!=m&&(D=Bo(D,m)),Gd(D,_,I)}var T=Ve(e,"a","fused matMul"),z=Ve(r,"b","fused matMul");n=jt(T,z),T=n[0],z=n[1];var Q=c?T.shape[T.rank-2]:T.shape[T.rank-1],Z=f?z.shape[z.rank-1]:z.shape[z.rank-2],ne=c?T.shape[T.rank-1]:T.shape[T.rank-2],fe=f?z.shape[z.rank-2]:z.shape[z.rank-1],me=T.shape.slice(0,-2),he=z.shape.slice(0,-2),we=je(me),We=je(he);re(T.rank>=2&&z.rank>=2&&T.rank===z.rank,function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+T.rank+" and "+z.rank+"."}),re(Lt(me,he),function(){return"Error in fused matMul: outer dimensions ("+me+") and ("+he+") of Tensors with shapes "+T.shape+" and "+z.shape+" must match."}),re(Q===Z,function(){return"Error in fused matMul: inner shapes ("+Q+") and ("+Z+") of Tensors with shapes "+T.shape+" and "+z.shape+" and transposeA="+c+" and transposeB="+f+" must match."});var It,xt,ht=T.shape.slice(0,-2).concat([ne,fe]),ft=c?T.as3D(we,Q,ne):T.as3D(we,ne,Q),Zt=f?z.as3D(We,fe,Z):z.as3D(We,Z,fe);null!=m&&yo(ht,(It=jt(It=Ve(m,"bias","fused matMul"),T)[0]).shape),null!=I&&(xt=Ve(I,"prelu weights","fused matMul"));var Gt={a:ft,b:Zt};return null!=m&&(Gt.bias=It),null!=I&&(Gt.preluActivationWeights=xt),le.runKernelFunc(function(On,Bn){var Jn=On.fusedBatchMatMul({a:ft,b:Zt,transposeA:c,transposeB:f,bias:It,activation:_,preluActivationWeights:xt});return Bn([ft,Zt,Jn]),Jn},Gt,function(On,Bn){var Jn=Bn[0],Gn=Bn[1],nr=uf(On,Bn[2],_),or={};return null!=m&&(or={bias:function(){return df(It,nr)}}),Object.assign(c||f?!c&&f?{a:function(){return nr.matMul(Gn,!1,!1)},b:function(){return nr.matMul(Jn,!0,!1)}}:c&&!f?{a:function(){return Gn.matMul(nr,!1,!0)},b:function(){return Jn.matMul(nr,!1,!1)}}:{a:function(){return Gn.matMul(nr,!0,!0)},b:function(){return nr.matMul(Jn,!0,!0)}}:{a:function(){return nr.matMul(Gn,!1,!0)},b:function(){return Jn.matMul(nr,!0,!1)}},or)},"_FusedMatMul",{transposeA:c,transposeB:f,activation:_},[ft,Zt],[!0]).reshape(ht)}}),Xd=$({fusedConv2d_:function(i){var n=i.x,e=i.filter,r=i.strides,a=i.pad,c=i.dataFormat,h=void 0===c?"NHWC":c,f=i.dilations,m=void 0===f?[1,1]:f,b=i.dimRoundingMode,_=i.bias,I=i.activation,D=void 0===I?"linear":I,T=i.preluActivationWeights;if(!1===Wd(le.state.gradientDepth,D=D||"linear")){var z=Js(n,e,r,a,h,m,b);return null!=_&&(z=Bo(z,_)),Gd(z,D,T)}var Q=Ve(n,"x","conv2d"),Z=Ve(e,"filter","conv2d"),ne=Q,fe=!1;3===Q.rank&&(fe=!0,ne=Q.as4D(1,Q.shape[0],Q.shape[1],Q.shape[2])),re(4===ne.rank,function(){return"Error in fused conv2d: input must be rank 4, but got rank "+ne.rank+"."}),re(4===Z.rank,function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+Z.rank+"."}),null!=b&&re(Bt(a),function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+b+" but got pad "+a+"."}),re(ne.shape[3]===Z.shape[2],function(){return"Error in conv2d: depth of input ("+ne.shape[3]+") must match input depth for filter "+Z.shape[2]+"."}),re(Bi(r,m),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+m+"'"}),re("NHWC"===h,function(){return"Error in conv2d: got dataFormat of "+h+" but only NHWC is currently supported."});var me,he,we=ma(ne.shape,Z.shape,r,m,a,b);null!=_&&(me=jt(me=Ve(_,"bias","fused conv2d"),Q)[0],yo(we.outShape,me.shape)),null!=T&&(he=Ve(T,"prelu weights","fused conv2d"));var We={x:ne,filter:Z};null!=_&&(We.bias=me),null!=T&&(We.preluActivationWeights=he);var xt=le.runKernelFunc(function(ht,ft){var Zt=ht.fusedConv2d({input:ne,filter:Z,convInfo:we,bias:me,activation:D,preluActivationWeights:he});return ft([Z,ne,Zt]),Zt},We,function(ht,ft){var Gt=ft[0],Dn=ft[1],Bn=uf(ht,ft[2],D);re(Es(m),function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+m+"'"});var Jn={};return null!=_&&(Jn={bias:function(){return df(me,Bn)}}),Object.assign({x:function(){return Bp(Dn.shape,Bn,Gt,r,a)},filter:function(){return Fd(Dn,Bn,Gt.shape,r,a)}},Jn)},"FusedConv2D",{convInfo:we,activation:D},[Z,ne],[!0]);return fe?xt.as3D(xt.shape[1],xt.shape[2],xt.shape[3]):xt}}),hf=$({fusedDepthwiseConv2d_:function(i){var n=i.x,e=i.filter,r=i.strides,a=i.pad,c=i.dataFormat,h=void 0===c?"NHWC":c,f=i.dilations,m=void 0===f?[1,1]:f,b=i.dimRoundingMode,_=i.bias,I=i.activation,D=void 0===I?"linear":I,T=i.preluActivationWeights;if(!1===Wd(le.state.gradientDepth,D)){var z=Yc(n,e,r,a,h,m,b);return null!=_&&(z=Bo(z,_)),Gd(z,D,T)}var Q=Ve(n,"x","depthwiseConv2d"),Z=Ve(e,"filter","depthwiseConv2d"),ne=Q,fe=!1;3===Q.rank&&(fe=!0,ne=Q.as4D(1,Q.shape[0],Q.shape[1],Q.shape[2])),re(4===ne.rank,function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+ne.rank+"."}),re(4===Z.rank,function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+Z.rank+"."}),re(ne.shape[3]===Z.shape[2],function(){return"Error in fused depthwiseConv2d: number of input channels ("+ne.shape[3]+") must match the inChannels dimension in filter "+Z.shape[2]+"."}),null==m&&(m=[1,1]),re(Bi(r,m),function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+m+"'"}),null!=b&&re(Bt(a),function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+b+" but got pad "+a+"."});var me,he,we=ma(ne.shape,Z.shape,r,m,a,b,!0);null!=_&&(me=jt(me=Ve(_,"bias","fused conv2d"),Q)[0],yo(we.outShape,me.shape)),null!=T&&(he=Ve(T,"prelu weights","fused depthwiseConv2d"));var We={x:ne,filter:Z};null!=_&&(We.bias=me),null!=T&&(We.preluActivationWeights=he);var xt=le.runKernelFunc(function(ht,ft){var Zt=ht.fusedDepthwiseConv2D({input:ne,filter:Z,convInfo:we,bias:me,activation:D,preluActivationWeights:he});return ft([Z,ne,Zt]),Zt},We,function(ht,ft){re(Es(m),function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+m+"'"});var Zt=ft[0],Gt=ft[1],On=uf(ht,ft[2],D),Bn={};return null!=_&&(Bn={bias:function(){return df(me,On)}}),Object.assign({x:function(){return V0(Gt.shape,On,Zt,we)},filter:function(){return H0(Gt,On,Zt.shape,we)}},Bn)},"FusedDepthwiseConv2D",{convInfo:we,activation:D},[Z,ne],[!0]);return fe?xt.as3D(xt.shape[1],xt.shape[2],xt.shape[3]):xt}}),Qc=Object.freeze({matMul:hv,conv2d:Xd,depthwiseConv2d:hf}),fv=Object.freeze({image:Yu,linalg:lf,losses:rb,spectral:af,fused:Qc,signal:Ud,square:$h,squaredDifference:jh,conv1d:bs,conv2d:Js,conv3d:Rs,depthwiseConv2d:Yc,separableConv2d:Oa,conv2dTranspose:zu,conv3dTranspose:Gg,op:$,batchNormalization2d:Xh,batchNormalization3d:Pp,batchNormalization4d:Wc,batchNormalization:P0,batchNorm:Op,batchNorm2d:Gc,batchNorm3d:O0,batchNorm4d:Fg,booleanMaskAsync:function(i,n,e){return _e(this,void 0,void 0,function(){var r,a,c,h,f,m,b,_,I,D,T,z,Q;return J(this,function(Z){switch(Z.label){case 0:for(r=Ve(i,"tensor","boolMask"),a=Ve(n,"mask","boolMask","bool"),c=null==e?0:e,f=r.shape,re((h=a.rank)>0,function(){return"mask cannot be scalar"}),rt(f.slice(c,c+h),a.shape,"mask's shape must match the first K dimensions of tensor's shape,"),m=1,b=c;b<c+h;b++)m*=f[b];return _=f.slice(0,c).concat([m],f.slice(c+h)),I=r.reshape(_),D=a.reshape([-1]),[4,Sd(D)];case 1:return T=Z.sent(),z=T.squeeze([1]),Q=Od(I,z,c),i!==r&&r.dispose(),n!==a&&a.dispose(),z.dispose(),I.dispose(),D.dispose(),T.dispose(),[2,Q]}})})},complex:ve,real:Fe,imag:lt,concat:hi,concat1d:Sc,concat2d:Ql,concat3d:oe,concat4d:j,split:ge,matMul:Ld,dot:W0,outerProduct:Xg,reverse:Uu,reverse1d:$p,reverse2d:cl,reverse3d:Kg,reverse4d:el,maxPool:Ga,avgPool:Vu,pool:jp,maxPool3d:Zg,avgPool3d:ef,slice:ul,slice1d:Qg,slice2d:Jg,slice3d:zp,slice4d:G0,abs:Eg,acos:Ip,acosh:Dg,asin:kg,asinh:Ed,atan:fc,atanh:M0,ceil:Ep,clipByValue:Hc,cos:Cl,cosh:Fu,erf:Ea,exp:Dp,expm1:kp,floor:zh,log:Sg,log1p:Uh,logSigmoid:Dd,neg:kd,reciprocal:Sp,round:Vh,rsqrt:Lu,sigmoid:Hh,sign:Ag,isNaN:R0,isInf:Tg,isFinite:Mg,sin:Rg,sinh:Ap,softplus:Tp,sqrt:Pg,step:Jy,tan:Mp,tanh:Og,all:X0,any:K0,argMax:tv,argMin:ex,logSumExp:nv,max:tf,mean:q0,min:tx,moments:Y0,sum:Up,prod:Vp,equal:$0,equalStrict:j0,greater:z0,greaterEqual:pc,greaterEqualStrict:$u,greaterStrict:Fp,less:Ug,lessEqual:Lp,lessEqualStrict:ju,lessStrict:U0,notEqual:Zh,notEqualStrict:Vg,add:Bo,addN:N0,addStrict:Gi,atan2:F0,div:Ms,divNoNan:Bg,divStrict:$g,floorDiv:Yh,maximum:Ad,maximumStrict:jg,minimum:Td,minimumStrict:zg,mod:Md,modStrict:Np,mul:rs,mulStrict:ll,pow:Rd,powStrict:Pd,squaredDifferenceStrict:L0,sub:Wa,subStrict:B0,elu:rv,leakyRelu:mc,prelu:Bd,relu:oa,relu6:Hp,selu:nf,logicalAnd:vs,logicalNot:Kh,logicalOr:qh,logicalXor:Lg,where:Xc,whereAsync:Sd,buffer:ar,print:function Zi(i,n){void 0===n&&(n=!1),console.log(i.toString(n))},batchToSpaceND:Vi,broadcastTo:_s,cast:ha,clone:Jl,cumsum:ec,depthToSpace:os,expandDims:ps,eye:mu,multinomial:Hs,oneHot:fa,pad:Os,pad1d:cd,pad2d:Tc,pad3d:ud,pad4d:tc,rand:gu,randomNormal:Tl,randomGamma:dd,randomUniform:Ml,reshape:Hi,spaceToBatchND:vu,squeeze:nc,stack:pa,tile:ol,truncatedNormal:Mc,unstack:Wi,setdiff1dAsync:function(i,n){return _e(this,void 0,void 0,function(){var e,r,a,c,h,f,m,b,_,I;return J(this,function(D){switch(D.label){case 0:return e=Ve(i,"x","setdiff1d"),r=Ve(n,"y","setdiff1d"),re(e.dtype===r.dtype,function(){return"x and y should have the same dtype, but got x ("+e.dtype+") and y ("+r.dtype+")."}),re(1===e.rank,function(){return"x should be 1D tensor, but got x ("+e.shape+")."}),re(1===r.rank,function(){return"y should be 1D tensor, but got y ("+r.shape+")."}),[4,e.data()];case 1:return a=D.sent(),[4,r.data()];case 2:for(c=D.sent(),h=new Set(c),f=0,_=0;_<a.length;_++)h.has(a[_])||f++;for(m=new Lr([f],e.dtype),b=new Lr([f],"int32"),_=0,I=0;_<a.length;_++)h.has(a[_])||(m.values[I]=a[_],b.values[I]=_,I++);return[2,[m.toTensor(),b.toTensor()]]}})})},fill:Eo,linspace:function ao(i,n,e){if(e<=0)throw new Error("The number of values should be positive.");return le.runKernelFunc(function(r){return r.linspace(i,n,e)},{})},ones:Qo,range:ua,scalar:St,tensor:dt,tensor1d:Yt,tensor2d:hn,tensor3d:Un,tensor4d:Hn,tensor5d:function yr(i,n,e){if(Dt(i),null!=n&&5!==n.length)throw new Error("tensor5d() requires shape to have five numbers");var r=ci(i,e);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==n)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return qt(i,n,r,e)},tensor6d:function Or(i,n,e){if(Dt(i),null!=n&&6!==n.length)throw new Error("tensor6d() requires shape to have six numbers");var r=ci(i,e);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==n)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return qt(i,n=n||r,r,e)},variable:function Vo(i,n,e,r){return void 0===n&&(n=!0),le.makeVariable(i,n,e,r)},zeros:mo,onesLike:Ui,zerosLike:No,transpose:Zc,softmax:Ro,logSoftmax:Ln,localResponseNormalization:nx,norm:ov,gather:Od,unsortedSegmentSum:Nd,basicLSTMCell:Z0,multiRNNCell:Q0,movingAverage:rx,stridedSlice:ox,topk:rf,scatterND:J0,fft:$d,ifft:Hu,rfft:gc,irfft:Wu,sparseToDense:Gu,gatherND:jd,diag:Xu,dropout:Wp,hannWindow:vc,hammingWindow:zd,frame:iv,stft:sf,inTopKAsync:function(i,n,e){return void 0===e&&(e=1),_e(this,void 0,void 0,function(){var r,a,c,h,f,m,b,_,I,D,T,z,Q,Z;return J(this,function(ne){switch(ne.label){case 0:return r=Ve(i,"predictions","inTopK"),a=Ve(n,"targets","inTopK"),re(r.rank>1,function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank}),re(r.rank-1===a.rank,function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+a.rank}),rt(r.shape.slice(0,r.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),c=r.shape[r.shape.length-1],re(e>0&&e<=c,function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+c+"), but got "+e}),[4,r.data()];case 1:return h=ne.sent(),[4,a.data()];case 2:for(f=ne.sent(),_=(m=[h.length/c,c])[1],I=de("bool",b=m[0]),D=0;D<b;D++){for(z=h.subarray(T=D*_,T+_),Q=[],Z=0;Z<z.length;Z++)Q.push({value:z[Z],index:Z});for(Q.sort(function(fe,me){return me.value-fe.value}),I[D]=0,Z=0;Z<e;Z++)if(Q[Z].index===f[D]){I[D]=1;break}}return i!==r&&r.dispose(),n!==a&&a.dispose(),[2,dt(I,a.shape,"bool")]}})})}});function Yn(i,n){Array.isArray(i)||(i=[i]),i.forEach(function(e){null!=e&&re("complex64"!==e.dtype,function(){return n+" does not support complex64 tensors."})})}function Yp(i,n,e,r){if("linear"===e)return i.linear(n);if("relu"===e)return i.relu(n);if("elu"===e)return i.elu(n);if("relu6"===e)return i.relu6(n);if("prelu"===e)return i.prelu(n,r);throw new Error("Activation "+e+" has not been implemented for the CPU backend.")}var ff=function(i){function n(){var e=i.call(this)||this;return e.blockSize=48,e.firstUse=!0,e.data=new Nr(e,le),e}return H(n,i),n.prototype.write=function(e,r,a){this.firstUse&&(this.firstUse=!1,se().get("IS_NODE")&&la("\n============================\nHi there \u{1f44b}. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));var c={};return this.data.set(c,{values:e,dtype:a}),c},n.prototype.move=function(e,r,a,c){this.data.set(e,{values:r,dtype:c})},n.prototype.numDataIds=function(){return this.data.numDataIds()},n.prototype.read=function(e){return _e(this,void 0,void 0,function(){return J(this,function(r){return[2,this.readSync(e)]})})},n.prototype.readSync=function(e){var r=this.data.get(e),c=r.complexTensors;return"complex64"===r.dtype?jr(this.readSync(c.real.dataId),this.readSync(c.imag.dataId)):this.data.get(e).values},n.prototype.bufferSync=function(e){var r=this.readSync(e.dataId),a=r;if("string"===e.dtype)try{a=r.map(function(c){return Tr(c)})}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return ar(e.shape,e.dtype,a)},n.prototype.makeOutput=function(e,r,a){var c=this.write(e,r,a);return le.makeTensorFromDataId(c,r,a,this)},n.prototype.disposeData=function(e){if(this.data.has(e)){var r=this.data.get(e).complexTensors;null!=r&&(r.real.dispose(),r.imag.dispose()),this.data.delete(e)}},n.prototype.time=function(e){return _e(this,void 0,void 0,function(){var r;return J(this,function(a){return r=rn(),e(),[2,{kernelMs:rn()-r}]})})},n.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},n.prototype.complex=function(e,r){var a=this.makeOutput(null,e.shape,"complex64");return this.data.get(a.dataId).complexTensors={real:le.keep(e.clone()),imag:le.keep(r.clone())},a},n.prototype.real=function(e){return this.data.get(e.dataId).complexTensors.real.clone()},n.prototype.imag=function(e){return this.data.get(e.dataId).complexTensors.imag.clone()},n.prototype.slice=function(e,r,a){if(Yn(e,"slice"),mn(e.shape,r,a)){var c=Wn(r,e.strides),h=je(a);return dt(this.readSync(e.dataId).subarray(c,c+h),a,e.dtype)}for(var f=ar(a,e.dtype),m=this.bufferSync(e),b=0;b<f.size;++b){var _=f.indexToLoc(b).map(function(I,D){return I+r[D]});f.values[b]=m.get.apply(m,_)}return f.toTensor()},n.prototype.stridedSlice=function(e,r,a,c){Yn(e,"stridedSlice");var h=K(r,a,c);if(h.some(function(T){return 0===T}))return dt([],h);for(var f=ar(h,e.dtype),m=this.bufferSync(e),b=0;b<f.size;b++){for(var _=f.indexToLoc(b),I=new Array(_.length),D=0;D<I.length;D++)I[D]=_[D]*c[D]+r[D];f.set.apply(f,[m.get.apply(m,I)].concat(_))}return f.toTensor()},n.prototype.diag=function(e){for(var r=this.readSync(e.dataId),a=ar([e.size,e.size],e.dtype),c=a.values,h=0;h<r.length;h++)c[h*e.size+h]=r[h];return a.toTensor()},n.prototype.unstack=function(e,r){for(var a=e.shape[r],c=new Array(e.rank-1),h=0,f=0;f<e.rank;f++)f!==r&&(c[h++]=e.shape[f]);var m=new Array(e.rank).fill(0),b=e.shape.slice();b[r]=1;var _=new Array(a);for(f=0;f<_.length;f++)m[r]=f,_[f]=this.slice(e,m,b).reshape(c);return _},n.prototype.reverse=function(e,r){Yn(e,"reverse");for(var a=ar(e.shape,e.dtype),c=this.bufferSync(e),h=function(m){var b=a.indexToLoc(m),_=b.slice();r.forEach(function(I){return _[I]=e.shape[I]-1-_[I]}),a.set.apply(a,[c.get.apply(c,_)].concat(b))},f=0;f<a.size;f++)h(f);return a.toTensor()},n.prototype.concat=function(e,r){var a=this;if("complex64"===e[0].dtype){var c=e.map(function(T){return Fe(T)}),h=e.map(function(T){return lt(T)});return ve(this.concat(c,r),this.concat(h,r))}var f=e.map(function(T){var z=je(T.shape.slice(r));return T.as2D(-1,z)}),m=G(f.map(function(T){return T.shape}),1),b=ar(m,e[0].dtype).values;if(1===f[0].shape[0]){var _=0;f.forEach(function(T){b.set(a.readSync(T.dataId),_),_+=T.size})}else{var I=0;f.forEach(function(T){for(var z=a.readSync(T.dataId),Q=0,Z=0;Z<T.shape[0];++Z)for(var ne=Z*m[1]+I,fe=0;fe<T.shape[1];++fe)b[ne+fe]=z[Q++];I+=T.shape[1]})}var D=G(e.map(function(T){return T.shape}),r);return dt(b,D,e[0].dtype)},n.prototype.neg=function(e){return Yn(e,"neg"),this.multiply(St(-1),e)},n.prototype.add=function(e,r){return"complex64"===e.dtype||"complex64"===r.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),r.cast("complex64"),function(a,c,h,f){return{real:a+h,imag:c+f}}):this.broadcastedBinaryOp(e,r,Nn(e.dtype,r.dtype),function(a,c){return a+c})},n.prototype.addN=function(e){var r=this;Yn(e,"addN");for(var a=e.map(function(_){return r.readSync(_.dataId)}),c=ar(e[0].shape,e[0].dtype),h=c.values,f=0;f<e.length;f++)for(var m=a[f],b=0;b<h.length;b++)h[b]+=m[b];return c.toTensor()},n.prototype.softmax=function(e,r){var a=Ue([r],e.shape),c=this.max(e,a),h=yi(c.shape,a),f=this.subtract(e,c.reshape(h)),m=this.exp(f),b=this.sum(m,a).reshape(h);return this.realDivide(m,b)},n.prototype.subtract=function(e,r){return"complex64"===e.dtype||"complex64"===r.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),r.cast("complex64"),function(a,c,h,f){return{real:a-h,imag:c-f}}):this.broadcastedBinaryOp(e,r,Nn(e.dtype,r.dtype),function(a,c){return a-c})},n.prototype.pow=function(e,r){return Yn([e,r],"pow"),this.broadcastedBinaryOp(e,r,e.dtype,function(a,c){return Math.pow(a,c)})},n.prototype.batchMatMul=function(e,r,a,c){Yn([e,r],"matMul");for(var h=a?e.shape[1]:e.shape[2],f=a?e.shape[2]:e.shape[1],m=c?r.shape[1]:r.shape[2],b=e.shape[0],_=this.readSync(e.dataId),I=this.readSync(r.dataId),D=a?[e.strides[0],1,e.strides[1]]:[e.strides[0],e.strides[1],1],T=D[0],z=D[1],Q=D[2],Z=c?[1,r.strides[1],r.strides[0]]:[r.strides[1],1,r.strides[0]],ne=Z[0],fe=Z[1],me=Z[2],he=f*m,we=ar([b,f,m],e.dtype),We=we.values,It=this.blockSize,xt=0;xt<b;xt++)for(var ht=0;ht<f;ht+=It)for(var ft=0;ft<m;ft+=It)for(var Zt=0;Zt<h;Zt+=It)for(var Gt=Math.min(ht+It,f),Dn=Math.min(ft+It,m),On=Math.min(Zt+It,h),Bn=ht;Bn<Gt;Bn++)for(var Jn=ft;Jn<Dn;Jn++){for(var Gn=0,jn=Zt;jn<On;jn++)Gn+=_[xt*T+Bn*z+jn*Q]*I[jn*ne+Jn*fe+xt*me];We[xt*he+(Bn*m+Jn)]+=Gn}return we.toTensor()},n.prototype.fusedBatchMatMul=function(e){var f=e.bias,m=e.activation,b=e.preluActivationWeights,_=this.batchMatMul(e.a,e.b,e.transposeA,e.transposeB);return f&&(_=this.add(_,f)),m&&(_=Yp(this,_,m,b)),_},n.prototype.multiply=function(e,r){return"complex64"===e.dtype||"complex64"===r.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),r.cast("complex64"),function(a,c,h,f){return{real:a*h-c*f,imag:a*f+c*h}}):this.broadcastedBinaryOp(e,r,Nn(e.dtype,r.dtype),function(a,c){return a*c})},n.prototype.realDivide=function(e,r){return Yn([e,r],"realDivide"),this.broadcastedBinaryOp(e,r,"float32",function(a,c){return a/c})},n.prototype.floorDiv=function(e,r){return Yn([e,r],"floorDiv"),this.broadcastedBinaryOp(e,r,"int32",function(a,c){return Math.floor(a/c)})},n.prototype.sum=function(e,r){Yn(e,"sum"),ta("sum",r,e.rank);for(var a=Ei(e.shape,r),h=a[1],f=mo(a[0],Nn(e.dtype,"int32")),m=je(h),b=this.readSync(f.dataId),_=this.readSync(e.dataId),I=0;I<b.length;++I){for(var D=I*m,T=0,z=0;z<m;++z)T+=_[D+z];b[I]=T}return f},n.prototype.prod=function(e,r){Yn(e,"sum");for(var a=Ei(e.shape,r),h=a[1],f=mo(a[0],Nn(e.dtype,"int32")),m=je(h),b=this.readSync(f.dataId),_=this.readSync(e.dataId),I=0;I<b.length;++I){for(var D=I*m,T=1,z=0;z<m;++z)T*=_[D+z];b[I]=T}return f},n.prototype.unsortedSegmentSum=function(e,r,a){Yn(e,"unsortedSegmentSum");for(var c=[],h=e.rank-r.rank,f=0;f<h;++f)r=r.expandDims(f+1);for(f=0;f<a;++f){var m=St(f,"int32"),b=$0(m,r).asType("float32").mul(e).sum(0);c.push(b)}return pa(c)},n.prototype.argMin=function(e,r){Yn(e,"argMin");var a=[r];ta("argMin",a,e.rank);for(var c=Ei(e.shape,a),f=c[1],m=mo(c[0],"int32"),b=je(f),_=this.readSync(m.dataId),I=this.readSync(e.dataId),D=0;D<_.length;++D){for(var T=D*b,z=I[T],Q=0,Z=0;Z<b;++Z){var ne=I[T+Z];ne<z&&(z=ne,Q=Z)}_[D]=Q}return m},n.prototype.argMax=function(e,r){Yn(e,"argMax");var a=[r];ta("argMax",a,e.rank);for(var c=Ei(e.shape,a),f=c[1],m=mo(c[0],"int32"),b=je(f),_=this.readSync(m.dataId),I=this.readSync(e.dataId),D=0;D<_.length;++D){for(var T=D*b,z=I[T],Q=0,Z=0;Z<b;++Z){var ne=I[T+Z];ne>z&&(z=ne,Q=Z)}_[D]=Q}return m},n.prototype.cumsum=function(e,r,a,c){if(Yn(e,"cumsum"),r!==e.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(e.rank-1)+" but got axis="+r);for(var h=Nn(e.dtype,"int32"),f=mo(e.shape,h),m=this.readSync(f.dataId),b=this.readSync(e.dataId),_=e.shape[e.rank-1],I=c?function(Z,ne){return Z+_-ne-1}:function(Z,ne){return Z+ne},D=0;D<b.length;D+=_)for(var T=0;T<_;T++){var z=I(D,T);if(0===T)m[z]=a?0:b[z];else{var Q=I(D,T-1);m[z]=a?b[Q]+m[Q]:b[z]+m[Q]}}return f},n.prototype.equal=function(e,r){return Yn([e,r],"equal"),this.broadcastedBinaryOp(e,r,"bool",function(a,c){return a===c?1:0})},n.prototype.notEqual=function(e,r){return Yn([e,r],"notEqual"),this.broadcastedBinaryOp(e,r,"bool",function(a,c){return a!==c?1:0})},n.prototype.less=function(e,r){return Yn([e,r],"less"),this.broadcastedBinaryOp(e,r,"bool",function(a,c){return a<c?1:0})},n.prototype.lessEqual=function(e,r){return Yn([e,r],"lessEqual"),this.broadcastedBinaryOp(e,r,"bool",function(a,c){return a<=c?1:0})},n.prototype.greater=function(e,r){return Yn([e,r],"greater"),this.broadcastedBinaryOp(e,r,"bool",function(a,c){return a>c?1:0})},n.prototype.greaterEqual=function(e,r){return Yn([e,r],"greaterEqual"),this.broadcastedBinaryOp(e,r,"bool",function(a,c){return a>=c?1:0})},n.prototype.logicalNot=function(e){Yn(e,"logicalNot");for(var r=this.readSync(e.dataId),a=new Uint8Array(r.length),c=0;c<r.length;++c)a[c]=r[c]?0:1;return this.makeOutput(a,e.shape,"bool")},n.prototype.logicalAnd=function(e,r){return Yn([e,r],"logicalAnd"),this.broadcastedBinaryOp(e,r,"bool",function(a,c){return a&&c})},n.prototype.logicalOr=function(e,r){return Yn([e,r],"logicalOr"),this.broadcastedBinaryOp(e,r,"bool",function(a,c){return a||c})},n.prototype.select=function(e,r,a){Yn([e,r,a],"select");for(var c=this.readSync(e.dataId),h=this.readSync(r.dataId),f=this.readSync(a.dataId),m=mo(r.shape,Nn(r.dtype,a.dtype)),b=this.readSync(m.dataId),_=0,I=0===e.rank||e.rank>1||1===r.rank?1:je(r.shape.slice(1)),D=0;D<c.length;D++)for(var T=0;T<I;T++)b[_++]=1===c[D]?h[D]:f[D];return m},n.prototype.where=function(e){Yn([e],"where");var r=this.readSync(e.dataId);return Oc(e.shape,r)},n.prototype.topk=function(e,r,a){return Yn(e,"topk"),xl(this.readSync(e.dataId),e.shape,e.dtype,r)},n.prototype.min=function(e,r){Yn(e,"min"),ta("min",r,e.rank);for(var a=Ei(e.shape,r),h=a[1],f=mo(a[0],e.dtype),m=je(h),b=this.readSync(f.dataId),_=this.readSync(e.dataId),I=0;I<b.length;++I){for(var D=I*m,T=_[D],z=0;z<m;++z){var Q=_[D+z];Q<T&&(T=Q)}b[I]=T}return f},n.prototype.minimum=function(e,r){return Yn([e,r],"minimum"),this.broadcastedBinaryOp(e,r,e.dtype,function(a,c){return Math.min(a,c)})},n.prototype.mod=function(e,r){return Yn([e,r],"mod"),this.broadcastedBinaryOp(e,r,e.dtype,function(a,c){var h=a%c;return a<0&&c<0||a>=0&&c>=0?h:(h+c)%c})},n.prototype.max=function(e,r){Yn(e,"max"),ta("max",r,e.rank);for(var a=Ei(e.shape,r),h=a[1],f=mo(a[0],e.dtype),m=je(h),b=this.readSync(f.dataId),_=this.readSync(e.dataId),I=0;I<b.length;++I){for(var D=I*m,T=_[D],z=0;z<m;++z){var Q=_[D+z];Q>T&&(T=Q)}b[I]=T}return f},n.prototype.maximum=function(e,r){return Yn([e,r],"maximum"),this.broadcastedBinaryOp(e,r,e.dtype,function(a,c){return Math.max(a,c)})},n.prototype.all=function(e,r){Yn(e,"all"),ta("all",r,e.rank);for(var a=Ei(e.shape,r),h=a[1],f=mo(a[0],e.dtype),m=je(h),b=this.readSync(f.dataId),_=this.readSync(e.dataId),I=0;I<b.length;++I){for(var D=I*m,T=_[D],z=0;z<m;++z)T=T&&_[D+z];b[I]=T}return f},n.prototype.any=function(e,r){Yn(e,"any"),ta("any",r,e.rank);for(var a=Ei(e.shape,r),h=a[1],f=mo(a[0],e.dtype),m=je(h),b=this.readSync(f.dataId),_=this.readSync(e.dataId),I=0;I<b.length;++I){for(var D=I*m,T=_[D],z=0;z<m;++z)T=T||_[D+z];b[I]=T}return f},n.prototype.squaredDifference=function(e,r){return Yn([e,r],"squaredDifference"),this.broadcastedBinaryOp(e,r,e.dtype,function(a,c){var h=a-c;return h*h})},n.prototype.ceil=function(e){Yn(e,"ceil");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),c=0;c<r.length;++c)a[c]=Math.ceil(r[c]);return this.makeOutput(a,e.shape,"float32")},n.prototype.floor=function(e){Yn(e,"floor");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),c=0;c<r.length;++c)a[c]=Math.floor(r[c]);return this.makeOutput(a,e.shape,"float32")},n.prototype.sign=function(e){Yn(e,"x");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),c=0;c<r.length;++c)a[c]=r[c]<0?-1:r[c]>0?1:0;return this.makeOutput(a,e.shape,"float32")},n.prototype.isNaN=function(e){Yn(e,"x");for(var r=this.readSync(e.dataId),a=new Uint8Array(r.length),c=0;c<r.length;++c)Number.isNaN(r[c])&&(a[c]=1);return this.makeOutput(a,e.shape,"bool")},n.prototype.isInf=function(e){Yn(e,"x");for(var r=this.readSync(e.dataId),a=new Uint8Array(r.length),c=0;c<r.length;++c)Math.abs(r[c])===1/0&&(a[c]=1);return this.makeOutput(a,e.shape,"bool")},n.prototype.isFinite=function(e){Yn(e,"x");for(var r=this.readSync(e.dataId),a=new Uint8Array(r.length),c=0;c<r.length;++c)Number.isFinite(r[c])&&(a[c]=1);return this.makeOutput(a,e.shape,"bool")},n.prototype.round=function(e){Yn(e,"round");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),c=0;c<r.length;++c){var h=Math.floor(r[c]);a[c]=r[c]-h<.5?Math.floor(r[c]):r[c]-h>.5?Math.ceil(r[c]):h%2==0?h:h+1}return this.makeOutput(a,e.shape,"float32")},n.prototype.exp=function(e){Yn(e,"exp");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),c=0;c<r.length;++c)a[c]=Math.exp(r[c]);return this.makeOutput(a,e.shape,"float32")},n.prototype.expm1=function(e){Yn(e,"expm1");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),c=0;c<r.length;++c)a[c]=Math.expm1(r[c]);return this.makeOutput(a,e.shape,"float32")},n.prototype.log=function(e){Yn(e,"log");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),c=0;c<r.length;++c)a[c]=Math.log(r[c]);return this.makeOutput(a,e.shape,"float32")},n.prototype.log1p=function(e){Yn(e,"log1p");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),c=0;c<r.length;++c)a[c]=Math.log1p(r[c]);return this.makeOutput(a,e.shape,"float32")},n.prototype.sqrt=function(e){Yn(e,"sqrt");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),c=0;c<r.length;++c)a[c]=Math.sqrt(r[c]);return this.makeOutput(a,e.shape,"float32")},n.prototype.rsqrt=function(e){Yn(e,"rsqrt");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),c=0;c<r.length;++c)a[c]=1/Math.sqrt(r[c]);return this.makeOutput(a,e.shape,"float32")},n.prototype.reciprocal=function(e){Yn(e,"reciprocal");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),c=0;c<r.length;++c)a[c]=1/r[c];return this.makeOutput(a,e.shape,"float32")},n.prototype.linear=function(e){return e},n.prototype.relu=function(e){Yn(e,"relu");for(var r=mo(e.shape,e.dtype),a=this.readSync(r.dataId),c=this.readSync(e.dataId),h=0;h<c.length;++h)a[h]=Math.max(0,c[h]);return r},n.prototype.relu6=function(e){Yn(e,"relu");for(var r=mo(e.shape,e.dtype),a=this.readSync(r.dataId),c=this.readSync(e.dataId),h=0;h<c.length;++h)a[h]=Math.min(Math.max(0,c[h]),6);return r},n.prototype.prelu=function(e,r){return Yn([e,r],"prelu"),this.broadcastedBinaryOp(e,r,e.dtype,function(a,c){return a<0?c*a:a})},n.prototype.elu=function(e){Yn(e,"elu");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c){var h=a[c];r[c]=h>=0?h:Math.exp(h)-1}return this.makeOutput(r,e.shape,"float32")},n.prototype.eluDer=function(e,r){Yn([e,r],"eluDer");for(var a=new Float32Array(r.size),c=this.readSync(r.dataId),h=this.readSync(e.dataId),f=0;f<c.length;++f){var m=c[f];a[f]=m>=1?h[f]:h[f]*(m+1)}return this.makeOutput(a,r.shape,"float32")},n.prototype.selu=function(e){Yn(e,"selu");for(var r=Mu,a=Ru,c=new Float32Array(e.size),h=this.readSync(e.dataId),f=0;f<h.length;++f){var m=h[f];c[f]=m>=0?a*m:r*(Math.exp(m)-1)}return this.makeOutput(c,e.shape,"float32")},n.prototype.clip=function(e,r,a){Yn(e,"clip");for(var c=new Float32Array(e.size),h=this.readSync(e.dataId),f=0;f<h.length;++f){var m=h[f];c[f]=m>a?a:m<r?r:m}return this.makeOutput(c,e.shape,"float32")},n.prototype.abs=function(e){for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=Math.abs(a[c]);return this.makeOutput(r,e.shape,"float32")},n.prototype.complexAbs=function(e){for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<e.size;++c)r[c]=Math.hypot(a[2*c],a[2*c+1]);return this.makeOutput(r,e.shape,"float32")},n.prototype.int=function(e){Yn(e,"int");for(var r=new Int32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=a[c];return this.makeOutput(r,e.shape,"int32")},n.prototype.sigmoid=function(e){Yn(e,"sigmoid");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=1/(1+Math.exp(-a[c]));return this.makeOutput(r,e.shape,"float32")},n.prototype.softplus=function(e){Yn(e,"softplus");for(var r=Math.log(1.1920928955078125e-7)+2,a=new Float32Array(e.size),c=this.readSync(e.dataId),h=0;h<c.length;++h){var _,f=c[h]>-r,m=c[h]<r,b=Math.exp(c[h]);_=m?b:f?c[h]:Math.log(1+b),a[h]=_}return this.makeOutput(a,e.shape,"float32")},n.prototype.sin=function(e){Yn(e,"sin");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=Math.sin(a[c]);return this.makeOutput(r,e.shape,"float32")},n.prototype.cos=function(e){Yn(e,"cos");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=Math.cos(a[c]);return this.makeOutput(r,e.shape,"float32")},n.prototype.tan=function(e){Yn(e,"tan");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=Math.tan(a[c]);return this.makeOutput(r,e.shape,"float32")},n.prototype.asin=function(e){Yn(e,"asin");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=Math.asin(a[c]);return this.makeOutput(r,e.shape,"float32")},n.prototype.acos=function(e){Yn(e,"acos");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=Math.acos(a[c]);return this.makeOutput(r,e.shape,"float32")},n.prototype.atan=function(e){Yn(e,"atan");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=Math.atan(a[c]);return this.makeOutput(r,e.shape,"float32")},n.prototype.atan2=function(e,r){return Yn([e,r],"atan2"),this.broadcastedBinaryOp(e,r,e.dtype,function(a,c){return Math.atan2(a,c)})},n.prototype.sinh=function(e){Yn(e,"sinh");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=Math.sinh(a[c]);return this.makeOutput(r,e.shape,"float32")},n.prototype.cosh=function(e){Yn(e,"cosh");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=Math.cosh(a[c]);return this.makeOutput(r,e.shape,"float32")},n.prototype.tanh=function(e){Yn(e,"tanh");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=Xn(a[c]);return this.makeOutput(r,e.shape,"float32")},n.prototype.asinh=function(e){Yn(e,"asinh");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=Math.asinh(a[c]);return this.makeOutput(r,e.shape,"float32")},n.prototype.acosh=function(e){Yn(e,"acosh");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=Math.acosh(a[c]);return this.makeOutput(r,e.shape,"float32")},n.prototype.atanh=function(e){Yn(e,"atanh");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c)r[c]=Math.atanh(a[c]);return this.makeOutput(r,e.shape,"float32")},n.prototype.erf=function(e){Yn(e,"erf");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),c=0;c<a.length;++c){var h=Math.sign(a[c]),f=Math.abs(a[c]),m=1/(1+.3275911*f);r[c]=h*(1-((((1.061405429*m-1.453152027)*m+1.421413741)*m-.284496736)*m+.254829592)*m*Math.exp(-f*f))}return this.makeOutput(r,e.shape,"float32")},n.prototype.step=function(e,r){void 0===r&&(r=0),Yn(e,"step");for(var a=new Float32Array(e.size),c=this.readSync(e.dataId),h=0;h<c.length;++h){var f=c[h];a[h]=isNaN(f)?NaN:f>0?1:r}return this.makeOutput(a,e.shape,"float32")},n.prototype.fusedConv2d=function(e){var h=e.bias,f=e.activation,m=e.preluActivationWeights,b=this.conv2d(e.input,e.filter,e.convInfo);return h&&(b=this.add(b,h)),f&&(b=Yp(this,b,f,m)),b},n.prototype.conv2d=function(e,r,a){Yn([e,r],"conv2d");for(var c=a.filterHeight,h=a.filterWidth,f=a.dilationHeight,m=a.dilationWidth,b=a.padInfo.left,_=a.padInfo.top,I="channelsLast"===a.dataFormat,D=ar(a.outShape,e.dtype),T=e.strides[0],z=I?e.strides[1]:e.strides[2],Q=I?e.strides[2]:1,Z=I?1:e.strides[1],ne=D.strides[0],fe=I?D.strides[1]:D.strides[2],me=I?D.strides[2]:1,he=I?1:D.strides[1],we=this.readSync(e.dataId),We=this.readSync(r.dataId),It=D.values,xt=0;xt<a.batchSize;++xt)for(var ht=xt*T,ft=xt*ne,Zt=0;Zt<a.outHeight;++Zt)for(var Gt=ft+Zt*fe,Dn=Zt*a.strideHeight-_,On=0;On<c;On++){var Bn=Dn+On*f;if(!(Bn<0||Bn>=a.inHeight))for(var Jn=On*r.strides[0],Gn=ht+Bn*z,jn=0;jn<a.outWidth;++jn)for(var nr=Gt+jn*me,or=jn*a.strideWidth-b,Fr=0;Fr<h;Fr++){var ro=or+Fr*m;if(!(ro<0||ro>=a.inWidth))for(var vo=Gn+ro*Q,Zo=Jn+Fr*r.strides[1],Jo=0;Jo<a.inChannels;++Jo){for(var si=we[vo+Jo*Z],mi=0;mi<a.outChannels;++mi)It[nr+mi*he]+=si*We[Zo+mi];Zo+=a.outChannels}}}return D.toTensor()},n.prototype.conv3d=function(e,r,a){for(var c=a.filterDepth,h=a.filterHeight,f=a.filterWidth,m=a.dilationDepth,b=a.dilationHeight,_=a.dilationWidth,I=a.padInfo.front,D=a.padInfo.left,T=a.padInfo.top,z=ar(a.outShape,e.dtype),Q=this.readSync(e.dataId),Z=this.readSync(r.dataId),ne=z.values,fe=0;fe<a.batchSize;++fe)for(var me=fe*e.strides[0],he=fe*z.strides[0],we=0;we<a.outDepth;++we)for(var We=he+we*z.strides[1],It=we*a.strideDepth-I,xt=0;xt<c;xt++){var ht=It+xt*m;if(!(ht<0||ht>=a.inDepth))for(var ft=xt*r.strides[0],Zt=me+ht*e.strides[1],Gt=0;Gt<a.outHeight;++Gt)for(var Dn=We+Gt*z.strides[2],On=Gt*a.strideHeight-T,Bn=0;Bn<h;Bn++){var Jn=On+Bn*b;if(!(Jn<0||Jn>=a.inHeight))for(var Gn=ft+Bn*r.strides[1],jn=Zt+Jn*e.strides[2],nr=0;nr<a.outWidth;++nr)for(var or=Dn+nr*a.outChannels,Fr=nr*a.strideWidth-D,ro=0;ro<f;ro++){var vo=Fr+ro*_;if(!(vo<0||vo>=a.inWidth))for(var Jo=jn+vo*a.inChannels,si=Gn+ro*r.strides[2],mi=0;mi<a.inChannels;++mi){for(var fi=Q[Jo+mi],gi=0;gi<a.outChannels;++gi)ne[or+gi]+=fi*Z[si+gi];si+=a.outChannels}}}}return z.toTensor()},n.prototype.conv2dDerInput=function(e,r,a){Yn([e,r],"conv2dDerInput");for(var c=ar(a.inShape,"float32"),h=c.values,f=this.readSync(e.dataId),m=this.readSync(r.dataId),b=r.strides,_=b[0],I=b[1],D=b[2],T=a.batchSize,z=a.filterHeight,Q=a.filterWidth,Z=a.inChannels,ne=a.inHeight,fe=a.inWidth,me=a.outChannels,he=a.outHeight,we=a.outWidth,We=a.strideHeight,It=a.strideWidth,ht=z-1-a.padInfo.top,ft=Q-1-a.padInfo.left,Zt="channelsLast"===a.dataFormat,Gt=c.strides[0],Dn=Zt?c.strides[1]:c.strides[2],On=Zt?c.strides[2]:1,Bn=Zt?1:c.strides[1],Jn=e.strides[0],Gn=Zt?e.strides[1]:e.strides[2],jn=Zt?e.strides[2]:1,nr=Zt?1:e.strides[1],or=0;or<T;++or)for(var Fr=0;Fr<Z;++Fr)for(var ro=0;ro<ne;++ro)for(var vo=ro-ht,Zo=Math.max(0,Math.ceil(vo/We)),Jo=Math.min(he,(z+vo)/We),si=0;si<fe;++si){for(var mi=si-ft,fi=Math.max(0,Math.ceil(mi/It)),gi=Math.min(we,(Q+mi)/It),$a=0,pi=Zo;pi<Jo;++pi)for(var ji=pi*We-vo,Si=fi;Si<gi;++Si)for(var va=Jn*or+Gn*pi+jn*Si,sa=_*(z-1-ji)+I*(Q-1-(Si*It-mi))+D*Fr,Ca=0;Ca<me;++Ca)$a+=f[va+nr*Ca]*m[sa+Ca];h[Gt*or+Dn*ro+On*si+Bn*Fr]=$a}return c.toTensor()},n.prototype.conv3dDerInput=function(e,r,a){for(var c=ar(a.inShape,"float32"),h=c.values,f=c.strides,m=f[0],b=f[1],_=f[2],I=f[3],D=this.readSync(e.dataId),T=e.strides,z=T[0],Q=T[1],Z=T[2],ne=T[3],fe=this.readSync(r.dataId),me=r.strides,he=me[0],we=me[1],We=me[2],It=me[3],xt=a.batchSize,ht=a.filterDepth,ft=a.filterHeight,Zt=a.filterWidth,Gt=a.inChannels,Dn=a.inDepth,On=a.inHeight,Bn=a.inWidth,Jn=a.outChannels,Gn=a.outDepth,jn=a.outHeight,nr=a.outWidth,or=a.strideDepth,Fr=a.strideHeight,ro=a.strideWidth,vo=ht-1-a.padInfo.front,Zo=ft-1-a.padInfo.top,Jo=Zt-1-a.padInfo.left,si=0;si<xt;++si)for(var mi=0;mi<Gt;++mi)for(var fi=0;fi<Dn;++fi)for(var gi=fi-vo,$a=Math.max(0,Math.ceil(gi/or)),pi=Math.min(Gn,(ht+gi)/or),ji=0;ji<On;++ji)for(var Si=ji-Zo,va=Math.max(0,Math.ceil(Si/Fr)),sa=Math.min(jn,(ft+Si)/Fr),Ca=0;Ca<Bn;++Ca){for(var Cc=Ca-Jo,Ic=Math.max(0,Math.ceil(Cc/ro)),gl=Math.min(nr,(Zt+Cc)/ro),Gf=0,su=$a;su<pi;++su)for(var ld=su*or-gi,lu=va;lu<sa;++lu)for(var Xf=lu*Fr-Si,Ec=Ic;Ec<gl;++Ec)for(var cu=z*si+Q*su+Z*lu+ne*Ec,ql=he*(ht-1-ld)+we*(ft-1-Xf)+We*(Zt-1-(Ec*ro-Cc))+It*mi,Yl=0;Yl<Jn;++Yl)Gf+=D[cu+Yl]*fe[ql+Yl];h[m*si+b*fi+_*ji+I*Ca+mi]=Gf}return c.toTensor()},n.prototype.conv2dDerFilter=function(e,r,a){Yn([e,r],"conv2dDerFilter");for(var c=a.strideHeight,h=a.strideWidth,f=a.filterHeight,m=a.filterWidth,b="channelsLast"===a.dataFormat,_=ar(a.filterShape,"float32"),I=a.padInfo.left,D=a.padInfo.top,T=this.bufferSync(e),z=this.bufferSync(r),Q=0;Q<f;++Q)for(var Z=Math.max(0,Math.ceil((D-Q)/c)),ne=Math.min(a.outHeight,(a.inHeight+D-Q)/c),fe=0;fe<m;++fe)for(var me=Math.max(0,Math.ceil((I-fe)/h)),he=Math.min(a.outWidth,(a.inWidth+I-fe)/h),we=0;we<a.inChannels;++we)for(var We=0;We<a.outChannels;++We){for(var It=0,xt=0;xt<a.batchSize;++xt)for(var ht=Z;ht<ne;++ht)for(var ft=Q+ht*c-D,Zt=me;Zt<he;++Zt){var Gt=fe+Zt*h-I;It+=b?T.get(xt,ft,Gt,we)*z.get(xt,ht,Zt,We):T.get(xt,we,ft,Gt)*z.get(xt,We,ht,Zt)}_.set(It,Q,fe,we,We)}return _.toTensor()},n.prototype.conv3dDerFilter=function(e,r,a){for(var c=a.strideDepth,h=a.strideHeight,f=a.strideWidth,m=a.filterDepth,b=a.filterHeight,_=a.filterWidth,I=ar(a.filterShape,"float32"),D=I.values,T=I.strides,z=T[0],Q=T[1],Z=T[2],ne=T[3],fe=this.readSync(r.dataId),me=r.strides,he=me[0],we=me[1],We=me[2],It=me[3],xt=this.readSync(e.dataId),ht=e.strides,ft=ht[0],Zt=ht[1],Gt=ht[2],Dn=ht[3],On=a.padInfo.front,Bn=a.padInfo.left,Jn=a.padInfo.top,Gn=0;Gn<m;++Gn)for(var jn=Math.max(0,Math.ceil((On-Gn)/c)),nr=Math.min(a.outDepth,(a.inDepth+On-Gn)/c),or=Gn*z,Fr=0;Fr<b;++Fr)for(var ro=Math.max(0,Math.ceil((Jn-Fr)/h)),vo=Math.min(a.outHeight,(a.inHeight+Jn-Fr)/h),Zo=Fr*Q+or,Jo=0;Jo<_;++Jo)for(var si=Math.max(0,Math.ceil((Bn-Jo)/f)),mi=Math.min(a.outWidth,(a.inWidth+Bn-Jo)/f),fi=Jo*Z+Zo,gi=0;gi<a.inChannels;++gi)for(var $a=gi*ne+fi,pi=0;pi<a.outChannels;++pi){for(var ji=0,Si=0;Si<a.batchSize;++Si)for(var va=Si*ft,sa=Si*he,Ca=jn;Ca<nr;++Ca)for(var Cc=(Gn+Ca*c-On)*Zt+va,Ic=Ca*we+sa,gl=ro;gl<vo;++gl)for(var Gf=(Fr+gl*h-Jn)*Gt+Cc,su=gl*We+Ic,ld=si;ld<mi;++ld)ji+=xt[(Jo+ld*f-Bn)*Dn+Gf+gi]*fe[ld*It+su+pi];D[$a+pi]=ji}return I.toTensor()},n.prototype.fusedDepthwiseConv2D=function(e){var h=e.bias,f=e.activation,m=e.preluActivationWeights,b=this.depthwiseConv2D(e.input,e.filter,e.convInfo);return h&&(b=this.add(b,h)),f&&(b=Yp(this,b,f,m)),b},n.prototype.depthwiseConv2D=function(e,r,a){Yn([e,r],"depthwiseConv2D");for(var c=a.filterHeight,h=a.filterWidth,f=a.dilationHeight,m=a.dilationWidth,b=a.padInfo.left,_=a.padInfo.top,I=a.outChannels/a.inChannels,D=ar(a.outShape,e.dtype),T=this.readSync(e.dataId),z=this.readSync(r.dataId),Q=D.values,Z=0;Z<a.batchSize;++Z)for(var ne=Z*e.strides[0],fe=Z*D.strides[0],me=0;me<a.outHeight;++me)for(var he=fe+me*D.strides[1],we=me*a.strideHeight-b,We=0;We<c;++We){var It=we+We*f;if(!(It<0||It>=a.inHeight))for(var xt=We*r.strides[0],ht=ne+It*e.strides[1],ft=0;ft<a.outWidth;++ft)for(var Zt=he+ft*D.strides[2],Gt=ft*a.strideWidth-_,Dn=0;Dn<h;++Dn){var On=Gt+Dn*m;if(!(On<0||On>=a.inWidth))for(var Jn=ht+On*a.inChannels,Gn=Zt,jn=xt+Dn*r.strides[1],nr=0;nr<a.inChannels;++nr){for(var or=T[Jn+nr],Fr=0;Fr<I;++Fr)Q[Gn+Fr]+=or*z[jn+Fr];Gn+=I,jn+=I}}}return D.toTensor()},n.prototype.depthwiseConv2DDerInput=function(e,r,a){Yn([e,r],"depthwiseConv2DDerInput");for(var c=ar(a.inShape,"float32"),h=c.values,f=c.strides,m=f[0],b=f[1],_=f[2],I=this.readSync(e.dataId),D=e.strides,T=D[0],z=D[1],Q=D[2],Z=this.readSync(r.dataId),ne=r.strides,fe=ne[0],me=ne[1],he=ne[2],we=a.batchSize,We=a.filterHeight,It=a.filterWidth,xt=a.inChannels,ht=a.inHeight,ft=a.inWidth,Gt=a.outHeight,Dn=a.outWidth,On=a.strideHeight,Bn=a.strideWidth,Jn=We-1-a.padInfo.top,Gn=It-1-a.padInfo.left,jn=a.outChannels/xt,nr=0;nr<we;++nr)for(var or=0;or<xt;++or)for(var Fr=0;Fr<ht;++Fr)for(var ro=Fr-Jn,vo=Math.max(0,Math.ceil(ro/On)),Zo=Math.min(Gt,(We+ro)/On),Jo=0;Jo<ft;++Jo){for(var si=Jo-Gn,mi=Math.max(0,Math.ceil(si/Bn)),fi=Math.min(Dn,(It+si)/Bn),gi=0,$a=vo;$a<Zo;++$a)for(var pi=$a*On-ro,ji=mi;ji<fi;++ji)for(var Si=T*nr+z*$a+Q*ji,va=fe*(We-1-pi)+me*(It-1-(ji*Bn-si))+he*or,sa=0;sa<jn;++sa)gi+=I[Si+(or*jn+sa)]*Z[va+sa];h[m*nr+b*Fr+_*Jo+or]=gi}return c.toTensor()},n.prototype.depthwiseConv2DDerFilter=function(e,r,a){Yn([e,r],"depthwiseConv2DDerFilter");for(var c=a.strideHeight,h=a.strideWidth,f=a.filterHeight,m=a.filterWidth,b=ar(a.filterShape,"float32"),_=a.padInfo.left,I=a.padInfo.top,D=a.outChannels/a.inChannels,T=this.bufferSync(e),z=this.bufferSync(r),Q=0;Q<f;++Q)for(var Z=Math.max(0,Math.ceil((I-Q)/c)),ne=Math.min(a.outHeight,(a.inHeight+I-Q)/c),fe=0;fe<m;++fe)for(var me=Math.max(0,Math.ceil((_-fe)/h)),he=Math.min(a.outWidth,(a.inWidth+_-fe)/h),we=0;we<a.outChannels;++we){for(var We=Math.trunc(we/D),It=we%D,xt=0,ht=0;ht<a.batchSize;++ht)for(var ft=Z;ft<ne;++ft)for(var Zt=Q+ft*c-I,Gt=me;Gt<he;++Gt)xt+=T.get(ht,Zt,fe+Gt*h-_,We)*z.get(ht,ft,Gt,we);b.set(xt,Q,fe,We,It)}return b.toTensor()},n.prototype.tile=function(e,r){return Yn(e,"tile"),gs(this.bufferSync(e),r)},n.prototype.pad=function(e,r,a){Yn(e,"pad");var c=r.map(function(D,T){return D[0]+e.shape[T]+D[1]}),h=r.map(function(D){return D[0]}),f=this.bufferSync(e),m=ar(c,e.dtype);0!==a&&m.values.fill(a);for(var b=0;b<e.size;b++){var _=f.indexToLoc(b),I=_.map(function(D,T){return D+h[T]});m.set.apply(m,[f.get.apply(f,_)].concat(I))}return m.toTensor()},n.prototype.transpose=function(e,r){Yn(e,"transpose");for(var a=new Array(e.rank),c=0;c<a.length;c++)a[c]=e.shape[r[c]];var h=this.readSync(e.dataId),f=ar(a,e.dtype),m=this.bufferSync(e);for(c=0;c<e.size;++c){for(var b=m.indexToLoc(c),_=new Array(b.length),I=0;I<_.length;I++)_[I]=b[r[I]];var D=f.locToIndex(_);f.values[D]=h[c]}return f.toTensor()},n.prototype.gather=function(e,r,a){Yn([e,r],"gather");var c=e.shape.slice(),h=this.readSync(r.dataId);c[a]=h.length;for(var f=ar(c,e.dtype),m=this.bufferSync(e),b=0;b<f.size;++b){var _=f.indexToLoc(b),I=_.slice();I[a]=h[_[a]];var D=m.locToIndex(I);f.values[b]=m.values[D]}return f.toTensor()},n.prototype.batchToSpaceND=function(e,r,a){Yn([e],"batchToSpaceND");var c=r.reduce(function(I,D){return I*D}),h=Ns(e.shape,r,c),f=Rl(h.length,r.length),m=Ws(e.shape,r,c),b=rc(a,r.length),_=oc(m,a,r.length);return e.reshape(h).transpose(f).reshape(m).slice(b,_)},n.prototype.spaceToBatchND=function(e,r,a){Yn([e],"spaceToBatchND");var c=r.reduce(function(D,T){return D*T}),h=[[0,0]];h.push.apply(h,a);for(var f=1+r.length;f<e.shape.length;++f)h.push([0,0]);var m=e.pad(h),b=Ns(m.shape,r,c,!1),_=Rl(b.length,r.length,!1),I=Ws(m.shape,r,c,!1);return m.reshape(b).transpose(_).reshape(I)},n.prototype.pool=function(e,r,a){Yn(e,"pool");for(var c=r.strideHeight,h=r.strideWidth,f=r.dilationHeight,m=r.dilationWidth,b=r.effectiveFilterHeight,_=r.effectiveFilterWidth,I=r.padInfo.top,D=r.padInfo.left,T="max"===a?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,z=this.readSync(e.dataId),Q=ar(r.outShape,e.dtype),Z=Q.values,ne=r.outShape[1]*r.outShape[2]*r.outShape[3],fe=r.outShape[2]*r.outShape[3],me=r.outShape[3],he=0;he<r.batchSize;++he)for(var we=he*ne,We=he*e.strides[0],It=0;It<r.inChannels;++It)for(var xt=0;xt<r.outHeight;++xt)for(var ht=xt*c-I,ft=Math.max(0,ht),Zt=Math.min(r.inHeight,b+ht),Gt=we+xt*fe,Dn=0;Dn<r.outWidth;++Dn){for(var On=Dn*h-D,Bn=Math.max(0,On),Jn=Math.min(r.inWidth,_+On),Gn=T,jn=0,nr=0,or=ft;or<Zt;or+=f){for(var Fr=We+or*e.strides[1],ro=Bn;ro<Jn;ro+=m){var vo=z[Fr+ro*e.strides[2]+It];"max"===a&&vo>Gn?Gn=vo:"avg"===a&&(jn+=vo,nr++)}if(isNaN(Gn))break}Z[Gt+Dn*me+It]="avg"===a?jn/nr:Gn}return Q.toTensor()},n.prototype.maxPool=function(e,r){return this.pool(e,r,"max")},n.prototype.maxPoolPositions=function(e,r){for(var a=ar(r.outShape,"int32"),c=r.strideHeight,h=r.strideWidth,f=r.dilationHeight,m=r.dilationWidth,b=r.effectiveFilterHeight,_=r.effectiveFilterWidth,I=r.padInfo.top,D=r.padInfo.left,T=this.bufferSync(e),z=0;z<r.batchSize;++z)for(var Q=0;Q<r.inChannels;++Q)for(var Z=0;Z<r.outHeight;++Z){for(var ne=Z*c-I,fe=ne;fe<0;)fe+=f;for(var me=Math.min(r.inHeight,b+ne),he=0;he<r.outWidth;++he){for(var we=he*h-D,We=we;We<0;)We+=m;for(var It=Math.min(r.inWidth,_+we),xt=Number.NEGATIVE_INFINITY,ht=-1,ft=fe;ft<me;ft+=f)for(var Zt=ft-ne,Gt=We;Gt<It;Gt+=m){var Dn=Gt-we,On=T.get(z,ft,Gt,Q);On>xt&&(xt=On,ht=Zt*_+Dn)}a.set(ht,z,Z,he,Q)}}return a.toTensor()},n.prototype.maxPoolBackprop=function(e,r,a,c){Yn([r,a],"maxPoolBackprop");for(var h=this.maxPoolPositions(r,c),f=c.strideHeight,m=c.strideWidth,b=c.dilationHeight,_=c.dilationWidth,I=c.effectiveFilterHeight,D=c.effectiveFilterWidth,T=D-1-c.padInfo.left,z=I-1-c.padInfo.top,Q=ar(r.shape,"float32"),Z=this.bufferSync(h),ne=this.bufferSync(e),fe=0;fe<c.batchSize;++fe)for(var me=0;me<c.inChannels;++me)for(var he=0;he<c.inHeight;++he)for(var we=0;we<c.inWidth;++we){for(var We=he-z,It=we-T,xt=0,ht=0;ht<I;ht+=b){var ft=(We+ht)/f;if(!(ft<0||ft>=c.outHeight||Math.floor(ft)!==ft))for(var Zt=0;Zt<D;Zt+=_){var Gt=(It+Zt)/m;if(!(Gt<0||Gt>=c.outWidth||Math.floor(Gt)!==Gt)){var Dn=I*D-1-Z.get(fe,ft,Gt,me)===ht*D+Zt?1:0;0!==Dn&&(xt+=ne.get(fe,ft,Gt,me)*Dn)}}}Q.set(xt,fe,he,we,me)}return Q.toTensor()},n.prototype.avgPoolBackprop=function(e,r,a){Yn([e,r],"avgPoolBackprop");for(var c=a.strideHeight,h=a.strideWidth,f=a.filterHeight,m=a.filterWidth,b=a.dilationHeight,_=a.dilationWidth,I=a.effectiveFilterHeight,D=a.effectiveFilterWidth,T=D-1-a.padInfo.left,z=I-1-a.padInfo.top,Q=ar(r.shape,"float32"),Z=1/(f*m),ne=this.bufferSync(e),fe=0;fe<a.batchSize;++fe)for(var me=0;me<a.inChannels;++me)for(var he=0;he<a.inHeight;++he)for(var we=0;we<a.inWidth;++we){for(var We=he-z,It=we-T,xt=0,ht=0;ht<I;ht+=b){var ft=(We+ht)/c;if(!(ft<0||ft>=a.outHeight||Math.floor(ft)!==ft))for(var Zt=0;Zt<D;Zt+=_){var Gt=(It+Zt)/h;Gt<0||Gt>=a.outWidth||Math.floor(Gt)!==Gt||(xt+=ne.get(fe,ft,Gt,me))}}Q.set(xt*Z,fe,he,we,me)}return Q.toTensor()},n.prototype.pool3d=function(e,r,a){Yn(e,"pool3d");for(var c=r.strideDepth,h=r.strideHeight,f=r.strideWidth,m=r.dilationDepth,b=r.dilationHeight,_=r.dilationWidth,I=r.effectiveFilterDepth,D=r.effectiveFilterHeight,T=r.effectiveFilterWidth,z=r.padInfo.front,Q=r.padInfo.top,Z=r.padInfo.left,ne="max"===a?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,fe=this.readSync(e.dataId),me=ar(r.outShape,e.dtype),he=me.values,we=r.outShape[1]*r.outShape[2]*r.outShape[3]*r.outShape[4],We=r.outShape[2]*r.outShape[3]*r.outShape[4],It=r.outShape[3]*r.outShape[4],xt=r.outShape[4],ht=0;ht<r.batchSize;++ht)for(var ft=ht*we,Zt=ht*e.strides[0],Gt=0;Gt<r.inChannels;++Gt)for(var Dn=0;Dn<r.outDepth;++Dn){for(var On=Dn*c-z,Bn=On;Bn<0;)Bn+=m;for(var Jn=Math.min(r.inDepth,I+On),Gn=ft+Dn*We,jn=0;jn<r.outHeight;++jn){for(var nr=jn*h-Q,or=nr;or<0;)or+=b;for(var Fr=Math.min(r.inHeight,D+nr),ro=Gn+jn*It,vo=0;vo<r.outWidth;++vo){for(var Zo=vo*f-Z,Jo=Zo;Jo<0;)Jo+=_;for(var si=Math.min(r.inWidth,T+Zo),mi=ro+vo*xt,fi=ne,gi=0,$a=0,pi=Bn;pi<Jn;pi+=m){for(var ji=Zt+pi*e.strides[1],Si=or;Si<Fr;Si+=b){for(var va=ji+Si*e.strides[2],sa=Jo;sa<si;sa+=_){var Ca=fe[va+sa*e.strides[3]+Gt];if("max"===a&&Ca>fi?fi=Ca:"avg"===a&&(gi+=Ca,$a++),isNaN(fi))break}if(isNaN(fi))break}if(isNaN(fi))break}he[mi+Gt]="avg"===a?gi/$a:fi}}}return me.toTensor()},n.prototype.avgPool3d=function(e,r){return Yn(e,"avgPool3d"),this.pool3d(e,r,"avg").toFloat()},n.prototype.avgPool3dBackprop=function(e,r,a){Yn([e,r],"avgPool3dBackprop");for(var c=a.strideDepth,h=a.strideHeight,f=a.strideWidth,m=a.filterDepth,b=a.filterHeight,_=a.filterWidth,I=a.dilationDepth,D=a.dilationHeight,T=a.dilationWidth,z=a.effectiveFilterDepth,Q=a.effectiveFilterHeight,Z=a.effectiveFilterWidth,ne=z-1-a.padInfo.front,fe=Z-1-a.padInfo.left,me=Q-1-a.padInfo.top,he=ar(r.shape,"float32"),we=1/(m*b*_),We=this.bufferSync(e),It=0;It<a.batchSize;++It)for(var xt=0;xt<a.inChannels;++xt)for(var ht=0;ht<a.inDepth;++ht)for(var ft=0;ft<a.inHeight;++ft)for(var Zt=0;Zt<a.inWidth;++Zt){for(var Gt=ht-ne,Dn=ft-me,On=Zt-fe,Bn=0,Jn=0;Jn<z;Jn+=I){var Gn=(Gt+Jn)/c;if(!(Gn<0||Gn>=a.outDepth||Math.floor(Gn)!==Gn))for(var jn=0;jn<Q;jn+=D){var nr=(Dn+jn)/h;if(!(nr<0||nr>=a.outHeight||Math.floor(nr)!==nr))for(var or=0;or<Z;or+=T){var Fr=(On+or)/f;Fr<0||Fr>=a.outWidth||Math.floor(Fr)!==Fr||(Bn+=We.get(It,Gn,nr,Fr,xt))}}}he.set(Bn*we,It,ht,ft,Zt,xt)}return he.toTensor()},n.prototype.maxPool3d=function(e,r){return Yn(e,"maxPool3d"),this.pool3d(e,r,"max").toFloat()},n.prototype.maxPool3dPositions=function(e,r){for(var a=ar(r.outShape,"int32"),c=r.strideDepth,h=r.strideHeight,f=r.strideWidth,m=r.dilationDepth,b=r.dilationHeight,_=r.dilationWidth,I=r.effectiveFilterDepth,D=r.effectiveFilterHeight,T=r.effectiveFilterWidth,z=r.padInfo.front,Q=r.padInfo.top,Z=r.padInfo.left,ne=this.bufferSync(e),fe=0;fe<r.batchSize;++fe)for(var me=0;me<r.inChannels;++me)for(var he=0;he<r.outDepth;++he){for(var we=he*c-z,We=we;We<0;)We+=m;for(var It=Math.min(r.inDepth,I+we),xt=0;xt<r.outHeight;++xt){for(var ht=xt*h-Q,ft=ht;ft<0;)ft+=b;for(var Zt=Math.min(r.inHeight,D+ht),Gt=0;Gt<r.outWidth;++Gt){for(var Dn=Gt*f-Z,On=Dn;On<0;)On+=_;for(var Bn=Math.min(r.inWidth,T+Dn),Jn=Number.NEGATIVE_INFINITY,Gn=-1,jn=We;jn<It;jn+=m)for(var nr=jn-we,or=ft;or<Zt;or+=b)for(var Fr=or-ht,ro=On;ro<Bn;ro+=_){var vo=ro-Dn,Zo=ne.get(fe,jn,or,ro,me);Zo>=Jn&&(Jn=Zo,Gn=nr*D*T+Fr*D+vo)}a.set(Gn,fe,he,xt,Gt,me)}}}return a.toTensor()},n.prototype.maxPool3dBackprop=function(e,r,a,c){Yn([r,a],"maxPool3dBackprop");for(var h=this.maxPool3dPositions(r,c),f=c.strideDepth,m=c.strideHeight,b=c.strideWidth,_=c.dilationDepth,I=c.dilationHeight,D=c.dilationWidth,T=c.effectiveFilterDepth,z=c.effectiveFilterHeight,Q=c.effectiveFilterWidth,Z=T-1-c.padInfo.front,ne=Q-1-c.padInfo.left,fe=z-1-c.padInfo.top,me=ar(r.shape,"float32"),he=this.bufferSync(h),we=this.bufferSync(e),We=0;We<c.batchSize;++We)for(var It=0;It<c.inChannels;++It)for(var xt=0;xt<c.inDepth;++xt)for(var ht=0;ht<c.inHeight;++ht)for(var ft=0;ft<c.inWidth;++ft){for(var Zt=xt-Z,Gt=ht-fe,Dn=ft-ne,On=0,Bn=0;Bn<T;Bn+=_){var Jn=(Zt+Bn)/f;if(!(Jn<0||Jn>=c.outDepth||Math.floor(Jn)!==Jn))for(var Gn=0;Gn<z;Gn+=I){var jn=(Gt+Gn)/m;if(!(jn<0||jn>=c.outHeight||Math.floor(jn)!==jn))for(var nr=0;nr<Q;nr+=D){var or=(Dn+nr)/b;if(!(or<0||or>=c.outWidth||Math.floor(or)!==or)){var Fr=T*z*Q-1-he.get(We,Jn,jn,or,It)===Bn*z*Q+Gn*Q+nr?1:0;0!==Fr&&(On+=we.get(We,Jn,jn,or,It)*Fr)}}}}me.set(On,We,xt,ht,ft,It)}return me.toTensor()},n.prototype.cast=function(e,r){return Xs(e,r,this)},n.prototype.reshape=function(e,r){return ms(e,r)},n.prototype.avgPool=function(e,r){return Yn(e,"avgPool"),this.pool(e,r,"avg").toFloat()},n.prototype.resizeBilinear=function(e,r,a,c){Yn(e,"resizeBilinear");for(var h=e.shape,f=h[0],m=h[1],b=h[2],_=h[3],I=this.readSync(e.dataId),D=new Float32Array(je([f,r,a,_])),T=[c&&r>1?m-1:m,c&&a>1?b-1:b],z=[c&&r>1?r-1:r,c&&a>1?a-1:a],Q=0,Z=T[0]/z[0],ne=T[1]/z[1],fe=0;fe<f;fe++)for(var me=0;me<r;me++)for(var he=Z*me,we=Math.floor(he),We=he-we,It=Math.min(m-1,Math.ceil(he)),xt=fe*e.strides[0]+we*e.strides[1],ht=fe*e.strides[0]+It*e.strides[1],ft=0;ft<a;ft++)for(var Zt=ne*ft,Gt=Math.floor(Zt),Dn=Zt-Gt,On=Math.min(b-1,Math.ceil(Zt)),Bn=xt+Gt*e.strides[2],Jn=ht+Gt*e.strides[2],Gn=xt+On*e.strides[2],jn=ht+On*e.strides[2],nr=0;nr<_;nr++){var or=I[Bn+nr],Fr=I[Jn+nr],ro=or+(I[Gn+nr]-or)*Dn;D[Q++]=ro+(Fr+(I[jn+nr]-Fr)*Dn-ro)*We}return dt(D,[f,r,a,_])},n.prototype.resizeBilinearBackprop=function(e,r,a){Yn([e,r],"resizeBilinearBackprop");for(var c=r.shape,h=c[0],f=c[1],m=c[2],b=c[3],_=e.shape,I=_[1],D=_[2],T=new Float32Array(h*f*m*b),z=[a&&I>1?f-1:f,a&&D>1?m-1:m],Q=[a&&I>1?I-1:I,a&&D>1?D-1:D],Z=z[0]/Q[0],ne=z[1]/Q[1],fe=this.readSync(e.dataId),me=0,he=0;he<h;he++)for(var we=he*r.strides[0],We=0;We<I;We++)for(var It=We*Z,xt=Math.floor(It),ht=Math.min(Math.ceil(It),f-1),ft=we+xt*r.strides[1],Zt=we+ht*r.strides[1],Gt=It-xt,Dn=1-Gt,On=0;On<D;On++)for(var Bn=On*ne,Jn=Math.floor(Bn),Gn=Math.min(Math.ceil(Bn),m-1),jn=Bn-Jn,nr=1-jn,or=ft+Jn*r.strides[2],Fr=ft+Gn*r.strides[2],ro=Zt+Jn*r.strides[2],vo=Zt+Gn*r.strides[2],Zo=Dn*nr,Jo=Dn*jn,si=Gt*nr,mi=Gt*jn,fi=0;fi<b;fi++){var gi=fe[me++];T[or+fi]+=gi*Zo,T[Fr+fi]+=gi*Jo,T[ro+fi]+=gi*si,T[vo+fi]+=gi*mi}return Hn(T,[h,m,f,b],r.dtype)},n.prototype.resizeNearestNeighbor=function(e,r,a,c){Yn(e,"resizeNearestNeighbor");for(var h=e.shape,f=h[0],m=h[1],b=h[2],_=h[3],I=this.readSync(e.dataId),D=new Float32Array(f*r*a*_),T=[c&&r>1?m-1:m,c&&a>1?b-1:b],z=[c&&r>1?r-1:r,c&&a>1?a-1:a],Q=T[0]/z[0],Z=T[1]/z[1],ne=0,fe=0;fe<f;fe++)for(var me=fe*e.strides[0],he=0;he<r;he++)for(var we=Q*he,We=me+Math.min(m-1,c?Math.round(we):Math.floor(we))*e.strides[1],It=0;It<a;It++)for(var xt=Z*It,ht=We+Math.min(b-1,c?Math.round(xt):Math.floor(xt))*e.strides[2],ft=0;ft<_;ft++)D[ne++]=I[ht+ft];return dt(D,[f,r,a,_],e.dtype)},n.prototype.resizeNearestNeighborBackprop=function(e,r,a){Yn([e,r],"resizeNearestNeighborBackprop");for(var c=r.shape,h=c[0],f=c[1],m=c[2],b=c[3],_=e.shape,I=_[1],D=_[2],T=new Float32Array(h*f*m*b),z=this.readSync(e.dataId),Q=[a&&I>1?f-1:f,a&&D>1?m-1:m],Z=[a&&I>1?I-1:I,a&&D>1?D-1:D],ne=Q[0]/Z[0],fe=Q[1]/Z[1],me=1/ne,he=1/fe,we=2*Math.ceil(me)+2,We=2*Math.ceil(he)+2,It=0;It<h;It++)for(var xt=It*r.strides[0],ht=0;ht<f;ht++)for(var ft=xt+ht*r.strides[1],Zt=Math.floor(ht*me),Gt=Math.floor(Zt-we/2),Dn=0;Dn<m;Dn++)for(var On=ft+Dn*r.strides[2],Bn=Math.floor(Dn*he),Jn=Math.floor(Bn-We/2),Gn=0;Gn<b;Gn++){for(var jn=0,nr=0;nr<we;nr++){var or=nr+Gt;if(!(or<0||or>=I)){var Fr=xt+or*e.strides[1],ro=or*ne;if(ht===Math.min(f-1,a?Math.round(ro):Math.floor(ro)))for(var vo=0;vo<We;vo++){var Zo=vo+Jn;if(!(Zo<0||Zo>=D)){var Jo=Fr+Zo*e.strides[2],si=Zo*fe;Dn===Math.min(m-1,a?Math.round(si):Math.floor(si))&&(jn+=z[Jo+Gn])}}}}T[On+Gn]=jn}return Hn(T,r.shape,r.dtype)},n.prototype.batchNormalization=function(e,r,a,c,h,f){Yn([e,r,a,h,f],"batchNorm");for(var m=this.readSync(e.dataId),b=this.readSync(r.dataId),_=this.readSync(a.dataId),I=h?this.readSync(h.dataId):new Float32Array([1]),D=f?this.readSync(f.dataId):new Float32Array([0]),T=new Float32Array(m.length),z=D.length,Q=I.length,Z=_.length,ne=b.length,fe=0,me=0,he=0,we=0,We=0;We<m.length;++We)T[We]=D[fe++]+(m[We]-b[me++])*I[he++]/Math.sqrt(_[we++]+c),fe>=z&&(fe=0),me>=ne&&(me=0),he>=Q&&(he=0),we>=Z&&(we=0);return Hn(T,e.shape)},n.prototype.localResponseNormalization4D=function(e,r,a,c,h){Yn(e,"localResponseNormalization4D");var f=e.shape[3],m=f-1,b=this.readSync(e.dataId),_=e.size,I=new Float32Array(_);function D(Z){for(var ne=Z%f,fe=Z-ne+Math.max(0,ne-r),me=Z-ne+Math.min(ne+r,m),he=0;fe<=me;fe++){var we=b[fe];he+=we*we}return he}for(var T=0;T<_;T++){var z=D(T),Q=b[T]*Math.pow(a+c*z,-h);I[T]=Q}return Hn(I,e.shape)},n.prototype.LRNGrad=function(e,r,a,c,h,f,m){Yn(e,"LRNGrad");for(var b=e.shape[3],_=this.readSync(e.dataId),I=this.readSync(r.dataId),D=this.readSync(a.dataId),T=new Float32Array(e.size),z=e.size,Q=0;Q<z;Q++){for(var Z=Q%b,ne=Q-Z+Math.max(0,Z-c),fe=Q-Z+Math.min(b,Z+c+1),me=0,he=ne;he<fe;he++)me+=Math.pow(I[he],2);for(me=f*me+h,he=ne;he<fe;he++){var we=-2*f*m*I[he]*D[Q]/me;Q===he&&(we+=Math.pow(me,-m)),T[he]+=we*=_[Q]}}return Hn(T,e.shape)},n.prototype.multinomial=function(e,r,a,c){Yn(e,"multinomial");for(var h=r?e:Ro(e),f=h.shape[0],m=h.shape[1],b=mo([f,a],"int32"),_=this.readSync(b.dataId),I=this.readSync(h.dataId),D=0;D<f;++D){var T=D*m,z=new Float32Array(m-1);z[0]=I[T];for(var Q=1;Q<z.length;++Q)z[Q]=z[Q-1]+I[T+Q];for(var Z=Ma(c.toString()),ne=D*a,fe=0;fe<a;++fe){var me=Z();_[ne+fe]=z.length;for(var he=0;he<z.length;he++)if(me<z[he]){_[ne+fe]=he;break}}}return b},n.prototype.oneHot=function(e,r,a,c){Yn(e,"oneHot");var h=new Float32Array(e.size*r);h.fill(c);for(var f=this.readSync(e.dataId),m=0;m<e.size;++m)f[m]>=0&&f[m]<r&&(h[m*r+f[m]]=a);return hn(h,[e.size,r],"int32")},n.prototype.nonMaxSuppression=function(e,r,a,c,h){return Yn(e,"nonMaxSuppression"),Ti(this.readSync(e.dataId),this.readSync(r.dataId),a,c,h)},n.prototype.fft=function(e){return this.fftBatch(e,!1)},n.prototype.ifft=function(e){return this.fftBatch(e,!0)},n.prototype.fftBatch=function(e,r){for(var a=e.shape[0],c=e.shape[1],h=ar(e.shape,"float32"),f=ar(e.shape,"float32"),m=Fe(e).as2D(a,c),b=lt(e).as2D(a,c),_=0;_<a;_++)for(var I=m.slice([_,0],[1,c]),D=b.slice([_,0],[1,c]),T=ve(I,D),z=this.readSync(this.fftImpl(T,r).dataId),Q=0;Q<c;Q++){var Z=bu(z,Q);h.values[_*c+Q]=Z.real,f.values[_*c+Q]=Z.imag}return ve(h.toTensor(),f.toTensor()).as2D(a,c)},n.prototype.fftImpl=function(e,r){var a=e.as1D(),c=a.size;if(this.isExponentOf2(c)){var h=this.fftRadix2(a,c,r).as2D(e.shape[0],e.shape[1]);return r&&(h=ve(Fe(h).div(St(c)),lt(h).div(St(c)))),h}var f=this.readSync(e.dataId),m=function(b){for(var _=new Float32Array(b.length/2),I=new Float32Array(b.length/2),D=0;D<b.length;D+=2)_[D/2]=b[D],I[D/2]=b[D+1];return{real:_,imag:I}}(this.fourierTransformByMatmul(f,c,r));return ve(m.real,m.imag).as2D(e.shape[0],e.shape[1])},n.prototype.isExponentOf2=function(e){return!(e&e-1)},n.prototype.fftRadix2=function(e,r,a){if(1===r)return e;var c=this.readSync(e.dataId),h=r/2,f=function(ne){for(var fe=Math.ceil(ne.length/4),me=new Float32Array(fe),he=new Float32Array(fe),we=0;we<ne.length;we+=4)me[Math.floor(we/4)]=ne[we],he[Math.floor(we/4)]=ne[we+1];return{real:me,imag:he}}(c),m=ve(f.real,f.imag).as1D(),b=function(ne){for(var fe=Math.floor(ne.length/4),me=new Float32Array(fe),he=new Float32Array(fe),we=2;we<ne.length;we+=4)me[Math.floor(we/4)]=ne[we],he[Math.floor(we/4)]=ne[we+1];return{real:me,imag:he}}(c),_=ve(b.real,b.imag).as1D();m=this.fftRadix2(m,h,a),_=this.fftRadix2(_,h,a);var I=function(ne,fe){for(var me=new Float32Array(ne/2),he=new Float32Array(ne/2),we=0;we<Math.ceil(ne/2);we++){var We=(fe?2:-2)*Math.PI*(we/ne);me[we]=Math.cos(We),he[we]=Math.sin(We)}return{real:me,imag:he}}(r,a),D=ve(I.real,I.imag).mul(_),T=m.add(D),z=m.sub(D),Q=Fe(T).concat(Fe(z)),Z=lt(T).concat(lt(z));return ve(Q,Z).as1D()},n.prototype.fourierTransformByMatmul=function(e,r,a){for(var c=new Float32Array(2*r),h=0;h<r;h++){for(var f=0,m=0,b=0;b<r;b++){var _=ks(h*b,r,a),I=bu(e,b);f+=I.real*_.real-I.imag*_.imag,m+=I.real*_.imag+I.imag*_.real}a&&(f/=r,m/=r),Nl(c,f,m,h)}return c},n.prototype.depthToSpace=function(e,r,a){re("NHWC"===a,function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+a}),re(r>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+r});for(var c=e.shape[0],h=e.shape[1],f=e.shape[2],m=e.shape[3],b=h*r,_=f*r,I=m/(r*r),D=this.readSync(e.dataId),T=new Float32Array(c*b*_*I),z=0,Q=0;Q<c;++Q)for(var Z=0;Z<b;++Z)for(var ne=Math.floor(Z/r),fe=Z%r,me=0;me<_;++me)for(var he=Math.floor(me/r),we=(fe*r+me%r)*I,We=0;We<I;++We)T[z++]=D[We+we+m*(he+f*(ne+h*Q))];return Hn(T,[c,b,_,I])},n.prototype.broadcastedBinaryOp=function(e,r,a,c){var h=yo(e.shape,r.shape),f=ar(h,a),m=this.readSync(e.dataId),b=this.readSync(r.dataId),_=oi(e.shape,h),I=oi(r.shape,h),D=f.values;if(_.length+I.length===0)for(var T=0;T<D.length;++T)D[T]=c(m[T%m.length],b[T%b.length]);else{var z=this.bufferSync(e),Q=this.bufferSync(r),Z=function(ne){var fe=f.indexToLoc(ne),me=fe.slice(-e.rank);_.forEach(function(It){return me[It]=0});var he=z.locToIndex(me),we=fe.slice(-r.rank);I.forEach(function(It){return we[It]=0});var We=Q.locToIndex(we);D[ne]=c(m[he],b[We])};for(T=0;T<D.length;++T)Z(T)}return f.toTensor()},n.prototype.broadcastedBinaryComplexOp=function(e,r,a){var c=yo(e.shape,r.shape),h=ar(c,"float32"),f=ar(c,"float32"),m=this.readSync(e.dataId),b=this.readSync(r.dataId),_=oi(e.shape,c),I=oi(r.shape,c),D=h.values,T=f.values;if(_.length+I.length===0)for(var z=0;z<D.length;z++){var Q=z%m.length,Z=z%b.length,ne=a(m[2*Q],m[2*Q+1],b[2*Z],b[2*Z+1]);D[z]=ne.real,T[z]=ne.imag}else{var fe=this.bufferSync(this.data.get(e.dataId).complexTensors.real),me=this.bufferSync(this.data.get(r.dataId).complexTensors.real),he=function(we){var We=h.indexToLoc(we),It=We.slice(-e.rank);_.forEach(function(Gt){return It[Gt]=0});var xt=fe.locToIndex(It),ht=We.slice(-r.rank);I.forEach(function(Gt){return ht[Gt]=0});var ft=me.locToIndex(ht),Zt=a(m[2*xt],m[2*xt+1],b[2*ft],b[2*ft+1]);D[we]=Zt.real,T[we]=Zt.imag};for(z=0;z<D.length;z++)he(z)}return this.complex(h.toTensor(),f.toTensor())},n.prototype.split=function(e,r,a){return ac(e,r,a)},n.prototype.dispose=function(){},n.prototype.floatPrecision=function(){return 32},n.prototype.epsilon=function(){return 1e-7},n.prototype.cropAndResize=function(e,r,a,c,h,f){for(var m=e.shape,b=m[0],_=m[1],I=m[2],D=m[3],T=r.shape[0],z=c[0],Q=c[1],Z=ar([T,z,Q,D],"float32"),ne=this.readSync(r.dataId),fe=this.readSync(a.dataId),me=this.readSync(e.dataId),he=e.strides,we=Z.strides,We=0;We<T;We++){var It=4*We,xt=ne[It],ht=ne[It+1],ft=ne[It+2],Zt=ne[It+3],Gt=fe[We];if(!(Gt>=b))for(var Dn=z>1?(ft-xt)*(_-1)/(z-1):0,On=Q>1?(Zt-ht)*(I-1)/(Q-1):0,Bn=0;Bn<z;Bn++){var Jn=z>1?xt*(_-1)+Bn*Dn:.5*(xt+ft)*(_-1);if(Jn<0||Jn>_-1)for(var Gn=0;Gn<Q;Gn++)for(var jn=0;jn<D;jn++){var nr=jn+Gn*we[2]+Bn*we[1]+We*we[0];Z.values[nr]=f}else if("bilinear"===h){var or=Math.floor(Jn),Fr=Math.ceil(Jn),ro=Jn-or;for(Gn=0;Gn<Q;Gn++)if((pi=Q>1?ht*(I-1)+Gn*On:.5*(ht+Zt)*(I-1))<0||pi>I-1)for(jn=0;jn<D;jn++)Z.values[nr=jn+Gn*we[2]+Bn*we[1]+We*we[0]]=f;else{var vo=Math.floor(pi),Zo=Math.ceil(pi),Jo=pi-vo;for(jn=0;jn<D;jn++){var si=me[nr=jn+vo*he[2]+or*he[1]+Gt*he[0]],mi=me[nr=jn+Zo*he[2]+or*he[1]+Gt*he[0]],fi=me[nr=jn+vo*he[2]+Fr*he[1]+Gt*he[0]],gi=si+(mi-si)*Jo,$a=fi+(me[nr=jn+Zo*he[2]+Fr*he[1]+Gt*he[0]]-fi)*Jo;Z.values[nr=jn+Gn*we[2]+Bn*we[1]+We*we[0]]=gi+($a-gi)*ro}}}else for(Gn=0;Gn<Q;++Gn){var pi;if((pi=Q>1?ht*(I-1)+Gn*On:.5*(ht+Zt)*(I-1))<0||pi>I-1)for(jn=0;jn<D;jn++)Z.values[nr=jn+Gn*we[2]+Bn*we[1]+We*we[0]]=f;else{var ji=Math.round(pi),Si=Math.round(Jn);for(jn=0;jn<D;jn++)Z.values[jn+Gn*we[2]+Bn*we[1]+We*we[0]]=me[jn+ji*he[2]+Si*he[1]+Gt*he[0]]}}}}return Z.toTensor()},n.prototype.sparseToDense=function(e,r,a,c){var h=bl(0,e,a);return this.scatter(e,r,a,h.outputSize,h.sliceSize,h.numUpdates,h.sliceRank,h.strides,c,!1)},n.prototype.gatherND=function(e,r){var a=r.shape,c=a[a.length-1],h=is(e,r),f=h[0],m=h[1],b=h[2],_=h[3];if(0===m)return dt([],f,e.dtype);for(var I=new Lr([m,b],e.dtype),D=this.readSync(r.dataId),T=this.readSync(e.dataId),z=0;z<m;z++){for(var Q=[],Z=0,ne=0;ne<c;ne++){var fe=D[z*c+ne];Z+=fe*_[ne],Q.push(fe)}if(Z<0||Z>=e.size/b)throw new Error("Invalid indices: "+Q+" does not index into "+e.shape);for(var me=0;me<b;me++)I.values[z*b+me]=T[Z*b+me]}return I.toTensor().reshape(f)},n.prototype.scatterND=function(e,r,a){var c=bl(0,e,a),h=c.sliceRank,f=c.numUpdates,m=c.sliceSize,b=c.strides,_=c.outputSize,I=St(0);return this.scatter(e,r,a,_,m,f,h,b,I,!0)},n.prototype.fill=function(e,r,a){var c=Ae(a=a||Xr(r),je(e));return c.fill(r),le.makeTensor(c,e,a,this)},n.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported for string tensors");return this.fill(e.shape,1,e.dtype)},n.prototype.zerosLike=function(e){var r=Ae(e.dtype,je(e.shape));return this.makeOutput(r,e.shape,e.dtype)},n.prototype.linspace=function(e,r,a){return Fs(e,r,a)},n.prototype.scatter=function(e,r,a,c,h,f,m,b,_,I){var D=[c/h,h],T=this.readSync(e.dataId),z=this.readSync(r.dataId);if(0===c)return dt([],a,r.dtype);var Q=new Lr(D,r.dtype);Q.values.fill(this.readSync(_.dataId)[0]);for(var Z=0;Z<f;Z++){for(var ne=[],fe=0,me=0;me<m;me++){var he=T[Z*m+me];ne.push(he),fe+=he*b[me]}if(fe<0||fe>=c/h)throw new Error("Invalid indices: "+ne+" does not index into "+a);for(var we=0;we<h;we++)I?Q.values[fe*h+we]+=z[Z*h+we]:Q.values[fe*h+we]=0===r.rank?z[0]:z[Z*h+we]}return Q.toTensor().reshape(a)},n}(Di);le.registerBackend("cpu",function(){return new ff},1);for(var Zu=0,pf=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(i){var n=i.inputs,r=i.attrs,c=n.boxes,h=n.scores,m=r.maxOutputSize,b=r.iouThreshold,_=r.scoreThreshold,I=r.softNmsSigma,D=i.backend;Yn(c,"NonMaxSuppressionWithScore");var T=yl(D.data.get(c.dataId).values,D.data.get(h.dataId).values,m,b,_,I);return[T.selectedIndices,T.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(i){var r=i.inputs.x,a=i.backend;Yn(r,"square");for(var c=a.data.get(r.dataId).values,h=new Float32Array(c.length),f=0;f<c.length;++f){var m=c[f];h[f]=m*m}return{dataId:a.write(h,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:Id,backendName:"cpu",kernelFunc:function(i){var n=i.inputs,a=n.a,c=n.b,h=i.backend;Yn([a,c],Id);var f=h.data.get(a.dataId).values,m=h.data.get(c.dataId).values,b=function(D,T,z,Q,Z,ne){var fe=yo(D,T),me=fe.length,he=xr(fe),we=de(Z,je(fe)),We=D.length,It=T.length,xt=xr(D),ht=xr(T),ft=oi(D,fe),Zt=oi(T,fe);if(ft.length+Zt.length===0)for(var Gt=0;Gt<we.length;++Gt)we[Gt]=ne(z[Gt%z.length],Q[Gt%Q.length]);else{var Dn=function(On){var Bn=fr(On,me,he),Jn=Bn.slice(-We);ft.forEach(function(or){return Jn[or]=0});var Gn=sr(Jn,We,xt),jn=Bn.slice(-It);Zt.forEach(function(or){return jn[or]=0});var nr=sr(jn,It,ht);we[On]=ne(z[Gn],Q[nr])};for(Gt=0;Gt<we.length;++Gt)Dn(Gt)}return[we,fe]}(a.shape,c.shape,f,m,a.dtype,function(D,T){var z=D-T;return z*z}),I=b[1];return{dataId:h.write(b[0],I,a.dtype),shape:I,dtype:a.dtype}}}];Zu<pf.length;Zu++)ot(pf[Zu]);for(var yc,Zp=function(i){this.variableNames=["A"];var n=Ja(),e=i[0],r=i[1];this.outputShape=i,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+r+".0, "+e+".0);\n\n        vec4 values = "+n.texture2D+"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "},Qp=function(i){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var n=Ja(),e=i[0],r=i[1];this.outputShape=i,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2("+r+".0, "+e+".0);\n            vec4 values = "+n.texture2D+"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        "+n.output+" = result;\n      }\n    "},mf=0,Jp=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(i){var e=i.backend,a=i.inputs.pixels,h=typeof HTMLVideoElement<"u"&&a instanceof HTMLVideoElement,f=typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement,m=h?[a.videoWidth,a.videoHeight]:[a.width,a.height],b=m[0],_=m[1],I=[_,b],D=[_,b,i.attrs.numChannels];(f||h)&&(null==yc&&(yc=document.createElement("canvas").getContext("2d")),yc.canvas.width=b,yc.canvas.height=_,yc.drawImage(a,0,0,b,_),a=yc.canvas);var T=e.makeTensorInfo(I,"int32");e.texData.get(T.dataId).usage=qn.PIXELS,e.gpgpu.uploadPixelDataToTexture(e.getTexture(T.dataId),a);var z=se().getBool("WEBGL_PACK")?new Qp(D):new Zp(D),Q=e.runWebGLProgram(z,[T],"int32");return e.disposeData(T.dataId),Q}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(i){var n=i.inputs,e=i.backend,r=i.attrs;la("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var h=n.scores,m=r.maxOutputSize,b=r.iouThreshold,_=r.scoreThreshold,I=r.softNmsSigma,D=e,T=yl(D.readSync(n.boxes.dataId),D.readSync(h.dataId),m,b,_,I);return[T.selectedIndices,T.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(i){var r=i.inputs.x,a=i.backend,c=new Ho(r.shape,"return x * x;");return a.runWebGLProgram(c,[r],r.dtype)}},{kernelName:Id,backendName:"webgl",kernelFunc:function(i){var n=i.inputs,a=n.a,c=n.b,h=i.backend,f=se().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new qs("return (a - b) * (a - b);",a.shape,c.shape):new ki("return (a - b) * (a - b);",a.shape,c.shape);return h.compileAndRun(f,[a,c])}}];mf<Jp.length;mf++)ot(Jp[mf]);for(var gf=0,em=[{kernelName:"Square",gradFunc:function(i,n){var e=n[0];return{x:function(){return i.mul(e.toFloat().mul(2))}}}},{kernelName:Id,gradFunc:function(i,n){var e=n[0],r=n[1],a=St(2);return{a:function(){return rs(i,rs(a,Wa(e,r)))},b:function(){return rs(i,rs(a,Wa(r,e)))}}}}];gf<em.length;gf++)it(em[gf]);var pv=function(){function i(){}return i.prototype.fetch=function(n,e){return fetch(n,e)},i.prototype.now=function(){return performance.now()},i.prototype.encode=function(n,e){if("utf-8"!==e&&"utf8"!==e)throw new Error("Browser's encoder only supports utf-8, but got "+e);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(n)},i.prototype.decode=function(n,e){return new TextDecoder(e).decode(n)},i}();se().get("IS_BROWSER")&&se().setPlatform("browser",new pv);var dl,mv=function(){function i(){this.util=B(745),this.textEncoder=new this.util.TextEncoder}return i.prototype.fetch=function(n,e){return null!=se().global.fetch?se().global.fetch(n,e):(null==dl&&(dl=B(7318)),dl(n,e))},i.prototype.now=function(){var n=process.hrtime();return 1e3*n[0]+n[1]/1e6},i.prototype.encode=function(n,e){if("utf-8"!==e&&"utf8"!==e)throw new Error("Node built-in encoder only supports utf-8, but got "+e);return this.textEncoder.encode(n)},i.prototype.decode=function(n,e){return 0===n.length?"":new this.util.TextDecoder(e).decode(n)},i}();se().get("IS_NODE")&&se().setPlatform("node",new mv);var tm={float32:4,int32:4,uint16:2,uint8:1,bool:1},vf=4;function gv(i,n){for(var e={},r=0,a=function(f){var m=f.name,b=f.dtype,_=f.shape,I=je(_),D=void 0;if("quantization"in f){var T=f.quantization;if("uint8"!==T.dtype&&"uint16"!==T.dtype)throw new Error("Weight "+f.name+" has unknown quantization dtype "+T.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var z=tm[T.dtype],Q=i.slice(r,r+I*z),Z="uint8"===T.dtype?new Uint8Array(Q):new Uint16Array(Q);if("float32"===b)D=Float32Array.from(Z,function(We){return We*T.scale+T.min});else{if("int32"!==b)throw new Error("Unsupported dtype in weight '"+m+"': "+b);D=Int32Array.from(Z,function(We){return Math.round(We*T.scale+T.min)})}r+=I*z}else if("string"===b){var ne=je(f.shape);D=[];for(var fe=0;fe<ne;fe++){var me=new Uint32Array(i.slice(r,r+vf))[0];r+=vf;var he=new Uint8Array(i.slice(r,r+me));D.push(he),r+=me}}else{var we=tm[b];if(Q=i.slice(r,r+I*we),"float32"===b)D=new Float32Array(Q);else if("int32"===b)D=new Int32Array(Q);else{if("bool"!==b)throw new Error("Unsupported dtype in weight '"+m+"': "+b);D=new Uint8Array(Q)}r+=I*we}e[m]=dt(D,_,b)},c=0,h=n;c<h.length;c++)a(h[c]);return e}function ab(i){if(null===i)throw new Error("Invalid input value: "+JSON.stringify(i));var n=0,e=[];i.forEach(function(c){if(n+=c.byteLength,e.push(c.byteLength===c.buffer.byteLength?c:new c.constructor(c)),!(c instanceof Float32Array||c instanceof Int32Array||c instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+c.constructor.name)});var r=new Uint8Array(n),a=0;return e.forEach(function(c){r.set(new Uint8Array(c.buffer),a),a+=c.byteLength}),r.buffer}var nm=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function bf(i){return nm?Buffer.byteLength(i):new Blob([i]).size}function yf(i){var n=0;i.forEach(function(a){n+=a.byteLength});var e=new Uint8Array(n),r=0;return i.forEach(function(a){e.set(new Uint8Array(a),r),r+=a.byteLength}),e.buffer}function rm(i){for(i=i.trim();i.endsWith("/");)i=i.slice(0,i.length-1);var n=i.split("/");return n[n.length-1]}function Ju(i){if(i.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==i.modelTopology?0:bf(JSON.stringify(i.modelTopology)),weightSpecsBytes:null==i.weightSpecs?0:bf(JSON.stringify(i.weightSpecs)),weightDataBytes:null==i.weightData?0:i.weightData.byteLength}}var Ps=function(){function i(){this.saveRouters=[],this.loadRouters=[]}return i.getInstance=function(){return null==i.instance&&(i.instance=new i),i.instance},i.registerSaveRouter=function(n){i.getInstance().saveRouters.push(n)},i.registerLoadRouter=function(n){i.getInstance().loadRouters.push(n)},i.getSaveHandlers=function(n){return i.getHandlers(n,"save")},i.getLoadHandlers=function(n,e){return i.getHandlers(n,"load",e)},i.getHandlers=function(n,e,r){var a=[];return("load"===e?i.getInstance().loadRouters:i.getInstance().saveRouters).forEach(function(c){var h=c(n,r);null!==h&&a.push(h)}),a},i}(),$l="://",C=function(){function i(){this.managers={}}return i.getInstance=function(){return null==i.instance&&(i.instance=new i),i.instance},i.registerManager=function(n,e){re(null!=n,function(){return"scheme must not be undefined or null."}),n.endsWith($l)&&(n=n.slice(0,n.indexOf($l))),re(n.length>0,function(){return"scheme must not be an empty string."});var r=i.getInstance();re(null==r.managers[n],function(){return"A model store manager is already registered for scheme '"+n+"'."}),r.managers[n]=e},i.getManager=function(n){var e=this.getInstance().managers[n];if(null==e)throw new Error("Cannot find model manager for scheme '"+n+"'");return e},i.getSchemes=function(){return Object.keys(this.getInstance().managers)},i}();function u(i){if(-1===i.indexOf($l))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+C.getSchemes().join(","));return{scheme:i.split($l)[0],path:i.split($l)[1]}}function p(i,n,e){return void 0===e&&(e=!1),_e(this,void 0,void 0,function(){var r,a,c,h,f,m,b,_,I;return J(this,function(D){switch(D.label){case 0:return re(i!==n,function(){return"Old path and new path are the same: '"+i+"'"}),re((r=Ps.getLoadHandlers(i)).length>0,function(){return"Copying failed because no load handler is found for source URL "+i+"."}),re(r.length<2,function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+i+"."}),a=r[0],re((c=Ps.getSaveHandlers(n)).length>0,function(){return"Copying failed because no save handler is found for destination URL "+n+"."}),re(c.length<2,function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+n+"."}),h=c[0],f=u(i).scheme,m=u(i).path,b=f===u(i).scheme,[4,a.load()];case 1:return _=D.sent(),e&&b?[4,C.getManager(f).removeModel(m)]:[3,3];case 2:D.sent(),D.label=3;case 3:return[4,h.save(_)];case 4:return I=D.sent(),!e||b?[3,6]:[4,C.getManager(f).removeModel(m)];case 5:D.sent(),D.label=6;case 6:return[2,I.modelArtifactsInfo]}})})}var y="models_store",E="model_info_store";function F(){if(!se().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var i=window||self,n=i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB||i.shimIndexedDB;if(null==n)throw new Error("The current browser does not appear to support IndexedDB.");return n}function te(i){var n=i.result;n.createObjectStore(y,{keyPath:"modelPath"}),n.createObjectStore(E,{keyPath:"modelPath"})}var be=function(){function i(n){if(this.indexedDB=F(),null==n||!n)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=n}return i.prototype.save=function(n){return _e(this,void 0,void 0,function(){return J(this,function(e){if(n.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,n)]})})},i.prototype.load=function(){return _e(this,void 0,void 0,function(){return J(this,function(n){return[2,this.databaseAction(this.modelPath)]})})},i.prototype.databaseAction=function(n,e){var r=this;return new Promise(function(a,c){var h=r.indexedDB.open("tensorflowjs",1);h.onupgradeneeded=function(){return te(h)},h.onsuccess=function(){var f=h.result;if(null==e){var m=f.transaction(y,"readonly"),b=m.objectStore(y).get(r.modelPath);b.onsuccess=function(){if(null==b.result)return f.close(),c(new Error("Cannot find model with path '"+r.modelPath+"' in IndexedDB."));a(b.result.modelArtifacts)},b.onerror=function(Q){return f.close(),c(b.error)},m.oncomplete=function(){return f.close()}}else{var _,I=Ju(e),D=f.transaction(E,"readwrite"),T=D.objectStore(E),z=T.put({modelPath:r.modelPath,modelArtifactsInfo:I});z.onsuccess=function(){var Q=(_=f.transaction(y,"readwrite")).objectStore(y).put({modelPath:r.modelPath,modelArtifacts:e,modelArtifactsInfo:I});Q.onsuccess=function(){return a({modelArtifactsInfo:I})},Q.onerror=function(Z){var ne=(T=D.objectStore(E)).delete(r.modelPath);ne.onsuccess=function(){return f.close(),c(Q.error)},ne.onerror=function(fe){return f.close(),c(Q.error)}}},z.onerror=function(Q){return f.close(),c(z.error)},D.oncomplete=function(){null==_?f.close():_.oncomplete=function(){return f.close()}}}},h.onerror=function(f){return c(h.error)}})},i.URL_SCHEME="indexeddb://",i}(),ze=function(i){return se().getBool("IS_BROWSER")&&!Array.isArray(i)&&i.startsWith(be.URL_SCHEME)?(n=i.slice(be.URL_SCHEME.length),new be(n)):null;var n};Ps.registerSaveRouter(ze),Ps.registerLoadRouter(ze);var gt=function(){function i(){this.indexedDB=F()}return i.prototype.listModels=function(){return _e(this,void 0,void 0,function(){var n=this;return J(this,function(e){return[2,new Promise(function(r,a){var c=n.indexedDB.open("tensorflowjs",1);c.onupgradeneeded=function(){return te(c)},c.onsuccess=function(){var h=c.result,f=h.transaction(E,"readonly"),m=f.objectStore(E).getAll();m.onsuccess=function(){for(var b={},_=0,I=m.result;_<I.length;_++){var D=I[_];b[D.modelPath]=D.modelArtifactsInfo}r(b)},m.onerror=function(b){return h.close(),a(m.error)},f.oncomplete=function(){return h.close()}},c.onerror=function(h){return a(c.error)}})]})})},i.prototype.removeModel=function(n){return _e(this,void 0,void 0,function(){var e=this;return J(this,function(r){var a;return n=(a=n).startsWith(be.URL_SCHEME)?a.slice(be.URL_SCHEME.length):a,[2,new Promise(function(c,h){var f=e.indexedDB.open("tensorflowjs",1);f.onupgradeneeded=function(){return te(f)},f.onsuccess=function(){var m,b=f.result,_=b.transaction(E,"readwrite"),I=_.objectStore(E),D=I.get(n);D.onsuccess=function(){if(null==D.result)return b.close(),h(new Error("Cannot find model with path '"+n+"' in IndexedDB."));var T=I.delete(n),z=function(){var Q=(m=b.transaction(y,"readwrite")).objectStore(y).delete(n);Q.onsuccess=function(){return c(D.result.modelArtifactsInfo)},Q.onerror=function(Z){return h(D.error)}};T.onsuccess=z,T.onerror=function(Q){return z(),b.close(),h(D.error)}},D.onerror=function(T){return b.close(),h(D.error)},_.oncomplete=function(){null==m?b.close():m.oncomplete=function(){return b.close()}}},f.onerror=function(m){return h(f.error)}})]})})},i}();if(se().getBool("IS_BROWSER"))try{C.registerManager(be.URL_SCHEME,new gt)}catch{}var Wt="/",un="tensorflowjs_models",An="info",pn="model_topology",Sn="weight_specs",Tn="weight_data",vr="model_metadata";function Qr(i){return{info:[un,i,An].join(Wt),topology:[un,i,pn].join(Wt),weightSpecs:[un,i,Sn].join(Wt),weightData:[un,i,Tn].join(Wt),modelMetadata:[un,i,vr].join(Wt)}}function so(i){var n=i.split(Wt);if(n.length<3)throw new Error("Invalid key format: "+i);return n.slice(1,n.length-1).join(Wt)}var Sr=function(){function i(n){if(!se().getBool("IS_BROWSER")||typeof window>"u"||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==n||!n)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=n,this.keys=Qr(this.modelPath)}return i.prototype.save=function(n){return _e(this,void 0,void 0,function(){var e,r,a;return J(this,function(c){if(n.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");e=JSON.stringify(n.modelTopology),r=JSON.stringify(n.weightSpecs),a=Ju(n);try{return this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,e),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,function(h){if(nm)return Buffer.from(h).toString("base64");for(var f=new Uint8Array(h),m="",b=0,_=f.length;b<_;b++)m+=String.fromCharCode(f[b]);return btoa(m)}(n.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:n.format,generatedBy:n.generatedBy,convertedBy:n.convertedBy,userDefinedMetadata:n.userDefinedMetadata})),[2,{modelArtifactsInfo:a}]}catch{throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+a.modelTopologyBytes+", weightSpecsBytes="+a.weightSpecsBytes+", weightDataBytes="+a.weightDataBytes+".")}return[2]})})},i.prototype.load=function(){return _e(this,void 0,void 0,function(){var n,e,r,a,c,h,f;return J(this,function(m){if(null==(n=JSON.parse(this.LS.getItem(this.keys.info))))throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==n.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(e={},null==(r=JSON.parse(this.LS.getItem(this.keys.topology))))throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(e.modelTopology=r,null==(a=JSON.parse(this.LS.getItem(this.keys.weightSpecs))))throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(e.weightSpecs=a,null!=(c=this.LS.getItem(this.keys.modelMetadata))&&(h=JSON.parse(c),e.format=h.format,e.generatedBy=h.generatedBy,e.convertedBy=h.convertedBy,e.userDefinedMetadata=h.userDefinedMetadata),null==(f=this.LS.getItem(this.keys.weightData)))throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return e.weightData=function(b){if(nm){var _=Buffer.from(b,"base64");return _.buffer.slice(_.byteOffset,_.byteOffset+_.byteLength)}for(var I=atob(b),D=new Uint8Array(I.length),T=0;T<I.length;++T)D.set([I.charCodeAt(T)],T);return D.buffer}(f),[2,e]})})},i.URL_SCHEME="localstorage://",i}(),oo=function(i){return se().getBool("IS_BROWSER")&&!Array.isArray(i)&&i.startsWith(Sr.URL_SCHEME)?(n=i.slice(Sr.URL_SCHEME.length),new Sr(n)):null;var n};Ps.registerSaveRouter(oo),Ps.registerLoadRouter(oo);var Yr=function(){function i(){re(se().getBool("IS_BROWSER"),function(){return"Current environment is not a web browser"}),re(typeof window>"u"||void 0!==window.localStorage,function(){return"Current browser does not appear to support localStorage"}),this.LS=window.localStorage}return i.prototype.listModels=function(){return _e(this,void 0,void 0,function(){var n,e,r,a,c,h;return J(this,function(f){for(n={},e=un+Wt,r=Wt+An,a=0;a<this.LS.length;++a)(c=this.LS.key(a)).startsWith(e)&&c.endsWith(r)&&(h=so(c),n[h]=JSON.parse(this.LS.getItem(c)));return[2,n]})})},i.prototype.removeModel=function(n){return _e(this,void 0,void 0,function(){var e,r;return J(this,function(a){var c;if(n=(c=n).startsWith(Sr.URL_SCHEME)?c.slice(Sr.URL_SCHEME.length):c,e=Qr(n),null==this.LS.getItem(e.info))throw new Error("Cannot find model at path '"+n+"'");return r=JSON.parse(this.LS.getItem(e.info)),this.LS.removeItem(e.info),this.LS.removeItem(e.topology),this.LS.removeItem(e.weightSpecs),this.LS.removeItem(e.weightData),[2,r]})})},i}();if(se().getBool("IS_BROWSER"))try{C.registerManager(Sr.URL_SCHEME,new Yr)}catch{}function _i(i){return new Promise(function(n){return setTimeout(n)}).then(i)}var wa=function(){function i(n){if(!se().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");n.startsWith(i.URL_SCHEME)&&(n=n.slice(i.URL_SCHEME.length)),null!=n&&0!==n.length||(n="model"),this.modelTopologyFileName=n+".json",this.weightDataFileName=n+".weights.bin"}return i.prototype.save=function(n){return _e(this,void 0,void 0,function(){var e,c,h,f;return J(this,function(m){switch(m.label){case 0:if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(e=window.URL.createObjectURL(new Blob([n.weightData],{type:"application/octet-stream"})),!(n.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return c=window.URL.createObjectURL(new Blob([JSON.stringify({modelTopology:n.modelTopology,format:n.format,generatedBy:n.generatedBy,convertedBy:n.convertedBy,weightsManifest:[{paths:["./"+this.weightDataFileName],weights:n.weightSpecs}]})],{type:"application/json"})),(h=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,h.href=c,[4,_i(function(){return h.dispatchEvent(new MouseEvent("click"))})];case 2:return m.sent(),null==n.weightData?[3,4]:((f=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,f.href=e,[4,_i(function(){return f.dispatchEvent(new MouseEvent("click"))})]);case 3:m.sent(),m.label=4;case 4:return[2,{modelArtifactsInfo:Ju(n)}]}})})},i.URL_SCHEME="downloads://",i}(),Ji=function(){function i(n){if(null==n||n.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+n);this.files=n}return i.prototype.load=function(){return _e(this,void 0,void 0,function(){var n,e,r=this;return J(this,function(a){return n=this.files[0],e=this.files.slice(1),[2,new Promise(function(c,h){var f=new FileReader;f.onload=function(m){var b=JSON.parse(m.target.result),_=b.modelTopology;if(null!=_){0===e.length&&c({modelTopology:_});var I=b.weightsManifest;if(null!=I){var D;try{D=r.checkManifestAndWeightFiles(I,e)}catch(Z){return void h(Z)}var T=[],z=[],Q=[];I.forEach(function(Z){Z.paths.forEach(function(ne){z.push(ne),Q.push(null)}),T.push.apply(T,Z.weights)}),I.forEach(function(Z){Z.paths.forEach(function(ne){var fe=new FileReader;fe.onload=function(me){var he=me.target.result,we=z.indexOf(ne);Q[we]=he,-1===Q.indexOf(null)&&c({modelTopology:_,weightSpecs:T,weightData:yf(Q),format:b.format,generatedBy:b.generatedBy,convertedBy:b.convertedBy,userDefinedMetadata:b.userDefinedMetadata})},fe.onerror=function(me){return h("Failed to weights data from file of path '"+ne+"'.")},fe.readAsArrayBuffer(D[ne])})})}else h(new Error("weightManifest field is missing from file "+n.name))}else h(new Error("modelTopology field is missing from file "+n.name))},f.onerror=function(m){return h("Failed to read model topology and weights manifest JSON from file '"+n.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},f.readAsText(n)})]})})},i.prototype.checkManifestAndWeightFiles=function(n,e){for(var r=[],a=e.map(function(m){return rm(m.name)}),c={},h=0,f=n;h<f.length;h++)f[h].paths.forEach(function(m){var b=rm(m);if(-1!==r.indexOf(b))throw new Error("Duplicate file basename found in weights manifest: '"+b+"'");if(r.push(b),-1===a.indexOf(b))throw new Error("Weight file with basename '"+b+"' is not provided.");c[m]=e[a.indexOf(b)]});if(r.length!==e.length)throw new Error("Mismatch in the number of files in weights manifest ("+r.length+") and the number of weight files provided ("+e.length+").");return c},i}();function Da(i,n,e,r){var c;re(null!=(c=i)&&Array.isArray(c)&&c.length>0,function(){return"promises must be a none empty array"}),function(c,h){re(c>=0&&c<=1,function(){return"Progress fraction must be in range [0, 1], but got startFraction "+c}),re(h>=0&&h<=1,function(){return"Progress fraction must be in range [0, 1], but got endFraction "+h}),re(h>=c,function(){return"startFraction must be no more than endFraction, but got startFraction "+c+" and endFraction "+h})}(e=null==e?0:e,r=null==r?1:r);var a=0;return Promise.all(i.map(function(c){return c.then(function(h){var f=e+ ++a/i.length*(r-e);return n(f),h}),c}))}function Na(i,n){return _e(this,void 0,void 0,function(){var e,r,a,c,h,f,m,b,_;return J(this,function(I){switch(I.label){case 0:return null==n&&(n={}),e=null==n.fetchFunc?se().platform.fetch:n.fetchFunc,r=i.map(function(D){return e(D,n.requestInit,{isBinary:!0})}),a=0,c=.5,null!=n.onProgress?[3,2]:[4,Promise.all(r)];case 1:return h=I.sent(),[3,4];case 2:return[4,Da(r,n.onProgress,a,c)];case 3:h=I.sent(),I.label=4;case 4:return f=h.map(function(D){return D.arrayBuffer()}),m=.5,b=1,null!=n.onProgress?[3,6]:[4,Promise.all(f)];case 5:return _=I.sent(),[3,8];case 6:return[4,Da(f,n.onProgress,m,b)];case 7:_=I.sent(),I.label=8;case 8:return[2,_]}})})}function ys(i){var n=this;return function(e,r,a){return void 0===r&&(r=""),_e(n,void 0,void 0,function(){var c,h,f,m,b,_,I,D,T,z;return J(this,function(Q){switch(Q.label){case 0:if(c=e.map(function(){return!1}),h={},f=null!=a?a.map(function(){return!1}):[],m=[],e.forEach(function(Z,ne){var fe=0;Z.weights.forEach(function(me){var we=tm["quantization"in me?me.quantization.dtype:me.dtype]*je(me.shape),We=function(){c[ne]=!0,null==h[ne]&&(h[ne]=[]),h[ne].push({manifestEntry:me,groupOffset:fe,sizeBytes:we})};null!=a?a.forEach(function(It,xt){It===me.name&&(We(),f[xt]=!0)}):We(),m.push(me.name),fe+=we})}),!f.every(function(Z){return Z}))throw b=a.filter(function(Z,ne){return!f[ne]}),new Error("Could not find weights in manifest with names: "+b.join(", ")+". \nManifest JSON has weights with names: "+m.join(", ")+".");return _=c.reduce(function(Z,ne,fe){return ne&&Z.push(fe),Z},[]),I=[],_.forEach(function(Z){e[Z].paths.forEach(function(ne){var fe=r+(r.endsWith("/")?"":"/")+ne;I.push(fe)})}),[4,i(I)];case 1:return D=Q.sent(),T={},z=0,_.forEach(function(Z){for(var ne=e[Z].paths.length,fe=0,me=0;me<ne;me++)fe+=D[z+me].byteLength;for(var he=new ArrayBuffer(fe),we=new Uint8Array(he),We=0,It=0;It<ne;It++){var xt=new Uint8Array(D[z+It]);we.set(xt,We),We+=xt.byteLength}h[Z].forEach(function(ht){var ft=gv(he.slice(ht.groupOffset,ht.groupOffset+ht.sizeBytes),[ht.manifestEntry]);for(var Zt in ft)T[Zt]=ft[Zt]}),z+=ne}),[2,T]}})})}}Ps.registerSaveRouter(function(i){return se().getBool("IS_BROWSER")&&!Array.isArray(i)&&i.startsWith(wa.URL_SCHEME)?(void 0===(n=i.slice(wa.URL_SCHEME.length))&&(n="model"),new wa(n)):null;var n});var ia=function(){function i(n,e){if(this.DEFAULT_METHOD="POST",null==e&&(e={}),this.weightPathPrefix=e.weightPathPrefix,this.onProgress=e.onProgress,null!=e.fetchFunc?(re("function"==typeof e.fetchFunc,function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"}),this.fetch=e.fetchFunc):this.fetch=se().platform.fetch,re(null!=n&&n.length>0,function(){return"URL path for http must not be null, undefined or empty."}),Array.isArray(n)&&re(2===n.length,function(){return"URL paths for http must have a length of 2, (actual length is "+n.length+")."}),this.path=n,null!=e.requestInit&&null!=e.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=e.requestInit||{}}return i.prototype.save=function(n){return _e(this,void 0,void 0,function(){var e,c;return J(this,function(h){switch(h.label){case 0:if(n.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(e=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,e.body.append("model.json",new Blob([JSON.stringify({modelTopology:n.modelTopology,format:n.format,generatedBy:n.generatedBy,convertedBy:n.convertedBy,userDefinedMetadata:n.userDefinedMetadata,weightsManifest:[{paths:["./model.weights.bin"],weights:n.weightSpecs}]})],{type:"application/json"}),"model.json"),null!=n.weightData&&e.body.append("model.weights.bin",new Blob([n.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,e)];case 1:if((c=h.sent()).ok)return[2,{modelArtifactsInfo:Ju(n),responses:[c]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+c.status+".")}})})},i.prototype.load=function(){return _e(this,void 0,void 0,function(){var n,e,r,a,c,h,f,m,b,_,I,D;return J(this,function(T){switch(T.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(n=T.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+n.status+". Please verify this URL points to the model JSON of the model to load.");T.label=2;case 2:return T.trys.push([2,4,,5]),[4,n.json()];case 3:return e=T.sent(),[3,5];case 4:throw T.sent(),r="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 5:if(c=e.weightsManifest,h=e.generatedBy,f=e.convertedBy,m=e.format,b=e.userDefinedMetadata,null==(a=e.modelTopology)&&null==c)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return null==c?[3,7]:[4,this.loadWeights(c)];case 6:D=T.sent(),_=D[0],I=D[1],T.label=7;case 7:return[2,{modelTopology:a,weightSpecs:_,weightData:I,userDefinedMetadata:b,generatedBy:h,convertedBy:f,format:m}]}})})},i.prototype.loadWeights=function(n){return _e(this,void 0,void 0,function(){var r,a,c,h,f,m,b,I,D;return J(this,function(T){switch(T.label){case 0:for(void 0,void 0,Q=(z=Array.isArray(this.path)?this.path[1]:this.path).lastIndexOf("/"),Z=z.lastIndexOf("?"),r=[z.substring(0,Q)+"/",Z>Q?z.substring(Z):""],a=r[0],c=r[1],h=this.weightPathPrefix||a,f=[],m=0,b=n;m<b.length;m++)f.push.apply(f,b[m].weights);return I=[],n.forEach(function(z){z.paths.forEach(function(Q){I.push(h+Q+c)})}),[4,Na(I,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return D=T.sent(),[2,[f,yf(D)]]}var z,Q,Z})})},i.URL_SCHEME_REGEX=/^https?:\/\//,i}();function aa(i){return null!=i.match(ia.URL_SCHEME_REGEX)}var Fa=function(i,n){return typeof fetch>"u"?null:(Array.isArray(i)?i.every(function(e){return aa(e)}):aa(i))?_a(i,{onProgress:n}):null};function _a(i,n){return new ia(i,n)}Ps.registerSaveRouter(Fa),Ps.registerLoadRouter(Fa);var jl,hl=function(){function i(n){this.modelArtifacts=n}return i.prototype.load=function(){return _e(this,void 0,void 0,function(){return J(this,function(n){return[2,this.modelArtifacts]})})},i}(),zs=function(){function i(n){this.saveHandler=n}return i.prototype.save=function(n){return _e(this,void 0,void 0,function(){return J(this,function(e){return[2,this.saveHandler(n)]})})},i}(),xs=Object.freeze({browserFiles:function(i){return new Ji(i)},browserHTTPRequest:function(i,n){return _a(i,n)},concatenateArrayBuffers:yf,decodeWeights:gv,encodeWeights:function(i,n){return _e(this,void 0,void 0,function(){var e,r,a,c,h,f=this;return J(this,function(m){switch(m.label){case 0:for(e=[],r=[],a=Array.isArray(i)?i.map(function(b){return b.name}):Object.keys(i),c=function(b){var _=a[b],I=Array.isArray(i)?i[b].tensor:i[_];if("float32"!==I.dtype&&"int32"!==I.dtype&&"bool"!==I.dtype&&"string"!==I.dtype)throw new Error("Unsupported dtype in weight '"+_+"': "+I.dtype);var D={name:_,shape:I.shape,dtype:I.dtype};if("string"===I.dtype){var T=new Promise(function(z){return _e(f,void 0,void 0,function(){var Q,Z,ne,fe,me,he,we;return J(this,function(We){switch(We.label){case 0:return[4,I.bytes()];case 1:for(Q=We.sent(),Z=Q.reduce(function(It,xt){return It+xt.length},0)+vf*Q.length,ne=new Uint8Array(Z),fe=0,me=0;me<Q.length;me++)he=Q[me],we=new Uint8Array(new Uint32Array([he.length]).buffer),ne.set(we,fe),ne.set(he,fe+=vf),fe+=he.length;return z(ne),[2]}})})});r.push(T)}else r.push(I.data());null!=n&&(D.group=n),e.push(D)},h=0;h<a.length;++h)c(h);return[4,Promise.all(r)];case 1:return[2,{data:ab(m.sent()),specs:e}]}})})},fromMemory:function(i,n,e,r){return 1===arguments.length?null!=i.modelTopology||null!=i.weightSpecs?new hl(i):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new hl({modelTopology:i})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new hl({modelTopology:i,weightSpecs:n,weightData:e,trainingConfig:r}))},getLoadHandlers:function(i,n){return Ps.getLoadHandlers(i,n)},getModelArtifactsInfoForJSON:Ju,getSaveHandlers:function(i){return Ps.getSaveHandlers(i)},http:_a,isHTTPScheme:aa,loadWeights:function(i,n,e,r){return void 0===n&&(n=""),_e(this,void 0,void 0,function(){return J(this,function(a){return[2,ys(function(c){return Na(c,{requestInit:r})})(i,n,e)]})})},registerLoadRouter:function(i){return Ps.registerLoadRouter(i)},registerSaveRouter:function(i){return Ps.registerSaveRouter(i)},weightsLoaderFactory:ys,withSaveHandler:function(i){return new zs(i)},copyModel:function(i,n){return _e(this,void 0,void 0,function(){return J(this,function(e){return[2,p(i,n,!1)]})})},listModels:function(){return _e(this,void 0,void 0,function(){var i,n,e,r,a,c,h;return J(this,function(f){switch(f.label){case 0:i=C.getSchemes(),n={},e=0,r=i,f.label=1;case 1:return e<r.length?[4,C.getManager(a=r[e]).listModels()]:[3,4];case 2:for(h in c=f.sent())n[a+$l+h]=c[h];f.label=3;case 3:return e++,[3,1];case 4:return[2,n]}})})},moveModel:function(i,n){return _e(this,void 0,void 0,function(){return J(this,function(e){return[2,p(i,n,!0)]})})},removeModel:function(i){return _e(this,void 0,void 0,function(){var n;return J(this,function(e){return n=u(i),[2,C.getManager(n.scheme).removeModel(n.path)]})})}}),Il=$({confusionMatrix_:function(i,n,e){var r=Ve(i,"labels","confusionMatrix"),a=Ve(n,"predictions","confusionMatrix");re(null==e||e>0&&Number.isInteger(e),function(){return"If provided, numClasses must be a positive integer, but got "+e}),re(1===r.rank,function(){return"Expected the rank of labels to be 1, but got "+r.rank}),re(1===a.rank,function(){return"Expected the rank of predictions to be 1, but got "+a.rank}),re(r.shape[0]===a.shape[0],function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+a.shape[0]+". Labels and predictions should have the same number of elements."}),re(e>0&&Number.isInteger(e),function(){return"numClasses is required to be a positive integer, but got "+e});var c=fa(r.asType("int32"),e),h=fa(a.asType("int32"),e);return c.transpose().matMul(h).asType("int32")}}),vv=(Object.freeze({confusionMatrix:Il}),$({fromPixels_:function(i,n){if(void 0===n&&(n=3),n>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==i)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var e=!1,r=!1,a=!1,c=!1,h=!1;if(i.data instanceof Uint8Array)e=!0;else if(typeof ImageData<"u"&&i instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement)a=!0;else if(typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement)c=!0;else{if(null==i.getContext)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+i.constructor.name);h=!0}if(a&&a&&i.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(null!=Se("FromPixels",le.backendName))return le.runKernel("FromPixels",{pixels:i},{numChannels:n});var f,m,b=a?[i.videoWidth,i.videoHeight]:[i.width,i.height],_=b[0],I=b[1];if(h?f=i.getContext("2d").getImageData(0,0,_,I).data:r||e?f=i.data:(c||a)&&(null==jl&&(jl=document.createElement("canvas").getContext("2d")),jl.canvas.width=_,jl.canvas.height=I,jl.drawImage(i,0,0,_,I),f=jl.getImageData(0,0,_,I).data),4===n)m=new Int32Array(f);else{var D=_*I;m=new Int32Array(D*n);for(var T=0;T<D;T++)for(var z=0;z<n;++z)m[T*n+z]=f[4*T+z]}return Un(m,[I,_,n],"int32")}})),om=Object.freeze({toPixels:function(i,n){return _e(this,void 0,void 0,function(){var e,r,a,c,h,f,m,b,_,T,z,Q,Z,ne,fe,me,he,we,We,It,xt;return J(this,function(ht){switch(ht.label){case 0:if(e=Ve(i,"img","toPixels"),i instanceof $r||(e=e.toInt()),2!==e.rank&&3!==e.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+e.rank+".");if(r=e.shape.slice(0,2),a=r[0],c=r[1],(h=2===e.rank?1:e.shape[2])>4||2===h)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+h);return[4,e.data()];case 1:return f=ht.sent(),m=e.min(),b=e.max(),[4,Promise.all([m.data(),b.data()])];case 2:if(_=ht.sent(),T=_[0][0],z=_[1][0],m.dispose(),b.dispose(),"float32"===e.dtype){if(T<0||z>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+T+" - "+z+"].")}else{if("int32"!==e.dtype)throw new Error("Unsupported type for toPixels: "+e.dtype+". Please use float32 or int32 tensors.");if(T<0||z>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+T+" - "+z+"].")}for(Q="float32"===e.dtype?255:1,Z=new Uint8ClampedArray(c*a*4),ne=0;ne<a*c;++ne)fe=void 0,me=void 0,he=void 0,we=void 0,1===h?(fe=f[ne]*Q,me=f[ne]*Q,he=f[ne]*Q,we=255):3===h?(fe=f[3*ne]*Q,me=f[3*ne+1]*Q,he=f[3*ne+2]*Q,we=255):4===h&&(fe=f[4*ne]*Q,me=f[4*ne+1]*Q,he=f[4*ne+2]*Q,we=f[4*ne+3]*Q),Z[0+(We=4*ne)]=Math.round(fe),Z[We+1]=Math.round(me),Z[We+2]=Math.round(he),Z[We+3]=Math.round(we);return null!=n&&(n.width=c,n.height=a,It=n.getContext("2d"),xt=new ImageData(Z,c,a),It.putImageData(xt,0,0)),e!==i&&e.dispose(),[2,Z]}})})},fromPixels:vv}),bv=function(){function i(){}return i.prototype.getClassName=function(){return this.constructor.className},i.fromConfig=function(n,e){return new n(e)},i}(),sb=function(){function i(){this.classNameMap={}}return i.getMap=function(){return null==i.instance&&(i.instance=new i),i.instance},i.register=function(n){i.getMap().classNameMap[n.className]=[n,n.fromConfig]},i}();function Jc(i){re(null!=i.className,function(){return"Class being registered does not have the static className property defined."}),re("string"==typeof i.className,function(){return"className is required to be a string, but got type "+typeof i.className}),re(i.className.length>0,function(){return"Class being registered has an empty-string as its className, which is disallowed."}),sb.register(i)}function yv(){return 32===le.backend.floatPrecision()?.001:.1}function wf(i,n,e){var r=!0;if((ln(i)||ln(n))&&(r=!1),ln(i)&&ln(n)&&(r=!0),r){var a=i.constructor.name,c=n.constructor.name;if(a!==c)throw new Error("Arrays are of different type. Actual: "+a+". Expected: "+c)}if(Array.isArray(i)&&Array.isArray(n)){var h=ci(i),f=ci(n);if(!Lt(h,f))throw new Error("Arrays have different shapes. Actual: ["+h+"]. Expected: ["+f+"]")}var m=ln(i)?i:Ke(i),b=ln(n)?n:Ke(n);if(m.length!==b.length)throw new Error("Arrays have different lengths actual: "+m.length+" vs expected: "+b.length+".\nActual:   "+m+".\nExpected: "+b+".");for(var _=0;_<b.length;++_){var I=m[_],D=b[_];if(!e(I,D))throw new Error("Arrays differ: actual["+_+"] = "+I+", expected["+_+"] = "+D+".\nActual:   "+m+".\nExpected: "+b+".")}}function cb(i,n,e){return!isFinite(i)&&!isFinite(n)||!(isNaN(i)||isNaN(n)||Math.abs(i-n)>e)}Object.freeze({Serializable:bv,SerializationMap:sb,registerClass:Jc}),Object.freeze({TEST_EPSILON_FLOAT16:.1,expectArraysClose:function(i,n,e){return null==e&&(e=yv()),wf(i,n,function(r,a){return cb(r,a,e)})},testEpsilon:yv,expectPromiseToFail:function(i,n){i().then(function(){return n.fail()},function(){return n()})},expectArraysEqual:function(i,n){var e="string"==typeof n||"number"==typeof n||"boolean"==typeof n?[n]:n;return er(i)||er(i[0])||er(n)||er(n[0])?wf(i,e,function(r,a){return r==a}):wf(i,n,function(r,a){return cb(r,a,0)})},expectNumbersClose:function(i,n,e){if(null==e&&(e=yv()),!cb(i,n,e))throw new Error("Numbers differ: actual === "+i+", expected === "+n)},expectValuesInRange:function(i,n,e){for(var r=0;r<i.length;r++)if(i[r]<n||i[r]>e)throw new Error("Value out of range:"+i[r]+" low: "+n+", high: "+e)},expectArrayBuffersEqual:function(i,n){expect(new Float32Array(i)).toEqual(new Float32Array(n))}}),Object.freeze({gpgpu_util:dp,webgl_util:L,forceHalfFloat:function(){se().set("WEBGL_FORCE_F16_TEXTURES",!0)},MathBackendWebGL:Nu,setWebGLContext:ei,GPGPUContext:Ah});var Kd=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return H(n,i),n.prototype.minimize=function(e,r,a){void 0===r&&(r=!1);var c=this.computeGradients(e,a),h=c.value,f=c.grads;if(null!=a){var m=a.map(function(b){return{name:b.name,tensor:f[b.name]}});this.applyGradients(m)}else this.applyGradients(f);return Vt(f),r?h:(h.dispose(),null)},Object.defineProperty(n.prototype,"iterations",{get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),n.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},n.prototype.computeGradients=function(e,r){return function ni(i,n){re(hr(i),function(){return"The f passed in variableGrads(f) must be a function"}),re(null==n||Array.isArray(n)&&n.every(function(_){return _ instanceof Tt}),function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"});var e=null!=n;if(!e)for(var r in n=[],le.registeredVariables)n.push(le.registeredVariables[r]);var a=e?n.filter(function(_){return!_.trainable}):null,c=n.length;re((n=n.filter(function(_){return _.trainable})).length>0,function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+c+" variables is trainable."});var h=le.gradients(i,n,null,!0),f=h.value,m=h.grads;re(m.some(function(_){return null!=_}),function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."}),re(0===f.rank,function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+f.rank+" tensor"});var b={};return n.forEach(function(_,I){null!=m[I]&&(b[_.name]=m[I])}),null!=a&&a.forEach(function(_){return b[_.name]=null}),{value:f,grads:b}}(e,r)},n.prototype.dispose=function(){null!=this.iterations_&&Vt(this.iterations_)},n.prototype.saveIterations=function(){return _e(this,void 0,void 0,function(){return J(this,function(e){return null==this.iterations_&&(this.iterations_=0),[2,{name:"iter",tensor:St(this.iterations_,"int32")}]})})},n.prototype.getWeights=function(){return _e(this,void 0,void 0,function(){return J(this,function(e){throw new Error("getWeights() is not implemented for this optimizer yet.")})})},n.prototype.setWeights=function(e){return _e(this,void 0,void 0,function(){return J(this,function(r){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())})})},n.prototype.extractIterations=function(e){return _e(this,void 0,void 0,function(){var r;return J(this,function(a){switch(a.label){case 0:return r=this,[4,e[0].tensor.data()];case 1:return r.iterations_=a.sent()[0],[2,e.slice(1)]}})})},n}(bv);Object.defineProperty(Kd,Symbol.hasInstance,{value:function(i){return null!=i.minimize&&null!=i.computeGradients&&null!=i.applyGradients}});var sx=function(i){function n(e,r,a){void 0===a&&(a=null);var c=i.call(this)||this;return c.learningRate=e,c.rho=r,c.epsilon=a,c.accumulatedGrads=[],c.accumulatedUpdates=[],null==a&&(c.epsilon=le.backend.epsilon()),c}return H(n,i),n.prototype.applyGradients=function(e){var r=this;(Array.isArray(e)?e.map(function(a){return a.name}):Object.keys(e)).forEach(function(a,c){var h=le.registeredVariables[a];null==r.accumulatedGrads[c]&&(r.accumulatedGrads[c]={originalName:a+"/accum_grad",variable:Nt(function(){return No(h).variable(!1)})}),null==r.accumulatedUpdates[c]&&(r.accumulatedUpdates[c]={originalName:a+"/accum_var",variable:Nt(function(){return No(h).variable(!1)})});var f=Array.isArray(e)?e[c].tensor:e[a];if(null!=f){var m=r.accumulatedGrads[c].variable,b=r.accumulatedUpdates[c].variable;Nt(function(){var _=m.mul(r.rho).add(f.square().mul(1-r.rho)),I=b.add(r.epsilon).sqrt().div(m.add(r.epsilon).sqrt()).mul(f),D=b.mul(r.rho).add(I.square().mul(1-r.rho));m.assign(_),b.assign(D);var T=I.mul(-r.learningRate).add(h);h.assign(T)})}}),this.incrementIterations()},n.prototype.dispose=function(){null!=this.accumulatedUpdates&&(Vt(this.accumulatedGrads.map(function(e){return e.variable})),Vt(this.accumulatedUpdates.map(function(e){return e.variable})))},n.prototype.getWeights=function(){return _e(this,void 0,void 0,function(){var e;return J(this,function(r){switch(r.label){case 0:return e=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(e.map(function(a){return{name:a.originalName,tensor:a.variable}}))]}})})},n.prototype.setWeights=function(e){return _e(this,void 0,void 0,function(){var r;return J(this,function(a){switch(a.label){case 0:return[4,this.extractIterations(e)];case 1:return e=a.sent(),this.accumulatedGrads=e.slice(0,r=e.length/2).map(function(c){return{originalName:c.name,variable:c.tensor.variable(!1)}}),this.accumulatedUpdates=e.slice(r,2*r).map(function(c){return{originalName:c.name,variable:c.tensor.variable(!1)}}),[2]}})})},n.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},n.fromConfig=function(e,r){return new e(r.learningRate,r.rho,r.epsilon)},n.className="Adadelta",n}(Kd);Jc(sx);var lx=function(i){function n(e,r){void 0===r&&(r=.1);var a=i.call(this)||this;return a.learningRate=e,a.initialAccumulatorValue=r,a.accumulatedGrads=[],a}return H(n,i),n.prototype.applyGradients=function(e){var r=this;(Array.isArray(e)?e.map(function(a){return a.name}):Object.keys(e)).forEach(function(a,c){var h=le.registeredVariables[a];null==r.accumulatedGrads[c]&&(r.accumulatedGrads[c]={originalName:a+"/accumulator",variable:Nt(function(){return Eo(h.shape,r.initialAccumulatorValue).variable(!1)})});var f=Array.isArray(e)?e[c].tensor:e[a];if(null!=f){var m=r.accumulatedGrads[c].variable;Nt(function(){var b=m.add(f.square());m.assign(b);var _=f.div(b.add(le.backend.epsilon()).sqrt()).mul(-r.learningRate).add(h);h.assign(_)})}}),this.incrementIterations()},n.prototype.dispose=function(){null!=this.accumulatedGrads&&Vt(this.accumulatedGrads.map(function(e){return e.variable}))},n.prototype.getWeights=function(){return _e(this,void 0,void 0,function(){return J(this,function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulatedGrads.map(function(r){return{name:r.originalName,tensor:r.variable}}))]}})})},n.prototype.setWeights=function(e){return _e(this,void 0,void 0,function(){return J(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(e)];case 1:return e=r.sent(),this.accumulatedGrads=e.map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),[2]}})})},n.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},n.fromConfig=function(e,r){return new e(r.learningRate,r.initialAccumulatorValue)},n.className="Adagrad",n}(Kd);Jc(lx);var cx=function(i){function n(e,r,a,c){void 0===c&&(c=null);var h=i.call(this)||this;return h.learningRate=e,h.beta1=r,h.beta2=a,h.epsilon=c,h.accumulatedFirstMoment=[],h.accumulatedSecondMoment=[],Nt(function(){h.accBeta1=St(r).variable(),h.accBeta2=St(a).variable()}),null==c&&(h.epsilon=le.backend.epsilon()),h}return H(n,i),n.prototype.applyGradients=function(e){var r=this,a=Array.isArray(e)?e.map(function(c){return c.name}):Object.keys(e);Nt(function(){var c=Wa(1,r.accBeta1),h=Wa(1,r.accBeta2);a.forEach(function(f,m){var b=le.registeredVariables[f];null==r.accumulatedFirstMoment[m]&&(r.accumulatedFirstMoment[m]={originalName:f+"/m",variable:Nt(function(){return No(b).variable(!1)})}),null==r.accumulatedSecondMoment[m]&&(r.accumulatedSecondMoment[m]={originalName:f+"/v",variable:Nt(function(){return No(b).variable(!1)})});var _=Array.isArray(e)?e[m].tensor:e[f];if(null!=_){var I=r.accumulatedFirstMoment[m].variable,D=r.accumulatedSecondMoment[m].variable,T=I.mul(r.beta1).add(_.mul(1-r.beta1)),z=D.mul(r.beta2).add(_.square().mul(1-r.beta2)),Q=T.div(c),Z=z.div(h);I.assign(T),D.assign(z);var ne=Q.div(Z.sqrt().add(r.epsilon)).mul(-r.learningRate).add(b);b.assign(ne)}}),r.accBeta1.assign(r.accBeta1.mul(r.beta1)),r.accBeta2.assign(r.accBeta2.mul(r.beta2))}),this.incrementIterations()},n.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&Vt(this.accumulatedFirstMoment.map(function(e){return e.variable})),null!=this.accumulatedSecondMoment&&Vt(this.accumulatedSecondMoment.map(function(e){return e.variable}))},n.prototype.getWeights=function(){return _e(this,void 0,void 0,function(){var e;return J(this,function(r){switch(r.label){case 0:return e=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(e.map(function(a){return{name:a.originalName,tensor:a.variable}}))]}})})},n.prototype.setWeights=function(e){return _e(this,void 0,void 0,function(){var r,a=this;return J(this,function(c){switch(c.label){case 0:return[4,this.extractIterations(e)];case 1:return e=c.sent(),Nt(function(){a.accBeta1.assign(Rd(a.beta1,a.iterations_+1)),a.accBeta2.assign(Rd(a.beta2,a.iterations_+1))}),this.accumulatedFirstMoment=e.slice(0,r=e.length/2).map(function(h){return{originalName:h.name,variable:h.tensor.variable(!1)}}),this.accumulatedSecondMoment=e.slice(r,2*r).map(function(h){return{originalName:h.name,variable:h.tensor.variable(!1)}}),[2]}})})},n.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},n.fromConfig=function(e,r){return new e(r.learningRate,r.beta1,r.beta2,r.epsilon)},n.className="Adam",n}(Kd);Jc(cx);var db=function(i){function n(e,r,a,c,h){void 0===c&&(c=null),void 0===h&&(h=0);var f=i.call(this)||this;return f.learningRate=e,f.beta1=r,f.beta2=a,f.epsilon=c,f.decay=h,f.accumulatedFirstMoment=[],f.accumulatedWeightedInfNorm=[],Nt(function(){f.iteration=St(0).variable(),f.accBeta1=St(r).variable()}),null==c&&(f.epsilon=le.backend.epsilon()),f}return H(n,i),n.prototype.applyGradients=function(e){var r=this,a=Array.isArray(e)?e.map(function(c){return c.name}):Object.keys(e);Nt(function(){var c=Wa(1,r.accBeta1),h=Ms(-r.learningRate,r.iteration.mul(r.decay).add(1));a.forEach(function(f,m){var b=le.registeredVariables[f];null==r.accumulatedFirstMoment[m]&&(r.accumulatedFirstMoment[m]={originalName:f+"/m",variable:No(b).variable(!1)}),null==r.accumulatedWeightedInfNorm[m]&&(r.accumulatedWeightedInfNorm[m]={originalName:f+"/v",variable:No(b).variable(!1)});var _=Array.isArray(e)?e[m].tensor:e[f];if(null!=_){var I=r.accumulatedFirstMoment[m].variable,D=r.accumulatedWeightedInfNorm[m].variable,T=I.mul(r.beta1).add(_.mul(1-r.beta1)),z=D.mul(r.beta2),Q=_.abs(),Z=z.maximum(Q);I.assign(T),D.assign(Z);var ne=h.div(c).mul(T.div(Z.add(r.epsilon))).add(b);b.assign(ne)}}),r.iteration.assign(r.iteration.add(1)),r.accBeta1.assign(r.accBeta1.mul(r.beta1))}),this.incrementIterations()},n.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&Vt(this.accumulatedFirstMoment.map(function(e){return e.variable})),null!=this.accumulatedWeightedInfNorm&&Vt(this.accumulatedWeightedInfNorm.map(function(e){return e.variable}))},n.prototype.getWeights=function(){return _e(this,void 0,void 0,function(){return J(this,function(e){throw new Error("getWeights() is not implemented for Adamax yet.")})})},n.prototype.setWeights=function(e){return _e(this,void 0,void 0,function(){return J(this,function(r){throw new Error("setWeights() is not implemented for Adamax yet.")})})},n.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},n.fromConfig=function(e,r){return new e(r.learningRate,r.beta1,r.beta2,r.epsilon,r.decay)},n.className="Adamax",n}(Kd);Jc(db);var qd=function(i){function n(e){var r=i.call(this)||this;return r.learningRate=e,r.setLearningRate(e),r}return H(n,i),n.prototype.applyGradients=function(e){var r=this;(Array.isArray(e)?e.map(function(a){return a.name}):Object.keys(e)).forEach(function(a,c){var h=Array.isArray(e)?e[c].tensor:e[a];if(null!=h){var f=le.registeredVariables[a];Nt(function(){var m=r.c.mul(h).add(f);f.assign(m)})}}),this.incrementIterations()},n.prototype.setLearningRate=function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=function In(i){return le.keep(i)}(St(-e))},n.prototype.dispose=function(){this.c.dispose()},n.prototype.getWeights=function(){return _e(this,void 0,void 0,function(){return J(this,function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()]]}})})},n.prototype.setWeights=function(e){return _e(this,void 0,void 0,function(){return J(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(e)];case 1:if(0!==(e=r.sent()).length)throw new Error("SGD optimizer does not have settable weights.");return[2]}})})},n.prototype.getConfig=function(){return{learningRate:this.learningRate}},n.fromConfig=function(e,r){return new e(r.learningRate)},n.className="SGD",n}(Kd);Jc(qd);var _f=function(i){function n(e,r,a){void 0===a&&(a=!1);var c=i.call(this,e)||this;return c.learningRate=e,c.momentum=r,c.useNesterov=a,c.accumulations=[],c.m=St(c.momentum),c}return H(n,i),n.prototype.applyGradients=function(e){var r=this;(Array.isArray(e)?e.map(function(a){return a.name}):Object.keys(e)).forEach(function(a,c){var h=le.registeredVariables[a];null==r.accumulations[c]&&(r.accumulations[c]={originalName:a+"/momentum",variable:Nt(function(){return No(h).variable(!1)})});var f=r.accumulations[c].variable,m=Array.isArray(e)?e[c].tensor:e[a];null!=m&&Nt(function(){var b,_=r.m.mul(f).add(m);b=r.useNesterov?r.c.mul(m.add(_.mul(r.m))).add(h):r.c.mul(_).add(h),f.assign(_),h.assign(b)})}),this.incrementIterations()},n.prototype.dispose=function(){this.m.dispose(),null!=this.accumulations&&Vt(this.accumulations.map(function(e){return e.variable}))},n.prototype.setMomentum=function(e){this.momentum=e},n.prototype.getWeights=function(){return _e(this,void 0,void 0,function(){return J(this,function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulations.map(function(r){return{name:r.originalName,tensor:r.variable}}))]}})})},n.prototype.setWeights=function(e){return _e(this,void 0,void 0,function(){return J(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(e)];case 1:return e=r.sent(),this.accumulations=e.map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),[2]}})})},n.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},n.fromConfig=function(e,r){return new e(r.learningRate,r.momentum,r.useNesterov)},n.className="Momentum",n}(qd);Jc(_f);var xv=function(i){function n(e,r,a,c,h){void 0===r&&(r=.9),void 0===a&&(a=0),void 0===c&&(c=null),void 0===h&&(h=!1);var f=i.call(this)||this;if(f.learningRate=e,f.decay=r,f.momentum=a,f.epsilon=c,f.accumulatedMeanSquares=[],f.accumulatedMoments=[],f.accumulatedMeanGrads=[],f.centered=h,null==c&&(f.epsilon=le.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.");return f}return H(n,i),n.prototype.applyGradients=function(e){var r=this;(Array.isArray(e)?e.map(function(a){return a.name}):Object.keys(e)).forEach(function(a,c){var h=le.registeredVariables[a];null==r.accumulatedMeanSquares[c]&&(r.accumulatedMeanSquares[c]={originalName:a+"/rms",variable:Nt(function(){return No(h).variable(!1)})}),null==r.accumulatedMoments[c]&&(r.accumulatedMoments[c]={originalName:a+"/momentum",variable:Nt(function(){return No(h).variable(!1)})}),null==r.accumulatedMeanGrads[c]&&r.centered&&(r.accumulatedMeanGrads[c]={originalName:a+"/mg",variable:Nt(function(){return No(h).variable(!1)})});var f=Array.isArray(e)?e[c].tensor:e[a];if(null!=f){var m=r.accumulatedMeanSquares[c].variable,b=r.accumulatedMoments[c].variable;Nt(function(){var _=m.mul(r.decay).add(f.square().mul(1-r.decay));if(r.centered){var I=r.accumulatedMeanGrads[c].variable,D=I.mul(r.decay).add(f.mul(1-r.decay)),T=b.mul(r.momentum).add(f.mul(r.learningRate).div(_.sub(D.square().add(r.epsilon)).sqrt()));m.assign(_),I.assign(D),b.assign(T);var z=h.sub(T);h.assign(z)}else{var Q=m.mul(r.decay).add(f.square().mul(1-r.decay));T=b.mul(r.momentum).add(f.mul(r.learningRate).div(Q.add(r.epsilon).sqrt())),m.assign(Q),b.assign(T),z=h.sub(T),h.assign(z)}})}}),this.incrementIterations()},n.prototype.dispose=function(){null!=this.accumulatedMeanSquares&&Vt(this.accumulatedMeanSquares.map(function(e){return e.variable})),null!=this.accumulatedMeanGrads&&this.centered&&Vt(this.accumulatedMeanGrads.map(function(e){return e.variable})),null!=this.accumulatedMoments&&Vt(this.accumulatedMoments.map(function(e){return e.variable}))},n.prototype.getWeights=function(){return _e(this,void 0,void 0,function(){var e;return J(this,function(r){switch(r.label){case 0:return e=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&e.push.apply(e,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(e.map(function(a){return{name:a.originalName,tensor:a.variable}}))]}})})},n.prototype.setWeights=function(e){return _e(this,void 0,void 0,function(){var r;return J(this,function(a){switch(a.label){case 0:return[4,this.extractIterations(e)];case 1:return e=a.sent(),this.accumulatedMeanSquares=e.slice(0,r=this.centered?e.length/3:e.length/2).map(function(c){return{originalName:c.name,variable:c.tensor.variable(!1)}}),this.accumulatedMoments=e.slice(r,2*r).map(function(c){return{originalName:c.name,variable:c.tensor.variable(!1)}}),this.centered&&(this.accumulatedMeanGrads=e.slice(2*r,3*r).map(function(c){return{originalName:c.name,variable:c.tensor.variable(!1)}})),[2]}})})},n.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},n.fromConfig=function(e,r){return new e(r.learningRate,r.decay,r.momentum,r.epsilon,r.centered)},n.className="RMSProp",n}(Kd);Jc(xv),function(){function i(){}i.sgd=function(n){return new qd(n)},i.momentum=function(n,e,r){return void 0===r&&(r=!1),new _f(n,e,r)},i.rmsprop=function(n,e,r,a,c){return void 0===e&&(e=.9),void 0===r&&(r=0),void 0===a&&(a=null),void 0===c&&(c=!1),new xv(n,e,r,a,c)},i.adam=function(n,e,r,a){return void 0===n&&(n=.001),void 0===e&&(e=.9),void 0===r&&(r=.999),void 0===a&&(a=null),new cx(n,e,r,a)},i.adadelta=function(n,e,r){return void 0===n&&(n=.001),void 0===e&&(e=.95),void 0===r&&(r=null),new sx(n,e,r)},i.adamax=function(n,e,r,a,c){return void 0===n&&(n=.002),void 0===e&&(e=.9),void 0===r&&(r=.999),void 0===a&&(a=null),void 0===c&&(c=0),new db(n,e,r,a,c)},i.adagrad=function(n,e){return void 0===e&&(e=.1),new lx(n,e)}}(),typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"&&setImmediate,$r.prototype.squaredDifference=function(i){return jh(this,i)},nn=fv;var im=function(i,n){return(im=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var a in r)r.hasOwnProperty(a)&&(e[a]=r[a])})(i,n)};function Io(i,n){function e(){this.constructor=i}im(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}var Ni=function(){return Ni=Object.assign||function(n){for(var e,r=1,a=arguments.length;r<a;r++)for(var c in e=arguments[r])Object.prototype.hasOwnProperty.call(e,c)&&(n[c]=e[c]);return n},Ni.apply(this,arguments)};function to(i,n,e,r){return new(e||(e=Promise))(function(c,h){function f(_){try{b(r.next(_))}catch(I){h(I)}}function m(_){try{b(r.throw(_))}catch(I){h(I)}}function b(_){_.done?c(_.value):function a(c){return c instanceof e?c:new e(function(h){h(c)})}(_.value).then(f,m)}b((r=r.apply(i,n||[])).next())})}function no(i,n){var r,a,c,h,e={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return h={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h;function f(b){return function(_){return function m(b){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,a&&(c=2&b[0]?a.return:b[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,b[1])).done)return c;switch(a=0,c&&(b=[2&b[0],c.value]),b[0]){case 0:case 1:c=b;break;case 4:return e.label++,{value:b[1],done:!1};case 5:e.label++,a=b[1],b=[0];continue;case 7:b=e.ops.pop(),e.trys.pop();continue;default:if(!(c=(c=e.trys).length>0&&c[c.length-1])&&(6===b[0]||2===b[0])){e=0;continue}if(3===b[0]&&(!c||b[1]>c[0]&&b[1]<c[3])){e.label=b[1];break}if(6===b[0]&&e.label<c[1]){e.label=c[1],c=b;break}if(c&&e.label<c[2]){e.label=c[2],e.ops.push(b);break}c[2]&&e.ops.pop(),e.trys.pop();continue}b=n.call(i,e)}catch(_){b=[6,_],a=0}finally{r=c=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([b,_])}}}function ed(){for(var i=0,n=0,e=arguments.length;n<e;n++)i+=arguments[n].length;var r=Array(i),a=0;for(n=0;n<e;n++)for(var c=arguments[n],h=0,f=c.length;h<f;h++,a++)r[a]=c[h];return r}var Yd=function(){function i(n,e){if(!nu(n)||!nu(e))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:n,height:e}));this._width=n,this._height=e}return Object.defineProperty(i.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),i.prototype.reverse=function(){return new i(1/this.width,1/this.height)},i}();function If(i,n){return i instanceof $r&&i.shape.length===n}function tu(i){return If(i,3)}function El(i){return If(i,4)}function mb(i){return i%2==0}function lm(i){return i&&i.width&&i.height}function xc(i){return i.reduce(function(n,e){return n.add(e)},new Ci(0,0)).div(new Ci(i.length,i.length))}function Zd(i,n,e){return Array(i).fill(0).map(function(r,a){return n+a*e})}function nu(i){return!!i&&i!==1/0&&i!==-1/0&&!isNaN(i)||0===i}function cm(i){return nu(i)&&0<=i&&i<=1}var Ci=function(){function i(n,e){this._x=n,this._y=e}return Object.defineProperty(i.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),i.prototype.add=function(n){return new i(this.x+n.x,this.y+n.y)},i.prototype.sub=function(n){return new i(this.x-n.x,this.y-n.y)},i.prototype.mul=function(n){return new i(this.x*n.x,this.y*n.y)},i.prototype.div=function(n){return new i(this.x/n.x,this.y/n.y)},i.prototype.abs=function(){return new i(Math.abs(this.x),Math.abs(this.y))},i.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},i.prototype.floor=function(){return new i(Math.floor(this.x),Math.floor(this.y))},i}(),zl=function(){function i(n,e){void 0===e&&(e=!0);var r=n||{},a=[r.left,r.top,r.right,r.bottom].every(nu),c=[r.x,r.y,r.width,r.height].every(nu);if(!c&&!a)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(r));var h=c?[r.x,r.y,r.width,r.height]:[r.left,r.top,r.right-r.left,r.bottom-r.top],f=h[0],m=h[1],b=h[2],_=h[3];i.assertIsValidBox({x:f,y:m,width:b,height:_},"Box.constructor",e),this._x=f,this._y=m,this._width=b,this._height=_}return i.isRect=function(n){return!!n&&[n.x,n.y,n.width,n.height].every(nu)},i.assertIsValidBox=function(n,e,r){if(void 0===r&&(r=!1),!i.isRect(n))throw new Error(e+" - invalid box: "+JSON.stringify(n)+", expected object with properties x, y, width, height");if(!r&&(n.width<0||n.height<0))throw new Error(e+" - width ("+n.width+") and height ("+n.height+") must be positive numbers")},Object.defineProperty(i.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"topLeft",{get:function(){return new Ci(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"topRight",{get:function(){return new Ci(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bottomLeft",{get:function(){return new Ci(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bottomRight",{get:function(){return new Ci(this.right,this.bottom)},enumerable:!0,configurable:!0}),i.prototype.round=function(){var n=[this.x,this.y,this.width,this.height].map(function(h){return Math.round(h)});return new i({x:n[0],y:n[1],width:n[2],height:n[3]})},i.prototype.floor=function(){var n=[this.x,this.y,this.width,this.height].map(function(h){return Math.floor(h)});return new i({x:n[0],y:n[1],width:n[2],height:n[3]})},i.prototype.toSquare=function(){var n=this,e=n.x,r=n.y,a=n.width,c=n.height,h=Math.abs(a-c);return a<c&&(e-=h/2,a+=h),c<a&&(r-=h/2,c+=h),new i({x:e,y:r,width:a,height:c})},i.prototype.rescale=function(n){var e=lm(n)?n.width:n,r=lm(n)?n.height:n;return new i({x:this.x*e,y:this.y*r,width:this.width*e,height:this.height*r})},i.prototype.pad=function(n,e){var r=[this.x-n/2,this.y-e/2,this.width+n,this.height+e];return new i({x:r[0],y:r[1],width:r[2],height:r[3]})},i.prototype.clipAtImageBorders=function(n,e){var r=this,c=r.y,h=r.right,f=r.bottom,m=Math.max(r.x,0),b=Math.max(c,0),I=f-b;return new i({x:m,y:b,width:Math.min(h-m,n-m),height:Math.min(I,e-b)}).floor()},i.prototype.shift=function(n,e){return new i({x:this.x+n,y:this.y+e,width:this.width,height:this.height})},i.prototype.padAtBorders=function(n,e){var r=this.width+1,a=this.height+1,f=r,m=a,b=this.left,_=this.top,I=this.right,D=this.bottom;return I>e&&(f=-I+e+r,I=e),D>n&&(m=-D+n+a,D=n),b<1&&(m=2-b,b=1),_<1&&(m=2-_,_=1),{dy:1,edy:m,dx:1,edx:f,y:_,ey:D,x:b,ex:I,w:r,h:a}},i.prototype.calibrate=function(n){return new i({left:this.left+n.left*this.width,top:this.top+n.top*this.height,right:this.right+n.right*this.width,bottom:this.bottom+n.bottom*this.height}).toSquare().round()},i}(),Ef=function(i){function n(e,r,a,c,h){return void 0===h&&(h=!1),i.call(this,{left:e,top:r,right:a,bottom:c},h)||this}return Io(n,i),n}(zl),Iv=function(){function i(n,e,r,a,c){this._imageDims=new Yd(c.width,c.height),this._score=n,this._classScore=e,this._className=r,this._box=new zl(a).rescale(this._imageDims)}return Object.defineProperty(i.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"relativeBox",{get:function(){return new zl(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),i.prototype.forSize=function(n,e){return new i(this.score,this.classScore,this.className,this.relativeBox,{width:n,height:e})},i}(),pl=function(i){function n(e,r,a){return i.call(this,e,e,"",r,a)||this}return Io(n,i),n.prototype.forSize=function(e,r){var a=i.prototype.forSize.call(this,e,r);return new n(a.score,a.relativeBox,a.imageDims)},n}(Iv);function um(i,n,e){void 0===e&&(e=!0);var c=Math.max(0,Math.min(i.right,n.right)-Math.max(i.left,n.left))*Math.max(0,Math.min(i.bottom,n.bottom)-Math.max(i.top,n.top));return e?c/(i.area+n.area-c):c/Math.min(i.area,n.area)}function Dl(i,n,e,r){void 0===r&&(r=!0);for(var a=n.map(function(f,m){return{score:f,boxIndex:m}}).sort(function(f,m){return f.score-m.score}).map(function(f){return f.boxIndex}),c=[],h=function(){var f=a.pop();c.push(f);for(var m=a,b=[],_=0;_<m.length;_++)b.push(um(i[f],i[m[_]],r));a=a.filter(function(z,Q){return b[Q]<=e})};a.length>0;)h();return c}function Qd(i,n){return Nt(function(){var e=n[0],r=n[1],a=n[2],c=Eo(ed(i.shape.slice(0,3),[1]),e),h=Eo(ed(i.shape.slice(0,3),[1]),r),f=Eo(ed(i.shape.slice(0,3),[1]),a),m=hi([c,h,f],3);return Wa(i,m)})}function td(i){return 1/(1+Math.exp(-i))}var ka,Jd=function(i){function n(e,r,a,c,h){return void 0===h&&(h=!1),i.call(this,{x:e,y:r,width:a,height:c},h)||this}return Io(n,i),n}(zl),hm=function(){function i(n,e,r){void 0===r&&(r=new Ci(0,0));var a=e.width,c=e.height;this._imgDims=new Yd(a,c),this._shift=r,this._positions=n.map(function(h){return h.mul(new Ci(a,c)).add(r)})}return Object.defineProperty(i.prototype,"shift",{get:function(){return new Ci(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"relativePositions",{get:function(){var n=this;return this._positions.map(function(e){return e.sub(n._shift).div(new Ci(n.imageWidth,n.imageHeight))})},enumerable:!0,configurable:!0}),i.prototype.forSize=function(n,e){return new this.constructor(this.relativePositions,{width:n,height:e})},i.prototype.shiftBy=function(n,e){return new this.constructor(this.relativePositions,this._imgDims,new Ci(n,e))},i.prototype.shiftByPoint=function(n){return this.shiftBy(n.x,n.y)},i.prototype.align=function(n,e){if(void 0===e&&(e={}),n){var r=n instanceof pl?n.box.floor():new zl(n);return this.shiftBy(r.x,r.y).align(null,e)}var a=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},e),h=a.minBoxPadding;return a.useDlibAlignment?this.alignDlib():this.alignMinBbox(h)},i.prototype.alignDlib=function(){var n=this.getRefPointsForAlignment(),r=n[1],a=n[2],c=function(I){return a.sub(I).magnitude()},h=(c(n[0])+c(r))/2,f=Math.floor(h/.45),m=xc(n),b=Math.floor(Math.max(0,m.x-.5*f)),_=Math.floor(Math.max(0,m.y-.43*f));return new Jd(b,_,Math.min(f,this.imageWidth+b),Math.min(f,this.imageHeight+_))},i.prototype.alignMinBbox=function(n){var e=function vb(i){var n=i.map(function(f){return f.x}),e=i.map(function(f){return f.y}),r=n.reduce(function(f,m){return m<f?m:f},1/0),a=e.reduce(function(f,m){return m<f?m:f},1/0),c=n.reduce(function(f,m){return f<m?m:f},0),h=e.reduce(function(f,m){return f<m?m:f},0);return new Ef(r,a,c,h)}(this.positions);return e.pad(e.width*n,e.height*n)},i.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},i}(),_x=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Io(n,i),n.prototype.getRefPointsForAlignment=function(){var e=this.positions;return[e[0],e[1],xc([e[3],e[4]])]},n}(hm),yb=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Io(n,i),n.prototype.getJawOutline=function(){return this.positions.slice(0,17)},n.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},n.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},n.prototype.getNose=function(){return this.positions.slice(27,36)},n.prototype.getLeftEye=function(){return this.positions.slice(36,42)},n.prototype.getRightEye=function(){return this.positions.slice(42,48)},n.prototype.getMouth=function(){return this.positions.slice(48,68)},n.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(xc)},n}(hm),Dv=function(){function i(n,e){this._label=n,this._distance=e}return Object.defineProperty(i.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),i.prototype.toString=function(n){return void 0===n&&(n=!0),this.label+(n?" ("+function yx(i,n){void 0===n&&(n=2);var e=Math.pow(10,n);return Math.floor(i*e)/e}(this.distance)+")":"")},i}(),kv=function(i){function n(e,r){var a=i.call(this,e)||this;return a._label=r,a}return Io(n,i),n.assertIsValidLabeledBox=function(e,r){if(zl.assertIsValidBox(e,r),!nu(e.label))throw new Error(r+" - expected property label ("+e.label+") to be a number")},Object.defineProperty(n.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),n}(zl),Ao=function(){function i(n,e){if("string"!=typeof n)throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(e)||e.some(function(r){return!(r instanceof Float32Array)}))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=n,this._descriptors=e}return Object.defineProperty(i.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),i.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map(function(n){return Array.from(n)})}},i.fromJSON=function(n){var e=n.descriptors.map(function(r){return new Float32Array(r)});return new i(n.label,e)},i}();function ru(i,n){return Object.assign({},i,{detection:n})}function Sv(){var i=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D,Image:HTMLImageElement,ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:i,readFile:function(){throw new Error("readFile - filesystem not available for browser environment")}}}function Av(i){var n="";if(!i)try{i=B(Object(function(){var a=new Error("Cannot find module 'fs'");throw a.code="MODULE_NOT_FOUND",a}()))}catch(r){n=r.toString()}return{readFile:i?function(r){return new Promise(function(a,c){i.readFile(r,function(h,f){return h?c(h):a(f)})})}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+n)}}}function wb(){var i=global.Canvas||global.HTMLCanvasElement,n=global.Image||global.HTMLImageElement,a=global.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},c=Av();return Ni({Canvas:i||function(){return function h(){}}(),CanvasRenderingContext2D:global.CanvasRenderingContext2D||function(){return function h(){}}(),Image:n||function(){return function h(){}}(),ImageData:global.ImageData||function(){return function h(){}}(),Video:global.HTMLVideoElement||function(){return function h(){}}(),createCanvasElement:function(){if(i)return new i;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},createImageElement:function(){if(n)return new n;throw new Error("createImageElement - missing Image implementation for nodejs environment")},fetch:a},c)}function Df(){return"object"==typeof window&&typeof document<"u"&&typeof HTMLImageElement<"u"&&typeof HTMLCanvasElement<"u"&&typeof HTMLVideoElement<"u"&&typeof ImageData<"u"&&typeof CanvasRenderingContext2D<"u"}function ou(){return"object"==typeof global&&typeof process<"u"&&!!process.version}function fm(i){ka=i}function Sf(){Df()&&fm(Sv()),ou()&&fm(wb())}!function(i){function n(e,r,a,c){var h=i.call(this,e,r)||this;return h._score=a,h._classScore=c,h}Io(n,i),n.assertIsValidPredictedBox=function(e,r){if(kv.assertIsValidLabeledBox(e,r),!cm(e.score)||!cm(e.classScore))throw new Error(r+" - expected properties score ("+e.score+") and ("+e.classScore+") to be a number between [0, 1]")},Object.defineProperty(n.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0})}(kv);var Xa={getEnv:function kf(){if(!ka)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return ka},setEnv:fm,initialize:Sf,createBrowserEnv:Sv,createFileSystem:Av,createNodejsEnv:wb,monkeyPatch:function Tv(i){if(ka||Sf(),!ka)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var n=i.Canvas,e=void 0===n?ka.Canvas:n,r=i.Image,a=void 0===r?ka.Image:r;ka.Canvas=e,ka.Image=a,ka.createCanvasElement=i.createCanvasElement||function(){return new e},ka.createImageElement=i.createImageElement||function(){return new a},ka.ImageData=i.ImageData||ka.ImageData,ka.Video=i.Video||ka.Video,ka.fetch=i.fetch||ka.fetch,ka.readFile=i.readFile||ka.readFile},isBrowser:Df,isNodejs:ou};function pm(i){return Xa.isNodejs()||"string"!=typeof i?i:document.getElementById(i)}function ml(i){var n=Xa.getEnv(),e=n.Canvas;if(i instanceof n.CanvasRenderingContext2D)return i;var a=pm(i);if(!(a instanceof e))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var c=a.getContext("2d");if(!c)throw new Error("resolveContext2d - canvas 2d context is null");return c}Sf();var nd=function(i){return i.TOP_LEFT="TOP_LEFT",i.TOP_RIGHT="TOP_RIGHT",i.BOTTOM_LEFT="BOTTOM_LEFT",i.BOTTOM_RIGHT="BOTTOM_RIGHT",i}(nd||{}),_b=function(){return function i(n){void 0===n&&(n={});var r=n.backgroundColor,a=n.fontColor,c=n.fontSize,h=n.fontStyle,f=n.padding;this.anchorPosition=n.anchorPosition||nd.TOP_LEFT,this.backgroundColor=r||"rgba(0, 0, 0, 0.5)",this.fontColor=a||"rgba(255, 255, 255, 1)",this.fontSize=c||14,this.fontStyle=h||"Georgia",this.padding=f||4}}();!function(){function i(n,e,r){void 0===r&&(r={}),this.text="string"==typeof n?[n]:n instanceof i?n.text:n,this.anchor=e,this.options=new _b(r)}i.prototype.measureWidth=function(n){var e=this.options.padding;return this.text.map(function(r){return n.measureText(r).width}).reduce(function(r,a){return r<a?a:r},0)+2*e},i.prototype.measureHeight=function(){var n=this.options;return this.text.length*n.fontSize+2*n.padding},i.prototype.getUpperLeft=function(n,e){var r=this.options.anchorPosition,a=r===nd.BOTTOM_RIGHT||r===nd.TOP_RIGHT,c=r===nd.BOTTOM_LEFT||r===nd.BOTTOM_RIGHT,h=this.measureWidth(n),f=this.measureHeight(),m=a?this.anchor.x-h:this.anchor.x,b=c?this.anchor.y-f:this.anchor.y;if(e){var I=e.height;return{x:Math.max(Math.min(m,e.width-h),0),y:Math.max(Math.min(b,I-f),0)}}return{x:m,y:b}},i.prototype.draw=function(n){var e=pm(n),r=ml(e),a=this.options,c=a.backgroundColor,h=a.fontColor,f=a.fontSize,b=a.padding;r.font=f+"px "+a.fontStyle;var _=this.measureWidth(r),I=this.measureHeight();r.fillStyle=c;var D=this.getUpperLeft(r,e);r.fillRect(D.x,D.y,_,I),r.fillStyle=h,this.text.forEach(function(T,z){r.fillText(T,b+D.x,b+D.y+(z+1)*f)})}}();function Ib(i){var n=Xa.getEnv();return i instanceof n.Image&&i.complete||i instanceof n.Video&&i.readyState>=3}function Eb(i){return new Promise(function(n,e){if(!(i instanceof Blob))return e("bufferToImage - expected buf to be of type: Blob");var r=new FileReader;r.onload=function(){if("string"!=typeof r.result)return e("bufferToImage - expected reader.result to be a string, in onload");var a=Xa.getEnv().createImageElement();a.onload=function(){return n(a)},a.onerror=e,a.src=r.result},r.onerror=e,r.readAsDataURL(i)})}function Mv(i){var n=Xa.getEnv(),r=n.Video;return i instanceof n.Image?new Yd(i.naturalWidth,i.naturalHeight):i instanceof r?new Yd(i.videoWidth,i.videoHeight):new Yd(i.width,i.height)}function mm(i){var n=i.width,e=i.height,a=(0,Xa.getEnv().createCanvasElement)();return a.width=n,a.height=e,a}function Rv(i,n){var e=Xa.getEnv().ImageData;if(!(i instanceof e||Ib(i)))throw new Error("createCanvasFromMedia - media has not finished loading yet");var r=n||Mv(i),a=r.width,c=r.height,h=mm({width:a,height:c});return i instanceof e?ml(h).putImageData(i,0,0):ml(h).drawImage(i,0,0,a,c),h}function Us(i,n){return to(this,void 0,void 0,function(){var e,r,a,c,h,f;return no(this,function(m){switch(m.label){case 0:return e=n||Xa.getEnv().createCanvasElement(),r=i.shape.slice(El(i)?1:0),a=r[0],c=r[1],h=r[2],f=Nt(function(){return i.as3D(a,c,h).toInt()}),[4,om.toPixels(f,e)];case 1:return m.sent(),f.dispose(),[2,e]}})})}function Db(i){var n=Xa.getEnv();return i instanceof n.Image||i instanceof n.Canvas||i instanceof n.Video}var Pv=function(){function i(n,e){var r=this;if(void 0===e&&(e=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(n))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+n);this._treatAsBatchInput=e,this._batchSize=n.length,n.forEach(function(a,c){if(tu(a))return r._imageTensors[c]=a,void(r._inputDimensions[c]=a.shape);if(El(a)){var h=a.shape[0];if(1!==h)throw new Error("NetInput - tf.Tensor4D with batchSize "+h+" passed, but not supported in input array");return r._imageTensors[c]=a,void(r._inputDimensions[c]=a.shape.slice(1))}var f=a instanceof Xa.getEnv().Canvas?a:Rv(a);r._canvases[c]=f,r._inputDimensions[c]=[f.height,f.width,3]})}return Object.defineProperty(i.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"reshapedInputDimensions",{get:function(){var n=this;return Zd(this.batchSize,0,1).map(function(e,r){return n.getReshapedInputDimensions(r)})},enumerable:!0,configurable:!0}),i.prototype.getInput=function(n){return this.canvases[n]||this.imageTensors[n]},i.prototype.getInputDimensions=function(n){return this._inputDimensions[n]},i.prototype.getInputHeight=function(n){return this._inputDimensions[n][0]},i.prototype.getInputWidth=function(n){return this._inputDimensions[n][1]},i.prototype.getReshapedInputDimensions=function(n){if("number"!=typeof this.inputSize)throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");return function gb(i,n){var e=i.width,r=i.height,a=n/Math.max(r,e);return new Yd(Math.round(e*a),Math.round(r*a))}({width:this.getInputWidth(n),height:this.getInputHeight(n)},this.inputSize)},i.prototype.toBatchTensor=function(n,e){var r=this;return void 0===e&&(e=!0),this._inputSize=n,Nt(function(){var a=Zd(r.batchSize,0,1).map(function(h){var f=r.getInput(h);if(f instanceof $r){var m=El(f)?f:f.expandDims();return m=function Ev(i,n){return void 0===n&&(n=!1),Nt(function(){var e=i.shape.slice(1),r=e[0],a=e[1];if(r===a)return i;var c=Math.abs(r-a),h=Math.round(c*(n?.5:1)),f=r>a?2:1,m=function(T){var z=i.shape.slice();return z[f]=T,Eo(z,0)},b=m(h),_=c-b.shape[f],D=[n&&_?m(_):null,i,b].filter(function(T){return!!T}).map(function(T){return T.toFloat()});return hi(D,f)})}(m,e),(m.shape[1]!==n||m.shape[2]!==n)&&(m=Yu.resizeBilinear(m,[n,n])),m.as3D(n,n,3)}if(f instanceof Xa.getEnv().Canvas)return om.fromPixels(function Dx(i,n,e){void 0===e&&(e=!1);var r=Xa.getEnv(),c=r.Canvas;if(!(i instanceof r.Image||i instanceof c))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var h=Mv(i),f=n/Math.max(h.height,h.width),m=f*h.width,b=f*h.height,_=mm({width:n,height:n}),I=i instanceof c?i:Rv(i),D=Math.abs(m-b)/2,T=e&&m<b?D:0,z=e&&b<m?D:0;return ml(_).drawImage(I,T,z,m,b),_}(f,n,e));throw new Error("toBatchTensor - at batchIdx "+h+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+f)});return pa(a.map(function(h){return h.toFloat()})).as4D(r.batchSize,n,n,3)})},i}();function La(i){return to(this,void 0,void 0,function(){var n,e,r;return no(this,function(a){switch(a.label){case 0:if(i instanceof Pv)return[2,i];if(!(n=Array.isArray(i)?i:[i]).length)throw new Error("toNetInput - empty array passed as input");return e=function(c){return Array.isArray(i)?" at input index "+c+":":""},(r=n.map(pm)).forEach(function(c,h){if(!Db(c)&&!tu(c)&&!El(c))throw"string"==typeof n[h]?new Error("toNetInput -"+e(h)+" string passed, but could not resolve HTMLElement for element id "+n[h]):new Error("toNetInput -"+e(h)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id");if(El(c)){var f=c.shape[0];if(1!==f)throw new Error("toNetInput -"+e(h)+" tf.Tensor4D with batchSize "+f+" passed, but not supported in input array")}}),[4,Promise.all(r.map(function(c){return Db(c)&&function Ex(i){return new Promise(function(n,e){if(i instanceof Xa.getEnv().Canvas||Ib(i))return n();function r(c){c.currentTarget&&(c.currentTarget.removeEventListener("load",r),c.currentTarget.removeEventListener("error",a),n(c))}function a(c){c.currentTarget&&(c.currentTarget.removeEventListener("load",r),c.currentTarget.removeEventListener("error",a),e(c))}i.addEventListener("load",r),i.addEventListener("error",a)})}(c)}))];case 1:return a.sent(),[2,new Pv(r,Array.isArray(i))]}})})}function Af(i,n){return to(this,void 0,void 0,function(){var e,r,a,c,h,f;return no(this,function(b){switch(b.label){case 0:return e=Xa.getEnv().Canvas,r=i,i instanceof e?[3,5]:[4,La(i)];case 1:if((a=b.sent()).batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return(c=a.getInput(0))instanceof e?(h=c,[3,4]):[3,2];case 2:return[4,Us(c)];case 3:h=b.sent(),b.label=4;case 4:r=h,b.label=5;case 5:return f=ml(r),[2,n.map(function(_){return _ instanceof pl?_.forSize(r.width,r.height).box.floor():_}).map(function(_){return _.clipAtImageBorders(r.width,r.height)}).map(function(_){var I=_.x,D=_.y,T=_.width,z=_.height,Q=mm({width:T,height:z});return ml(Q).putImageData(f.getImageData(I,D,T,z),0,0),Q})]}})})}function Ov(i,n){return to(this,void 0,void 0,function(){return no(this,function(e){if(!tu(i)&&!El(i))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(El(i)&&i.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,Nt(function(){var r=i.shape.slice(El(i)?1:0),a=r[0],c=r[1],h=r[2];return n.map(function(b){return b instanceof pl?b.forSize(c,a).box:b}).map(function(b){return b.clipAtImageBorders(c,a)}).map(function(b){var _=b.x,I=b.y,D=b.width,T=b.height;return zp(i.as3D(a,c,h),[I,_,0],[T,D,h])})})]})})}function kb(i,n){return to(this,void 0,void 0,function(){var r;return no(this,function(a){switch(a.label){case 0:return[4,(0,Xa.getEnv().fetch)(i,n)];case 1:if(!((r=a.sent()).status<400))throw new Error("failed to fetch: ("+r.status+") "+r.statusText+", from url: "+r.url);return[2,r]}})})}function Sb(i){return to(this,void 0,void 0,function(){var n,e;return no(this,function(r){switch(r.label){case 0:return[4,kb(i)];case 1:return[4,(n=r.sent()).blob()];case 2:if(!(e=r.sent()).type.startsWith("image/"))throw new Error("fetchImage - expected blob type to be of type image/*, instead have: "+e.type+", for url: "+n.url);return[2,Eb(e)]}})})}function Ab(i){return to(this,void 0,void 0,function(){return no(this,function(n){switch(n.label){case 0:return[4,kb(i)];case 1:return[2,n.sent().json()]}})})}function Tb(i,n){var e=n+"-weights_manifest.json";if(!i)return{modelBaseUri:"",manifestUri:e};if("/"===i)return{modelBaseUri:"/",manifestUri:"/"+e};var r=i.startsWith("http://")?"http://":i.startsWith("https://")?"https://":"",a=(i=i.replace(r,"")).split("/").filter(function(f){return f}),c=i.endsWith(".json")?a[a.length-1]:e,h=r+(i.endsWith(".json")?a.slice(0,a.length-1):a).join("/");return{modelBaseUri:h=i.startsWith("/")?"/"+h:h,manifestUri:"/"===h?"/"+c:h+"/"+c}}function Nv(i,n){return to(this,void 0,void 0,function(){var e,a,c;return no(this,function(h){switch(h.label){case 0:return e=Tb(i,n),a=e.modelBaseUri,[4,Ab(e.manifestUri)];case 1:return c=h.sent(),[2,xs.loadWeights(c,a)]}})})}var wc=function(){function i(n){this._name=n,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(i.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),i.prototype.getParamFromPath=function(n){var e=this.traversePropertyPath(n);return e.obj[e.objProp]},i.prototype.reassignParamFromPath=function(n,e){var r=this.traversePropertyPath(n),a=r.obj,c=r.objProp;a[c].dispose(),a[c]=e},i.prototype.getParamList=function(){var n=this;return this._paramMappings.map(function(e){var r=e.paramPath;return{path:r,tensor:n.getParamFromPath(r)}})},i.prototype.getTrainableParams=function(){return this.getParamList().filter(function(n){return n.tensor instanceof Tt})},i.prototype.getFrozenParams=function(){return this.getParamList().filter(function(n){return!(n.tensor instanceof Tt)})},i.prototype.variable=function(){var n=this;this.getFrozenParams().forEach(function(e){n.reassignParamFromPath(e.path,e.tensor.variable())})},i.prototype.freeze=function(){var n=this;this.getTrainableParams().forEach(function(e){var r=e.path,a=e.tensor,c=dt(a.dataSync());a.dispose(),n.reassignParamFromPath(r,c)})},i.prototype.dispose=function(n){void 0===n&&(n=!0),this.getParamList().forEach(function(e){if(n&&e.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+e.path);e.tensor.dispose()}),this._params=void 0},i.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map(function(n){return Array.from(n.tensor.dataSync())}).reduce(function(n,e){return n.concat(e)}))},i.prototype.load=function(n){return to(this,void 0,void 0,function(){return no(this,function(e){switch(e.label){case 0:return n instanceof Float32Array?(this.extractWeights(n),[2]):[4,this.loadFromUri(n)];case 1:return e.sent(),[2]}})})},i.prototype.loadFromUri=function(n){return to(this,void 0,void 0,function(){var e;return no(this,function(r){switch(r.label){case 0:if(n&&"string"!=typeof n)throw new Error(this._name+".loadFromUri - expected model uri");return[4,Nv(n,this.getDefaultModelName())];case 1:return e=r.sent(),this.loadFromWeightMap(e),[2]}})})},i.prototype.loadFromDisk=function(n){return to(this,void 0,void 0,function(){var e,r,a,c,f,m,b,_,I;return no(this,function(D){switch(D.label){case 0:if(n&&"string"!=typeof n)throw new Error(this._name+".loadFromDisk - expected model file path");return e=Xa.getEnv().readFile,r=Tb(n,this.getDefaultModelName()),a=r.manifestUri,c=r.modelBaseUri,f=xs.weightsLoaderFactory(function(T){return Promise.all(T.map(function(z){return e(z).then(function(Q){return Q.buffer})}))}),_=(b=JSON).parse,[4,e(a)];case 1:return m=_.apply(b,[D.sent().toString()]),[4,f(m,c)];case 2:return I=D.sent(),this.loadFromWeightMap(I),[2]}})})},i.prototype.loadFromWeightMap=function(n){var e=this.extractParamsFromWeigthMap(n),a=e.params;this._paramMappings=e.paramMappings,this._params=a},i.prototype.extractWeights=function(n){var e=this.extractParams(n),a=e.params;this._paramMappings=e.paramMappings,this._params=a},i.prototype.traversePropertyPath=function(n){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var e=n.split("/").reduce(function(c,h){if(!c.nextObj.hasOwnProperty(h))throw new Error("traversePropertyPath - object does not have property "+h+", for path "+n);return{obj:c.nextObj,objProp:h,nextObj:c.nextObj[h]}},{nextObj:this.params}),r=e.obj,a=e.objProp;if(!(r&&a&&r[a]instanceof $r))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+n);return{obj:r,objProp:a}},i}();function tl(i,n,e){return Nt(function(){var r=Oa(i,n.depthwise_filter,n.pointwise_filter,e,"same");return Bo(r,n.bias)})}function Fv(i,n,e){return void 0===e&&(e=!1),Nt(function(){var r=oa(e?Bo(Js(i,n.conv0.filters,[2,2],"same"),n.conv0.bias):tl(i,n.conv0,[2,2])),a=tl(r,n.conv1,[1,1]),h=tl(oa(Bo(r,a)),n.conv2,[1,1]);return oa(Bo(r,Bo(a,h)))})}function gm(i,n,e,r){return void 0===e&&(e=!1),void 0===r&&(r=!0),Nt(function(){var a=oa(e?Bo(Js(i,n.conv0.filters,r?[2,2]:[1,1],"same"),n.conv0.bias):tl(i,n.conv0,r?[2,2]:[1,1])),c=tl(a,n.conv1,[1,1]),f=tl(oa(Bo(a,c)),n.conv2,[1,1]),b=tl(oa(Bo(a,Bo(c,f))),n.conv3,[1,1]);return oa(Bo(a,Bo(c,Bo(f,b))))})}function Ba(i,n,e,r){return void 0===e&&(e="same"),void 0===r&&(r=!1),Nt(function(){var a=Bo(Js(i,n.filters,[1,1],e),n.bias);return r?oa(a):a})}function kl(i,n){Object.keys(i).forEach(function(e){n.some(function(r){return r.originalPath===e})||i[e].dispose()})}function vm(i,n){return function(e,r,a,c){var h=Hn(i(e*r*a*a),[a,a,e,r]),f=Yt(i(r));return n.push({paramPath:c+"/filters"},{paramPath:c+"/bias"}),{filters:h,bias:f}}}function Lv(i,n){return function(e,r,a){var c=hn(i(e*r),[e,r]),h=Yt(i(r));return n.push({paramPath:a+"/weights"},{paramPath:a+"/bias"}),{weights:c,bias:h}}}var Bv=function(){return function i(n,e,r){this.depthwise_filter=n,this.pointwise_filter=e,this.bias=r}}();function bm(i,n){return function(e,r,a){var c=Hn(i(9*e),[3,3,e,1]),h=Hn(i(e*r),[1,1,e,r]),f=Yt(i(r));return n.push({paramPath:a+"/depthwise_filter"},{paramPath:a+"/pointwise_filter"},{paramPath:a+"/bias"}),new Bv(c,h,f)}}function eh(i){return function(n){var e=i(n+"/depthwise_filter",4),r=i(n+"/pointwise_filter",4),a=i(n+"/bias",1);return new Bv(e,r,a)}}function Ul(i,n){return function(e,r,a){var c=i[e];if(!If(c,r))throw new Error("expected weightMap["+e+"] to be a Tensor"+r+"D, instead have "+c);return n.push({originalPath:e,paramPath:a||e}),c}}function iu(i){var n=i;return{extractWeights:function e(a){var c=n.slice(0,a);return n=n.slice(a),c},getRemainingWeights:function r(){return n}}}function $v(i,n){var e=vm(i,n),r=bm(i,n);function a(h,f,m,b){return void 0===b&&(b=!1),{conv0:b?e(h,f,3,m+"/conv0"):r(h,f,m+"/conv0"),conv1:r(f,f,m+"/conv1"),conv2:r(f,f,m+"/conv2")}}return{extractDenseBlock3Params:a,extractDenseBlock4Params:function c(h,f,m,b){void 0===b&&(b=!1);var _=a(h,f,m,b);return{conv0:_.conv0,conv1:_.conv1,conv2:_.conv2,conv3:r(f,f,m+"/conv3")}}}}function jv(i){return function(n){return{filters:i(n+"/filters",4),bias:i(n+"/bias",1)}}}function Tf(i,n){var e=Ul(i,n),r=jv(e),a=eh(e);return{extractDenseBlock3Params:function c(f,m){return void 0===m&&(m=!1),{conv0:m?r(f+"/conv0"):a(f+"/conv0"),conv1:a(f+"/conv1"),conv2:a(f+"/conv2")}},extractDenseBlock4Params:function h(f,m){return void 0===m&&(m=!1),{conv0:m?r(f+"/conv0"):a(f+"/conv0"),conv1:a(f+"/conv1"),conv2:a(f+"/conv2"),conv3:a(f+"/conv3")}}}}var Vl=function(i){function n(){return i.call(this,"FaceFeatureExtractor")||this}return Io(n,i),n.prototype.forwardInput=function(e){var r=this.params;if(!r)throw new Error("FaceFeatureExtractor - load model before inference");return Nt(function(){var f=gm(Qd(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(St(255)),r.dense0,!0);return f=gm(f,r.dense1),f=gm(f,r.dense2),f=gm(f,r.dense3),Vu(f,[7,7],[2,2],"valid")})},n.prototype.forward=function(e){return to(this,void 0,void 0,function(){var r;return no(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,La(e)];case 1:return[2,r.apply(this,[a.sent()])]}})})},n.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},n.prototype.extractParamsFromWeigthMap=function(e){return function zv(i){var n=[],e=Tf(i,n).extractDenseBlock4Params,r={dense0:e("dense0",!0),dense1:e("dense1"),dense2:e("dense2"),dense3:e("dense3")};return kl(i,n),{params:r,paramMappings:n}}(e)},n.prototype.extractParams=function(e){return function Mb(i){var n=[],e=iu(i),a=e.getRemainingWeights,c=$v(e.extractWeights,n).extractDenseBlock4Params,h=c(3,32,"dense0",!0),f=c(32,64,"dense1"),m=c(64,128,"dense2"),b=c(128,256,"dense3");if(0!==a().length)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:n,params:{dense0:h,dense1:f,dense2:m,dense3:b}}}(e)},n}(wc);function Hl(i,n){return Nt(function(){return Bo(Ld(i,n.weights),n.bias)})}function Rb(i){var n={},e={};return Object.keys(i).forEach(function(r){(r.startsWith("fc")?e:n)[r]=i[r]}),{featureExtractorMap:n,classifierMap:e}}var rd=function(i){function n(e,r){var a=i.call(this,e)||this;return a._faceFeatureExtractor=r,a}return Io(n,i),Object.defineProperty(n.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),n.prototype.runNet=function(e){var r=this,a=this.params;if(!a)throw new Error(this._name+" - load model before inference");return Nt(function(){var c=e instanceof Pv?r.faceFeatureExtractor.forwardInput(e):e;return Hl(c.as2D(c.shape[0],-1),a.fc)})},n.prototype.dispose=function(e){void 0===e&&(e=!0),this.faceFeatureExtractor.dispose(e),i.prototype.dispose.call(this,e)},n.prototype.loadClassifierParams=function(e){var r=this.extractClassifierParams(e),c=r.paramMappings;this._params=r.params,this._paramMappings=c},n.prototype.extractClassifierParams=function(e){return function kx(i,n,e){var r=[],a=iu(i),h=a.getRemainingWeights,m=Lv(a.extractWeights,r)(n,e,"fc");if(0!==h().length)throw new Error("weights remaing after extract: "+h().length);return{paramMappings:r,params:{fc:m}}}(e,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},n.prototype.extractParamsFromWeigthMap=function(e){var r=Rb(e),c=r.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(r.featureExtractorMap),function Uv(i){var n=[],e=Ul(i,n),a={fc:function r(c){return{weights:e(c+"/weights",2),bias:e(c+"/bias",1)}}("fc")};return kl(i,n),{params:a,paramMappings:n}}(c)},n.prototype.extractParams=function(e){var r=this.getClassifierChannelsIn(),a=this.getClassifierChannelsOut(),c=a*r+a,h=e.slice(0,e.length-c),f=e.slice(e.length-c);return this.faceFeatureExtractor.extractWeights(h),this.extractClassifierParams(f)},n}(wc),Vv=["neutral","happy","sad","angry","fearful","disgusted","surprised"],od=function(){function i(n){var e=this;if(7!==n.length)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+n.length);Vv.forEach(function(r,a){e[r]=n[a]})}return i.prototype.asSortedArray=function(){var n=this;return Vv.map(function(e){return{expression:e,probability:n[e]}}).sort(function(e,r){return r.probability-e.probability})},i}(),th=function(i){function n(e){return void 0===e&&(e=new Vl),i.call(this,"FaceExpressionNet",e)||this}return Io(n,i),n.prototype.forwardInput=function(e){var r=this;return Nt(function(){return Ro(r.runNet(e))})},n.prototype.forward=function(e){return to(this,void 0,void 0,function(){var r;return no(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,La(e)];case 1:return[2,r.apply(this,[a.sent()])]}})})},n.prototype.predictExpressions=function(e){return to(this,void 0,void 0,function(){var r,a,c,h,f=this;return no(this,function(m){switch(m.label){case 0:return[4,La(e)];case 1:return r=m.sent(),[4,this.forwardInput(r)];case 2:return a=m.sent(),[4,Promise.all(Wi(a).map(function(b){return to(f,void 0,void 0,function(){var _;return no(this,function(I){switch(I.label){case 0:return[4,b.data()];case 1:return _=I.sent(),b.dispose(),[2,_]}})})}))];case 3:return c=m.sent(),a.dispose(),h=c.map(function(b){return new od(b)}),[2,r.isBatchInput?h:h[0]]}})})},n.prototype.getDefaultModelName=function(){return"face_expression_model"},n.prototype.getClassifierChannelsIn=function(){return 256},n.prototype.getClassifierChannelsOut=function(){return 7},n}(rd);function nh(i,n){return Object.assign({},i,{expressions:n})}function Hv(i,n){var e=i.detection.box,r=n.shiftBy(e.x,e.y),a=r.align(),c=i.detection.imageDims,h=new pl(i.detection.score,a.rescale(c.reverse()),c);return Object.assign({},i,{landmarks:r,unshiftedLandmarks:n,alignedRect:h})}function Fb(i,n,e){return Bo(Js(i,n.filters,e,"same"),n.bias)}function xm(i,n,e){void 0===e&&(e=!0);var r=e?oa(i):i;return r=tl(r,n.separable_conv0,[1,1]),r=tl(oa(r),n.separable_conv1,[1,1]),r=Ga(r,[3,3],[2,2],"same"),Bo(r,Fb(i,n.expansion_conv,[2,2]))}var Lb=function(i){function n(e){var r=i.call(this,"TinyXception")||this;return r._numMainBlocks=e,r}return Io(n,i),n.prototype.forwardInput=function(e){var r=this,a=this.params;if(!a)throw new Error("TinyXception - load model before inference");return Nt(function(){var f=Qd(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(St(256)),m=oa(Fb(f,a.entry_flow.conv_in,[2,2]));return m=xm(m,a.entry_flow.reduction_block_0,!1),m=xm(m,a.entry_flow.reduction_block_1),Zd(r._numMainBlocks,0,1).forEach(function(b){m=function Px(i,n){var e=tl(oa(i),n.separable_conv0,[1,1]);return e=tl(oa(e),n.separable_conv1,[1,1]),e=tl(oa(e),n.separable_conv2,[1,1]),Bo(e,i)}(m,a.middle_flow["main_block_"+b])}),m=xm(m,a.exit_flow.reduction_block),m=oa(tl(m,a.exit_flow.separable_conv,[1,1]))})},n.prototype.forward=function(e){return to(this,void 0,void 0,function(){var r;return no(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,La(e)];case 1:return[2,r.apply(this,[a.sent()])]}})})},n.prototype.getDefaultModelName=function(){return"tiny_xception_model"},n.prototype.extractParamsFromWeigthMap=function(e){return function ym(i,n){var e=[],r=function Rx(i,n){var e=Ul(i,n),r=jv(e),a=eh(e);return{extractConvParams:r,extractSeparableConvParams:a,extractReductionBlockParams:function c(f){return{separable_conv0:a(f+"/separable_conv0"),separable_conv1:a(f+"/separable_conv1"),expansion_conv:r(f+"/expansion_conv")}},extractMainBlockParams:function h(f){return{separable_conv0:a(f+"/separable_conv0"),separable_conv1:a(f+"/separable_conv1"),separable_conv2:a(f+"/separable_conv2")}}}}(i,e),c=r.extractSeparableConvParams,h=r.extractReductionBlockParams,f=r.extractMainBlockParams,I={conv_in:(0,r.extractConvParams)("entry_flow/conv_in"),reduction_block_0:h("entry_flow/reduction_block_0"),reduction_block_1:h("entry_flow/reduction_block_1")},D={};Zd(n,0,1).forEach(function(Z){D["main_block_"+Z]=f("middle_flow/main_block_"+Z)});var Q={reduction_block:h("exit_flow/reduction_block"),separable_conv:c("exit_flow/separable_conv")};return kl(i,e),{params:{entry_flow:I,middle_flow:D,exit_flow:Q},paramMappings:e}}(e,this._numMainBlocks)},n.prototype.extractParams=function(e){return function Nb(i,n){var e=[],r=iu(i),c=r.getRemainingWeights,h=function Mx(i,n){var e=vm(i,n),r=bm(i,n);return{extractConvParams:e,extractSeparableConvParams:r,extractReductionBlockParams:function a(h,f,m){return{separable_conv0:r(h,f,m+"/separable_conv0"),separable_conv1:r(f,f,m+"/separable_conv1"),expansion_conv:e(h,f,1,m+"/expansion_conv")}},extractMainBlockParams:function c(h,f){return{separable_conv0:r(h,h,f+"/separable_conv0"),separable_conv1:r(h,h,f+"/separable_conv1"),separable_conv2:r(h,h,f+"/separable_conv2")}}}}(r.extractWeights,e),m=h.extractSeparableConvParams,b=h.extractReductionBlockParams,_=h.extractMainBlockParams,z={conv_in:(0,h.extractConvParams)(3,32,3,"entry_flow/conv_in"),reduction_block_0:b(32,64,"entry_flow/reduction_block_0"),reduction_block_1:b(64,128,"entry_flow/reduction_block_1")},Q={};Zd(n,0,1).forEach(function(me){Q["main_block_"+me]=_(128,"middle_flow/main_block_"+me)});var fe={reduction_block:b(128,256,"exit_flow/reduction_block"),separable_conv:m(256,512,"exit_flow/separable_conv")};if(0!==c().length)throw new Error("weights remaing after extract: "+c().length);return{paramMappings:e,params:{entry_flow:z,middle_flow:Q,exit_flow:fe}}}(e,this._numMainBlocks)},n}(wc),wm=function(i){return i.FEMALE="female",i.MALE="male",i}(wm||{}),Wv=function(i){function n(e){void 0===e&&(e=new Lb(2));var r=i.call(this,"AgeGenderNet")||this;return r._faceFeatureExtractor=e,r}return Io(n,i),Object.defineProperty(n.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),n.prototype.runNet=function(e){var r=this,a=this.params;if(!a)throw new Error(this._name+" - load model before inference");return Nt(function(){var c=e instanceof Pv?r.faceFeatureExtractor.forwardInput(e):e,h=Vu(c,[7,7],[2,2],"valid").as2D(c.shape[0],-1);return{age:Hl(h,a.fc.age).as1D(),gender:Hl(h,a.fc.gender)}})},n.prototype.forwardInput=function(e){var r=this;return Nt(function(){var a=r.runNet(e);return{age:a.age,gender:Ro(a.gender)}})},n.prototype.forward=function(e){return to(this,void 0,void 0,function(){var r;return no(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,La(e)];case 1:return[2,r.apply(this,[a.sent()])]}})})},n.prototype.predictAgeAndGender=function(e){return to(this,void 0,void 0,function(){var r,a,c,h,f,m,b=this;return no(this,function(_){switch(_.label){case 0:return[4,La(e)];case 1:return r=_.sent(),[4,this.forwardInput(r)];case 2:return a=_.sent(),c=Wi(a.age),h=Wi(a.gender),f=c.map(function(I,D){return{ageTensor:I,genderTensor:h[D]}}),[4,Promise.all(f.map(function(I){var D=I.ageTensor,T=I.genderTensor;return to(b,void 0,void 0,function(){var z,Q,Z,ne,fe;return no(this,function(me){switch(me.label){case 0:return[4,D.data()];case 1:return z=me.sent()[0],[4,T.data()];case 2:return Q=me.sent()[0],ne=(Z=Q>.5)?wm.MALE:wm.FEMALE,fe=Z?Q:1-Q,D.dispose(),T.dispose(),[2,{age:z,gender:ne,genderProbability:fe}]}})})}))];case 3:return m=_.sent(),a.age.dispose(),a.gender.dispose(),[2,r.isBatchInput?m:m[0]]}})})},n.prototype.getDefaultModelName=function(){return"age_gender_model"},n.prototype.dispose=function(e){void 0===e&&(e=!0),this.faceFeatureExtractor.dispose(e),i.prototype.dispose.call(this,e)},n.prototype.loadClassifierParams=function(e){var r=this.extractClassifierParams(e),c=r.paramMappings;this._params=r.params,this._paramMappings=c},n.prototype.extractClassifierParams=function(e){return function Ox(i){var n=[],e=iu(i),a=e.getRemainingWeights,c=Lv(e.extractWeights,n),h=c(512,1,"fc/age"),f=c(512,2,"fc/gender");if(0!==a().length)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:n,params:{fc:{age:h,gender:f}}}}(e)},n.prototype.extractParamsFromWeigthMap=function(e){var r=Rb(e),c=r.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(r.featureExtractorMap),function Nx(i){var n=[],e=Ul(i,n);function r(c){return{weights:e(c+"/weights",2),bias:e(c+"/bias",1)}}var a={fc:{age:r("fc/age"),gender:r("fc/gender")}};return kl(i,n),{params:a,paramMappings:n}}(c)},n.prototype.extractParams=function(e){var a=e.slice(0,e.length-1539),c=e.slice(e.length-1539);return this.faceFeatureExtractor.extractWeights(a),this.extractClassifierParams(c)},n}(wc),Gv=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Io(n,i),n.prototype.postProcess=function(e,r,a){var c=a.map(function(f){var m=f.width,b=f.height,_=r/Math.max(b,m);return{width:m*_,height:b*_}}),h=c.length;return Nt(function(){var f=function(D,T){return pa([Eo([68],D),Eo([68],T)],1).as2D(1,136).as1D()},m=function(D,T){var z=c[D],Q=z.width,Z=z.height;return T(Q,Z)?Math.abs(Q-Z)/2:0};return e.mul(Eo([h,136],r)).sub(pa(Array.from(Array(h),function(D,T){return f(function(D){return m(D,function(T,z){return T<z})}(T),function(D){return m(D,function(T,z){return z<T})}(T))}))).div(pa(Array.from(Array(h),function(D,T){return f(c[T].width,c[T].height)})))})},n.prototype.forwardInput=function(e){var r=this;return Nt(function(){var a=r.runNet(e);return r.postProcess(a,e.inputSize,e.inputDimensions.map(function(c){return{height:c[0],width:c[1]}}))})},n.prototype.forward=function(e){return to(this,void 0,void 0,function(){var r;return no(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,La(e)];case 1:return[2,r.apply(this,[a.sent()])]}})})},n.prototype.detectLandmarks=function(e){return to(this,void 0,void 0,function(){var r,a,c,h=this;return no(this,function(f){switch(f.label){case 0:return[4,La(e)];case 1:return r=f.sent(),a=Nt(function(){return Wi(h.forwardInput(r))}),[4,Promise.all(a.map(function(m,b){return to(h,void 0,void 0,function(){var _,I,D,T,z;return no(this,function(Q){switch(Q.label){case 0:return D=(I=Array).from,[4,m.data()];case 1:return _=D.apply(I,[Q.sent()]),T=_.filter(function(Z,ne){return mb(ne)}),z=_.filter(function(Z,ne){return!mb(ne)}),[2,new yb(Array(68).fill(0).map(function(Z,ne){return new Ci(T[ne],z[ne])}),{height:r.getInputHeight(b),width:r.getInputWidth(b)})]}})})}))];case 2:return c=f.sent(),a.forEach(function(m){return m.dispose()}),[2,r.isBatchInput?c:c[0]]}})})},n.prototype.getClassifierChannelsOut=function(){return 136},n}(rd),rh=function(i){function n(e){return void 0===e&&(e=new Vl),i.call(this,"FaceLandmark68Net",e)||this}return Io(n,i),n.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},n.prototype.getClassifierChannelsIn=function(){return 256},n}(Gv),Fx=function(i){function n(){return i.call(this,"TinyFaceFeatureExtractor")||this}return Io(n,i),n.prototype.forwardInput=function(e){var r=this.params;if(!r)throw new Error("TinyFaceFeatureExtractor - load model before inference");return Nt(function(){var f=Fv(Qd(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(St(255)),r.dense0,!0);return f=Fv(f,r.dense1),f=Fv(f,r.dense2),Vu(f,[14,14],[2,2],"valid")})},n.prototype.forward=function(e){return to(this,void 0,void 0,function(){var r;return no(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,La(e)];case 1:return[2,r.apply(this,[a.sent()])]}})})},n.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},n.prototype.extractParamsFromWeigthMap=function(e){return function Mf(i){var n=[],e=Tf(i,n).extractDenseBlock3Params,r={dense0:e("dense0",!0),dense1:e("dense1"),dense2:e("dense2")};return kl(i,n),{params:r,paramMappings:n}}(e)},n.prototype.extractParams=function(e){return function Rf(i){var n=[],e=iu(i),a=e.getRemainingWeights,c=$v(e.extractWeights,n).extractDenseBlock3Params,h=c(3,32,"dense0",!0),f=c(32,64,"dense1"),m=c(64,128,"dense2");if(0!==a().length)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:n,params:{dense0:h,dense1:f,dense2:m}}}(e)},n}(wc),Lx=function(i){function n(e){return void 0===e&&(e=new Fx),i.call(this,"FaceLandmark68TinyNet",e)||this}return Io(n,i),n.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},n.prototype.getClassifierChannelsIn=function(){return 128},n}(Gv);function Pf(i,n,e,r,a){void 0===a&&(a="same");var c=n.conv,f=c.bias,m=Js(i,c.filters,e,a);return m=function _m(i,n){return Bo(rs(i,n.weights),n.biases)}(m=Bo(m,f),n.scale),r?oa(m):m}function $x(i,n){return Pf(i,n,[1,1],!1)}function jx(i,n){return Pf(i,n,[2,2],!0,"valid")}function zx(i,n){function c(f,m,b,_){var I=function r(f,m,b,_){var I=function e(f,m,b){var _=i(f),I=_.length/(m*b*b);if(function Cv(i){return i%1!=0}(I))throw new Error("depth has to be an integer: "+I+", weights.length: "+_.length+", numFilters: "+m+", filterSize: "+b);return Nt(function(){return Zc(Hn(_,[m,I,b,b]),[2,3,1,0])})}(f,m,b),D=Yt(i(m));return n.push({paramPath:_+"/filters"},{paramPath:_+"/bias"}),{filters:I,bias:D}}(f,m,b,_+"/conv"),D=function a(f,m){var b=Yt(i(f)),_=Yt(i(f));return n.push({paramPath:m+"/weights"},{paramPath:m+"/biases"}),{weights:b,biases:_}}(m,_+"/scale");return{conv:I,scale:D}}return{extractConvLayerParams:c,extractResidualLayerParams:function h(f,m,b,_,I){return void 0===I&&(I=!1),{conv1:c((I?.5:1)*f,m,b,_+"/conv1"),conv2:c(f,m,b,_+"/conv2")}}}}function Vx(i){var n=[],e=function W_(i,n){var e=Ul(i,n);function a(h){var f=e(h+"/conv/filters",4),m=e(h+"/conv/bias",1),b=function r(h){return{weights:e(h+"/scale/weights",1),biases:e(h+"/scale/biases",1)}}(h);return{conv:{filters:f,bias:m},scale:b}}return{extractConvLayerParams:a,extractResidualLayerParams:function c(h){return{conv1:a(h+"/conv1"),conv2:a(h+"/conv2")}}}}(i,n),a=e.extractResidualLayerParams,c=(0,e.extractConvLayerParams)("conv32_down"),h=a("conv32_1"),f=a("conv32_2"),m=a("conv32_3"),b=a("conv64_down"),_=a("conv64_1"),I=a("conv64_2"),D=a("conv64_3"),T=a("conv128_down"),z=a("conv128_1"),Q=a("conv128_2"),Z=a("conv256_down"),ne=a("conv256_1"),fe=a("conv256_2"),me=a("conv256_down_out"),he=i.fc;if(n.push({originalPath:"fc",paramPath:"fc"}),!function _v(i){return If(i,2)}(he))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+he);var we={conv32_down:c,conv32_1:h,conv32_2:f,conv32_3:m,conv64_down:b,conv64_1:_,conv64_2:I,conv64_3:D,conv128_down:T,conv128_1:z,conv128_2:Q,conv256_down:Z,conv256_1:ne,conv256_2:fe,conv256_down_out:me,fc:he};return kl(i,n),{params:we,paramMappings:n}}function _c(i,n){var e=function Bx(i,n){return Pf(i,n,[1,1],!0)}(i,n.conv1);return e=$x(e,n.conv2),e=Bo(e,i),oa(e)}function Cm(i,n){var e=jx(i,n.conv1);e=$x(e,n.conv2);var r=Vu(i,2,2,"valid"),a=mo(r.shape),c=r.shape[3]!==e.shape[3];if(r.shape[1]!==e.shape[1]||r.shape[2]!==e.shape[2]){var f=ed(e.shape);f[1]=1;var m=mo(f),b=ed((e=hi([e,m],1)).shape);b[2]=1;var _=mo(b);e=hi([e,_],2)}return r=c?hi([r,a],3):r,e=Bo(r,e),oa(e)}!function(i){Io(function n(){return null!==i&&i.apply(this,arguments)||this},i)}(rh);var Hx=function(i){function n(){return i.call(this,"FaceRecognitionNet")||this}return Io(n,i),n.prototype.forwardInput=function(e){var r=this.params;if(!r)throw new Error("FaceRecognitionNet - load model before inference");return Nt(function(){var f=jx(Qd(e.toBatchTensor(150,!0).toFloat(),[122.782,117.001,104.298]).div(St(256)),r.conv32_down);f=_c(f=Ga(f,3,2,"valid"),r.conv32_1),f=_c(f,r.conv32_2),f=_c(f,r.conv32_3),f=_c(f=Cm(f,r.conv64_down),r.conv64_1),f=_c(f,r.conv64_2),f=_c(f,r.conv64_3),f=_c(f=Cm(f,r.conv128_down),r.conv128_1),f=_c(f,r.conv128_2),f=_c(f=Cm(f,r.conv256_down),r.conv256_1);var m=(f=Cm(f=_c(f,r.conv256_2),r.conv256_down_out)).mean([1,2]);return Ld(m,r.fc)})},n.prototype.forward=function(e){return to(this,void 0,void 0,function(){var r;return no(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,La(e)];case 1:return[2,r.apply(this,[a.sent()])]}})})},n.prototype.computeFaceDescriptor=function(e){return to(this,void 0,void 0,function(){var r,a,c,h=this;return no(this,function(f){switch(f.label){case 0:return[4,La(e)];case 1:return r=f.sent(),a=Nt(function(){return Wi(h.forwardInput(r))}),[4,Promise.all(a.map(function(m){return m.data()}))];case 2:return c=f.sent(),a.forEach(function(m){return m.dispose()}),[2,r.isBatchInput?c:c[0]]}})})},n.prototype.getDefaultModelName=function(){return"face_recognition_model"},n.prototype.extractParamsFromWeigthMap=function(e){return Vx(e)},n.prototype.extractParams=function(e){return function Ux(i){var n=iu(i),e=n.extractWeights,r=n.getRemainingWeights,a=[],c=zx(e,a),f=c.extractResidualLayerParams,m=(0,c.extractConvLayerParams)(4704,32,7,"conv32_down"),b=f(9216,32,3,"conv32_1"),_=f(9216,32,3,"conv32_2"),I=f(9216,32,3,"conv32_3"),D=f(36864,64,3,"conv64_down",!0),T=f(36864,64,3,"conv64_1"),z=f(36864,64,3,"conv64_2"),Q=f(36864,64,3,"conv64_3"),Z=f(147456,128,3,"conv128_down",!0),ne=f(147456,128,3,"conv128_1"),fe=f(147456,128,3,"conv128_2"),me=f(589824,256,3,"conv256_down",!0),he=f(589824,256,3,"conv256_1"),we=f(589824,256,3,"conv256_2"),We=f(589824,256,3,"conv256_down_out"),It=Nt(function(){return Zc(hn(e(32768),[128,256]),[1,0])});if(a.push({paramPath:"fc"}),0!==r().length)throw new Error("weights remaing after extract: "+r().length);return{params:{conv32_down:m,conv32_1:b,conv32_2:_,conv32_3:I,conv64_down:D,conv64_1:T,conv64_2:z,conv64_3:Q,conv128_down:Z,conv128_1:ne,conv128_2:fe,conv256_down:me,conv256_1:he,conv256_2:we,conv256_down_out:We,fc:It},paramMappings:a}}(e)},n}(wc);function oh(i,n,e){return Object.assign({},i,{gender:n,genderProbability:e})}var Im=function(){function i(n){var e=void 0===n?{}:n,r=e.minFaceSize,a=e.scaleFactor,c=e.maxNumScales,h=e.scoreThresholds,f=e.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=r||20,this._scaleFactor=a||.709,this._maxNumScales=c||10,this._scoreThresholds=h||[.6,.7,.7],this._scaleSteps=f,"number"!=typeof this._minFaceSize||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if("number"!=typeof this._scaleFactor||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if("number"!=typeof this._maxNumScales||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||3!==this._scoreThresholds.length||this._scoreThresholds.some(function(m){return"number"!=typeof m}))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some(function(m){return"number"!=typeof m})))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(i.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),i}();function Wl(i,n,e){return Nt(function(){var r=Js(i,n.filters,e,"same");return r=Bo(r,n.batch_norm_offset),Hc(r,0,6)})}function Wx(i,n,e){var r=i.arraySync(),a=Math.min(r[n][0],r[n][2]),c=Math.min(r[n][1],r[n][3]),h=Math.max(r[n][0],r[n][2]),f=Math.max(r[n][1],r[n][3]),m=Math.min(r[e][0],r[e][2]),b=Math.min(r[e][1],r[e][3]),_=Math.max(r[e][0],r[e][2]),I=Math.max(r[e][1],r[e][3]),D=(h-a)*(f-c),T=(_-m)*(I-b);if(D<=0||T<=0)return 0;var z=Math.max(a,m),Q=Math.max(c,b),Z=Math.min(h,_),ne=Math.min(f,I),fe=Math.max(Z-z,0)*Math.max(ne-Q,0);return fe/(D+T-fe)}function ih(i,n){return Nt(function(){var e=i.shape[0];return{boxPredictionEncoding:Hi(Ba(i,n.box_encoding_predictor),[e,-1,1,4]),classPrediction:Hi(Ba(i,n.class_predictor),[e,-1,3])}})}var Dm=function(){function i(n){var e=void 0===n?{}:n,r=e.minConfidence,a=e.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=r||.5,this._maxResults=a||100,"number"!=typeof this._minConfidence||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if("number"!=typeof this._maxResults)throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(i.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),i}(),Lf=function(i){function n(){return i.call(this,"SsdMobilenetv1")||this}return Io(n,i),n.prototype.forwardInput=function(e){var r=this.params;if(!r)throw new Error("SsdMobilenetv1 - load model before inference");return Nt(function(){var a=e.toBatchTensor(512,!1).toFloat(),h=function Vb(i,n){return Nt(function(){var e=null,r=Wl(i,n.conv_0,[2,2]);if([n.conv_1,n.conv_2,n.conv_3,n.conv_4,n.conv_5,n.conv_6,n.conv_7,n.conv_8,n.conv_9,n.conv_10,n.conv_11,n.conv_12,n.conv_13].forEach(function(c,h){var f=h+1,m=function Ub(i){return[2,4,6,12].some(function(n){return n===i})?[2,2]:[1,1]}(f);r=function zb(i,n,e){return Nt(function(){var r=Yc(i,n.filters,e,"same");return r=Op(r,n.batch_norm_mean,n.batch_norm_variance,n.batch_norm_offset,n.batch_norm_scale,.0010000000474974513),Hc(r,0,6)})}(r,c.depthwise_conv,m),r=Wl(r,c.pointwise_conv,[1,1]),11===f&&(e=r)}),null===e)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:r,conv11:e}})}(Wa(rs(a,St(.007843137718737125)),St(1)),r.mobilenetv1),f=function Kx(i,n,e){return Nt(function(){var r=Wl(i,e.conv_0,[1,1]),a=Wl(r,e.conv_1,[2,2]),c=Wl(a,e.conv_2,[1,1]),h=Wl(c,e.conv_3,[2,2]),f=Wl(h,e.conv_4,[1,1]),m=Wl(f,e.conv_5,[2,2]),b=Wl(m,e.conv_6,[1,1]),_=Wl(b,e.conv_7,[2,2]),I=ih(n,e.box_predictor_0),D=ih(i,e.box_predictor_1),T=ih(a,e.box_predictor_2),z=ih(h,e.box_predictor_3),Q=ih(m,e.box_predictor_4),Z=ih(_,e.box_predictor_5);return{boxPredictions:hi([I.boxPredictionEncoding,D.boxPredictionEncoding,T.boxPredictionEncoding,z.boxPredictionEncoding,Q.boxPredictionEncoding,Z.boxPredictionEncoding],1),classPredictions:hi([I.classPrediction,D.classPrediction,T.classPrediction,z.classPrediction,Q.classPrediction,Z.classPrediction],1)}})}(h.out,h.conv11,r.prediction_layer);return function Ff(i,n,e){return Nt(function(){var r=i.shape[0],a=function Xx(i,n){var e=function Gx(i){var n=Wi(Zc(i,[1,0])),e=[Wa(n[2],n[0]),Wa(n[3],n[1])];return{sizes:e,centers:[Bo(n[0],Ms(e[0],St(2))),Bo(n[1],Ms(e[1],St(2)))]}}(i),r=e.sizes,a=e.centers,c=Wi(Zc(n,[1,0])),h=Ms(rs(Dp(Ms(c[2],St(5))),r[0]),St(2)),f=Bo(rs(Ms(c[0],St(10)),r[0]),a[0]),m=Ms(rs(Dp(Ms(c[3],St(5))),r[1]),St(2)),b=Bo(rs(Ms(c[1],St(10)),r[1]),a[1]);return Zc(pa([Wa(f,h),Wa(b,m),Bo(f,h),Bo(b,m)]),[1,0])}(Hi(ol(e.extra_dim,[r,1,1]),[-1,4]),Hi(i,[-1,4]));a=Hi(a,[r,a.shape[0]/r,4]);var c=Hh(ul(n,[0,0,1],[-1,-1,-1])),h=ul(c,[0,0,0],[-1,-1,1]);return h=Hi(h,[r,h.shape[1]]),{boxes:Wi(a),scores:Wi(h)}})}(f.boxPredictions,f.classPredictions,r.output_layer)})},n.prototype.forward=function(e){return to(this,void 0,void 0,function(){var r;return no(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,La(e)];case 1:return[2,r.apply(this,[a.sent()])]}})})},n.prototype.locateFaces=function(e,r){return void 0===r&&(r={}),to(this,void 0,void 0,function(){var a,c,h,f,m,b,_,I,D,T,z,Q,Z,fe,me,he,we,We,It,xt;return no(this,function(ht){switch(ht.label){case 0:return a=new Dm(r),c=a.maxResults,h=a.minConfidence,[4,La(e)];case 1:for(f=ht.sent(),m=this.forwardInput(f),I=(b=m.boxes)[0],D=(_=m.scores)[0],T=1;T<b.length;T++)b[T].dispose(),_[T].dispose();return Z=(Q=Array).from,[4,D.data()];case 2:return z=Z.apply(Q,[ht.sent()]),fe=function Hb(i,n,e,r,a){var h=Math.min(e,i.shape[0]),f=n.map(function(_,I){return{score:_,boxIndex:I}}).filter(function(_){return _.score>a}).sort(function(_,I){return I.score-_.score}),m=function(_){return _<=r?1:0},b=[];return f.forEach(function(_){if(!(b.length>=h)){for(var I=_.score,D=b.length-1;D>=0;--D){var T=Wx(i,_.boxIndex,b[D]);if(0!==T&&(_.score*=m(T),_.score<=a))break}I===_.score&&b.push(_.boxIndex)}}),b}(I,z,c,.5,h),me=f.getReshapedInputDimensions(0),we=(he=f.inputSize)/me.width,We=he/me.height,It=I.arraySync(),xt=fe.map(function(ft){var Zt=[Math.max(0,It[ft][0]),Math.min(1,It[ft][2])].map(function(Gn){return Gn*We}),Gt=Zt[0],Dn=Zt[1],On=[Math.max(0,It[ft][1]),Math.min(1,It[ft][3])].map(function(Gn){return Gn*we}),Bn=On[0];return new pl(z[ft],new Jd(Bn,Gt,On[1]-Bn,Dn-Gt),{height:f.getInputHeight(0),width:f.getInputWidth(0)})}),I.dispose(),D.dispose(),[2,xt]}})})},n.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},n.prototype.extractParamsFromWeigthMap=function(e){return function jb(i){var n=[],e=function Of(i,n){var e=Ul(i,n);function r(b,_,I){return{filters:e(b+"/Conv2d_"+_+"_pointwise/weights",4,I+"/filters"),batch_norm_offset:e(b+"/Conv2d_"+_+"_pointwise/convolution_bn_offset",1,I+"/batch_norm_offset")}}function a(b){var _="mobilenetv1/conv_"+b,I="MobilenetV1/Conv2d_"+b+"_depthwise",D=_+"/depthwise_conv",T=_+"/pointwise_conv";return{depthwise_conv:{filters:e(I+"/depthwise_weights",4,D+"/filters"),batch_norm_scale:e(I+"/BatchNorm/gamma",1,D+"/batch_norm_scale"),batch_norm_offset:e(I+"/BatchNorm/beta",1,D+"/batch_norm_offset"),batch_norm_mean:e(I+"/BatchNorm/moving_mean",1,D+"/batch_norm_mean"),batch_norm_variance:e(I+"/BatchNorm/moving_variance",1,D+"/batch_norm_variance")},pointwise_conv:r("MobilenetV1",b,T)}}function h(b,_){return{filters:e(b+"/weights",4,_+"/filters"),bias:e(b+"/biases",1,_+"/bias")}}function f(b){return{box_encoding_predictor:h("Prediction/BoxPredictor_"+b+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+b+"/box_encoding_predictor"),class_predictor:h("Prediction/BoxPredictor_"+b+"/ClassPredictor","prediction_layer/box_predictor_"+b+"/class_predictor")}}return{extractMobilenetV1Params:function c(){return{conv_0:r("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:a(1),conv_2:a(2),conv_3:a(3),conv_4:a(4),conv_5:a(5),conv_6:a(6),conv_7:a(7),conv_8:a(8),conv_9:a(9),conv_10:a(10),conv_11:a(11),conv_12:a(12),conv_13:a(13)}},extractPredictionLayerParams:function m(){return{conv_0:r("Prediction",0,"prediction_layer/conv_0"),conv_1:r("Prediction",1,"prediction_layer/conv_1"),conv_2:r("Prediction",2,"prediction_layer/conv_2"),conv_3:r("Prediction",3,"prediction_layer/conv_3"),conv_4:r("Prediction",4,"prediction_layer/conv_4"),conv_5:r("Prediction",5,"prediction_layer/conv_5"),conv_6:r("Prediction",6,"prediction_layer/conv_6"),conv_7:r("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:f(0),box_predictor_1:f(1),box_predictor_2:f(2),box_predictor_3:f(3),box_predictor_4:f(4),box_predictor_5:f(5)}}}}(i,n),r=e.extractMobilenetV1Params,a=e.extractPredictionLayerParams,c=i["Output/extra_dim"];if(n.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!tu(c))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+c);var h={mobilenetv1:r(),prediction_layer:a(),output_layer:{extra_dim:c}};return kl(i,n),{params:h,paramMappings:n}}(e)},n.prototype.extractParams=function(e){return function $b(i){var n=[],e=iu(i),r=e.extractWeights,a=e.getRemainingWeights,c=function Em(i,n){function r(m,b,_,I,D){var T=Hn(i(m*b*_*_),[_,_,m,b]),z=Yt(i(b));return n.push({paramPath:I+"/filters"},{paramPath:I+"/"+(D?"batch_norm_offset":"bias")}),{filters:T,bias:z}}function a(m,b,_,I){var D=r(m,b,_,I,!0);return{filters:D.filters,batch_norm_offset:D.bias}}function c(m,b,_){var I=function e(m,b){var _=Hn(i(9*m),[3,3,m,1]),I=Yt(i(m)),D=Yt(i(m)),T=Yt(i(m)),z=Yt(i(m));return n.push({paramPath:b+"/filters"},{paramPath:b+"/batch_norm_scale"},{paramPath:b+"/batch_norm_offset"},{paramPath:b+"/batch_norm_mean"},{paramPath:b+"/batch_norm_variance"}),{filters:_,batch_norm_scale:I,batch_norm_offset:D,batch_norm_mean:T,batch_norm_variance:z}}(m,_+"/depthwise_conv");return{depthwise_conv:I,pointwise_conv:a(m,b,1,_+"/pointwise_conv")}}return{extractMobilenetV1Params:function h(){return{conv_0:a(3,32,3,"mobilenetv1/conv_0"),conv_1:c(32,64,"mobilenetv1/conv_1"),conv_2:c(64,128,"mobilenetv1/conv_2"),conv_3:c(128,128,"mobilenetv1/conv_3"),conv_4:c(128,256,"mobilenetv1/conv_4"),conv_5:c(256,256,"mobilenetv1/conv_5"),conv_6:c(256,512,"mobilenetv1/conv_6"),conv_7:c(512,512,"mobilenetv1/conv_7"),conv_8:c(512,512,"mobilenetv1/conv_8"),conv_9:c(512,512,"mobilenetv1/conv_9"),conv_10:c(512,512,"mobilenetv1/conv_10"),conv_11:c(512,512,"mobilenetv1/conv_11"),conv_12:c(512,1024,"mobilenetv1/conv_12"),conv_13:c(1024,1024,"mobilenetv1/conv_13")}},extractPredictionLayerParams:function f(){return{conv_0:a(1024,256,1,"prediction_layer/conv_0"),conv_1:a(256,512,3,"prediction_layer/conv_1"),conv_2:a(512,128,1,"prediction_layer/conv_2"),conv_3:a(128,256,3,"prediction_layer/conv_3"),conv_4:a(256,128,1,"prediction_layer/conv_4"),conv_5:a(128,256,3,"prediction_layer/conv_5"),conv_6:a(256,64,1,"prediction_layer/conv_6"),conv_7:a(64,128,3,"prediction_layer/conv_7"),box_predictor_0:{box_encoding_predictor:r(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),class_predictor:r(512,9,1,"prediction_layer/box_predictor_0/class_predictor")},box_predictor_1:{box_encoding_predictor:r(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),class_predictor:r(1024,18,1,"prediction_layer/box_predictor_1/class_predictor")},box_predictor_2:{box_encoding_predictor:r(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),class_predictor:r(512,18,1,"prediction_layer/box_predictor_2/class_predictor")},box_predictor_3:{box_encoding_predictor:r(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),class_predictor:r(256,18,1,"prediction_layer/box_predictor_3/class_predictor")},box_predictor_4:{box_encoding_predictor:r(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),class_predictor:r(256,18,1,"prediction_layer/box_predictor_4/class_predictor")},box_predictor_5:{box_encoding_predictor:r(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),class_predictor:r(128,18,1,"prediction_layer/box_predictor_5/class_predictor")}}}}}(r,n),f=c.extractPredictionLayerParams,m=(0,c.extractMobilenetV1Params)(),b=f(),I={extra_dim:Un(r(20472),[1,5118,4])};if(n.push({paramPath:"output_layer/extra_dim"}),0!==a().length)throw new Error("weights remaing after extract: "+a().length);return{params:{mobilenetv1:m,prediction_layer:b,output_layer:I},paramMappings:n}}(e)},n}(wc);!function(i){Io(function n(){return null!==i&&i.apply(this,arguments)||this},i)}(Lf);var Gb=[new Ci(.738768,.874946),new Ci(2.42204,2.65704),new Ci(4.30971,7.04493),new Ci(10.246,4.59428),new Ci(12.6868,11.8741)],Xv=[new Ci(1.603231,2.094468),new Ci(6.041143,7.080126),new Ci(2.882459,3.518061),new Ci(4.266906,5.178857),new Ci(9.041765,10.66308)],km=[117.001,114.697,97.404],Sm=function(i){return"number"==typeof i};function Kv(i){return Nt(function(){var n=rs(i,St(.10000000149011612));return Bo(oa(Wa(i,n)),n)})}function au(i,n){return Nt(function(){var e=Os(i,[[0,0],[1,1],[1,1],[0,0]]);return e=Js(e,n.conv.filters,[1,1],"valid"),e=Wa(e,n.bn.sub),e=rs(e,n.bn.truediv),Kv(e=Bo(e,n.conv.bias))})}function Gl(i,n){return Nt(function(){var e=Os(i,[[0,0],[1,1],[1,1],[0,0]]);return e=Oa(e,n.depthwise_filter,n.pointwise_filter,[1,1],"valid"),Kv(e=Bo(e,n.bias))})}var ah=function(){function i(n){var e=void 0===n?{}:n,r=e.inputSize,a=e.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=r||416,this._scoreThreshold=a||.5,"number"!=typeof this._inputSize||this._inputSize%32!=0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if("number"!=typeof this._scoreThreshold||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(i.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),i}(),nw=function(i){function n(e){var r=i.call(this,"TinyYolov2")||this;return function ew(i){if(!i)throw new Error("invalid config: "+i);if("boolean"!=typeof i.withSeparableConvs)throw new Error("config.withSeparableConvs has to be a boolean, have: "+i.withSeparableConvs);if(!Sm(i.iouThreshold)||i.iouThreshold<0||i.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+i.iouThreshold);if(!Array.isArray(i.classes)||!i.classes.length||!i.classes.every(function(n){return"string"==typeof n}))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(i.classes));if(!Array.isArray(i.anchors)||!i.anchors.length||!i.anchors.map(function(n){return n||{}}).every(function(n){return Sm(n.x)&&Sm(n.y)}))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(i.anchors));if(i.meanRgb&&(!Array.isArray(i.meanRgb)||3!==i.meanRgb.length||!i.meanRgb.every(Sm)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(i.meanRgb))}(e),r._config=e,r}return Io(n,i),Object.defineProperty(n.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),n.prototype.runTinyYolov2=function(e,r){var a=au(e,r.conv0);return a=au(a=Ga(a,[2,2],[2,2],"same"),r.conv1),a=au(a=Ga(a,[2,2],[2,2],"same"),r.conv2),a=au(a=Ga(a,[2,2],[2,2],"same"),r.conv3),a=au(a=Ga(a,[2,2],[2,2],"same"),r.conv4),a=au(a=Ga(a,[2,2],[2,2],"same"),r.conv5),a=au(a=Ga(a,[2,2],[1,1],"same"),r.conv6),Ba(a=au(a,r.conv7),r.conv8,"valid",!1)},n.prototype.runMobilenet=function(e,r){var a=this.config.isFirstLayerConv2d?Kv(Ba(e,r.conv0,"valid",!1)):Gl(e,r.conv0);return a=Gl(a=Ga(a,[2,2],[2,2],"same"),r.conv1),a=Gl(a=Ga(a,[2,2],[2,2],"same"),r.conv2),a=Gl(a=Ga(a,[2,2],[2,2],"same"),r.conv3),a=Gl(a=Ga(a,[2,2],[2,2],"same"),r.conv4),a=Gl(a=Ga(a,[2,2],[2,2],"same"),r.conv5),a=Ga(a,[2,2],[1,1],"same"),a=r.conv6?Gl(a,r.conv6):a,Ba(a=r.conv7?Gl(a,r.conv7):a,r.conv8,"valid",!1)},n.prototype.forwardInput=function(e,r){var a=this,c=this.params;if(!c)throw new Error("TinyYolov2 - load model before inference");return Nt(function(){var h=e.toBatchTensor(r,!1).toFloat();return h=(h=a.config.meanRgb?Qd(h,a.config.meanRgb):h).div(St(256)),a.config.withSeparableConvs?a.runMobilenet(h,c):a.runTinyYolov2(h,c)})},n.prototype.forward=function(e,r){return to(this,void 0,void 0,function(){var a;return no(this,function(c){switch(c.label){case 0:return a=this.forwardInput,[4,La(e)];case 1:return[4,a.apply(this,[c.sent(),r])];case 2:return[2,c.sent()]}})})},n.prototype.detect=function(e,r){return void 0===r&&(r={}),to(this,void 0,void 0,function(){var a,c,h,f,m,b,_,I,D,T,z,Q,fe=this;return no(this,function(me){switch(me.label){case 0:return a=new ah(r),c=a.inputSize,h=a.scoreThreshold,[4,La(e)];case 1:return f=me.sent(),[4,this.forwardInput(f,c)];case 2:return m=me.sent(),b=Nt(function(){return Wi(m)[0].expandDims()}),_={width:f.getInputWidth(0),height:f.getInputHeight(0)},[4,this.extractBoxes(b,f.getReshapedInputDimensions(0),h)];case 3:return I=me.sent(),m.dispose(),b.dispose(),D=I.map(function(he){return he.box}),T=I.map(function(he){return he.score}),z=I.map(function(he){return he.classScore}),Q=I.map(function(he){return fe.config.classes[he.label]}),[2,Dl(D.map(function(he){return he.rescale(c)}),T,this.config.iouThreshold,!0).map(function(he){return new Iv(T[he],z[he],Q[he],D[he],_)})]}})})},n.prototype.getDefaultModelName=function(){return""},n.prototype.extractParamsFromWeigthMap=function(e){return function tw(i,n){var f,e=[],r=function Kb(i,n){var e=Ul(i,n);function a(f){return{filters:e(f+"/filters",4),bias:e(f+"/bias",1)}}return{extractConvParams:a,extractConvWithBatchNormParams:function c(f){var m=a(f+"/conv"),b=function r(f){return{sub:e(f+"/sub",1),truediv:e(f+"/truediv",1)}}(f+"/bn");return{conv:m,bn:b}},extractSeparableConvParams:eh(e)}}(i,e),a=r.extractConvParams,c=r.extractConvWithBatchNormParams,h=r.extractSeparableConvParams;if(n.withSeparableConvs){var m=n.filterSizes&&n.filterSizes.length||9;f={conv0:n.isFirstLayerConv2d?a("conv0"):h("conv0"),conv1:h("conv1"),conv2:h("conv2"),conv3:h("conv3"),conv4:h("conv4"),conv5:h("conv5"),conv6:m>7?h("conv6"):void 0,conv7:m>8?h("conv7"):void 0,conv8:a("conv8")}}else f={conv0:c("conv0"),conv1:c("conv1"),conv2:c("conv2"),conv3:c("conv3"),conv4:c("conv4"),conv5:c("conv5"),conv6:c("conv6"),conv7:c("conv7"),conv8:a("conv8")};return kl(i,e),{params:f,paramMappings:e}}(e,this.config)},n.prototype.extractParams=function(e){var r=this.config.filterSizes||n.DEFAULT_FILTER_SIZES,a=r?r.length:void 0;if(7!==a&&8!==a&&9!==a)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+a+" filterSizes in config");return function Xb(i,n,e,r){var D,a=iu(i),h=a.getRemainingWeights,f=[],m=function Bf(i,n){var e=vm(i,n),c=bm(i,n);return{extractConvParams:e,extractConvWithBatchNormParams:function a(h,f,m){var b=e(h,f,3,m+"/conv"),_=function r(h,f){var m=Yt(i(h)),b=Yt(i(h));return n.push({paramPath:f+"/sub"},{paramPath:f+"/truediv"}),{sub:m,truediv:b}}(f,m+"/bn");return{conv:b,bn:_}},extractSeparableConvParams:c}}(a.extractWeights,f),b=m.extractConvParams,_=m.extractConvWithBatchNormParams,I=m.extractSeparableConvParams;if(n.withSeparableConvs){var T=r[0],z=r[1],Q=r[2],Z=r[3],ne=r[4],fe=r[5],me=r[6],he=r[7],we=r[8];D={conv0:n.isFirstLayerConv2d?b(T,z,3,"conv0"):I(T,z,"conv0"),conv1:I(z,Q,"conv1"),conv2:I(Q,Z,"conv2"),conv3:I(Z,ne,"conv3"),conv4:I(ne,fe,"conv4"),conv5:I(fe,me,"conv5"),conv6:he?I(me,he,"conv6"):void 0,conv7:we?I(he,we,"conv7"):void 0,conv8:b(we||he||me,5*e,1,"conv8")}}else Q=r[2],Z=r[3],ne=r[4],fe=r[5],me=r[6],he=r[7],we=r[8],D={conv0:_(T=r[0],z=r[1],"conv0"),conv1:_(z,Q,"conv1"),conv2:_(Q,Z,"conv2"),conv3:_(Z,ne,"conv3"),conv4:_(ne,fe,"conv4"),conv5:_(fe,me,"conv5"),conv6:_(me,he,"conv6"),conv7:_(he,we,"conv7"),conv8:b(we,5*e,1,"conv8")};if(0!==h().length)throw new Error("weights remaing after extract: "+h().length);return{params:D,paramMappings:f}}(e,this.config,this.boxEncodingSize,r)},n.prototype.extractBoxes=function(e,r,a){return to(this,void 0,void 0,function(){var c,h,f,m,b,_,I,D,T,z,Q,Z,ne,fe,me,he,we,We,It,xt,ht,ft,Zt,Gt,Dn,On,Bn,Jn,Gn,jn=this;return no(this,function(nr){switch(nr.label){case 0:return c=r.width,h=r.height,f=Math.max(c,h),m=f/c,b=f/h,_=e.shape[1],I=this.config.anchors.length,D=Nt(function(){var or=e.reshape([_,_,I,jn.boxEncodingSize]);return[or.slice([0,0,0,0],[_,_,I,4]),or.slice([0,0,0,4],[_,_,I,1]),jn.withClassScores?Ro(or.slice([0,0,0,5],[_,_,I,jn.config.classes.length]),3):St(0)]}),T=D[0],Q=D[2],Z=[],[4,(z=D[1]).array()];case 1:return ne=nr.sent(),[4,T.array()];case 2:fe=nr.sent(),me=0,nr.label=3;case 3:if(!(me<_))return[3,12];he=0,nr.label=4;case 4:if(!(he<_))return[3,11];we=0,nr.label=5;case 5:return we<I?(We=td(ne[me][he][we][0]),!a||We>a?(It=(he+td(fe[me][he][we][0]))/_*m,xt=(me+td(fe[me][he][we][1]))/_*b,ht=Math.exp(fe[me][he][we][2])*this.config.anchors[we].x/_*m,ft=Math.exp(fe[me][he][we][3])*this.config.anchors[we].y/_*b,Zt=It-ht/2,Gt=xt-ft/2,Dn={row:me,col:he,anchor:we},this.withClassScores?[4,this.extractPredictedClass(Q,Dn)]:[3,7]):[3,9]):[3,10];case 6:return Gn=nr.sent(),[3,8];case 7:Gn={classScore:1,label:0},nr.label=8;case 8:Bn=(On=Gn).classScore,Jn=On.label,Z.push(Ni({box:new Ef(Zt,Gt,Zt+ht,Gt+ft),score:We,classScore:We*Bn,label:Jn},Dn)),nr.label=9;case 9:return we++,[3,5];case 10:return he++,[3,4];case 11:return me++,[3,3];case 12:return T.dispose(),z.dispose(),Q.dispose(),[2,Z]}})})},n.prototype.extractPredictedClass=function(e,r){return to(this,void 0,void 0,function(){var a,c,h,f;return no(this,function(m){switch(m.label){case 0:return a=r.row,c=r.col,h=r.anchor,[4,e.array()];case 1:return f=m.sent(),[2,Array(this.config.classes.length).fill(0).map(function(b,_){return f[a][c][h][_]}).map(function(b,_){return{classScore:b,label:_}}).reduce(function(b,_){return b.classScore>_.classScore?b:_})]}})})},n.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],n}(wc),rw=function(i){function n(e){void 0===e&&(e=!0);var a=Object.assign({},{withSeparableConvs:e,iouThreshold:.4,classes:["face"]},e?{anchors:Xv,meanRgb:km}:{anchors:Gb,withClassScores:!0});return i.call(this,a)||this}return Io(n,i),Object.defineProperty(n.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),n.prototype.locateFaces=function(e,r){return to(this,void 0,void 0,function(){return no(this,function(c){switch(c.label){case 0:return[4,this.detect(e,r)];case 1:return[2,c.sent().map(function(h){return new pl(h.score,h.relativeBox,{width:h.imageWidth,height:h.imageHeight})})]}})})},n.prototype.getDefaultModelName=function(){return this.withSeparableConvs?"tiny_yolov2_separable_conv_model":"tiny_yolov2_model"},n.prototype.extractParamsFromWeigthMap=function(e){return i.prototype.extractParamsFromWeigthMap.call(this,e)},n}(nw),qv=function(i){function n(){var e=null!==i&&i.apply(this,arguments)||this;return e._name="TinyFaceDetectorOptions",e}return Io(n,i),n}(ah),jf=function(){function i(){}return i.prototype.then=function(n){return to(this,void 0,void 0,function(){var e;return no(this,function(r){switch(r.label){case 0:return e=n,[4,this.run()];case 1:return[2,e.apply(void 0,[r.sent()])]}})})},i.prototype.run=function(){return to(this,void 0,void 0,function(){return no(this,function(n){throw new Error("ComposableTask - run is not implemented")})})},i}();function Yv(i,n){return Object.assign({},i,{descriptor:n})}function Am(i,n,e,r,a){return void 0===a&&(a=function(c){return c.alignedRect}),to(this,void 0,void 0,function(){var c,h,f,m,b;return no(this,function(_){switch(_.label){case 0:return c=i.map(function(I){return function Ob(i){return function xb(i){return i.detection instanceof pl}(i)&&i.landmarks instanceof hm&&i.unshiftedLandmarks instanceof hm&&i.alignedRect instanceof pl}(I)?a(I):I.detection}),(f=r)?[3,5]:n instanceof $r?[4,Ov(n,c)]:[3,2];case 1:return m=_.sent(),[3,4];case 2:return[4,Af(n,c)];case 3:m=_.sent(),_.label=4;case 4:f=m,_.label=5;case 5:return[4,e(h=f)];case 6:return b=_.sent(),h.forEach(function(I){return I instanceof $r&&I.dispose()}),[2,b]}})})}function Tm(i,n,e,r,a){return to(this,void 0,void 0,function(){var c=this;return no(this,function(h){return[2,Am([i],n,function(f){return to(c,void 0,void 0,function(){return no(this,function(m){return[2,e(f[0])]})})},r,a)]})})}function Zv(i,n){var r=n[1];return{height:Math.floor(n[0]*i),width:Math.floor(r*i)}}var Uf=function(i){function n(e,r,a,c){return i.call(this,{left:e,top:r,right:a,bottom:c},!0)||this}return Io(n,i),n}(zl);function Yb(i){return Nt(function(){return rs(Wa(i,St(127.5)),St(.0078125))})}function lh(i,n){return Nt(function(){return Bo(oa(i),rs(n,kd(oa(kd(i)))))})}function Qv(i,n,e){return void 0===e&&(e=!1),Nt(function(){var r=Ba(i,n.conv1,"valid");return r=lh(r,n.prelu1_alpha),r=lh(r=Ba(r=Ga(r,e?[2,2]:[3,3],[2,2],"same"),n.conv2,"valid"),n.prelu2_alpha),lh(r=Ba(r=e?r:Ga(r,[3,3],[2,2],"valid"),n.conv3,"valid"),n.prelu3_alpha)})}function e0(i,n,e,r,a){a.stage1=[];var c=n.map(function(D){return Nt(function(){var T={scale:D},z=function Vf(i,n){return Nt(function(){var e=Zv(n,i.shape.slice(1)),h=Yb(Yu.resizeBilinear(i,[e.height,e.width]));return Zc(h,[0,2,1,3])})}(i,D),Q=Date.now(),Z=function ad(i,n){return Nt(function(){var e=Qv(i,n,!0),r=Ba(e,n.conv4_1,"valid"),a=ps(tf(r,3),3);return{prob:Ro(Wa(r,a),3),regions:Ba(e,n.conv4_2,"valid")}})}(z,r),ne=Z.prob,fe=Z.regions;return T.pnet=Date.now()-Q,{scoresTensor:Wi(Wi(ne,3)[1])[0],regionsTensor:Wi(fe)[0],scale:D,statsForScale:T}})}),h=c.map(function(D){var T=D.scoresTensor,z=D.regionsTensor,Z=D.statsForScale,ne=function Jv(i,n,e,r){for(var a=[],c=i.arraySync(),h=0;h<i.shape[0];h++)for(var f=0;f<i.shape[1];f++)c[h][f]>=r&&a.push(new Ci(f,h));return a.map(function(b){var _=new Ef(Math.round((2*b.y+1)/e),Math.round((2*b.x+1)/e),Math.round((2*b.y+12)/e),Math.round((2*b.x+12)/e)),I=c[b.y][b.x],D=n.arraySync();return{cell:_,score:I,region:new Uf(D[b.y][b.x][0],D[b.y][b.x][1],D[b.y][b.x][2],D[b.y][b.x][3])}})}(T,z,D.scale,e);if(T.dispose(),z.dispose(),!ne.length)return a.stage1.push(Z),[];var fe=Date.now(),me=Dl(ne.map(function(he){return he.cell}),ne.map(function(he){return he.score}),.5);return Z.nms=Date.now()-fe,Z.numBoxes=me.length,a.stage1.push(Z),me.map(function(he){return ne[he]})}),f=h.reduce(function(D,T){return D.concat(T)},[]),m=[],b=[];if(f.length>0){var _=Date.now(),I=Dl(f.map(function(D){return D.cell}),f.map(function(D){return D.score}),.7);a.stage1_nms=Date.now()-_,b=I.map(function(D){return f[D].score}),m=I.map(function(D){return f[D]}).map(function(D){var T=D.cell,z=D.region;return new Ef(T.left+z.left*T.width,T.top+z.top*T.height,T.right+z.right*T.width,T.bottom+z.bottom*T.height).toSquare().round()})}return{boxes:m,scores:b}}function Zb(i,n,e){var r=e.width,a=e.height;return to(this,void 0,void 0,function(){var c,h,f,m=this;return no(this,function(b){switch(b.label){case 0:return c=ml(i),[4,Promise.all(n.map(function(_){return to(m,void 0,void 0,function(){var I,Z,ne,fe;return no(this,function(me){return I=_.padAtBorders(i.height,i.width),fe=c.getImageData(Z=I.x-1,ne=I.y-1,I.ex-Z,I.ey-ne),[2,Xa.isNodejs()?Rv(fe):createImageBitmap(fe)]})})}))];case 1:return h=b.sent(),f=[],h.forEach(function(_){var D=ml(mm({width:r,height:a}));D.drawImage(_,0,0,r,a);for(var T=D.getImageData(0,0,r,a).data,z=[],Q=0;Q<T.length;Q+=4)z.push(T[Q+2]),z.push(T[Q+1]),z.push(T[Q]);f.push(z)}),[2,f.map(function(_){return Nt(function(){return Yb(Zc(Hn(_,[1,r,a,3]),[0,2,1,3]).toFloat())})})]}})})}function Qb(i,n,e,r,a){return to(this,void 0,void 0,function(){var c,h,f,m,b,_,I,D,T,z,Q,Z,ne,fe;return no(this,function(me){switch(me.label){case 0:return c=Date.now(),[4,Zb(i,n,{width:24,height:24})];case 1:return h=me.sent(),a.stage2_extractImagePatches=Date.now()-c,c=Date.now(),f=h.map(function(he){var we=function ch(i,n){return Nt(function(){var e=Qv(i,n),c=lh(Hl(Hi(e,[e.shape[0],n.fc1.weights.shape[0]]),n.fc1),n.prelu4_alpha),h=Hl(c,n.fc2_1),f=ps(tf(h,1),1),m=Ro(Wa(h,f),1),b=Hl(c,n.fc2_2);return{scores:Wi(m,1)[1],regions:b}})}(he,r);return he.dispose(),we}),a.stage2_rnet=Date.now()-c,m=f.length>1?hi(f.map(function(he){return he.scores})):f[0].scores,I=(_=Array).from,[4,m.data()];case 2:return b=I.apply(_,[me.sent()]),m.dispose(),D=b.map(function(he,we){return{score:he,idx:we}}).filter(function(he){return he.score>e}).map(function(he){return he.idx}),T=D.map(function(he){return n[he]}),z=D.map(function(he){return b[he]}),Q=[],Z=[],T.length>0&&(c=Date.now(),ne=Dl(T,z,.7),a.stage2_nms=Date.now()-c,fe=ne.map(function(he){var we=f[D[he]].regions.arraySync();return new Uf(we[0][0],we[0][1],we[0][2],we[0][3])}),Z=ne.map(function(he){return z[he]}),Q=ne.map(function(he,we){return T[he].calibrate(fe[we])})),f.forEach(function(he){he.regions.dispose(),he.scores.dispose()}),[2,{boxes:Q,scores:Z}]}})})}function dw(i,n,e,r,a){return to(this,void 0,void 0,function(){var c,h,f,m,b,_,I,D,T,z,Q,Z,ne,fe,me;return no(this,function(he){switch(he.label){case 0:return c=Date.now(),[4,Zb(i,n,{width:48,height:48})];case 1:return h=he.sent(),a.stage3_extractImagePatches=Date.now()-c,c=Date.now(),f=h.map(function(we){var We=function uw(i,n){return Nt(function(){var e=Qv(i,n);e=lh(e=Ba(e=Ga(e,[2,2],[2,2],"same"),n.conv4,"valid"),n.prelu4_alpha);var c=lh(Hl(Hi(e,[e.shape[0],n.fc1.weights.shape[0]]),n.fc1),n.prelu5_alpha),h=Hl(c,n.fc2_1),f=ps(tf(h,1),1),m=Ro(Wa(h,f),1),b=Hl(c,n.fc2_2),_=Hl(c,n.fc2_3);return{scores:Wi(m,1)[1],regions:b,points:_}})}(we,r);return we.dispose(),We}),a.stage3_onet=Date.now()-c,m=f.length>1?hi(f.map(function(we){return we.scores})):f[0].scores,I=(_=Array).from,[4,m.data()];case 2:return b=I.apply(_,[he.sent()]),m.dispose(),D=b.map(function(we,We){return{score:we,idx:We}}).filter(function(we){return we.score>e}).map(function(we){return we.idx}),T=D.map(function(we){var We=f[we].regions.arraySync();return new Uf(We[0][0],We[0][1],We[0][2],We[0][3])}),z=D.map(function(we,We){return n[we].calibrate(T[We])}),Q=D.map(function(we){return b[we]}),Z=[],ne=[],fe=[],z.length>0&&(c=Date.now(),me=Dl(z,Q,.7,!1),a.stage3_nms=Date.now()-c,Z=me.map(function(we){return z[we]}),ne=me.map(function(we){return Q[we]}),fe=me.map(function(we,We){return Array(5).fill(0).map(function(It,xt){var ht=f[we].points.arraySync();return new Ci(ht[0][xt]*(Z[We].width+1)+Z[We].left,ht[0][xt+5]*(Z[We].height+1)+Z[We].top)})})),f.forEach(function(we){we.regions.dispose(),we.scores.dispose(),we.points.dispose()}),[2,{boxes:Z,scores:ne,points:fe}]}})})}var hw=function(i){function n(){return i.call(this,"Mtcnn")||this}return Io(n,i),n.prototype.load=function(e){return to(this,void 0,void 0,function(){return no(this,function(r){return console.warn("mtcnn is deprecated and will be removed soon"),[2,i.prototype.load.call(this,e)]})})},n.prototype.loadFromDisk=function(e){return to(this,void 0,void 0,function(){return no(this,function(r){return console.warn("mtcnn is deprecated and will be removed soon"),[2,i.prototype.loadFromDisk.call(this,e)]})})},n.prototype.forwardInput=function(e,r){return void 0===r&&(r={}),to(this,void 0,void 0,function(){var a,c,h,f,m,b,_,I,D,T,z,Q,Z,ne,me,he,we,We,It,xt;return no(this,function(ht){switch(ht.label){case 0:if(!(a=this.params))throw new Error("Mtcnn - load model before inference");if(!(c=e.canvases[0]))throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return h={},f=Date.now(),m=Nt(function(){return function qb(i){return Nt(function(){return pa(Wi(i,3).reverse(),3)})}(ps(om.fromPixels(c)).toFloat())}),b=function(ft){return m.dispose(),h.total=Date.now()-f,ft},_=m.shape.slice(1),I=_[0],D=_[1],T=new Im(r),z=T.minFaceSize,Q=T.scaleFactor,Z=T.maxNumScales,ne=T.scoreThresholds,me=(T.scaleSteps||function cw(i,n,e){for(var c=12/i,h=[],f=Math.min(e[0],e[1])*c,m=0;f>=12;)h.push(c*Math.pow(n,m)),f*=n,m+=1;return h}(z,Q,[I,D])).filter(function(ft){var Zt=Zv(ft,[I,D]);return Math.min(Zt.width,Zt.height)>12}).slice(0,Z),h.scales=me,h.pyramid=me.map(function(ft){return Zv(ft,[I,D])}),he=Date.now(),[4,e0(m,me,ne[0],a.pnet,h)];case 1:return we=ht.sent(),h.total_stage1=Date.now()-he,we.boxes.length?(h.stage2_numInputBoxes=we.boxes.length,he=Date.now(),[4,Qb(c,we.boxes,ne[1],a.rnet,h)]):[2,b({results:[],stats:h})];case 2:return We=ht.sent(),h.total_stage2=Date.now()-he,We.boxes.length?(h.stage3_numInputBoxes=We.boxes.length,he=Date.now(),[4,dw(c,We.boxes,ne[2],a.onet,h)]):[2,b({results:[],stats:h})];case 3:return It=ht.sent(),h.total_stage3=Date.now()-he,xt=It.boxes.map(function(ft,Zt){return Hv(ru({},new pl(It.scores[Zt],new Jd(ft.left/D,ft.top/I,ft.width/D,ft.height/I),{height:I,width:D})),new _x(It.points[Zt].map(function(Gt){return Gt.sub(new Ci(ft.left,ft.top)).div(new Ci(ft.width,ft.height))}),{width:ft.width,height:ft.height}))}),[2,b({results:xt,stats:h})]}})})},n.prototype.forward=function(e,r){return void 0===r&&(r={}),to(this,void 0,void 0,function(){var a;return no(this,function(c){switch(c.label){case 0:return a=this.forwardInput,[4,La(e)];case 1:return[4,a.apply(this,[c.sent(),r])];case 2:return[2,c.sent().results]}})})},n.prototype.forwardWithStats=function(e,r){return void 0===r&&(r={}),to(this,void 0,void 0,function(){var a;return no(this,function(c){switch(c.label){case 0:return a=this.forwardInput,[4,La(e)];case 1:return[2,a.apply(this,[c.sent(),r])]}})})},n.prototype.getDefaultModelName=function(){return"mtcnn_model"},n.prototype.extractParamsFromWeigthMap=function(e){return function lw(i){var n=[],e=function sw(i,n){var e=Ul(i,n);function r(_){return{filters:e(_+"/weights",4,_+"/filters"),bias:e(_+"/bias",1)}}function a(_){return{weights:e(_+"/weights",2),bias:e(_+"/bias",1)}}function c(_){return e(_,1)}function h(_){return{conv1:r(_+"/conv1"),prelu1_alpha:c(_+"/prelu1_alpha"),conv2:r(_+"/conv2"),prelu2_alpha:c(_+"/prelu2_alpha"),conv3:r(_+"/conv3"),prelu3_alpha:c(_+"/prelu3_alpha")}}return{extractPNetParams:function f(){var _=h("pnet"),I=r("pnet/conv4_1"),D=r("pnet/conv4_2");return Ni(Ni({},_),{conv4_1:I,conv4_2:D})},extractRNetParams:function m(){var _=h("rnet"),I=a("rnet/fc1"),D=c("rnet/prelu4_alpha"),T=a("rnet/fc2_1"),z=a("rnet/fc2_2");return Ni(Ni({},_),{fc1:I,prelu4_alpha:D,fc2_1:T,fc2_2:z})},extractONetParams:function b(){var _=h("onet"),I=r("onet/conv4"),D=c("onet/prelu4_alpha"),T=a("onet/fc1"),z=c("onet/prelu5_alpha"),Q=a("onet/fc2_1"),Z=a("onet/fc2_2"),ne=a("onet/fc2_3");return Ni(Ni({},_),{conv4:I,prelu4_alpha:D,fc1:T,prelu5_alpha:z,fc2_1:Q,fc2_2:Z,fc2_3:ne})}}}(i,n),a=e.extractRNetParams,c=e.extractONetParams,h=(0,e.extractPNetParams)(),f=a(),m=c();return kl(i,n),{params:{pnet:h,rnet:f,onet:m},paramMappings:n}}(e)},n.prototype.extractParams=function(e){return function aw(i){var n=iu(i),r=n.getRemainingWeights,a=[],c=function iw(i,n){var e=vm(i,n),r=Lv(i,n);function a(b,_){var I=Yt(i(b));return n.push({paramPath:_}),I}function c(b,_,I){return void 0===I&&(I=!1),{conv1:e(b[0],b[1],3,_+"/conv1"),prelu1_alpha:a(b[1],_+"/prelu1_alpha"),conv2:e(b[1],b[2],3,_+"/conv2"),prelu2_alpha:a(b[2],_+"/prelu2_alpha"),conv3:e(b[2],b[3],I?2:3,_+"/conv3"),prelu3_alpha:a(b[3],_+"/prelu3_alpha")}}return{extractPNetParams:function h(){var b=c([3,10,16,32],"pnet"),_=e(32,2,1,"pnet/conv4_1"),I=e(32,4,1,"pnet/conv4_2");return Ni(Ni({},b),{conv4_1:_,conv4_2:I})},extractRNetParams:function f(){var b=c([3,28,48,64],"rnet",!0),_=r(576,128,"rnet/fc1"),I=a(128,"rnet/prelu4_alpha"),D=r(128,2,"rnet/fc2_1"),T=r(128,4,"rnet/fc2_2");return Ni(Ni({},b),{fc1:_,prelu4_alpha:I,fc2_1:D,fc2_2:T})},extractONetParams:function m(){var b=c([3,32,64,64],"onet"),_=e(64,128,2,"onet/conv4"),I=a(128,"onet/prelu4_alpha"),D=r(1152,256,"onet/fc1"),T=a(256,"onet/prelu5_alpha"),z=r(256,2,"onet/fc2_1"),Q=r(256,4,"onet/fc2_2"),Z=r(256,10,"onet/fc2_3");return Ni(Ni({},b),{conv4:_,prelu4_alpha:I,fc1:D,prelu5_alpha:T,fc2_1:z,fc2_2:Q,fc2_3:Z})}}}(n.extractWeights,a),f=c.extractRNetParams,m=c.extractONetParams,b=(0,c.extractPNetParams)(),_=f(),I=m();if(0!==r().length)throw new Error("weights remaing after extract: "+r().length);return{params:{pnet:b,rnet:_,onet:I},paramMappings:a}}(e)},n}(wc),pw=[new Ci(1.603231,2.094468),new Ci(6.041143,7.080126),new Ci(2.882459,3.518061),new Ci(4.266906,5.178857),new Ci(9.041765,10.66308)],Jb=[117.001,114.697,97.404],mw=function(i){function n(){return i.call(this,{withSeparableConvs:!0,iouThreshold:.4,classes:["face"],anchors:pw,meanRgb:Jb,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]})||this}return Io(n,i),Object.defineProperty(n.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),n.prototype.locateFaces=function(e,r){return to(this,void 0,void 0,function(){return no(this,function(c){switch(c.label){case 0:return[4,this.detect(e,r)];case 1:return[2,c.sent().map(function(h){return new pl(h.score,h.relativeBox,{width:h.imageWidth,height:h.imageHeight})})]}})})},n.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},n.prototype.extractParamsFromWeigthMap=function(e){return i.prototype.extractParamsFromWeigthMap.call(this,e)},n}(nw),Ii={ssdMobilenetv1:new Lf,tinyFaceDetector:new mw,tinyYolov2:new rw,mtcnn:new hw,faceLandmark68Net:new rh,faceLandmark68TinyNet:new Lx,faceRecognitionNet:new Hx,faceExpressionNet:new th,ageGenderNet:new Wv};function oy(i,n){return Object.assign({},i,{age:n})}var Pm=function(i){function n(e,r,a){var c=i.call(this)||this;return c.parentTask=e,c.input=r,c.extractedFaces=a,c}return Io(n,i),n}(jf),Xl=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Io(n,i),n.prototype.run=function(){return to(this,void 0,void 0,function(){var e,r,a=this;return no(this,function(c){switch(c.label){case 0:return[4,this.parentTask];case 1:return[4,Am(e=c.sent(),this.input,function(h){return to(a,void 0,void 0,function(){return no(this,function(f){switch(f.label){case 0:return[4,Promise.all(h.map(function(m){return Ii.faceExpressionNet.predictExpressions(m)}))];case 1:return[2,f.sent()]}})})},this.extractedFaces)];case 2:return r=c.sent(),[2,e.map(function(h,f){return nh(h,r[f])})]}})})},n.prototype.withAgeAndGender=function(){return new n0(this,this.input)},n}(Pm),dh=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Io(n,i),n.prototype.run=function(){return to(this,void 0,void 0,function(){var e,r;return no(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return(e=a.sent())?[4,Tm(e,this.input,function(c){return Ii.faceExpressionNet.predictExpressions(c)},this.extractedFaces)]:[2];case 2:return r=a.sent(),[2,nh(e,r)]}})})},n.prototype.withAgeAndGender=function(){return new Wf(this,this.input)},n}(Pm),Om=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Io(n,i),n.prototype.withAgeAndGender=function(){return new Nm(this,this.input)},n.prototype.withFaceDescriptors=function(){return new ay(this,this.input)},n}(Xl),sd=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Io(n,i),n.prototype.withAgeAndGender=function(){return new Kl(this,this.input)},n.prototype.withFaceDescriptor=function(){return new fh(this,this.input)},n}(dh),iy=function(i){function n(e,r,a){var c=i.call(this)||this;return c.parentTask=e,c.input=r,c.extractedFaces=a,c}return Io(n,i),n}(jf),n0=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Io(n,i),n.prototype.run=function(){return to(this,void 0,void 0,function(){var e,r,a=this;return no(this,function(c){switch(c.label){case 0:return[4,this.parentTask];case 1:return[4,Am(e=c.sent(),this.input,function(h){return to(a,void 0,void 0,function(){return no(this,function(f){switch(f.label){case 0:return[4,Promise.all(h.map(function(m){return Ii.ageGenderNet.predictAgeAndGender(m)}))];case 1:return[2,f.sent()]}})})},this.extractedFaces)];case 2:return r=c.sent(),[2,e.map(function(h,f){var m=r[f],b=m.age;return oy(oh(h,m.gender,m.genderProbability),b)})]}})})},n.prototype.withFaceExpressions=function(){return new Xl(this,this.input)},n}(iy),Wf=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Io(n,i),n.prototype.run=function(){return to(this,void 0,void 0,function(){var e,r,a;return no(this,function(f){switch(f.label){case 0:return[4,this.parentTask];case 1:return(e=f.sent())?[4,Tm(e,this.input,function(m){return Ii.ageGenderNet.predictAgeAndGender(m)},this.extractedFaces)]:[2];case 2:return r=f.sent(),a=r.age,[2,oy(oh(e,r.gender,r.genderProbability),a)]}})})},n.prototype.withFaceExpressions=function(){return new dh(this,this.input)},n}(iy),Nm=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Io(n,i),n.prototype.withFaceExpressions=function(){return new Om(this,this.input)},n.prototype.withFaceDescriptors=function(){return new ay(this,this.input)},n}(n0),Kl=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Io(n,i),n.prototype.withFaceExpressions=function(){return new sd(this,this.input)},n.prototype.withFaceDescriptor=function(){return new fh(this,this.input)},n}(Wf),hh=function(i){function n(e,r){var a=i.call(this)||this;return a.parentTask=e,a.input=r,a}return Io(n,i),n}(jf),ay=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Io(n,i),n.prototype.run=function(){return to(this,void 0,void 0,function(){var e;return no(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return[4,Am(e=a.sent(),this.input,function(c){return Promise.all(c.map(function(h){return Ii.faceRecognitionNet.computeFaceDescriptor(h)}))},null,function(c){return c.landmarks.align(null,{useDlibAlignment:!0})})];case 2:return[2,a.sent().map(function(c,h){return Yv(e[h],c)})]}})})},n.prototype.withFaceExpressions=function(){return new Om(this,this.input)},n.prototype.withAgeAndGender=function(){return new Nm(this,this.input)},n}(hh),fh=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Io(n,i),n.prototype.run=function(){return to(this,void 0,void 0,function(){var e,r;return no(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return(e=a.sent())?[4,Tm(e,this.input,function(c){return Ii.faceRecognitionNet.computeFaceDescriptor(c)},null,function(c){return c.landmarks.align(null,{useDlibAlignment:!0})})]:[2];case 2:return r=a.sent(),[2,Yv(e,r)]}})})},n.prototype.withFaceExpressions=function(){return new sd(this,this.input)},n.prototype.withAgeAndGender=function(){return new Kl(this,this.input)},n}(hh),r0=function(i){function n(e,r,a){var c=i.call(this)||this;return c.parentTask=e,c.input=r,c.useTinyLandmarkNet=a,c}return Io(n,i),Object.defineProperty(n.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?Ii.faceLandmark68TinyNet:Ii.faceLandmark68Net},enumerable:!0,configurable:!0}),n}(jf),sy=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Io(n,i),n.prototype.run=function(){return to(this,void 0,void 0,function(){var e,r,a,c,h,f=this;return no(this,function(m){switch(m.label){case 0:return[4,this.parentTask];case 1:return e=m.sent(),r=e.map(function(b){return b.detection}),this.input instanceof $r?[4,Ov(this.input,r)]:[3,3];case 2:return c=m.sent(),[3,5];case 3:return[4,Af(this.input,r)];case 4:c=m.sent(),m.label=5;case 5:return a=c,[4,Promise.all(a.map(function(b){return f.landmarkNet.detectLandmarks(b)}))];case 6:return h=m.sent(),a.forEach(function(b){return b instanceof $r&&b.dispose()}),[2,e.map(function(b,_){return Hv(b,h[_])})]}})})},n.prototype.withFaceExpressions=function(){return new Om(this,this.input)},n.prototype.withAgeAndGender=function(){return new Nm(this,this.input)},n.prototype.withFaceDescriptors=function(){return new ay(this,this.input)},n}(r0),bw=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Io(n,i),n.prototype.run=function(){return to(this,void 0,void 0,function(){var e,r,a,c,h;return no(this,function(f){switch(f.label){case 0:return[4,this.parentTask];case 1:return(e=f.sent())?(r=e.detection,this.input instanceof $r?[4,Ov(this.input,[r])]:[3,3]):[2];case 2:return c=f.sent(),[3,5];case 3:return[4,Af(this.input,[r])];case 4:c=f.sent(),f.label=5;case 5:return[4,this.landmarkNet.detectLandmarks((a=c)[0])];case 6:return h=f.sent(),a.forEach(function(m){return m instanceof $r&&m.dispose()}),[2,Hv(e,h)]}})})},n.prototype.withFaceExpressions=function(){return new sd(this,this.input)},n.prototype.withAgeAndGender=function(){return new Kl(this,this.input)},n.prototype.withFaceDescriptor=function(){return new fh(this,this.input)},n}(r0),ph=function(i){function n(e,r){void 0===r&&(r=new Dm);var a=i.call(this)||this;return a.input=e,a.options=r,a}return Io(n,i),n}(jf),yw=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Io(n,i),n.prototype.run=function(){return to(this,void 0,void 0,function(){var e,r,a,c;return no(this,function(h){switch(h.label){case 0:return r=(e=this).input,(a=e.options)instanceof Im?[4,Ii.mtcnn.forward(r,a)]:[3,2];case 1:return[2,h.sent().map(function(f){return f.detection})];case 2:if(!(c=a instanceof qv?function(f){return Ii.tinyFaceDetector.locateFaces(f,a)}:a instanceof Dm?function(f){return Ii.ssdMobilenetv1.locateFaces(f,a)}:a instanceof ah?function(f){return Ii.tinyYolov2.locateFaces(f,a)}:null))throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,c(r)]}})})},n.prototype.runAndExtendWithFaceDetections=function(){var e=this;return new Promise(function(r){return to(e,void 0,void 0,function(){var a;return no(this,function(c){switch(c.label){case 0:return[4,this.run()];case 1:return a=c.sent(),[2,r(a.map(function(h){return ru({},h)}))]}})})})},n.prototype.withFaceLandmarks=function(e){return void 0===e&&(e=!1),new sy(this.runAndExtendWithFaceDetections(),this.input,e)},n.prototype.withFaceExpressions=function(){return new Xl(this.runAndExtendWithFaceDetections(),this.input)},n.prototype.withAgeAndGender=function(){return new n0(this.runAndExtendWithFaceDetections(),this.input)},n}(ph),xw=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Io(n,i),n.prototype.run=function(){return to(this,void 0,void 0,function(){var e,r;return no(this,function(a){switch(a.label){case 0:return[4,new yw(this.input,this.options)];case 1:return e=a.sent(),r=e[0],e.forEach(function(c){c.score>r.score&&(r=c)}),[2,r]}})})},n.prototype.runAndExtendWithFaceDetection=function(){var e=this;return new Promise(function(r){return to(e,void 0,void 0,function(){var a;return no(this,function(c){switch(c.label){case 0:return[4,this.run()];case 1:return a=c.sent(),[2,r(a?ru({},a):void 0)]}})})})},n.prototype.withFaceLandmarks=function(e){return void 0===e&&(e=!1),new bw(this.runAndExtendWithFaceDetection(),this.input,e)},n.prototype.withFaceExpressions=function(){return new dh(this.runAndExtendWithFaceDetection(),this.input)},n.prototype.withAgeAndGender=function(){return new Wf(this.runAndExtendWithFaceDetection(),this.input)},n}(ph);function ly(i,n){return void 0===n&&(n=new Dm),new xw(i,n)}function mh(i,n){if(i.length!==n.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var e=Array.from(i),r=Array.from(n);return Math.sqrt(e.map(function(a,c){return a-r[c]}).reduce(function(a,c){return a+Math.pow(c,2)},0))}!function(){function i(n,e){void 0===e&&(e=.6),this._distanceThreshold=e;var r=Array.isArray(n)?n:[n];if(!r.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var a=1,c=function(){return"person "+a++};this._labeledDescriptors=r.map(function(h){if(h instanceof Ao)return h;if(h instanceof Float32Array)return new Ao(c(),[h]);if(h.descriptor&&h.descriptor instanceof Float32Array)return new Ao(c(),[h.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")})}Object.defineProperty(i.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),i.prototype.computeMeanDistance=function(n,e){return e.map(function(r){return mh(r,n)}).reduce(function(r,a){return r+a},0)/(e.length||1)},i.prototype.matchDescriptor=function(n){var e=this;return this.labeledDescriptors.map(function(r){return new Dv(r.label,e.computeMeanDistance(n,r.descriptors))}).reduce(function(r,a){return r.distance<a.distance?r:a})},i.prototype.findBestMatch=function(n){var e=this.matchDescriptor(n);return e.distance<this.distanceThreshold?e:new Dv("unknown",e.distance)},i.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map(function(n){return n.toJSON()})}},i.fromJSON=function(n){return new i(n.labeledDescriptors.map(function(r){return Ao.fromJSON(r)}),n.distanceThreshold)}}();var o0=B(4438);let uy=(()=>{var i;class n{constructor(){this.cache={},console.log()}loadNets(){return(0,x.A)(function*(){console.log("loadNets"),console.log("loading");try{console.log("init load"),yield Ii.ssdMobilenetv1.load("/assets/models"),yield Ii.faceLandmark68Net.load("/assets/models"),yield Ii.faceRecognitionNet.load("/assets/models"),console.log("end load")}catch(r){console.log({err:r})}})()}getFaceCrop(r){return(0,x.A)(function*(){return console.time("getFaceCrop"),new Promise(function(){var a=(0,x.A)(function*(c,h){console.time("fetchImage");const f=yield Sb(r);console.timeEnd("fetchImage"),console.time("detectSingleFace");const m=yield ly(f).withFaceLandmarks().withFaceDescriptor();if(console.timeEnd("detectSingleFace"),!m)return h("N\xe3o identificamos um rosto na imagem, capture uma nova imagem");const{box:b}=m.detection,_=b.width>250?b.width:250,I=b.height>250?b.height:250,D=_>I?{x:b.x,y:b.y-(_-b.height)/2,size:_}:I>_?{x:b.x-(I-b.width)/2,y:b.y,size:I}:{x:b.x-(I-b.width)/2,y:b.y-(_-b.height)/2,size:I};console.log({coords:D,boxWidth:_,boxHeight:I},b.width,b.height);const T=new Jd(D.x,D.y,D.size,D.size);console.time("extractFaces");const z=yield Af(f,[T]);console.timeEnd("extractFaces");const Q=z[0].toDataURL("image/jpeg");console.timeEnd("getFaceCrop"),c({face:Q,descriptor:m.descriptor})});return function(c,h){return a.apply(this,arguments)}}())})()}canvas2gray(r){if(!r||!r.width||!r.height)return;const a=r.getContext("2d"),c=a.getImageData(0,0,r.width,r.height),h=a.createImageData(r.width,r.height),f=c.data,m=h.data,b=f.length;let I,_=0;for(;_<b;_+=4)I=.2126*f[_]+.7152*f[_+1]+.0722*f[_+2],m[_]=m[_+1]=m[_+2]=I,m[_+3]=f[_+3];a.putImageData(h,0,0)}canvas2blob(r,a="image/jpeg",c=.97){return new Promise((h,f)=>{r||f("Empty canvas"),r.toBlob(h,a,c)})}matchPictures(r,a){var c=this;return(0,x.A)(function*(){return mh(yield c.getDescriptor(r),yield c.getDescriptor(a))})()}matchDescriptors(r,a){return(0,x.A)(function*(){return console.log({descriptor1:r,descriptor2:a}),mh(r,a)})()}getDescriptor(r){var a=this;return(0,x.A)(function*(){if(void 0===a.cache[r]){console.log({img:r});const c=yield Sb(r);console.log({input:c});const h=yield ly(c).withFaceLandmarks().withFaceDescriptor();console.log({results:h}),a.cache[r]=h.descriptor}else console.log("cached!");return console.log(a.cache[r]),a.cache[r]})()}b64ToBuf(r){return(0,x.A)(function*(){const a=atob(r),c=a.length/Float32Array.BYTES_PER_ELEMENT,h=new DataView(new ArrayBuffer(Float32Array.BYTES_PER_ELEMENT)),f=new Float32Array(c);let m=0;for(let b=0;b<c;b++)m=4*b,h.setUint8(0,a.charCodeAt(m)),h.setUint8(1,a.charCodeAt(m+1)),h.setUint8(2,a.charCodeAt(m+2)),h.setUint8(3,a.charCodeAt(m+3)),f[b]=h.getFloat32(0,!0);return f})()}bufToB64(r){return(0,x.A)(function*(){const a=new Uint8Array(r);return btoa(String.fromCharCode.apply(null,a))})()}}return(i=n).\u0275fac=function(r){return new(r||i)},i.\u0275prov=o0.jDH({token:i,factory:i.\u0275fac,providedIn:"root"}),n})()},9004:(Vn,At,B)=>{"use strict";B.d(At,{B:()=>qe});var x=B(467),g=B(4412),H=B(6354);class _e extends Error{}_e.prototype.name="InvalidTokenError";var se=B(1109),Ge=B(4438);let wt=(()=>{var Ne;class ot{constructor(){this.secretKey="65d4sv4vd4df321f1928*&*TGFCCC##@DX)YVUVJGC$%%DAFCJGCgjcjhfcs43@XDXGHCI\xa8F(6"}generateKey(Pe){var pe=this;return(0,x.A)(function*(){const vt=new TextEncoder,ct=yield window.crypto.subtle.importKey("raw",vt.encode(Pe||pe.secretKey),{name:"PBKDF2"},!1,["deriveKey"]);return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:vt.encode("salt"),iterations:1e5,hash:"SHA-256"},ct,{name:"AES-CBC",length:256},!0,["encrypt","decrypt"])})()}encryptText(Pe,pe){var vt=this;return(0,x.A)(function*(){const ct=window.crypto.getRandomValues(new Uint8Array(16)),Je=yield vt.generateKey(pe),Ce=new TextEncoder,$e=yield window.crypto.subtle.encrypt({name:"AES-CBC",iv:ct},Je,Ce.encode(Pe));return`${vt.arrayBufferToBase64(ct)}:${vt.arrayBufferToBase64($e)}`})()}decryptText(Pe,pe){var vt=this;return(0,x.A)(function*(){const[ct,Je]=Pe.split(":"),Ce=vt.base64ToArrayBuffer(ct),$e=yield vt.generateKey(pe),re=vt.base64ToArrayBuffer(Je),rt=yield window.crypto.subtle.decrypt({name:"AES-CBC",iv:Ce},$e,re);return(new TextDecoder).decode(rt)})()}encryptObj(Pe,pe){var vt=this;return(0,x.A)(function*(){const ct=JSON.stringify(Pe);return vt.encryptText(ct,pe)})()}decryptObj(Pe,pe){var vt=this;return(0,x.A)(function*(){const ct=yield vt.decryptText(Pe,pe);return JSON.parse(ct)})()}arrayBufferToBase64(Pe){let pe="";const vt=new Uint8Array(Pe);for(let ct=0;ct<vt.byteLength;ct++)pe+=String.fromCharCode(vt[ct]);return window.btoa(pe)}base64ToArrayBuffer(Pe){const pe=window.atob(Pe),vt=new Uint8Array(pe.length);for(let ct=0;ct<pe.length;ct++)vt[ct]=pe.charCodeAt(ct);return vt.buffer}}return(Ne=ot).\u0275fac=function(Pe){return new(Pe||Ne)},Ne.\u0275prov=Ge.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),ot})();var Oe=B(654),Se=function(Ne){return Ne[Ne.INFORMAR_VALOR=1]="INFORMAR_VALOR",Ne}(Se||{});let qe=(()=>{var Ne;class ot{constructor(Pe,pe){this.crypto=Pe,this.ionStorageSrv=pe,this._authLoginSubject=new g.t(null),this._keyStorage=se.p.LOGIN,this.initialize()}get authLoginValue(){return this._authLoginSubject.value}get authLoginToken$(){return this._authLoginSubject.asObservable()}get token$(){return this.authLoginToken$.pipe((0,H.T)(Pe=>Pe?Pe.token:null))}get token(){const Pe=this._authLoginSubject.value;return Pe?Pe.token:null}get authUser(){const Pe=this._authLoginSubject.value;return Pe?Pe.user:null}initialize(){var Pe=this;return(0,x.A)(function*(){yield Pe.ionStorageSrv.init();const pe=yield Pe.getAuthLoginDecypted();null!=Pe.getAuthLoginDecypted()&&Pe._authLoginSubject.next(pe)})()}authUserAuthorization(){const Pe=this._authLoginSubject.value,pe=[];if(Pe)for(const vt of Pe.permissions)"ATRESTAURANTECH_INFORMAR_VALOR"===vt&&pe.push(Se.INFORMAR_VALOR);return pe}get permissaoInformarValor(){return this.authUserAuthorization().includes(Se.INFORMAR_VALOR)}get existeAlgumaPermissao(){return this.authUserAuthorization().length>0}get dataToken(){return this.token?function ke(Ne,ot){if("string"!=typeof Ne)throw new _e("Invalid token specified: must be a string");ot||(ot={});const it=!0===ot.header?0:1,Pe=Ne.split(".")[it];if("string"!=typeof Pe)throw new _e(`Invalid token specified: missing part #${it+1}`);let pe;try{pe=function S(Ne){let ot=Ne.replace(/-/g,"+").replace(/_/g,"/");switch(ot.length%4){case 0:break;case 2:ot+="==";break;case 3:ot+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function J(Ne){return decodeURIComponent(atob(Ne).replace(/(.)/g,(ot,it)=>{let Pe=it.charCodeAt(0).toString(16).toUpperCase();return Pe.length<2&&(Pe="0"+Pe),"%"+Pe}))}(ot)}catch{return atob(ot)}}(Pe)}catch(vt){throw new _e(`Invalid token specified: invalid base64 for part #${it+1} (${vt.message})`)}try{return JSON.parse(pe)}catch(vt){throw new _e(`Invalid token specified: invalid json for part #${it+1} (${vt.message})`)}}(this.token):null}get uniqueName(){const Pe=this.dataToken;return Pe?Pe.unique_name:null}get userId(){const Pe=this.dataToken;return Pe?Pe.UserId:null}get funcionarioId(){const Pe=this.dataToken;return Pe?Number(Pe.FuncionarioId):null}get setorId(){const Pe=this.dataToken;return Pe&&Pe.SetorId?Number(Pe.SetorId):null}get exp(){const Pe=this.dataToken;return Pe?Pe.exp:null}setAuthLogin(Pe){this.saveAuthLoginToLocalStorage(Pe),this._authLoginSubject.next(Pe)}isLogged(){var Pe=this;return(0,x.A)(function*(){return yield Pe.ionStorageSrv.init(),null!=(yield Pe.ionStorageSrv.get(Pe._keyStorage))})()}clearToken(){var Pe=this;return(0,x.A)(function*(){Pe._authLoginSubject.next(null),Pe.removeAuthLoginFromLocalStorage()})()}getAuthLoginDecypted(){var Pe=this;return(0,x.A)(function*(){const pe=yield Pe.ionStorageSrv.get(Pe._keyStorage);return pe?yield Pe.crypto.decryptObj(pe):null})()}saveAuthLoginToLocalStorage(Pe){var pe=this;return(0,x.A)(function*(){const vt=yield pe.crypto.encryptObj(Pe);pe.ionStorageSrv.set(pe._keyStorage,vt)})()}removeAuthLoginFromLocalStorage(){this.ionStorageSrv.remove(this._keyStorage)}}return(Ne=ot).\u0275fac=function(Pe){return new(Pe||Ne)(Ge.KVO(wt),Ge.KVO(Oe.X))},Ne.\u0275prov=Ge.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),ot})()},654:(Vn,At,B)=>{"use strict";B.d(At,{X:()=>_e});var x=B(467),g=B(4438),H=B(369);let _e=(()=>{var J;class S{constructor(se){this.storage=se,this._storage=null,this.init()}init(){var se=this;return(0,x.A)(function*(){if(!se._storage)try{const Ge=yield se.storage.create();se._storage=Ge}catch(Ge){console.error("Erro ao inicializar o Storage:",Ge)}})()}set(se,Ge){var wt;null===(wt=this._storage)||void 0===wt||wt.set(se,Ge)}get(se){var Ge=this;return(0,x.A)(function*(){var wt;return yield null===(wt=Ge._storage)||void 0===wt?void 0:wt.get(se)})()}remove(se){var Ge;null===(Ge=this._storage)||void 0===Ge||Ge.remove(se)}}return(J=S).\u0275fac=function(se){return new(se||J)(g.KVO(H.w))},J.\u0275prov=g.jDH({token:J,factory:J.\u0275fac,providedIn:"root"}),S})()},1109:(Vn,At,B)=>{"use strict";B.d(At,{p:()=>x});var x=function(g){return g.LOGIN="loginAuth_Frota",g.BASEAPI="baseUrl_Frota",g}(x||{})},5784:(Vn,At,B)=>{"use strict";B.d(At,{S:()=>x});let x=(()=>{var g;class H{static getPath(J,S){let ke=J.path;return S&&Object.keys(S).forEach(se=>{ke=ke.replace(`:${se}`,S[se])}),ke}}return(g=H).home={name:"Home",path:"/home"},g.login={name:"Login",path:"/login"},g.list={name:"Lista",path:"/list"},g.form={name:"Iniciar percurso",path:"/form"},g.formEdit={name:"Iniciar percurso",path:"/form/:id"},g.formClose={name:"Finalizar percurso",path:"/form/:id/close"},g.finish={name:"Percurso finalizado",path:"/finish/:id"},g.profile={name:"Profile",path:"profile/:id"},H})()},5229:(Vn,At,B)=>{"use strict";var x=B(345),g=B(2902),H=B(8880),_e=B(9795),J=B(467),S=B(4438),ke=B(7673),se=B(9004),Ge=B(4742);const wt=function(){var bt=(0,J.A)(function*(){const jt=(0,S.WQX)(se.B),vn=(0,S.WQX)(g.Ix),gn=(0,S.WQX)(Ge.hG);if(yield jt.isLogged()){for(let Ut=0;Ut<5;Ut++){if(jt.permissaoInformarValor)return!0;yield new Promise(ye=>setTimeout(ye,100))}yield(yield gn.create({header:"SEM ACESSO",message:"Usu\xe1rio sem permiss\xe3o para acessar Restaurantech",buttons:[{text:"Ok",handler:()=>(jt.clearToken(),vn.navigate(["/"]),(0,ke.of)(!1))}]})).present()}return jt.clearToken(),vn.navigate(["/"]),(0,ke.of)(!1)});return function(){return bt.apply(this,arguments)}}();var Oe=B(5784);const qe=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"",canActivateChild:[wt],children:[{path:"home",loadComponent:()=>Promise.all([B.e(5990),B.e(9313),B.e(2076),B.e(8882)]).then(B.bind(B,8882)).then(bt=>bt.HomePage)},{path:"list",loadComponent:()=>Promise.all([B.e(5990),B.e(4519),B.e(1717)]).then(B.bind(B,1717)).then(bt=>bt.ListPage)},{path:"form",loadComponent:()=>Promise.all([B.e(5990),B.e(4519),B.e(2076),B.e(3098)]).then(B.bind(B,3098)).then(bt=>bt.FormPage)},{path:"form/:id",loadComponent:()=>Promise.all([B.e(5990),B.e(4519),B.e(2076),B.e(3098)]).then(B.bind(B,3098)).then(bt=>bt.FormPage)},{path:"form/:id/close",loadComponent:()=>Promise.all([B.e(5990),B.e(4519),B.e(2076),B.e(3098)]).then(B.bind(B,3098)).then(bt=>bt.FormPage)},{path:"finish/:id",loadComponent:()=>Promise.all([B.e(5990),B.e(4519),B.e(2076),B.e(8335)]).then(B.bind(B,8105)).then(bt=>bt.FinishPage)}]},{path:"login",canActivate:[function(){var bt=(0,J.A)(function*(){const jt=(0,S.WQX)(se.B),vn=(0,S.WQX)(g.Ix);return!(yield jt.isLogged())||(vn.navigate([Oe.S.home.path]),(0,ke.of)(!1))});return function(){return bt.apply(this,arguments)}}()],loadComponent:()=>Promise.all([B.e(5990),B.e(9313),B.e(2076),B.e(2399)]).then(B.bind(B,2399)).then(bt=>bt.LoginPage)}];var Ne=B(4401);let ot=(()=>{var bt;class jt{constructor(gn,mt){this.loadingCtrl=gn,this.faceService=mt}ngOnInit(){var gn=this;return(0,J.A)(function*(){const mt=yield gn.loadingCtrl.create();yield mt.present(),yield gn.faceService.loadNets(),yield mt.dismiss()})()}}return(bt=jt).\u0275fac=function(gn){return new(gn||bt)(S.rXU(Ge.Xi),S.rXU(Ne.R))},bt.\u0275cmp=S.VBU({type:bt,selectors:[["app-root"]],standalone:!0,features:[S.aNF],decls:2,vars:0,template:function(gn,mt){1&gn&&(S.j41(0,"ion-app"),S.nrm(1,"ion-router-outlet"),S.k0s())},dependencies:[_e.U1,_e.Rg],encapsulation:2}),jt})();var it=B(1626),Pe=B(177),pe=B(369);const vt=new S.nKC("STORAGE_CONFIG_TOKEN");class ct extends pe.w{constructor(){super()}create(){var jt=this;return(0,J.A)(function*(){return jt})()}defineDriver(){return(0,J.A)(function*(){})()}get driver(){return"noop"}get(jt){return(0,J.A)(function*(){return null})()}set(jt,vn){return(0,J.A)(function*(){})()}remove(jt){return(0,J.A)(function*(){})()}clear(){return(0,J.A)(function*(){})()}length(){return(0,J.A)(function*(){return 0})()}keys(){return(0,J.A)(function*(){return[]})()}forEach(jt){return(0,J.A)(function*(){})()}setEncryptionKey(jt){}}function Je(bt,jt){return(0,Pe.Vy)(bt)?new ct:new pe.w(jt)}let Ce=(()=>{class bt{static forRoot(vn=null){return{ngModule:bt,providers:[{provide:vt,useValue:vn},{provide:pe.w,useFactory:Je,deps:[S.Agw,vt]}]}}}return bt.\u0275fac=function(vn){return new(vn||bt)},bt.\u0275mod=S.$C({type:bt}),bt.\u0275inj=S.G2t({}),bt})();var $e=B(6697),re=B(5558);const Dt=void 0,je=["pt",[["AM","PM"],Dt,Dt],Dt,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."],["domingo","segunda-feira","ter\xe7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xe1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."]],Dt,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],Dt,[["a.C.","d.C."],Dt,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",Dt,Dt,Dt],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4\xa0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],BYN:[Dt,"\u0440."],JPY:["JP\xa5","\xa5"],PHP:[Dt,"\u20b1"],PTE:["Esc."],RON:[Dt,"L"],SYP:[Dt,"S\xa3"],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"]},"ltr",function Ke(bt){const vn=Math.floor(Math.abs(bt)),gn=bt.toString().replace(/^[^.]*\.?/,"").length,mt=parseInt(bt.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return vn===Math.floor(vn)&&vn>=0&&vn<=1?1:0===mt&&0!==vn&&vn%1e6==0&&0===gn||!(mt>=0&&mt<=5)?4:5}];var Lt=B(9030),Bt=B(8810),Xn=B(3726),tn=B(8793),Kn=B(1413),lr=B(1985),ut=B(5343);const Ue=new lr.c(ut.l);var de=B(6365),Ae=B(8750),Et=B(983),Mt=B(9326),Ft=B(6648);function ln(...bt){const jt=(0,Mt.lI)(bt),vn=(0,Mt.R0)(bt,1/0),gn=bt;return gn.length?1===gn.length?(0,Ae.Tg)(gn[0]):(0,de.U)(vn)((0,Ft.H)(gn,jt)):Et.w}var Xt=B(6354),dr=B(5964),er=B(17),wn=B(8071),wr=B(9974);const hr={connector:()=>new Kn.B};function Ar(bt,jt=hr){const{connector:vn}=jt;return(0,wr.N)((gn,mt)=>{const He=vn();(0,Ae.Tg)(bt(function Xr(bt){return new lr.c(jt=>bt.subscribe(jt))}(He))).subscribe(mt),mt.add(gn.subscribe(He))})}var Kr=B(8141),yn=B(8359);class en extends yn.yU{constructor(jt,vn){super()}schedule(jt,vn=0){return this}}const rn={setInterval(bt,jt,...vn){const{delegate:gn}=rn;return null!=gn&&gn.setInterval?gn.setInterval(bt,jt,...vn):setInterval(bt,jt,...vn)},clearInterval(bt){const{delegate:jt}=rn;return((null==jt?void 0:jt.clearInterval)||clearInterval)(bt)},delegate:void 0};var Kt=B(7908);const Tr={now:()=>(Tr.delegate||Date).now(),delegate:void 0};class sr{constructor(jt,vn=sr.now){this.schedulerActionCtor=jt,this.now=vn}schedule(jt,vn=0,gn){return new this.schedulerActionCtor(this,jt).schedule(gn,vn)}}sr.now=Tr.now;const uo=new class fr extends sr{constructor(jt,vn=sr.now){super(jt,vn),this.actions=[],this._active=!1}flush(jt){const{actions:vn}=this;if(this._active)return void vn.push(jt);let gn;this._active=!0;do{if(gn=jt.execute(jt.state,jt.delay))break}while(jt=vn.shift());if(this._active=!1,gn){for(;jt=vn.shift();)jt.unsubscribe();throw gn}}}(class Br extends en{constructor(jt,vn){super(jt,vn),this.scheduler=jt,this.work=vn,this.pending=!1}schedule(jt,vn=0){var gn;if(this.closed)return this;this.state=jt;const mt=this.id,He=this.scheduler;return null!=mt&&(this.id=this.recycleAsyncId(He,mt,vn)),this.pending=!0,this.delay=vn,this.id=null!==(gn=this.id)&&void 0!==gn?gn:this.requestAsyncId(He,this.id,vn),this}requestAsyncId(jt,vn,gn=0){return rn.setInterval(jt.flush.bind(jt,this),gn)}recycleAsyncId(jt,vn,gn=0){if(null!=gn&&this.delay===gn&&!1===this.pending)return vn;null!=vn&&rn.clearInterval(vn)}execute(jt,vn){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const gn=this._execute(jt,vn);if(gn)return gn;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(jt,vn){let mt,gn=!1;try{this.work(jt)}catch(He){gn=!0,mt=He||new Error("Scheduled action threw falsy error")}if(gn)return this.unsubscribe(),mt}unsubscribe(){if(!this.closed){const{id:jt,scheduler:vn}=this,{actions:gn}=vn;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Kt.o)(gn,this),null!=jt&&(this.id=this.recycleAsyncId(vn,jt,null)),this.delay=null,super.unsubscribe()}}}),ho=uo;var Vr=B(4360),Hr=B(3703),zr=B(1397);function Jr(bt,jt){return jt?vn=>(0,tn.x)(jt.pipe((0,$e.s)(1),function ko(){return(0,wr.N)((bt,jt)=>{bt.subscribe((0,Vr._)(jt,ut.l))})}()),vn.pipe(Jr(bt))):(0,zr.Z)((vn,gn)=>(0,Ae.Tg)(bt(vn,gn)).pipe((0,$e.s)(1),(0,Hr.u)(vn)))}var xo=B(9470);const io="Service workers are disabled or not supported by this browser";class Ir{constructor(jt){if(this.serviceWorker=jt,jt){const gn=(0,Xn.R)(jt,"controllerchange").pipe((0,Xt.T)(()=>jt.controller)),mt=(0,Lt.v)(()=>(0,ke.of)(jt.controller)),He=(0,tn.x)(mt,gn);this.worker=He.pipe((0,dr.p)(cn=>!!cn)),this.registration=this.worker.pipe((0,re.n)(()=>jt.getRegistration()));const zt=(0,Xn.R)(jt,"message").pipe((0,Xt.T)(cn=>cn.data)).pipe((0,dr.p)(cn=>cn&&cn.type)).pipe(function pr(bt){return bt?jt=>Ar(bt)(jt):jt=>function xr(bt,jt){const vn=(0,wn.T)(bt)?bt:()=>bt;return(0,wn.T)(jt)?Ar(jt,{connector:vn}):gn=>new er.G(gn,vn)}(new Kn.B)(jt)}());zt.connect(),this.events=zt}else this.worker=this.events=this.registration=function nn(bt){return(0,Lt.v)(()=>(0,Bt.$)(new Error(bt)))}(io)}postMessage(jt,vn){return this.worker.pipe((0,$e.s)(1),(0,Kr.M)(gn=>{gn.postMessage({action:jt,...vn})})).toPromise().then(()=>{})}postMessageWithOperation(jt,vn,gn){const mt=this.waitForOperationCompleted(gn),He=this.postMessage(jt,vn);return Promise.all([He,mt]).then(([,Ut])=>Ut)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(jt){let vn;return vn="string"==typeof jt?gn=>gn.type===jt:gn=>jt.includes(gn.type),this.events.pipe((0,dr.p)(vn))}nextEventOfType(jt){return this.eventsOfType(jt).pipe((0,$e.s)(1))}waitForOperationCompleted(jt){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,dr.p)(vn=>vn.nonce===jt),(0,$e.s)(1),(0,Xt.T)(vn=>{if(void 0!==vn.result)return vn.result;throw new Error(vn.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let $r=(()=>{var bt;class jt{get isEnabled(){return this.sw.isEnabled}constructor(gn){if(this.sw=gn,this.pushManager=null,this.subscriptionChanges=new Kn.B,!gn.isEnabled)return this.messages=Ue,this.notificationClicks=Ue,void(this.subscription=Ue);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Xt.T)(He=>He.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Xt.T)(He=>He.data)),this.pushManager=this.sw.registration.pipe((0,Xt.T)(He=>He.pushManager));const mt=this.pushManager.pipe((0,re.n)(He=>He.getSubscription()));this.subscription=ln(mt,this.subscriptionChanges)}requestSubscription(gn){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(io));const mt={userVisibleOnly:!0};let He=this.decodeBase64(gn.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),Ut=new Uint8Array(new ArrayBuffer(He.length));for(let ye=0;ye<He.length;ye++)Ut[ye]=He.charCodeAt(ye);return mt.applicationServerKey=Ut,this.pushManager.pipe((0,re.n)(ye=>ye.subscribe(mt)),(0,$e.s)(1)).toPromise().then(ye=>(this.subscriptionChanges.next(ye),ye))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,$e.s)(1),(0,re.n)(mt=>{if(null===mt)throw new Error("Not subscribed to push notifications.");return mt.unsubscribe().then(He=>{if(!He)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(io))}decodeBase64(gn){return atob(gn)}}return(bt=jt).\u0275fac=function(gn){return new(gn||bt)(S.KVO(Ir))},bt.\u0275prov=S.jDH({token:bt,factory:bt.\u0275fac}),jt})(),lo=(()=>{var bt;class jt{get isEnabled(){return this.sw.isEnabled}constructor(gn){if(this.sw=gn,!gn.isEnabled)return this.versionUpdates=Ue,void(this.unrecoverable=Ue);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(io));const gn=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:gn},gn)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(io));const gn=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:gn},gn)}}return(bt=jt).\u0275fac=function(gn){return new(gn||bt)(S.KVO(Ir))},bt.\u0275prov=S.jDH({token:bt,factory:bt.\u0275fac}),jt})();const Qt=new S.nKC("");function Pt(bt,jt,vn,gn){return()=>{if(!(0,Pe.UE)(gn)||!("serviceWorker"in navigator)||!1===vn.enabled)return;const mt=bt.get(S.SKi),He=bt.get(S.o8S);let Ut;if(mt.runOutsideAngular(()=>{const ye=navigator.serviceWorker,le=()=>{var zt;return null===(zt=ye.controller)||void 0===zt?void 0:zt.postMessage({action:"INITIALIZE"})};ye.addEventListener("controllerchange",le),He.onDestroy(()=>{ye.removeEventListener("controllerchange",le)})}),"function"==typeof vn.registrationStrategy)Ut=vn.registrationStrategy();else{const[ye,...le]=(vn.registrationStrategy||"registerWhenStable:30000").split(":");switch(ye){case"registerImmediately":Ut=(0,ke.of)(null);break;case"registerWithDelay":Ut=sn(+le[0]||0);break;case"registerWhenStable":const zt=(0,Ft.H)(bt.get(S.o8S).whenStable());Ut=le[0]?ln(zt,sn(+le[0])):zt;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${vn.registrationStrategy}`)}}mt.runOutsideAngular(()=>Ut.pipe((0,$e.s)(1)).subscribe(()=>navigator.serviceWorker.register(jt,{scope:vn.scope}).catch(ye=>console.error("Service worker registration failed with:",ye))))}}function sn(bt){return(0,ke.of)(null).pipe(function Lr(bt,jt=uo){const vn=function To(bt=0,jt,vn=ho){let gn=-1;return null!=jt&&((0,xo.m)(jt)?vn=jt:gn=jt),new lr.c(mt=>{let He=function Er(bt){return bt instanceof Date&&!isNaN(bt)}(bt)?+bt-vn.now():bt;He<0&&(He=0);let Ut=0;return vn.schedule(function(){mt.closed||(mt.next(Ut++),0<=gn?this.schedule(void 0,gn):mt.complete())},He)})}(bt,jt);return Jr(()=>vn)}(bt))}function _t(bt,jt){return new Ir((0,Pe.UE)(jt)&&!1!==bt.enabled?navigator.serviceWorker:void 0)}class Tt{}(0,Pe.EO)(je),(0,x.B8)(ot,{providers:[{provide:g.b,useClass:H.jM},(0,S.oKB)([Ge.bv.forRoot({}),Ce.forRoot()]),(0,_e._H)(),(0,it.$R)((0,it.b$)([(bt,jt)=>{const vn=(0,S.WQX)(se.B);return console.log("oi interceptador (funcional)"),vn.token$.pipe((0,$e.s)(1),(0,re.n)(gn=>{if(gn){const mt=bt.clone({setHeaders:{Authorization:"Bearer "+gn,"Content-Type":"application/json; charset=utf-8"}});return jt(mt)}{const mt=bt.clone({setHeaders:{"Content-Type":"application/json; charset=utf-8"}});return jt(mt)}}))}])),(0,g.lh)(qe,(0,g.Sn)(g.Kp)),{provide:S.xe9,useValue:"pt-BR"},function _n(bt,jt={}){return(0,S.EmA)([$r,lo,{provide:Qt,useValue:bt},{provide:Tt,useValue:jt},{provide:Ir,useFactory:_t,deps:[Tt,S.Agw]},{provide:S.hnV,useFactory:Pt,deps:[S.zZn,Qt,Tt,S.Agw],multi:!0}])}("ngsw-worker.js",{enabled:!(0,S.naY)(),registrationStrategy:"registerWhenStable:30000"})]})},119:Vn=>{Vn.exports=function g(H,_e,J){function S(Ge,wt){if(!_e[Ge]){if(!H[Ge]){if(ke)return ke(Ge,!0);var Se=new Error("Cannot find module '"+Ge+"'");throw Se.code="MODULE_NOT_FOUND",Se}var qe=_e[Ge]={exports:{}};H[Ge][0].call(qe.exports,function(Ne){return S(H[Ge][1][Ne]||Ne)},qe,qe.exports,g,H,_e,J)}return _e[Ge].exports}for(var ke=void 0,se=0;se<J.length;se++)S(J[se]);return S}({1:[function(g,H,_e){(function(J){"use strict";var ke,S=J.MutationObserver||J.WebKitMutationObserver;if(S){var se=0,Ge=new S(Ne),wt=J.document.createTextNode("");Ge.observe(wt,{characterData:!0}),ke=function(){wt.data=se=++se%2}}else if(!J.setImmediate&&typeof J.MessageChannel<"u"){var Oe=new J.MessageChannel;Oe.port1.onmessage=Ne,ke=function(){Oe.port2.postMessage(0)}}else ke="document"in J&&"onreadystatechange"in J.document.createElement("script")?function(){var it=J.document.createElement("script");it.onreadystatechange=function(){Ne(),it.onreadystatechange=null,it.parentNode.removeChild(it),it=null},J.document.documentElement.appendChild(it)}:function(){setTimeout(Ne,0)};var Se,qe=[];function Ne(){Se=!0;for(var it,Pe,pe=qe.length;pe;){for(Pe=qe,qe=[],it=-1;++it<pe;)Pe[it]();pe=qe.length}Se=!1}H.exports=function ot(it){1===qe.push(it)&&!Se&&ke()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(g,H,_e){"use strict";var J=g(1);function S(){}var ke={},se=["REJECTED"],Ge=["FULFILLED"],wt=["PENDING"];function Oe(Je){if("function"!=typeof Je)throw new TypeError("resolver must be a function");this.state=wt,this.queue=[],this.outcome=void 0,Je!==S&&ot(this,Je)}function Se(Je,Ce,$e){this.promise=Je,"function"==typeof Ce&&(this.onFulfilled=Ce,this.callFulfilled=this.otherCallFulfilled),"function"==typeof $e&&(this.onRejected=$e,this.callRejected=this.otherCallRejected)}function qe(Je,Ce,$e){J(function(){var re;try{re=Ce($e)}catch(rt){return ke.reject(Je,rt)}re===Je?ke.reject(Je,new TypeError("Cannot resolve promise with itself")):ke.resolve(Je,re)})}function Ne(Je){var Ce=Je&&Je.then;if(Je&&("object"==typeof Je||"function"==typeof Je)&&"function"==typeof Ce)return function(){Ce.apply(Je,arguments)}}function ot(Je,Ce){var $e=!1;function re(je){$e||($e=!0,ke.reject(Je,je))}function rt(je){$e||($e=!0,ke.resolve(Je,je))}var Ke=it(function Dt(){Ce(rt,re)});"error"===Ke.status&&re(Ke.value)}function it(Je,Ce){var $e={};try{$e.value=Je(Ce),$e.status="success"}catch(re){$e.status="error",$e.value=re}return $e}H.exports=Oe,Oe.prototype.catch=function(Je){return this.then(null,Je)},Oe.prototype.then=function(Je,Ce){if("function"!=typeof Je&&this.state===Ge||"function"!=typeof Ce&&this.state===se)return this;var $e=new this.constructor(S);return this.state!==wt?qe($e,this.state===Ge?Je:Ce,this.outcome):this.queue.push(new Se($e,Je,Ce)),$e},Se.prototype.callFulfilled=function(Je){ke.resolve(this.promise,Je)},Se.prototype.otherCallFulfilled=function(Je){qe(this.promise,this.onFulfilled,Je)},Se.prototype.callRejected=function(Je){ke.reject(this.promise,Je)},Se.prototype.otherCallRejected=function(Je){qe(this.promise,this.onRejected,Je)},ke.resolve=function(Je,Ce){var $e=it(Ne,Ce);if("error"===$e.status)return ke.reject(Je,$e.value);var re=$e.value;if(re)ot(Je,re);else{Je.state=Ge,Je.outcome=Ce;for(var rt=-1,Dt=Je.queue.length;++rt<Dt;)Je.queue[rt].callFulfilled(Ce)}return Je},ke.reject=function(Je,Ce){Je.state=se,Je.outcome=Ce;for(var $e=-1,re=Je.queue.length;++$e<re;)Je.queue[$e].callRejected(Ce);return Je},Oe.resolve=function Pe(Je){return Je instanceof this?Je:ke.resolve(new this(S),Je)},Oe.reject=function pe(Je){var Ce=new this(S);return ke.reject(Ce,Je)},Oe.all=function vt(Je){var Ce=this;if("[object Array]"!==Object.prototype.toString.call(Je))return this.reject(new TypeError("must be an array"));var $e=Je.length,re=!1;if(!$e)return this.resolve([]);for(var rt=new Array($e),Dt=0,Ke=-1,je=new this(S);++Ke<$e;)Lt(Je[Ke],Ke);return je;function Lt(Bt,Xn){Ce.resolve(Bt).then(function tn(Kn){rt[Xn]=Kn,++Dt===$e&&!re&&(re=!0,ke.resolve(je,rt))},function(Kn){re||(re=!0,ke.reject(je,Kn))})}},Oe.race=function ct(Je){var Ce=this;if("[object Array]"!==Object.prototype.toString.call(Je))return this.reject(new TypeError("must be an array"));var $e=Je.length,re=!1;if(!$e)return this.resolve([]);for(var rt=-1,Dt=new this(S);++rt<$e;)Ce.resolve(Je[rt]).then(function(Lt){re||(re=!0,ke.resolve(Dt,Lt))},function(Lt){re||(re=!0,ke.reject(Dt,Lt))});return Dt}},{1:1}],3:[function(g,H,_e){(function(J){"use strict";"function"!=typeof J.Promise&&(J.Promise=g(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(g,H,_e){"use strict";var J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ae){return typeof ae}:function(ae){return ae&&"function"==typeof Symbol&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae};var se=function ke(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}();function wt(ae,Le){ae=ae||[],Le=Le||{};try{return new Blob(ae,Le)}catch(yt){if("TypeError"!==yt.name)throw yt;for(var Xe=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),nt=0;nt<ae.length;nt+=1)Xe.append(ae[nt]);return Xe.getBlob(Le.type)}}typeof Promise>"u"&&g(3);var Oe=Promise;function Se(ae,Le){Le&&ae.then(function(Ie){Le(null,Ie)},function(Ie){Le(Ie)})}function qe(ae,Le,Ie){"function"==typeof Le&&ae.then(Le),"function"==typeof Ie&&ae.catch(Ie)}function Ne(ae){return"string"!=typeof ae&&(console.warn(ae+" used as a key, but it is not a string."),ae=String(ae)),ae}function ot(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var it="local-forage-detect-blob-support",Pe=void 0,pe={},vt=Object.prototype.toString,ct="readonly",Je="readwrite";function Ce(ae){for(var Le=ae.length,Ie=new ArrayBuffer(Le),Xe=new Uint8Array(Ie),nt=0;nt<Le;nt++)Xe[nt]=ae.charCodeAt(nt);return Ie}function re(ae){return"boolean"==typeof Pe?Oe.resolve(Pe):function $e(ae){return new Oe(function(Le){var Ie=ae.transaction(it,Je),Xe=wt([""]);Ie.objectStore(it).put(Xe,"key"),Ie.onabort=function(nt){nt.preventDefault(),nt.stopPropagation(),Le(!1)},Ie.oncomplete=function(){var nt=navigator.userAgent.match(/Chrome\/(\d+)/),yt=navigator.userAgent.match(/Edge\//);Le(yt||!nt||parseInt(nt[1],10)>=43)}}).catch(function(){return!1})}(ae).then(function(Le){return Pe=Le})}function rt(ae){var Le=pe[ae.name],Ie={};Ie.promise=new Oe(function(Xe,nt){Ie.resolve=Xe,Ie.reject=nt}),Le.deferredOperations.push(Ie),Le.dbReady=Le.dbReady?Le.dbReady.then(function(){return Ie.promise}):Ie.promise}function Dt(ae){var Ie=pe[ae.name].deferredOperations.pop();if(Ie)return Ie.resolve(),Ie.promise}function Ke(ae,Le){var Xe=pe[ae.name].deferredOperations.pop();if(Xe)return Xe.reject(Le),Xe.promise}function je(ae,Le){return new Oe(function(Ie,Xe){if(pe[ae.name]=pe[ae.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},ae.db){if(!Le)return Ie(ae.db);rt(ae),ae.db.close()}var nt=[ae.name];Le&&nt.push(ae.version);var yt=se.open.apply(se,nt);Le&&(yt.onupgradeneeded=function($t){var fn=yt.result;try{fn.createObjectStore(ae.storeName),$t.oldVersion<=1&&fn.createObjectStore(it)}catch(Rn){if("ConstraintError"!==Rn.name)throw Rn;console.warn('The database "'+ae.name+'" has been upgraded from version '+$t.oldVersion+" to version "+$t.newVersion+', but the storage "'+ae.storeName+'" already exists.')}}),yt.onerror=function($t){$t.preventDefault(),Xe(yt.error)},yt.onsuccess=function(){var $t=yt.result;$t.onversionchange=function(fn){fn.target.close()},Ie($t),Dt(ae)}})}function Lt(ae){return je(ae,!1)}function Bt(ae){return je(ae,!0)}function Xn(ae,Le){if(!ae.db)return!0;var Ie=!ae.db.objectStoreNames.contains(ae.storeName),nt=ae.version>ae.db.version;if(ae.version<ae.db.version&&(ae.version!==Le&&console.warn('The database "'+ae.name+"\" can't be downgraded from version "+ae.db.version+" to version "+ae.version+"."),ae.version=ae.db.version),nt||Ie){if(Ie){var yt=ae.db.version+1;yt>ae.version&&(ae.version=yt)}return!0}return!1}function Kn(ae){return wt([Ce(atob(ae.data))],{type:ae.type})}function lr(ae){return ae&&ae.__local_forage_encoded_blob}function ut(ae){var Le=this,Ie=Le._initReady().then(function(){var Xe=pe[Le._dbInfo.name];if(Xe&&Xe.dbReady)return Xe.dbReady});return qe(Ie,ae,ae),Ie}function ce(ae,Le,Ie,Xe){void 0===Xe&&(Xe=1);try{var nt=ae.db.transaction(ae.storeName,Le);Ie(null,nt)}catch(yt){if(Xe>0&&(!ae.db||"InvalidStateError"===yt.name||"NotFoundError"===yt.name))return Oe.resolve().then(function(){if(!ae.db||"NotFoundError"===yt.name&&!ae.db.objectStoreNames.contains(ae.storeName)&&ae.version<=ae.db.version)return ae.db&&(ae.version=ae.db.version+1),Bt(ae)}).then(function(){return function Ue(ae){rt(ae);for(var Le=pe[ae.name],Ie=Le.forages,Xe=0;Xe<Ie.length;Xe++){var nt=Ie[Xe];nt._dbInfo.db&&(nt._dbInfo.db.close(),nt._dbInfo.db=null)}return ae.db=null,Lt(ae).then(function(yt){return ae.db=yt,Xn(ae)?Bt(ae):yt}).then(function(yt){ae.db=Le.db=yt;for(var $t=0;$t<Ie.length;$t++)Ie[$t]._dbInfo.db=yt}).catch(function(yt){throw Ke(ae,yt),yt})}(ae).then(function(){ce(ae,Le,Ie,Xe-1)})}).catch(Ie);Ie(yt)}}var Xr={_driver:"asyncStorage",_initStorage:function Ae(ae){var Le=this,Ie={db:null};if(ae)for(var Xe in ae)Ie[Xe]=ae[Xe];var nt=pe[Ie.name];nt||(pe[Ie.name]=nt={forages:[],db:null,dbReady:null,deferredOperations:[]}),nt.forages.push(Le),Le._initReady||(Le._initReady=Le.ready,Le.ready=ut);var yt=[];function $t(){return Oe.resolve()}for(var fn=0;fn<nt.forages.length;fn++){var Rn=nt.forages[fn];Rn!==Le&&yt.push(Rn._initReady().catch($t))}var kn=nt.forages.slice(0);return Oe.all(yt).then(function(){return Ie.db=nt.db,Lt(Ie)}).then(function(xn){return Ie.db=xn,Xn(Ie,Le._defaultConfig.version)?Bt(Ie):xn}).then(function(xn){Ie.db=nt.db=xn,Le._dbInfo=Ie;for(var tr=0;tr<kn.length;tr++){var Cr=kn[tr];Cr!==Le&&(Cr._dbInfo.db=Ie.db,Cr._dbInfo.version=Ie.version)}})},_support:function Ge(){try{if(!se||!se.open)return!1;var ae=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Le="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!ae||Le)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}(),iterate:function Mt(ae,Le){var Ie=this,Xe=new Oe(function(nt,yt){Ie.ready().then(function(){ce(Ie._dbInfo,ct,function($t,fn){if($t)return yt($t);try{var kn=fn.objectStore(Ie._dbInfo.storeName).openCursor(),xn=1;kn.onsuccess=function(){var tr=kn.result;if(tr){var Cr=tr.value;lr(Cr)&&(Cr=Kn(Cr));var mr=ae(Cr,tr.key,xn++);void 0!==mr?nt(mr):tr.continue()}else nt()},kn.onerror=function(){yt(kn.error)}}catch(tr){yt(tr)}})}).catch(yt)});return Se(Xe,Le),Xe},getItem:function Et(ae,Le){var Ie=this;ae=Ne(ae);var Xe=new Oe(function(nt,yt){Ie.ready().then(function(){ce(Ie._dbInfo,ct,function($t,fn){if($t)return yt($t);try{var kn=fn.objectStore(Ie._dbInfo.storeName).get(ae);kn.onsuccess=function(){var xn=kn.result;void 0===xn&&(xn=null),lr(xn)&&(xn=Kn(xn)),nt(xn)},kn.onerror=function(){yt(kn.error)}}catch(xn){yt(xn)}})}).catch(yt)});return Se(Xe,Le),Xe},setItem:function Ft(ae,Le,Ie){var Xe=this;ae=Ne(ae);var nt=new Oe(function(yt,$t){var fn;Xe.ready().then(function(){return fn=Xe._dbInfo,"[object Blob]"===vt.call(Le)?re(fn.db).then(function(Rn){return Rn?Le:function tn(ae){return new Oe(function(Le,Ie){var Xe=new FileReader;Xe.onerror=Ie,Xe.onloadend=function(nt){var yt=btoa(nt.target.result||"");Le({__local_forage_encoded_blob:!0,data:yt,type:ae.type})},Xe.readAsBinaryString(ae)})}(Le)}):Le}).then(function(Rn){ce(Xe._dbInfo,Je,function(kn,xn){if(kn)return $t(kn);try{var tr=xn.objectStore(Xe._dbInfo.storeName);null===Rn&&(Rn=void 0);var Cr=tr.put(Rn,ae);xn.oncomplete=function(){void 0===Rn&&(Rn=null),yt(Rn)},xn.onabort=xn.onerror=function(){$t(Cr.error?Cr.error:Cr.transaction.error)}}catch(mr){$t(mr)}})}).catch($t)});return Se(nt,Ie),nt},removeItem:function ln(ae,Le){var Ie=this;ae=Ne(ae);var Xe=new Oe(function(nt,yt){Ie.ready().then(function(){ce(Ie._dbInfo,Je,function($t,fn){if($t)return yt($t);try{var kn=fn.objectStore(Ie._dbInfo.storeName).delete(ae);fn.oncomplete=function(){nt()},fn.onerror=function(){yt(kn.error)},fn.onabort=function(){yt(kn.error?kn.error:kn.transaction.error)}}catch(xn){yt(xn)}})}).catch(yt)});return Se(Xe,Le),Xe},clear:function Xt(ae){var Le=this,Ie=new Oe(function(Xe,nt){Le.ready().then(function(){ce(Le._dbInfo,Je,function(yt,$t){if(yt)return nt(yt);try{var Rn=$t.objectStore(Le._dbInfo.storeName).clear();$t.oncomplete=function(){Xe()},$t.onabort=$t.onerror=function(){nt(Rn.error?Rn.error:Rn.transaction.error)}}catch(kn){nt(kn)}})}).catch(nt)});return Se(Ie,ae),Ie},length:function dr(ae){var Le=this,Ie=new Oe(function(Xe,nt){Le.ready().then(function(){ce(Le._dbInfo,ct,function(yt,$t){if(yt)return nt(yt);try{var Rn=$t.objectStore(Le._dbInfo.storeName).count();Rn.onsuccess=function(){Xe(Rn.result)},Rn.onerror=function(){nt(Rn.error)}}catch(kn){nt(kn)}})}).catch(nt)});return Se(Ie,ae),Ie},key:function er(ae,Le){var Ie=this,Xe=new Oe(function(nt,yt){ae<0?nt(null):Ie.ready().then(function(){ce(Ie._dbInfo,ct,function($t,fn){if($t)return yt($t);try{var Rn=fn.objectStore(Ie._dbInfo.storeName),kn=!1,xn=Rn.openKeyCursor();xn.onsuccess=function(){var tr=xn.result;tr?0===ae||kn?nt(tr.key):(kn=!0,tr.advance(ae)):nt(null)},xn.onerror=function(){yt(xn.error)}}catch(tr){yt(tr)}})}).catch(yt)});return Se(Xe,Le),Xe},keys:function wn(ae){var Le=this,Ie=new Oe(function(Xe,nt){Le.ready().then(function(){ce(Le._dbInfo,ct,function(yt,$t){if(yt)return nt(yt);try{var Rn=$t.objectStore(Le._dbInfo.storeName).openKeyCursor(),kn=[];Rn.onsuccess=function(){var xn=Rn.result;xn?(kn.push(xn.key),xn.continue()):Xe(kn)},Rn.onerror=function(){nt(Rn.error)}}catch(xn){nt(xn)}})}).catch(nt)});return Se(Ie,ae),Ie},dropInstance:function wr(ae,Le){Le=ot.apply(this,arguments);var nt,Ie=this.config();return(ae="function"!=typeof ae&&ae||{}).name||(ae.name=ae.name||Ie.name,ae.storeName=ae.storeName||Ie.storeName),Se(nt=ae.name?(ae.name===Ie.name&&this._dbInfo.db?Oe.resolve(this._dbInfo.db):Lt(ae).then(function(fn){var Rn=pe[ae.name],kn=Rn.forages;Rn.db=fn;for(var xn=0;xn<kn.length;xn++)kn[xn]._dbInfo.db=fn;return fn})).then(ae.storeName?function(fn){if(fn.objectStoreNames.contains(ae.storeName)){var Rn=fn.version+1;rt(ae);var kn=pe[ae.name],xn=kn.forages;fn.close();for(var tr=0;tr<xn.length;tr++){var Cr=xn[tr];Cr._dbInfo.db=null,Cr._dbInfo.version=Rn}return new Oe(function(br,eo){var kr=se.open(ae.name,Rn);kr.onerror=function(po){kr.result.close(),eo(po)},kr.onupgradeneeded=function(){kr.result.deleteObjectStore(ae.storeName)},kr.onsuccess=function(){var po=kr.result;po.close(),br(po)}}).then(function(br){kn.db=br;for(var eo=0;eo<xn.length;eo++){var kr=xn[eo];kr._dbInfo.db=br,Dt(kr._dbInfo)}}).catch(function(br){throw(Ke(ae,br)||Oe.resolve()).catch(function(){}),br})}}:function(fn){rt(ae);var Rn=pe[ae.name],kn=Rn.forages;fn.close();for(var xn=0;xn<kn.length;xn++)kn[xn]._dbInfo.db=null;return new Oe(function(mr,br){var eo=se.deleteDatabase(ae.name);eo.onerror=function(){var kr=eo.result;kr&&kr.close(),br(eo.error)},eo.onblocked=function(){console.warn('dropInstance blocked for database "'+ae.name+'" until all open connections are closed')},eo.onsuccess=function(){var kr=eo.result;kr&&kr.close(),mr(kr)}}).then(function(mr){Rn.db=mr;for(var br=0;br<kn.length;br++)Dt(kn[br]._dbInfo)}).catch(function(mr){throw(Ke(ae,mr)||Oe.resolve()).catch(function(){}),mr})}):Oe.reject("Invalid arguments"),Le),nt}};var Ar="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pr=/^~~local_forage_type~([^~]+)~/,Kr="__lfsc__:",en="arbf",rn="blob",zr=Object.prototype.toString;function Jr(ae){var Xe,yt,$t,fn,Rn,Le=.75*ae.length,Ie=ae.length,nt=0;"="===ae[ae.length-1]&&(Le--,"="===ae[ae.length-2]&&Le--);var kn=new ArrayBuffer(Le),xn=new Uint8Array(kn);for(Xe=0;Xe<Ie;Xe+=4)yt=Ar.indexOf(ae[Xe]),$t=Ar.indexOf(ae[Xe+1]),fn=Ar.indexOf(ae[Xe+2]),Rn=Ar.indexOf(ae[Xe+3]),xn[nt++]=yt<<2|$t>>4,xn[nt++]=(15&$t)<<4|fn>>2,xn[nt++]=(3&fn)<<6|63&Rn;return kn}function xo(ae){var Xe,Le=new Uint8Array(ae),Ie="";for(Xe=0;Xe<Le.length;Xe+=3)Ie+=Ar[Le[Xe]>>2],Ie+=Ar[(3&Le[Xe])<<4|Le[Xe+1]>>4],Ie+=Ar[(15&Le[Xe+1])<<2|Le[Xe+2]>>6],Ie+=Ar[63&Le[Xe+2]];return Le.length%3==2?Ie=Ie.substring(0,Ie.length-1)+"=":Le.length%3==1&&(Ie=Ie.substring(0,Ie.length-2)+"=="),Ie}var Lr={serialize:function Er(ae,Le){var Ie="";if(ae&&(Ie=zr.call(ae)),ae&&("[object ArrayBuffer]"===Ie||ae.buffer&&"[object ArrayBuffer]"===zr.call(ae.buffer))){var Xe,nt=Kr;ae instanceof ArrayBuffer?(Xe=ae,nt+=en):(Xe=ae.buffer,"[object Int8Array]"===Ie?nt+="si08":"[object Uint8Array]"===Ie?nt+="ui08":"[object Uint8ClampedArray]"===Ie?nt+="uic8":"[object Int16Array]"===Ie?nt+="si16":"[object Uint16Array]"===Ie?nt+="ur16":"[object Int32Array]"===Ie?nt+="si32":"[object Uint32Array]"===Ie?nt+="ui32":"[object Float32Array]"===Ie?nt+="fl32":"[object Float64Array]"===Ie?nt+="fl64":Le(new Error("Failed to get type for BinaryArray"))),Le(nt+xo(Xe))}else if("[object Blob]"===Ie){var yt=new FileReader;yt.onload=function(){var $t="~~local_forage_type~"+ae.type+"~"+xo(this.result);Le(Kr+rn+$t)},yt.readAsArrayBuffer(ae)}else try{Le(JSON.stringify(ae))}catch($t){console.error("Couldn't convert value into a JSON string: ",ae),Le(null,$t)}},deserialize:function To(ae){if(ae.substring(0,9)!==Kr)return JSON.parse(ae);var Xe,Le=ae.substring(13),Ie=ae.substring(9,13);if(Ie===rn&&pr.test(Le)){var nt=Le.match(pr);Xe=nt[1],Le=Le.substring(nt[0].length)}var yt=Jr(Le);switch(Ie){case en:return yt;case rn:return wt([yt],{type:Xe});case"si08":return new Int8Array(yt);case"ui08":return new Uint8Array(yt);case"uic8":return new Uint8ClampedArray(yt);case"si16":return new Int16Array(yt);case"ur16":return new Uint16Array(yt);case"si32":return new Int32Array(yt);case"ui32":return new Uint32Array(yt);case"fl32":return new Float32Array(yt);case"fl64":return new Float64Array(yt);default:throw new Error("Unkown type: "+Ie)}},stringToBuffer:Jr,bufferToString:xo};function io(ae,Le,Ie,Xe){ae.executeSql("CREATE TABLE IF NOT EXISTS "+Le.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Ie,Xe)}function Ir(ae,Le,Ie,Xe,nt,yt){ae.executeSql(Ie,Xe,nt,function($t,fn){fn.code===fn.SYNTAX_ERR?$t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Le.storeName],function(Rn,kn){kn.rows.length?yt(Rn,fn):io(Rn,Le,function(){Rn.executeSql(Ie,Xe,nt,yt)},yt)},yt):yt($t,fn)},yt)}function Qt(ae,Le,Ie,Xe){var nt=this;ae=Ne(ae);var yt=new Oe(function($t,fn){nt.ready().then(function(){void 0===Le&&(Le=null);var Rn=Le,kn=nt._dbInfo;kn.serializer.serialize(Le,function(xn,tr){tr?fn(tr):kn.db.transaction(function(Cr){Ir(Cr,kn,"INSERT OR REPLACE INTO "+kn.storeName+" (key, value) VALUES (?, ?)",[ae,xn],function(){$t(Rn)},function(mr,br){fn(br)})},function(Cr){if(Cr.code===Cr.QUOTA_ERR){if(Xe>0)return void $t(Qt.apply(nt,[ae,Rn,Ie,Xe-1]));fn(Cr)}})})}).catch(fn)});return Se(yt,Ie),yt}var vn={_driver:"webSQLStorage",_initStorage:function nn(ae){var Le=this,Ie={db:null};if(ae)for(var Xe in ae)Ie[Xe]="string"!=typeof ae[Xe]?ae[Xe].toString():ae[Xe];var nt=new Oe(function(yt,$t){try{Ie.db=openDatabase(Ie.name,String(Ie.version),Ie.description,Ie.size)}catch(fn){return $t(fn)}Ie.db.transaction(function(fn){io(fn,Ie,function(){Le._dbInfo=Ie,yt()},function(Rn,kn){$t(kn)})},$t)});return Ie.serializer=Lr,nt},_support:function hr(){return"function"==typeof openDatabase}(),iterate:function lo(ae,Le){var Ie=this,Xe=new Oe(function(nt,yt){Ie.ready().then(function(){var $t=Ie._dbInfo;$t.db.transaction(function(fn){Ir(fn,$t,"SELECT * FROM "+$t.storeName,[],function(Rn,kn){for(var xn=kn.rows,tr=xn.length,Cr=0;Cr<tr;Cr++){var mr=xn.item(Cr),br=mr.value;if(br&&(br=$t.serializer.deserialize(br)),void 0!==(br=ae(br,mr.key,Cr+1)))return void nt(br)}nt()},function(Rn,kn){yt(kn)})})}).catch(yt)});return Se(Xe,Le),Xe},getItem:function $r(ae,Le){var Ie=this;ae=Ne(ae);var Xe=new Oe(function(nt,yt){Ie.ready().then(function(){var $t=Ie._dbInfo;$t.db.transaction(function(fn){Ir(fn,$t,"SELECT * FROM "+$t.storeName+" WHERE key = ? LIMIT 1",[ae],function(Rn,kn){var xn=kn.rows.length?kn.rows.item(0).value:null;xn&&(xn=$t.serializer.deserialize(xn)),nt(xn)},function(Rn,kn){yt(kn)})})}).catch(yt)});return Se(Xe,Le),Xe},setItem:function Pt(ae,Le,Ie){return Qt.apply(this,[ae,Le,Ie,1])},removeItem:function sn(ae,Le){var Ie=this;ae=Ne(ae);var Xe=new Oe(function(nt,yt){Ie.ready().then(function(){var $t=Ie._dbInfo;$t.db.transaction(function(fn){Ir(fn,$t,"DELETE FROM "+$t.storeName+" WHERE key = ?",[ae],function(){nt()},function(Rn,kn){yt(kn)})})}).catch(yt)});return Se(Xe,Le),Xe},clear:function _t(ae){var Le=this,Ie=new Oe(function(Xe,nt){Le.ready().then(function(){var yt=Le._dbInfo;yt.db.transaction(function($t){Ir($t,yt,"DELETE FROM "+yt.storeName,[],function(){Xe()},function(fn,Rn){nt(Rn)})})}).catch(nt)});return Se(Ie,ae),Ie},length:function Tt(ae){var Le=this,Ie=new Oe(function(Xe,nt){Le.ready().then(function(){var yt=Le._dbInfo;yt.db.transaction(function($t){Ir($t,yt,"SELECT COUNT(key) as c FROM "+yt.storeName,[],function(fn,Rn){var kn=Rn.rows.item(0).c;Xe(kn)},function(fn,Rn){nt(Rn)})})}).catch(nt)});return Se(Ie,ae),Ie},key:function _n(ae,Le){var Ie=this,Xe=new Oe(function(nt,yt){Ie.ready().then(function(){var $t=Ie._dbInfo;$t.db.transaction(function(fn){Ir(fn,$t,"SELECT key FROM "+$t.storeName+" WHERE id = ? LIMIT 1",[ae+1],function(Rn,kn){var xn=kn.rows.length?kn.rows.item(0).key:null;nt(xn)},function(Rn,kn){yt(kn)})})}).catch(yt)});return Se(Xe,Le),Xe},keys:function Nn(ae){var Le=this,Ie=new Oe(function(Xe,nt){Le.ready().then(function(){var yt=Le._dbInfo;yt.db.transaction(function($t){Ir($t,yt,"SELECT key FROM "+yt.storeName,[],function(fn,Rn){for(var kn=[],xn=0;xn<Rn.rows.length;xn++)kn.push(Rn.rows.item(xn).key);Xe(kn)},function(fn,Rn){nt(Rn)})})}).catch(nt)});return Se(Ie,ae),Ie},dropInstance:function jt(ae,Le){Le=ot.apply(this,arguments);var Ie=this.config();(ae="function"!=typeof ae&&ae||{}).name||(ae.name=ae.name||Ie.name,ae.storeName=ae.storeName||Ie.storeName);var nt,Xe=this;return Se(nt=ae.name?new Oe(function(yt){var $t;$t=ae.name===Ie.name?Xe._dbInfo.db:openDatabase(ae.name,"","",0),yt(ae.storeName?{db:$t,storeNames:[ae.storeName]}:function bt(ae){return new Oe(function(Le,Ie){ae.transaction(function(Xe){Xe.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(nt,yt){for(var $t=[],fn=0;fn<yt.rows.length;fn++)$t.push(yt.rows.item(fn).name);Le({db:ae,storeNames:$t})},function(nt,yt){Ie(yt)})},function(Xe){Ie(Xe)})})}($t))}).then(function(yt){return new Oe(function($t,fn){yt.db.transaction(function(Rn){function kn(mr){return new Oe(function(br,eo){Rn.executeSql("DROP TABLE IF EXISTS "+mr,[],function(){br()},function(kr,po){eo(po)})})}for(var xn=[],tr=0,Cr=yt.storeNames.length;tr<Cr;tr++)xn.push(kn(yt.storeNames[tr]));Oe.all(xn).then(function(){$t()}).catch(function(mr){fn(mr)})},function(Rn){fn(Rn)})})}):Oe.reject("Invalid arguments"),Le),nt}};function mt(ae,Le){var Ie=ae.name+"/";return ae.storeName!==Le.storeName&&(Ie+=ae.storeName+"/"),Ie}function Ut(){return!function He(){var ae="_localforage_support_test";try{return localStorage.setItem(ae,!0),localStorage.removeItem(ae),!1}catch{return!0}}()||localStorage.length>0}var _o={_driver:"localStorageWrapper",_initStorage:function ye(ae){var Ie={};if(ae)for(var Xe in ae)Ie[Xe]=ae[Xe];return Ie.keyPrefix=mt(ae,this._defaultConfig),Ut()?(this._dbInfo=Ie,Ie.serializer=Lr,Oe.resolve()):Oe.reject()},_support:function gn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}(),iterate:function cn(ae,Le){var Ie=this,Xe=Ie.ready().then(function(){for(var nt=Ie._dbInfo,yt=nt.keyPrefix,$t=yt.length,fn=localStorage.length,Rn=1,kn=0;kn<fn;kn++){var xn=localStorage.key(kn);if(0===xn.indexOf(yt)){var tr=localStorage.getItem(xn);if(tr&&(tr=nt.serializer.deserialize(tr)),void 0!==(tr=ae(tr,xn.substring($t),Rn++)))return tr}}});return Se(Xe,Le),Xe},getItem:function zt(ae,Le){var Ie=this;ae=Ne(ae);var Xe=Ie.ready().then(function(){var nt=Ie._dbInfo,yt=localStorage.getItem(nt.keyPrefix+ae);return yt&&(yt=nt.serializer.deserialize(yt)),yt});return Se(Xe,Le),Xe},setItem:function $o(ae,Le,Ie){var Xe=this;ae=Ne(ae);var nt=Xe.ready().then(function(){void 0===Le&&(Le=null);var yt=Le;return new Oe(function($t,fn){var Rn=Xe._dbInfo;Rn.serializer.serialize(Le,function(kn,xn){if(xn)fn(xn);else try{localStorage.setItem(Rn.keyPrefix+ae,kn),$t(yt)}catch(tr){("QuotaExceededError"===tr.name||"NS_ERROR_DOM_QUOTA_REACHED"===tr.name)&&fn(tr),fn(tr)}})})});return Se(nt,Ie),nt},removeItem:function Gr(ae,Le){var Ie=this;ae=Ne(ae);var Xe=Ie.ready().then(function(){localStorage.removeItem(Ie._dbInfo.keyPrefix+ae)});return Se(Xe,Le),Xe},clear:function le(ae){var Le=this,Ie=Le.ready().then(function(){for(var Xe=Le._dbInfo.keyPrefix,nt=localStorage.length-1;nt>=0;nt--){var yt=localStorage.key(nt);0===yt.indexOf(Xe)&&localStorage.removeItem(yt)}});return Se(Ie,ae),Ie},length:function Mn(ae){var Ie=this.keys().then(function(Xe){return Xe.length});return Se(Ie,ae),Ie},key:function Zn(ae,Le){var Ie=this,Xe=Ie.ready().then(function(){var yt,nt=Ie._dbInfo;try{yt=localStorage.key(ae)}catch{yt=null}return yt&&(yt=yt.substring(nt.keyPrefix.length)),yt});return Se(Xe,Le),Xe},keys:function qn(ae){var Le=this,Ie=Le.ready().then(function(){for(var Xe=Le._dbInfo,nt=localStorage.length,yt=[],$t=0;$t<nt;$t++){var fn=localStorage.key($t);0===fn.indexOf(Xe.keyPrefix)&&yt.push(fn.substring(Xe.keyPrefix.length))}return yt});return Se(Ie,ae),Ie},dropInstance:function ei(ae,Le){if(Le=ot.apply(this,arguments),!(ae="function"!=typeof ae&&ae||{}).name){var Ie=this.config();ae.name=ae.name||Ie.name,ae.storeName=ae.storeName||Ie.storeName}var nt,Xe=this;return Se(nt=ae.name?new Oe(function(yt){yt(ae.storeName?mt(ae,Xe._defaultConfig):ae.name+"/")}).then(function(yt){for(var $t=localStorage.length-1;$t>=0;$t--){var fn=localStorage.key($t);0===fn.indexOf(yt)&&localStorage.removeItem(fn)}}):Oe.reject("Invalid arguments"),Le),nt}},jo=function(Le,Ie){return Le===Ie||"number"==typeof Le&&"number"==typeof Ie&&isNaN(Le)&&isNaN(Ie)},Dr=function(Le,Ie){for(var Xe=Le.length,nt=0;nt<Xe;){if(jo(Le[nt],Ie))return!0;nt++}return!1},Po=Array.isArray||function(ae){return"[object Array]"===Object.prototype.toString.call(ae)},co={},Qn={},zo={INDEXEDDB:Xr,WEBSQL:vn,LOCALSTORAGE:_o},Qe=[zo.INDEXEDDB._driver,zo.WEBSQL._driver,zo.LOCALSTORAGE._driver],an=["dropInstance"],zn=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(an),_r={description:"",driver:Qe.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Zr(ae,Le){ae[Le]=function(){var Ie=arguments;return ae.ready().then(function(){return ae[Le].apply(ae,Ie)})}}function Te(){for(var ae=1;ae<arguments.length;ae++){var Le=arguments[ae];if(Le)for(var Ie in Le)Le.hasOwnProperty(Ie)&&(arguments[0][Ie]=Po(Le[Ie])?Le[Ie].slice():Le[Ie])}return arguments[0]}var et=function(){function ae(Le){for(var Ie in function S(ae,Le){if(!(ae instanceof Le))throw new TypeError("Cannot call a class as a function")}(this,ae),zo)if(zo.hasOwnProperty(Ie)){var Xe=zo[Ie],nt=Xe._driver;this[Ie]=nt,co[nt]||this.defineDriver(Xe)}this._defaultConfig=Te({},_r),this._config=Te({},this._defaultConfig,Le),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return ae.prototype.config=function(Ie){if("object"===(typeof Ie>"u"?"undefined":J(Ie))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Xe in Ie){if("storeName"===Xe&&(Ie[Xe]=Ie[Xe].replace(/\W/g,"_")),"version"===Xe&&"number"!=typeof Ie[Xe])return new Error("Database version must be a number.");this._config[Xe]=Ie[Xe]}return!("driver"in Ie)||!Ie.driver||this.setDriver(this._config.driver)}return"string"==typeof Ie?this._config[Ie]:this._config},ae.prototype.defineDriver=function(Ie,Xe,nt){var yt=new Oe(function($t,fn){try{var Rn=Ie._driver,kn=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Ie._driver)return void fn(kn);for(var xn=zn.concat("_initStorage"),tr=0,Cr=xn.length;tr<Cr;tr++){var mr=xn[tr];if((!Dr(an,mr)||Ie[mr])&&"function"!=typeof Ie[mr])return void fn(kn)}!function(){for(var gr=function(ja){return function(){var Li=new Error("Method "+ja+" is not implemented by the current driver"),vi=Oe.reject(Li);return Se(vi,arguments[arguments.length-1]),vi}},Ur=0,Ki=an.length;Ur<Ki;Ur++){var Fi=an[Ur];Ie[Fi]||(Ie[Fi]=gr(Fi))}}();var kr=function(gr){co[Rn]&&console.info("Redefining LocalForage driver: "+Rn),co[Rn]=Ie,Qn[Rn]=gr,$t()};"_support"in Ie?Ie._support&&"function"==typeof Ie._support?Ie._support().then(kr,fn):kr(!!Ie._support):kr(!0)}catch(po){fn(po)}});return qe(yt,Xe,nt),yt},ae.prototype.driver=function(){return this._driver||null},ae.prototype.getDriver=function(Ie,Xe,nt){var yt=co[Ie]?Oe.resolve(co[Ie]):Oe.reject(new Error("Driver not found."));return qe(yt,Xe,nt),yt},ae.prototype.getSerializer=function(Ie){var Xe=Oe.resolve(Lr);return qe(Xe,Ie),Xe},ae.prototype.ready=function(Ie){var Xe=this,nt=Xe._driverSet.then(function(){return null===Xe._ready&&(Xe._ready=Xe._initDriver()),Xe._ready});return qe(nt,Ie,Ie),nt},ae.prototype.setDriver=function(Ie,Xe,nt){var yt=this;Po(Ie)||(Ie=[Ie]);var $t=this._getSupportedDrivers(Ie);function fn(){yt._config.driver=yt.driver()}function Rn(tr){return yt._extend(tr),fn(),yt._ready=yt._initStorage(yt._config),yt._ready}var xn=null!==this._driverSet?this._driverSet.catch(function(){return Oe.resolve()}):Oe.resolve();return this._driverSet=xn.then(function(){var tr=$t[0];return yt._dbInfo=null,yt._ready=null,yt.getDriver(tr).then(function(Cr){yt._driver=Cr._driver,fn(),yt._wrapLibraryMethodsWithReady(),yt._initDriver=function kn(tr){return function(){var Cr=0;return function mr(){for(;Cr<tr.length;){var br=tr[Cr];return Cr++,yt._dbInfo=null,yt._ready=null,yt.getDriver(br).then(Rn).catch(mr)}fn();var eo=new Error("No available storage method found.");return yt._driverSet=Oe.reject(eo),yt._driverSet}()}}($t)})}).catch(function(){fn();var tr=new Error("No available storage method found.");return yt._driverSet=Oe.reject(tr),yt._driverSet}),qe(this._driverSet,Xe,nt),this._driverSet},ae.prototype.supports=function(Ie){return!!Qn[Ie]},ae.prototype._extend=function(Ie){Te(this,Ie)},ae.prototype._getSupportedDrivers=function(Ie){for(var Xe=[],nt=0,yt=Ie.length;nt<yt;nt++){var $t=Ie[nt];this.supports($t)&&Xe.push($t)}return Xe},ae.prototype._wrapLibraryMethodsWithReady=function(){for(var Ie=0,Xe=zn.length;Ie<Xe;Ie++)Zr(this,zn[Ie])},ae.prototype.createInstance=function(Ie){return new ae(Ie)},ae}(),Rt=new et;H.exports=Rt},{3:3}]},{},[4])(4)},4412:(Vn,At,B)=>{"use strict";B.d(At,{t:()=>g});var x=B(1413);class g extends x.B{constructor(_e){super(),this._value=_e}get value(){return this.getValue()}_subscribe(_e){const J=super._subscribe(_e);return!J.closed&&_e.next(this._value),J}getValue(){const{hasError:_e,thrownError:J,_value:S}=this;if(_e)throw J;return this._throwIfClosed(),S}next(_e){super.next(this._value=_e)}}},1985:(Vn,At,B)=>{"use strict";B.d(At,{c:()=>se});var x=B(7707),g=B(8359),H=B(3494),_e=B(1203),J=B(1026),S=B(8071),ke=B(9786);let se=(()=>{class Se{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const ot=new Se;return ot.source=this,ot.operator=Ne,ot}subscribe(Ne,ot,it){const Pe=function Oe(Se){return Se&&Se instanceof x.vU||function wt(Se){return Se&&(0,S.T)(Se.next)&&(0,S.T)(Se.error)&&(0,S.T)(Se.complete)}(Se)&&(0,g.Uv)(Se)}(Ne)?Ne:new x.Ms(Ne,ot,it);return(0,ke.Y)(()=>{const{operator:pe,source:vt}=this;Pe.add(pe?pe.call(Pe,vt):vt?this._subscribe(Pe):this._trySubscribe(Pe))}),Pe}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(ot){Ne.error(ot)}}forEach(Ne,ot){return new(ot=Ge(ot))((it,Pe)=>{const pe=new x.Ms({next:vt=>{try{Ne(vt)}catch(ct){Pe(ct),pe.unsubscribe()}},error:Pe,complete:it});this.subscribe(pe)})}_subscribe(Ne){var ot;return null===(ot=this.source)||void 0===ot?void 0:ot.subscribe(Ne)}[H.s](){return this}pipe(...Ne){return(0,_e.m)(Ne)(this)}toPromise(Ne){return new(Ne=Ge(Ne))((ot,it)=>{let Pe;this.subscribe(pe=>Pe=pe,pe=>it(pe),()=>ot(Pe))})}}return Se.create=qe=>new Se(qe),Se})();function Ge(Se){var qe;return null!==(qe=null!=Se?Se:J.$.Promise)&&void 0!==qe?qe:Promise}},1413:(Vn,At,B)=>{"use strict";B.d(At,{B:()=>ke});var x=B(1985),g=B(8359);const _e=(0,B(1853).L)(Ge=>function(){Ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var J=B(7908),S=B(9786);let ke=(()=>{class Ge extends x.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Oe){const Se=new se(this,this);return Se.operator=Oe,Se}_throwIfClosed(){if(this.closed)throw new _e}next(Oe){(0,S.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Se of this.currentObservers)Se.next(Oe)}})}error(Oe){(0,S.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Oe;const{observers:Se}=this;for(;Se.length;)Se.shift().error(Oe)}})}complete(){(0,S.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Oe}=this;for(;Oe.length;)Oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Oe;return(null===(Oe=this.observers)||void 0===Oe?void 0:Oe.length)>0}_trySubscribe(Oe){return this._throwIfClosed(),super._trySubscribe(Oe)}_subscribe(Oe){return this._throwIfClosed(),this._checkFinalizedStatuses(Oe),this._innerSubscribe(Oe)}_innerSubscribe(Oe){const{hasError:Se,isStopped:qe,observers:Ne}=this;return Se||qe?g.Kn:(this.currentObservers=null,Ne.push(Oe),new g.yU(()=>{this.currentObservers=null,(0,J.o)(Ne,Oe)}))}_checkFinalizedStatuses(Oe){const{hasError:Se,thrownError:qe,isStopped:Ne}=this;Se?Oe.error(qe):Ne&&Oe.complete()}asObservable(){const Oe=new x.c;return Oe.source=this,Oe}}return Ge.create=(wt,Oe)=>new se(wt,Oe),Ge})();class se extends ke{constructor(wt,Oe){super(),this.destination=wt,this.source=Oe}next(wt){var Oe,Se;null===(Se=null===(Oe=this.destination)||void 0===Oe?void 0:Oe.next)||void 0===Se||Se.call(Oe,wt)}error(wt){var Oe,Se;null===(Se=null===(Oe=this.destination)||void 0===Oe?void 0:Oe.error)||void 0===Se||Se.call(Oe,wt)}complete(){var wt,Oe;null===(Oe=null===(wt=this.destination)||void 0===wt?void 0:wt.complete)||void 0===Oe||Oe.call(wt)}_subscribe(wt){var Oe,Se;return null!==(Se=null===(Oe=this.source)||void 0===Oe?void 0:Oe.subscribe(wt))&&void 0!==Se?Se:g.Kn}}},7707:(Vn,At,B)=>{"use strict";B.d(At,{Ms:()=>it,vU:()=>Se});var x=B(8071),g=B(8359),H=B(1026),_e=B(5334),J=B(5343);const S=Ge("C",void 0,void 0);function Ge(Je,Ce,$e){return{kind:Je,value:Ce,error:$e}}var wt=B(9270),Oe=B(9786);class Se extends g.yU{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,g.Uv)(Ce)&&Ce.add(this)):this.destination=ct}static create(Ce,$e,re){return new it(Ce,$e,re)}next(Ce){this.isStopped?vt(function se(Je){return Ge("N",Je,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?vt(function ke(Je){return Ge("E",void 0,Je)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?vt(S,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function Ne(Je,Ce){return qe.call(Je,Ce)}class ot{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:$e}=this;if($e.next)try{$e.next(Ce)}catch(re){Pe(re)}}error(Ce){const{partialObserver:$e}=this;if($e.error)try{$e.error(Ce)}catch(re){Pe(re)}else Pe(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch($e){Pe($e)}}}class it extends Se{constructor(Ce,$e,re){let rt;if(super(),(0,x.T)(Ce)||!Ce)rt={next:null!=Ce?Ce:void 0,error:null!=$e?$e:void 0,complete:null!=re?re:void 0};else{let Dt;this&&H.$.useDeprecatedNextContext?(Dt=Object.create(Ce),Dt.unsubscribe=()=>this.unsubscribe(),rt={next:Ce.next&&Ne(Ce.next,Dt),error:Ce.error&&Ne(Ce.error,Dt),complete:Ce.complete&&Ne(Ce.complete,Dt)}):rt=Ce}this.destination=new ot(rt)}}function Pe(Je){H.$.useDeprecatedSynchronousErrorHandling?(0,Oe.l)(Je):(0,_e.m)(Je)}function vt(Je,Ce){const{onStoppedNotification:$e}=H.$;$e&&wt.f.setTimeout(()=>$e(Je,Ce))}const ct={closed:!0,next:J.l,error:function pe(Je){throw Je},complete:J.l}},8359:(Vn,At,B)=>{"use strict";B.d(At,{Kn:()=>S,yU:()=>J,Uv:()=>ke});var x=B(8071);const H=(0,B(1853).L)(Ge=>function(Oe){Ge(this),this.message=Oe?`${Oe.length} errors occurred during unsubscription:\n${Oe.map((Se,qe)=>`${qe+1}) ${Se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Oe});var _e=B(7908);class J{constructor(wt){this.initialTeardown=wt,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let wt;if(!this.closed){this.closed=!0;const{_parentage:Oe}=this;if(Oe)if(this._parentage=null,Array.isArray(Oe))for(const Ne of Oe)Ne.remove(this);else Oe.remove(this);const{initialTeardown:Se}=this;if((0,x.T)(Se))try{Se()}catch(Ne){wt=Ne instanceof H?Ne.errors:[Ne]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const Ne of qe)try{se(Ne)}catch(ot){wt=null!=wt?wt:[],ot instanceof H?wt=[...wt,...ot.errors]:wt.push(ot)}}if(wt)throw new H(wt)}}add(wt){var Oe;if(wt&&wt!==this)if(this.closed)se(wt);else{if(wt instanceof J){if(wt.closed||wt._hasParent(this))return;wt._addParent(this)}(this._finalizers=null!==(Oe=this._finalizers)&&void 0!==Oe?Oe:[]).push(wt)}}_hasParent(wt){const{_parentage:Oe}=this;return Oe===wt||Array.isArray(Oe)&&Oe.includes(wt)}_addParent(wt){const{_parentage:Oe}=this;this._parentage=Array.isArray(Oe)?(Oe.push(wt),Oe):Oe?[Oe,wt]:wt}_removeParent(wt){const{_parentage:Oe}=this;Oe===wt?this._parentage=null:Array.isArray(Oe)&&(0,_e.o)(Oe,wt)}remove(wt){const{_finalizers:Oe}=this;Oe&&(0,_e.o)(Oe,wt),wt instanceof J&&wt._removeParent(this)}}J.EMPTY=(()=>{const Ge=new J;return Ge.closed=!0,Ge})();const S=J.EMPTY;function ke(Ge){return Ge instanceof J||Ge&&"closed"in Ge&&(0,x.T)(Ge.remove)&&(0,x.T)(Ge.add)&&(0,x.T)(Ge.unsubscribe)}function se(Ge){(0,x.T)(Ge)?Ge():Ge.unsubscribe()}},1026:(Vn,At,B)=>{"use strict";B.d(At,{$:()=>x});const x={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},17:(Vn,At,B)=>{"use strict";B.d(At,{G:()=>S});var x=B(1985),g=B(8359),H=B(9898),_e=B(4360),J=B(9974);class S extends x.c{constructor(se,Ge){super(),this.source=se,this.subjectFactory=Ge,this._subject=null,this._refCount=0,this._connection=null,(0,J.S)(se)&&(this.lift=se.lift)}_subscribe(se){return this.getSubject().subscribe(se)}getSubject(){const se=this._subject;return(!se||se.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:se}=this;this._subject=this._connection=null,null==se||se.unsubscribe()}connect(){let se=this._connection;if(!se){se=this._connection=new g.yU;const Ge=this.getSubject();se.add(this.source.subscribe((0,_e._)(Ge,void 0,()=>{this._teardown(),Ge.complete()},wt=>{this._teardown(),Ge.error(wt)},()=>this._teardown()))),se.closed&&(this._connection=null,se=g.yU.EMPTY)}return se}refCount(){return(0,H.B)()(this)}}},4572:(Vn,At,B)=>{"use strict";B.d(At,{z:()=>wt});var x=B(1985),g=B(3073),H=B(6648),_e=B(3669),J=B(6450),S=B(9326),ke=B(8496),se=B(4360),Ge=B(5225);function wt(...qe){const Ne=(0,S.lI)(qe),ot=(0,S.ms)(qe),{args:it,keys:Pe}=(0,g.D)(qe);if(0===it.length)return(0,H.H)([],Ne);const pe=new x.c(function Oe(qe,Ne,ot=_e.D){return it=>{Se(Ne,()=>{const{length:Pe}=qe,pe=new Array(Pe);let vt=Pe,ct=Pe;for(let Je=0;Je<Pe;Je++)Se(Ne,()=>{const Ce=(0,H.H)(qe[Je],Ne);let $e=!1;Ce.subscribe((0,se._)(it,re=>{pe[Je]=re,$e||($e=!0,ct--),ct||it.next(ot(pe.slice()))},()=>{--vt||it.complete()}))},it)},it)}}(it,Ne,Pe?vt=>(0,ke.e)(Pe,vt):_e.D));return ot?pe.pipe((0,J.I)(ot)):pe}function Se(qe,Ne,ot){qe?(0,Ge.N)(ot,qe,Ne):Ne()}},8793:(Vn,At,B)=>{"use strict";B.d(At,{x:()=>J});var x=B(6365),H=B(9326),_e=B(6648);function J(...S){return function g(){return(0,x.U)(1)}()((0,_e.H)(S,(0,H.lI)(S)))}},9030:(Vn,At,B)=>{"use strict";B.d(At,{v:()=>H});var x=B(1985),g=B(8750);function H(_e){return new x.c(J=>{(0,g.Tg)(_e()).subscribe(J)})}},983:(Vn,At,B)=>{"use strict";B.d(At,{w:()=>g});const g=new(B(1985).c)(J=>J.complete())},6648:(Vn,At,B)=>{"use strict";B.d(At,{H:()=>re});var x=B(8750),g=B(5225),H=B(9974),_e=B(4360);function J(rt,Dt=0){return(0,H.N)((Ke,je)=>{Ke.subscribe((0,_e._)(je,Lt=>(0,g.N)(je,rt,()=>je.next(Lt),Dt),()=>(0,g.N)(je,rt,()=>je.complete(),Dt),Lt=>(0,g.N)(je,rt,()=>je.error(Lt),Dt)))})}function S(rt,Dt=0){return(0,H.N)((Ke,je)=>{je.add(rt.schedule(()=>Ke.subscribe(je),Dt))})}var Ge=B(1985),Oe=B(4761),Se=B(8071);function Ne(rt,Dt){if(!rt)throw new Error("Iterable cannot be null");return new Ge.c(Ke=>{(0,g.N)(Ke,Dt,()=>{const je=rt[Symbol.asyncIterator]();(0,g.N)(Ke,Dt,()=>{je.next().then(Lt=>{Lt.done?Ke.complete():Ke.next(Lt.value)})},0,!0)})})}var ot=B(5055),it=B(9858),Pe=B(7441),pe=B(5397),vt=B(7953),ct=B(591),Je=B(5196);function re(rt,Dt){return Dt?function $e(rt,Dt){if(null!=rt){if((0,ot.l)(rt))return function ke(rt,Dt){return(0,x.Tg)(rt).pipe(S(Dt),J(Dt))}(rt,Dt);if((0,Pe.X)(rt))return function wt(rt,Dt){return new Ge.c(Ke=>{let je=0;return Dt.schedule(function(){je===rt.length?Ke.complete():(Ke.next(rt[je++]),Ke.closed||this.schedule())})})}(rt,Dt);if((0,it.y)(rt))return function se(rt,Dt){return(0,x.Tg)(rt).pipe(S(Dt),J(Dt))}(rt,Dt);if((0,vt.T)(rt))return Ne(rt,Dt);if((0,pe.x)(rt))return function qe(rt,Dt){return new Ge.c(Ke=>{let je;return(0,g.N)(Ke,Dt,()=>{je=rt[Oe.l](),(0,g.N)(Ke,Dt,()=>{let Lt,Bt;try{({value:Lt,done:Bt}=je.next())}catch(Xn){return void Ke.error(Xn)}Bt?Ke.complete():Ke.next(Lt)},0,!0)}),()=>(0,Se.T)(null==je?void 0:je.return)&&je.return()})}(rt,Dt);if((0,Je.U)(rt))return function Ce(rt,Dt){return Ne((0,Je.C)(rt),Dt)}(rt,Dt)}throw(0,ct.L)(rt)}(rt,Dt):(0,x.Tg)(rt)}},3726:(Vn,At,B)=>{"use strict";B.d(At,{R:()=>wt});var x=B(8750),g=B(1985),H=B(1397),_e=B(7441),J=B(8071),S=B(6450);const ke=["addListener","removeListener"],se=["addEventListener","removeEventListener"],Ge=["on","off"];function wt(ot,it,Pe,pe){if((0,J.T)(Pe)&&(pe=Pe,Pe=void 0),pe)return wt(ot,it,Pe).pipe((0,S.I)(pe));const[vt,ct]=function Ne(ot){return(0,J.T)(ot.addEventListener)&&(0,J.T)(ot.removeEventListener)}(ot)?se.map(Je=>Ce=>ot[Je](it,Ce,Pe)):function Se(ot){return(0,J.T)(ot.addListener)&&(0,J.T)(ot.removeListener)}(ot)?ke.map(Oe(ot,it)):function qe(ot){return(0,J.T)(ot.on)&&(0,J.T)(ot.off)}(ot)?Ge.map(Oe(ot,it)):[];if(!vt&&(0,_e.X)(ot))return(0,H.Z)(Je=>wt(Je,it,Pe))((0,x.Tg)(ot));if(!vt)throw new TypeError("Invalid event target");return new g.c(Je=>{const Ce=(...$e)=>Je.next(1<$e.length?$e:$e[0]);return vt(Ce),()=>ct(Ce)})}function Oe(ot,it){return Pe=>pe=>ot[Pe](it,pe)}},8750:(Vn,At,B)=>{"use strict";B.d(At,{Tg:()=>qe});var x=B(1635),g=B(7441),H=B(9858),_e=B(1985),J=B(5055),S=B(7953),ke=B(591),se=B(5397),Ge=B(5196),wt=B(8071),Oe=B(5334),Se=B(3494);function qe(Je){if(Je instanceof _e.c)return Je;if(null!=Je){if((0,J.l)(Je))return function Ne(Je){return new _e.c(Ce=>{const $e=Je[Se.s]();if((0,wt.T)($e.subscribe))return $e.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Je);if((0,g.X)(Je))return function ot(Je){return new _e.c(Ce=>{for(let $e=0;$e<Je.length&&!Ce.closed;$e++)Ce.next(Je[$e]);Ce.complete()})}(Je);if((0,H.y)(Je))return function it(Je){return new _e.c(Ce=>{Je.then($e=>{Ce.closed||(Ce.next($e),Ce.complete())},$e=>Ce.error($e)).then(null,Oe.m)})}(Je);if((0,S.T)(Je))return pe(Je);if((0,se.x)(Je))return function Pe(Je){return new _e.c(Ce=>{for(const $e of Je)if(Ce.next($e),Ce.closed)return;Ce.complete()})}(Je);if((0,Ge.U)(Je))return function vt(Je){return pe((0,Ge.C)(Je))}(Je)}throw(0,ke.L)(Je)}function pe(Je){return new _e.c(Ce=>{(function ct(Je,Ce){var $e,re,rt,Dt;return(0,x.sH)(this,void 0,void 0,function*(){try{for($e=(0,x.xN)(Je);!(re=yield $e.next()).done;)if(Ce.next(re.value),Ce.closed)return}catch(Ke){rt={error:Ke}}finally{try{re&&!re.done&&(Dt=$e.return)&&(yield Dt.call($e))}finally{if(rt)throw rt.error}}Ce.complete()})})(Je,Ce).catch($e=>Ce.error($e))})}},7673:(Vn,At,B)=>{"use strict";B.d(At,{of:()=>H});var x=B(9326),g=B(6648);function H(..._e){const J=(0,x.lI)(_e);return(0,g.H)(_e,J)}},8810:(Vn,At,B)=>{"use strict";B.d(At,{$:()=>H});var x=B(1985),g=B(8071);function H(_e,J){const S=(0,g.T)(_e)?_e:()=>_e,ke=se=>se.error(S());return new x.c(J?se=>J.schedule(ke,0,se):ke)}},4360:(Vn,At,B)=>{"use strict";B.d(At,{_:()=>g});var x=B(7707);function g(_e,J,S,ke,se){return new H(_e,J,S,ke,se)}class H extends x.vU{constructor(J,S,ke,se,Ge,wt){super(J),this.onFinalize=Ge,this.shouldUnsubscribe=wt,this._next=S?function(Oe){try{S(Oe)}catch(Se){J.error(Se)}}:super._next,this._error=se?function(Oe){try{se(Oe)}catch(Se){J.error(Se)}finally{this.unsubscribe()}}:super._error,this._complete=ke?function(){try{ke()}catch(Oe){J.error(Oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var J;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:S}=this;super.unsubscribe(),!S&&(null===(J=this.onFinalize)||void 0===J||J.call(this))}}}},9437:(Vn,At,B)=>{"use strict";B.d(At,{W:()=>_e});var x=B(8750),g=B(4360),H=B(9974);function _e(J){return(0,H.N)((S,ke)=>{let wt,se=null,Ge=!1;se=S.subscribe((0,g._)(ke,void 0,void 0,Oe=>{wt=(0,x.Tg)(J(Oe,_e(J)(S))),se?(se.unsubscribe(),se=null,wt.subscribe(ke)):Ge=!0})),Ge&&(se.unsubscribe(),se=null,wt.subscribe(ke))})}},274:(Vn,At,B)=>{"use strict";B.d(At,{H:()=>H});var x=B(1397),g=B(8071);function H(_e,J){return(0,g.T)(J)?(0,x.Z)(_e,J,1):(0,x.Z)(_e,1)}},9901:(Vn,At,B)=>{"use strict";B.d(At,{U:()=>H});var x=B(9974),g=B(4360);function H(_e){return(0,x.N)((J,S)=>{let ke=!1;J.subscribe((0,g._)(S,se=>{ke=!0,S.next(se)},()=>{ke||S.next(_e),S.complete()}))})}},5964:(Vn,At,B)=>{"use strict";B.d(At,{p:()=>H});var x=B(9974),g=B(4360);function H(_e,J){return(0,x.N)((S,ke)=>{let se=0;S.subscribe((0,g._)(ke,Ge=>_e.call(J,Ge,se++)&&ke.next(Ge)))})}},980:(Vn,At,B)=>{"use strict";B.d(At,{j:()=>g});var x=B(9974);function g(H){return(0,x.N)((_e,J)=>{try{_e.subscribe(J)}finally{J.add(H)}})}},1594:(Vn,At,B)=>{"use strict";B.d(At,{$:()=>ke});var x=B(9350),g=B(5964),H=B(6697),_e=B(9901),J=B(3774),S=B(3669);function ke(se,Ge){const wt=arguments.length>=2;return Oe=>Oe.pipe(se?(0,g.p)((Se,qe)=>se(Se,qe,Oe)):S.D,(0,H.s)(1),wt?(0,_e.U)(Ge):(0,J.v)(()=>new x.G))}},6354:(Vn,At,B)=>{"use strict";B.d(At,{T:()=>H});var x=B(9974),g=B(4360);function H(_e,J){return(0,x.N)((S,ke)=>{let se=0;S.subscribe((0,g._)(ke,Ge=>{ke.next(_e.call(J,Ge,se++))}))})}},3703:(Vn,At,B)=>{"use strict";B.d(At,{u:()=>g});var x=B(6354);function g(H){return(0,x.T)(()=>H)}},6365:(Vn,At,B)=>{"use strict";B.d(At,{U:()=>H});var x=B(1397),g=B(3669);function H(_e=1/0){return(0,x.Z)(g.D,_e)}},1397:(Vn,At,B)=>{"use strict";B.d(At,{Z:()=>se});var x=B(6354),g=B(8750),H=B(9974),_e=B(5225),J=B(4360),ke=B(8071);function se(Ge,wt,Oe=1/0){return(0,ke.T)(wt)?se((Se,qe)=>(0,x.T)((Ne,ot)=>wt(Se,Ne,qe,ot))((0,g.Tg)(Ge(Se,qe))),Oe):("number"==typeof wt&&(Oe=wt),(0,H.N)((Se,qe)=>function S(Ge,wt,Oe,Se,qe,Ne,ot,it){const Pe=[];let pe=0,vt=0,ct=!1;const Je=()=>{ct&&!Pe.length&&!pe&&wt.complete()},Ce=re=>pe<Se?$e(re):Pe.push(re),$e=re=>{Ne&&wt.next(re),pe++;let rt=!1;(0,g.Tg)(Oe(re,vt++)).subscribe((0,J._)(wt,Dt=>{null==qe||qe(Dt),Ne?Ce(Dt):wt.next(Dt)},()=>{rt=!0},void 0,()=>{if(rt)try{for(pe--;Pe.length&&pe<Se;){const Dt=Pe.shift();ot?(0,_e.N)(wt,ot,()=>$e(Dt)):$e(Dt)}Je()}catch(Dt){wt.error(Dt)}}))};return Ge.subscribe((0,J._)(wt,Ce,()=>{ct=!0,Je()})),()=>{null==it||it()}}(Se,qe,Ge,Oe)))}},9898:(Vn,At,B)=>{"use strict";B.d(At,{B:()=>H});var x=B(9974),g=B(4360);function H(){return(0,x.N)((_e,J)=>{let S=null;_e._refCount++;const ke=(0,g._)(J,void 0,void 0,void 0,()=>{if(!_e||_e._refCount<=0||0<--_e._refCount)return void(S=null);const se=_e._connection,Ge=S;S=null,se&&(!Ge||se===Ge)&&se.unsubscribe(),J.unsubscribe()});_e.subscribe(ke),ke.closed||(S=_e.connect())})}},5558:(Vn,At,B)=>{"use strict";B.d(At,{n:()=>_e});var x=B(8750),g=B(9974),H=B(4360);function _e(J,S){return(0,g.N)((ke,se)=>{let Ge=null,wt=0,Oe=!1;const Se=()=>Oe&&!Ge&&se.complete();ke.subscribe((0,H._)(se,qe=>{null==Ge||Ge.unsubscribe();let Ne=0;const ot=wt++;(0,x.Tg)(J(qe,ot)).subscribe(Ge=(0,H._)(se,it=>se.next(S?S(qe,it,ot,Ne++):it),()=>{Ge=null,Se()}))},()=>{Oe=!0,Se()}))})}},6697:(Vn,At,B)=>{"use strict";B.d(At,{s:()=>_e});var x=B(983),g=B(9974),H=B(4360);function _e(J){return J<=0?()=>x.w:(0,g.N)((S,ke)=>{let se=0;S.subscribe((0,H._)(ke,Ge=>{++se<=J&&(ke.next(Ge),J<=se&&ke.complete())}))})}},8141:(Vn,At,B)=>{"use strict";B.d(At,{M:()=>J});var x=B(8071),g=B(9974),H=B(4360),_e=B(3669);function J(S,ke,se){const Ge=(0,x.T)(S)||ke||se?{next:S,error:ke,complete:se}:S;return Ge?(0,g.N)((wt,Oe)=>{var Se;null===(Se=Ge.subscribe)||void 0===Se||Se.call(Ge);let qe=!0;wt.subscribe((0,H._)(Oe,Ne=>{var ot;null===(ot=Ge.next)||void 0===ot||ot.call(Ge,Ne),Oe.next(Ne)},()=>{var Ne;qe=!1,null===(Ne=Ge.complete)||void 0===Ne||Ne.call(Ge),Oe.complete()},Ne=>{var ot;qe=!1,null===(ot=Ge.error)||void 0===ot||ot.call(Ge,Ne),Oe.error(Ne)},()=>{var Ne,ot;qe&&(null===(Ne=Ge.unsubscribe)||void 0===Ne||Ne.call(Ge)),null===(ot=Ge.finalize)||void 0===ot||ot.call(Ge)}))}):_e.D}},3774:(Vn,At,B)=>{"use strict";B.d(At,{v:()=>_e});var x=B(9350),g=B(9974),H=B(4360);function _e(S=J){return(0,g.N)((ke,se)=>{let Ge=!1;ke.subscribe((0,H._)(se,wt=>{Ge=!0,se.next(wt)},()=>Ge?se.complete():se.error(S())))})}function J(){return new x.G}},9270:(Vn,At,B)=>{"use strict";B.d(At,{f:()=>x});const x={setTimeout(g,H,..._e){const{delegate:J}=x;return null!=J&&J.setTimeout?J.setTimeout(g,H,..._e):setTimeout(g,H,..._e)},clearTimeout(g){const{delegate:H}=x;return((null==H?void 0:H.clearTimeout)||clearTimeout)(g)},delegate:void 0}},4761:(Vn,At,B)=>{"use strict";B.d(At,{l:()=>g});const g=function x(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Vn,At,B)=>{"use strict";B.d(At,{s:()=>x});const x="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Vn,At,B)=>{"use strict";B.d(At,{G:()=>g});const g=(0,B(1853).L)(H=>function(){H(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(Vn,At,B)=>{"use strict";B.d(At,{R0:()=>S,lI:()=>J,ms:()=>_e});var x=B(8071),g=B(9470);function H(ke){return ke[ke.length-1]}function _e(ke){return(0,x.T)(H(ke))?ke.pop():void 0}function J(ke){return(0,g.m)(H(ke))?ke.pop():void 0}function S(ke,se){return"number"==typeof H(ke)?ke.pop():se}},3073:(Vn,At,B)=>{"use strict";B.d(At,{D:()=>J});const{isArray:x}=Array,{getPrototypeOf:g,prototype:H,keys:_e}=Object;function J(ke){if(1===ke.length){const se=ke[0];if(x(se))return{args:se,keys:null};if(function S(ke){return ke&&"object"==typeof ke&&g(ke)===H}(se)){const Ge=_e(se);return{args:Ge.map(wt=>se[wt]),keys:Ge}}}return{args:ke,keys:null}}},7908:(Vn,At,B)=>{"use strict";function x(g,H){if(g){const _e=g.indexOf(H);0<=_e&&g.splice(_e,1)}}B.d(At,{o:()=>x})},1853:(Vn,At,B)=>{"use strict";function x(g){const _e=g(J=>{Error.call(J),J.stack=(new Error).stack});return _e.prototype=Object.create(Error.prototype),_e.prototype.constructor=_e,_e}B.d(At,{L:()=>x})},8496:(Vn,At,B)=>{"use strict";function x(g,H){return g.reduce((_e,J,S)=>(_e[J]=H[S],_e),{})}B.d(At,{e:()=>x})},9786:(Vn,At,B)=>{"use strict";B.d(At,{Y:()=>H,l:()=>_e});var x=B(1026);let g=null;function H(J){if(x.$.useDeprecatedSynchronousErrorHandling){const S=!g;if(S&&(g={errorThrown:!1,error:null}),J(),S){const{errorThrown:ke,error:se}=g;if(g=null,ke)throw se}}else J()}function _e(J){x.$.useDeprecatedSynchronousErrorHandling&&g&&(g.errorThrown=!0,g.error=J)}},5225:(Vn,At,B)=>{"use strict";function x(g,H,_e,J=0,S=!1){const ke=H.schedule(function(){_e(),S?g.add(this.schedule(null,J)):this.unsubscribe()},J);if(g.add(ke),!S)return ke}B.d(At,{N:()=>x})},3669:(Vn,At,B)=>{"use strict";function x(g){return g}B.d(At,{D:()=>x})},7441:(Vn,At,B)=>{"use strict";B.d(At,{X:()=>x});const x=g=>g&&"number"==typeof g.length&&"function"!=typeof g},7953:(Vn,At,B)=>{"use strict";B.d(At,{T:()=>g});var x=B(8071);function g(H){return Symbol.asyncIterator&&(0,x.T)(null==H?void 0:H[Symbol.asyncIterator])}},8071:(Vn,At,B)=>{"use strict";function x(g){return"function"==typeof g}B.d(At,{T:()=>x})},5055:(Vn,At,B)=>{"use strict";B.d(At,{l:()=>H});var x=B(3494),g=B(8071);function H(_e){return(0,g.T)(_e[x.s])}},5397:(Vn,At,B)=>{"use strict";B.d(At,{x:()=>H});var x=B(4761),g=B(8071);function H(_e){return(0,g.T)(null==_e?void 0:_e[x.l])}},9858:(Vn,At,B)=>{"use strict";B.d(At,{y:()=>g});var x=B(8071);function g(H){return(0,x.T)(null==H?void 0:H.then)}},5196:(Vn,At,B)=>{"use strict";B.d(At,{C:()=>H,U:()=>_e});var x=B(1635),g=B(8071);function H(J){return(0,x.AQ)(this,arguments,function*(){const ke=J.getReader();try{for(;;){const{value:se,done:Ge}=yield(0,x.N3)(ke.read());if(Ge)return yield(0,x.N3)(void 0);yield yield(0,x.N3)(se)}}finally{ke.releaseLock()}})}function _e(J){return(0,g.T)(null==J?void 0:J.getReader)}},9470:(Vn,At,B)=>{"use strict";B.d(At,{m:()=>g});var x=B(8071);function g(H){return H&&(0,x.T)(H.schedule)}},9974:(Vn,At,B)=>{"use strict";B.d(At,{N:()=>H,S:()=>g});var x=B(8071);function g(_e){return(0,x.T)(null==_e?void 0:_e.lift)}function H(_e){return J=>{if(g(J))return J.lift(function(S){try{return _e(S,this)}catch(ke){this.error(ke)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Vn,At,B)=>{"use strict";B.d(At,{I:()=>_e});var x=B(6354);const{isArray:g}=Array;function _e(J){return(0,x.T)(S=>function H(J,S){return g(S)?J(...S):J(S)}(J,S))}},5343:(Vn,At,B)=>{"use strict";function x(){}B.d(At,{l:()=>x})},1203:(Vn,At,B)=>{"use strict";B.d(At,{F:()=>g,m:()=>H});var x=B(3669);function g(..._e){return H(_e)}function H(_e){return 0===_e.length?x.D:1===_e.length?_e[0]:function(S){return _e.reduce((ke,se)=>se(ke),S)}}},5334:(Vn,At,B)=>{"use strict";B.d(At,{m:()=>H});var x=B(1026),g=B(9270);function H(_e){g.f.setTimeout(()=>{const{onUnhandledError:J}=x.$;if(!J)throw _e;J(_e)})}},591:(Vn,At,B)=>{"use strict";function x(g){return new TypeError(`You provided ${null!==g&&"object"==typeof g?"an invalid object":`'${g}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(At,{L:()=>x})},8996:(Vn,At,B)=>{var x={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function g(H){if(!B.o(x,H))return Promise.resolve().then(()=>{var S=new Error("Cannot find module '"+H+"'");throw S.code="MODULE_NOT_FOUND",S});var _e=x[H],J=_e[0];return Promise.all(_e.slice(1).map(B.e)).then(()=>B(J))}g.keys=()=>Object.keys(x),g.id=8996,Vn.exports=g},4140:Vn=>{function At(B){return Promise.resolve().then(()=>{var x=new Error("Cannot find module '"+B+"'");throw x.code="MODULE_NOT_FOUND",x})}At.keys=()=>[],At.resolve=At,At.id=4140,Vn.exports=At},8082:()=>{},7318:()=>{},745:()=>{},177:(Vn,At,B)=>{"use strict";B.d(At,{AJ:()=>Nt,EO:()=>zo,MD:()=>kt,N0:()=>Wo,P9:()=>st,QT:()=>H,Sm:()=>it,Sq:()=>Rt,T3:()=>br,UE:()=>In,VF:()=>J,Vy:()=>Fn,Xr:()=>ur,YU:()=>_r,ZD:()=>_e,_b:()=>Qe,aZ:()=>pe,bT:()=>Ie,fw:()=>Pe,hb:()=>Ne,hj:()=>Ge,qQ:()=>ke,vh:()=>Mo});var x=B(4438);let g=null;function H(){return g}function _e(P){var ee;null!==(ee=g)&&void 0!==ee||(g=P)}class J{}const ke=new x.nKC("");let se=(()=>{var P;class ee{historyGo(K){throw new Error("")}}return(P=ee).\u0275fac=function(K){return new(K||P)},P.\u0275prov=x.jDH({token:P,factory:()=>(0,x.WQX)(wt),providedIn:"platform"}),ee})();const Ge=new x.nKC("");let wt=(()=>{var P;class ee extends se{constructor(){super(),this._doc=(0,x.WQX)(ke),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(K){const Ee=H().getGlobalEventTarget(this._doc,"window");return Ee.addEventListener("popstate",K,!1),()=>Ee.removeEventListener("popstate",K)}onHashChange(K){const Ee=H().getGlobalEventTarget(this._doc,"window");return Ee.addEventListener("hashchange",K,!1),()=>Ee.removeEventListener("hashchange",K)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(K){this._location.pathname=K}pushState(K,Ee,at){this._history.pushState(K,Ee,at)}replaceState(K,Ee,at){this._history.replaceState(K,Ee,at)}forward(){this._history.forward()}back(){this._history.back()}historyGo(K=0){this._history.go(K)}getState(){return this._history.state}}return(P=ee).\u0275fac=function(K){return new(K||P)},P.\u0275prov=x.jDH({token:P,factory:()=>new P,providedIn:"platform"}),ee})();function Oe(P,ee){if(0==P.length)return ee;if(0==ee.length)return P;let Ye=0;return P.endsWith("/")&&Ye++,ee.startsWith("/")&&Ye++,2==Ye?P+ee.substring(1):1==Ye?P+ee:P+"/"+ee}function Se(P){const ee=P.match(/#|\?|$/),Ye=ee&&ee.index||P.length;return P.slice(0,Ye-("/"===P[Ye-1]?1:0))+P.slice(Ye)}function qe(P){return P&&"?"!==P[0]?"?"+P:P}let Ne=(()=>{var P;class ee{historyGo(K){throw new Error("")}}return(P=ee).\u0275fac=function(K){return new(K||P)},P.\u0275prov=x.jDH({token:P,factory:()=>(0,x.WQX)(it),providedIn:"root"}),ee})();const ot=new x.nKC("");let it=(()=>{var P;class ee extends Ne{constructor(K,Ee){var at,mn,Wn;super(),this._platformLocation=K,this._removeListenerFns=[],this._baseHref=null!==(at=null!==(mn=null!=Ee?Ee:this._platformLocation.getBaseHrefFromDOM())&&void 0!==mn?mn:null===(Wn=(0,x.WQX)(ke).location)||void 0===Wn?void 0:Wn.origin)&&void 0!==at?at:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(K){this._removeListenerFns.push(this._platformLocation.onPopState(K),this._platformLocation.onHashChange(K))}getBaseHref(){return this._baseHref}prepareExternalUrl(K){return Oe(this._baseHref,K)}path(K=!1){const Ee=this._platformLocation.pathname+qe(this._platformLocation.search),at=this._platformLocation.hash;return at&&K?`${Ee}${at}`:Ee}pushState(K,Ee,at,mn){const Wn=this.prepareExternalUrl(at+qe(mn));this._platformLocation.pushState(K,Ee,Wn)}replaceState(K,Ee,at,mn){const Wn=this.prepareExternalUrl(at+qe(mn));this._platformLocation.replaceState(K,Ee,Wn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(K=0){var Ee,at;null===(Ee=(at=this._platformLocation).historyGo)||void 0===Ee||Ee.call(at,K)}}return(P=ee).\u0275fac=function(K){return new(K||P)(x.KVO(se),x.KVO(ot,8))},P.\u0275prov=x.jDH({token:P,factory:P.\u0275fac,providedIn:"root"}),ee})(),Pe=(()=>{var P;class ee extends Ne{constructor(K,Ee){super(),this._platformLocation=K,this._baseHref="",this._removeListenerFns=[],null!=Ee&&(this._baseHref=Ee)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(K){this._removeListenerFns.push(this._platformLocation.onPopState(K),this._platformLocation.onHashChange(K))}getBaseHref(){return this._baseHref}path(K=!1){var Ee;const at=null!==(Ee=this._platformLocation.hash)&&void 0!==Ee?Ee:"#";return at.length>0?at.substring(1):at}prepareExternalUrl(K){const Ee=Oe(this._baseHref,K);return Ee.length>0?"#"+Ee:Ee}pushState(K,Ee,at,mn){let Wn=this.prepareExternalUrl(at+qe(mn));0==Wn.length&&(Wn=this._platformLocation.pathname),this._platformLocation.pushState(K,Ee,Wn)}replaceState(K,Ee,at,mn){let Wn=this.prepareExternalUrl(at+qe(mn));0==Wn.length&&(Wn=this._platformLocation.pathname),this._platformLocation.replaceState(K,Ee,Wn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(K=0){var Ee,at;null===(Ee=(at=this._platformLocation).historyGo)||void 0===Ee||Ee.call(at,K)}}return(P=ee).\u0275fac=function(K){return new(K||P)(x.KVO(se),x.KVO(ot,8))},P.\u0275prov=x.jDH({token:P,factory:P.\u0275fac}),ee})(),pe=(()=>{var P;class ee{constructor(K){this._subject=new x.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=K;const Ee=this._locationStrategy.getBaseHref();this._basePath=function Ce(P){if(new RegExp("^(https?:)?//").test(P)){const[,Ye]=P.split(/\/\/[^\/]+/);return Ye}return P}(Se(Je(Ee))),this._locationStrategy.onPopState(at=>{this._subject.emit({url:this.path(!0),pop:!0,state:at.state,type:at.type})})}ngOnDestroy(){var K;null===(K=this._urlChangeSubscription)||void 0===K||K.unsubscribe(),this._urlChangeListeners=[]}path(K=!1){return this.normalize(this._locationStrategy.path(K))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(K,Ee=""){return this.path()==this.normalize(K+qe(Ee))}normalize(K){return ee.stripTrailingSlash(function ct(P,ee){if(!P||!ee.startsWith(P))return ee;const Ye=ee.substring(P.length);return""===Ye||["/",";","?","#"].includes(Ye[0])?Ye:ee}(this._basePath,Je(K)))}prepareExternalUrl(K){return K&&"/"!==K[0]&&(K="/"+K),this._locationStrategy.prepareExternalUrl(K)}go(K,Ee="",at=null){this._locationStrategy.pushState(at,"",K,Ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(K+qe(Ee)),at)}replaceState(K,Ee="",at=null){this._locationStrategy.replaceState(at,"",K,Ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(K+qe(Ee)),at)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(K=0){var Ee,at;null===(Ee=(at=this._locationStrategy).historyGo)||void 0===Ee||Ee.call(at,K)}onUrlChange(K){var Ee;return this._urlChangeListeners.push(K),null!==(Ee=this._urlChangeSubscription)&&void 0!==Ee||(this._urlChangeSubscription=this.subscribe(at=>{this._notifyUrlChangeListeners(at.url,at.state)})),()=>{const at=this._urlChangeListeners.indexOf(K);var mn;this._urlChangeListeners.splice(at,1),0===this._urlChangeListeners.length&&(null===(mn=this._urlChangeSubscription)||void 0===mn||mn.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(K="",Ee){this._urlChangeListeners.forEach(at=>at(K,Ee))}subscribe(K,Ee,at){return this._subject.subscribe({next:K,error:Ee,complete:at})}}return(P=ee).normalizeQueryParams=qe,P.joinWithSlash=Oe,P.stripTrailingSlash=Se,P.\u0275fac=function(K){return new(K||P)(x.KVO(Ne))},P.\u0275prov=x.jDH({token:P,factory:()=>function vt(){return new pe((0,x.KVO)(Ne))}(),providedIn:"root"}),ee})();function Je(P){return P.replace(/\/index.html$/,"")}var Dt=function(P){return P[P.Format=0]="Format",P[P.Standalone=1]="Standalone",P}(Dt||{}),Ke=function(P){return P[P.Narrow=0]="Narrow",P[P.Abbreviated=1]="Abbreviated",P[P.Wide=2]="Wide",P[P.Short=3]="Short",P}(Ke||{}),je=function(P){return P[P.Short=0]="Short",P[P.Medium=1]="Medium",P[P.Long=2]="Long",P[P.Full=3]="Full",P}(je||{});const Lt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function de(P,ee){return xr((0,x.H5H)(P)[x.KH2.DateFormat],ee)}function Ae(P,ee){return xr((0,x.H5H)(P)[x.KH2.TimeFormat],ee)}function Et(P,ee){return xr((0,x.H5H)(P)[x.KH2.DateTimeFormat],ee)}function Mt(P,ee){const Ye=(0,x.H5H)(P),K=Ye[x.KH2.NumberSymbols][ee];if(typeof K>"u"){if(ee===Lt.CurrencyDecimal)return Ye[x.KH2.NumberSymbols][Lt.Decimal];if(ee===Lt.CurrencyGroup)return Ye[x.KH2.NumberSymbols][Lt.Group]}return K}function wr(P){if(!P[x.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${P[x.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function xr(P,ee){for(let Ye=ee;Ye>-1;Ye--)if(typeof P[Ye]<"u")return P[Ye];throw new Error("Locale data API: locale data undefined")}function pr(P){const[ee,Ye]=P.split(":");return{hours:+ee,minutes:+Ye}}const rn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Kt={},Br=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Tr=function(P){return P[P.Short=0]="Short",P[P.ShortGMT=1]="ShortGMT",P[P.Long=2]="Long",P[P.Extended=3]="Extended",P}(Tr||{}),sr=function(P){return P[P.FullYear=0]="FullYear",P[P.Month=1]="Month",P[P.Date=2]="Date",P[P.Hours=3]="Hours",P[P.Minutes=4]="Minutes",P[P.Seconds=5]="Seconds",P[P.FractionalSeconds=6]="FractionalSeconds",P[P.Day=7]="Day",P}(sr||{}),fr=function(P){return P[P.DayPeriods=0]="DayPeriods",P[P.Days=1]="Days",P[P.Months=2]="Months",P[P.Eras=3]="Eras",P}(fr||{});function uo(P,ee,Ye,K){let Ee=function Nn(P){if(jt(P))return P;if("number"==typeof P&&!isNaN(P))return new Date(P);if("string"==typeof P){if(P=P.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(P)){const[Ee,at=1,mn=1]=P.split("-").map(Wn=>+Wn);return ho(Ee,at-1,mn)}const Ye=parseFloat(P);if(!isNaN(P-Ye))return new Date(Ye);let K;if(K=P.match(rn))return function bt(P){const ee=new Date(0);let Ye=0,K=0;const Ee=P[8]?ee.setUTCFullYear:ee.setFullYear,at=P[8]?ee.setUTCHours:ee.setHours;P[9]&&(Ye=Number(P[9]+P[10]),K=Number(P[9]+P[11])),Ee.call(ee,Number(P[1]),Number(P[2])-1,Number(P[3]));const mn=Number(P[4]||0)-Ye,Wn=Number(P[5]||0)-K,Wr=Number(P[6]||0),Yo=Math.floor(1e3*parseFloat("0."+(P[7]||0)));return at.call(ee,mn,Wn,Wr,Yo),ee}(K)}const ee=new Date(P);if(!jt(ee))throw new Error(`Unable to convert "${P}" into a date`);return ee}(P);ee=Vr(Ye,ee)||ee;let Wn,mn=[];for(;ee;){if(Wn=Br.exec(ee),!Wn){mn.push(ee);break}{mn=mn.concat(Wn.slice(1));const Go=mn.pop();if(!Go)break;ee=Go}}let Wr=Ee.getTimezoneOffset();K&&(Wr=_t(K,Wr),Ee=function _n(P,ee,Ye){const K=Ye?-1:1,Ee=P.getTimezoneOffset();return function Tt(P,ee){return(P=new Date(P.getTime())).setMinutes(P.getMinutes()+ee),P}(P,K*(_t(ee,Ee)-Ee))}(Ee,K,!0));let Yo="";return mn.forEach(Go=>{const Lo=function sn(P){if(Pt[P])return Pt[P];let ee;switch(P){case"G":case"GG":case"GGG":ee=Er(fr.Eras,Ke.Abbreviated);break;case"GGGG":ee=Er(fr.Eras,Ke.Wide);break;case"GGGGG":ee=Er(fr.Eras,Ke.Narrow);break;case"y":ee=Jr(sr.FullYear,1,0,!1,!0);break;case"yy":ee=Jr(sr.FullYear,2,0,!0,!0);break;case"yyy":ee=Jr(sr.FullYear,3,0,!1,!0);break;case"yyyy":ee=Jr(sr.FullYear,4,0,!1,!0);break;case"Y":ee=Qt(1);break;case"YY":ee=Qt(2,!0);break;case"YYY":ee=Qt(3);break;case"YYYY":ee=Qt(4);break;case"M":case"L":ee=Jr(sr.Month,1,1);break;case"MM":case"LL":ee=Jr(sr.Month,2,1);break;case"MMM":ee=Er(fr.Months,Ke.Abbreviated);break;case"MMMM":ee=Er(fr.Months,Ke.Wide);break;case"MMMMM":ee=Er(fr.Months,Ke.Narrow);break;case"LLL":ee=Er(fr.Months,Ke.Abbreviated,Dt.Standalone);break;case"LLLL":ee=Er(fr.Months,Ke.Wide,Dt.Standalone);break;case"LLLLL":ee=Er(fr.Months,Ke.Narrow,Dt.Standalone);break;case"w":ee=lo(1);break;case"ww":ee=lo(2);break;case"W":ee=lo(1,!0);break;case"d":ee=Jr(sr.Date,1);break;case"dd":ee=Jr(sr.Date,2);break;case"c":case"cc":ee=Jr(sr.Day,1);break;case"ccc":ee=Er(fr.Days,Ke.Abbreviated,Dt.Standalone);break;case"cccc":ee=Er(fr.Days,Ke.Wide,Dt.Standalone);break;case"ccccc":ee=Er(fr.Days,Ke.Narrow,Dt.Standalone);break;case"cccccc":ee=Er(fr.Days,Ke.Short,Dt.Standalone);break;case"E":case"EE":case"EEE":ee=Er(fr.Days,Ke.Abbreviated);break;case"EEEE":ee=Er(fr.Days,Ke.Wide);break;case"EEEEE":ee=Er(fr.Days,Ke.Narrow);break;case"EEEEEE":ee=Er(fr.Days,Ke.Short);break;case"a":case"aa":case"aaa":ee=Er(fr.DayPeriods,Ke.Abbreviated);break;case"aaaa":ee=Er(fr.DayPeriods,Ke.Wide);break;case"aaaaa":ee=Er(fr.DayPeriods,Ke.Narrow);break;case"b":case"bb":case"bbb":ee=Er(fr.DayPeriods,Ke.Abbreviated,Dt.Standalone,!0);break;case"bbbb":ee=Er(fr.DayPeriods,Ke.Wide,Dt.Standalone,!0);break;case"bbbbb":ee=Er(fr.DayPeriods,Ke.Narrow,Dt.Standalone,!0);break;case"B":case"BB":case"BBB":ee=Er(fr.DayPeriods,Ke.Abbreviated,Dt.Format,!0);break;case"BBBB":ee=Er(fr.DayPeriods,Ke.Wide,Dt.Format,!0);break;case"BBBBB":ee=Er(fr.DayPeriods,Ke.Narrow,Dt.Format,!0);break;case"h":ee=Jr(sr.Hours,1,-12);break;case"hh":ee=Jr(sr.Hours,2,-12);break;case"H":ee=Jr(sr.Hours,1);break;case"HH":ee=Jr(sr.Hours,2);break;case"m":ee=Jr(sr.Minutes,1);break;case"mm":ee=Jr(sr.Minutes,2);break;case"s":ee=Jr(sr.Seconds,1);break;case"ss":ee=Jr(sr.Seconds,2);break;case"S":ee=Jr(sr.FractionalSeconds,1);break;case"SS":ee=Jr(sr.FractionalSeconds,2);break;case"SSS":ee=Jr(sr.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ee=Lr(Tr.Short);break;case"ZZZZZ":ee=Lr(Tr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ee=Lr(Tr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ee=Lr(Tr.Long);break;default:return null}return Pt[P]=ee,ee}(Go);Yo+=Lo?Lo(Ee,Ye,Wr):"''"===Go?"'":Go.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Yo}function ho(P,ee,Ye){const K=new Date(0);return K.setFullYear(P,ee,Ye),K.setHours(0,0,0),K}function Vr(P,ee){var Ye;const K=function Xn(P){return(0,x.H5H)(P)[x.KH2.LocaleId]}(P);if(null!==(Ye=Kt[K])&&void 0!==Ye||(Kt[K]={}),Kt[K][ee])return Kt[K][ee];let Ee="";switch(ee){case"shortDate":Ee=de(P,je.Short);break;case"mediumDate":Ee=de(P,je.Medium);break;case"longDate":Ee=de(P,je.Long);break;case"fullDate":Ee=de(P,je.Full);break;case"shortTime":Ee=Ae(P,je.Short);break;case"mediumTime":Ee=Ae(P,je.Medium);break;case"longTime":Ee=Ae(P,je.Long);break;case"fullTime":Ee=Ae(P,je.Full);break;case"short":const at=Vr(P,"shortTime"),mn=Vr(P,"shortDate");Ee=ko(Et(P,je.Short),[at,mn]);break;case"medium":const Wn=Vr(P,"mediumTime"),Wr=Vr(P,"mediumDate");Ee=ko(Et(P,je.Medium),[Wn,Wr]);break;case"long":const Yo=Vr(P,"longTime"),Go=Vr(P,"longDate");Ee=ko(Et(P,je.Long),[Yo,Go]);break;case"full":const Lo=Vr(P,"fullTime"),ti=Vr(P,"fullDate");Ee=ko(Et(P,je.Full),[Lo,ti])}return Ee&&(Kt[K][ee]=Ee),Ee}function ko(P,ee){return ee&&(P=P.replace(/\{([^}]+)}/g,function(Ye,K){return null!=ee&&K in ee?ee[K]:Ye})),P}function Hr(P,ee,Ye="-",K,Ee){let at="";(P<0||Ee&&P<=0)&&(Ee?P=1-P:(P=-P,at=Ye));let mn=String(P);for(;mn.length<ee;)mn="0"+mn;return K&&(mn=mn.slice(mn.length-ee)),at+mn}function Jr(P,ee,Ye=0,K=!1,Ee=!1){return function(at,mn){let Wn=function xo(P,ee){switch(P){case sr.FullYear:return ee.getFullYear();case sr.Month:return ee.getMonth();case sr.Date:return ee.getDate();case sr.Hours:return ee.getHours();case sr.Minutes:return ee.getMinutes();case sr.Seconds:return ee.getSeconds();case sr.FractionalSeconds:return ee.getMilliseconds();case sr.Day:return ee.getDay();default:throw new Error(`Unknown DateType value "${P}".`)}}(P,at);if((Ye>0||Wn>-Ye)&&(Wn+=Ye),P===sr.Hours)0===Wn&&-12===Ye&&(Wn=12);else if(P===sr.FractionalSeconds)return function zr(P,ee){return Hr(P,3).substring(0,ee)}(Wn,ee);const Wr=Mt(mn,Lt.MinusSign);return Hr(Wn,ee,Wr,K,Ee)}}function Er(P,ee,Ye=Dt.Format,K=!1){return function(Ee,at){return function To(P,ee,Ye,K,Ee,at){switch(Ye){case fr.Months:return function lr(P,ee,Ye){const K=(0,x.H5H)(P),at=xr([K[x.KH2.MonthsFormat],K[x.KH2.MonthsStandalone]],ee);return xr(at,Ye)}(ee,Ee,K)[P.getMonth()];case fr.Days:return function Kn(P,ee,Ye){const K=(0,x.H5H)(P),at=xr([K[x.KH2.DaysFormat],K[x.KH2.DaysStandalone]],ee);return xr(at,Ye)}(ee,Ee,K)[P.getDay()];case fr.DayPeriods:const mn=P.getHours(),Wn=P.getMinutes();if(at){const Yo=function Xr(P){const ee=(0,x.H5H)(P);return wr(ee),(ee[x.KH2.ExtraData][2]||[]).map(K=>"string"==typeof K?pr(K):[pr(K[0]),pr(K[1])])}(ee),Go=function hr(P,ee,Ye){const K=(0,x.H5H)(P);wr(K);const at=xr([K[x.KH2.ExtraData][0],K[x.KH2.ExtraData][1]],ee)||[];return xr(at,Ye)||[]}(ee,Ee,K),Lo=Yo.findIndex(ti=>{if(Array.isArray(ti)){const[ni,wi]=ti,Qi=mn>=ni.hours&&Wn>=ni.minutes,Ro=mn<wi.hours||mn===wi.hours&&Wn<wi.minutes;if(ni.hours<wi.hours){if(Qi&&Ro)return!0}else if(Qi||Ro)return!0}else if(ti.hours===mn&&ti.minutes===Wn)return!0;return!1});if(-1!==Lo)return Go[Lo]}return function tn(P,ee,Ye){const K=(0,x.H5H)(P),at=xr([K[x.KH2.DayPeriodsFormat],K[x.KH2.DayPeriodsStandalone]],ee);return xr(at,Ye)}(ee,Ee,K)[mn<12?0:1];case fr.Eras:return function ut(P,ee){return xr((0,x.H5H)(P)[x.KH2.Eras],ee)}(ee,K)[P.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Ye}`)}}(Ee,at,P,ee,Ye,K)}}function Lr(P){return function(ee,Ye,K){const Ee=-1*K,at=Mt(Ye,Lt.MinusSign),mn=Ee>0?Math.floor(Ee/60):Math.ceil(Ee/60);switch(P){case Tr.Short:return(Ee>=0?"+":"")+Hr(mn,2,at)+Hr(Math.abs(Ee%60),2,at);case Tr.ShortGMT:return"GMT"+(Ee>=0?"+":"")+Hr(mn,1,at);case Tr.Long:return"GMT"+(Ee>=0?"+":"")+Hr(mn,2,at)+":"+Hr(Math.abs(Ee%60),2,at);case Tr.Extended:return 0===K?"Z":(Ee>=0?"+":"")+Hr(mn,2,at)+":"+Hr(Math.abs(Ee%60),2,at);default:throw new Error(`Unknown zone width "${P}"`)}}}const io=0,nn=4;function $r(P){const ee=P.getDay(),Ye=0===ee?-3:nn-ee;return ho(P.getFullYear(),P.getMonth(),P.getDate()+Ye)}function lo(P,ee=!1){return function(Ye,K){let Ee;if(ee){const at=new Date(Ye.getFullYear(),Ye.getMonth(),1).getDay()-1,mn=Ye.getDate();Ee=1+Math.floor((mn+at)/7)}else{const at=$r(Ye),mn=function Ir(P){const ee=ho(P,io,1).getDay();return ho(P,0,1+(ee<=nn?nn:nn+7)-ee)}(at.getFullYear()),Wn=at.getTime()-mn.getTime();Ee=1+Math.round(Wn/6048e5)}return Hr(Ee,P,Mt(K,Lt.MinusSign))}}function Qt(P,ee=!1){return function(Ye,K){return Hr($r(Ye).getFullYear(),P,Mt(K,Lt.MinusSign),ee)}}const Pt={};function _t(P,ee){P=P.replace(/:/g,"");const Ye=Date.parse("Jan 01, 1970 00:00:00 "+P)/6e4;return isNaN(Ye)?ee:Ye}function jt(P){return P instanceof Date&&!isNaN(P.valueOf())}function zo(P,ee,Ye){return(0,x.XSP)(P,ee,Ye)}function Qe(P,ee){ee=encodeURIComponent(ee);for(const Ye of P.split(";")){const K=Ye.indexOf("="),[Ee,at]=-1==K?[Ye,""]:[Ye.slice(0,K),Ye.slice(K+1)];if(Ee.trim()===ee)return decodeURIComponent(at)}return null}const an=/\s+/,zn=[];let _r=(()=>{var P;class ee{constructor(K,Ee){this._ngEl=K,this._renderer=Ee,this.initialClasses=zn,this.stateMap=new Map}set klass(K){this.initialClasses=null!=K?K.trim().split(an):zn}set ngClass(K){this.rawClass="string"==typeof K?K.trim().split(an):K}ngDoCheck(){for(const Ee of this.initialClasses)this._updateState(Ee,!0);const K=this.rawClass;if(Array.isArray(K)||K instanceof Set)for(const Ee of K)this._updateState(Ee,!0);else if(null!=K)for(const Ee of Object.keys(K))this._updateState(Ee,!!K[Ee]);this._applyStateDiff()}_updateState(K,Ee){const at=this.stateMap.get(K);void 0!==at?(at.enabled!==Ee&&(at.changed=!0,at.enabled=Ee),at.touched=!0):this.stateMap.set(K,{enabled:Ee,changed:!0,touched:!0})}_applyStateDiff(){for(const K of this.stateMap){const Ee=K[0],at=K[1];at.changed?(this._toggleClass(Ee,at.enabled),at.changed=!1):at.touched||(at.enabled&&this._toggleClass(Ee,!1),this.stateMap.delete(Ee)),at.touched=!1}}_toggleClass(K,Ee){(K=K.trim()).length>0&&K.split(an).forEach(at=>{Ee?this._renderer.addClass(this._ngEl.nativeElement,at):this._renderer.removeClass(this._ngEl.nativeElement,at)})}}return(P=ee).\u0275fac=function(K){return new(K||P)(x.rXU(x.aKT),x.rXU(x.sFG))},P.\u0275dir=x.FsC({type:P,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0}),ee})();class et{constructor(ee,Ye,K,Ee){this.$implicit=ee,this.ngForOf=Ye,this.index=K,this.count=Ee}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Rt=(()=>{var P;class ee{set ngForOf(K){this._ngForOf=K,this._ngForOfDirty=!0}set ngForTrackBy(K){this._trackByFn=K}get ngForTrackBy(){return this._trackByFn}constructor(K,Ee,at){this._viewContainer=K,this._template=Ee,this._differs=at,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(K){K&&(this._template=K)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const K=this._ngForOf;!this._differ&&K&&(this._differ=this._differs.find(K).create(this.ngForTrackBy))}if(this._differ){const K=this._differ.diff(this._ngForOf);K&&this._applyChanges(K)}}_applyChanges(K){const Ee=this._viewContainer;K.forEachOperation((at,mn,Wn)=>{if(null==at.previousIndex)Ee.createEmbeddedView(this._template,new et(at.item,this._ngForOf,-1,-1),null===Wn?void 0:Wn);else if(null==Wn)Ee.remove(null===mn?void 0:mn);else if(null!==mn){const Wr=Ee.get(mn);Ee.move(Wr,Wn),ae(Wr,at)}});for(let at=0,mn=Ee.length;at<mn;at++){const Wr=Ee.get(at).context;Wr.index=at,Wr.count=mn,Wr.ngForOf=this._ngForOf}K.forEachIdentityChange(at=>{ae(Ee.get(at.currentIndex),at)})}static ngTemplateContextGuard(K,Ee){return!0}}return(P=ee).\u0275fac=function(K){return new(K||P)(x.rXU(x.c1b),x.rXU(x.C4Q),x.rXU(x._q3))},P.\u0275dir=x.FsC({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),ee})();function ae(P,ee){P.context.$implicit=ee.item}let Ie=(()=>{var P;class ee{constructor(K,Ee){this._viewContainer=K,this._context=new Xe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Ee}set ngIf(K){this._context.$implicit=this._context.ngIf=K,this._updateView()}set ngIfThen(K){nt("ngIfThen",K),this._thenTemplateRef=K,this._thenViewRef=null,this._updateView()}set ngIfElse(K){nt("ngIfElse",K),this._elseTemplateRef=K,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(K,Ee){return!0}}return(P=ee).\u0275fac=function(K){return new(K||P)(x.rXU(x.c1b),x.rXU(x.C4Q))},P.\u0275dir=x.FsC({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),ee})();class Xe{constructor(){this.$implicit=null,this.ngIf=null}}function nt(P,ee){if(ee&&!ee.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,x.Tbb)(ee)}'.`)}let br=(()=>{var P;class ee{constructor(K){this._viewContainerRef=K,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(K){if(this._shouldRecreateView(K)){var Ee;const at=this._viewContainerRef;if(this._viewRef&&at.remove(at.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const mn=this._createContextForwardProxy();this._viewRef=at.createEmbeddedView(this.ngTemplateOutlet,mn,{injector:null!==(Ee=this.ngTemplateOutletInjector)&&void 0!==Ee?Ee:void 0})}}_shouldRecreateView(K){return!!K.ngTemplateOutlet||!!K.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(K,Ee,at)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,Ee,at),get:(K,Ee,at)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,Ee,at)}})}}return(P=ee).\u0275fac=function(K){return new(K||P)(x.rXU(x.c1b))},P.\u0275dir=x.FsC({type:P,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[x.OA$]}),ee})();function kr(P,ee){return new x.wOt(2100,!1)}const qi=new x.nKC(""),Mi=new x.nKC("");let Mo=(()=>{var P;class ee{constructor(K,Ee,at){this.locale=K,this.defaultTimezone=Ee,this.defaultOptions=at}transform(K,Ee,at,mn){if(null==K||""===K||K!=K)return null;try{var Wn,Wr,Yo,Go,Lo;const ti=null!==(Wn=null!=Ee?Ee:null===(Wr=this.defaultOptions)||void 0===Wr?void 0:Wr.dateFormat)&&void 0!==Wn?Wn:"mediumDate",ni=null!==(Yo=null!==(Go=null!=at?at:null===(Lo=this.defaultOptions)||void 0===Lo?void 0:Lo.timezone)&&void 0!==Go?Go:this.defaultTimezone)&&void 0!==Yo?Yo:void 0;return uo(K,ti,mn||this.locale,ni)}catch(ti){throw kr()}}}return(P=ee).\u0275fac=function(K){return new(K||P)(x.rXU(x.xe9,16),x.rXU(qi,24),x.rXU(Mi,24))},P.\u0275pipe=x.EJ8({name:"date",type:P,pure:!0,standalone:!0}),ee})(),st=(()=>{var P;class ee{transform(K,Ee,at){if(null==K)return null;if(!this.supports(K))throw kr();return K.slice(Ee,at)}supports(K){return"string"==typeof K||Array.isArray(K)}}return(P=ee).\u0275fac=function(K){return new(K||P)},P.\u0275pipe=x.EJ8({name:"slice",type:P,pure:!1,standalone:!0}),ee})(),kt=(()=>{var P;class ee{}return(P=ee).\u0275fac=function(K){return new(K||P)},P.\u0275mod=x.$C({type:P}),P.\u0275inj=x.G2t({}),ee})();const Nt="browser",Vt="server";function In(P){return P===Nt}function Fn(P){return P===Vt}let ur=(()=>{var P;class ee{}return(P=ee).\u0275prov=(0,x.jDH)({token:P,providedIn:"root",factory:()=>In((0,x.WQX)(x.Agw))?new Mr((0,x.WQX)(ke),window):new Oo}),ee})();class Mr{constructor(ee,Ye){this.document=ee,this.window=Ye,this.offset=()=>[0,0]}setOffset(ee){this.offset=Array.isArray(ee)?()=>ee:ee}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(ee){this.window.scrollTo(ee[0],ee[1])}scrollToAnchor(ee){const Ye=function Pr(P,ee){const Ye=P.getElementById(ee)||P.getElementsByName(ee)[0];if(Ye)return Ye;if("function"==typeof P.createTreeWalker&&P.body&&"function"==typeof P.body.attachShadow){const K=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let Ee=K.currentNode;for(;Ee;){const at=Ee.shadowRoot;if(at){const mn=at.getElementById(ee)||at.querySelector(`[name="${ee}"]`);if(mn)return mn}Ee=K.nextNode()}}return null}(this.document,ee);Ye&&(this.scrollToElement(Ye),Ye.focus())}setHistoryScrollRestoration(ee){this.window.history.scrollRestoration=ee}scrollToElement(ee){const Ye=ee.getBoundingClientRect(),K=Ye.left+this.window.pageXOffset,Ee=Ye.top+this.window.pageYOffset,at=this.offset();this.window.scrollTo(K-at[0],Ee-at[1])}}class Oo{setOffset(ee){}getScrollPosition(){return[0,0]}scrollToPosition(ee){}scrollToAnchor(ee){}setHistoryScrollRestoration(ee){}}class Wo{}},1626:(Vn,At,B)=>{"use strict";B.d(At,{$R:()=>_n,Nl:()=>Ce,Qq:()=>Et,b$:()=>Nn});var x=B(467),g=B(4438),H=B(7673),_e=B(1985),J=B(6648),S=B(274),ke=B(5964),se=B(6354),Ge=B(980),wt=B(5558),Oe=B(177);class Se{}class qe{}class Ne{constructor(et){this.normalizedNames=new Map,this.lazyUpdate=null,et?"string"==typeof et?this.lazyInit=()=>{this.headers=new Map,et.split("\n").forEach(Rt=>{const ae=Rt.indexOf(":");if(ae>0){const Le=Rt.slice(0,ae),Ie=Le.toLowerCase(),Xe=Rt.slice(ae+1).trim();this.maybeSetNormalizedName(Le,Ie),this.headers.has(Ie)?this.headers.get(Ie).push(Xe):this.headers.set(Ie,[Xe])}})}:typeof Headers<"u"&&et instanceof Headers?(this.headers=new Map,et.forEach((Rt,ae)=>{this.setHeaderEntries(ae,Rt)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(et).forEach(([Rt,ae])=>{this.setHeaderEntries(Rt,ae)})}:this.headers=new Map}has(et){return this.init(),this.headers.has(et.toLowerCase())}get(et){this.init();const Rt=this.headers.get(et.toLowerCase());return Rt&&Rt.length>0?Rt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(et){return this.init(),this.headers.get(et.toLowerCase())||null}append(et,Rt){return this.clone({name:et,value:Rt,op:"a"})}set(et,Rt){return this.clone({name:et,value:Rt,op:"s"})}delete(et,Rt){return this.clone({name:et,value:Rt,op:"d"})}maybeSetNormalizedName(et,Rt){this.normalizedNames.has(Rt)||this.normalizedNames.set(Rt,et)}init(){this.lazyInit&&(this.lazyInit instanceof Ne?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(et=>this.applyUpdate(et)),this.lazyUpdate=null))}copyFrom(et){et.init(),Array.from(et.headers.keys()).forEach(Rt=>{this.headers.set(Rt,et.headers.get(Rt)),this.normalizedNames.set(Rt,et.normalizedNames.get(Rt))})}clone(et){const Rt=new Ne;return Rt.lazyInit=this.lazyInit&&this.lazyInit instanceof Ne?this.lazyInit:this,Rt.lazyUpdate=(this.lazyUpdate||[]).concat([et]),Rt}applyUpdate(et){const Rt=et.name.toLowerCase();switch(et.op){case"a":case"s":let ae=et.value;if("string"==typeof ae&&(ae=[ae]),0===ae.length)return;this.maybeSetNormalizedName(et.name,Rt);const Le=("a"===et.op?this.headers.get(Rt):void 0)||[];Le.push(...ae),this.headers.set(Rt,Le);break;case"d":const Ie=et.value;if(Ie){let Xe=this.headers.get(Rt);if(!Xe)return;Xe=Xe.filter(nt=>-1===Ie.indexOf(nt)),0===Xe.length?(this.headers.delete(Rt),this.normalizedNames.delete(Rt)):this.headers.set(Rt,Xe)}else this.headers.delete(Rt),this.normalizedNames.delete(Rt)}}setHeaderEntries(et,Rt){const ae=(Array.isArray(Rt)?Rt:[Rt]).map(Ie=>Ie.toString()),Le=et.toLowerCase();this.headers.set(Le,ae),this.maybeSetNormalizedName(et,Le)}forEach(et){this.init(),Array.from(this.normalizedNames.keys()).forEach(Rt=>et(this.normalizedNames.get(Rt),this.headers.get(Rt)))}}class it{encodeKey(et){return ct(et)}encodeValue(et){return ct(et)}decodeKey(et){return decodeURIComponent(et)}decodeValue(et){return decodeURIComponent(et)}}const pe=/%(\d[a-f0-9])/gi,vt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ct(Te){return encodeURIComponent(Te).replace(pe,(et,Rt)=>{var ae;return null!==(ae=vt[Rt])&&void 0!==ae?ae:et})}function Je(Te){return`${Te}`}class Ce{constructor(et={}){if(this.updates=null,this.cloneFrom=null,this.encoder=et.encoder||new it,et.fromString){if(et.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Pe(Te,et){const Rt=new Map;return Te.length>0&&Te.replace(/^\?/,"").split("&").forEach(Le=>{const Ie=Le.indexOf("="),[Xe,nt]=-1==Ie?[et.decodeKey(Le),""]:[et.decodeKey(Le.slice(0,Ie)),et.decodeValue(Le.slice(Ie+1))],yt=Rt.get(Xe)||[];yt.push(nt),Rt.set(Xe,yt)}),Rt}(et.fromString,this.encoder)}else et.fromObject?(this.map=new Map,Object.keys(et.fromObject).forEach(Rt=>{const ae=et.fromObject[Rt],Le=Array.isArray(ae)?ae.map(Je):[Je(ae)];this.map.set(Rt,Le)})):this.map=null}has(et){return this.init(),this.map.has(et)}get(et){this.init();const Rt=this.map.get(et);return Rt?Rt[0]:null}getAll(et){return this.init(),this.map.get(et)||null}keys(){return this.init(),Array.from(this.map.keys())}append(et,Rt){return this.clone({param:et,value:Rt,op:"a"})}appendAll(et){const Rt=[];return Object.keys(et).forEach(ae=>{const Le=et[ae];Array.isArray(Le)?Le.forEach(Ie=>{Rt.push({param:ae,value:Ie,op:"a"})}):Rt.push({param:ae,value:Le,op:"a"})}),this.clone(Rt)}set(et,Rt){return this.clone({param:et,value:Rt,op:"s"})}delete(et,Rt){return this.clone({param:et,value:Rt,op:"d"})}toString(){return this.init(),this.keys().map(et=>{const Rt=this.encoder.encodeKey(et);return this.map.get(et).map(ae=>Rt+"="+this.encoder.encodeValue(ae)).join("&")}).filter(et=>""!==et).join("&")}clone(et){const Rt=new Ce({encoder:this.encoder});return Rt.cloneFrom=this.cloneFrom||this,Rt.updates=(this.updates||[]).concat(et),Rt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(et=>this.map.set(et,this.cloneFrom.map.get(et))),this.updates.forEach(et=>{switch(et.op){case"a":case"s":const Rt=("a"===et.op?this.map.get(et.param):void 0)||[];Rt.push(Je(et.value)),this.map.set(et.param,Rt);break;case"d":if(void 0===et.value){this.map.delete(et.param);break}{let ae=this.map.get(et.param)||[];const Le=ae.indexOf(Je(et.value));-1!==Le&&ae.splice(Le,1),ae.length>0?this.map.set(et.param,ae):this.map.delete(et.param)}}}),this.cloneFrom=this.updates=null)}}class re{constructor(){this.map=new Map}set(et,Rt){return this.map.set(et,Rt),this}get(et){return this.map.has(et)||this.map.set(et,et.defaultValue()),this.map.get(et)}delete(et){return this.map.delete(et),this}has(et){return this.map.has(et)}keys(){return this.map.keys()}}function Dt(Te){return typeof ArrayBuffer<"u"&&Te instanceof ArrayBuffer}function Ke(Te){return typeof Blob<"u"&&Te instanceof Blob}function je(Te){return typeof FormData<"u"&&Te instanceof FormData}class Bt{constructor(et,Rt,ae,Le){var Ie,Xe;let nt;if(this.url=Rt,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=et.toUpperCase(),function rt(Te){switch(Te){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Le?(this.body=void 0!==ae?ae:null,nt=Le):nt=ae,nt&&(this.reportProgress=!!nt.reportProgress,this.withCredentials=!!nt.withCredentials,nt.responseType&&(this.responseType=nt.responseType),nt.headers&&(this.headers=nt.headers),nt.context&&(this.context=nt.context),nt.params&&(this.params=nt.params),this.transferCache=nt.transferCache),null!==(Ie=this.headers)&&void 0!==Ie||(this.headers=new Ne),null!==(Xe=this.context)&&void 0!==Xe||(this.context=new re),this.params){const yt=this.params.toString();if(0===yt.length)this.urlWithParams=Rt;else{const $t=Rt.indexOf("?");this.urlWithParams=Rt+(-1===$t?"?":$t<Rt.length-1?"&":"")+yt}}else this.params=new Ce,this.urlWithParams=Rt}serializeBody(){return null===this.body?null:"string"==typeof this.body||Dt(this.body)||Ke(this.body)||je(this.body)||function Lt(Te){return typeof URLSearchParams<"u"&&Te instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Ce?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||je(this.body)?null:Ke(this.body)?this.body.type||null:Dt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ce?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(et={}){var Rt,ae,Le,Ie;const Xe=et.method||this.method,nt=et.url||this.url,yt=et.responseType||this.responseType,$t=null!==(Rt=et.transferCache)&&void 0!==Rt?Rt:this.transferCache,fn=void 0!==et.body?et.body:this.body,Rn=null!==(ae=et.withCredentials)&&void 0!==ae?ae:this.withCredentials,kn=null!==(Le=et.reportProgress)&&void 0!==Le?Le:this.reportProgress;let xn=et.headers||this.headers,tr=et.params||this.params;const Cr=null!==(Ie=et.context)&&void 0!==Ie?Ie:this.context;return void 0!==et.setHeaders&&(xn=Object.keys(et.setHeaders).reduce((mr,br)=>mr.set(br,et.setHeaders[br]),xn)),et.setParams&&(tr=Object.keys(et.setParams).reduce((mr,br)=>mr.set(br,et.setParams[br]),tr)),new Bt(Xe,nt,fn,{params:tr,headers:xn,context:Cr,reportProgress:kn,responseType:yt,withCredentials:Rn,transferCache:$t})}}var Xn=function(Te){return Te[Te.Sent=0]="Sent",Te[Te.UploadProgress=1]="UploadProgress",Te[Te.ResponseHeader=2]="ResponseHeader",Te[Te.DownloadProgress=3]="DownloadProgress",Te[Te.Response=4]="Response",Te[Te.User=5]="User",Te}(Xn||{});class tn{constructor(et,Rt=200,ae="OK"){this.headers=et.headers||new Ne,this.status=void 0!==et.status?et.status:Rt,this.statusText=et.statusText||ae,this.url=et.url||null,this.ok=this.status>=200&&this.status<300}}class Kn extends tn{constructor(et={}){super(et),this.type=Xn.ResponseHeader}clone(et={}){return new Kn({headers:et.headers||this.headers,status:void 0!==et.status?et.status:this.status,statusText:et.statusText||this.statusText,url:et.url||this.url||void 0})}}class lr extends tn{constructor(et={}){super(et),this.type=Xn.Response,this.body=void 0!==et.body?et.body:null}clone(et={}){return new lr({body:void 0!==et.body?et.body:this.body,headers:et.headers||this.headers,status:void 0!==et.status?et.status:this.status,statusText:et.statusText||this.statusText,url:et.url||this.url||void 0})}}class ut extends tn{constructor(et){super(et,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${et.url||"(unknown url)"}`:`Http failure response for ${et.url||"(unknown url)"}: ${et.status} ${et.statusText}`,this.error=et.error||null}}function Ae(Te,et){return{body:et,headers:Te.headers,context:Te.context,observe:Te.observe,params:Te.params,reportProgress:Te.reportProgress,responseType:Te.responseType,withCredentials:Te.withCredentials,transferCache:Te.transferCache}}let Et=(()=>{var Te;class et{constructor(ae){this.handler=ae}request(ae,Le,Ie={}){let Xe;if(ae instanceof Bt)Xe=ae;else{let $t,fn;$t=Ie.headers instanceof Ne?Ie.headers:new Ne(Ie.headers),Ie.params&&(fn=Ie.params instanceof Ce?Ie.params:new Ce({fromObject:Ie.params})),Xe=new Bt(ae,Le,void 0!==Ie.body?Ie.body:null,{headers:$t,context:Ie.context,params:fn,reportProgress:Ie.reportProgress,responseType:Ie.responseType||"json",withCredentials:Ie.withCredentials,transferCache:Ie.transferCache})}const nt=(0,H.of)(Xe).pipe((0,S.H)($t=>this.handler.handle($t)));if(ae instanceof Bt||"events"===Ie.observe)return nt;const yt=nt.pipe((0,ke.p)($t=>$t instanceof lr));switch(Ie.observe||"body"){case"body":switch(Xe.responseType){case"arraybuffer":return yt.pipe((0,se.T)($t=>{if(null!==$t.body&&!($t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return $t.body}));case"blob":return yt.pipe((0,se.T)($t=>{if(null!==$t.body&&!($t.body instanceof Blob))throw new Error("Response is not a Blob.");return $t.body}));case"text":return yt.pipe((0,se.T)($t=>{if(null!==$t.body&&"string"!=typeof $t.body)throw new Error("Response is not a string.");return $t.body}));default:return yt.pipe((0,se.T)($t=>$t.body))}case"response":return yt;default:throw new Error(`Unreachable: unhandled observe type ${Ie.observe}}`)}}delete(ae,Le={}){return this.request("DELETE",ae,Le)}get(ae,Le={}){return this.request("GET",ae,Le)}head(ae,Le={}){return this.request("HEAD",ae,Le)}jsonp(ae,Le){return this.request("JSONP",ae,{params:(new Ce).append(Le,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ae,Le={}){return this.request("OPTIONS",ae,Le)}patch(ae,Le,Ie={}){return this.request("PATCH",ae,Ae(Ie,Le))}post(ae,Le,Ie={}){return this.request("POST",ae,Ae(Ie,Le))}put(ae,Le,Ie={}){return this.request("PUT",ae,Ae(Ie,Le))}}return(Te=et).\u0275fac=function(ae){return new(ae||Te)(g.KVO(Se))},Te.\u0275prov=g.jDH({token:Te,factory:Te.\u0275fac}),et})();const Mt=/^\)\]\}',?\n/;function ln(Te){if(Te.url)return Te.url;const et="X-Request-URL".toLocaleLowerCase();return Te.headers.get(et)}let Xt=(()=>{var Te;class et{constructor(){var ae,Le;this.fetchImpl=null!==(ae=null===(Le=(0,g.WQX)(dr,{optional:!0}))||void 0===Le?void 0:Le.fetch)&&void 0!==ae?ae:(...Ie)=>globalThis.fetch(...Ie),this.ngZone=(0,g.WQX)(g.SKi)}handle(ae){return new _e.c(Le=>{const Ie=new AbortController;return this.doRequest(ae,Ie.signal,Le).then(er,Xe=>Le.error(new ut({error:Xe}))),()=>Ie.abort()})}doRequest(ae,Le,Ie){var Xe=this;return(0,x.A)(function*(){var nt;const yt=Xe.createRequestInit(ae);let $t;try{const kr=Xe.ngZone.runOutsideAngular(()=>Xe.fetchImpl(ae.urlWithParams,{signal:Le,...yt}));(function wn(Te){Te.then(er,er)})(kr),Ie.next({type:Xn.Sent}),$t=yield kr}catch(kr){var fn;return void Ie.error(new ut({error:kr,status:null!==(fn=kr.status)&&void 0!==fn?fn:0,statusText:kr.statusText,url:ae.urlWithParams,headers:kr.headers}))}const Rn=new Ne($t.headers),kn=$t.statusText,xn=null!==(nt=ln($t))&&void 0!==nt?nt:ae.urlWithParams;let tr=$t.status,Cr=null;if(ae.reportProgress&&Ie.next(new Kn({headers:Rn,status:tr,statusText:kn,url:xn})),$t.body){const kr=$t.headers.get("content-length"),po=[],gr=$t.body.getReader();let Ki,Fi,Ur=0;const ea=typeof Zone<"u"&&Zone.current;yield Xe.ngZone.runOutsideAngular((0,x.A)(function*(){for(;;){const{done:wo,value:qi}=yield gr.read();if(wo)break;if(po.push(qi),Ur+=qi.length,ae.reportProgress){var Li,vi;Fi="text"===ae.responseType?(null!==(Li=Fi)&&void 0!==Li?Li:"")+(null!==(vi=Ki)&&void 0!==vi?vi:Ki=new TextDecoder).decode(qi,{stream:!0}):void 0;const Mi=()=>Ie.next({type:Xn.DownloadProgress,total:kr?+kr:void 0,loaded:Ur,partialText:Fi});ea?ea.run(Mi):Mi()}}}));const ja=Xe.concatChunks(po,Ur);try{var mr;const Li=null!==(mr=$t.headers.get("Content-Type"))&&void 0!==mr?mr:"";Cr=Xe.parseBody(ae,ja,Li)}catch(Li){var br;return void Ie.error(new ut({error:Li,headers:new Ne($t.headers),status:$t.status,statusText:$t.statusText,url:null!==(br=ln($t))&&void 0!==br?br:ae.urlWithParams}))}}0===tr&&(tr=Cr?200:0),tr>=200&&tr<300?(Ie.next(new lr({body:Cr,headers:Rn,status:tr,statusText:kn,url:xn})),Ie.complete()):Ie.error(new ut({error:Cr,headers:Rn,status:tr,statusText:kn,url:xn}))})()}parseBody(ae,Le,Ie){switch(ae.responseType){case"json":const Xe=(new TextDecoder).decode(Le).replace(Mt,"");return""===Xe?null:JSON.parse(Xe);case"text":return(new TextDecoder).decode(Le);case"blob":return new Blob([Le],{type:Ie});case"arraybuffer":return Le.buffer}}createRequestInit(ae){const Le={},Ie=ae.withCredentials?"include":void 0;if(ae.headers.forEach((Xe,nt)=>Le[Xe]=nt.join(",")),ae.headers.has("Accept")||(Le.Accept="application/json, text/plain, */*"),!ae.headers.has("Content-Type")){const Xe=ae.detectContentTypeHeader();null!==Xe&&(Le["Content-Type"]=Xe)}return{body:ae.serializeBody(),method:ae.method,headers:Le,credentials:Ie}}concatChunks(ae,Le){const Ie=new Uint8Array(Le);let Xe=0;for(const nt of ae)Ie.set(nt,Xe),Xe+=nt.length;return Ie}}return(Te=et).\u0275fac=function(ae){return new(ae||Te)},Te.\u0275prov=g.jDH({token:Te,factory:Te.\u0275fac}),et})();class dr{}function er(){}function wr(Te,et){return et(Te)}const xr=new g.nKC(""),pr=new g.nKC(""),Kr=new g.nKC("",{providedIn:"root",factory:()=>!0});let Kt=(()=>{var Te;class et extends Se{constructor(ae,Le){super(),this.backend=ae,this.injector=Le,this.chain=null,this.pendingTasks=(0,g.WQX)(g.TgB),this.contributeToStability=(0,g.WQX)(Kr)}handle(ae){if(null===this.chain){const Le=Array.from(new Set([...this.injector.get(xr),...this.injector.get(pr,[])]));this.chain=Le.reduceRight((Ie,Xe)=>function hr(Te,et,Rt){return(ae,Le)=>(0,g.N4e)(Rt,()=>et(ae,Ie=>Te(Ie,Le)))}(Ie,Xe,this.injector),wr)}if(this.contributeToStability){const Le=this.pendingTasks.add();return this.chain(ae,Ie=>this.backend.handle(Ie)).pipe((0,Ge.j)(()=>this.pendingTasks.remove(Le)))}return this.chain(ae,Le=>this.backend.handle(Le))}}return(Te=et).\u0275fac=function(ae){return new(ae||Te)(g.KVO(qe),g.KVO(g.uvJ))},Te.\u0275prov=g.jDH({token:Te,factory:Te.\u0275fac}),et})();const xo=/^\)\]\}',?\n/;let To=(()=>{var Te;class et{constructor(ae){this.xhrFactory=ae}handle(ae){if("JSONP"===ae.method)throw new g.wOt(-2800,!1);const Le=this.xhrFactory;return(Le.\u0275loadImpl?(0,J.H)(Le.\u0275loadImpl()):(0,H.of)(null)).pipe((0,wt.n)(()=>new _e.c(Xe=>{const nt=Le.build();if(nt.open(ae.method,ae.urlWithParams),ae.withCredentials&&(nt.withCredentials=!0),ae.headers.forEach((mr,br)=>nt.setRequestHeader(mr,br.join(","))),ae.headers.has("Accept")||nt.setRequestHeader("Accept","application/json, text/plain, */*"),!ae.headers.has("Content-Type")){const mr=ae.detectContentTypeHeader();null!==mr&&nt.setRequestHeader("Content-Type",mr)}if(ae.responseType){const mr=ae.responseType.toLowerCase();nt.responseType="json"!==mr?mr:"text"}const yt=ae.serializeBody();let $t=null;const fn=()=>{if(null!==$t)return $t;const mr=nt.statusText||"OK",br=new Ne(nt.getAllResponseHeaders()),eo=function Er(Te){return"responseURL"in Te&&Te.responseURL?Te.responseURL:/^X-Request-URL:/m.test(Te.getAllResponseHeaders())?Te.getResponseHeader("X-Request-URL"):null}(nt)||ae.url;return $t=new Kn({headers:br,status:nt.status,statusText:mr,url:eo}),$t},Rn=()=>{let{headers:mr,status:br,statusText:eo,url:kr}=fn(),po=null;204!==br&&(po=typeof nt.response>"u"?nt.responseText:nt.response),0===br&&(br=po?200:0);let gr=br>=200&&br<300;if("json"===ae.responseType&&"string"==typeof po){const Ur=po;po=po.replace(xo,"");try{po=""!==po?JSON.parse(po):null}catch(Ki){po=Ur,gr&&(gr=!1,po={error:Ki,text:po})}}gr?(Xe.next(new lr({body:po,headers:mr,status:br,statusText:eo,url:kr||void 0})),Xe.complete()):Xe.error(new ut({error:po,headers:mr,status:br,statusText:eo,url:kr||void 0}))},kn=mr=>{const{url:br}=fn(),eo=new ut({error:mr,status:nt.status||0,statusText:nt.statusText||"Unknown Error",url:br||void 0});Xe.error(eo)};let xn=!1;const tr=mr=>{xn||(Xe.next(fn()),xn=!0);let br={type:Xn.DownloadProgress,loaded:mr.loaded};mr.lengthComputable&&(br.total=mr.total),"text"===ae.responseType&&nt.responseText&&(br.partialText=nt.responseText),Xe.next(br)},Cr=mr=>{let br={type:Xn.UploadProgress,loaded:mr.loaded};mr.lengthComputable&&(br.total=mr.total),Xe.next(br)};return nt.addEventListener("load",Rn),nt.addEventListener("error",kn),nt.addEventListener("timeout",kn),nt.addEventListener("abort",kn),ae.reportProgress&&(nt.addEventListener("progress",tr),null!==yt&&nt.upload&&nt.upload.addEventListener("progress",Cr)),nt.send(yt),Xe.next({type:Xn.Sent}),()=>{nt.removeEventListener("error",kn),nt.removeEventListener("abort",kn),nt.removeEventListener("load",Rn),nt.removeEventListener("timeout",kn),ae.reportProgress&&(nt.removeEventListener("progress",tr),null!==yt&&nt.upload&&nt.upload.removeEventListener("progress",Cr)),nt.readyState!==nt.DONE&&nt.abort()}})))}}return(Te=et).\u0275fac=function(ae){return new(ae||Te)(g.KVO(Oe.N0))},Te.\u0275prov=g.jDH({token:Te,factory:Te.\u0275fac}),et})();const Lr=new g.nKC(""),nn=new g.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),$r=new g.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class lo{}let Qt=(()=>{var Te;class et{constructor(ae,Le,Ie){this.doc=ae,this.platform=Le,this.cookieName=Ie,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ae=this.doc.cookie||"";return ae!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Oe._b)(ae,this.cookieName),this.lastCookieString=ae),this.lastToken}}return(Te=et).\u0275fac=function(ae){return new(ae||Te)(g.KVO(Oe.qQ),g.KVO(g.Agw),g.KVO(nn))},Te.\u0275prov=g.jDH({token:Te,factory:Te.\u0275fac}),et})();function Pt(Te,et){const Rt=Te.url.toLowerCase();if(!(0,g.WQX)(Lr)||"GET"===Te.method||"HEAD"===Te.method||Rt.startsWith("http://")||Rt.startsWith("https://"))return et(Te);const ae=(0,g.WQX)(lo).getToken(),Le=(0,g.WQX)($r);return null!=ae&&!Te.headers.has(Le)&&(Te=Te.clone({headers:Te.headers.set(Le,ae)})),et(Te)}var _t=function(Te){return Te[Te.Interceptors=0]="Interceptors",Te[Te.LegacyInterceptors=1]="LegacyInterceptors",Te[Te.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Te[Te.NoXsrfProtection=3]="NoXsrfProtection",Te[Te.JsonpSupport=4]="JsonpSupport",Te[Te.RequestsMadeViaParent=5]="RequestsMadeViaParent",Te[Te.Fetch=6]="Fetch",Te}(_t||{});function _n(...Te){const et=[Et,To,Kt,{provide:Se,useExisting:Kt},{provide:qe,useFactory:()=>{var Rt;return null!==(Rt=(0,g.WQX)(Xt,{optional:!0}))&&void 0!==Rt?Rt:(0,g.WQX)(To)}},{provide:xr,useValue:Pt,multi:!0},{provide:Lr,useValue:!0},{provide:lo,useClass:Qt}];for(const Rt of Te)et.push(...Rt.\u0275providers);return(0,g.EmA)(et)}function Nn(Te){return function Tt(Te,et){return{\u0275kind:Te,\u0275providers:et}}(_t.Interceptors,Te.map(et=>({provide:xr,useValue:et,multi:!0})))}},4438:(Vn,At,B)=>{"use strict";function x(t,o){return Object.is(t,o)}B.d(At,{iLQ:()=>zy,sZ2:()=>Bd,hnV:()=>yE,o8S:()=>fu,BIS:()=>ov,gRc:()=>OE,Ql9:()=>VT,Ocv:()=>YT,Z63:()=>lt,aKT:()=>$u,uvJ:()=>Qa,zcH:()=>ll,bkB:()=>vs,$GK:()=>wo,nKC:()=>Rt,zZn:()=>ns,_q3:()=>A_,MKu:()=>T_,xe9:()=>C_,Co$:()=>x1,Vns:()=>Kf,SKi:()=>Gi,Xx1:()=>Wo,Agw:()=>nf,PLl:()=>Hp,sFG:()=>t1,_9s:()=>ry,czy:()=>am,kdw:()=>Uo,C4Q:()=>Rf,NYb:()=>FT,giA:()=>vE,RxE:()=>uE,c1b:()=>mh,gXe:()=>hn,mal:()=>wy,L39:()=>Y2,EWP:()=>Q2,a0P:()=>iM,Ol2:()=>Dw,w6W:()=>SD,Rfq:()=>_t,oKB:()=>fa,WQX:()=>Vt,naY:()=>i2,QuC:()=>_s,EmA:()=>Hs,HJs:()=>aM,N4e:()=>Cs,vPA:()=>Gn,O8t:()=>J2,H3F:()=>dE,H8p:()=>nc,KH2:()=>tg,TgB:()=>Gc,wOt:()=>Kt,WHO:()=>mE,e01:()=>gE,H5H:()=>Jw,Zy3:()=>Br,mq5:()=>IC,JZv:()=>Lr,TL3:()=>T2,LfX:()=>zo,plB:()=>Xl,jNT:()=>y_,zjR:()=>bE,XSP:()=>mS,TL$:()=>rv,Tbb:()=>lo,Vt3:()=>Cw,GFd:()=>y1,OA$:()=>Ha,Jv_:()=>NI,aNF:()=>FI,R7$:()=>Cx,BMQ:()=>$w,AVh:()=>Gw,wni:()=>sI,VBU:()=>da,FsC:()=>Ac,jDH:()=>Dr,G2t:()=>co,$C:()=>Ma,EJ8:()=>pu,rXU:()=>ru,nrm:()=>Zw,eu8:()=>Qw,bVm:()=>Ty,qex:()=>Ay,k0s:()=>Sy,j41:()=>ky,RV6:()=>wC,xGo:()=>kp,KVO:()=>kt,kS0:()=>Dd,QTQ:()=>Sv,bIt:()=>n_,lsd:()=>uI,XpG:()=>qC,nI1:()=>WI,i5U:()=>GI,brH:()=>XI,SdG:()=>ZC,NAR:()=>YC,Y8G:()=>Vw,Mz_:()=>Ny,eq3:()=>$I,mGM:()=>cI,sdS:()=>dI,Njj:()=>Dh,eBV:()=>Eh,B4B:()=>ys,n$t:()=>zs,xc7:()=>Ww,DNE:()=>Sw,C5r:()=>KI,EFF:()=>wI,JRh:()=>i_,SpI:()=>Fy,DH7:()=>MI,mxI:()=>s_,R50:()=>a_,GBs:()=>lI});let g=null,H=!1,_e=1;const J=Symbol("SIGNAL");function S(t){const o=g;return g=t,o}const wt={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Oe(t){if(H)throw new Error("");if(null===g)return;g.consumerOnSignalRead(t);const o=g.nextProducerIndex++;re(g),o<g.producerNode.length&&g.producerNode[o]!==t&&$e(g)&&Ce(g.producerNode[o],g.producerIndexOfThis[o]),g.producerNode[o]!==t&&(g.producerNode[o]=t,g.producerIndexOfThis[o]=$e(g)?Je(t,g,o):0),g.producerLastReadVersion[o]=t.version}function qe(t){if((!$e(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==_e)){if(!t.producerMustRecompute(t)&&!vt(t))return t.dirty=!1,void(t.lastCleanEpoch=_e);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=_e}}function Ne(t){if(void 0===t.liveConsumerNode)return;const o=H;H=!0;try{for(const s of t.liveConsumerNode)s.dirty||it(s)}finally{H=o}}function ot(){var t;return!1!==(null===(t=g)||void 0===t?void 0:t.consumerAllowSignalWrites)}function it(t){var o;t.dirty=!0,Ne(t),null===(o=t.consumerMarkedDirty)||void 0===o||o.call(t,t)}function Pe(t){return t&&(t.nextProducerIndex=0),S(t)}function pe(t,o){if(S(o),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if($e(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)Ce(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function vt(t){re(t);for(let o=0;o<t.producerNode.length;o++){const s=t.producerNode[o],l=t.producerLastReadVersion[o];if(l!==s.version||(qe(s),l!==s.version))return!0}return!1}function ct(t){if(re(t),$e(t))for(let o=0;o<t.producerNode.length;o++)Ce(t.producerNode[o],t.producerIndexOfThis[o]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Je(t,o,s){if(rt(t),0===t.liveConsumerNode.length&&Dt(t))for(let l=0;l<t.producerNode.length;l++)t.producerIndexOfThis[l]=Je(t.producerNode[l],t,l);return t.liveConsumerIndexOfThis.push(s),t.liveConsumerNode.push(o)-1}function Ce(t,o){if(rt(t),1===t.liveConsumerNode.length&&Dt(t))for(let l=0;l<t.producerNode.length;l++)Ce(t.producerNode[l],t.producerIndexOfThis[l]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[o]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[o]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,o<t.liveConsumerNode.length){const l=t.liveConsumerIndexOfThis[o],d=t.liveConsumerNode[o];re(d),d.producerIndexOfThis[l]=o}}function $e(t){var o,s;return t.consumerIsAlwaysLive||(null!==(o=null==t||null===(s=t.liveConsumerNode)||void 0===s?void 0:s.length)&&void 0!==o?o:0)>0}function re(t){var o,s,l;null!==(o=t.producerNode)&&void 0!==o||(t.producerNode=[]),null!==(s=t.producerIndexOfThis)&&void 0!==s||(t.producerIndexOfThis=[]),null!==(l=t.producerLastReadVersion)&&void 0!==l||(t.producerLastReadVersion=[])}function rt(t){var o,s;null!==(o=t.liveConsumerNode)&&void 0!==o||(t.liveConsumerNode=[]),null!==(s=t.liveConsumerIndexOfThis)&&void 0!==s||(t.liveConsumerIndexOfThis=[])}function Dt(t){return void 0!==t.producerNode}const je=Symbol("UNSET"),Lt=Symbol("COMPUTING"),Bt=Symbol("ERRORED"),Xn={...wt,value:je,dirty:!0,error:null,equal:x,producerMustRecompute:t=>t.value===je||t.value===Lt,producerRecomputeValue(t){if(t.value===Lt)throw new Error("Detected cycle in computations.");const o=t.value;t.value=Lt;const s=Pe(t);let l;try{l=t.computation()}catch(d){l=Bt,t.error=d}finally{pe(t,s)}o!==je&&o!==Bt&&l!==Bt&&t.equal(o,l)?t.value=o:(t.value=l,t.version++)}};let Kn=function tn(){throw new Error};function lr(){Kn()}let Ue=null;function Et(t,o){ot()||lr(),t.equal(t.value,o)||(t.value=o,function Xt(t){var o;t.version++,function Se(){_e++}(),Ne(t),null===(o=Ue)||void 0===o||o()}(t))}const ln={...wt,equal:x,value:void 0};var pr,yn,Xr=B(4412),hr=B(1413),Ar=B(8359),xr=B(6354);const rn="https://g.co/ng/security#xss";class Kt extends Error{constructor(o,s){super(Br(o,s)),this.code=o}}function Br(t,o){return`NG0${Math.abs(t)}${o?": "+o:""}`}function Vr(t){return{toString:t}.toString()}const Hr="__parameters__";function Er(t,o,s){return Vr(()=>{const l=function xo(t){return function(...s){if(t){const l=t(...s);for(const d in l)this[d]=l[d]}}}(o);function d(...v){if(this instanceof d)return l.apply(this,v),this;const w=new d(...v);return k.annotation=w,k;function k(R,W,ue){const xe=R.hasOwnProperty(Hr)?R[Hr]:Object.defineProperty(R,Hr,{value:[]})[Hr];for(;xe.length<=ue;)xe.push(null);return(xe[ue]=xe[ue]||[]).push(w),R}}return s&&(d.prototype=Object.create(s.prototype)),d.prototype.ngMetadataName=t,d.annotationCls=d,d})}const Lr=globalThis;function Ir(t){for(let o in t)if(t[o]===Ir)return o;throw Error("Could not find renamed property on target object.")}function $r(t,o){for(const s in o)o.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=o[s])}function lo(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(lo).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const o=t.toString();if(null==o)return""+o;const s=o.indexOf("\n");return-1===s?o:o.substring(0,s)}function Qt(t,o){return null==t||""===t?null===o?"":o:null==o||""===o?t:t+" "+o}const sn=Ir({__forward_ref__:Ir});function _t(t){return t.__forward_ref__=_t,t.toString=function(){return lo(this())},t}function Tt(t){return _n(t)?t():t}function _n(t){return"function"==typeof t&&t.hasOwnProperty(sn)&&t.__forward_ref__===_t}function Dr(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function co(t){return{providers:t.providers||[],imports:t.imports||[]}}function Qn(t){return Qe(t,_r)||Qe(t,Te)}function zo(t){return null!==Qn(t)}function Qe(t,o){return t.hasOwnProperty(o)?t[o]:null}function zn(t){return t&&(t.hasOwnProperty(Zr)||t.hasOwnProperty(et))?t[Zr]:null}const _r=Ir({\u0275prov:Ir}),Zr=Ir({\u0275inj:Ir}),Te=Ir({ngInjectableDef:Ir}),et=Ir({ngInjectorDef:Ir});class Rt{constructor(o,s){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Dr({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function xn(t){return t&&!!t.\u0275providers}const tr=Ir({\u0275cmp:Ir}),Cr=Ir({\u0275dir:Ir}),mr=Ir({\u0275pipe:Ir}),br=Ir({\u0275mod:Ir}),eo=Ir({\u0275fac:Ir}),kr=Ir({__NG_ELEMENT_ID__:Ir}),po=Ir({__NG_ENV_ID__:Ir});function gr(t){return"string"==typeof t?t:null==t?"":String(t)}function vi(t,o){throw new Kt(-201,!1)}var wo=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(wo||{});let qi;function Mi(){return qi}function Mo(t){const o=qi;return qi=t,o}function za(t,o,s){const l=Qn(t);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&wo.Optional?null:void 0!==o?o:void vi()}const Za={},ba="__NG_DI_FLAG__",L="ngTempTokenPath",Me=/\n/gm,M="__source";let q;function st(t){const o=q;return q=t,o}function Ot(t,o=wo.Default){if(void 0===q)throw new Kt(-203,!1);return null===q?za(t,void 0,o):q.get(t,o&wo.Optional?null:void 0,o)}function kt(t,o=wo.Default){return(Mi()||Ot)(Tt(t),o)}function Vt(t,o=wo.Default){return kt(t,In(o))}function In(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Fn(t){const o=[];for(let s=0;s<t.length;s++){const l=Tt(t[s]);if(Array.isArray(l)){if(0===l.length)throw new Kt(900,!1);let d,v=wo.Default;for(let w=0;w<l.length;w++){const k=l[w],R=ur(k);"number"==typeof R?-1===R?d=k.token:v|=R:d=k}o.push(kt(d,v))}else o.push(kt(l))}return o}function ir(t,o){return t[ba]=o,t.prototype[ba]=o,t}function ur(t){return t[ba]}const Wo=ir(Er("Optional"),8),Uo=ir(Er("SkipSelf"),4);function la(t,o){return t.hasOwnProperty(eo)?t[eo]:null}function Ve(t,o){t.forEach(s=>Array.isArray(s)?Ve(s,o):o(s))}function zi(t,o,s){o>=t.length?t.push(s):t.splice(o,0,s)}function Aa(t,o){return o>=t.length-1?t.pop():t.splice(o,1)[0]}function di(t,o,s){let l=Ua(t,o);return l>=0?t[1|l]=s:(l=~l,function ta(t,o,s,l){let d=t.length;if(d==o)t.push(s,l);else if(1===d)t.push(l,t[0]),t[0]=s;else{for(d--,t.push(t[d-1],t[d]);d>o;)t[d]=t[d-2],d--;t[o]=s,t[o+1]=l}}(t,l,o,s)),l}function Yi(t,o){const s=Ua(t,o);if(s>=0)return t[1|s]}function Ua(t,o){return function $(t,o,s){let l=0,d=t.length>>s;for(;d!==l;){const v=l+(d-l>>1),w=t[v<<s];if(o===w)return v<<s;w>o?d=v:l=v+1}return~(d<<s)}(t,o,1)}const ve={},Fe=[],lt=new Rt(""),dt=new Rt("",-1),qt=new Rt("");class St{get(o,s=Za){if(s===Za){const l=new Error(`NullInjectorError: No provider for ${lo(o)}!`);throw l.name="NullInjectorError",l}return s}}var Yt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Yt||{}),hn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(hn||{}),Un=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Un||{});function Hn(t,o,s){let l=t.length;for(;;){const d=t.indexOf(o,s);if(-1===d)return d;if(0===d||t.charCodeAt(d-1)<=32){const v=o.length;if(d+v===l||t.charCodeAt(d+v)<=32)return d}s=d+1}}function yr(t,o,s){let l=0;for(;l<s.length;){const d=s[l];if("number"==typeof d){if(0!==d)break;l++;const v=s[l++],w=s[l++],k=s[l++];t.setAttribute(o,w,k,v)}else{const v=d,w=s[++l];Vo(v)?t.setProperty(o,v,w):t.setAttribute(o,v,w),l++}}return l}function Or(t){return 3===t||4===t||6===t}function Vo(t){return 64===t.charCodeAt(0)}function Qo(t,o){if(null!==o&&0!==o.length)if(null===t||0===t.length)t=o.slice();else{let s=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?s=d:0===s||mo(t,s,d,null,-1===s||2===s?o[++l]:null)}}return t}function mo(t,o,s,l,d){let v=0,w=t.length;if(-1===o)w=-1;else for(;v<t.length;){const k=t[v++];if("number"==typeof k){if(k===o){w=-1;break}if(k>o){w=v-1;break}}}for(;v<t.length;){const k=t[v];if("number"==typeof k)break;if(k===s){if(null===l)return void(null!==d&&(t[v+1]=d));if(l===t[v+1])return void(t[v+2]=d)}v++,null!==l&&v++,null!==d&&v++}-1!==w&&(t.splice(w,0,o),v=w+1),t.splice(v++,0,s),null!==l&&t.splice(v++,0,l),null!==d&&t.splice(v++,0,d)}const Eo="ng-template";function ao(t,o,s,l){let d=0;if(l){for(;d<o.length&&"string"==typeof o[d];d+=2)if("class"===o[d]&&-1!==Hn(o[d+1].toLowerCase(),s,0))return!0}else if(ua(t))return!1;if(d=o.indexOf(1,d),d>-1){let v;for(;++d<o.length&&"string"==typeof(v=o[d]);)if(v.toLowerCase()===s)return!0}return!1}function ua(t){return 4===t.type&&t.value!==Eo}function Ui(t,o,s){return o===(4!==t.type||s?t.value:Eo)}function No(t,o,s){let l=4;const d=t.attrs,v=null!==d?function j(t){for(let o=0;o<t.length;o++)if(Or(t[o]))return o;return t.length}(d):0;let w=!1;for(let k=0;k<o.length;k++){const R=o[k];if("number"!=typeof R){if(!w)if(4&l){if(l=2|1&l,""!==R&&!Ui(t,R,s)||""===R&&1===o.length){if(hi(l))return!1;w=!0}}else if(8&l){if(null===d||!ao(t,d,R,s)){if(hi(l))return!1;w=!0}}else{const W=o[++k],ue=Sc(R,d,ua(t),s);if(-1===ue){if(hi(l))return!1;w=!0;continue}if(""!==W){let xe;if(xe=ue>v?"":d[ue+1].toLowerCase(),2&l&&W!==xe){if(hi(l))return!1;w=!0}}}}else{if(!w&&!hi(l)&&!hi(R))return!1;if(w&&hi(R))continue;w=!1,l=R|1&l}}return hi(l)||w}function hi(t){return!(1&t)}function Sc(t,o,s,l){if(null===o)return-1;let d=0;if(l||!s){let v=!1;for(;d<o.length;){const w=o[d];if(w===t)return d;if(3===w||6===w)v=!0;else{if(1===w||2===w){let k=o[++d];for(;"string"==typeof k;)k=o[++d];continue}if(4===w)break;if(0===w){d+=4;continue}}d+=v?1:2}return-1}return function ge(t,o){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const l=t[s];if("number"==typeof l)return-1;if(l===o)return s;s++}return-1}(o,t)}function Ql(t,o,s=!1){for(let l=0;l<o.length;l++)if(No(t,o[l],s))return!0;return!1}function Y(t,o){e:for(let s=0;s<o.length;s++){const l=o[s];if(t.length===l.length){for(let d=0;d<t.length;d++)if(t[d]!==l[d])continue e;return!0}}return!1}function Be(t,o){return t?":not("+o.trim()+")":o}function Pn(t){let o=t[0],s=1,l=2,d="",v=!1;for(;s<t.length;){let w=t[s];if("string"==typeof w)if(2&l){const k=t[++s];d+="["+w+(k.length>0?'="'+k+'"':"")+"]"}else 8&l?d+="."+w:4&l&&(d+=" "+w);else""!==d&&!hi(w)&&(o+=Be(v,d),d=""),l=w,v=v||!hi(l);s++}return""!==d&&(o+=Be(v,d)),o}function da(t){return Vr(()=>{var o;const s=Jl(t),l={...s,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Yt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(o=t.signals)&&void 0!==o&&o,data:t.data||{},encapsulation:t.encapsulation||hn.Emulated,styles:t.styles||Fe,_:null,schemas:t.schemas||null,tView:null,id:""};ec(l);const d=t.dependencies;return l.directiveDefs=os(d,!1),l.pipeDefs=os(d,!0),l.id=function mu(t){let o=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const d of s)o=Math.imul(31,o)+d.charCodeAt(0)|0;return o+=2147483648,"c"+o}(l),l})}function Ta(t){return ar(t)||Zi(t)}function na(t){return null!==t}function Ma(t){return Vr(()=>({type:t.type,bootstrap:t.bootstrap||Fe,declarations:t.declarations||Fe,imports:t.imports||Fe,exports:t.exports||Fe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function rl(t,o){if(null==t)return ve;const s={};for(const d in t)if(t.hasOwnProperty(d)){const v=t[d];let w,k,R=Un.None;var l;Array.isArray(v)?(R=v[0],w=v[1],k=null!==(l=v[2])&&void 0!==l?l:w):(w=v,k=v),o?(s[w]=R!==Un.None?[d,R]:d,o[w]=k):s[w]=d}return s}function Ac(t){return Vr(()=>{const o=Jl(t);return ec(o),o})}function pu(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ar(t){return t[tr]||null}function Zi(t){return t[Cr]||null}function Vi(t){return t[mr]||null}function _s(t){const o=ar(t)||Zi(t)||Vi(t);return null!==o&&o.standalone}function ha(t,o){const s=t[br]||null;if(!s&&!0===o)throw new Error(`Type ${lo(t)} does not have '\u0275mod' property.`);return s}function Jl(t){const o={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:t.inputs||ve,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Fe,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:rl(t.inputs,o),outputs:rl(t.outputs),debugInfo:null}}function ec(t){var o;null===(o=t.features)||void 0===o||o.forEach(s=>s(t))}function os(t,o){if(!t)return null;const s=o?Vi:Ta;return()=>("function"==typeof t?t():t).map(l=>s(l)).filter(na)}function Hs(t){return{\u0275providers:t}}function fa(...t){return{\u0275providers:Os(0,t),\u0275fromNgModule:!0}}function Os(t,...o){const s=[],l=new Set;let d;const v=w=>{s.push(w)};return Ve(o,w=>{const k=w;Tc(k,v,[],l)&&(d||(d=[]),d.push(k))}),void 0!==d&&cd(d,v),s}function cd(t,o){for(let s=0;s<t.length;s++){const{ngModule:l,providers:d}=t[s];tc(d,v=>{o(v,l)})}}function Tc(t,o,s,l){if(!(t=Tt(t)))return!1;let d=null,v=zn(t);const w=!v&&ar(t);if(v||w){if(w&&!w.standalone)return!1;d=t}else{const R=t.ngModule;if(v=zn(R),!v)return!1;d=R}const k=l.has(d);if(w){if(k)return!1;if(l.add(d),w.dependencies){const R="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const W of R)Tc(W,o,s,l)}}else{if(!v)return!1;{if(null!=v.imports&&!k){let W;l.add(d);try{Ve(v.imports,ue=>{Tc(ue,o,s,l)&&(W||(W=[]),W.push(ue))})}finally{}void 0!==W&&cd(W,o)}if(!k){const W=la(d)||(()=>new d);o({provide:d,useFactory:W,deps:Fe},d),o({provide:qt,useValue:d,multi:!0},d),o({provide:lt,useValue:()=>kt(d),multi:!0},d)}const R=v.providers;if(null!=R&&!k){const W=t;tc(R,ue=>{o(ue,W)})}}}return d!==t&&void 0!==t.providers}function tc(t,o){for(let s of t)xn(s)&&(s=s.\u0275providers),Array.isArray(s)?tc(s,o):o(s)}const gu=Ir({provide:String,useValue:Ir});function Tl(t){return null!==t&&"object"==typeof t&&gu in t}function Hi(t){return"function"==typeof t}const nc=new Rt(""),pa={},ol={};let Mc;function Wi(){return void 0===Mc&&(Mc=new St),Mc}class Qa{}class Ns extends Qa{get destroyed(){return this._destroyed}constructor(o,s,l,d){super(),this.parent=s,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xa(o,w=>this.processProvider(w)),this.records.set(dt,is(void 0,this)),d.has("environment")&&this.records.set(Qa,is(void 0,this));const v=this.records.get(nc);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(qt,Fe,wo.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const o=S(null);try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const l of s)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),S(o)}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const s=st(this),l=Mo(void 0);try{return o()}finally{st(s),Mo(l)}}get(o,s=Za,l=wo.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(po))return o[po](this);l=In(l);const v=st(this),w=Mo(void 0);try{if(!(l&wo.SkipSelf)){let R=this.records.get(o);if(void 0===R){const W=function ya(t){return"function"==typeof t||"object"==typeof t&&t instanceof Rt}(o)&&Qn(o);R=W&&this.injectableDefInScope(W)?is(Rl(o),pa):null,this.records.set(o,R)}if(null!=R)return this.hydrate(o,R)}return(l&wo.Self?Wi():this.parent).get(o,s=l&wo.Optional&&s===Za?null:s)}catch(k){if("NullInjectorError"===k.name){if((k[L]=k[L]||[]).unshift(lo(o)),v)throw k;return function Mr(t,o,s,l){const d=t[L];throw o[M]&&d.unshift(o[M]),t.message=function Pr(t,o,s,l=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let d=lo(o);if(Array.isArray(o))d=o.map(lo).join(" -> ");else if("object"==typeof o){let v=[];for(let w in o)if(o.hasOwnProperty(w)){let k=o[w];v.push(w+":"+("string"==typeof k?JSON.stringify(k):lo(k)))}d=`{${v.join(", ")}}`}return`${s}${l?"("+l+")":""}[${d}]: ${t.replace(Me,"\n  ")}`}("\n"+t.message,d,s,l),t.ngTokenPath=d,t[L]=null,t}(k,o,"R3InjectorError",this.source)}throw k}finally{Mo(w),st(v)}}resolveInjectorInitializers(){const o=S(null),s=st(this),l=Mo(void 0);try{const v=this.get(lt,Fe,wo.Self);for(const w of v)w()}finally{st(s),Mo(l),S(o)}}toString(){const o=[],s=this.records;for(const l of s.keys())o.push(lo(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Kt(205,!1)}processProvider(o){let s=Hi(o=Tt(o))?o:Tt(o&&o.provide);const l=function rc(t){return Tl(t)?is(void 0,t.useValue):is(oc(t),pa)}(o);if(!Hi(o)&&!0===o.multi){let d=this.records.get(s);d||(d=is(void 0,pa,!0),d.factory=()=>Fn(d.multi),this.records.set(s,d)),s=o,d.multi.push(o)}this.records.set(s,l)}hydrate(o,s){const l=S(null);try{return s.value===pa&&(s.value=ol,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Rc(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}finally{S(l)}}injectableDefInScope(o){if(!o.providedIn)return!1;const s=Tt(o.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(o){const s=this._onDestroyHooks.indexOf(o);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Rl(t){const o=Qn(t),s=null!==o?o.factory:la(t);if(null!==s)return s;if(t instanceof Rt)throw new Kt(204,!1);if(t instanceof Function)return function Ws(t){if(t.length>0)throw new Kt(204,!1);const s=function an(t){return t&&(t[_r]||t[Te])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Kt(204,!1)}function oc(t,o,s){let l;if(Hi(t)){const d=Tt(t);return la(d)||Rl(d)}if(Tl(t))l=()=>Tt(t.useValue);else if(function Ml(t){return!(!t||!t.useFactory)}(t))l=()=>t.useFactory(...Fn(t.deps||[]));else if(function dd(t){return!(!t||!t.useExisting)}(t))l=()=>kt(Tt(t.useExisting));else{const d=Tt(t&&(t.useClass||t.provide));if(!function Pl(t){return!!t.deps}(t))return la(d)||Rl(d);l=()=>new d(...Fn(t.deps))}return l}function is(t,o,s=!1){return{factory:t,value:o,multi:s?[]:void 0}}function xa(t,o){for(const s of t)Array.isArray(s)?xa(s,o):s&&xn(s)?xa(s.\u0275providers,o):o(s)}function Cs(t,o){t instanceof Ns&&t.assertNotDestroyed();const l=st(t),d=Mo(void 0);try{return o()}finally{st(l),Mo(d)}}function bl(){return void 0!==Mi()||null!=function Ze(){return q}()}const Ro=0,Ln=1,Nr=2,Di=3,on=4,oi=5,Xo=6,yo=7,ui=8,Ai=9,ma=10,qr=11,as=12,Ol=13,Gs=14,Ko=15,Is=16,Es=17,Bi=18,il=19,Xs=20,ms=21,Fs=22,Ds=23,jr=25,bu=1,ks=7,ic=9,Ti=10;var yl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(yl||{});function ra(t){return Array.isArray(t)&&"object"==typeof t[bu]}function Ra(t){return Array.isArray(t)&&!0===t[bu]}function Pc(t){return!!(4&t.flags)}function Ls(t){return t.componentOffset>-1}function ac(t){return!(1&~t.flags)}function gs(t){return!!t.template}function xl(t){return!!(512&t[Nr])}class So{constructor(o,s,l){this.previousValue=o,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function $i(t,o,s,l){null!==o?o.applyValueToInputSignal(o,l):t[s]=l}function Ha(){return es}function es(t){return t.type.prototype.ngOnChanges&&(t.setInput=ss),lc}function lc(){const t=Fl(this),o=null==t?void 0:t.current;if(o){const s=t.previous;if(s===ve)t.previous=o;else for(let l in o)s[l]=o[l];t.current=null,this.ngOnChanges(o)}}function ss(t,o,s,l,d){const v=this.declaredInputs[l],w=Fl(t)||function Nc(t,o){return t[Ks]=o}(t,{previous:ve,current:null}),k=w.current||(w.current={}),R=w.previous,W=R[v];k[v]=new So(W&&W.currentValue,s,R===ve),$i(t,o,d,s)}Ha.ngInherit=!0;const Ks="__ngSimpleChanges__";function Fl(t){return t[Ks]||null}const Ss=function(t,o,s){};function ri(t){for(;Array.isArray(t);)t=t[Ro];return t}function Cu(t,o){return ri(o[t])}function ls(t,o){return ri(o[t.index])}function Eu(t,o){return t.data[o]}function cc(t,o){return t[o]}function Ia(t,o){const s=o[t];return ra(s)?s:s[Ro]}function Du(t){return!(128&~t[Nr])}function Bs(t,o){return null==o?null:t[o]}function rp(t){t[Es]=0}function _h(t){1024&t[Nr]||(t[Nr]|=1024,Du(t)&&pd(t))}function fd(t){var o;return!!(9216&t[Nr]||null!==(o=t[Ds])&&void 0!==o&&o.dirty)}function al(t){var o;null===(o=t[ma].changeDetectionScheduler)||void 0===o||o.notify(8),64&t[Nr]&&(t[Nr]|=1024),fd(t)&&pd(t)}function pd(t){var o;null===(o=t[ma].changeDetectionScheduler)||void 0===o||o.notify(0);let s=wl(t);for(;null!==s&&!(8192&s[Nr])&&(s[Nr]|=8192,Du(s));)s=wl(s)}function md(t,o){if(!(256&~t[Nr]))throw new Kt(911,!1);null===t[ms]&&(t[ms]=[]),t[ms].push(o)}function wl(t){const o=t[Di];return Ra(o)?o[Di]:o}const Co={lFrame:mp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let ap=!1;function sp(){return Co.bindingsEnabled}function Lc(){return null!==Co.skipHydrationRootTNode}function En(){return Co.lFrame.lView}function Fo(){return Co.lFrame.tView}function Eh(t){return Co.lFrame.contextLView=t,t[ui]}function Dh(t){return Co.lFrame.contextLView=null,t}function bi(){let t=vd();for(;null!==t&&64===t.type;)t=t.parent;return t}function vd(){return Co.lFrame.currentTNode}function Ys(t,o){const s=Co.lFrame;s.currentTNode=t,s.isParent=o}function bd(){return Co.lFrame.isParent}function kh(){Co.lFrame.isParent=!1}function Ah(){return ap}function ts(t){ap=t}function ga(){const t=Co.lFrame;let o=t.bindingRootIndex;return-1===o&&(o=t.bindingRootIndex=t.tView.bindingStartIndex),o}function Zs(){return Co.lFrame.bindingIndex++}function fp(t,o){const s=Co.lFrame;s.bindingIndex=s.bindingRootIndex=t,Mh(o)}function Mh(t){Co.lFrame.currentDirectiveIndex=t}function ku(){return Co.lFrame.currentQueryIndex}function uc(t){Co.lFrame.currentQueryIndex=t}function $c(t){const o=t[Ln];return 2===o.type?o.declTNode:1===o.type?t[oi]:null}function Su(t,o,s){if(s&wo.SkipSelf){let d=o,v=t;for(;!(d=d.parent,null!==d||s&wo.Host||(d=$c(v),null===d||(v=v[Gs],10&d.type))););if(null===d)return!1;o=d,t=v}const l=Co.lFrame=pp();return l.currentTNode=o,l.lView=t,!0}function Rh(t){const o=pp(),s=t[Ln];Co.lFrame=o,o.currentTNode=s.firstChild,o.lView=t,o.tView=s,o.contextLView=t,o.bindingIndex=s.bindingStartIndex,o.inI18n=!1}function pp(){const t=Co.lFrame,o=null===t?null:t.child;return null===o?mp(t):o}function mp(t){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=o),o}function Ph(){const t=Co.lFrame;return Co.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const gp=Ph;function Oh(){const t=Ph();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Pa(){return Co.lFrame.selectedIndex}function sl(t){Co.lFrame.selectedIndex=t}function Pi(){const t=Co.lFrame;return Eu(t.tView,t.selectedIndex)}let vg=!0;function Au(){return vg}function As(t){vg=t}function Tu(t,o){for(let W=o.directiveStart,ue=o.directiveEnd;W<ue;W++){const tt=t.data[W].type.prototype,{ngAfterContentInit:Ct,ngAfterContentChecked:pt,ngAfterViewInit:bn,ngAfterViewChecked:$n,ngOnDestroy:rr}=tt;var s,l,d,v,w,k,R;Ct&&(null!==(s=t.contentHooks)&&void 0!==s?s:t.contentHooks=[]).push(-W,Ct),pt&&((null!==(l=t.contentHooks)&&void 0!==l?l:t.contentHooks=[]).push(W,pt),(null!==(d=t.contentCheckHooks)&&void 0!==d?d:t.contentCheckHooks=[]).push(W,pt)),bn&&(null!==(v=t.viewHooks)&&void 0!==v?v:t.viewHooks=[]).push(-W,bn),$n&&((null!==(w=t.viewHooks)&&void 0!==w?w:t.viewHooks=[]).push(W,$n),(null!==(k=t.viewCheckHooks)&&void 0!==k?k:t.viewCheckHooks=[]).push(W,$n)),null!=rr&&(null!==(R=t.destroyHooks)&&void 0!==R?R:t.destroyHooks=[]).push(W,rr)}}function xd(t,o,s){Ho(t,o,3,s)}function Mu(t,o,s,l){(3&t[Nr])===s&&Ho(t,o,s,l)}function Ru(t,o){let s=t[Nr];(3&s)===o&&(s&=16383,s+=1,t[Nr]=s)}function Ho(t,o,s,l){const v=null!=l?l:-1,w=o.length-1;let k=0;for(let R=void 0!==l?65535&t[Es]:0;R<w;R++)if("number"==typeof o[R+1]){if(k=o[R],null!=l&&k>=l)break}else o[R]<0&&(t[Es]+=65536),(k<v||-1==v)&&(bg(t,s,o,R),t[Es]=(4294901760&t[Es])+R+2),R++}function $s(t,o){Ss(4,t,o);const s=S(null);try{o.call(t)}finally{S(s),Ss(5,t,o)}}function bg(t,o,s,l){const d=s[l]<0,v=s[l+1],k=t[d?-s[l]:s[l]];d?t[Nr]>>14<t[Es]>>16&&(3&t[Nr])===o&&(t[Nr]+=16384,$s(k,v)):$s(k,v)}const hc=-1;class jc{constructor(o,s,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}const Fh={};class zc{constructor(o,s){this.injector=o,this.parentInjector=s}get(o,s,l){l=In(l);const d=this.injector.get(o,Fh,l);return d!==Fh||s===Fh?d:this.parentInjector.get(o,s,l)}}function Lh(t){return t!==hc}function Cd(t){return 32767&t}function Pu(t,o){let s=function Cg(t){return t>>16}(t),l=o;for(;s>0;)l=l[Gs],s--;return l}let Ou=!0;function js(t){const o=Ou;return Ou=t,o}const Bh=255,wp=5;let _p=0;const Ts={};function Uc(t,o){const s=Cp(t,o);if(-1!==s)return s;const l=o[Ln];l.firstCreatePass&&(t.injectorIndex=o.length,Vc(l.data,t),Vc(o,null),Vc(l.blueprint,null));const d=Nu(t,o),v=t.injectorIndex;if(Lh(d)){const w=Cd(d),k=Pu(d,o),R=k[Ln].data;for(let W=0;W<8;W++)o[v+W]=k[w+W]|R[w+W]}return o[v+8]=d,v}function Vc(t,o){t.push(0,0,0,0,0,0,0,0,o)}function Cp(t,o){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===o[t.injectorIndex+8]?-1:t.injectorIndex}function Nu(t,o){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,l=null,d=o;for(;null!==d;){if(l=Uh(d),null===l)return hc;if(s++,d=d[Gs],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return hc}function $h(t,o,s){!function Ig(t,o,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(kr)&&(l=s[kr]),null==l&&(l=s[kr]=_p++);const d=l&Bh;o.data[t+(d>>wp)]|=1<<d}(t,o,s)}function jh(t,o,s){if(s&wo.Optional||void 0!==t)return t;vi()}function Eg(t,o,s,l){if(s&wo.Optional&&void 0===l&&(l=null),!(s&(wo.Self|wo.Host))){const d=t[Ai],v=Mo(void 0);try{return d?d.get(o,l,s&wo.Optional):za(o,l,s&wo.Optional)}finally{Mo(v)}}return jh(l,0,s)}function Ip(t,o,s,l=wo.Default,d){if(null!==t){if(2048&o[Nr]&&!(l&wo.Self)){const w=function Sg(t,o,s,l,d){let v=t,w=o;for(;null!==v&&null!==w&&2048&w[Nr]&&!(512&w[Nr]);){const k=Dg(v,w,s,l|wo.Self,Ts);if(k!==Ts)return k;let R=v.parent;if(!R){const W=w[Xs];if(W){const ue=W.get(s,Ts,l);if(ue!==Ts)return ue}R=Uh(w),w=w[Gs]}v=R}return d}(t,o,s,l,Ts);if(w!==Ts)return w}const v=Dg(t,o,s,l,Ts);if(v!==Ts)return v}return Eg(o,s,l,d)}function Dg(t,o,s,l,d){const v=function M0(t){if("string"==typeof t)return t.charCodeAt(0)||0;const o=t.hasOwnProperty(kr)?t[kr]:void 0;return"number"==typeof o?o>=0?o&Bh:Dp:o}(s);if("function"==typeof v){if(!Su(o,t,l))return l&wo.Host?jh(d,0,l):Eg(o,s,l,d);try{let w;if(w=v(l),null!=w||l&wo.Optional)return w;vi()}finally{gp()}}else if("number"==typeof v){let w=null,k=Cp(t,o),R=hc,W=l&wo.Host?o[Ko][oi]:null;for((-1===k||l&wo.SkipSelf)&&(R=-1===k?Nu(t,o):o[k+8],R!==hc&&Hc(l,!1)?(w=o[Ln],k=Cd(R),o=Pu(R,o)):k=-1);-1!==k;){const ue=o[Ln];if(Ep(v,k,ue.data)){const xe=kg(k,o,s,w,l,W);if(xe!==Ts)return xe}R=o[k+8],R!==hc&&Hc(l,o[Ln].data[k+8]===W)&&Ep(v,k,o)?(w=ue,k=Cd(R),o=Pu(R,o)):k=-1}}return d}function kg(t,o,s,l,d,v){const w=o[Ln],k=w.data[t+8],ue=Ed(k,w,s,null==l?Ls(k)&&Ou:l!=w&&!!(3&k.type),d&wo.Host&&v===k);return null!==ue?fc(o,w,ue,k):Ts}function Ed(t,o,s,l,d){const v=t.providerIndexes,w=o.data,k=1048575&v,R=t.directiveStart,ue=v>>20,tt=d?k+ue:t.directiveEnd;for(let Ct=l?k:k+ue;Ct<tt;Ct++){const pt=w[Ct];if(Ct<R&&s===pt||Ct>=R&&pt.type===s)return Ct}if(d){const Ct=w[R];if(Ct&&gs(Ct)&&Ct.type===s)return R}return null}function fc(t,o,s,l){let d=t[s];const v=o.data;if(function yg(t){return t instanceof jc}(d)){const w=d;w.resolving&&function ea(t,o){throw o&&o.join(" > "),new Kt(-200,t)}(function Ur(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():gr(t)}(v[s]));const k=js(w.canSeeViewProviders);w.resolving=!0;const W=w.injectImpl?Mo(w.injectImpl):null;Su(t,l,wo.Default);try{d=t[s]=w.factory(void 0,v,t,l),o.firstCreatePass&&s>=l.directiveStart&&function vp(t,o,s){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:v}=o.type.prototype;if(l){var w,k;const xe=es(o);(null!==(w=s.preOrderHooks)&&void 0!==w?w:s.preOrderHooks=[]).push(t,xe),(null!==(k=s.preOrderCheckHooks)&&void 0!==k?k:s.preOrderCheckHooks=[]).push(t,xe)}var R,W,ue;d&&(null!==(R=s.preOrderHooks)&&void 0!==R?R:s.preOrderHooks=[]).push(0-t,d),v&&((null!==(W=s.preOrderHooks)&&void 0!==W?W:s.preOrderHooks=[]).push(t,v),(null!==(ue=s.preOrderCheckHooks)&&void 0!==ue?ue:s.preOrderCheckHooks=[]).push(t,v))}(s,v[s],o)}finally{null!==W&&Mo(W),js(k),w.resolving=!1,gp()}}return d}function Ep(t,o,s){return!!(s[o+(t>>wp)]&1<<t)}function Hc(t,o){return!(t&wo.Self||t&wo.Host&&o)}class Ea{constructor(o,s){this._tNode=o,this._lView=s}get(o,s,l){return Ip(this._tNode,this._lView,o,In(l),s)}}function Dp(){return new Ea(bi(),En())}function kp(t){return Vr(()=>{const o=t.prototype.constructor,s=o[eo]||zh(o),l=Object.prototype;let d=Object.getPrototypeOf(t.prototype).constructor;for(;d&&d!==l;){const v=d[eo]||zh(d);if(v&&v!==s)return v;d=Object.getPrototypeOf(d)}return v=>new v})}function zh(t){return _n(t)?()=>{const o=zh(Tt(t));return o&&o()}:la(t)}function Uh(t){const o=t[Ln],s=o.type;return 2===s?o.declTNode:1===s?t[oi]:null}function Dd(t){return function Id(t,o){if("class"===o)return t.classes;if("style"===o)return t.styles;const s=t.attrs;if(s){const l=s.length;let d=0;for(;d<l;){const v=s[d];if(Or(v))break;if(0===v)d+=2;else if("number"==typeof v)for(d++;d<l&&"string"==typeof s[d];)d++;else{if(v===o)return s[d+1];d+=2}}}return null}(bi(),t)}function Mp(t,o=null,s=null,l){const d=Og(t,o,s,l);return d.resolveInjectorInitializers(),d}function Og(t,o=null,s=null,l,d=new Set){const v=[s||Fe,fa(t)];return l=l||("object"==typeof t?void 0:lo(t)),new Ns(v,o||Wi(),l||null,d)}class ns{static create(o,s){if(Array.isArray(o))return Mp({name:""},s,o,"");{var l;const d=null!==(l=o.name)&&void 0!==l?l:"";return Mp({name:d},o.parent,o.providers,d)}}}(pr=ns).THROW_IF_NOT_FOUND=Za,pr.NULL=new St,pr.\u0275prov=Dr({token:pr,providedIn:"any",factory:()=>kt(dt)}),pr.__NG_ELEMENT_ID__=-1,new Rt("").__NG_ELEMENT_ID__=t=>{const o=bi();if(null===o)throw new Kt(204,!1);if(2&o.type)return o.value;if(t&wo.Optional)return null;throw new Kt(204,!1)};function Xh(t){return t.ngOriginalError}const Pp=!0;let Wc=(()=>{var t;class o{}return(t=o).__NG_ELEMENT_ID__=Op,t.__NG_ENV_ID__=s=>s,o})();class P0 extends Wc{constructor(o){super(),this._lView=o}onDestroy(o){return md(this._lView,o),()=>function op(t,o){if(null===t[ms])return;const s=t[ms].indexOf(o);-1!==s&&t[ms].splice(s,1)}(this._lView,o)}}function Op(){return new P0(En())}let Gc=(()=>{var t;class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Xr.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=o).\u0275prov=Dr({token:t,providedIn:"root",factory:()=>new t}),o})();const vs=class Fg extends hr.B{constructor(o=!1){var s,l;super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=o,bl()&&(this.destroyRef=null!==(s=Vt(Wc,{optional:!0}))&&void 0!==s?s:void 0,this.pendingTasks=null!==(l=Vt(Gc,{optional:!0}))&&void 0!==l?l:void 0)}emit(o){const s=S(null);try{super.next(o)}finally{S(s)}}subscribe(o,s,l){let d=o,v=s||(()=>null),w=l;if(o&&"object"==typeof o){var k,R,W;const xe=o;d=null===(k=xe.next)||void 0===k?void 0:k.bind(xe),v=null===(R=xe.error)||void 0===R?void 0:R.bind(xe),w=null===(W=xe.complete)||void 0===W?void 0:W.bind(xe)}this.__isAsync&&(v=this.wrapInTimeout(v),d&&(d=this.wrapInTimeout(d)),w&&(w=this.wrapInTimeout(w)));const ue=super.subscribe({next:d,error:v,complete:w});return o instanceof Ar.yU&&o.add(ue),ue}wrapInTimeout(o){return s=>{var l;const d=null===(l=this.pendingTasks)||void 0===l?void 0:l.add();setTimeout(()=>{var v;o(s),void 0!==d&&(null===(v=this.pendingTasks)||void 0===v||v.remove(d))})}}};function Kh(...t){}function qh(t){let o,s;function l(){t=Kh;try{void 0!==s&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(s),void 0!==o&&clearTimeout(o)}catch{}}return o=setTimeout(()=>{t(),l()}),"function"==typeof requestAnimationFrame&&(s=requestAnimationFrame(()=>{t(),l()})),()=>l()}function Lg(t){return queueMicrotask(()=>t()),()=>{t=Kh}}const Sd="isAngularZone",Bo=Sd+"_ID";let N0=0;class Gi{constructor(o){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vs(!1),this.onMicrotaskEmpty=new vs(!1),this.onStable=new vs(!1),this.onError=new vs(!1);const{enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1,scheduleInRootZone:v=Pp}=o;if(typeof Zone>"u")throw new Kt(908,!1);Zone.assertZonePatched();const w=this;w._nesting=0,w._outer=w._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(w._inner=w._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(w._inner=w._inner.fork(Zone.longStackTraceZoneSpec)),w.shouldCoalesceEventChangeDetection=!d&&l,w.shouldCoalesceRunChangeDetection=d,w.callbackScheduled=!1,w.scheduleInRootZone=v,function $g(t){const o=()=>{!function Bg(t){function o(){qh(()=>{t.callbackScheduled=!1,Yh(t),t.isCheckStableRunning=!0,Ms(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{o()}):t._outer.run(()=>{o()}),Yh(t))}(t)},s=N0++;t._inner=t._inner.fork({name:"angular",properties:{[Sd]:!0,[Bo]:s,[Bo+s]:!0},onInvokeTask:(l,d,v,w,k,R)=>{if(function zg(t){return Np(t,"__ignore_ng_zone__")}(R))return l.invokeTask(v,w,k,R);try{return Ad(t),l.invokeTask(v,w,k,R)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===w.type||t.shouldCoalesceRunChangeDetection)&&o(),jg(t)}},onInvoke:(l,d,v,w,k,R,W)=>{try{return Ad(t),l.invoke(v,w,k,R,W)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function Md(t){return Np(t,"__scheduler_tick__")}(R)&&o(),jg(t)}},onHasTask:(l,d,v,w)=>{l.hasTask(v,w),d===v&&("microTask"==w.change?(t._hasPendingMicrotasks=w.microTask,Yh(t),Ms(t)):"macroTask"==w.change&&(t.hasPendingMacrotasks=w.macroTask))},onHandleError:(l,d,v,w)=>(l.handleError(v,w),t.runOutsideAngular(()=>t.onError.emit(w)),!1)})}(w)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Sd)}static assertInAngularZone(){if(!Gi.isInAngularZone())throw new Kt(909,!1)}static assertNotInAngularZone(){if(Gi.isInAngularZone())throw new Kt(909,!1)}run(o,s,l){return this._inner.run(o,s,l)}runTask(o,s,l,d){const v=this._inner,w=v.scheduleEventTask("NgZoneEvent: "+d,o,F0,Kh,Kh);try{return v.runTask(w,s,l)}finally{v.cancelTask(w)}}runGuarded(o,s,l){return this._inner.runGuarded(o,s,l)}runOutsideAngular(o){return this._outer.run(o)}}const F0={};function Ms(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Yh(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function Ad(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function jg(t){t._nesting--,Ms(t)}class Td{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vs,this.onMicrotaskEmpty=new vs,this.onStable=new vs,this.onError=new vs}run(o,s,l){return o.apply(s,l)}runGuarded(o,s,l){return o.apply(s,l)}runOutsideAngular(o){return o()}runTask(o,s,l,d){return o.apply(s,l)}}function Np(t,o){var s;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(s=t[0])||void 0===s||null===(s=s.data)||void 0===s?void 0:s[o])}class ll{constructor(){this._console=console}handleError(o){const s=this._findOriginalError(o);this._console.error("ERROR",o),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(o){let s=o&&Xh(o);for(;s&&Xh(s);)s=Xh(s);return s||null}}const Rd=new Rt("",{providedIn:"root",factory:()=>{const t=Vt(Gi),o=Vt(ll);return s=>t.runOutsideAngular(()=>o.handleError(s))}});function z0(){return pc(bi(),En())}function pc(t,o){return new $u(ls(t,o))}let $u=(()=>{class o{constructor(l){this.nativeElement=l}}return o.__NG_ELEMENT_ID__=z0,o})();function Fp(t){return t instanceof $u?t.nativeElement:t}function Ug(){return this._results[Symbol.iterator]()}class Lp{get changes(){var o;return null!==(o=this._changes)&&void 0!==o?o:this._changes=new vs}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const s=Lp.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=Ug)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,s){return this._results.reduce(o,s)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,s){this.dirty=!1;const l=function Ri(t){return t.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function ci(t,o,s){if(t.length!==o.length)return!1;for(let l=0;l<t.length;l++){let d=t[l],v=o[l];if(s&&(d=s(d),v=s(v)),v!==d)return!1}return!0}(this._results,l,s))&&(this._results=l,this.length=l.length,this.last=l[this.length-1],this.first=l[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(o){this._onDirty=o}setDirty(){var o;this.dirty=!0,null===(o=this._onDirty)||void 0===o||o.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Kc(t){return!(128&~t.flags)}const Nd=new Map;let Hg=0;function bs(t){Nd.delete(t[il])}const Yc="__ngContext__";function Oa(t,o){ra(o)?(t[Yc]=o[il],function Qh(t){Nd.set(t[il],t)}(o)):t[Yc]=o}function Vu(t){return Zg(t[as])}function jp(t){return Zg(t[on])}function Zg(t){for(;null!==t&&!Ra(t);)t=t[on];return t}let Vp;function rv(t){Vp=t}const Bd=new Rt("",{providedIn:"root",factory:()=>oa}),oa="ng",Hp=new Rt(""),nf=new Rt("",{providedIn:"platform",factory:()=>"unknown"}),ov=new Rt("",{providedIn:"root",factory:()=>{var t;return(null===(t=function mc(){if(void 0!==Vp)return Vp;if(typeof document<"u")return document;throw new Kt(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let av=()=>null;function Gp(t,o,s=!1){return av(t,o,s)}const uf=new Rt("",{providedIn:"root",factory:()=>!1});let ff;function Zp(t){var o;return(null===(o=function Zu(){if(void 0===ff&&(ff=null,Lr.trustedTypes))try{ff=Lr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ff}())||void 0===o?void 0:o.createScriptURL(t))||t}class Qp{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rn})`}}function dl(t){return t instanceof Qp?t.changingThisBreaksApplicationSecurity:t}function Qu(t,o){const s=function mv(t){return t instanceof Qp&&t.getTypeName()||null}(t);if(null!=s&&s!==o){if("ResourceURL"===s&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${s} (see ${rn})`)}return s===o}const Ps=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ji=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ji||{});function ys(t){const o=Il();return o?o.sanitize(Ji.URL,t)||"":Qu(t,"URL")?dl(t):function $l(t){return(t=String(t)).match(Ps)?t:"unsafe:"+t}(gr(t))}function ia(t){const o=Il();if(o)return Zp(o.sanitize(Ji.RESOURCE_URL,t)||"");if(Qu(t,"ResourceURL"))return Zp(dl(t));throw new Kt(904,!1)}function zs(t,o,s){return function hl(t,o){return"src"===o&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===o&&("base"===t||"link"===t)?ia:ys}(o,s)(t)}function Il(){const t=En();return t&&t[ma].sanitizer}const xf=/^>|^->|<!--|-->|--!>|<!-$/g,vv=/(<|>)/g,om="\u200b$1\u200b";function Ni(t){return t instanceof Function?t():t}var am=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(am||{});let hb;function ed(t,o){return hb(t,o)}function Cf(t,o,s,l,d){if(null!=l){let v,w=!1;Ra(l)?v=l:ra(l)&&(w=!0,l=l[Ro]);const k=ri(l);0===t&&null!==s?null==d?Zd(o,s,k):xc(o,s,k,d||null,!0):1===t&&null!==s?xc(o,s,k,d||null,!0):2===t?function td(t,o,s){t.removeChild(null,o,s)}(o,k,w):3===t&&o.destroyNode(k),null!=v&&function hm(t,o,s,l,d){const v=s[ks];v!==ri(s)&&Cf(o,t,l,v,d);for(let k=Ti;k<s.length;k++){const R=s[k];dm(R[Ln],R,t,o,l,v)}}(o,t,v,s,d)}}function pb(t,o){return t.createComment(function bv(t){return t.replace(xf,o=>o.replace(vv,om))}(o))}function wv(t,o,s){return t.createElement(o,s)}function vx(t,o){var s;null===(s=o[ma].changeDetectionScheduler)||void 0===s||s.notify(9),dm(t,o,o[qr],2,null,null)}function bx(t,o){const s=t[ic],l=o[Di];(ra(l)||o[Ko]!==l[Di][Ko])&&(t[Nr]|=yl.HasTransplantedViews),null===s?t[ic]=[o]:s.push(o)}function _v(t,o){const s=t[ic],l=s.indexOf(o);s.splice(l,1)}function tu(t,o){if(t.length<=Ti)return;const s=Ti+o,l=t[s];if(l){const d=l[Is];null!==d&&d!==t&&_v(d,l),o>0&&(t[s-1][on]=l[on]);const v=Aa(t,Ti+o);!function L_(t,o){vx(t,o),o[Ro]=null,o[oi]=null}(l[Ln],l);const w=v[Bi];null!==w&&w.detachView(v[Ln]),l[Di]=null,l[on]=null,l[Nr]&=-129}return l}function El(t,o){if(!(256&o[Nr])){const s=o[qr];s.destroyNode&&dm(t,o,s,3,null,null),function Yd(t){let o=t[as];if(!o)return Cv(t[Ln],t);for(;o;){let s=null;if(ra(o))s=o[as];else{const l=o[Ti];l&&(s=l)}if(!s){for(;o&&!o[on]&&o!==t;)ra(o)&&Cv(o[Ln],o),o=o[Di];null===o&&(o=t),ra(o)&&Cv(o[Ln],o),s=o&&o[on]}o=s}}(o)}}function Cv(t,o){if(256&o[Nr])return;const s=S(null);try{o[Nr]&=-129,o[Nr]|=256,o[Ds]&&ct(o[Ds]),function yx(t,o){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let l=0;l<s.length;l+=2){const d=o[s[l]];if(!(d instanceof jc)){const v=s[l+1];if(Array.isArray(v))for(let w=0;w<v.length;w+=2){const k=d[v[w]],R=v[w+1];Ss(4,k,R);try{R.call(k)}finally{Ss(5,k,R)}}else{Ss(4,d,v);try{v.call(d)}finally{Ss(5,d,v)}}}}}(t,o),function mb(t,o){const s=t.cleanup,l=o[yo];if(null!==s)for(let v=0;v<s.length-1;v+=2)if("string"==typeof s[v]){const w=s[v+3];w>=0?l[w]():l[-w].unsubscribe(),v+=2}else s[v].call(l[s[v+1]]);null!==l&&(o[yo]=null);const d=o[ms];if(null!==d){o[ms]=null;for(let v=0;v<d.length;v++)(0,d[v])()}}(t,o),1===o[Ln].type&&o[qr].destroy();const l=o[Is];if(null!==l&&Ra(o[Di])){l!==o[Di]&&_v(l,o);const d=o[Bi];null!==d&&d.detachView(t)}bs(o)}finally{S(s)}}function lm(t,o,s){return function gb(t,o,s){let l=o;for(;null!==l&&168&l.type;)l=(o=l).parent;if(null===l)return s[Ro];{const{componentOffset:d}=l;if(d>-1){const{encapsulation:v}=t.data[l.directiveStart+d];if(v===hn.None||v===hn.Emulated)return null}return ls(l,s)}}(t,o.parent,s)}function xc(t,o,s,l,d){t.insertBefore(o,s,l,d)}function Zd(t,o,s){t.appendChild(o,s)}function nu(t,o,s,l,d){null!==l?xc(t,o,s,l,d):Zd(t,o,s)}function cm(t,o){return t.parentNode(o)}function zl(t,o,s){return Iv(t,o,s)}let pl,Iv=function Ef(t,o,s){return 40&t.type?ls(t,s):null};function um(t,o,s,l){const d=lm(t,l,o),v=o[qr],k=zl(l.parent||o[oi],l,o);if(null!=d)if(Array.isArray(s))for(let R=0;R<s.length;R++)nu(v,d,s[R],k,!1);else nu(v,d,s,k,!1);void 0!==pl&&pl(v,l,o,s,d)}function Dl(t,o){if(null!==o){const s=o.type;if(3&s)return ls(o,t);if(4&s)return Ev(-1,t[o.index]);if(8&s){const l=o.child;if(null!==l)return Dl(t,l);{const d=t[o.index];return Ra(d)?Ev(-1,d):ri(d)}}if(128&s)return Dl(t,o.next);if(32&s)return ed(o,t)()||ri(t[o.index]);{const l=Qd(t,o);return null!==l?Array.isArray(l)?l[0]:Dl(wl(t[Ko]),l):Dl(t,o.next)}}return null}function Qd(t,o){return null!==o?t[Ko][oi].projection[o.projection]:null}function Ev(t,o){const s=Ti+t+1;if(s<o.length){const l=o[s],d=l[Ln].firstChild;if(null!==d)return Dl(l,d)}return o[ks]}function Jd(t,o,s,l,d,v,w){for(;null!=s;){if(128===s.type){s=s.next;continue}const k=l[s.index],R=s.type;if(w&&0===o&&(k&&Oa(ri(k),l),s.flags|=2),32&~s.flags)if(8&R)Jd(t,o,s.child,l,d,v,!1),Cf(o,t,d,k,v);else if(32&R){const W=ed(s,l);let ue;for(;ue=W();)Cf(o,t,d,ue,v);Cf(o,t,d,k,v)}else 16&R?bb(t,o,l,s,d,v):Cf(o,t,d,k,v);s=w?s.projectionNext:s.next}}function dm(t,o,s,l,d,v){Jd(s,l,t.firstChild,o,d,v,!1)}function bb(t,o,s,l,d,v){const w=s[Ko],R=w[oi].projection[l.projection];if(Array.isArray(R))for(let W=0;W<R.length;W++)Cf(o,t,d,R[W],v);else{let W=R;const ue=w[Di];Kc(l)&&(W.flags|=128),Jd(t,o,W,ue,d,v,!0)}}function Dv(t,o,s){""===s?t.removeAttribute(o,"class"):t.setAttribute(o,"class",s)}function kv(t,o,s){const{mergedAttrs:l,classes:d,styles:v}=s;null!==l&&yr(t,o,l),null!==d&&Dv(t,o,d),null!==v&&function yb(t,o,s){t.setAttribute(o,"style",s)}(t,o,v)}const Ao={};function Cx(t=1){xb(Fo(),En(),Pa()+t,!1)}function xb(t,o,s,l){if(!l)if(3&~o[Nr]){const v=t.preOrderHooks;null!==v&&Mu(o,v,0,s)}else{const v=t.preOrderCheckHooks;null!==v&&xd(o,v,s)}sl(s)}function ru(t,o=wo.Default){const s=En();return null===s?kt(t,o):Ip(bi(),s,Tt(t),o)}function Sv(){throw new Error("invalid")}function Av(t,o,s,l,d,v){const w=S(null);try{let k=null;d&Un.SignalBased&&(k=o[l][J]),null!==k&&void 0!==k.transformFn&&(v=k.transformFn(v)),d&Un.HasDecoratorInputTransform&&(v=t.inputTransforms[l].call(o,v)),null!==t.setInput?t.setInput(o,k,v,s,l):$i(o,k,l,v)}finally{S(w)}}function Df(t,o,s,l,d,v,w,k,R,W,ue){const xe=o.blueprint.slice();return xe[Ro]=d,xe[Nr]=204|l,(null!==W||t&&2048&t[Nr])&&(xe[Nr]|=2048),rp(xe),xe[Di]=xe[Gs]=t,xe[ui]=s,xe[ma]=w||t&&t[ma],xe[qr]=k||t&&t[qr],xe[Ai]=R||t&&t[Ai]||null,xe[oi]=v,xe[il]=function Wg(){return Hg++}(),xe[Xo]=ue,xe[Xs]=W,xe[Ko]=2==o.type?t[Ko]:xe,xe}function ou(t,o,s,l,d){let v=t.data[o];if(null===v)v=function ka(t,o,s,l,d){const v=vd(),w=bd(),R=t.data[o]=function Ex(t,o,s,l,d,v){let w=o?o.injectorIndex:-1,k=0;return Lc()&&(k|=128),{type:s,index:l,insertBeforeIndex:null,injectorIndex:w,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:k,providerIndexes:0,value:d,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?v:v&&v.parent,s,o,l,d);return null===t.firstChild&&(t.firstChild=R),null!==v&&(w?null==v.child&&null!==R.parent&&(v.child=R):null===v.next&&(v.next=R,R.prev=v)),R}(t,o,s,l,d),function hp(){return Co.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=s,v.value=l,v.attrs=d;const w=function Ll(){const t=Co.lFrame,o=t.currentTNode;return t.isParent?o:o.parent}();v.injectorIndex=null===w?-1:w.injectorIndex}return Ys(v,!0),v}function kf(t,o,s,l){if(0===s)return-1;const d=o.length;for(let v=0;v<s;v++)o.push(l),t.blueprint.push(l),t.data.push(null);return d}function fm(t,o,s,l,d){const v=Pa(),w=2&l;try{sl(-1),w&&o.length>jr&&xb(t,o,jr,!1),Ss(w?2:0,d),s(l,d)}finally{sl(v),Ss(w?3:1,d)}}function Sf(t,o,s){if(Pc(o)){const l=S(null);try{const v=o.directiveEnd;for(let w=o.directiveStart;w<v;w++){const k=t.data[w];k.contentQueries&&k.contentQueries(1,s[w],w)}}finally{S(l)}}}function Tv(t,o,s){sp()&&(function Sb(t,o,s,l){const d=s.directiveStart,v=s.directiveEnd;Ls(s)&&function gm(t,o,s){const l=ls(o,t),d=pm(s);let w=16;s.signals?w=4096:s.onPush&&(w=64);const k=eh(t,Df(t,d,null,w,l,o,null,t[ma].rendererFactory.createRenderer(l,s),null,null,null));t[o.index]=k}(o,s,t.data[d+s.componentOffset]),t.firstCreatePass||Uc(s,o),Oa(l,o);const w=s.initialInputs;for(let k=d;k<v;k++){const R=t.data[k],W=fc(o,t,k,s);Oa(W,o),null!==w&&vm(0,k-d,W,R,0,w),gs(R)&&(Ia(s.index,o)[ui]=fc(o,t,k,s))}}(t,o,s,ls(s,o)),!(64&~s.flags)&&Ab(t,o,s))}function Xa(t,o,s=ls){const l=o.localNames;if(null!==l){let d=o.index+1;for(let v=0;v<l.length;v+=2){const w=l[v+1],k=-1===w?s(o,t):t[w];t[d++]=k}}}function pm(t){const o=t.tView;return null===o||o.incompleteFirstPass?t.tView=ml(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):o}function ml(t,o,s,l,d,v,w,k,R,W,ue){const xe=jr+l,tt=xe+d,Ct=function nd(t,o){const s=[];for(let l=0;l<o;l++)s.push(l<t?null:Ao);return s}(xe,tt),pt="function"==typeof W?W():W;return Ct[Ln]={type:t,blueprint:Ct,template:s,queries:null,viewQuery:k,declTNode:o,data:Ct.slice().fill(null,xe),bindingStartIndex:xe,expandoStartIndex:tt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:R,consts:pt,incompleteFirstPass:!1,ssrId:ue}}let Cb=()=>null;function Eb(t,o,s,l,d){for(let w in o){var v;if(!o.hasOwnProperty(w))continue;const k=o[w];if(void 0===k)continue;null!==(v=l)&&void 0!==v||(l={});let R,W=Un.None;Array.isArray(k)?(R=k[0],W=k[1]):R=k;let ue=w;if(null!==d){if(!d.hasOwnProperty(w))continue;ue=d[w]}0===t?Mv(l,s,ue,R,W):Mv(l,s,ue,R)}return l}function Mv(t,o,s,l,d){let v;t.hasOwnProperty(s)?(v=t[s]).push(o,l):v=t[s]=[o,l],void 0!==d&&v.push(d)}function Us(t,o,s,l,d,v,w,k){const R=ls(o,s);let ue,W=o.inputs;!k&&null!=W&&(ue=W[l])?(zv(t,s,ue,l,d),Ls(o)&&function Db(t,o){const s=Ia(o,t);16&s[Nr]||(s[Nr]|=64)}(s,o.index)):3&o.type&&(l=function Rv(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(l),d=null!=w?w(d,o.value||"",l):d,v.setProperty(R,l,d))}function La(t,o,s,l){if(sp()){const d=null===l?null:{"":-1},v=function Tb(t,o){const s=t.directiveRegistry;let l=null,d=null;if(s)for(let w=0;w<s.length;w++){const k=s[w];if(Ql(o,k.selectors,!1))if(l||(l=[]),gs(k))if(null!==k.findHostDirectiveDefs){const R=[];d=d||new Map,k.findHostDirectiveDefs(k,R,d),l.unshift(...R,k),Nv(t,o,R.length)}else l.unshift(k),Nv(t,o,0);else{var v;d=d||new Map,null===(v=k.findHostDirectiveDefs)||void 0===v||v.call(k,k,l,d),l.push(k)}}return null===l?null:[l,d]}(t,s);let w,k;null===v?w=k=null:[w,k]=v,null!==w&&Af(t,o,s,w,d,k),d&&function U_(t,o,s){if(o){const l=t.localNames=[];for(let d=0;d<o.length;d+=2){const v=s[o[d+1]];if(null==v)throw new Kt(-301,!1);l.push(o[d],v)}}}(s,l,d)}s.mergedAttrs=Qo(s.mergedAttrs,s.attrs)}function Af(t,o,s,l,d,v){for(let xe=0;xe<l.length;xe++)$h(Uc(s,o),t,l[xe].type);!function tl(t,o,s){t.flags|=1,t.directiveStart=o,t.directiveEnd=o+s,t.providerIndexes=o}(s,t.data.length,l.length);for(let xe=0;xe<l.length;xe++){const tt=l[xe];tt.providersResolver&&tt.providersResolver(tt)}let w=!1,k=!1,R=kf(t,o,l.length,null);for(let xe=0;xe<l.length;xe++){const tt=l[xe];s.mergedAttrs=Qo(s.mergedAttrs,tt.hostAttrs),Fv(t,s,o,R,tt),wc(R,tt,d),null!==tt.contentQueries&&(s.flags|=4),(null!==tt.hostBindings||null!==tt.hostAttrs||0!==tt.hostVars)&&(s.flags|=64);const Ct=tt.type.prototype;var W,ue;!w&&(Ct.ngOnChanges||Ct.ngOnInit||Ct.ngDoCheck)&&((null!==(W=t.preOrderHooks)&&void 0!==W?W:t.preOrderHooks=[]).push(s.index),w=!0),k||!Ct.ngOnChanges&&!Ct.ngDoCheck||((null!==(ue=t.preOrderCheckHooks)&&void 0!==ue?ue:t.preOrderCheckHooks=[]).push(s.index),k=!0),R++}!function mm(t,o,s){const d=o.directiveEnd,v=t.data,w=o.attrs,k=[];let R=null,W=null;for(let ue=o.directiveStart;ue<d;ue++){const xe=v[ue],tt=s?s.get(xe):null,pt=tt?tt.outputs:null;R=Eb(0,xe.inputs,ue,R,tt?tt.inputs:null),W=Eb(1,xe.outputs,ue,W,pt);const bn=null===R||null===w||ua(o)?null:Lv(R,ue,w);k.push(bn)}null!==R&&(R.hasOwnProperty("class")&&(o.flags|=8),R.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=k,o.inputs=R,o.outputs=W}(t,s,v)}function Ab(t,o,s){const l=s.directiveStart,d=s.directiveEnd,v=s.index,w=function hg(){return Co.lFrame.currentDirectiveIndex}();try{sl(v);for(let k=l;k<d;k++){const R=t.data[k],W=o[k];Mh(k),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&z_(R,W)}}finally{sl(-1),Mh(w)}}function z_(t,o){null!==t.hostBindings&&t.hostBindings(1,o)}function Nv(t,o,s){var l;o.componentOffset=s,(null!==(l=t.components)&&void 0!==l?l:t.components=[]).push(o.index)}function wc(t,o,s){if(s){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)s[o.exportAs[l]]=t;gs(o)&&(s[""]=t)}}function Fv(t,o,s,l,d){t.data[l]=d;const v=d.factory||(d.factory=la(d.type)),w=new jc(v,gs(d),ru);t.blueprint[l]=w,s[l]=w,function Ov(t,o,s,l,d){const v=d.hostBindings;if(v){let w=t.hostBindingOpCodes;null===w&&(w=t.hostBindingOpCodes=[]);const k=~o.index;(function kb(t){let o=t.length;for(;o>0;){const s=t[--o];if("number"==typeof s&&s<0)return s}return 0})(w)!=k&&w.push(k),w.push(s,l,v)}}(t,o,l,kf(t,s,d.hostVars,Ao),d)}function Ba(t,o,s,l,d,v){const w=ls(t,o);!function kl(t,o,s,l,d,v,w){if(null==v)t.removeAttribute(o,d,s);else{const k=null==w?gr(v):w(v,l||"",d);t.setAttribute(o,d,k,s)}}(o[qr],w,v,t.value,s,l,d)}function vm(t,o,s,l,d,v){const w=v[o];if(null!==w)for(let k=0;k<w.length;)Av(l,s,w[k++],w[k++],w[k++],w[k++])}function Lv(t,o,s){let l=null,d=0;for(;d<s.length;){const v=s[d];if(0!==v)if(5!==v){if("number"==typeof v)break;if(t.hasOwnProperty(v)){null===l&&(l=[]);const w=t[v];for(let k=0;k<w.length;k+=3)if(w[k]===o){l.push(v,w[k+1],w[k+2],s[d+1]);break}}d+=2}else d+=2;else d+=4}return l}function Bv(t,o,s,l){return[t,!0,0,o,null,l,null,s,null,null]}function bm(t,o){const s=t.contentQueries;if(null!==s){const l=S(null);try{for(let d=0;d<s.length;d+=2){const w=s[d+1];if(-1!==w){const k=t.data[w];uc(s[d]),k.contentQueries(2,o[w],w)}}}finally{S(l)}}}function eh(t,o){return t[as]?t[Ol][on]=o:t[as]=o,t[Ol]=o,o}function Ul(t,o,s){uc(0);const l=S(null);try{o(t,s)}finally{S(l)}}function $v(t){var o;return null!==(o=t[yo])&&void 0!==o?o:t[yo]=[]}function Mb(t){var o;return null!==(o=t.cleanup)&&void 0!==o?o:t.cleanup=[]}function Tf(t,o){const s=t[Ai],l=s?s.get(ll,null):null;l&&l.handleError(o)}function zv(t,o,s,l,d){for(let v=0;v<s.length;){const w=s[v++],k=s[v++],R=s[v++];Av(t.data[w],o[w],l,k,R,d)}}function Hl(t,o){const s=Ia(o,t),l=s[Ln];!function kx(t,o){for(let s=o.length;s<t.blueprint.length;s++)o.push(t.blueprint[s])}(l,s);const d=s[Ro];null!==d&&null===s[Xo]&&(s[Xo]=Gp(d,s[Ai])),Uv(l,s,s[ui])}function Uv(t,o,s){Rh(o);try{var l;const d=t.viewQuery;null!==d&&Ul(1,d,s);const v=t.template;null!==v&&fm(t,o,v,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),null===(l=o[Bi])||void 0===l||l.finishViewCreation(t),t.staticContentQueries&&bm(t,o),t.staticViewQueries&&Ul(2,t.viewQuery,s);const w=t.components;null!==w&&function Rb(t,o){for(let s=0;s<o.length;s++)Hl(t,o[s])}(o,w)}catch(d){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),d}finally{o[Nr]&=-5,Oh()}}function rd(t,o,s,l){const d=S(null);try{var v,w,k;const R=o.tView,xe=Df(t,R,s,4096&t[Nr]?4096:16,null,o,null,null,null!==(v=null==l?void 0:l.injector)&&void 0!==v?v:null,null!==(w=null==l?void 0:l.embeddedViewInjector)&&void 0!==w?w:null,null!==(k=null==l?void 0:l.dehydratedView)&&void 0!==k?k:null);xe[Is]=t[o.index];const Ct=t[Bi];return null!==Ct&&(xe[Bi]=Ct.createEmbeddedView(R)),Uv(R,xe,s),xe}finally{S(d)}}function od(t,o){return!o||null===o.firstChild||Kc(t)}function th(t,o,s,l=!0){const d=o[Ln];if(function If(t,o,s,l){const d=Ti+l,v=s.length;l>0&&(s[d-1][on]=o),l<v-Ti?(o[on]=s[d],zi(s,Ti+l,o)):(s.push(o),o[on]=null),o[Di]=s;const w=o[Is];null!==w&&s!==w&&bx(w,o);const k=o[Bi];null!==k&&k.insertView(t),al(o),o[Nr]|=128}(d,o,t,s),l){const w=Ev(s,t),k=o[qr],R=cm(k,t[ks]);null!==R&&function B_(t,o,s,l,d,v){l[Ro]=d,l[oi]=o,dm(t,l,s,1,d,v)}(d,t[oi],k,o,R,w)}const v=o[Xo];null!==v&&null!==v.firstChild&&(v.firstChild=null)}function nh(t,o,s,l,d=!1){for(;null!==s;){if(128===s.type){s=d?s.projectionNext:s.next;continue}const v=o[s.index];null!==v&&l.push(ri(v)),Ra(v)&&Sx(v,l);const w=s.type;if(8&w)nh(t,o,s.child,l);else if(32&w){const k=ed(s,o);let R;for(;R=k();)l.push(R)}else if(16&w){const k=Qd(o,s);if(Array.isArray(k))l.push(...k);else{const R=wl(o[Ko]);nh(R[Ln],R,k,l,!0)}}s=d?s.projectionNext:s.next}return l}function Sx(t,o){for(let s=Ti;s<t.length;s++){const l=t[s],d=l[Ln].firstChild;null!==d&&nh(l[Ln],l,d,o)}t[ks]!==t[Ro]&&o.push(t[ks])}let Ob=[];const Tx={...wt,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{pd(t.lView)},consumerOnSignalRead(){this.lView[Ds]=this}},Mx={...wt,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let o=wl(t.lView);for(;o&&!Nb(o[Ln]);)o=wl(o);o&&_h(o)},consumerOnSignalRead(){this.lView[Ds]=this}};function Nb(t){return 2!==t.type}const Rx=100;function ym(t,o=!0,s=0){const l=t[ma],d=l.rendererFactory;var w;null===(w=d.begin)||void 0===w||w.call(d);try{!function Fb(t,o){const s=Ah();try{ts(!0),Wv(t,o);let l=0;for(;fd(t);){if(l===Rx)throw new Kt(103,!1);l++,Wv(t,1)}}finally{ts(s)}}(t,s)}catch(W){throw o&&Tf(t,W),W}finally{var k,R;null===(k=d.end)||void 0===k||k.call(d),null===(R=l.inlineEffectRunner)||void 0===R||R.flush()}}function Px(t,o,s,l){var d;const v=o[Nr];if(!(256&~v))return;null===(d=o[ma].inlineEffectRunner)||void 0===d||d.flush(),Rh(o);let R=!0,W=null,ue=null;Nb(t)?(ue=function Hv(t){var o;return null!==(o=t[Ds])&&void 0!==o?o:function id(t){var o;const s=null!==(o=Ob.pop())&&void 0!==o?o:Object.create(Tx);return s.lView=t,s}(t)}(o),W=Pe(ue)):null===function ke(){return g}()?(R=!1,ue=function V_(t){var o;const s=null!==(o=t[Ds])&&void 0!==o?o:Object.create(Mx);return s.lView=t,s}(o),W=Pe(ue)):o[Ds]&&(ct(o[Ds]),o[Ds]=null);try{rp(o),function dg(t){return Co.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&fm(t,o,s,2,l);const xe=!(3&~v);if(xe){const pt=t.preOrderCheckHooks;null!==pt&&xd(o,pt,null)}else{const pt=t.preOrderHooks;null!==pt&&Mu(o,pt,0,null),Ru(o,0)}if(function Ox(t){for(let o=Vu(t);null!==o;o=jp(o)){if(!(o[Nr]&yl.HasTransplantedViews))continue;const s=o[ic];for(let l=0;l<s.length;l++)_h(s[l])}}(o),Lb(o,0),null!==t.contentQueries&&bm(t,o),xe){const pt=t.contentCheckHooks;null!==pt&&xd(o,pt)}else{const pt=t.contentHooks;null!==pt&&Mu(o,pt,1),Ru(o,1)}!function wb(t,o){const s=t.hostBindingOpCodes;if(null!==s)try{for(let l=0;l<s.length;l++){const d=s[l];if(d<0)sl(~d);else{const v=d,w=s[++l],k=s[++l];fp(w,v),k(2,o[v])}}}finally{sl(-1)}}(t,o);const tt=t.components;null!==tt&&Gv(o,tt,0);const Ct=t.viewQuery;if(null!==Ct&&Ul(2,Ct,l),xe){const pt=t.viewCheckHooks;null!==pt&&xd(o,pt)}else{const pt=t.viewHooks;null!==pt&&Mu(o,pt,2),Ru(o,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o[Fs]){for(const pt of o[Fs])pt();o[Fs]=null}o[Nr]&=-73}catch(xe){throw pd(o),xe}finally{null!==ue&&(pe(ue,W),R&&function Ax(t){t.lView[Ds]!==t&&(t.lView=null,Ob.push(t))}(ue)),Oh()}}function Lb(t,o){for(let s=Vu(t);null!==s;s=jp(s))for(let l=Ti;l<s.length;l++)wm(s[l],o)}function Nx(t,o,s){wm(Ia(o,t),s)}function wm(t,o){Du(t)&&Wv(t,o)}function Wv(t,o){const l=t[Ln],d=t[Nr],v=t[Ds];let w=!!(0===o&&16&d);if(w||(w=!!(64&d&&0===o)),w||(w=!!(1024&d)),w||(w=!(null==v||!v.dirty||!vt(v))),w||(w=!1),v&&(v.dirty=!1),t[Nr]&=-9217,w)Px(l,t,l.template,t[ui]);else if(8192&d){Lb(t,1);const k=l.components;null!==k&&Gv(t,k,1)}}function Gv(t,o,s){for(let l=0;l<o.length;l++)Nx(t,o[l],s)}function rh(t,o){var s;const l=Ah()?64:1088;for(null===(s=t[ma].changeDetectionScheduler)||void 0===s||s.notify(o);t;){t[Nr]|=l;const d=wl(t);if(xl(t)&&!d)return t;t=d}return null}class Mf{get rootNodes(){const o=this._lView,s=o[Ln];return nh(s,o,s.firstChild,[])}constructor(o,s,l=!0){this._lView=o,this._cdRefInjectingView=s,this.notifyErrorHandler=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ui]}set context(o){this._lView[ui]=o}get destroyed(){return!(256&~this._lView[Nr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Di];if(Ra(o)){const s=o[8],l=s?s.indexOf(this):-1;l>-1&&(tu(o,l),Aa(s,l))}this._attachedToViewContainer=!1}El(this._lView[Ln],this._lView)}onDestroy(o){md(this._lView,o)}markForCheck(){rh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Nr]&=-129}reattach(){al(this._lView),this._lView[Nr]|=128}detectChanges(){this._lView[Nr]|=1024,ym(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Kt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const o=xl(this._lView),s=this._lView[Is];null!==s&&!o&&_v(s,this._lView),vx(this._lView[Ln],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Kt(902,!1);this._appRef=o;const s=xl(this._lView),l=this._lView[Is];null!==l&&!s&&bx(l,this._lView),al(this._lView)}}let Rf=(()=>{class o{}return o.__NG_ELEMENT_ID__=H_,o})();const Fx=Rf,Lx=class extends Fx{constructor(o,s,l){super(),this._declarationLView=o,this._declarationTContainer=s,this.elementRef=l}get ssrId(){var o;return(null===(o=this._declarationTContainer.tView)||void 0===o?void 0:o.ssrId)||null}createEmbeddedView(o,s){return this.createEmbeddedViewImpl(o,s)}createEmbeddedViewImpl(o,s,l){const d=rd(this._declarationLView,this._declarationTContainer,o,{embeddedViewInjector:s,dehydratedView:l});return new Mf(d)}};function H_(){return _m(bi(),En())}function _m(t,o){return 4&t.type?new Lx(o,t,pc(t,o)):null}let gw=()=>null;function uh(t,o){return gw(t,o)}class Hf{}const Mm=new Rt("",{providedIn:"root",factory:()=>!1}),vw=new Rt(""),ey=new Rt("");class Q_{}class ty{}class e1{resolveComponentFactory(o){throw function J_(t){const o=Error(`No component factory found for ${lo(t)}.`);return o.ngComponent=t,o}(o)}}class Rm{}Rm.NULL=new e1;class ry{}let t1=(()=>{class o{constructor(){this.destroyNode=null}}return o.__NG_ELEMENT_ID__=()=>function n1(){const t=En(),s=Ia(bi().index,t);return(ra(s)?s:t)[qr]}(),o})(),oy=(()=>{var t;class o{}return(t=o).\u0275prov=Dr({token:t,providedIn:"root",factory:()=>null}),o})();function Xl(t){return!!ha(t)}function fh(t,o,s){let l=s?t.styles:null,d=s?t.classes:null,v=0;if(null!==o)for(let w=0;w<o.length;w++){const k=o[w];"number"==typeof k?v=k:1==v?d=Qt(d,k):2==v&&(l=Qt(l,k+": "+o[++w]+";"))}s?t.styles=l:t.stylesWithoutHost=l,s?t.classes=d:t.classesWithoutHost=d}class r0 extends Rm{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const s=ar(o);return new ph(s,this.ngModule)}}function sy(t,o){const s=[];for(const l in t){if(!t.hasOwnProperty(l))continue;const d=t[l];if(void 0===d)continue;const v=Array.isArray(d),w=v?d[0]:d;s.push(o?{propName:w,templateName:l,isSignal:!!((v?d[1]:Un.None)&Un.SignalBased)}:{propName:w,templateName:l})}return s}class ph extends ty{get inputs(){const o=this.componentDef,s=o.inputTransforms,l=sy(o.inputs,!0);if(null!==s)for(const d of l)s.hasOwnProperty(d.propName)&&(d.transform=s[d.propName]);return l}get outputs(){return sy(this.componentDef.outputs,!1)}constructor(o,s){super(),this.componentDef=o,this.ngModule=s,this.componentType=o.type,this.selector=function Rr(t){return t.map(Pn).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!s}create(o,s,l,d){const v=S(null);try{var k;let R=(d=d||this.ngModule)instanceof Qa?d:null===(k=d)||void 0===k?void 0:k.injector;R&&null!==this.componentDef.getStandaloneInjector&&(R=this.componentDef.getStandaloneInjector(R)||R);const W=R?new zc(o,R):o,ue=W.get(ry,null);if(null===ue)throw new Kt(407,!1);const Ct={rendererFactory:ue,sanitizer:W.get(oy,null),inlineEffectRunner:null,changeDetectionScheduler:W.get(Hf,null)},pt=ue.createRenderer(null,this.componentDef),bn=this.componentDef.selectors[0][0]||"div",$n=l?function _b(t,o,s,l){const v=l.get(uf,!1)||s===hn.ShadowDom,w=t.selectRootElement(o,v);return function Ix(t){Cb(t)}(w),w}(pt,l,this.componentDef.encapsulation,W):wv(pt,bn,function bw(t){const o=t.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(bn));let rr=512;this.componentDef.signals?rr|=4096:this.componentDef.onPush||(rr|=16);let Cn=null;null!==$n&&(Cn=Gp($n,W,!0));const bo=ml(0,null,null,1,0,null,null,null,null,null,null),Do=Df(null,bo,null,rr,null,null,Ct,pt,W,null,Cn);Rh(Do);let Xi,hs,Vs=null;try{const Al=this.componentDef;let ep,P_=null;Al.findHostDirectiveDefs?(ep=[],P_=new Map,Al.findHostDirectiveDefs(Al,ep,P_),ep.push(Al)):ep=[Al];const sM=function xw(t,o){const s=t[Ln],l=jr;return t[l]=o,ou(s,l,2,"#host",null)}(Do,$n);Vs=function ly(t,o,s,l,d,v,w){const k=d[Ln];!function r1(t,o,s,l){for(const d of t)o.mergedAttrs=Qo(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(fh(o,o.mergedAttrs,!0),null!==s&&kv(l,s,o))}(l,t,o,w);let R=null;null!==o&&(R=Gp(o,d[Ai]));const W=v.rendererFactory.createRenderer(o,s);let ue=16;s.signals?ue=4096:s.onPush&&(ue=64);const xe=Df(d,pm(s),null,ue,d[t.index],t,v,W,null,null,R);return k.firstCreatePass&&Nv(k,t,l.length-1),eh(d,xe),d[t.index]=xe}(sM,$n,Al,ep,Do,Ct,pt),hs=Eu(bo,jr),$n&&function a1(t,o,s,l){if(l)yr(t,s,["ng-version","18.2.10"]);else{const{attrs:d,classes:v}=function xi(t){const o=[],s=[];let l=1,d=2;for(;l<t.length;){let v=t[l];if("string"==typeof v)2===d?""!==v&&o.push(v,t[++l]):8===d&&s.push(v);else{if(!hi(d))break;d=v}l++}return{attrs:o,classes:s}}(o.selectors[0]);d&&yr(t,s,d),v&&v.length>0&&Dv(t,s,v.join(" "))}}(pt,Al,$n,l),void 0!==s&&function s1(t,o,s){const l=t.projection=[];for(let d=0;d<o.length;d++){const v=s[d];l.push(null!=v?Array.from(v):null)}}(hs,this.ngContentSelectors,s),Xi=function o1(t,o,s,l,d,v){const w=bi(),k=d[Ln],R=ls(w,d);Af(k,d,w,s,null,l);for(let ue=0;ue<s.length;ue++)Oa(fc(d,k,w.directiveStart+ue,w),d);Ab(k,d,w),R&&Oa(R,d);const W=fc(d,k,w.directiveStart+w.componentOffset,w);if(t[ui]=d[ui]=W,null!==v)for(const ue of v)ue(W,o);return Sf(k,w,d),W}(Vs,Al,ep,P_,Do,[l1]),Uv(bo,Do,null)}catch(Al){throw null!==Vs&&bs(Vs),bs(Do),Al}finally{Oh()}return new yw(this.componentType,Xi,pc(hs,Do),Do,hs)}finally{S(v)}}}class yw extends Q_{constructor(o,s,l,d,v){super(),this.location=l,this._rootLView=d,this._tNode=v,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new Mf(d,void 0,!1),this.componentType=o}setInput(o,s){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[o])){var v;if(null!==(v=this.previousInputValues)&&void 0!==v||(this.previousInputValues=new Map),this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),s))return;const w=this._rootLView;zv(w[Ln],w,d,o,s),this.previousInputValues.set(o,s),rh(Ia(this._tNode.index,w),1)}}get injector(){return new Ea(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function l1(){const t=bi();Tu(En()[Ln],t)}let mh=(()=>{class o{}return o.__NG_ELEMENT_ID__=c1,o})();function c1(){return uy(bi(),En())}const u1=mh,ww=class extends u1{constructor(o,s,l){super(),this._lContainer=o,this._hostTNode=s,this._hostLView=l}get element(){return pc(this._hostTNode,this._hostLView)}get injector(){return new Ea(this._hostTNode,this._hostLView)}get parentInjector(){const o=Nu(this._hostTNode,this._hostLView);if(Lh(o)){const s=Pu(o,this._hostLView),l=Cd(o);return new Ea(s[Ln].data[l+8],s)}return new Ea(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const s=cy(this._lContainer);return null!==s&&s[o]||null}get length(){return this._lContainer.length-Ti}createEmbeddedView(o,s,l){let d,v;"number"==typeof l?d=l:null!=l&&(d=l.index,v=l.injector);const w=uh(this._lContainer,o.ssrId),k=o.createEmbeddedViewImpl(s||{},v,w);return this.insertImpl(k,d,od(this._hostTNode,w)),k}createComponent(o,s,l,d,v){var w,k,R;const W=o&&!function Wn(t){return"function"==typeof t}(o);let ue;if(W)ue=s;else{const rr=s||{};ue=rr.index,l=rr.injector,d=rr.projectableNodes,v=rr.environmentInjector||rr.ngModuleRef}const xe=W?o:new ph(ar(o)),tt=l||this.parentInjector;if(!v&&null==xe.ngModule){const Cn=(W?tt:this.parentInjector).get(Qa,null);Cn&&(v=Cn)}const Ct=ar(null!==(w=xe.componentType)&&void 0!==w?w:{}),pt=uh(this._lContainer,null!==(k=null==Ct?void 0:Ct.id)&&void 0!==k?k:null),bn=null!==(R=null==pt?void 0:pt.firstChild)&&void 0!==R?R:null,$n=xe.create(tt,d,bn,v);return this.insertImpl($n.hostView,ue,od(this._hostTNode,pt)),$n}insert(o,s){return this.insertImpl(o,s,!0)}insertImpl(o,s,l){const d=o._lView;if(function ig(t){return Ra(t[Di])}(d)){const k=this.indexOf(o);if(-1!==k)this.detach(k);else{const R=d[Di],W=new ww(R,R[oi],R[Di]);W.detach(W.indexOf(o))}}const v=this._adjustIndex(s),w=this._lContainer;return th(w,d,v,l),o.attachToViewContainerRef(),zi(o0(w),v,o),o}move(o,s){return this.insert(o,s)}indexOf(o){const s=cy(this._lContainer);return null!==s?s.indexOf(o):-1}remove(o){const s=this._adjustIndex(o,-1),l=tu(this._lContainer,s);l&&(Aa(o0(this._lContainer),s),El(l[Ln],l))}detach(o){const s=this._adjustIndex(o,-1),l=tu(this._lContainer,s);return l&&null!=Aa(o0(this._lContainer),s)?new Mf(l):null}_adjustIndex(o,s=0){return null==o?this.length+s:o}};function cy(t){return t[8]}function o0(t){return t[8]||(t[8]=[])}function uy(t,o){let s;const l=o[t.index];return Ra(l)?s=l:(s=Bv(l,o,null,t),o[t.index]=s,eh(o,s)),n(s,o,t,l),new ww(s,t,o)}let n=function a(t,o,s,l){if(t[ks])return;let d;d=8&s.type?ri(l):function i(t,o){const s=t[qr],l=s.createComment(""),d=ls(o,t);return xc(s,cm(s,d),l,function Ci(t,o){return t.nextSibling(o)}(s,d),!1),l}(o,s),t[ks]=d},e=()=>!1;class m{constructor(o){this.queryList=o,this.matches=null}clone(){return new m(this.queryList)}setDirty(){this.queryList.setDirty()}}class b{constructor(o=[]){this.queries=o}createEmbeddedView(o){const s=o.queries;if(null!==s){const l=null!==o.contentQueries?o.contentQueries[0]:s.length,d=[];for(let v=0;v<l;v++){const w=s.getByIndex(v);d.push(this.queries[w.indexInDeclarationView].clone())}return new b(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}finishViewCreation(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let s=0;s<this.queries.length;s++)null!==ft(o,s).matches&&this.queries[s].setDirty()}}class _{constructor(o,s,l=null){this.flags=s,this.read=l,this.predicate="string"==typeof o?function It(t){return t.split(",").map(o=>o.trim())}(o):o}}class I{constructor(o=[]){this.queries=o}elementStart(o,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,s)}elementEnd(o){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(o)}embeddedTView(o){let s=null;for(let l=0;l<this.length;l++){const d=null!==s?s.length:0,v=this.getByIndex(l).embeddedTView(o,d);v&&(v.indexInDeclarationView=l,null!==s?s.push(v):s=[v])}return null!==s?new I(s):null}template(o,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,s)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class D{constructor(o,s=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(o,s){this.isApplyingToNode(s)&&this.matchTNode(o,s)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,s){this.elementStart(o,s)}embeddedTView(o,s){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,s),new D(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1&~this.metadata.flags){const s=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const v=l[d];this.matchTNodeWithReadOption(o,s,T(s,v)),this.matchTNodeWithReadOption(o,s,Ed(s,o,v,!1,!1))}else l===Rf?4&s.type&&this.matchTNodeWithReadOption(o,s,-1):this.matchTNodeWithReadOption(o,s,Ed(s,o,l,!1,!1))}matchTNodeWithReadOption(o,s,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===$u||d===mh||d===Rf&&4&s.type)this.addMatch(s.index,-2);else{const v=Ed(s,o,d,!1,!1);null!==v&&this.addMatch(s.index,v)}else this.addMatch(s.index,l)}}addMatch(o,s){null===this.matches?this.matches=[o,s]:this.matches.push(o,s)}}function T(t,o){const s=t.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===o)return s[l+1];return null}function Q(t,o,s,l){return-1===s?function z(t,o){return 11&t.type?pc(t,o):4&t.type?_m(t,o):null}(o,t):-2===s?function Z(t,o,s){return s===$u?pc(o,t):s===Rf?_m(o,t):s===mh?uy(o,t):void 0}(t,o,l):fc(t,t[Ln],s,o)}function ne(t,o,s,l){const d=o[Bi].queries[l];if(null===d.matches){const v=t.data,w=s.matches,k=[];for(let R=0;null!==w&&R<w.length;R+=2){const W=w[R];k.push(W<0?null:Q(o,v[W],w[R+1],s.metadata.read))}d.matches=k}return d.matches}function fe(t,o,s,l){const d=t.queries.getByIndex(s),v=d.matches;if(null!==v){const w=ne(t,o,d,s);for(let k=0;k<v.length;k+=2){const R=v[k];if(R>0)l.push(w[k/2]);else{const W=v[k+1],ue=o[-R];for(let xe=Ti;xe<ue.length;xe++){const tt=ue[xe];tt[Is]===tt[Di]&&fe(tt[Ln],tt,W,l)}if(null!==ue[ic]){const xe=ue[ic];for(let tt=0;tt<xe.length;tt++){const Ct=xe[tt];fe(Ct[Ln],Ct,W,l)}}}}}return l}function he(t,o,s){var l;const d=new Lp(!(4&~s));return function Ib(t,o,s,l){const d=$v(o);d.push(s),t.firstCreatePass&&Mb(t).push(l,d.length-1)}(t,o,d,d.destroy),(null!==(l=o[Bi])&&void 0!==l?l:o[Bi]=new b).queries.push(new m(d))-1}function xt(t,o,s){null===t.queries&&(t.queries=new I),t.queries.track(new D(o,s))}function ft(t,o){return t.queries.getByIndex(o)}function Zt(t,o){const s=t[Ln],l=ft(s,o);return l.crossesNgTemplate?fe(s,t,o,[]):ne(s,t,l,o)}const Gt=new Set;function Dn(t){var o,s;Gt.has(t)||(Gt.add(t),null===(o=performance)||void 0===o||null===(s=o.mark)||void 0===s||s.call(o,"mark_feature_usage",{detail:{feature:t}}))}function Gn(t,o){Dn("NgSignals");const s=function ce(t){const o=Object.create(ln);o.value=t;const s=()=>(Oe(o),o.value);return s[J]=o,s}(t),l=s[J];return null!=o&&o.equal&&(l.equal=o.equal),s.set=d=>Et(l,d),s.update=d=>function Mt(t,o){ot()||lr(),Et(t,o(t.value))}(l,d),s.asReadonly=jn.bind(s),s}function jn(){const t=this[J];if(void 0===t.readonlyFn){const o=()=>this();o[J]=t,t.readonlyFn=o}return t.readonlyFn}function nr(t){return function On(t){return"function"==typeof t&&void 0!==t[J]}(t)&&"function"==typeof t.set}function Cw(t){let o=function m1(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const l=[t];for(;o;){let d;if(gs(t))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Kt(903,!1);d=o.\u0275dir}if(d){if(s){l.push(d);const w=t;w.inputs=py(t.inputs),w.inputTransforms=py(t.inputTransforms),w.declaredInputs=py(t.declaredInputs),w.outputs=py(t.outputs);const k=d.hostBindings;k&&_D(t,k);const R=d.viewQuery,W=d.contentQueries;if(R&&xD(t,R),W&&wD(t,W),bD(t,d),$r(t.outputs,d.outputs),gs(d)&&d.data.animation){const ue=t.data;ue.animation=(ue.animation||[]).concat(d.data.animation)}}const v=d.features;if(v)for(let w=0;w<v.length;w++){const k=v[w];k&&k.ngInherit&&k(t),k===Cw&&(s=!1)}}o=Object.getPrototypeOf(o)}!function yD(t){let o=0,s=null;for(let l=t.length-1;l>=0;l--){const d=t[l];d.hostVars=o+=d.hostVars,d.hostAttrs=Qo(d.hostAttrs,s=Qo(s,d.hostAttrs))}}(l)}function bD(t,o){for(const l in o.inputs){if(!o.inputs.hasOwnProperty(l)||t.inputs.hasOwnProperty(l))continue;const d=o.inputs[l];if(void 0!==d&&(t.inputs[l]=d,t.declaredInputs[l]=o.declaredInputs[l],null!==o.inputTransforms)){var s;const v=Array.isArray(d)?d[0]:d;if(!o.inputTransforms.hasOwnProperty(v))continue;null!==(s=t.inputTransforms)&&void 0!==s||(t.inputTransforms={}),t.inputTransforms[v]=o.inputTransforms[v]}}}function py(t){return t===ve?{}:t===Fe?[]:t}function xD(t,o){const s=t.viewQuery;t.viewQuery=s?(l,d)=>{o(l,d),s(l,d)}:o}function wD(t,o){const s=t.contentQueries;t.contentQueries=s?(l,d,v)=>{o(l,d,v),s(l,d,v)}:o}function _D(t,o){const s=t.hostBindings;t.hostBindings=s?(l,d)=>{o(l,d),s(l,d)}:o}function y1(t){const o=t.inputConfig,s={};for(const l in o)if(o.hasOwnProperty(l)){const d=o[l];Array.isArray(d)&&d[3]&&(s[l]=d[3])}t.inputTransforms=s}class Kf{}class x1{}function SD(t,o){return new Iw(t,null!=o?o:null,[])}class Iw extends Kf{constructor(o,s,l,d=!0){super(),this.ngModuleType=o,this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new r0(this);const v=ha(o);this._bootstrapComponents=Ni(v.bootstrap),this._r3Injector=Og(o,s,[{provide:Kf,useValue:this},{provide:Rm,useValue:this.componentFactoryResolver},...l],lo(o),new Set(["environment"])),d&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Ew extends x1{constructor(o){super(),this.moduleType=o}create(o){return new Iw(this.moduleType,o,[])}}class w1 extends Kf{constructor(o){super(),this.componentFactoryResolver=new r0(this),this.instance=null;const s=new Ns([...o.providers,{provide:Kf,useValue:this},{provide:Rm,useValue:this.componentFactoryResolver}],o.parent||Wi(),o.debugName,new Set(["environment"]));this.injector=s,o.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Dw(t,o,s=null){return new w1({providers:t,parent:o,debugName:s,runEnvironmentInitializers:!0}).injector}function my(t){return!!kw(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function kw(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function uu(t,o,s){return t[o]=s}function Ka(t,o,s){return!Object.is(t[o],s)&&(t[o]=s,!0)}function qf(t,o,s,l){const d=Ka(t,o,s);return Ka(t,o+1,l)||d}function u0(t,o,s,l,d,v,w,k,R,W){const ue=s+jr,xe=o.firstCreatePass?function OD(t,o,s,l,d,v,w,k,R){const W=o.consts,ue=ou(o,t,4,w||null,k||null);La(o,s,ue,Bs(W,R)),Tu(o,ue);const xe=ue.tView=ml(2,ue,l,d,v,o.directiveRegistry,o.pipeRegistry,null,o.schemas,W,null);return null!==o.queries&&(o.queries.template(o,ue),xe.queries=o.queries.embeddedTView(ue)),ue}(ue,o,t,l,d,v,w,k,R):o.data[ue];Ys(xe,!1);const tt=_1(o,t,xe,s);Au()&&um(o,t,tt,xe),Oa(tt,t);const Ct=Bv(tt,t,tt,xe);return t[ue]=Ct,eh(t,Ct),function r(t,o,s){return e(t,o,s)}(Ct,xe,t),ac(xe)&&Tv(o,t,xe),null!=R&&Xa(t,xe,W),xe}function Sw(t,o,s,l,d,v,w,k){const R=En(),W=Fo();return u0(R,W,t,o,s,l,d,Bs(W.consts,v),w,k),Sw}let _1=function C1(t,o,s,l){return As(!0),o[qr].createComment("")};var Bm=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Bm||{});let A1=(()=>{var t;class o{constructor(){this.impl=null}execute(){var l;null===(l=this.impl)||void 0===l||l.execute()}}return(t=o).\u0275prov=Dr({token:t,providedIn:"root",factory:()=>new t}),o})();class xy{constructor(){this.ngZone=Vt(Gi),this.scheduler=Vt(Hf),this.errorHandler=Vt(ll,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(const s of xy.PHASES)for(const l of this.sequences)if(!l.erroredOrDestroyed&&l.hooks[s])try{l.pipelinedValue=this.ngZone.runOutsideAngular(()=>l.hooks[s](l.pipelinedValue))}catch(d){var o;l.erroredOrDestroyed=!0,null===(o=this.errorHandler)||void 0===o||o.handleError(d)}this.executing=!1;for(const s of this.sequences)s.afterRun(),s.once&&(this.sequences.delete(s),s.destroy());for(const s of this.deferredRegistrations)this.sequences.add(s);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(o){this.executing?this.deferredRegistrations.add(o):(this.sequences.add(o),this.scheduler.notify(6))}unregister(o){this.executing&&this.sequences.has(o)?(o.erroredOrDestroyed=!0,o.pipelinedValue=void 0,o.once=!0):(this.sequences.delete(o),this.deferredRegistrations.delete(o))}}(yn=xy).PHASES=[Bm.EarlyRead,Bm.Write,Bm.MixedReadWrite,Bm.Read],yn.\u0275prov=Dr({token:yn,providedIn:"root",factory:()=>new yn});class BD{constructor(o,s,l,d){this.impl=o,this.hooks=s,this.once=l,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=null==d?void 0:d.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){var o;this.impl.unregister(this),null===(o=this.unregisterOnDestroy)||void 0===o||o.call(this)}}function wy(t,o){var s;(null==o||!o.injector)&&function P(t){if(!bl())throw new Kt(-203,!1)}();const l=null!==(s=null==o?void 0:o.injector)&&void 0!==s?s:Vt(ns);return function fl(t){return"browser"===(null!=t?t:Vt(ns)).get(nf)}(l)?(Dn("NgAfterNextRender"),function T1(t,o,s,l){var d,v;const w=o.get(A1);null!==(d=w.impl)&&void 0!==d||(w.impl=o.get(xy));const k=null!==(v=null==s?void 0:s.phase)&&void 0!==v?v:Bm.MixedReadWrite,R=!0!==(null==s?void 0:s.manualCleanup)?o.get(Wc):null,W=new BD(w.impl,function jD(t,o){if(t instanceof Function){const s=[void 0,void 0,void 0,void 0];return s[o]=t,s}return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}(t,k),l,R);return w.impl.register(W),W}(t,l,o,!0)):M1}const M1={destroy(){}};function $w(t,o,s,l){const d=En();return Ka(d,Zs(),o)&&(Fo(),Ba(Pi(),d,t,o,s,l)),$w}function Wm(t,o,s,l){return Ka(t,Zs(),s)?o+gr(s)+l:Ao}function Iy(t,o){return t<<17|o<<2}function vh(t){return t>>17&32767}function jw(t){return 2|t}function Zf(t){return(131068&t)>>2}function zw(t,o){return-131069&t|o<<2}function Uw(t){return 1|t}function rC(t,o,s,l){const d=t[s+1],v=null===o;let w=l?vh(d):Zf(d),k=!1;for(;0!==w&&(!1===k||v);){const W=t[w+1];_k(t[w],o)&&(k=!0,t[w+1]=l?Uw(W):jw(W)),w=l?vh(W):Zf(W)}k&&(t[s+1]=l?jw(d):Uw(d))}function _k(t,o){return null===t||null==o||(Array.isArray(t)?t[1]:t)===o||!(!Array.isArray(t)||"string"!=typeof o)&&Ua(t,o)>=0}function Vw(t,o,s){const l=En();return Ka(l,Zs(),o)&&Us(Fo(),Pi(),l,t,o,l[qr],s,!1),Vw}function Hw(t,o,s,l,d){const w=d?"class":"style";zv(t,s,o.inputs[w],w,l)}function Ww(t,o,s){return Dc(t,o,s,!1),Ww}function Gw(t,o){return Dc(t,o,null,!0),Gw}function Dc(t,o,s,l){const d=En(),v=Fo(),w=function Qs(t){const o=Co.lFrame,s=o.bindingIndex;return o.bindingIndex=o.bindingIndex+t,s}(2);v.firstUpdatePass&&function dC(t,o,s,l){const d=t.data;if(null===d[s+1]){const v=d[Pa()],w=function uC(t,o){return o>=t.expandoStartIndex}(t,s);(function mC(t,o){return!!(t.flags&(o?8:16))})(v,l)&&null===o&&!w&&(o=!1),o=function Mk(t,o,s,l){const d=function yd(t){const o=Co.lFrame.currentDirectiveIndex;return-1===o?null:t[o]}(t);let v=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(s=p0(s=Xw(null,t,o,s,l),o.attrs,l),v=null);else{const w=o.directiveStylingLast;if(-1===w||t[w]!==d)if(s=Xw(d,t,o,s,l),null===v){let R=function Rk(t,o,s){const l=s?o.classBindings:o.styleBindings;if(0!==Zf(l))return t[vh(l)]}(t,o,l);void 0!==R&&Array.isArray(R)&&(R=Xw(null,t,o,R[1],l),R=p0(R,o.attrs,l),function Pk(t,o,s,l){t[vh(s?o.classBindings:o.styleBindings)]=l}(t,o,l,R))}else v=function Ok(t,o,s){let l;const d=o.directiveEnd;for(let v=1+o.directiveStylingLast;v<d;v++)l=p0(l,t[v].hostAttrs,s);return p0(l,o.attrs,s)}(t,o,l)}return void 0!==v&&(l?o.residualClasses=v:o.residualStyles=v),s}(d,v,o,l),function xk(t,o,s,l,d,v){let w=v?o.classBindings:o.styleBindings,k=vh(w),R=Zf(w);t[l]=s;let ue,W=!1;if(Array.isArray(s)?(ue=s[1],(null===ue||Ua(s,ue)>0)&&(W=!0)):ue=s,d)if(0!==R){const tt=vh(t[k+1]);t[l+1]=Iy(tt,k),0!==tt&&(t[tt+1]=zw(t[tt+1],l)),t[k+1]=function bk(t,o){return 131071&t|o<<17}(t[k+1],l)}else t[l+1]=Iy(k,0),0!==k&&(t[k+1]=zw(t[k+1],l)),k=l;else t[l+1]=Iy(R,0),0===k?k=l:t[R+1]=zw(t[R+1],l),R=l;W&&(t[l+1]=jw(t[l+1])),rC(t,ue,l,!0),rC(t,ue,l,!1),function wk(t,o,s,l,d){const v=d?t.residualClasses:t.residualStyles;null!=v&&"string"==typeof o&&Ua(v,o)>=0&&(s[l+1]=Uw(s[l+1]))}(o,ue,t,l,v),w=Iy(k,R),v?o.classBindings=w:o.styleBindings=w}(d,v,o,s,w,l)}}(v,t,w,l),o!==Ao&&Ka(d,w,o)&&function fC(t,o,s,l,d,v,w,k){if(!(3&o.type))return;const R=t.data,W=R[k+1],ue=function yk(t){return!(1&~t)}(W)?pC(R,o,s,d,Zf(W),w):void 0;Ey(ue)||(Ey(v)||function vk(t){return!(2&~t)}(W)&&(v=pC(R,null,s,d,k,w)),function _x(t,o,s,l,d){if(o)d?t.addClass(s,l):t.removeClass(s,l);else{let v=-1===l.indexOf("-")?void 0:am.DashCase;null==d?t.removeStyle(s,l,v):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),v|=am.Important),t.setStyle(s,l,d,v))}}(l,w,Cu(Pa(),s),d,v))}(v,v.data[Pa()],d,d[qr],t,d[w+1]=function Bk(t,o){return null==t||""===t||("string"==typeof o?t+=o:"object"==typeof t&&(t=lo(dl(t)))),t}(o,s),l,w)}function Xw(t,o,s,l,d){let v=null;const w=s.directiveEnd;let k=s.directiveStylingLast;for(-1===k?k=s.directiveStart:k++;k<w&&(v=o[k],l=p0(l,v.hostAttrs,d),v!==t);)k++;return null!==t&&(s.directiveStylingLast=k),l}function p0(t,o,s){const l=s?1:2;let d=-1;if(null!==o)for(let v=0;v<o.length;v++){const w=o[v];"number"==typeof w?d=w:d===l&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),di(t,w,!!s||o[++v]))}return void 0===t?null:t}function pC(t,o,s,l,d,v){const w=null===o;let k;for(;d>0;){const R=t[d],W=Array.isArray(R),ue=W?R[1]:R,xe=null===ue;let tt=s[d+1];tt===Ao&&(tt=xe?Fe:void 0);let Ct=xe?Yi(tt,l):ue===l?tt:void 0;if(W&&!Ey(Ct)&&(Ct=Yi(R,l)),Ey(Ct)&&(k=Ct,w))return k;const pt=t[d+1];d=w?vh(pt):Zf(pt)}if(null!==o){let R=v?o.residualClasses:o.residualStyles;null!=R&&(k=Yi(R,l))}return k}function Ey(t){return void 0!==t}function ky(t,o,s,l){const d=En(),v=Fo(),w=jr+t,k=d[qr],R=v.firstCreatePass?function sS(t,o,s,l,d,v){const w=o.consts,R=ou(o,t,2,l,Bs(w,d));return La(o,s,R,Bs(w,v)),null!==R.attrs&&fh(R,R.attrs,!1),null!==R.mergedAttrs&&fh(R,R.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,R),R}(w,v,d,o,s,l):v.data[w],W=yC(v,d,R,k,o,t);d[w]=W;const ue=ac(R);return Ys(R,!0),kv(k,W,R),!function Fm(t){return!(32&~t.flags)}(R)&&Au()&&um(v,d,W,R),0===function Ih(){return Co.lFrame.elementDepthCount}()&&Oa(W,d),function ag(){Co.lFrame.elementDepthCount++}(),ue&&(Tv(v,d,R),Sf(v,R,d)),null!==l&&Xa(d,R),ky}function Sy(){let t=bi();bd()?kh():(t=t.parent,Ys(t,!1));const o=t;(function lg(t){return Co.skipHydrationRootTNode===t})(o)&&function Bc(){Co.skipHydrationRootTNode=null}(),function sg(){Co.lFrame.elementDepthCount--}();const s=Fo();return s.firstCreatePass&&(Tu(s,t),Pc(t)&&s.queries.elementEnd(t)),null!=o.classesWithoutHost&&function _d(t){return!!(8&t.flags)}(o)&&Hw(s,o,En(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function xg(t){return!!(16&t.flags)}(o)&&Hw(s,o,En(),o.stylesWithoutHost,!1),Sy}function Zw(t,o,s,l){return ky(t,o,s,l),Sy(),Zw}let yC=(t,o,s,l,d,v)=>(As(!0),wv(l,d,function gg(){return Co.lFrame.currentNamespace}()));function Ay(t,o,s){const l=En(),d=Fo(),v=t+jr,w=d.firstCreatePass?function uS(t,o,s,l,d){const v=o.consts,w=Bs(v,l),k=ou(o,t,8,"ng-container",w);return null!==w&&fh(k,w,!0),La(o,s,k,Bs(v,d)),null!==o.queries&&o.queries.elementStart(o,k),k}(v,d,l,o,s):d.data[v];Ys(w,!0);const k=xC(d,l,w,t);return l[v]=k,Au()&&um(d,l,k,w),Oa(k,l),ac(w)&&(Tv(d,l,w),Sf(d,w,l)),null!=s&&Xa(l,w),Ay}function Ty(){let t=bi();const o=Fo();return bd()?kh():(t=t.parent,Ys(t,!1)),o.firstCreatePass&&(Tu(o,t),Pc(t)&&o.queries.elementEnd(t)),Ty}function Qw(t,o,s){return Ay(t,o,s),Ty(),Qw}let xC=(t,o,s,l)=>(As(!0),pb(o[qr],""));function wC(){return En()}const Qf=void 0;var pS=["en",[["a","p"],["AM","PM"],Qf],[["AM","PM"],Qf,Qf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qf,"{1} 'at' {0}",Qf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function fS(t){const s=Math.floor(Math.abs(t)),l=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let eg={};function mS(t,o,s){"string"!=typeof o&&(s=o,o=t[tg.LocaleId]),o=o.toLowerCase().replace(/_/g,"-"),eg[o]=t,s&&(eg[o][tg.ExtraData]=s)}function Jw(t){const o=function gS(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=EC(o);if(s)return s;const l=o.split("-")[0];if(s=EC(l),s)return s;if("en"===l)return pS;throw new Kt(701,!1)}function IC(t){return Jw(t)[tg.PluralCase]}function EC(t){return t in eg||(eg[t]=Lr.ng&&Lr.ng.common&&Lr.ng.common.locales&&Lr.ng.common.locales[t]),eg[t]}var tg=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(tg||{});const My="en-US";let DC=My,HC=(t,o,s)=>{};function n_(t,o,s,l){const d=En(),v=Fo(),w=bi();return r_(v,d,d[qr],w,t,o,l),n_}function r_(t,o,s,l,d,v,w){const k=ac(l),W=t.firstCreatePass&&Mb(t),ue=o[ui],xe=$v(o);let tt=!0;if(3&l.type||w){const bn=ls(l,o),$n=w?w(bn):bn,rr=xe.length,Cn=w?Do=>w(ri(Do[l.index])):l.index;let bo=null;if(!w&&k&&(bo=function oA(t,o,s,l){const d=t.cleanup;if(null!=d)for(let v=0;v<d.length-1;v+=2){const w=d[v];if(w===s&&d[v+1]===l){const k=o[yo],R=d[v+2];return k.length>R?k[R]:null}"string"==typeof w&&(v+=2)}return null}(t,o,d,l.index)),null!==bo)(bo.__ngLastListenerFn__||bo).__ngNextListenerFn__=v,bo.__ngLastListenerFn__=v,tt=!1;else{v=KC(l,o,ue,v),HC(bn,d,v);const Do=s.listen($n,d,v);xe.push(v,Do),W&&W.push(d,Cn,rr,rr+1)}}else v=KC(l,o,ue,v);const Ct=l.outputs;let pt;if(tt&&null!==Ct&&(pt=Ct[d])){const bn=pt.length;if(bn)for(let $n=0;$n<bn;$n+=2){const Xi=o[pt[$n]][pt[$n+1]].subscribe(v),hs=xe.length;xe.push(v,Xi),W&&W.push(d,l.index,hs,-(hs+1))}}}function XC(t,o,s,l){const d=S(null);try{return Ss(6,o,s),!1!==s(l)}catch(v){return Tf(t,v),!1}finally{Ss(7,o,s),S(d)}}function KC(t,o,s,l){return function d(v){if(v===Function)return l;rh(t.componentOffset>-1?Ia(t.index,o):o,5);let k=XC(o,s,l,v),R=d.__ngNextListenerFn__;for(;R;)k=XC(o,s,R,v)&&k,R=R.__ngNextListenerFn__;return k}}function qC(t=1){return function dc(t){return(Co.lFrame.contextLView=function Ch(t,o){for(;t>0;)o=o[Gs],t--;return o}(t,Co.lFrame.contextLView))[ui]}(t)}function iA(t,o){let s=null;const l=function oe(t){const o=t.attrs;if(null!=o){const s=o.indexOf(5);if(!(1&s))return o[s+1]}return null}(t);for(let d=0;d<o.length;d++){const v=o[d];if("*"!==v){if(null===l?Ql(t,v,!0):Y(l,v))return d}else s=d}return s}function YC(t){const o=En()[Ko][oi];if(!o.projection){const l=o.projection=function ws(t,o){const s=[];for(let l=0;l<t;l++)s.push(o);return s}(t?t.length:1,null),d=l.slice();let v=o.child;for(;null!==v;){if(128!==v.type){const w=t?iA(v,t):0;null!==w&&(d[w]?d[w].projectionNext=v:l[w]=v,d[w]=v)}v=v.next}}}function ZC(t,o=0,s,l,d,v){const w=En(),k=Fo(),R=l?t+1:null;null!==R&&u0(w,k,R,l,d,v,null,s);const W=ou(k,jr+t,16,null,s||null);null===W.projection&&(W.projection=o),kh();const xe=!w[Xo]||Lc();null===w[Ko][oi].projection[W.projection]&&null!==R?function aA(t,o,s){const l=jr+s,d=o.data[l],v=t[l],w=uh(v,d.tView.ssrId);th(v,rd(t,d,void 0,{dehydratedView:w}),0,od(d,w))}(w,k,R):xe&&32&~W.flags&&function wx(t,o,s){bb(o[qr],0,o,s,lm(t,s,o),zl(s.parent||o[oi],s,o))}(k,w,W)}function Ny(t,o,s,l,d){const v=En(),w=Wm(v,o,s,l);return w!==Ao&&Us(Fo(),Pi(),v,t,w,v[qr],d,!1),Ny}function sI(t,o,s,l){!function We(t,o,s,l){const d=Fo();if(d.firstCreatePass){const v=bi();xt(d,new _(o,s,l),v.index),function ht(t,o){const s=t.contentQueries||(t.contentQueries=[]);o!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,o)}(d,t),!(2&~s)&&(d.staticContentQueries=!0)}return he(d,En(),s)}(t,o,s,l)}function lI(t,o,s){!function we(t,o,s){const l=Fo();return l.firstCreatePass&&(xt(l,new _(t,o,s),-1),!(2&~o)&&(l.staticViewQueries=!0)),he(l,En(),o)}(t,o,s)}function cI(t){const o=En(),s=Fo(),l=ku();uc(l+1);const d=ft(s,l);if(t.dirty&&function np(t){return!(4&~t[Nr])}(o)===!(2&~d.metadata.flags)){if(null===d.matches)t.reset([]);else{const v=Zt(o,l);t.reset(v,Fp),t.notifyOnChanges()}return!0}return!1}function uI(){return function me(t,o){return t[Bi].queries[o].queryList}(En(),ku())}function dI(t){return cc(function Sh(){return Co.lFrame.contextLView}(),jr+t)}function wI(t,o=""){const s=En(),l=Fo(),d=t+jr,v=l.firstCreatePass?ou(l,d,1,o,null):l.data[d],w=_I(l,s,v,o,t);s[d]=w,Au()&&um(l,s,w,v),Ys(v,!1)}let _I=(t,o,s,l,d)=>(As(!0),function fb(t,o){return t.createText(o)}(o[qr],l));function i_(t){return Fy("",t,""),i_}function Fy(t,o,s){const l=En(),d=Wm(l,t,o,s);return d!==Ao&&function Vl(t,o,s){const l=Cu(o,t);!function gx(t,o,s){t.setValue(o,s)}(t[qr],l,s)}(l,Pa(),d),Fy}function a_(t,o,s){nr(o)&&(o=o());const l=En();return Ka(l,Zs(),o)&&Us(Fo(),Pi(),l,t,o,l[qr],s,!1),a_}function MI(t,o){const s=nr(t);return s&&t.set(o),s}function s_(t,o){const s=En(),l=Fo(),d=bi();return r_(l,s,s[qr],d,t,o),s_}function l_(t,o,s,l,d){if(t=Tt(t),Array.isArray(t))for(let v=0;v<t.length;v++)l_(t[v],o,s,l,d);else{const v=Fo(),w=En(),k=bi();let R=Hi(t)?t:Tt(t.provide);const W=oc(t),ue=1048575&k.providerIndexes,xe=k.directiveStart,tt=k.providerIndexes>>20;if(Hi(t)||!t.multi){const Ct=new jc(W,d,ru),pt=u_(R,o,d?ue:ue+tt,xe);-1===pt?($h(Uc(k,w),v,R),c_(v,t,o.length),o.push(R),k.directiveStart++,k.directiveEnd++,d&&(k.providerIndexes+=1048576),s.push(Ct),w.push(Ct)):(s[pt]=Ct,w[pt]=Ct)}else{const Ct=u_(R,o,ue+tt,xe),pt=u_(R,o,ue,ue+tt),$n=pt>=0&&s[pt];if(d&&!$n||!d&&!(Ct>=0&&s[Ct])){$h(Uc(k,w),v,R);const rr=function DA(t,o,s,l,d){const v=new jc(t,s,ru);return v.multi=[],v.index=o,v.componentProviders=0,OI(v,d,l&&!s),v}(d?EA:IA,s.length,d,l,W);!d&&$n&&(s[pt].providerFactory=rr),c_(v,t,o.length,0),o.push(R),k.directiveStart++,k.directiveEnd++,d&&(k.providerIndexes+=1048576),s.push(rr),w.push(rr)}else c_(v,t,Ct>-1?Ct:pt,OI(s[d?pt:Ct],W,!d&&l));!d&&l&&$n&&s[pt].componentProviders++}}}function c_(t,o,s,l){const d=Hi(o),v=function vu(t){return!!t.useClass}(o);if(d||v){const R=(v?Tt(o.useClass):o).prototype.ngOnDestroy;if(R){const W=t.destroyHooks||(t.destroyHooks=[]);if(!d&&o.multi){const ue=W.indexOf(s);-1===ue?W.push(s,[l,R]):W[ue+1].push(l,R)}else W.push(s,R)}}}function OI(t,o,s){return s&&t.componentProviders++,t.multi.push(o)-1}function u_(t,o,s,l){for(let d=s;d<l;d++)if(o[d]===t)return d;return-1}function IA(t,o,s,l){return d_(this.multi,[])}function EA(t,o,s,l){const d=this.multi;let v;if(this.providerFactory){const w=this.providerFactory.componentProviders,k=fc(s,s[Ln],this.providerFactory.index,l);v=k.slice(0,w),d_(d,v);for(let R=w;R<k.length;R++)v.push(k[R])}else v=[],d_(d,v);return v}function d_(t,o){for(let s=0;s<t.length;s++)o.push((0,t[s])());return o}function NI(t,o=[]){return s=>{s.providersResolver=(l,d)=>function CA(t,o,s){const l=Fo();if(l.firstCreatePass){const d=gs(t);l_(s,l.data,l.blueprint,d,!0),l_(o,l.data,l.blueprint,d,!1)}}(l,d?d(t):t,o)}}let kA=(()=>{var t;class o{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l)){const d=Os(0,l.type),v=d.length>0?Dw([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l,v)}return this.cachedInjectors.get(l)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return(t=o).\u0275prov=Dr({token:t,providedIn:"environment",factory:()=>new t(kt(Qa))}),o})();function FI(t){Dn("NgStandalone"),t.getStandaloneInjector=o=>o.get(kA).getOrCreateStandaloneInjector(t)}function $I(t,o,s,l){return function jI(t,o,s,l,d,v){const w=o+s;return Ka(t,w,d)?uu(t,w+1,v?l.call(v,d):l(d)):x0(t,w+1)}(En(),ga(),t,o,s,l)}function x0(t,o){const s=t[o];return s===Ao?void 0:s}function UI(t,o,s,l,d,v,w,k){const R=o+s;return function gy(t,o,s,l,d){const v=qf(t,o,s,l);return Ka(t,o+2,d)||v}(t,R,d,v,w)?uu(t,R+3,k?l.call(k,d,v,w):l(d,v,w)):x0(t,R+3)}function WI(t,o){const s=Fo();let l;const d=t+jr;var v;s.firstCreatePass?(l=function jA(t,o){if(o)for(let s=o.length-1;s>=0;s--){const l=o[s];if(t===l.name)return l}}(o,s.pipeRegistry),s.data[d]=l,l.onDestroy&&(null!==(v=s.destroyHooks)&&void 0!==v?v:s.destroyHooks=[]).push(d,l.onDestroy)):l=s.data[d];const w=l.factory||(l.factory=la(l.type)),R=Mo(ru);try{const W=js(!1),ue=w();return js(W),function o_(t,o,s,l){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),o[s]=l}(s,En(),d,ue),ue}finally{Mo(R)}}function GI(t,o,s,l){const d=t+jr,v=En(),w=cc(v,d);return w0(v,d)?function zI(t,o,s,l,d,v,w){const k=o+s;return qf(t,k,d,v)?uu(t,k+2,w?l.call(w,d,v):l(d,v)):x0(t,k+2)}(v,ga(),o,w.transform,s,l,w):w.transform(s,l)}function XI(t,o,s,l,d){const v=t+jr,w=En(),k=cc(w,v);return w0(w,v)?UI(w,ga(),o,k.transform,s,l,d,k):k.transform(s,l,d)}function w0(t,o){return t[Ln].data[o].pure}function KI(t,o){return _m(t,o)}class uE{constructor(o){this.full=o;const s=o.split(".");this.major=s[0],this.minor=s[1],this.patch=s.slice(2).join(".")}}let dE=(()=>{var t;class o{log(l){console.log(l)}warn(l){console.warn(l)}}return(t=o).\u0275fac=function(l){return new(l||t)},t.\u0275prov=Dr({token:t,factory:t.\u0275fac,providedIn:"platform"}),o})();const mE=new Rt(""),gE=new Rt("");let b_,FT=(()=>{var t;class o{constructor(l,d,v){this._ngZone=l,this.registry=d,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,b_||(function LT(t){b_=t}(v),v.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb()}});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,v){let w=-1;d&&d>0&&(w=setTimeout(()=>{this._callbacks=this._callbacks.filter(k=>k.timeoutId!==w),l()},d)),this._callbacks.push({doneCb:l,timeoutId:w,updateCb:v})}whenStable(l,d,v){if(v&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,v),this._runCallbacksIfReady()}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,v){return[]}}return(t=o).\u0275fac=function(l){return new(l||t)(kt(Gi),kt(vE),kt(gE))},t.\u0275prov=Dr({token:t,factory:t.\u0275fac}),o})(),vE=(()=>{var t;class o{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){var v,w;return null!==(v=null===(w=b_)||void 0===w?void 0:w.findTestabilityInTree(this,l,d))&&void 0!==v?v:null}}return(t=o).\u0275fac=function(l){return new(l||t)},t.\u0275prov=Dr({token:t,factory:t.\u0275fac,providedIn:"platform"}),o})();function y_(t){return!!t&&"function"==typeof t.then}function bE(t){return!!t&&"function"==typeof t.subscribe}const yE=new Rt("");let xE=(()=>{var t;class o{constructor(){var l;this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,v)=>{this.resolve=d,this.reject=v}),this.appInits=null!==(l=Vt(yE,{optional:!0}))&&void 0!==l?l:[]}runInitializers(){if(this.initialized)return;const l=[];for(const v of this.appInits){const w=v();if(y_(w))l.push(w);else if(bE(w)){const k=new Promise((R,W)=>{w.subscribe({complete:R,error:W})});l.push(k)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{d()}).catch(v=>{this.reject(v)}),0===l.length&&d(),this.initialized=!0}}return(t=o).\u0275fac=function(l){return new(l||t)},t.\u0275prov=Dr({token:t,factory:t.\u0275fac,providedIn:"root"}),o})();const zy=new Rt("");let fu=(()=>{var t;class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Vt(Rd),this.afterRenderManager=Vt(A1),this.zonelessEnabled=Vt(Mm),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new hr.B,this.afterTick=new hr.B,this.componentTypes=[],this.components=[],this.isStable=Vt(Gc).hasPendingTasks.pipe((0,xr.T)(l=>!l)),this._injector=Vt(Qa)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let l;return new Promise(d=>{l=this.isStable.subscribe({next:v=>{v&&d()}})}).finally(()=>{l.unsubscribe()})}get injector(){return this._injector}bootstrap(l,d){const v=l instanceof ty;if(!this._injector.get(xE).done)throw!v&&_s(l),new Kt(405,!1);let k;k=v?l:this._injector.get(Rm).resolveComponentFactory(l),this.componentTypes.push(k.componentType);const R=function BT(t){return t.isBoundToModule}(k)?void 0:this._injector.get(Kf),ue=k.create(ns.NULL,[],d||k.selector,R),xe=ue.location.nativeElement,tt=ue.injector.get(mE,null);return null==tt||tt.registerApplication(xe),ue.onDestroy(()=>{this.detachView(ue.hostView),Uy(this.components,ue),null==tt||tt.unregisterApplication(xe)}),this._loadComponent(ue),ue}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Kt(101,!1);const l=S(null);try{this._runningTick=!0,this.synchronize()}catch(d){this.internalErrorHandler(d)}finally{this._runningTick=!1,S(l),this.afterTick.next()}}synchronize(){let l=null;this._injector.destroyed||(l=this._injector.get(ry,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let d=0;for(;0!==this.dirtyFlags&&d++<10;)this.synchronizeOnce(l)}synchronizeOnce(l){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const w=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(w);for(let{_lView:k,notifyErrorHandler:R}of this._views)zT(k,R,w,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else{var d,v;null==l||null===(d=l.begin)||void 0===d||d.call(l),null==l||null===(v=l.end)||void 0===v||v.call(l)}8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:l})=>fd(l))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Uy(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const d=this._injector.get(zy,[]);[...this._bootstrapListeners,...d].forEach(v=>v(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Uy(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Kt(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=o).\u0275fac=function(l){return new(l||t)},t.\u0275prov=Dr({token:t,factory:t.\u0275fac,providedIn:"root"}),o})();function Uy(t,o){const s=t.indexOf(o);s>-1&&t.splice(s,1)}function zT(t,o,s,l){(s||fd(t))&&ym(t,o,s&&!l?0:1)}class UT{constructor(o,s){this.ngModuleFactory=o,this.componentFactories=s}}let VT=(()=>{var t;class o{compileModuleSync(l){return new Ew(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),w=Ni(ha(l).declarations).reduce((k,R)=>{const W=ar(R);return W&&k.push(new ph(W)),k},[]);return new UT(d,w)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return(t=o).\u0275fac=function(l){return new(l||t)},t.\u0275prov=Dr({token:t,factory:t.\u0275fac,providedIn:"root"}),o})(),GT=(()=>{var t;class o{constructor(){this.zone=Vt(Gi),this.changeDetectionScheduler=Vt(Hf),this.applicationRef=Vt(fu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var l;null===(l=this._onMicrotaskEmptySubscription)||void 0===l||l.unsubscribe()}}return(t=o).\u0275fac=function(l){return new(l||t)},t.\u0275prov=Dr({token:t,factory:t.\u0275fac,providedIn:"root"}),o})();function x_({ngZoneFactory:t,ignoreChangesOutsideZone:o,scheduleInRootZone:s}){var l;return null!==(l=t)&&void 0!==l||(t=()=>new Gi({...w_(),scheduleInRootZone:s})),[{provide:Gi,useFactory:t},{provide:lt,multi:!0,useFactory:()=>{const d=Vt(GT,{optional:!0});return()=>d.initialize()}},{provide:lt,multi:!0,useFactory:()=>{const d=Vt(KT);return()=>{d.initialize()}}},!0===o?{provide:vw,useValue:!0}:[],{provide:ey,useValue:null!=s?s:Pp}]}function w_(t){var o,s;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(o=null==t?void 0:t.eventCoalescing)&&void 0!==o&&o,shouldCoalesceRunChangeDetection:null!==(s=null==t?void 0:t.runCoalescing)&&void 0!==s&&s}}let KT=(()=>{var t;class o{constructor(){this.subscription=new Ar.yU,this.initialized=!1,this.zone=Vt(Gi),this.pendingTasks=Vt(Gc)}initialize(){if(this.initialized)return;this.initialized=!0;let l=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(l=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Gi.assertNotInAngularZone(),queueMicrotask(()=>{null!==l&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(l),l=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var d;Gi.assertInAngularZone(),null!==(d=l)&&void 0!==d||(l=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=o).\u0275fac=function(l){return new(l||t)},t.\u0275prov=Dr({token:t,factory:t.\u0275fac,providedIn:"root"}),o})(),E0=(()=>{var t;class o{constructor(){var l,d,v;this.appRef=Vt(fu),this.taskService=Vt(Gc),this.ngZone=Vt(Gi),this.zonelessEnabled=Vt(Mm),this.disableScheduling=null!==(l=Vt(vw,{optional:!0}))&&void 0!==l&&l,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ar.yU,this.angularZoneId=this.zoneIsDefined?null===(d=this.ngZone._inner)||void 0===d?void 0:d.get(Bo):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&null!==(v=Vt(ey,{optional:!0}))&&void 0!==v&&v,this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof Td||!this.zoneIsDefined))}notify(l){if(!this.zonelessEnabled&&5===l)return;switch(l){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const d=this.useMicrotaskScheduler?Lg:qh;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>d(()=>this.tick())):this.ngZone.runOutsideAngular(()=>d(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Bo+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const l=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(d){throw this.taskService.remove(l),d}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Lg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(l)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var l;if(this.runningTick=!1,null===(l=this.cancelScheduledCallback)||void 0===l||l.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const d=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(d)}}}return(t=o).\u0275fac=function(l){return new(l||t)},t.\u0275prov=Dr({token:t,factory:t.\u0275fac,providedIn:"root"}),o})();const C_=new Rt("",{providedIn:"root",factory:()=>Vt(C_,wo.Optional|wo.SkipSelf)||function qT(){return typeof $localize<"u"&&$localize.locale||My}()}),YT=new Rt("",{providedIn:"root",factory:()=>"USD"}),Vy=new Rt("");function Hy(t){return!t.moduleRef}let bh=null;function i2(){return!1}let OE=(()=>{class o{}return o.__NG_ELEMENT_ID__=a2,o})();function a2(t){return function s2(t,o,s){if(Ls(t)&&!s){const l=Ia(t.index,o);return new Mf(l,l)}return 175&t.type?new Mf(o[Ko],o):null}(bi(),En(),!(16&~t))}class BE{constructor(){}supports(o){return my(o)}create(o){return new h2(o)}}const d2=(t,o)=>o;class h2{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||d2}forEachItem(o){let s;for(s=this._itHead;null!==s;s=s._next)o(s)}forEachOperation(o){let s=this._itHead,l=this._removalsHead,d=0,v=null;for(;s||l;){const w=!l||s&&s.currentIndex<jE(l,d,v)?s:l,k=jE(w,d,v),R=w.currentIndex;if(w===l)d--,l=l._nextRemoved;else if(s=s._next,null==w.previousIndex)d++;else{v||(v=[]);const W=k-d,ue=R-d;if(W!=ue){for(let tt=0;tt<W;tt++){const Ct=tt<v.length?v[tt]:v[tt]=0,pt=Ct+tt;ue<=pt&&pt<W&&(v[tt]=Ct+1)}v[w.previousIndex]=ue-W}}k!==R&&o(w,k,R)}}forEachPreviousItem(o){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)o(s)}forEachAddedItem(o){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)o(s)}forEachMovedItem(o){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)o(s)}forEachRemovedItem(o){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)o(s)}forEachIdentityChange(o){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)o(s)}diff(o){if(null==o&&(o=[]),!my(o))throw new Kt(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,v,w,s=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let k=0;k<this.length;k++)v=o[k],w=this._trackByFn(k,v),null!==s&&Object.is(s.trackById,w)?(l&&(s=this._verifyReinsertion(s,v,w,k)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,w,k),l=!0),s=s._next}else d=0,function RD(t,o){if(Array.isArray(t))for(let s=0;s<t.length;s++)o(t[s]);else{const s=t[Symbol.iterator]();let l;for(;!(l=s.next()).done;)o(l.value)}}(o,k=>{w=this._trackByFn(d,k),null!==s&&Object.is(s.trackById,w)?(l&&(s=this._verifyReinsertion(s,k,w,d)),Object.is(s.item,k)||this._addIdentityChange(s,k)):(s=this._mismatch(s,k,w,d),l=!0),s=s._next,d++}),this.length=d;return this._truncate(s),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,s,l,d){let v;return null===o?v=this._itTail:(v=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,s)||this._addIdentityChange(o,s),this._reinsertAfter(o,v,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,s)||this._addIdentityChange(o,s),this._moveAfter(o,v,d)):o=this._addAfter(new f2(s,l),v,d),o}_verifyReinsertion(o,s,l,d){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==v?o=this._reinsertAfter(v,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const s=o._next;this._addToRemovals(this._unlink(o)),o=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,v=o._nextRemoved;return null===d?this._removalsHead=v:d._nextRemoved=v,null===v?this._removalsTail=d:v._prevRemoved=d,this._insertAfter(o,s,l),this._addToMoves(o,l),o}_moveAfter(o,s,l){return this._unlink(o),this._insertAfter(o,s,l),this._addToMoves(o,l),o}_addAfter(o,s,l){return this._insertAfter(o,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,s,l){const d=null===s?this._itHead:s._next;return o._next=d,o._prev=s,null===d?this._itTail=o:d._prev=o,null===s?this._itHead=o:s._next=o,null===this._linkedRecords&&(this._linkedRecords=new $E),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const s=o._prev,l=o._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,o}_addToMoves(o,s){return o.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $E),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,s){return o.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class f2{constructor(o,s){this.item=o,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class p2{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const s=o._prevDup,l=o._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class $E{constructor(){this.map=new Map}put(o){const s=o.trackById;let l=this.map.get(s);l||(l=new p2,this.map.set(s,l)),l.add(o)}get(o,s){const d=this.map.get(o);return d?d.get(o,s):null}remove(o){const s=o.trackById;return this.map.get(s).remove(o)&&this.map.delete(s),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jE(t,o,s){const l=t.previousIndex;if(null===l)return l;let d=0;return s&&l<s.length&&(d=s[l]),l+o+d}class zE{constructor(){}supports(o){return o instanceof Map||kw(o)}create(){return new m2}}class m2{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let s;for(s=this._mapHead;null!==s;s=s._next)o(s)}forEachPreviousItem(o){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)o(s)}forEachChangedItem(o){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)o(s)}forEachAddedItem(o){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)o(s)}forEachRemovedItem(o){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)o(s)}diff(o){if(o){if(!(o instanceof Map||kw(o)))throw new Kt(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(s&&s.key===d)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const v=this._getOrCreateRecordForKey(d,l);s=this._insertBeforeOrAppend(s,v)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,s){if(o){const l=o._prev;return s._next=o,s._prev=l,o._prev=s,l&&(l._next=s),o===this._mapHead&&(this._mapHead=s),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(o,s){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,s);const v=d._prev,w=d._next;return v&&(v._next=w),w&&(w._prev=v),d._next=null,d._prev=null,d}const l=new g2(o);return this._records.set(o,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,s){Object.is(s,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=s,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,s){o instanceof Map?o.forEach(s):Object.keys(o).forEach(l=>s(o[l],l))}}class g2{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function UE(){return new A_([new BE])}let A_=(()=>{var t;class o{constructor(l){this.factories=l}static create(l,d){if(null!=d){const v=d.factories.slice();l=l.concat(v)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||UE()),deps:[[o,new Uo,new Wo]]}}find(l){const d=this.factories.find(v=>v.supports(l));if(null!=d)return d;throw new Kt(901,!1)}}return(t=o).\u0275prov=Dr({token:t,providedIn:"root",factory:UE}),o})();function VE(){return new T_([new zE])}let T_=(()=>{var t;class o{constructor(l){this.factories=l}static create(l,d){if(d){const v=d.factories.slice();l=l.concat(v)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||VE()),deps:[[o,new Uo,new Wo]]}}find(l){const d=this.factories.find(v=>v.supports(l));if(d)return d;throw new Kt(901,!1)}}return(t=o).\u0275prov=Dr({token:t,providedIn:"root",factory:VE}),o})();function T2(t){try{const{rootComponent:o,appProviders:s,platformProviders:l}=t,d=function o2(t=[]){if(bh)return bh;const o=function ME(t=[],o){return ns.create({name:o,providers:[{provide:nc,useValue:"platform"},{provide:Vy,useValue:new Set([()=>bh=null])},...t]})}(t);return bh=o,function wE(){!function ut(t){Kn=t}(()=>{throw new Kt(600,!1)})}(),function RE(t){const o=t.get(Hp,null);null==o||o.forEach(s=>s())}(o),o}(l),v=[x_({}),{provide:Hf,useExisting:E0},...s||[]];return function SE(t){const o=Hy(t)?t.r3Injector:t.moduleRef.injector,s=o.get(Gi);return s.run(()=>{Hy(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const l=o.get(ll,null);let d;if(s.runOutsideAngular(()=>{d=s.onError.subscribe({next:v=>{l.handleError(v)}})}),Hy(t)){const v=()=>o.destroy(),w=t.platformInjector.get(Vy);w.add(v),o.onDestroy(()=>{d.unsubscribe(),w.delete(v)})}else{const v=()=>t.moduleRef.destroy(),w=t.platformInjector.get(Vy);w.add(v),t.moduleRef.onDestroy(()=>{Uy(t.allPlatformModules,t.moduleRef),d.unsubscribe(),w.delete(v)})}return function jT(t,o,s){try{const l=s();return y_(l)?l.catch(d=>{throw o.runOutsideAngular(()=>t.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>t.handleError(l)),l}}(l,s,()=>{const v=o.get(xE);return v.runInitializers(),v.donePromise.then(()=>{if(function xS(t){"string"==typeof t&&(DC=t.toLowerCase().replace(/_/g,"-"))}(o.get(C_,My)||My),Hy(t)){const k=o.get(fu);return void 0!==t.rootComponent&&k.bootstrap(t.rootComponent),k}return function t2(t,o){const s=t.injector.get(fu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(l=>s.bootstrap(l));else{if(!t.instance.ngDoBootstrap)throw new Kt(-403,!1);t.instance.ngDoBootstrap(s)}o.push(t)}(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}({r3Injector:new w1({providers:v,parent:d,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:d,rootComponent:o})}catch(o){return Promise.reject(o)}}function Y2(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Q2(t,o){Dn("NgSignals");const s=function Ke(t){const o=Object.create(Xn);o.computation=t;const s=()=>{if(qe(o),Oe(o),o.value===Bt)throw o.error;return o.value};return s[J]=o,s}(t);return null!=o&&o.equal&&(s[J].equal=o.equal),s}function J2(t){const o=S(null);try{return t()}finally{S(o)}}function iM(t,o){const s=ar(t),l=o.elementInjector||Wi();return new ph(s).create(l,o.projectableNodes,o.hostElement,o.environmentInjector)}function aM(t){const o=ar(t);if(!o)return null;const s=new ph(o);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},4341:(Vn,At,B)=>{"use strict";B.d(At,{ok:()=>ua,MJ:()=>Ur,l_:()=>Ot,JD:()=>Pr,j4:()=>Nt,YN:()=>Sc,zX:()=>ca,VZ:()=>Yi,cz:()=>rt,kq:()=>it,vO:()=>rn,BC:()=>sr,cb:()=>fr,vS:()=>Sa,X1:()=>Ql,k0:()=>je});var x=B(4438),g=B(177),H=B(6648),_e=B(1985),J=B(3073),S=B(8750),ke=B(9326),se=B(4360),Ge=B(6450),wt=B(8496),Se=B(1413),qe=B(6354);let Ne=(()=>{var oe;class j{constructor(Y,Be){this._renderer=Y,this._elementRef=Be,this.onChange=Pn=>{},this.onTouched=()=>{}}setProperty(Y,Be){this._renderer.setProperty(this._elementRef.nativeElement,Y,Be)}registerOnTouched(Y){this.onTouched=Y}registerOnChange(Y){this.onChange=Y}setDisabledState(Y){this.setProperty("disabled",Y)}}return(oe=j).\u0275fac=function(Y){return new(Y||oe)(x.rXU(x.sFG),x.rXU(x.aKT))},oe.\u0275dir=x.FsC({type:oe}),j})(),ot=(()=>{var oe;class j extends Ne{}return(oe=j).\u0275fac=(()=>{let ge;return function(Be){return(ge||(ge=x.xGo(oe)))(Be||oe)}})(),oe.\u0275dir=x.FsC({type:oe,features:[x.Vt3]}),j})();const it=new x.nKC(""),vt={provide:it,useExisting:(0,x.Rfq)(()=>Ce),multi:!0},Je=new x.nKC("");let Ce=(()=>{var oe;class j extends Ne{constructor(Y,Be,Pn){super(Y,Be),this._compositionMode=Pn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ct(){const oe=(0,g.QT)()?(0,g.QT)().getUserAgent():"";return/android (\d+)/.test(oe.toLowerCase())}())}writeValue(Y){this.setProperty("value",null==Y?"":Y)}_handleInput(Y){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(Y)}_compositionStart(){this._composing=!0}_compositionEnd(Y){this._composing=!1,this._compositionMode&&this.onChange(Y)}}return(oe=j).\u0275fac=function(Y){return new(Y||oe)(x.rXU(x.sFG),x.rXU(x.aKT),x.rXU(Je,8))},oe.\u0275dir=x.FsC({type:oe,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Y,Be){1&Y&&x.bIt("input",function(Rr){return Be._handleInput(Rr.target.value)})("blur",function(){return Be.onTouched()})("compositionstart",function(){return Be._compositionStart()})("compositionend",function(Rr){return Be._compositionEnd(Rr.target.value)})},features:[x.Jv_([vt]),x.Vt3]}),j})();function $e(oe){return null==oe||("string"==typeof oe||Array.isArray(oe))&&0===oe.length}function re(oe){return null!=oe&&"number"==typeof oe.length}const rt=new x.nKC(""),Dt=new x.nKC(""),Ke=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class je{static min(j){return Lt(j)}static max(j){return Bt(j)}static required(j){return function Xn(oe){return $e(oe.value)?{required:!0}:null}(j)}static requiredTrue(j){return function tn(oe){return!0===oe.value?null:{required:!0}}(j)}static email(j){return function Kn(oe){return $e(oe.value)||Ke.test(oe.value)?null:{email:!0}}(j)}static minLength(j){return function lr(oe){return j=>$e(j.value)||!re(j.value)?null:j.value.length<oe?{minlength:{requiredLength:oe,actualLength:j.value.length}}:null}(j)}static maxLength(j){return function ut(oe){return j=>re(j.value)&&j.value.length>oe?{maxlength:{requiredLength:oe,actualLength:j.value.length}}:null}(j)}static pattern(j){return function Ue(oe){if(!oe)return ce;let j,ge;return"string"==typeof oe?(ge="","^"!==oe.charAt(0)&&(ge+="^"),ge+=oe,"$"!==oe.charAt(oe.length-1)&&(ge+="$"),j=new RegExp(ge)):(ge=oe.toString(),j=oe),Y=>{if($e(Y.value))return null;const Be=Y.value;return j.test(Be)?null:{pattern:{requiredPattern:ge,actualValue:Be}}}}(j)}static nullValidator(j){return null}static compose(j){return Xt(j)}static composeAsync(j){return er(j)}}function Lt(oe){return j=>{if($e(j.value)||$e(oe))return null;const ge=parseFloat(j.value);return!isNaN(ge)&&ge<oe?{min:{min:oe,actual:j.value}}:null}}function Bt(oe){return j=>{if($e(j.value)||$e(oe))return null;const ge=parseFloat(j.value);return!isNaN(ge)&&ge>oe?{max:{max:oe,actual:j.value}}:null}}function ce(oe){return null}function de(oe){return null!=oe}function Ae(oe){return(0,x.jNT)(oe)?(0,H.H)(oe):oe}function Et(oe){let j={};return oe.forEach(ge=>{j=null!=ge?{...j,...ge}:j}),0===Object.keys(j).length?null:j}function Mt(oe,j){return j.map(ge=>ge(oe))}function ln(oe){return oe.map(j=>function Ft(oe){return!oe.validate}(j)?j:ge=>j.validate(ge))}function Xt(oe){if(!oe)return null;const j=oe.filter(de);return 0==j.length?null:function(ge){return Et(Mt(ge,j))}}function dr(oe){return null!=oe?Xt(ln(oe)):null}function er(oe){if(!oe)return null;const j=oe.filter(de);return 0==j.length?null:function(ge){return function Oe(...oe){const j=(0,ke.ms)(oe),{args:ge,keys:Y}=(0,J.D)(oe),Be=new _e.c(Pn=>{const{length:Rr}=ge;if(!Rr)return void Pn.complete();const xi=new Array(Rr);let da=Rr,Ta=Rr;for(let na=0;na<Rr;na++){let Ma=!1;(0,S.Tg)(ge[na]).subscribe((0,se._)(Pn,rl=>{Ma||(Ma=!0,Ta--),xi[na]=rl},()=>da--,void 0,()=>{(!da||!Ma)&&(Ta||Pn.next(Y?(0,wt.e)(Y,xi):xi),Pn.complete())}))}});return j?Be.pipe((0,Ge.I)(j)):Be}(Mt(ge,j).map(Ae)).pipe((0,qe.T)(Et))}}function wn(oe){return null!=oe?er(ln(oe)):null}function wr(oe,j){return null===oe?[j]:Array.isArray(oe)?[...oe,j]:[oe,j]}function Xr(oe){return oe._rawValidators}function hr(oe){return oe._rawAsyncValidators}function Ar(oe){return oe?Array.isArray(oe)?oe:[oe]:[]}function xr(oe,j){return Array.isArray(oe)?oe.includes(j):oe===j}function pr(oe,j){const ge=Ar(j);return Ar(oe).forEach(Be=>{xr(ge,Be)||ge.push(Be)}),ge}function Kr(oe,j){return Ar(j).filter(ge=>!xr(oe,ge))}class yn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(j){this._rawValidators=j||[],this._composedValidatorFn=dr(this._rawValidators)}_setAsyncValidators(j){this._rawAsyncValidators=j||[],this._composedAsyncValidatorFn=wn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(j){this._onDestroyCallbacks.push(j)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(j=>j()),this._onDestroyCallbacks=[]}reset(j=void 0){this.control&&this.control.reset(j)}hasError(j,ge){return!!this.control&&this.control.hasError(j,ge)}getError(j,ge){return this.control?this.control.getError(j,ge):null}}class en extends yn{get formDirective(){return null}get path(){return null}}class rn extends yn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Kt{constructor(j){this._cd=j}get isTouched(){var j,ge,Y;return null===(j=this._cd)||void 0===j||null===(j=j.control)||void 0===j||null===(ge=j._touched)||void 0===ge||ge.call(j),!(null===(Y=this._cd)||void 0===Y||null===(Y=Y.control)||void 0===Y||!Y.touched)}get isUntouched(){var j;return!(null===(j=this._cd)||void 0===j||null===(j=j.control)||void 0===j||!j.untouched)}get isPristine(){var j,ge,Y;return null===(j=this._cd)||void 0===j||null===(j=j.control)||void 0===j||null===(ge=j._pristine)||void 0===ge||ge.call(j),!(null===(Y=this._cd)||void 0===Y||null===(Y=Y.control)||void 0===Y||!Y.pristine)}get isDirty(){var j;return!(null===(j=this._cd)||void 0===j||null===(j=j.control)||void 0===j||!j.dirty)}get isValid(){var j,ge,Y;return null===(j=this._cd)||void 0===j||null===(j=j.control)||void 0===j||null===(ge=j._status)||void 0===ge||ge.call(j),!(null===(Y=this._cd)||void 0===Y||null===(Y=Y.control)||void 0===Y||!Y.valid)}get isInvalid(){var j;return!(null===(j=this._cd)||void 0===j||null===(j=j.control)||void 0===j||!j.invalid)}get isPending(){var j;return!(null===(j=this._cd)||void 0===j||null===(j=j.control)||void 0===j||!j.pending)}get isSubmitted(){var j,ge,Y;return null===(j=this._cd)||void 0===j||null===(ge=j._submitted)||void 0===ge||ge.call(j),!(null===(Y=this._cd)||void 0===Y||!Y.submitted)}}let sr=(()=>{var oe;class j extends Kt{constructor(Y){super(Y)}}return(oe=j).\u0275fac=function(Y){return new(Y||oe)(x.rXU(rn,2))},oe.\u0275dir=x.FsC({type:oe,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Y,Be){2&Y&&x.AVh("ng-untouched",Be.isUntouched)("ng-touched",Be.isTouched)("ng-pristine",Be.isPristine)("ng-dirty",Be.isDirty)("ng-valid",Be.isValid)("ng-invalid",Be.isInvalid)("ng-pending",Be.isPending)},features:[x.Vt3]}),j})(),fr=(()=>{var oe;class j extends Kt{constructor(Y){super(Y)}}return(oe=j).\u0275fac=function(Y){return new(Y||oe)(x.rXU(en,10))},oe.\u0275dir=x.FsC({type:oe,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Y,Be){2&Y&&x.AVh("ng-untouched",Be.isUntouched)("ng-touched",Be.isTouched)("ng-pristine",Be.isPristine)("ng-dirty",Be.isDirty)("ng-valid",Be.isValid)("ng-invalid",Be.isInvalid)("ng-pending",Be.isPending)("ng-submitted",Be.isSubmitted)},features:[x.Vt3]}),j})();const sn="VALID",_t="INVALID",Tt="PENDING",_n="DISABLED";class Nn{}class bt extends Nn{constructor(j,ge){super(),this.value=j,this.source=ge}}class jt extends Nn{constructor(j,ge){super(),this.pristine=j,this.source=ge}}class vn extends Nn{constructor(j,ge){super(),this.touched=j,this.source=ge}}class gn extends Nn{constructor(j,ge){super(),this.status=j,this.source=ge}}class mt extends Nn{constructor(j){super(),this.source=j}}class He extends Nn{constructor(j){super(),this.source=j}}function Ut(oe){return(cn(oe)?oe.validators:oe)||null}function le(oe,j){return(cn(j)?j.asyncValidators:oe)||null}function cn(oe){return null!=oe&&!Array.isArray(oe)&&"object"==typeof oe}function Zn(oe,j,ge){const Y=oe.controls;if(!(j?Object.keys(Y):Y).length)throw new x.wOt(1e3,"");if(!Y[ge])throw new x.wOt(1001,"")}function qn(oe,j,ge){oe._forEachChild((Y,Be)=>{if(void 0===ge[Be])throw new x.wOt(1002,"")})}class Mn{constructor(j,ge){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,x.EWP)(()=>this.statusReactive()),this.statusReactive=(0,x.vPA)(void 0),this._pristine=(0,x.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,x.vPA)(!0),this._touched=(0,x.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,x.vPA)(!1),this._events=new Se.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(j),this._assignAsyncValidators(ge)}get validator(){return this._composedValidatorFn}set validator(j){this._rawValidators=this._composedValidatorFn=j}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(j){this._rawAsyncValidators=this._composedAsyncValidatorFn=j}get parent(){return this._parent}get status(){return(0,x.O8t)(this.statusReactive)}set status(j){(0,x.O8t)(()=>this.statusReactive.set(j))}get valid(){return this.status===sn}get invalid(){return this.status===_t}get pending(){return this.status==Tt}get disabled(){return this.status===_n}get enabled(){return this.status!==_n}get pristine(){return(0,x.O8t)(this.pristineReactive)}set pristine(j){(0,x.O8t)(()=>this.pristineReactive.set(j))}get dirty(){return!this.pristine}get touched(){return(0,x.O8t)(this.touchedReactive)}set touched(j){(0,x.O8t)(()=>this.touchedReactive.set(j))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(j){this._assignValidators(j)}setAsyncValidators(j){this._assignAsyncValidators(j)}addValidators(j){this.setValidators(pr(j,this._rawValidators))}addAsyncValidators(j){this.setAsyncValidators(pr(j,this._rawAsyncValidators))}removeValidators(j){this.setValidators(Kr(j,this._rawValidators))}removeAsyncValidators(j){this.setAsyncValidators(Kr(j,this._rawAsyncValidators))}hasValidator(j){return xr(this._rawValidators,j)}hasAsyncValidator(j){return xr(this._rawAsyncValidators,j)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(j={}){var ge;const Y=!1===this.touched;this.touched=!0;const Be=null!==(ge=j.sourceControl)&&void 0!==ge?ge:this;this._parent&&!j.onlySelf&&this._parent.markAsTouched({...j,sourceControl:Be}),Y&&!1!==j.emitEvent&&this._events.next(new vn(!0,Be))}markAllAsTouched(j={}){this.markAsTouched({onlySelf:!0,emitEvent:j.emitEvent,sourceControl:this}),this._forEachChild(ge=>ge.markAllAsTouched(j))}markAsUntouched(j={}){var ge;const Y=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const Be=null!==(ge=j.sourceControl)&&void 0!==ge?ge:this;this._forEachChild(Pn=>{Pn.markAsUntouched({onlySelf:!0,emitEvent:j.emitEvent,sourceControl:Be})}),this._parent&&!j.onlySelf&&this._parent._updateTouched(j,Be),Y&&!1!==j.emitEvent&&this._events.next(new vn(!1,Be))}markAsDirty(j={}){var ge;const Y=!0===this.pristine;this.pristine=!1;const Be=null!==(ge=j.sourceControl)&&void 0!==ge?ge:this;this._parent&&!j.onlySelf&&this._parent.markAsDirty({...j,sourceControl:Be}),Y&&!1!==j.emitEvent&&this._events.next(new jt(!1,Be))}markAsPristine(j={}){var ge;const Y=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const Be=null!==(ge=j.sourceControl)&&void 0!==ge?ge:this;this._forEachChild(Pn=>{Pn.markAsPristine({onlySelf:!0,emitEvent:j.emitEvent})}),this._parent&&!j.onlySelf&&this._parent._updatePristine(j,Be),Y&&!1!==j.emitEvent&&this._events.next(new jt(!0,Be))}markAsPending(j={}){var ge;this.status=Tt;const Y=null!==(ge=j.sourceControl)&&void 0!==ge?ge:this;!1!==j.emitEvent&&(this._events.next(new gn(this.status,Y)),this.statusChanges.emit(this.status)),this._parent&&!j.onlySelf&&this._parent.markAsPending({...j,sourceControl:Y})}disable(j={}){var ge;const Y=this._parentMarkedDirty(j.onlySelf);this.status=_n,this.errors=null,this._forEachChild(Pn=>{Pn.disable({...j,onlySelf:!0})}),this._updateValue();const Be=null!==(ge=j.sourceControl)&&void 0!==ge?ge:this;!1!==j.emitEvent&&(this._events.next(new bt(this.value,Be)),this._events.next(new gn(this.status,Be)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...j,skipPristineCheck:Y},this),this._onDisabledChange.forEach(Pn=>Pn(!0))}enable(j={}){const ge=this._parentMarkedDirty(j.onlySelf);this.status=sn,this._forEachChild(Y=>{Y.enable({...j,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent}),this._updateAncestors({...j,skipPristineCheck:ge},this),this._onDisabledChange.forEach(Y=>Y(!1))}_updateAncestors(j,ge){this._parent&&!j.onlySelf&&(this._parent.updateValueAndValidity(j),j.skipPristineCheck||this._parent._updatePristine({},ge),this._parent._updateTouched({},ge))}setParent(j){this._parent=j}getRawValue(){return this.value}updateValueAndValidity(j={}){var ge;if(this._setInitialStatus(),this._updateValue(),this.enabled){const Be=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sn||this.status===Tt)&&this._runAsyncValidator(Be,j.emitEvent)}const Y=null!==(ge=j.sourceControl)&&void 0!==ge?ge:this;!1!==j.emitEvent&&(this._events.next(new bt(this.value,Y)),this._events.next(new gn(this.status,Y)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!j.onlySelf&&this._parent.updateValueAndValidity({...j,sourceControl:Y})}_updateTreeValidity(j={emitEvent:!0}){this._forEachChild(ge=>ge._updateTreeValidity(j)),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_n:sn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(j,ge){if(this.asyncValidator){this.status=Tt,this._hasOwnPendingAsyncValidator={emitEvent:!1!==ge};const Y=Ae(this.asyncValidator(this));this._asyncValidationSubscription=Y.subscribe(Be=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Be,{emitEvent:ge,shouldHaveEmitted:j})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){var j,ge;this._asyncValidationSubscription.unsubscribe();const Y=null!==(j=null===(ge=this._hasOwnPendingAsyncValidator)||void 0===ge?void 0:ge.emitEvent)&&void 0!==j&&j;return this._hasOwnPendingAsyncValidator=null,Y}return!1}setErrors(j,ge={}){this.errors=j,this._updateControlsErrors(!1!==ge.emitEvent,this,ge.shouldHaveEmitted)}get(j){let ge=j;return null==ge||(Array.isArray(ge)||(ge=ge.split(".")),0===ge.length)?null:ge.reduce((Y,Be)=>Y&&Y._find(Be),this)}getError(j,ge){const Y=ge?this.get(ge):this;return Y&&Y.errors?Y.errors[j]:null}hasError(j,ge){return!!this.getError(j,ge)}get root(){let j=this;for(;j._parent;)j=j._parent;return j}_updateControlsErrors(j,ge,Y){this.status=this._calculateStatus(),j&&this.statusChanges.emit(this.status),(j||Y)&&this._events.next(new gn(this.status,ge)),this._parent&&this._parent._updateControlsErrors(j,ge,Y)}_initObservables(){this.valueChanges=new x.bkB,this.statusChanges=new x.bkB}_calculateStatus(){return this._allControlsDisabled()?_n:this.errors?_t:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Tt)?Tt:this._anyControlsHaveStatus(_t)?_t:sn}_anyControlsHaveStatus(j){return this._anyControls(ge=>ge.status===j)}_anyControlsDirty(){return this._anyControls(j=>j.dirty)}_anyControlsTouched(){return this._anyControls(j=>j.touched)}_updatePristine(j,ge){const Y=!this._anyControlsDirty(),Be=this.pristine!==Y;this.pristine=Y,this._parent&&!j.onlySelf&&this._parent._updatePristine(j,ge),Be&&this._events.next(new jt(this.pristine,ge))}_updateTouched(j={},ge){this.touched=this._anyControlsTouched(),this._events.next(new vn(this.touched,ge)),this._parent&&!j.onlySelf&&this._parent._updateTouched(j,ge)}_registerOnCollectionChange(j){this._onCollectionChange=j}_setUpdateStrategy(j){cn(j)&&null!=j.updateOn&&(this._updateOn=j.updateOn)}_parentMarkedDirty(j){return!j&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(j){return null}_assignValidators(j){this._rawValidators=Array.isArray(j)?j.slice():j,this._composedValidatorFn=function ye(oe){return Array.isArray(oe)?dr(oe):oe||null}(this._rawValidators)}_assignAsyncValidators(j){this._rawAsyncValidators=Array.isArray(j)?j.slice():j,this._composedAsyncValidatorFn=function zt(oe){return Array.isArray(oe)?wn(oe):oe||null}(this._rawAsyncValidators)}}class Gr extends Mn{constructor(j,ge,Y){super(Ut(ge),le(Y,ge)),this.controls=j,this._initObservables(),this._setUpdateStrategy(ge),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(j,ge){return this.controls[j]?this.controls[j]:(this.controls[j]=ge,ge.setParent(this),ge._registerOnCollectionChange(this._onCollectionChange),ge)}addControl(j,ge,Y={}){this.registerControl(j,ge),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}removeControl(j,ge={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],this.updateValueAndValidity({emitEvent:ge.emitEvent}),this._onCollectionChange()}setControl(j,ge,Y={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],ge&&this.registerControl(j,ge),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}contains(j){return this.controls.hasOwnProperty(j)&&this.controls[j].enabled}setValue(j,ge={}){qn(this,0,j),Object.keys(j).forEach(Y=>{Zn(this,!0,Y),this.controls[Y].setValue(j[Y],{onlySelf:!0,emitEvent:ge.emitEvent})}),this.updateValueAndValidity(ge)}patchValue(j,ge={}){null!=j&&(Object.keys(j).forEach(Y=>{const Be=this.controls[Y];Be&&Be.patchValue(j[Y],{onlySelf:!0,emitEvent:ge.emitEvent})}),this.updateValueAndValidity(ge))}reset(j={},ge={}){this._forEachChild((Y,Be)=>{Y.reset(j?j[Be]:null,{onlySelf:!0,emitEvent:ge.emitEvent})}),this._updatePristine(ge,this),this._updateTouched(ge,this),this.updateValueAndValidity(ge)}getRawValue(){return this._reduceChildren({},(j,ge,Y)=>(j[Y]=ge.getRawValue(),j))}_syncPendingControls(){let j=this._reduceChildren(!1,(ge,Y)=>!!Y._syncPendingControls()||ge);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){Object.keys(this.controls).forEach(ge=>{const Y=this.controls[ge];Y&&j(Y,ge)})}_setUpControls(){this._forEachChild(j=>{j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(j){for(const[ge,Y]of Object.entries(this.controls))if(this.contains(ge)&&j(Y))return!0;return!1}_reduceValue(){return this._reduceChildren({},(ge,Y,Be)=>((Y.enabled||this.disabled)&&(ge[Be]=Y.value),ge))}_reduceChildren(j,ge){let Y=j;return this._forEachChild((Be,Pn)=>{Y=ge(Y,Be,Pn)}),Y}_allControlsDisabled(){for(const j of Object.keys(this.controls))if(this.controls[j].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(j){return this.controls.hasOwnProperty(j)?this.controls[j]:null}}class jo extends Gr{}const Po=new x.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>co}),co="always";function Qn(oe,j){return[...j.path,oe]}function zo(oe,j,ge=co){var Y,Be;_r(oe,j),j.valueAccessor.writeValue(oe.value),(oe.disabled||"always"===ge)&&(null===(Y=(Be=j.valueAccessor).setDisabledState)||void 0===Y||Y.call(Be,oe.disabled)),function Te(oe,j){j.valueAccessor.registerOnChange(ge=>{oe._pendingValue=ge,oe._pendingChange=!0,oe._pendingDirty=!0,"change"===oe.updateOn&&Rt(oe,j)})}(oe,j),function ae(oe,j){const ge=(Y,Be)=>{j.valueAccessor.writeValue(Y),Be&&j.viewToModelUpdate(Y)};oe.registerOnChange(ge),j._registerOnDestroy(()=>{oe._unregisterOnChange(ge)})}(oe,j),function et(oe,j){j.valueAccessor.registerOnTouched(()=>{oe._pendingTouched=!0,"blur"===oe.updateOn&&oe._pendingChange&&Rt(oe,j),"submit"!==oe.updateOn&&oe.markAsTouched()})}(oe,j),function zn(oe,j){if(j.valueAccessor.setDisabledState){const ge=Y=>{j.valueAccessor.setDisabledState(Y)};oe.registerOnDisabledChange(ge),j._registerOnDestroy(()=>{oe._unregisterOnDisabledChange(ge)})}}(oe,j)}function Qe(oe,j,ge=!0){const Y=()=>{};j.valueAccessor&&(j.valueAccessor.registerOnChange(Y),j.valueAccessor.registerOnTouched(Y)),Zr(oe,j),oe&&(j._invokeOnDestroyCallbacks(),oe._registerOnCollectionChange(()=>{}))}function an(oe,j){oe.forEach(ge=>{ge.registerOnValidatorChange&&ge.registerOnValidatorChange(j)})}function _r(oe,j){const ge=Xr(oe);null!==j.validator?oe.setValidators(wr(ge,j.validator)):"function"==typeof ge&&oe.setValidators([ge]);const Y=hr(oe);null!==j.asyncValidator?oe.setAsyncValidators(wr(Y,j.asyncValidator)):"function"==typeof Y&&oe.setAsyncValidators([Y]);const Be=()=>oe.updateValueAndValidity();an(j._rawValidators,Be),an(j._rawAsyncValidators,Be)}function Zr(oe,j){let ge=!1;if(null!==oe){if(null!==j.validator){const Be=Xr(oe);if(Array.isArray(Be)&&Be.length>0){const Pn=Be.filter(Rr=>Rr!==j.validator);Pn.length!==Be.length&&(ge=!0,oe.setValidators(Pn))}}if(null!==j.asyncValidator){const Be=hr(oe);if(Array.isArray(Be)&&Be.length>0){const Pn=Be.filter(Rr=>Rr!==j.asyncValidator);Pn.length!==Be.length&&(ge=!0,oe.setAsyncValidators(Pn))}}}const Y=()=>{};return an(j._rawValidators,Y),an(j._rawAsyncValidators,Y),ge}function Rt(oe,j){oe._pendingDirty&&oe.markAsDirty(),oe.setValue(oe._pendingValue,{emitModelToViewChange:!1}),j.viewToModelUpdate(oe._pendingValue),oe._pendingChange=!1}function Rn(oe,j){if(!oe.hasOwnProperty("model"))return!1;const ge=oe.model;return!!ge.isFirstChange()||!Object.is(j,ge.currentValue)}function tr(oe,j){if(!j)return null;let ge,Y,Be;return Array.isArray(j),j.forEach(Pn=>{Pn.constructor===Ce?ge=Pn:function kn(oe){return Object.getPrototypeOf(oe.constructor)===ot}(Pn)?Y=Pn:Be=Pn}),Be||Y||ge||null}function po(oe,j){const ge=oe.indexOf(j);ge>-1&&oe.splice(ge,1)}function gr(oe){return"object"==typeof oe&&null!==oe&&2===Object.keys(oe).length&&"value"in oe&&"disabled"in oe}Promise.resolve();const Ur=class extends Mn{constructor(j=null,ge,Y){super(Ut(ge),le(Y,ge)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(j),this._setUpdateStrategy(ge),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cn(ge)&&(ge.nonNullable||ge.initialValueIsDefault)&&(this.defaultValue=gr(j)?j.value:j)}setValue(j,ge={}){this.value=this._pendingValue=j,this._onChange.length&&!1!==ge.emitModelToViewChange&&this._onChange.forEach(Y=>Y(this.value,!1!==ge.emitViewToModelChange)),this.updateValueAndValidity(ge)}patchValue(j,ge={}){this.setValue(j,ge)}reset(j=this.defaultValue,ge={}){this._applyFormState(j),this.markAsPristine(ge),this.markAsUntouched(ge),this.setValue(this.value,ge),this._pendingChange=!1}_updateValue(){}_anyControls(j){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(j){this._onChange.push(j)}_unregisterOnChange(j){po(this._onChange,j)}registerOnDisabledChange(j){this._onDisabledChange.push(j)}_unregisterOnDisabledChange(j){po(this._onDisabledChange,j)}_forEachChild(j){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(j){gr(j)?(this.value=this._pendingValue=j.value,j.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=j}},Mo={provide:rn,useExisting:(0,x.Rfq)(()=>Sa)},za=Promise.resolve();let Sa=(()=>{var oe;class j extends rn{constructor(Y,Be,Pn,Rr,xi,da){super(),this._changeDetectorRef=xi,this.callSetDisabledState=da,this.control=new Ur,this._registered=!1,this.name="",this.update=new x.bkB,this._parent=Y,this._setValidators(Be),this._setAsyncValidators(Pn),this.valueAccessor=tr(0,Rr)}ngOnChanges(Y){if(this._checkForErrors(),!this._registered||"name"in Y){if(this._registered&&(this._checkName(),this.formDirective)){const Be=Y.name.previousValue;this.formDirective.removeControl({name:Be,path:this._getPath(Be)})}this._setUpControl()}"isDisabled"in Y&&this._updateDisabled(Y),Rn(Y,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(Y){this.viewModel=Y,this.update.emit(Y)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){zo(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(Y){za.then(()=>{var Be;this.control.setValue(Y,{emitViewToModelChange:!1}),null===(Be=this._changeDetectorRef)||void 0===Be||Be.markForCheck()})}_updateDisabled(Y){const Be=Y.isDisabled.currentValue,Pn=0!==Be&&(0,x.L39)(Be);za.then(()=>{var Rr;Pn&&!this.control.disabled?this.control.disable():!Pn&&this.control.disabled&&this.control.enable(),null===(Rr=this._changeDetectorRef)||void 0===Rr||Rr.markForCheck()})}_getPath(Y){return this._parent?Qn(Y,this._parent):[Y]}}return(oe=j).\u0275fac=function(Y){return new(Y||oe)(x.rXU(en,9),x.rXU(rt,10),x.rXU(Dt,10),x.rXU(it,10),x.rXU(x.gRc,8),x.rXU(Po,8))},oe.\u0275dir=x.FsC({type:oe,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[x.Jv_([Mo]),x.Vt3,x.OA$]}),j})();const Ze=new x.nKC(""),st={provide:rn,useExisting:(0,x.Rfq)(()=>Ot)};let Ot=(()=>{var oe;class j extends rn{set isDisabled(Y){}constructor(Y,Be,Pn,Rr,xi){super(),this._ngModelWarningConfig=Rr,this.callSetDisabledState=xi,this.update=new x.bkB,this._ngModelWarningSent=!1,this._setValidators(Y),this._setAsyncValidators(Be),this.valueAccessor=tr(0,Pn)}ngOnChanges(Y){if(this._isControlChanged(Y)){const Be=Y.form.previousValue;Be&&Qe(Be,this,!1),zo(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Rn(Y,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Qe(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(Y){this.viewModel=Y,this.update.emit(Y)}_isControlChanged(Y){return Y.hasOwnProperty("form")}}return(oe=j)._ngModelWarningSentOnce=!1,oe.\u0275fac=function(Y){return new(Y||oe)(x.rXU(rt,10),x.rXU(Dt,10),x.rXU(it,10),x.rXU(Ze,8),x.rXU(Po,8))},oe.\u0275dir=x.FsC({type:oe,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[x.Jv_([st]),x.Vt3,x.OA$]}),j})();const kt={provide:en,useExisting:(0,x.Rfq)(()=>Nt)};let Nt=(()=>{var oe;class j extends en{get submitted(){return(0,x.O8t)(this._submittedReactive)}set submitted(Y){this._submittedReactive.set(Y)}constructor(Y,Be,Pn){super(),this.callSetDisabledState=Pn,this._submitted=(0,x.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,x.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new x.bkB,this._setValidators(Y),this._setAsyncValidators(Be)}ngOnChanges(Y){this._checkFormPresent(),Y.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Zr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(Y){const Be=this.form.get(Y.path);return zo(Be,Y,this.callSetDisabledState),Be.updateValueAndValidity({emitEvent:!1}),this.directives.push(Y),Be}getControl(Y){return this.form.get(Y.path)}removeControl(Y){Qe(Y.control||null,Y,!1),function Cr(oe,j){const ge=oe.indexOf(j);ge>-1&&oe.splice(ge,1)}(this.directives,Y)}addFormGroup(Y){this._setUpFormContainer(Y)}removeFormGroup(Y){this._cleanUpFormContainer(Y)}getFormGroup(Y){return this.form.get(Y.path)}addFormArray(Y){this._setUpFormContainer(Y)}removeFormArray(Y){this._cleanUpFormContainer(Y)}getFormArray(Y){return this.form.get(Y.path)}updateModel(Y,Be){this.form.get(Y.path).setValue(Be)}onSubmit(Y){var Be;return this._submittedReactive.set(!0),function xn(oe,j){oe._syncPendingControls(),j.forEach(ge=>{const Y=ge.control;"submit"===Y.updateOn&&Y._pendingChange&&(ge.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(Y),this.form._events.next(new mt(this.control)),"dialog"===(null==Y||null===(Be=Y.target)||void 0===Be?void 0:Be.method)}onReset(){this.resetForm()}resetForm(Y=void 0){this.form.reset(Y),this._submittedReactive.set(!1),this.form._events.next(new He(this.form))}_updateDomValue(){this.directives.forEach(Y=>{const Be=Y.control,Pn=this.form.get(Y.path);Be!==Pn&&(Qe(Be||null,Y),(oe=>oe instanceof Ur)(Pn)&&(zo(Pn,Y,this.callSetDisabledState),Y.control=Pn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(Y){const Be=this.form.get(Y.path);(function Le(oe,j){_r(oe,j)})(Be,Y),Be.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(Y){if(this.form){const Be=this.form.get(Y.path);Be&&function Ie(oe,j){return Zr(oe,j)}(Be,Y)&&Be.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_r(this.form,this),this._oldForm&&Zr(this._oldForm,this)}_checkFormPresent(){}}return(oe=j).\u0275fac=function(Y){return new(Y||oe)(x.rXU(rt,10),x.rXU(Dt,10),x.rXU(Po,8))},oe.\u0275dir=x.FsC({type:oe,selectors:[["","formGroup",""]],hostBindings:function(Y,Be){1&Y&&x.bIt("submit",function(Rr){return Be.onSubmit(Rr)})("reset",function(){return Be.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[x.Jv_([kt]),x.Vt3,x.OA$]}),j})();const Mr={provide:rn,useExisting:(0,x.Rfq)(()=>Pr)};let Pr=(()=>{var oe;class j extends rn{set isDisabled(Y){}constructor(Y,Be,Pn,Rr,xi){super(),this._ngModelWarningConfig=xi,this._added=!1,this.name=null,this.update=new x.bkB,this._ngModelWarningSent=!1,this._parent=Y,this._setValidators(Be),this._setAsyncValidators(Pn),this.valueAccessor=tr(0,Rr)}ngOnChanges(Y){this._added||this._setUpControl(),Rn(Y,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(Y){this.viewModel=Y,this.update.emit(Y)}get path(){return Qn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(oe=j)._ngModelWarningSentOnce=!1,oe.\u0275fac=function(Y){return new(Y||oe)(x.rXU(en,13),x.rXU(rt,10),x.rXU(Dt,10),x.rXU(it,10),x.rXU(Ze,8))},oe.\u0275dir=x.FsC({type:oe,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[x.Jv_([Mr]),x.Vt3,x.OA$]}),j})();function Ei(oe){return"number"==typeof oe?oe:parseFloat(oe)}let yi=(()=>{var oe;class j{constructor(){this._validator=ce}ngOnChanges(Y){if(this.inputName in Y){const Be=this.normalizeInput(Y[this.inputName].currentValue);this._enabled=this.enabled(Be),this._validator=this._enabled?this.createValidator(Be):ce,this._onChange&&this._onChange()}}validate(Y){return this._validator(Y)}registerOnValidatorChange(Y){this._onChange=Y}enabled(Y){return null!=Y}}return(oe=j).\u0275fac=function(Y){return new(Y||oe)},oe.\u0275dir=x.FsC({type:oe,features:[x.OA$]}),j})();const ta={provide:rt,useExisting:(0,x.Rfq)(()=>ca),multi:!0};let ca=(()=>{var oe;class j extends yi{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=Y=>Ei(Y),this.createValidator=Y=>Bt(Y)}}return(oe=j).\u0275fac=(()=>{let ge;return function(Be){return(ge||(ge=x.xGo(oe)))(Be||oe)}})(),oe.\u0275dir=x.FsC({type:oe,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(Y,Be){2&Y&&x.BMQ("max",Be._enabled?Be.max:null)},inputs:{max:"max"},features:[x.Jv_([ta]),x.Vt3]}),j})();const di={provide:rt,useExisting:(0,x.Rfq)(()=>Yi),multi:!0};let Yi=(()=>{var oe;class j extends yi{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=Y=>Ei(Y),this.createValidator=Y=>Lt(Y)}}return(oe=j).\u0275fac=(()=>{let ge;return function(Be){return(ge||(ge=x.xGo(oe)))(Be||oe)}})(),oe.\u0275dir=x.FsC({type:oe,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(Y,Be){2&Y&&x.BMQ("min",Be._enabled?Be.min:null)},inputs:{min:"min"},features:[x.Jv_([di]),x.Vt3]}),j})(),Vo=(()=>{var oe;class j{}return(oe=j).\u0275fac=function(Y){return new(Y||oe)},oe.\u0275mod=x.$C({type:oe}),oe.\u0275inj=x.G2t({}),j})();class Qo extends Mn{constructor(j,ge,Y){super(Ut(ge),le(Y,ge)),this.controls=j,this._initObservables(),this._setUpdateStrategy(ge),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(j){return this.controls[this._adjustIndex(j)]}push(j,ge={}){this.controls.push(j),this._registerControl(j),this.updateValueAndValidity({emitEvent:ge.emitEvent}),this._onCollectionChange()}insert(j,ge,Y={}){this.controls.splice(j,0,ge),this._registerControl(ge),this.updateValueAndValidity({emitEvent:Y.emitEvent})}removeAt(j,ge={}){let Y=this._adjustIndex(j);Y<0&&(Y=0),this.controls[Y]&&this.controls[Y]._registerOnCollectionChange(()=>{}),this.controls.splice(Y,1),this.updateValueAndValidity({emitEvent:ge.emitEvent})}setControl(j,ge,Y={}){let Be=this._adjustIndex(j);Be<0&&(Be=0),this.controls[Be]&&this.controls[Be]._registerOnCollectionChange(()=>{}),this.controls.splice(Be,1),ge&&(this.controls.splice(Be,0,ge),this._registerControl(ge)),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(j,ge={}){qn(this,0,j),j.forEach((Y,Be)=>{Zn(this,!1,Be),this.at(Be).setValue(Y,{onlySelf:!0,emitEvent:ge.emitEvent})}),this.updateValueAndValidity(ge)}patchValue(j,ge={}){null!=j&&(j.forEach((Y,Be)=>{this.at(Be)&&this.at(Be).patchValue(Y,{onlySelf:!0,emitEvent:ge.emitEvent})}),this.updateValueAndValidity(ge))}reset(j=[],ge={}){this._forEachChild((Y,Be)=>{Y.reset(j[Be],{onlySelf:!0,emitEvent:ge.emitEvent})}),this._updatePristine(ge,this),this._updateTouched(ge,this),this.updateValueAndValidity(ge)}getRawValue(){return this.controls.map(j=>j.getRawValue())}clear(j={}){this.controls.length<1||(this._forEachChild(ge=>ge._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:j.emitEvent}))}_adjustIndex(j){return j<0?j+this.length:j}_syncPendingControls(){let j=this.controls.reduce((ge,Y)=>!!Y._syncPendingControls()||ge,!1);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){this.controls.forEach((ge,Y)=>{j(ge,Y)})}_updateValue(){this.value=this.controls.filter(j=>j.enabled||this.disabled).map(j=>j.value)}_anyControls(j){return this.controls.some(ge=>ge.enabled&&j(ge))}_setUpControls(){this._forEachChild(j=>this._registerControl(j))}_allControlsDisabled(){for(const j of this.controls)if(j.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(j){j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)}_find(j){var ge;return null!==(ge=this.at(j))&&void 0!==ge?ge:null}}function ao(oe){return!!oe&&(void 0!==oe.asyncValidators||void 0!==oe.validators||void 0!==oe.updateOn)}let ua=(()=>{var oe;class j{constructor(){this.useNonNullable=!1}get nonNullable(){const Y=new j;return Y.useNonNullable=!0,Y}group(Y,Be=null){const Pn=this._reduceControls(Y);let Rr={};return ao(Be)?Rr=Be:null!==Be&&(Rr.validators=Be.validator,Rr.asyncValidators=Be.asyncValidator),new Gr(Pn,Rr)}record(Y,Be=null){const Pn=this._reduceControls(Y);return new jo(Pn,Be)}control(Y,Be,Pn){let Rr={};return this.useNonNullable?(ao(Be)?Rr=Be:(Rr.validators=Be,Rr.asyncValidators=Pn),new Ur(Y,{...Rr,nonNullable:!0})):new Ur(Y,Be,Pn)}array(Y,Be,Pn){const Rr=Y.map(xi=>this._createControl(xi));return new Qo(Rr,Be,Pn)}_reduceControls(Y){const Be={};return Object.keys(Y).forEach(Pn=>{Be[Pn]=this._createControl(Y[Pn])}),Be}_createControl(Y){return Y instanceof Ur||Y instanceof Mn?Y:Array.isArray(Y)?this.control(Y[0],Y.length>1?Y[1]:null,Y.length>2?Y[2]:null):this.control(Y)}}return(oe=j).\u0275fac=function(Y){return new(Y||oe)},oe.\u0275prov=x.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),j})(),Sc=(()=>{var oe;class j{static withConfig(Y){var Be;return{ngModule:j,providers:[{provide:Po,useValue:null!==(Be=Y.callSetDisabledState)&&void 0!==Be?Be:co}]}}}return(oe=j).\u0275fac=function(Y){return new(Y||oe)},oe.\u0275mod=x.$C({type:oe}),oe.\u0275inj=x.G2t({imports:[Vo]}),j})(),Ql=(()=>{var oe;class j{static withConfig(Y){var Be,Pn;return{ngModule:j,providers:[{provide:Ze,useValue:null!==(Be=Y.warnOnNgModelWithFormControl)&&void 0!==Be?Be:"always"},{provide:Po,useValue:null!==(Pn=Y.callSetDisabledState)&&void 0!==Pn?Pn:co}]}}}return(oe=j).\u0275fac=function(Y){return new(Y||oe)},oe.\u0275mod=x.$C({type:oe}),oe.\u0275inj=x.G2t({imports:[Vo]}),j})()},345:(Vn,At,B)=>{"use strict";B.d(At,{B8:()=>de,hE:()=>pr});var x=B(177),g=B(4438);class H extends x.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class _e extends H{static makeCurrent(){(0,x.ZD)(new _e)}onAndCancel(Pt,sn,_t){return Pt.addEventListener(sn,_t),()=>{Pt.removeEventListener(sn,_t)}}dispatchEvent(Pt,sn){Pt.dispatchEvent(sn)}remove(Pt){Pt.remove()}createElement(Pt,sn){return(sn=sn||this.getDefaultDocument()).createElement(Pt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Pt){return Pt.nodeType===Node.ELEMENT_NODE}isShadowRoot(Pt){return Pt instanceof DocumentFragment}getGlobalEventTarget(Pt,sn){return"window"===sn?window:"document"===sn?Pt:"body"===sn?Pt.body:null}getBaseHref(Pt){const sn=function S(){return J=J||document.querySelector("base"),J?J.getAttribute("href"):null}();return null==sn?null:function ke(Qt){return new URL(Qt,document.baseURI).pathname}(sn)}resetBaseElement(){J=null}getUserAgent(){return window.navigator.userAgent}getCookie(Pt){return(0,x._b)(document.cookie,Pt)}}let J=null,Ge=(()=>{var Qt;class Pt{build(){return new XMLHttpRequest}}return(Qt=Pt).\u0275fac=function(_t){return new(_t||Qt)},Qt.\u0275prov=g.jDH({token:Qt,factory:Qt.\u0275fac}),Pt})();const wt=new g.nKC("");let Oe=(()=>{var Qt;class Pt{constructor(_t,Tt){this._zone=Tt,this._eventNameToPlugin=new Map,_t.forEach(_n=>{_n.manager=this}),this._plugins=_t.slice().reverse()}addEventListener(_t,Tt,_n){return this._findPluginFor(Tt).addEventListener(_t,Tt,_n)}getZone(){return this._zone}_findPluginFor(_t){let Tt=this._eventNameToPlugin.get(_t);if(Tt)return Tt;if(Tt=this._plugins.find(Nn=>Nn.supports(_t)),!Tt)throw new g.wOt(5101,!1);return this._eventNameToPlugin.set(_t,Tt),Tt}}return(Qt=Pt).\u0275fac=function(_t){return new(_t||Qt)(g.KVO(wt),g.KVO(g.SKi))},Qt.\u0275prov=g.jDH({token:Qt,factory:Qt.\u0275fac}),Pt})();class Se{constructor(Pt){this._doc=Pt}}const qe="ng-app-id";let Ne=(()=>{var Qt;class Pt{constructor(_t,Tt,_n,Nn={}){this.doc=_t,this.appId=Tt,this.nonce=_n,this.platformId=Nn,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,x.Vy)(Nn),this.resetHostNodes()}addStyles(_t){for(const Tt of _t)1===this.changeUsageCount(Tt,1)&&this.onStyleAdded(Tt)}removeStyles(_t){for(const Tt of _t)this.changeUsageCount(Tt,-1)<=0&&this.onStyleRemoved(Tt)}ngOnDestroy(){const _t=this.styleNodesInDOM;_t&&(_t.forEach(Tt=>Tt.remove()),_t.clear());for(const Tt of this.getAllStyles())this.onStyleRemoved(Tt);this.resetHostNodes()}addHost(_t){this.hostNodes.add(_t);for(const Tt of this.getAllStyles())this.addStyleToHost(_t,Tt)}removeHost(_t){this.hostNodes.delete(_t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(_t){for(const Tt of this.hostNodes)this.addStyleToHost(Tt,_t)}onStyleRemoved(_t){var Tt;const _n=this.styleRef;null===(Tt=_n.get(_t))||void 0===Tt||null===(Tt=Tt.elements)||void 0===Tt||Tt.forEach(Nn=>Nn.remove()),_n.delete(_t)}collectServerRenderedStyles(){var _t;const Tt=null===(_t=this.doc.head)||void 0===_t?void 0:_t.querySelectorAll(`style[${qe}="${this.appId}"]`);if(null!=Tt&&Tt.length){const _n=new Map;return Tt.forEach(Nn=>{null!=Nn.textContent&&_n.set(Nn.textContent,Nn)}),_n}return null}changeUsageCount(_t,Tt){const _n=this.styleRef;if(_n.has(_t)){const Nn=_n.get(_t);return Nn.usage+=Tt,Nn.usage}return _n.set(_t,{usage:Tt,elements:[]}),Tt}getStyleElement(_t,Tt){const _n=this.styleNodesInDOM,Nn=null==_n?void 0:_n.get(Tt);if((null==Nn?void 0:Nn.parentNode)===_t)return _n.delete(Tt),Nn.removeAttribute(qe),Nn;{const bt=this.doc.createElement("style");return this.nonce&&bt.setAttribute("nonce",this.nonce),bt.textContent=Tt,this.platformIsServer&&bt.setAttribute(qe,this.appId),_t.appendChild(bt),bt}}addStyleToHost(_t,Tt){var _n;const Nn=this.getStyleElement(_t,Tt),bt=this.styleRef,jt=null===(_n=bt.get(Tt))||void 0===_n?void 0:_n.elements;jt?jt.push(Nn):bt.set(Tt,{elements:[Nn],usage:1})}resetHostNodes(){const _t=this.hostNodes;_t.clear(),_t.add(this.doc.head)}}return(Qt=Pt).\u0275fac=function(_t){return new(_t||Qt)(g.KVO(x.qQ),g.KVO(g.sZ2),g.KVO(g.BIS,8),g.KVO(g.Agw))},Qt.\u0275prov=g.jDH({token:Qt,factory:Qt.\u0275fac}),Pt})();const ot={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},it=/%COMP%/g,Je=new g.nKC("",{providedIn:"root",factory:()=>!0});function re(Qt,Pt){return Pt.map(sn=>sn.replace(it,Qt))}let rt=(()=>{var Qt;class Pt{constructor(_t,Tt,_n,Nn,bt,jt,vn,gn=null){this.eventManager=_t,this.sharedStylesHost=Tt,this.appId=_n,this.removeStylesOnCompDestroy=Nn,this.doc=bt,this.platformId=jt,this.ngZone=vn,this.nonce=gn,this.rendererByCompId=new Map,this.platformIsServer=(0,x.Vy)(jt),this.defaultRenderer=new Dt(_t,bt,vn,this.platformIsServer)}createRenderer(_t,Tt){if(!_t||!Tt)return this.defaultRenderer;this.platformIsServer&&Tt.encapsulation===g.gXe.ShadowDom&&(Tt={...Tt,encapsulation:g.gXe.Emulated});const _n=this.getOrCreateRenderer(_t,Tt);return _n instanceof tn?_n.applyToHost(_t):_n instanceof Xn&&_n.applyStyles(),_n}getOrCreateRenderer(_t,Tt){const _n=this.rendererByCompId;let Nn=_n.get(Tt.id);if(!Nn){const bt=this.doc,jt=this.ngZone,vn=this.eventManager,gn=this.sharedStylesHost,mt=this.removeStylesOnCompDestroy,He=this.platformIsServer;switch(Tt.encapsulation){case g.gXe.Emulated:Nn=new tn(vn,gn,Tt,this.appId,mt,bt,jt,He);break;case g.gXe.ShadowDom:return new Bt(vn,gn,_t,Tt,bt,jt,this.nonce,He);default:Nn=new Xn(vn,gn,Tt,mt,bt,jt,He)}_n.set(Tt.id,Nn)}return Nn}ngOnDestroy(){this.rendererByCompId.clear()}}return(Qt=Pt).\u0275fac=function(_t){return new(_t||Qt)(g.KVO(Oe),g.KVO(Ne),g.KVO(g.sZ2),g.KVO(Je),g.KVO(x.qQ),g.KVO(g.Agw),g.KVO(g.SKi),g.KVO(g.BIS))},Qt.\u0275prov=g.jDH({token:Qt,factory:Qt.\u0275fac}),Pt})();class Dt{constructor(Pt,sn,_t,Tt){this.eventManager=Pt,this.doc=sn,this.ngZone=_t,this.platformIsServer=Tt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Pt,sn){return sn?this.doc.createElementNS(ot[sn]||sn,Pt):this.doc.createElement(Pt)}createComment(Pt){return this.doc.createComment(Pt)}createText(Pt){return this.doc.createTextNode(Pt)}appendChild(Pt,sn){(Lt(Pt)?Pt.content:Pt).appendChild(sn)}insertBefore(Pt,sn,_t){Pt&&(Lt(Pt)?Pt.content:Pt).insertBefore(sn,_t)}removeChild(Pt,sn){sn.remove()}selectRootElement(Pt,sn){let _t="string"==typeof Pt?this.doc.querySelector(Pt):Pt;if(!_t)throw new g.wOt(-5104,!1);return sn||(_t.textContent=""),_t}parentNode(Pt){return Pt.parentNode}nextSibling(Pt){return Pt.nextSibling}setAttribute(Pt,sn,_t,Tt){if(Tt){sn=Tt+":"+sn;const _n=ot[Tt];_n?Pt.setAttributeNS(_n,sn,_t):Pt.setAttribute(sn,_t)}else Pt.setAttribute(sn,_t)}removeAttribute(Pt,sn,_t){if(_t){const Tt=ot[_t];Tt?Pt.removeAttributeNS(Tt,sn):Pt.removeAttribute(`${_t}:${sn}`)}else Pt.removeAttribute(sn)}addClass(Pt,sn){Pt.classList.add(sn)}removeClass(Pt,sn){Pt.classList.remove(sn)}setStyle(Pt,sn,_t,Tt){Tt&(g.czy.DashCase|g.czy.Important)?Pt.style.setProperty(sn,_t,Tt&g.czy.Important?"important":""):Pt.style[sn]=_t}removeStyle(Pt,sn,_t){_t&g.czy.DashCase?Pt.style.removeProperty(sn):Pt.style[sn]=""}setProperty(Pt,sn,_t){null!=Pt&&(Pt[sn]=_t)}setValue(Pt,sn){Pt.nodeValue=sn}listen(Pt,sn,_t){if("string"==typeof Pt&&!(Pt=(0,x.QT)().getGlobalEventTarget(this.doc,Pt)))throw new Error(`Unsupported event target ${Pt} for event ${sn}`);return this.eventManager.addEventListener(Pt,sn,this.decoratePreventDefault(_t))}decoratePreventDefault(Pt){return sn=>{if("__ngUnwrap__"===sn)return Pt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Pt(sn)):Pt(sn))&&sn.preventDefault()}}}function Lt(Qt){return"TEMPLATE"===Qt.tagName&&void 0!==Qt.content}class Bt extends Dt{constructor(Pt,sn,_t,Tt,_n,Nn,bt,jt){super(Pt,_n,Nn,jt),this.sharedStylesHost=sn,this.hostEl=_t,this.shadowRoot=_t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const vn=re(Tt.id,Tt.styles);for(const gn of vn){const mt=document.createElement("style");bt&&mt.setAttribute("nonce",bt),mt.textContent=gn,this.shadowRoot.appendChild(mt)}}nodeOrShadowRoot(Pt){return Pt===this.hostEl?this.shadowRoot:Pt}appendChild(Pt,sn){return super.appendChild(this.nodeOrShadowRoot(Pt),sn)}insertBefore(Pt,sn,_t){return super.insertBefore(this.nodeOrShadowRoot(Pt),sn,_t)}removeChild(Pt,sn){return super.removeChild(null,sn)}parentNode(Pt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Pt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Xn extends Dt{constructor(Pt,sn,_t,Tt,_n,Nn,bt,jt){super(Pt,_n,Nn,bt),this.sharedStylesHost=sn,this.removeStylesOnCompDestroy=Tt,this.styles=jt?re(jt,_t.styles):_t.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class tn extends Xn{constructor(Pt,sn,_t,Tt,_n,Nn,bt,jt){const vn=Tt+"-"+_t.id;super(Pt,sn,_t,_n,Nn,bt,jt,vn),this.contentAttr=function Ce(Qt){return"_ngcontent-%COMP%".replace(it,Qt)}(vn),this.hostAttr=function $e(Qt){return"_nghost-%COMP%".replace(it,Qt)}(vn)}applyToHost(Pt){this.applyStyles(),this.setAttribute(Pt,this.hostAttr,"")}createElement(Pt,sn){const _t=super.createElement(Pt,sn);return super.setAttribute(_t,this.contentAttr,""),_t}}let Kn=(()=>{var Qt;class Pt extends Se{constructor(_t){super(_t)}supports(_t){return!0}addEventListener(_t,Tt,_n){return _t.addEventListener(Tt,_n,!1),()=>this.removeEventListener(_t,Tt,_n)}removeEventListener(_t,Tt,_n){return _t.removeEventListener(Tt,_n)}}return(Qt=Pt).\u0275fac=function(_t){return new(_t||Qt)(g.KVO(x.qQ))},Qt.\u0275prov=g.jDH({token:Qt,factory:Qt.\u0275fac}),Pt})();const lr=["alt","control","meta","shift"],ut={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ue={alt:Qt=>Qt.altKey,control:Qt=>Qt.ctrlKey,meta:Qt=>Qt.metaKey,shift:Qt=>Qt.shiftKey};let ce=(()=>{var Qt;class Pt extends Se{constructor(_t){super(_t)}supports(_t){return null!=Pt.parseEventName(_t)}addEventListener(_t,Tt,_n){const Nn=Pt.parseEventName(Tt),bt=Pt.eventCallback(Nn.fullKey,_n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,x.QT)().onAndCancel(_t,Nn.domEventName,bt))}static parseEventName(_t){const Tt=_t.toLowerCase().split("."),_n=Tt.shift();if(0===Tt.length||"keydown"!==_n&&"keyup"!==_n)return null;const Nn=Pt._normalizeKey(Tt.pop());let bt="",jt=Tt.indexOf("code");if(jt>-1&&(Tt.splice(jt,1),bt="code."),lr.forEach(gn=>{const mt=Tt.indexOf(gn);mt>-1&&(Tt.splice(mt,1),bt+=gn+".")}),bt+=Nn,0!=Tt.length||0===Nn.length)return null;const vn={};return vn.domEventName=_n,vn.fullKey=bt,vn}static matchEventFullKeyCode(_t,Tt){let _n=ut[_t.key]||_t.key,Nn="";return Tt.indexOf("code.")>-1&&(_n=_t.code,Nn="code."),!(null==_n||!_n)&&(_n=_n.toLowerCase()," "===_n?_n="space":"."===_n&&(_n="dot"),lr.forEach(bt=>{bt!==_n&&(0,Ue[bt])(_t)&&(Nn+=bt+".")}),Nn+=_n,Nn===Tt)}static eventCallback(_t,Tt,_n){return Nn=>{Pt.matchEventFullKeyCode(Nn,_t)&&_n.runGuarded(()=>Tt(Nn))}}static _normalizeKey(_t){return"esc"===_t?"escape":_t}}return(Qt=Pt).\u0275fac=function(_t){return new(_t||Qt)(g.KVO(x.qQ))},Qt.\u0275prov=g.jDH({token:Qt,factory:Qt.\u0275fac}),Pt})();function de(Qt,Pt){return(0,g.TL3)({rootComponent:Qt,...Et(Pt)})}function Et(Qt){var Pt;return{appProviders:[...Xr,...null!==(Pt=null==Qt?void 0:Qt.providers)&&void 0!==Pt?Pt:[]],platformProviders:dr}}const dr=[{provide:g.Agw,useValue:x.AJ},{provide:g.PLl,useValue:function Ft(){_e.makeCurrent()},multi:!0},{provide:x.qQ,useFactory:function Xt(){return(0,g.TL$)(document),document},deps:[]}],Xr=[{provide:g.H8p,useValue:"root"},{provide:g.zcH,useFactory:function ln(){return new g.zcH},deps:[]},{provide:wt,useClass:Kn,multi:!0,deps:[x.qQ,g.SKi,g.Agw]},{provide:wt,useClass:ce,multi:!0,deps:[x.qQ]},rt,Ne,Oe,{provide:g._9s,useExisting:rt},{provide:x.N0,useClass:Ge,deps:[]},[]];let pr=(()=>{var Qt;class Pt{constructor(_t){this._doc=_t}getTitle(){return this._doc.title}setTitle(_t){this._doc.title=_t||""}}return(Qt=Pt).\u0275fac=function(_t){return new(_t||Qt)(g.KVO(x.qQ))},Qt.\u0275prov=g.jDH({token:Qt,factory:Qt.\u0275fac,providedIn:"root"}),Pt})()},2902:(Vn,At,B)=>{"use strict";B.d(At,{nX:()=>ir,Zp:()=>q,wF:()=>$t,Z:()=>yt,Xk:()=>wn,Kp:()=>ui,b:()=>Wn,Ix:()=>Ln,Wk:()=>on,iI:()=>ac,Sd:()=>Lr,lh:()=>Ol,Sn:()=>ks});var x=B(4438),g=B(1985),H=B(8071),J=B(6648),S=B(7673),ke=B(4412),se=B(4572),Ge=B(9350),wt=B(8793),Oe=B(9030),Se=B(1203),qe=B(8810),Ne=B(983),ot=B(17),it=B(1413),Pe=B(8359),pe=B(177),vt=B(6354),ct=B(5558),Je=B(6697),Ce=B(9326),$e=B(9974),rt=B(5964),Dt=B(1397),Ke=B(1594),je=B(274),Lt=B(8141),Bt=B(9437),Xn=B(4360);var lr=B(9901);function ut(A){return A<=0?()=>Ne.w:(0,$e.N)((N,V)=>{let O=[];N.subscribe((0,Xn._)(V,X=>{O.push(X),A<O.length&&O.shift()},()=>{for(const X of O)V.next(X);V.complete()},void 0,()=>{O=null}))})}var Ue=B(3774),ce=B(3669),Ae=B(3703),Et=B(980),Mt=B(9898),Ft=B(8750),ln=B(5343),dr=B(6365),er=B(345);const wn="primary",wr=Symbol("RouteTitle");class Xr{constructor(N){this.params=N||{}}has(N){return Object.prototype.hasOwnProperty.call(this.params,N)}get(N){if(this.has(N)){const V=this.params[N];return Array.isArray(V)?V[0]:V}return null}getAll(N){if(this.has(N)){const V=this.params[N];return Array.isArray(V)?V:[V]}return[]}get keys(){return Object.keys(this.params)}}function hr(A){return new Xr(A)}function Ar(A,N,V){const O=V.path.split("/");if(O.length>A.length||"full"===V.pathMatch&&(N.hasChildren()||O.length<A.length))return null;const X={};for(let De=0;De<O.length;De++){const Re=O[De],Ht=A[De];if(":"===Re[0])X[Re.substring(1)]=Ht;else if(Re!==Ht.path)return null}return{consumed:A.slice(0,O.length),posParams:X}}function pr(A,N){const V=A?Kr(A):void 0,O=N?Kr(N):void 0;if(!V||!O||V.length!=O.length)return!1;let X;for(let De=0;De<V.length;De++)if(X=V[De],!yn(A[X],N[X]))return!1;return!0}function Kr(A){return[...Object.keys(A),...Object.getOwnPropertySymbols(A)]}function yn(A,N){if(Array.isArray(A)&&Array.isArray(N)){if(A.length!==N.length)return!1;const V=[...A].sort(),O=[...N].sort();return V.every((X,De)=>O[De]===X)}return A===N}function en(A){return A.length>0?A[A.length-1]:null}function rn(A){return function _e(A){return!!A&&(A instanceof g.c||(0,H.T)(A.lift)&&(0,H.T)(A.subscribe))}(A)?A:(0,x.jNT)(A)?(0,J.H)(Promise.resolve(A)):(0,S.of)(A)}const Kt={exact:function fr(A,N,V){if(!Er(A.segments,N.segments)||!ko(A.segments,N.segments,V)||A.numberOfChildren!==N.numberOfChildren)return!1;for(const O in N.children)if(!A.children[O]||!fr(A.children[O],N.children[O],V))return!1;return!0},subset:ho},Br={exact:function sr(A,N){return pr(A,N)},subset:function uo(A,N){return Object.keys(N).length<=Object.keys(A).length&&Object.keys(N).every(V=>yn(A[V],N[V]))},ignored:()=>!0};function Tr(A,N,V){return Kt[V.paths](A.root,N.root,V.matrixParams)&&Br[V.queryParams](A.queryParams,N.queryParams)&&!("exact"===V.fragment&&A.fragment!==N.fragment)}function ho(A,N,V){return Vr(A,N,N.segments,V)}function Vr(A,N,V,O){if(A.segments.length>V.length){const X=A.segments.slice(0,V.length);return!(!Er(X,V)||N.hasChildren()||!ko(X,V,O))}if(A.segments.length===V.length){if(!Er(A.segments,V)||!ko(A.segments,V,O))return!1;for(const X in N.children)if(!A.children[X]||!ho(A.children[X],N.children[X],O))return!1;return!0}{const X=V.slice(0,A.segments.length),De=V.slice(A.segments.length);return!!(Er(A.segments,X)&&ko(A.segments,X,O)&&A.children[wn])&&Vr(A.children[wn],N,De,O)}}function ko(A,N,V){return N.every((O,X)=>Br[V](A[X].parameters,O.parameters))}class Hr{constructor(N=new zr([],{}),V={},O=null){this.root=N,this.queryParams=V,this.fragment=O}get queryParamMap(){var N;return null!==(N=this._queryParamMap)&&void 0!==N||(this._queryParamMap=hr(this.queryParams)),this._queryParamMap}toString(){return nn.serialize(this)}}class zr{constructor(N,V){this.segments=N,this.children=V,this.parent=null,Object.values(V).forEach(O=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ir(this)}}class Jr{constructor(N,V){this.path=N,this.parameters=V}get parameterMap(){var N;return null!==(N=this._parameterMap)&&void 0!==N||(this._parameterMap=hr(this.parameters)),this._parameterMap}toString(){return _n(this)}}function Er(A,N){return A.length===N.length&&A.every((V,O)=>V.path===N[O].path)}let Lr=(()=>{var A;class N{}return(A=N).\u0275fac=function(O){return new(O||A)},A.\u0275prov=x.jDH({token:A,factory:()=>new io,providedIn:"root"}),N})();class io{parse(N){const V=new zt(N);return new Hr(V.parseRootSegment(),V.parseQueryParams(),V.parseFragment())}serialize(N){const V=`/${$r(N.root,!0)}`,O=function bt(A){const N=Object.entries(A).map(([V,O])=>Array.isArray(O)?O.map(X=>`${Qt(V)}=${Qt(X)}`).join("&"):`${Qt(V)}=${Qt(O)}`).filter(V=>V);return N.length?`?${N.join("&")}`:""}(N.queryParams);return`${V}${O}${"string"==typeof N.fragment?`#${function Pt(A){return encodeURI(A)}(N.fragment)}`:""}`}}const nn=new io;function Ir(A){return A.segments.map(N=>_n(N)).join("/")}function $r(A,N){if(!A.hasChildren())return Ir(A);if(N){const V=A.children[wn]?$r(A.children[wn],!1):"",O=[];return Object.entries(A.children).forEach(([X,De])=>{X!==wn&&O.push(`${X}:${$r(De,!1)}`)}),O.length>0?`${V}(${O.join("//")})`:V}{const V=function To(A,N){let V=[];return Object.entries(A.children).forEach(([O,X])=>{O===wn&&(V=V.concat(N(X,O)))}),Object.entries(A.children).forEach(([O,X])=>{O!==wn&&(V=V.concat(N(X,O)))}),V}(A,(O,X)=>X===wn?[$r(A.children[wn],!1)]:[`${X}:${$r(O,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[wn]?`${Ir(A)}/${V[0]}`:`${Ir(A)}/(${V.join("//")})`}}function lo(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qt(A){return lo(A).replace(/%3B/gi,";")}function sn(A){return lo(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _t(A){return decodeURIComponent(A)}function Tt(A){return _t(A.replace(/\+/g,"%20"))}function _n(A){return`${sn(A.path)}${function Nn(A){return Object.entries(A).map(([N,V])=>`;${sn(N)}=${sn(V)}`).join("")}(A.parameters)}`}const jt=/^[^\/()?;#]+/;function vn(A){const N=A.match(jt);return N?N[0]:""}const gn=/^[^\/()?;=#]+/,He=/^[^=?&#]+/,ye=/^[^&#]+/;class zt{constructor(N){this.url=N,this.remaining=N}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zr([],{}):new zr([],this.parseChildren())}parseQueryParams(){const N={};if(this.consumeOptional("?"))do{this.parseQueryParam(N)}while(this.consumeOptional("&"));return N}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const N=[];for(this.peekStartsWith("(")||N.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),N.push(this.parseSegment());let V={};this.peekStartsWith("/(")&&(this.capture("/"),V=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(N.length>0||Object.keys(V).length>0)&&(O[wn]=new zr(N,V)),O}parseSegment(){const N=vn(this.remaining);if(""===N&&this.peekStartsWith(";"))throw new x.wOt(4009,!1);return this.capture(N),new Jr(_t(N),this.parseMatrixParams())}parseMatrixParams(){const N={};for(;this.consumeOptional(";");)this.parseParam(N);return N}parseParam(N){const V=function mt(A){const N=A.match(gn);return N?N[0]:""}(this.remaining);if(!V)return;this.capture(V);let O="";if(this.consumeOptional("=")){const X=vn(this.remaining);X&&(O=X,this.capture(O))}N[_t(V)]=_t(O)}parseQueryParam(N){const V=function Ut(A){const N=A.match(He);return N?N[0]:""}(this.remaining);if(!V)return;this.capture(V);let O="";if(this.consumeOptional("=")){const Re=function le(A){const N=A.match(ye);return N?N[0]:""}(this.remaining);Re&&(O=Re,this.capture(O))}const X=Tt(V),De=Tt(O);if(N.hasOwnProperty(X)){let Re=N[X];Array.isArray(Re)||(Re=[Re],N[X]=Re),Re.push(De)}else N[X]=De}parseParens(N){const V={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=vn(this.remaining),X=this.remaining[O.length];if("/"!==X&&")"!==X&&";"!==X)throw new x.wOt(4010,!1);let De;O.indexOf(":")>-1?(De=O.slice(0,O.indexOf(":")),this.capture(De),this.capture(":")):N&&(De=wn);const Re=this.parseChildren();V[De]=1===Object.keys(Re).length?Re[wn]:new zr([],Re),this.consumeOptional("//")}return V}peekStartsWith(N){return this.remaining.startsWith(N)}consumeOptional(N){return!!this.peekStartsWith(N)&&(this.remaining=this.remaining.substring(N.length),!0)}capture(N){if(!this.consumeOptional(N))throw new x.wOt(4011,!1)}}function cn(A){return A.segments.length>0?new zr([],{[wn]:A}):A}function Zn(A){const N={};for(const[O,X]of Object.entries(A.children)){const De=Zn(X);if(O===wn&&0===De.segments.length&&De.hasChildren())for(const[Re,Ht]of Object.entries(De.children))N[Re]=Ht;else(De.segments.length>0||De.hasChildren())&&(N[O]=De)}return function qn(A){if(1===A.numberOfChildren&&A.children[wn]){const N=A.children[wn];return new zr(A.segments.concat(N.segments),N.children)}return A}(new zr(A.segments,N))}function Mn(A){return A instanceof Hr}function $o(A){var N;let V;const De=cn(function O(Re){const Ht={};for(const Jt of Re.children){const cr=O(Jt);Ht[Jt.outlet]=cr}const dn=new zr(Re.url,Ht);return Re===A&&(V=dn),dn}(A.root));return null!==(N=V)&&void 0!==N?N:De}function ei(A,N,V,O){let X=A;for(;X.parent;)X=X.parent;if(0===N.length)return Dr(X,X,X,V,O);const De=function Qn(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new co(!0,0,A);let N=0,V=!1;const O=A.reduce((X,De,Re)=>{if("object"==typeof De&&null!=De){if(De.outlets){const Ht={};return Object.entries(De.outlets).forEach(([dn,Jt])=>{Ht[dn]="string"==typeof Jt?Jt.split("/"):Jt}),[...X,{outlets:Ht}]}if(De.segmentPath)return[...X,De.segmentPath]}return"string"!=typeof De?[...X,De]:0===Re?(De.split("/").forEach((Ht,dn)=>{0==dn&&"."===Ht||(0==dn&&""===Ht?V=!0:".."===Ht?N++:""!=Ht&&X.push(Ht))}),X):[...X,De]},[]);return new co(V,N,O)}(N);if(De.toRoot())return Dr(X,X,new zr([],{}),V,O);const Re=function Qe(A,N,V){if(A.isAbsolute)return new zo(N,!0,0);if(!V)return new zo(N,!1,NaN);if(null===V.parent)return new zo(V,!0,0);const O=_o(A.commands[0])?0:1;return function an(A,N,V){let O=A,X=N,De=V;for(;De>X;){if(De-=X,O=O.parent,!O)throw new x.wOt(4005,!1);X=O.segments.length}return new zo(O,!1,X-De)}(V,V.segments.length-1+O,A.numberOfDoubleDots)}(De,X,A),Ht=Re.processChildren?Zr(Re.segmentGroup,Re.index,De.commands):_r(Re.segmentGroup,Re.index,De.commands);return Dr(X,Re.segmentGroup,Ht,V,O)}function _o(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function jo(A){return"object"==typeof A&&null!=A&&A.outlets}function Dr(A,N,V,O,X){let Re,De={};O&&Object.entries(O).forEach(([dn,Jt])=>{De[dn]=Array.isArray(Jt)?Jt.map(cr=>`${cr}`):`${Jt}`}),Re=A===N?V:Po(A,N,V);const Ht=cn(Zn(Re));return new Hr(Ht,De,X)}function Po(A,N,V){const O={};return Object.entries(A.children).forEach(([X,De])=>{O[X]=De===N?V:Po(De,N,V)}),new zr(A.segments,O)}class co{constructor(N,V,O){if(this.isAbsolute=N,this.numberOfDoubleDots=V,this.commands=O,N&&O.length>0&&_o(O[0]))throw new x.wOt(4003,!1);const X=O.find(jo);if(X&&X!==en(O))throw new x.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zo{constructor(N,V,O){this.segmentGroup=N,this.processChildren=V,this.index=O}}function _r(A,N,V){var O;if(null!==(O=A)&&void 0!==O||(A=new zr([],{})),0===A.segments.length&&A.hasChildren())return Zr(A,N,V);const X=function Te(A,N,V){let O=0,X=N;const De={match:!1,pathIndex:0,commandIndex:0};for(;X<A.segments.length;){if(O>=V.length)return De;const Re=A.segments[X],Ht=V[O];if(jo(Ht))break;const dn=`${Ht}`,Jt=O<V.length-1?V[O+1]:null;if(X>0&&void 0===dn)break;if(dn&&Jt&&"object"==typeof Jt&&void 0===Jt.outlets){if(!Le(dn,Jt,Re))return De;O+=2}else{if(!Le(dn,{},Re))return De;O++}X++}return{match:!0,pathIndex:X,commandIndex:O}}(A,N,V),De=V.slice(X.commandIndex);if(X.match&&X.pathIndex<A.segments.length){const Re=new zr(A.segments.slice(0,X.pathIndex),{});return Re.children[wn]=new zr(A.segments.slice(X.pathIndex),A.children),Zr(Re,0,De)}return X.match&&0===De.length?new zr(A.segments,{}):X.match&&!A.hasChildren()?et(A,N,V):X.match?Zr(A,0,De):et(A,N,V)}function Zr(A,N,V){if(0===V.length)return new zr(A.segments,{});{const O=function zn(A){return jo(A[0])?A[0].outlets:{[wn]:A}}(V),X={};if(Object.keys(O).some(De=>De!==wn)&&A.children[wn]&&1===A.numberOfChildren&&0===A.children[wn].segments.length){const De=Zr(A.children[wn],N,V);return new zr(A.segments,De.children)}return Object.entries(O).forEach(([De,Re])=>{"string"==typeof Re&&(Re=[Re]),null!==Re&&(X[De]=_r(A.children[De],N,Re))}),Object.entries(A.children).forEach(([De,Re])=>{void 0===O[De]&&(X[De]=Re)}),new zr(A.segments,X)}}function et(A,N,V){const O=A.segments.slice(0,N);let X=0;for(;X<V.length;){const De=V[X];if(jo(De)){const dn=Rt(De.outlets);return new zr(O,dn)}if(0===X&&_o(V[0])){O.push(new Jr(A.segments[N].path,ae(V[0]))),X++;continue}const Re=jo(De)?De.outlets[wn]:`${De}`,Ht=X<V.length-1?V[X+1]:null;Re&&Ht&&_o(Ht)?(O.push(new Jr(Re,ae(Ht))),X+=2):(O.push(new Jr(Re,{})),X++)}return new zr(O,{})}function Rt(A){const N={};return Object.entries(A).forEach(([V,O])=>{"string"==typeof O&&(O=[O]),null!==O&&(N[V]=et(new zr([],{}),0,O))}),N}function ae(A){const N={};return Object.entries(A).forEach(([V,O])=>N[V]=`${O}`),N}function Le(A,N,V){return A==V.path&&pr(N,V.parameters)}const Ie="imperative";var Xe=function(A){return A[A.NavigationStart=0]="NavigationStart",A[A.NavigationEnd=1]="NavigationEnd",A[A.NavigationCancel=2]="NavigationCancel",A[A.NavigationError=3]="NavigationError",A[A.RoutesRecognized=4]="RoutesRecognized",A[A.ResolveStart=5]="ResolveStart",A[A.ResolveEnd=6]="ResolveEnd",A[A.GuardsCheckStart=7]="GuardsCheckStart",A[A.GuardsCheckEnd=8]="GuardsCheckEnd",A[A.RouteConfigLoadStart=9]="RouteConfigLoadStart",A[A.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",A[A.ChildActivationStart=11]="ChildActivationStart",A[A.ChildActivationEnd=12]="ChildActivationEnd",A[A.ActivationStart=13]="ActivationStart",A[A.ActivationEnd=14]="ActivationEnd",A[A.Scroll=15]="Scroll",A[A.NavigationSkipped=16]="NavigationSkipped",A}(Xe||{});class nt{constructor(N,V){this.id=N,this.url=V}}class yt extends nt{constructor(N,V,O="imperative",X=null){super(N,V),this.type=Xe.NavigationStart,this.navigationTrigger=O,this.restoredState=X}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $t extends nt{constructor(N,V,O){super(N,V),this.urlAfterRedirects=O,this.type=Xe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var fn=function(A){return A[A.Redirect=0]="Redirect",A[A.SupersededByNewNavigation=1]="SupersededByNewNavigation",A[A.NoDataFromResolver=2]="NoDataFromResolver",A[A.GuardRejected=3]="GuardRejected",A}(fn||{}),Rn=function(A){return A[A.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",A[A.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",A}(Rn||{});class kn extends nt{constructor(N,V,O,X){super(N,V),this.reason=O,this.code=X,this.type=Xe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xn extends nt{constructor(N,V,O,X){super(N,V),this.reason=O,this.code=X,this.type=Xe.NavigationSkipped}}class tr extends nt{constructor(N,V,O,X){super(N,V),this.error=O,this.target=X,this.type=Xe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Cr extends nt{constructor(N,V,O,X){super(N,V),this.urlAfterRedirects=O,this.state=X,this.type=Xe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mr extends nt{constructor(N,V,O,X){super(N,V),this.urlAfterRedirects=O,this.state=X,this.type=Xe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class br extends nt{constructor(N,V,O,X,De){super(N,V),this.urlAfterRedirects=O,this.state=X,this.shouldActivate=De,this.type=Xe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class eo extends nt{constructor(N,V,O,X){super(N,V),this.urlAfterRedirects=O,this.state=X,this.type=Xe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kr extends nt{constructor(N,V,O,X){super(N,V),this.urlAfterRedirects=O,this.state=X,this.type=Xe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class po{constructor(N){this.route=N,this.type=Xe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class gr{constructor(N){this.route=N,this.type=Xe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ur{constructor(N){this.snapshot=N,this.type=Xe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ki{constructor(N){this.snapshot=N,this.type=Xe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fi{constructor(N){this.snapshot=N,this.type=Xe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ea{constructor(N){this.snapshot=N,this.type=Xe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ja{constructor(N,V,O){this.routerEvent=N,this.position=V,this.anchor=O,this.type=Xe.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Li{}class vi{constructor(N,V){this.url=N,this.navigationBehaviorOptions=V}}function ie(A){return A.outlet||wn}function U(A){var N;if(!A)return null;if(null!==(N=A.routeConfig)&&void 0!==N&&N._injector)return A.routeConfig._injector;for(let V=A.parent;V;V=V.parent){const O=V.routeConfig;if(null!=O&&O._loadedInjector)return O._loadedInjector;if(null!=O&&O._injector)return O._injector}return null}class M{get injector(){var N,V;return null!==(N=U(null===(V=this.route)||void 0===V?void 0:V.snapshot))&&void 0!==N?N:this.rootInjector}set injector(N){}constructor(N){this.rootInjector=N,this.outlet=null,this.route=null,this.children=new q(this.rootInjector),this.attachRef=null}}let q=(()=>{var A;class N{constructor(O){this.rootInjector=O,this.contexts=new Map}onChildOutletCreated(O,X){const De=this.getOrCreateContext(O);De.outlet=X,this.contexts.set(O,De)}onChildOutletDestroyed(O){const X=this.getContext(O);X&&(X.outlet=null,X.attachRef=null)}onOutletDeactivated(){const O=this.contexts;return this.contexts=new Map,O}onOutletReAttached(O){this.contexts=O}getOrCreateContext(O){let X=this.getContext(O);return X||(X=new M(this.rootInjector),this.contexts.set(O,X)),X}getContext(O){return this.contexts.get(O)||null}}return(A=N).\u0275fac=function(O){return new(O||A)(x.KVO(x.uvJ))},A.\u0275prov=x.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),N})();class Ze{constructor(N){this._root=N}get root(){return this._root.value}parent(N){const V=this.pathFromRoot(N);return V.length>1?V[V.length-2]:null}children(N){const V=st(N,this._root);return V?V.children.map(O=>O.value):[]}firstChild(N){const V=st(N,this._root);return V&&V.children.length>0?V.children[0].value:null}siblings(N){const V=Ot(N,this._root);return V.length<2?[]:V[V.length-2].children.map(X=>X.value).filter(X=>X!==N)}pathFromRoot(N){return Ot(N,this._root).map(V=>V.value)}}function st(A,N){if(A===N.value)return N;for(const V of N.children){const O=st(A,V);if(O)return O}return null}function Ot(A,N){if(A===N.value)return[N];for(const V of N.children){const O=Ot(A,V);if(O.length)return O.unshift(N),O}return[]}class kt{constructor(N,V){this.value=N,this.children=V}toString(){return`TreeNode(${this.value})`}}function Nt(A){const N={};return A&&A.children.forEach(V=>N[V.value.outlet]=V),N}class Vt extends Ze{constructor(N,V){super(N),this.snapshot=V,Oo(this,N)}toString(){return this.snapshot.toString()}}function In(A){const N=function Fn(A){const De=new Mr([],{},{},"",{},wn,A,null,{});return new Pr("",new kt(De,[]))}(A),V=new ke.t([new Jr("",{})]),O=new ke.t({}),X=new ke.t({}),De=new ke.t({}),Re=new ke.t(""),Ht=new ir(V,O,De,Re,X,wn,A,N.root);return Ht.snapshot=N.root,new Vt(new kt(Ht,[]),N)}class ir{constructor(N,V,O,X,De,Re,Ht,dn){var Jt,cr;this.urlSubject=N,this.paramsSubject=V,this.queryParamsSubject=O,this.fragmentSubject=X,this.dataSubject=De,this.outlet=Re,this.component=Ht,this._futureSnapshot=dn,this.title=null!==(Jt=null===(cr=this.dataSubject)||void 0===cr?void 0:cr.pipe((0,vt.T)(fo=>fo[wr])))&&void 0!==Jt?Jt:(0,S.of)(void 0),this.url=N,this.params=V,this.queryParams=O,this.fragment=X,this.data=De}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var N;return null!==(N=this._paramMap)&&void 0!==N||(this._paramMap=this.params.pipe((0,vt.T)(V=>hr(V)))),this._paramMap}get queryParamMap(){var N;return null!==(N=this._queryParamMap)&&void 0!==N||(this._queryParamMap=this.queryParams.pipe((0,vt.T)(V=>hr(V)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ur(A,N,V="emptyOnly"){var O;let X;const{routeConfig:De}=A;var Re;return X=null===N||"always"!==V&&""!==(null==De?void 0:De.path)&&(N.component||null!==(O=N.routeConfig)&&void 0!==O&&O.loadComponent)?{params:{...A.params},data:{...A.data},resolve:{...A.data,...null!==(Re=A._resolvedData)&&void 0!==Re?Re:{}}}:{params:{...N.params,...A.params},data:{...N.data,...A.data},resolve:{...A.data,...N.data,...null==De?void 0:De.data,...A._resolvedData}},De&&li(De)&&(X.resolve[wr]=De.title),X}class Mr{get title(){var N;return null===(N=this.data)||void 0===N?void 0:N[wr]}constructor(N,V,O,X,De,Re,Ht,dn,Jt){this.url=N,this.params=V,this.queryParams=O,this.fragment=X,this.data=De,this.outlet=Re,this.component=Ht,this.routeConfig=dn,this._resolve=Jt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var N;return null!==(N=this._paramMap)&&void 0!==N||(this._paramMap=hr(this.params)),this._paramMap}get queryParamMap(){var N;return null!==(N=this._queryParamMap)&&void 0!==N||(this._queryParamMap=hr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Pr extends Ze{constructor(N,V){super(V),this.url=N,Oo(this,V)}toString(){return Wo(this._root)}}function Oo(A,N){N.value._routerState=A,N.children.forEach(V=>Oo(A,V))}function Wo(A){const N=A.children.length>0?` { ${A.children.map(Wo).join(", ")} } `:"";return`${A.value}${N}`}function qo(A){if(A.snapshot){const N=A.snapshot,V=A._futureSnapshot;A.snapshot=V,pr(N.queryParams,V.queryParams)||A.queryParamsSubject.next(V.queryParams),N.fragment!==V.fragment&&A.fragmentSubject.next(V.fragment),pr(N.params,V.params)||A.paramsSubject.next(V.params),function xr(A,N){if(A.length!==N.length)return!1;for(let V=0;V<A.length;++V)if(!pr(A[V],N[V]))return!1;return!0}(N.url,V.url)||A.urlSubject.next(V.url),pr(N.data,V.data)||A.dataSubject.next(V.data)}else A.snapshot=A._futureSnapshot,A.dataSubject.next(A._futureSnapshot.data)}function Uo(A,N){const V=pr(A.params,N.params)&&function xo(A,N){return Er(A,N)&&A.every((V,O)=>pr(V.parameters,N[O].parameters))}(A.url,N.url);return V&&!(!A.parent!=!N.parent)&&(!A.parent||Uo(A.parent,N.parent))}function li(A){return"string"==typeof A.title||null===A.title}let la=(()=>{var A;class N{constructor(){this.activated=null,this._activatedRoute=null,this.name=wn,this.activateEvents=new x.bkB,this.deactivateEvents=new x.bkB,this.attachEvents=new x.bkB,this.detachEvents=new x.bkB,this.parentContexts=(0,x.WQX)(q),this.location=(0,x.WQX)(x.c1b),this.changeDetector=(0,x.WQX)(x.gRc),this.inputBinder=(0,x.WQX)(Ri,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(O){if(O.name){const{firstChange:X,previousValue:De}=O.name;if(X)return;this.isTrackedInParentContexts(De)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(De)),this.initializeOutletWithName()}}ngOnDestroy(){var O;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(O=this.inputBinder)||void 0===O||O.unsubscribeFromRouteData(this)}isTrackedInParentContexts(O){var X;return(null===(X=this.parentContexts.getContext(O))||void 0===X?void 0:X.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const O=this.parentContexts.getContext(this.name);null!=O&&O.route&&(O.attachRef?this.attach(O.attachRef,O.route):this.activateWith(O.route,O.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x.wOt(4012,!1);this.location.detach();const O=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(O.instance),O}attach(O,X){var De;this.activated=O,this._activatedRoute=X,this.location.insert(O.hostView),null===(De=this.inputBinder)||void 0===De||De.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(O.instance)}deactivate(){if(this.activated){const O=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(O)}}activateWith(O,X){var De;if(this.isActivated)throw new x.wOt(4013,!1);this._activatedRoute=O;const Re=this.location,dn=O.snapshot.component,Jt=this.parentContexts.getOrCreateContext(this.name).children,cr=new ci(O,Jt,Re.injector);this.activated=Re.createComponent(dn,{index:Re.length,injector:cr,environmentInjector:X}),this.changeDetector.markForCheck(),null===(De=this.inputBinder)||void 0===De||De.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(A=N).\u0275fac=function(O){return new(O||A)},A.\u0275dir=x.FsC({type:A,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[x.OA$]}),N})();class ci{__ngOutletInjector(N){return new ci(this.route,this.childContexts,N)}constructor(N,V,O){this.route=N,this.childContexts=V,this.parent=O}get(N,V){return N===ir?this.route:N===q?this.childContexts:this.parent.get(N,V)}}const Ri=new x.nKC("");let Ve=(()=>{var A;class N{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(O){this.unsubscribeFromRouteData(O),this.subscribeToRouteData(O)}unsubscribeFromRouteData(O){var X;null===(X=this.outletDataSubscriptions.get(O))||void 0===X||X.unsubscribe(),this.outletDataSubscriptions.delete(O)}subscribeToRouteData(O){const{activatedRoute:X}=O,De=(0,se.z)([X.queryParams,X.params,X.data]).pipe((0,ct.n)(([Re,Ht,dn],Jt)=>(dn={...Re,...Ht,...dn},0===Jt?(0,S.of)(dn):Promise.resolve(dn)))).subscribe(Re=>{if(!O.isActivated||!O.activatedComponentRef||O.activatedRoute!==X||null===X.component)return void this.unsubscribeFromRouteData(O);const Ht=(0,x.HJs)(X.component);if(Ht)for(const{templateName:dn}of Ht.inputs)O.activatedComponentRef.setInput(dn,Re[dn]);else this.unsubscribeFromRouteData(O)});this.outletDataSubscriptions.set(O,De)}}return(A=N).\u0275fac=function(O){return new(O||A)},A.\u0275prov=x.jDH({token:A,factory:A.\u0275fac}),N})();function Aa(A,N,V){if(V&&A.shouldReuseRoute(N.value,V.value.snapshot)){const O=V.value;O._futureSnapshot=N.value;const X=function ws(A,N,V){return N.children.map(O=>{for(const X of V.children)if(A.shouldReuseRoute(O.value,X.value.snapshot))return Aa(A,O,X);return Aa(A,O)})}(A,N,V);return new kt(O,X)}{if(A.shouldAttach(N.value)){const De=A.retrieve(N.value);if(null!==De){const Re=De.route;return Re.value._futureSnapshot=N.value,Re.children=N.children.map(Ht=>Aa(A,Ht)),Re}}const O=function Ei(A){return new ir(new ke.t(A.url),new ke.t(A.params),new ke.t(A.queryParams),new ke.t(A.fragment),new ke.t(A.data),A.outlet,A.component,A)}(N.value),X=N.children.map(De=>Aa(A,De));return new kt(O,X)}}class yi{constructor(N,V){this.redirectTo=N,this.navigationBehaviorOptions=V}}const ta="ngNavigationCancelingError";function ca(A,N){const{redirectTo:V,navigationBehaviorOptions:O}=Mn(N)?{redirectTo:N,navigationBehaviorOptions:void 0}:N,X=di(!1,fn.Redirect);return X.url=V,X.navigationBehaviorOptions=O,X}function di(A,N){const V=new Error(`NavigationCancelingError: ${A||""}`);return V[ta]=!0,V.cancellationCode=N,V}function Ua(A){return!!A&&A[ta]}class ve{constructor(N,V,O,X,De){this.routeReuseStrategy=N,this.futureState=V,this.currState=O,this.forwardEvent=X,this.inputBindingEnabled=De}activate(N){const V=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(V,O,N),qo(this.futureState.root),this.activateChildRoutes(V,O,N)}deactivateChildRoutes(N,V,O){const X=Nt(V);N.children.forEach(De=>{const Re=De.value.outlet;this.deactivateRoutes(De,X[Re],O),delete X[Re]}),Object.values(X).forEach(De=>{this.deactivateRouteAndItsChildren(De,O)})}deactivateRoutes(N,V,O){const X=N.value,De=V?V.value:null;if(X===De)if(X.component){const Re=O.getContext(X.outlet);Re&&this.deactivateChildRoutes(N,V,Re.children)}else this.deactivateChildRoutes(N,V,O);else De&&this.deactivateRouteAndItsChildren(V,O)}deactivateRouteAndItsChildren(N,V){N.value.component&&this.routeReuseStrategy.shouldDetach(N.value.snapshot)?this.detachAndStoreRouteSubtree(N,V):this.deactivateRouteAndOutlet(N,V)}detachAndStoreRouteSubtree(N,V){const O=V.getContext(N.value.outlet),X=O&&N.value.component?O.children:V,De=Nt(N);for(const Re of Object.values(De))this.deactivateRouteAndItsChildren(Re,X);if(O&&O.outlet){const Re=O.outlet.detach(),Ht=O.children.onOutletDeactivated();this.routeReuseStrategy.store(N.value.snapshot,{componentRef:Re,route:N,contexts:Ht})}}deactivateRouteAndOutlet(N,V){const O=V.getContext(N.value.outlet),X=O&&N.value.component?O.children:V,De=Nt(N);for(const Re of Object.values(De))this.deactivateRouteAndItsChildren(Re,X);O&&(O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated()),O.attachRef=null,O.route=null)}activateChildRoutes(N,V,O){const X=Nt(V);N.children.forEach(De=>{this.activateRoutes(De,X[De.value.outlet],O),this.forwardEvent(new ea(De.value.snapshot))}),N.children.length&&this.forwardEvent(new Ki(N.value.snapshot))}activateRoutes(N,V,O){const X=N.value,De=V?V.value:null;if(qo(X),X===De)if(X.component){const Re=O.getOrCreateContext(X.outlet);this.activateChildRoutes(N,V,Re.children)}else this.activateChildRoutes(N,V,O);else if(X.component){const Re=O.getOrCreateContext(X.outlet);if(this.routeReuseStrategy.shouldAttach(X.snapshot)){const Ht=this.routeReuseStrategy.retrieve(X.snapshot);this.routeReuseStrategy.store(X.snapshot,null),Re.children.onOutletReAttached(Ht.contexts),Re.attachRef=Ht.componentRef,Re.route=Ht.route.value,Re.outlet&&Re.outlet.attach(Ht.componentRef,Ht.route.value),qo(Ht.route.value),this.activateChildRoutes(N,null,Re.children)}else Re.attachRef=null,Re.route=X,Re.outlet&&Re.outlet.activateWith(X,Re.injector),this.activateChildRoutes(N,null,Re.children)}else this.activateChildRoutes(N,null,O)}}class Fe{constructor(N){this.path=N,this.route=this.path[this.path.length-1]}}class lt{constructor(N,V){this.component=N,this.route=V}}function dt(A,N,V){const O=A._root;return Yt(O,N?N._root:null,V,[O.value])}function St(A,N){const V=Symbol(),O=N.get(A,V);return O===V?"function"!=typeof A||(0,x.LfX)(A)?N.get(A):A:O}function Yt(A,N,V,O,X={canDeactivateChecks:[],canActivateChecks:[]}){const De=Nt(N);return A.children.forEach(Re=>{(function hn(A,N,V,O,X={canDeactivateChecks:[],canActivateChecks:[]}){const De=A.value,Re=N?N.value:null,Ht=V?V.getContext(A.value.outlet):null;if(Re&&De.routeConfig===Re.routeConfig){const dn=function Un(A,N,V){if("function"==typeof V)return V(A,N);switch(V){case"pathParamsChange":return!Er(A.url,N.url);case"pathParamsOrQueryParamsChange":return!Er(A.url,N.url)||!pr(A.queryParams,N.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Uo(A,N)||!pr(A.queryParams,N.queryParams);default:return!Uo(A,N)}}(Re,De,De.routeConfig.runGuardsAndResolvers);dn?X.canActivateChecks.push(new Fe(O)):(De.data=Re.data,De._resolvedData=Re._resolvedData),Yt(A,N,De.component?Ht?Ht.children:null:V,O,X),dn&&Ht&&Ht.outlet&&Ht.outlet.isActivated&&X.canDeactivateChecks.push(new lt(Ht.outlet.component,Re))}else Re&&Hn(N,Ht,X),X.canActivateChecks.push(new Fe(O)),Yt(A,null,De.component?Ht?Ht.children:null:V,O,X)})(Re,De[Re.value.outlet],V,O.concat([Re.value]),X),delete De[Re.value.outlet]}),Object.entries(De).forEach(([Re,Ht])=>Hn(Ht,V.getContext(Re),X)),X}function Hn(A,N,V){const O=Nt(A),X=A.value;Object.entries(O).forEach(([De,Re])=>{Hn(Re,X.component?N?N.children.getContext(De):null:N,V)}),V.canDeactivateChecks.push(new lt(X.component&&N&&N.outlet&&N.outlet.isActivated?N.outlet.component:null,X))}function yr(A){return"function"==typeof A}function ua(A){return A instanceof Ge.G||"EmptyError"===(null==A?void 0:A.name)}const Ui=Symbol("INITIAL_VALUE");function No(){return(0,ct.n)(A=>(0,se.z)(A.map(N=>N.pipe((0,Je.s)(1),function re(...A){const N=(0,Ce.lI)(A);return(0,$e.N)((V,O)=>{(N?(0,wt.x)(A,V,N):(0,wt.x)(A,V)).subscribe(O)})}(Ui)))).pipe((0,vt.T)(N=>{for(const V of N)if(!0!==V){if(V===Ui)return Ui;if(!1===V||hi(V))return V}return!0}),(0,rt.p)(N=>N!==Ui),(0,Je.s)(1)))}function hi(A){return Mn(A)||A instanceof yi}function xi(A){return(0,Se.F)((0,Lt.M)(N=>{if("boolean"!=typeof N)throw ca(0,N)}),(0,vt.T)(N=>!0===N))}class Ta{constructor(N){this.segmentGroup=N||null}}class na extends Error{constructor(N){super(),this.urlTree=N}}function Ma(A){return(0,qe.$)(new Ta(A))}class ar{constructor(N,V){this.urlSerializer=N,this.urlTree=V}lineralizeSegments(N,V){let O=[],X=V.root;for(;;){if(O=O.concat(X.segments),0===X.numberOfChildren)return(0,S.of)(O);if(X.numberOfChildren>1||!X.children[wn])return(0,qe.$)(new x.wOt(4e3,!1));X=X.children[wn]}}applyRedirectCommands(N,V,O,X,De){if("string"!=typeof V){const Ht=V,{queryParams:dn,fragment:Jt,routeConfig:cr,url:fo,outlet:ii,params:So,data:$i,title:Ha}=X,es=(0,x.N4e)(De,()=>Ht({params:So,data:$i,queryParams:dn,fragment:Jt,routeConfig:cr,url:fo,outlet:ii,title:Ha}));if(es instanceof Hr)throw new na(es);V=es}const Re=this.applyRedirectCreateUrlTree(V,this.urlSerializer.parse(V),N,O);if("/"===V[0])throw new na(Re);return Re}applyRedirectCreateUrlTree(N,V,O,X){const De=this.createSegmentGroup(N,V.root,O,X);return new Hr(De,this.createQueryParams(V.queryParams,this.urlTree.queryParams),V.fragment)}createQueryParams(N,V){const O={};return Object.entries(N).forEach(([X,De])=>{if("string"==typeof De&&":"===De[0]){const Ht=De.substring(1);O[X]=V[Ht]}else O[X]=De}),O}createSegmentGroup(N,V,O,X){const De=this.createSegments(N,V.segments,O,X);let Re={};return Object.entries(V.children).forEach(([Ht,dn])=>{Re[Ht]=this.createSegmentGroup(N,dn,O,X)}),new zr(De,Re)}createSegments(N,V,O,X){return V.map(De=>":"===De.path[0]?this.findPosParam(N,De,X):this.findOrReturn(De,O))}findPosParam(N,V,O){const X=O[V.path.substring(1)];if(!X)throw new x.wOt(4001,!1);return X}findOrReturn(N,V){let O=0;for(const X of V){if(X.path===N.path)return V.splice(O),X;O++}return N}}const Zi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vi(A,N,V,O,X){const De=_s(A,N,V);return De.matched?(O=function qi(A,N){var V;return A.providers&&!A._injector&&(A._injector=(0,x.Ol2)(A.providers,N,`Route: ${A.path}`)),null!==(V=A._injector)&&void 0!==V?V:N}(N,O),function da(A,N,V,O){const X=N.canMatch;if(!X||0===X.length)return(0,S.of)(!0);const De=X.map(Re=>{const Ht=St(Re,A);return rn(function ao(A){return A&&yr(A.canMatch)}(Ht)?Ht.canMatch(N,V):(0,x.N4e)(A,()=>Ht(N,V)))});return(0,S.of)(De).pipe(No(),xi())}(O,N,V).pipe((0,vt.T)(Re=>!0===Re?De:{...Zi}))):(0,S.of)(De)}function _s(A,N,V){var O,X;if("**"===N.path)return function ha(A){return{matched:!0,parameters:A.length>0?en(A).parameters:{},consumedSegments:A,remainingSegments:[],positionalParamSegments:{}}}(V);if(""===N.path)return"full"===N.pathMatch&&(A.hasChildren()||V.length>0)?{...Zi}:{matched:!0,consumedSegments:[],remainingSegments:V,parameters:{},positionalParamSegments:{}};const Re=(N.matcher||Ar)(V,A,N);if(!Re)return{...Zi};const Ht={};Object.entries(null!==(O=Re.posParams)&&void 0!==O?O:{}).forEach(([Jt,cr])=>{Ht[Jt]=cr.path});const dn=Re.consumed.length>0?{...Ht,...Re.consumed[Re.consumed.length-1].parameters}:Ht;return{matched:!0,consumedSegments:Re.consumed,remainingSegments:V.slice(Re.consumed.length),parameters:dn,positionalParamSegments:null!==(X=Re.posParams)&&void 0!==X?X:{}}}function Jl(A,N,V,O){return V.length>0&&function ps(A,N,V){return V.some(O=>Hs(A,N,O)&&ie(O)!==wn)}(A,V,O)?{segmentGroup:new zr(N,os(O,new zr(V,A.children))),slicedSegments:[]}:0===V.length&&function mu(A,N,V){return V.some(O=>Hs(A,N,O))}(A,V,O)?{segmentGroup:new zr(A.segments,ec(A,V,O,A.children)),slicedSegments:V}:{segmentGroup:new zr(A.segments,A.children),slicedSegments:V}}function ec(A,N,V,O){const X={};for(const De of V)if(Hs(A,N,De)&&!O[ie(De)]){const Re=new zr([],{});X[ie(De)]=Re}return{...O,...X}}function os(A,N){const V={};V[wn]=N;for(const O of A)if(""===O.path&&ie(O)!==wn){const X=new zr([],{});V[ie(O)]=X}return V}function Hs(A,N,V){return(!(A.hasChildren()||N.length>0)||"full"!==V.pathMatch)&&""===V.path}class Os{}class ud{constructor(N,V,O,X,De,Re,Ht){this.injector=N,this.configLoader=V,this.rootComponentType=O,this.config=X,this.urlTree=De,this.paramsInheritanceStrategy=Re,this.urlSerializer=Ht,this.applyRedirects=new ar(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(N){return new x.wOt(4002,`'${N.segmentGroup}'`)}recognize(){const N=Jl(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(N).pipe((0,vt.T)(({children:V,rootSnapshot:O})=>{const X=new kt(O,V),De=new Pr("",X),Re=function Gr(A,N,V=null,O=null){return ei($o(A),N,V,O)}(O,[],this.urlTree.queryParams,this.urlTree.fragment);return Re.queryParams=this.urlTree.queryParams,De.url=this.urlSerializer.serialize(Re),{state:De,tree:Re}}))}match(N){const V=new Mr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),wn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,N,wn,V).pipe((0,vt.T)(O=>({children:O,rootSnapshot:V})),(0,Bt.W)(O=>{if(O instanceof na)return this.urlTree=O.urlTree,this.match(O.urlTree.root);throw O instanceof Ta?this.noMatchError(O):O}))}processSegmentGroup(N,V,O,X,De){return 0===O.segments.length&&O.hasChildren()?this.processChildren(N,V,O,De):this.processSegment(N,V,O,O.segments,X,!0,De).pipe((0,vt.T)(Re=>Re instanceof kt?[Re]:[]))}processChildren(N,V,O,X){const De=[];for(const Re of Object.keys(O.children))"primary"===Re?De.unshift(Re):De.push(Re);return(0,J.H)(De).pipe((0,je.H)(Re=>{const Ht=O.children[Re],dn=function Me(A,N){const V=A.filter(O=>ie(O)===N);return V.push(...A.filter(O=>ie(O)!==N)),V}(V,Re);return this.processSegmentGroup(N,dn,Ht,Re,X)}),function Kn(A,N){return(0,$e.N)(function tn(A,N,V,O,X){return(De,Re)=>{let Ht=V,dn=N,Jt=0;De.subscribe((0,Xn._)(Re,cr=>{const fo=Jt++;dn=Ht?A(dn,cr,fo):(Ht=!0,cr),O&&Re.next(dn)},X&&(()=>{Ht&&Re.next(dn),Re.complete()})))}}(A,N,arguments.length>=2,!0))}((Re,Ht)=>(Re.push(...Ht),Re)),(0,lr.U)(null),function de(A,N){const V=arguments.length>=2;return O=>O.pipe(A?(0,rt.p)((X,De)=>A(X,De,O)):ce.D,ut(1),V?(0,lr.U)(N):(0,Ue.v)(()=>new Ge.G))}(),(0,Dt.Z)(Re=>{if(null===Re)return Ma(O);const Ht=Tl(Re);return function tc(A){A.sort((N,V)=>N.value.outlet===wn?-1:V.value.outlet===wn?1:N.value.outlet.localeCompare(V.value.outlet))}(Ht),(0,S.of)(Ht)}))}processSegment(N,V,O,X,De,Re,Ht){return(0,J.H)(V).pipe((0,je.H)(dn=>{var Jt;return this.processSegmentAgainstRoute(null!==(Jt=dn._injector)&&void 0!==Jt?Jt:N,V,dn,O,X,De,Re,Ht).pipe((0,Bt.W)(cr=>{if(cr instanceof Ta)return(0,S.of)(null);throw cr}))}),(0,Ke.$)(dn=>!!dn),(0,Bt.W)(dn=>{if(ua(dn))return function fa(A,N,V){return 0===N.length&&!A.children[V]}(O,X,De)?(0,S.of)(new Os):Ma(O);throw dn}))}processSegmentAgainstRoute(N,V,O,X,De,Re,Ht,dn){return ie(O)===Re||Re!==wn&&Hs(X,De,O)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(N,X,O,De,Re,dn):this.allowRedirects&&Ht?this.expandSegmentAgainstRouteUsingRedirect(N,X,V,O,De,Re,dn):Ma(X):Ma(X)}expandSegmentAgainstRouteUsingRedirect(N,V,O,X,De,Re,Ht){var dn,Jt;const{matched:cr,parameters:fo,consumedSegments:ii,positionalParamSegments:So,remainingSegments:$i}=_s(V,X,De);if(!cr)return Ma(V);"string"==typeof X.redirectTo&&"/"===X.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Ha=new Mr(De,fo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ml(X),ie(X),null!==(dn=null!==(Jt=X.component)&&void 0!==Jt?Jt:X._loadedComponent)&&void 0!==dn?dn:null,X,Hi(X)),es=ur(Ha,Ht,this.paramsInheritanceStrategy);Ha.params=Object.freeze(es.params),Ha.data=Object.freeze(es.data);const lc=this.applyRedirects.applyRedirectCommands(ii,X.redirectTo,So,Ha,N);return this.applyRedirects.lineralizeSegments(X,lc).pipe((0,Dt.Z)(ss=>this.processSegment(N,O,V,ss.concat($i),Re,!1,Ht)))}matchSegmentAgainstRoute(N,V,O,X,De,Re){const Ht=Vi(V,O,X,N);return"**"===O.path&&(V.children={}),Ht.pipe((0,ct.n)(dn=>{var Jt;return dn.matched?(N=null!==(Jt=O._injector)&&void 0!==Jt?Jt:N,this.getChildConfig(N,O,X).pipe((0,ct.n)(({routes:cr})=>{var fo,ii,So;const $i=null!==(fo=O._loadedInjector)&&void 0!==fo?fo:N,{parameters:Ha,consumedSegments:es,remainingSegments:lc}=dn,ss=new Mr(es,Ha,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ml(O),ie(O),null!==(ii=null!==(So=O.component)&&void 0!==So?So:O._loadedComponent)&&void 0!==ii?ii:null,O,Hi(O)),Ks=ur(ss,Re,this.paramsInheritanceStrategy);ss.params=Object.freeze(Ks.params),ss.data=Object.freeze(Ks.data);const{segmentGroup:Fl,slicedSegments:Nc}=Jl(V,es,lc,cr);if(0===Nc.length&&Fl.hasChildren())return this.processChildren($i,cr,Fl,ss).pipe((0,vt.T)(ki=>new kt(ss,ki)));if(0===cr.length&&0===Nc.length)return(0,S.of)(new kt(ss,[]));const Fc=ie(O)===De;return this.processSegment($i,cr,Fl,Nc,Fc?wn:De,!0,ss).pipe((0,vt.T)(ki=>new kt(ss,ki instanceof kt?[ki]:[])))}))):Ma(V)}))}getChildConfig(N,V,O){return V.children?(0,S.of)({routes:V.children,injector:N}):V.loadChildren?void 0!==V._loadedRoutes?(0,S.of)({routes:V._loadedRoutes,injector:V._loadedInjector}):function Rr(A,N,V,O){const X=N.canLoad;if(void 0===X||0===X.length)return(0,S.of)(!0);const De=X.map(Re=>{const Ht=St(Re,A);return rn(function Vo(A){return A&&yr(A.canLoad)}(Ht)?Ht.canLoad(N,V):(0,x.N4e)(A,()=>Ht(N,V)))});return(0,S.of)(De).pipe(No(),xi())}(N,V,O).pipe((0,Dt.Z)(X=>X?this.configLoader.loadChildren(N,V).pipe((0,Lt.M)(De=>{V._loadedRoutes=De.routes,V._loadedInjector=De.injector})):function pu(){return(0,qe.$)(di(!1,fn.GuardRejected))}())):(0,S.of)({routes:[],injector:N})}}function gu(A){const N=A.value.routeConfig;return N&&""===N.path}function Tl(A){const N=[],V=new Set;for(const O of A){if(!gu(O)){N.push(O);continue}const X=N.find(De=>O.value.routeConfig===De.value.routeConfig);void 0!==X?(X.children.push(...O.children),V.add(X)):N.push(O)}for(const O of V){const X=Tl(O.children);N.push(new kt(O.value,X))}return N.filter(O=>!V.has(O))}function Ml(A){return A.data||{}}function Hi(A){return A.resolve||{}}function pa(A){const N=A.children.map(V=>pa(V)).flat();return[A,...N]}function Qa(A){return(0,ct.n)(N=>{const V=A(N);return V?(0,J.H)(V).pipe((0,vt.T)(()=>N)):(0,S.of)(N)})}let Ns=(()=>{var A;class N{buildTitle(O){let X,De=O.root;for(;void 0!==De;){var Re;X=null!==(Re=this.getResolvedTitleForRoute(De))&&void 0!==Re?Re:X,De=De.children.find(Ht=>Ht.outlet===wn)}return X}getResolvedTitleForRoute(O){return O.data[wr]}}return(A=N).\u0275fac=function(O){return new(O||A)},A.\u0275prov=x.jDH({token:A,factory:()=>(0,x.WQX)(Rl),providedIn:"root"}),N})(),Rl=(()=>{var A;class N extends Ns{constructor(O){super(),this.title=O}updateTitle(O){const X=this.buildTitle(O);void 0!==X&&this.title.setTitle(X)}}return(A=N).\u0275fac=function(O){return new(O||A)(x.KVO(er.hE))},A.\u0275prov=x.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),N})();const Ws=new x.nKC("",{providedIn:"root",factory:()=>({})});let rc=(()=>{var A;class N{}return(A=N).\u0275fac=function(O){return new(O||A)},A.\u0275cmp=x.VBU({type:A,selectors:[["ng-component"]],standalone:!0,features:[x.aNF],decls:1,vars:0,template:function(O,X){1&O&&x.nrm(0,"router-outlet")},dependencies:[la],encapsulation:2}),N})();function oc(A){const N=A.children&&A.children.map(oc),V=N?{...A,children:N}:{...A};return!V.component&&!V.loadComponent&&(N||V.loadChildren)&&V.outlet&&V.outlet!==wn&&(V.component=rc),V}const is=new x.nKC("");let Pl=(()=>{var A;class N{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,x.WQX)(x.Ql9)}loadComponent(O){if(this.componentLoaders.get(O))return this.componentLoaders.get(O);if(O._loadedComponent)return(0,S.of)(O._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(O);const X=rn(O.loadComponent()).pipe((0,vt.T)(xa),(0,Lt.M)(Re=>{this.onLoadEndListener&&this.onLoadEndListener(O),O._loadedComponent=Re}),(0,Et.j)(()=>{this.componentLoaders.delete(O)})),De=new ot.G(X,()=>new it.B).pipe((0,Mt.B)());return this.componentLoaders.set(O,De),De}loadChildren(O,X){if(this.childrenLoaders.get(X))return this.childrenLoaders.get(X);if(X._loadedRoutes)return(0,S.of)({routes:X._loadedRoutes,injector:X._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(X);const Re=function Rc(A,N,V,O){return rn(A.loadChildren()).pipe((0,vt.T)(xa),(0,Dt.Z)(X=>X instanceof x.Co$||Array.isArray(X)?(0,S.of)(X):(0,J.H)(N.compileModuleAsync(X))),(0,vt.T)(X=>{O&&O(A);let De,Re,Ht=!1;return Array.isArray(X)?(Re=X,!0):(De=X.create(V).injector,Re=De.get(is,[],{optional:!0,self:!0}).flat()),{routes:Re.map(oc),injector:De}}))}(X,this.compiler,O,this.onLoadEndListener).pipe((0,Et.j)(()=>{this.childrenLoaders.delete(X)})),Ht=new ot.G(Re,()=>new it.B).pipe((0,Mt.B)());return this.childrenLoaders.set(X,Ht),Ht}}return(A=N).\u0275fac=function(O){return new(O||A)},A.\u0275prov=x.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),N})();function xa(A){return function ya(A){return A&&"object"==typeof A&&"default"in A}(A)?A.default:A}let Cs=(()=>{var A;class N{}return(A=N).\u0275fac=function(O){return new(O||A)},A.\u0275prov=x.jDH({token:A,factory:()=>(0,x.WQX)(bl),providedIn:"root"}),N})(),bl=(()=>{var A;class N{shouldProcessUrl(O){return!0}extract(O){return O}merge(O,X){return O}}return(A=N).\u0275fac=function(O){return new(O||A)},A.\u0275prov=x.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),N})();const P=new x.nKC(""),ee=new x.nKC("");function Ye(A,N,V){const O=A.get(ee),X=A.get(pe.qQ);return A.get(x.SKi).runOutsideAngular(()=>{if(!X.startViewTransition||O.skipNextTransition)return O.skipNextTransition=!1,new Promise(Jt=>setTimeout(Jt));let De;const Re=new Promise(Jt=>{De=Jt}),Ht=X.startViewTransition(()=>(De(),function K(A){return new Promise(N=>{(0,x.mal)({read:()=>setTimeout(N)},{injector:A})})}(A))),{onViewTransitionCreated:dn}=O;return dn&&(0,x.N4e)(A,()=>dn({transition:Ht,from:N,to:V})),Re})}const Ee=new x.nKC("");let at=(()=>{var A;class N{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new it.B,this.transitionAbortSubject=new it.B,this.configLoader=(0,x.WQX)(Pl),this.environmentInjector=(0,x.WQX)(x.uvJ),this.urlSerializer=(0,x.WQX)(Lr),this.rootContexts=(0,x.WQX)(q),this.location=(0,x.WQX)(pe.aZ),this.inputBindingEnabled=null!==(0,x.WQX)(Ri,{optional:!0}),this.titleStrategy=(0,x.WQX)(Ns),this.options=(0,x.WQX)(Ws,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,x.WQX)(Cs),this.createViewTransition=(0,x.WQX)(P,{optional:!0}),this.navigationErrorHandler=(0,x.WQX)(Ee,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,S.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=De=>this.events.next(new gr(De)),this.configLoader.onLoadStartListener=De=>this.events.next(new po(De))}complete(){var O;null===(O=this.transitions)||void 0===O||O.complete()}handleNavigationRequest(O){var X;const De=++this.navigationId;null===(X=this.transitions)||void 0===X||X.next({...this.transitions.value,...O,id:De})}setupNavigations(O,X,De){return this.transitions=new ke.t({id:0,currentUrlTree:X,currentRawUrl:X,extractedUrl:this.urlHandlingStrategy.extract(X),urlAfterRedirects:this.urlHandlingStrategy.extract(X),rawUrl:X,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ie,restoredState:null,currentSnapshot:De.snapshot,targetSnapshot:null,currentRouterState:De,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,rt.p)(Re=>0!==Re.id),(0,vt.T)(Re=>({...Re,extractedUrl:this.urlHandlingStrategy.extract(Re.rawUrl)})),(0,ct.n)(Re=>{let Ht=!1,dn=!1;return(0,S.of)(Re).pipe((0,ct.n)(Jt=>{var cr;if(this.navigationId>Re.id)return this.cancelNavigationTransition(Re,"",fn.SupersededByNewNavigation),Ne.w;this.currentTransition=Re,this.currentNavigation={id:Jt.id,initialUrl:Jt.rawUrl,extractedUrl:Jt.extractedUrl,targetBrowserUrl:"string"==typeof Jt.extras.browserUrl?this.urlSerializer.parse(Jt.extras.browserUrl):Jt.extras.browserUrl,trigger:Jt.source,extras:Jt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const fo=!O.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),ii=null!==(cr=Jt.extras.onSameUrlNavigation)&&void 0!==cr?cr:O.onSameUrlNavigation;if(!fo&&"reload"!==ii){const So="";return this.events.next(new xn(Jt.id,this.urlSerializer.serialize(Jt.rawUrl),So,Rn.IgnoredSameUrlNavigation)),Jt.resolve(!1),Ne.w}if(this.urlHandlingStrategy.shouldProcessUrl(Jt.rawUrl))return(0,S.of)(Jt).pipe((0,ct.n)(So=>{var $i,Ha;const es=null===($i=this.transitions)||void 0===$i?void 0:$i.getValue();return this.events.next(new yt(So.id,this.urlSerializer.serialize(So.extractedUrl),So.source,So.restoredState)),es!==(null===(Ha=this.transitions)||void 0===Ha?void 0:Ha.getValue())?Ne.w:Promise.resolve(So)}),function vu(A,N,V,O,X,De){return(0,Dt.Z)(Re=>function cd(A,N,V,O,X,De,Re="emptyOnly"){return new ud(A,N,V,O,X,Re,De).recognize()}(A,N,V,O,Re.extractedUrl,X,De).pipe((0,vt.T)(({state:Ht,tree:dn})=>({...Re,targetSnapshot:Ht,urlAfterRedirects:dn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,O.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Lt.M)(So=>{Re.targetSnapshot=So.targetSnapshot,Re.urlAfterRedirects=So.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:So.urlAfterRedirects};const $i=new Cr(So.id,this.urlSerializer.serialize(So.extractedUrl),this.urlSerializer.serialize(So.urlAfterRedirects),So.targetSnapshot);this.events.next($i)}));if(fo&&this.urlHandlingStrategy.shouldProcessUrl(Jt.currentRawUrl)){const{id:So,extractedUrl:$i,source:Ha,restoredState:es,extras:lc}=Jt,ss=new yt(So,this.urlSerializer.serialize($i),Ha,es);this.events.next(ss);const Ks=In(this.rootComponentType).snapshot;return this.currentTransition=Re={...Jt,targetSnapshot:Ks,urlAfterRedirects:$i,extras:{...lc,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=$i,(0,S.of)(Re)}{const So="";return this.events.next(new xn(Jt.id,this.urlSerializer.serialize(Jt.extractedUrl),So,Rn.IgnoredByUrlHandlingStrategy)),Jt.resolve(!1),Ne.w}}),(0,Lt.M)(Jt=>{const cr=new mr(Jt.id,this.urlSerializer.serialize(Jt.extractedUrl),this.urlSerializer.serialize(Jt.urlAfterRedirects),Jt.targetSnapshot);this.events.next(cr)}),(0,vt.T)(Jt=>(this.currentTransition=Re={...Jt,guards:dt(Jt.targetSnapshot,Jt.currentSnapshot,this.rootContexts)},Re)),function Sc(A,N){return(0,Dt.Z)(V=>{const{targetSnapshot:O,currentSnapshot:X,guards:{canActivateChecks:De,canDeactivateChecks:Re}}=V;return 0===Re.length&&0===De.length?(0,S.of)({...V,guardsResult:!0}):function Ql(A,N,V,O){return(0,J.H)(A).pipe((0,Dt.Z)(X=>function Pn(A,N,V,O,X){const De=N&&N.routeConfig?N.routeConfig.canDeactivate:null;if(!De||0===De.length)return(0,S.of)(!0);const Re=De.map(Ht=>{var dn;const Jt=null!==(dn=U(N))&&void 0!==dn?dn:X,cr=St(Ht,Jt);return rn(function Eo(A){return A&&yr(A.canDeactivate)}(cr)?cr.canDeactivate(A,N,V,O):(0,x.N4e)(Jt,()=>cr(A,N,V,O))).pipe((0,Ke.$)())});return(0,S.of)(Re).pipe(No())}(X.component,X.route,V,N,O)),(0,Ke.$)(X=>!0!==X,!0))}(Re,O,X,A).pipe((0,Dt.Z)(Ht=>Ht&&function Or(A){return"boolean"==typeof A}(Ht)?function oe(A,N,V,O){return(0,J.H)(N).pipe((0,je.H)(X=>(0,wt.x)(function ge(A,N){return null!==A&&N&&N(new Ur(A)),(0,S.of)(!0)}(X.route.parent,O),function j(A,N){return null!==A&&N&&N(new Fi(A)),(0,S.of)(!0)}(X.route,O),function Be(A,N,V){const O=N[N.length-1],De=N.slice(0,N.length-1).reverse().map(Re=>function qt(A){const N=A.routeConfig?A.routeConfig.canActivateChild:null;return N&&0!==N.length?{node:A,guards:N}:null}(Re)).filter(Re=>null!==Re).map(Re=>(0,Oe.v)(()=>{const Ht=Re.guards.map(dn=>{var Jt;const cr=null!==(Jt=U(Re.node))&&void 0!==Jt?Jt:V,fo=St(dn,cr);return rn(function mo(A){return A&&yr(A.canActivateChild)}(fo)?fo.canActivateChild(O,A):(0,x.N4e)(cr,()=>fo(O,A))).pipe((0,Ke.$)())});return(0,S.of)(Ht).pipe(No())}));return(0,S.of)(De).pipe(No())}(A,X.path,V),function Y(A,N,V){const O=N.routeConfig?N.routeConfig.canActivate:null;if(!O||0===O.length)return(0,S.of)(!0);const X=O.map(De=>(0,Oe.v)(()=>{var Re;const Ht=null!==(Re=U(N))&&void 0!==Re?Re:V,dn=St(De,Ht);return rn(function Qo(A){return A&&yr(A.canActivate)}(dn)?dn.canActivate(N,A):(0,x.N4e)(Ht,()=>dn(N,A))).pipe((0,Ke.$)())}));return(0,S.of)(X).pipe(No())}(A,X.route,V))),(0,Ke.$)(X=>!0!==X,!0))}(O,De,A,N):(0,S.of)(Ht)),(0,vt.T)(Ht=>({...V,guardsResult:Ht})))})}(this.environmentInjector,Jt=>this.events.next(Jt)),(0,Lt.M)(Jt=>{if(Re.guardsResult=Jt.guardsResult,Jt.guardsResult&&"boolean"!=typeof Jt.guardsResult)throw ca(0,Jt.guardsResult);const cr=new br(Jt.id,this.urlSerializer.serialize(Jt.extractedUrl),this.urlSerializer.serialize(Jt.urlAfterRedirects),Jt.targetSnapshot,!!Jt.guardsResult);this.events.next(cr)}),(0,rt.p)(Jt=>!!Jt.guardsResult||(this.cancelNavigationTransition(Jt,"",fn.GuardRejected),!1)),Qa(Jt=>{if(Jt.guards.canActivateChecks.length)return(0,S.of)(Jt).pipe((0,Lt.M)(cr=>{const fo=new eo(cr.id,this.urlSerializer.serialize(cr.extractedUrl),this.urlSerializer.serialize(cr.urlAfterRedirects),cr.targetSnapshot);this.events.next(fo)}),(0,ct.n)(cr=>{let fo=!1;return(0,S.of)(cr).pipe(function nc(A,N){return(0,Dt.Z)(V=>{const{targetSnapshot:O,guards:{canActivateChecks:X}}=V;if(!X.length)return(0,S.of)(V);const De=new Set(X.map(dn=>dn.route)),Re=new Set;for(const dn of De)if(!Re.has(dn))for(const Jt of pa(dn))Re.add(Jt);let Ht=0;return(0,J.H)(Re).pipe((0,je.H)(dn=>De.has(dn)?function ol(A,N,V,O){const X=A.routeConfig,De=A._resolve;return void 0!==(null==X?void 0:X.title)&&!li(X)&&(De[wr]=X.title),function Mc(A,N,V,O){const X=Kr(A);if(0===X.length)return(0,S.of)({});const De={};return(0,J.H)(X).pipe((0,Dt.Z)(Re=>function Wi(A,N,V,O){var X;const De=null!==(X=U(N))&&void 0!==X?X:O,Re=St(A,De);return rn(Re.resolve?Re.resolve(N,V):(0,x.N4e)(De,()=>Re(N,V)))}(A[Re],N,V,O).pipe((0,Ke.$)(),(0,Lt.M)(Ht=>{if(Ht instanceof yi)throw ca(new io,Ht);De[Re]=Ht}))),ut(1),(0,Ae.u)(De),(0,Bt.W)(Re=>ua(Re)?Ne.w:(0,qe.$)(Re)))}(De,A,N,O).pipe((0,vt.T)(Re=>(A._resolvedData=Re,A.data=ur(A,A.parent,V).resolve,null)))}(dn,O,A,N):(dn.data=ur(dn,dn.parent,A).resolve,(0,S.of)(void 0))),(0,Lt.M)(()=>Ht++),ut(1),(0,Dt.Z)(dn=>Ht===Re.size?(0,S.of)(V):Ne.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Lt.M)({next:()=>fo=!0,complete:()=>{fo||this.cancelNavigationTransition(cr,"",fn.NoDataFromResolver)}}))}),(0,Lt.M)(cr=>{const fo=new kr(cr.id,this.urlSerializer.serialize(cr.extractedUrl),this.urlSerializer.serialize(cr.urlAfterRedirects),cr.targetSnapshot);this.events.next(fo)}))}),Qa(Jt=>{const cr=fo=>{var ii;const So=[];null!==(ii=fo.routeConfig)&&void 0!==ii&&ii.loadComponent&&!fo.routeConfig._loadedComponent&&So.push(this.configLoader.loadComponent(fo.routeConfig).pipe((0,Lt.M)($i=>{fo.component=$i}),(0,vt.T)(()=>{})));for(const $i of fo.children)So.push(...cr($i));return So};return(0,se.z)(cr(Jt.targetSnapshot.root)).pipe((0,lr.U)(null),(0,Je.s)(1))}),Qa(()=>this.afterPreactivation()),(0,ct.n)(()=>{var Jt;const{currentSnapshot:cr,targetSnapshot:fo}=Re,ii=null===(Jt=this.createViewTransition)||void 0===Jt?void 0:Jt.call(this,this.environmentInjector,cr.root,fo.root);return ii?(0,J.H)(ii).pipe((0,vt.T)(()=>Re)):(0,S.of)(Re)}),(0,vt.T)(Jt=>{const cr=function zi(A,N,V){const O=Aa(A,N._root,V?V._root:void 0);return new Vt(O,N)}(O.routeReuseStrategy,Jt.targetSnapshot,Jt.currentRouterState);return this.currentTransition=Re={...Jt,targetRouterState:cr},this.currentNavigation.targetRouterState=cr,Re}),(0,Lt.M)(()=>{this.events.next(new Li)}),((A,N,V,O)=>(0,vt.T)(X=>(new ve(N,X.targetRouterState,X.currentRouterState,V,O).activate(A),X)))(this.rootContexts,O.routeReuseStrategy,Jt=>this.events.next(Jt),this.inputBindingEnabled),(0,Je.s)(1),(0,Lt.M)({next:Jt=>{var cr;Ht=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $t(Jt.id,this.urlSerializer.serialize(Jt.extractedUrl),this.urlSerializer.serialize(Jt.urlAfterRedirects))),null===(cr=this.titleStrategy)||void 0===cr||cr.updateTitle(Jt.targetRouterState.snapshot),Jt.resolve(!0)},complete:()=>{Ht=!0}}),function Xt(A){return(0,$e.N)((N,V)=>{(0,Ft.Tg)(A).subscribe((0,Xn._)(V,()=>V.complete(),ln.l)),!V.closed&&N.subscribe(V)})}(this.transitionAbortSubject.pipe((0,Lt.M)(Jt=>{throw Jt}))),(0,Et.j)(()=>{var Jt;!Ht&&!dn&&this.cancelNavigationTransition(Re,"",fn.SupersededByNewNavigation),(null===(Jt=this.currentTransition)||void 0===Jt?void 0:Jt.id)===Re.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,Bt.W)(Jt=>{if(dn=!0,Ua(Jt))this.events.next(new kn(Re.id,this.urlSerializer.serialize(Re.extractedUrl),Jt.message,Jt.cancellationCode)),function Yi(A){return Ua(A)&&Mn(A.url)}(Jt)?this.events.next(new vi(Jt.url,Jt.navigationBehaviorOptions)):Re.resolve(!1);else{var cr;const fo=new tr(Re.id,this.urlSerializer.serialize(Re.extractedUrl),Jt,null!==(cr=Re.targetSnapshot)&&void 0!==cr?cr:void 0);try{const ii=(0,x.N4e)(this.environmentInjector,()=>{var So;return null===(So=this.navigationErrorHandler)||void 0===So?void 0:So.call(this,fo)});if(ii instanceof yi){const{message:So,cancellationCode:$i}=ca(0,ii);this.events.next(new kn(Re.id,this.urlSerializer.serialize(Re.extractedUrl),So,$i)),this.events.next(new vi(ii.redirectTo,ii.navigationBehaviorOptions))}else{this.events.next(fo);const So=O.errorHandler(Jt);Re.resolve(!!So)}}catch(ii){this.options.resolveNavigationPromiseOnError?Re.resolve(!1):Re.reject(ii)}}return Ne.w}))}))}cancelNavigationTransition(O,X,De){const Re=new kn(O.id,this.urlSerializer.serialize(O.extractedUrl),X,De);this.events.next(Re),O.resolve(!1)}isUpdatingInternalState(){var O,X;return(null===(O=this.currentTransition)||void 0===O?void 0:O.extractedUrl.toString())!==(null===(X=this.currentTransition)||void 0===X?void 0:X.currentUrlTree.toString())}isUpdatedBrowserUrl(){var O,X,De,Re;const Ht=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),dn=null!==(O=null===(X=this.currentNavigation)||void 0===X?void 0:X.targetBrowserUrl)&&void 0!==O?O:null===(De=this.currentNavigation)||void 0===De?void 0:De.extractedUrl;return Ht.toString()!==(null==dn?void 0:dn.toString())&&!(null!==(Re=this.currentNavigation)&&void 0!==Re&&Re.extras.skipLocationChange)}}return(A=N).\u0275fac=function(O){return new(O||A)},A.\u0275prov=x.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),N})();function mn(A){return A!==Ie}let Wn=(()=>{var A;class N{}return(A=N).\u0275fac=function(O){return new(O||A)},A.\u0275prov=x.jDH({token:A,factory:()=>(0,x.WQX)(Yo),providedIn:"root"}),N})();class Wr{shouldDetach(N){return!1}store(N,V){}shouldAttach(N){return!1}retrieve(N){return null}shouldReuseRoute(N,V){return N.routeConfig===V.routeConfig}}let Yo=(()=>{var A;class N extends Wr{}return(A=N).\u0275fac=(()=>{let V;return function(X){return(V||(V=x.xGo(A)))(X||A)}})(),A.\u0275prov=x.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),N})(),Go=(()=>{var A;class N{}return(A=N).\u0275fac=function(O){return new(O||A)},A.\u0275prov=x.jDH({token:A,factory:()=>(0,x.WQX)(Lo),providedIn:"root"}),N})(),Lo=(()=>{var A;class N extends Go{constructor(){super(...arguments),this.location=(0,x.WQX)(pe.aZ),this.urlSerializer=(0,x.WQX)(Lr),this.options=(0,x.WQX)(Ws,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,x.WQX)(Cs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Hr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=In(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var O,X;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(O=null===(X=this.restoredState())||void 0===X?void 0:X.\u0275routerPageId)&&void 0!==O?O:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(O){return this.location.subscribe(X=>{"popstate"===X.type&&O(X.url,X.state)})}handleRouterEvent(O,X){if(O instanceof yt)this.stateMemento=this.createStateMemento();else if(O instanceof xn)this.rawUrlTree=X.initialUrl;else if(O instanceof Cr){if("eager"===this.urlUpdateStrategy&&!X.extras.skipLocationChange){var De;const Ht=this.urlHandlingStrategy.merge(X.finalUrl,X.initialUrl);this.setBrowserUrl(null!==(De=X.targetBrowserUrl)&&void 0!==De?De:Ht,X)}}else if(O instanceof Li){var Re;this.currentUrlTree=X.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(X.finalUrl,X.initialUrl),this.routerState=X.targetRouterState,"deferred"!==this.urlUpdateStrategy||X.extras.skipLocationChange||this.setBrowserUrl(null!==(Re=X.targetBrowserUrl)&&void 0!==Re?Re:this.rawUrlTree,X)}else O instanceof kn&&(O.code===fn.GuardRejected||O.code===fn.NoDataFromResolver)?this.restoreHistory(X):O instanceof tr?this.restoreHistory(X,!0):O instanceof $t&&(this.lastSuccessfulId=O.id,this.currentPageId=this.browserPageId)}setBrowserUrl(O,X){const De=O instanceof Hr?this.urlSerializer.serialize(O):O;if(this.location.isCurrentPathEqualTo(De)||X.extras.replaceUrl){const Ht={...X.extras.state,...this.generateNgRouterState(X.id,this.browserPageId)};this.location.replaceState(De,"",Ht)}else{const Re={...X.extras.state,...this.generateNgRouterState(X.id,this.browserPageId+1)};this.location.go(De,"",Re)}}restoreHistory(O,X=!1){if("computed"===this.canceledNavigationResolution){const Re=this.currentPageId-this.browserPageId;0!==Re?this.location.historyGo(Re):this.currentUrlTree===O.finalUrl&&0===Re&&(this.resetState(O),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(X&&this.resetState(O),this.resetUrlToCurrentUrlTree())}resetState(O){var X;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(X=O.finalUrl)&&void 0!==X?X:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(O,X){return"computed"===this.canceledNavigationResolution?{navigationId:O,\u0275routerPageId:X}:{navigationId:O}}}return(A=N).\u0275fac=(()=>{let V;return function(X){return(V||(V=x.xGo(A)))(X||A)}})(),A.\u0275prov=x.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),N})();var ti=function(A){return A[A.COMPLETE=0]="COMPLETE",A[A.FAILED=1]="FAILED",A[A.REDIRECTING=2]="REDIRECTING",A}(ti||{});function ni(A,N){A.events.pipe((0,rt.p)(V=>V instanceof $t||V instanceof kn||V instanceof tr||V instanceof xn),(0,vt.T)(V=>V instanceof $t||V instanceof xn?ti.COMPLETE:V instanceof kn&&(V.code===fn.Redirect||V.code===fn.SupersededByNewNavigation)?ti.REDIRECTING:ti.FAILED),(0,rt.p)(V=>V!==ti.REDIRECTING),(0,Je.s)(1)).subscribe(()=>{N()})}function wi(A){throw A}const Qi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ro={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ln=(()=>{var A;class N{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var O,X;this.disposed=!1,this.console=(0,x.WQX)(x.H3F),this.stateManager=(0,x.WQX)(Go),this.options=(0,x.WQX)(Ws,{optional:!0})||{},this.pendingTasks=(0,x.WQX)(x.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,x.WQX)(at),this.urlSerializer=(0,x.WQX)(Lr),this.location=(0,x.WQX)(pe.aZ),this.urlHandlingStrategy=(0,x.WQX)(Cs),this._events=new it.B,this.errorHandler=this.options.errorHandler||wi,this.navigated=!1,this.routeReuseStrategy=(0,x.WQX)(Wn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(O=null===(X=(0,x.WQX)(is,{optional:!0}))||void 0===X?void 0:X.flat())&&void 0!==O?O:[],this.componentInputBindingEnabled=!!(0,x.WQX)(Ri,{optional:!0}),this.eventsSubscription=new Pe.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:De=>{this.console.warn(De)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const O=this.navigationTransitions.events.subscribe(X=>{try{const De=this.navigationTransitions.currentTransition,Re=this.navigationTransitions.currentNavigation;if(null!==De&&null!==Re)if(this.stateManager.handleRouterEvent(X,Re),X instanceof kn&&X.code!==fn.Redirect&&X.code!==fn.SupersededByNewNavigation)this.navigated=!0;else if(X instanceof $t)this.navigated=!0;else if(X instanceof vi){const Ht=X.navigationBehaviorOptions,dn=this.urlHandlingStrategy.merge(X.url,De.currentRawUrl),Jt={browserUrl:De.extras.browserUrl,info:De.extras.info,skipLocationChange:De.extras.skipLocationChange,replaceUrl:De.extras.replaceUrl||"eager"===this.urlUpdateStrategy||mn(De.source),...Ht};this.scheduleNavigation(dn,Ie,null,Jt,{resolve:De.resolve,reject:De.reject,promise:De.promise})}(function Di(A){return!(A instanceof Li||A instanceof vi)})(X)&&this._events.next(X)}catch(De){this.navigationTransitions.transitionAbortSubject.next(De)}});this.eventsSubscription.add(O)}resetRootComponentType(O){this.routerState.root.component=O,this.navigationTransitions.rootComponentType=O}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ie,this.stateManager.restoredState())}setUpLocationChangeListener(){var O;null!==(O=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==O||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((X,De)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(X,"popstate",De)},0)}))}navigateToSyncWithBrowser(O,X,De){const Re={replaceUrl:!0},Ht=null!=De&&De.navigationId?De:null;if(De){const Jt={...De};delete Jt.navigationId,delete Jt.\u0275routerPageId,0!==Object.keys(Jt).length&&(Re.state=Jt)}const dn=this.parseUrl(O);this.scheduleNavigation(dn,X,Ht,Re)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(O){this.config=O.map(oc),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(O,X={}){const{relativeTo:De,queryParams:Re,fragment:Ht,queryParamsHandling:dn,preserveFragment:Jt}=X,cr=Jt?this.currentUrlTree.fragment:Ht;let ii,fo=null;switch(null!=dn?dn:this.options.defaultQueryParamsHandling){case"merge":fo={...this.currentUrlTree.queryParams,...Re};break;case"preserve":fo=this.currentUrlTree.queryParams;break;default:fo=Re||null}null!==fo&&(fo=this.removeEmptyProps(fo));try{ii=$o(De?De.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof O[0]||"/"!==O[0][0])&&(O=[]),ii=this.currentUrlTree.root}return ei(ii,O,fo,null!=cr?cr:null)}navigateByUrl(O,X={skipLocationChange:!1}){const De=Mn(O)?O:this.parseUrl(O),Re=this.urlHandlingStrategy.merge(De,this.rawUrlTree);return this.scheduleNavigation(Re,Ie,null,X)}navigate(O,X={skipLocationChange:!1}){return function Nr(A){for(let N=0;N<A.length;N++)if(null==A[N])throw new x.wOt(4008,!1)}(O),this.navigateByUrl(this.createUrlTree(O,X),X)}serializeUrl(O){return this.urlSerializer.serialize(O)}parseUrl(O){try{return this.urlSerializer.parse(O)}catch{return this.urlSerializer.parse("/")}}isActive(O,X){let De;if(De=!0===X?{...Qi}:!1===X?{...Ro}:X,Mn(O))return Tr(this.currentUrlTree,O,De);const Re=this.parseUrl(O);return Tr(this.currentUrlTree,Re,De)}removeEmptyProps(O){return Object.entries(O).reduce((X,[De,Re])=>(null!=Re&&(X[De]=Re),X),{})}scheduleNavigation(O,X,De,Re,Ht){if(this.disposed)return Promise.resolve(!1);let dn,Jt,cr;Ht?(dn=Ht.resolve,Jt=Ht.reject,cr=Ht.promise):cr=new Promise((ii,So)=>{dn=ii,Jt=So});const fo=this.pendingTasks.add();return ni(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(fo))}),this.navigationTransitions.handleNavigationRequest({source:X,restoredState:De,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:O,extras:Re,resolve:dn,reject:Jt,promise:cr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),cr.catch(ii=>Promise.reject(ii))}}return(A=N).\u0275fac=function(O){return new(O||A)},A.\u0275prov=x.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),N})(),on=(()=>{var A;class N{constructor(O,X,De,Re,Ht,dn){var Jt;this.router=O,this.route=X,this.tabIndexAttribute=De,this.renderer=Re,this.el=Ht,this.locationStrategy=dn,this.href=null,this.onChanges=new it.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const cr=null===(Jt=Ht.nativeElement.tagName)||void 0===Jt?void 0:Jt.toLowerCase();this.isAnchorElement="a"===cr||"area"===cr,this.isAnchorElement?this.subscription=O.events.subscribe(fo=>{fo instanceof $t&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(O){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",O)}ngOnChanges(O){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(O){null==O?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Mn(O)||Array.isArray(O)?O:[O],this.setTabIndexIfNotOnNativeEl("0"))}onClick(O,X,De,Re,Ht){const dn=this.urlTree;return!!(null===dn||this.isAnchorElement&&(0!==O||X||De||Re||Ht||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(dn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var O;null===(O=this.subscription)||void 0===O||O.unsubscribe()}updateHref(){var O;const X=this.urlTree;this.href=null!==X&&this.locationStrategy?null===(O=this.locationStrategy)||void 0===O?void 0:O.prepareExternalUrl(this.router.serializeUrl(X)):null;const De=null===this.href?null:(0,x.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",De)}applyAttributeValue(O,X){const De=this.renderer,Re=this.el.nativeElement;null!==X?De.setAttribute(Re,O,X):De.removeAttribute(Re,O)}get urlTree(){return null===this.routerLinkInput?null:Mn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(A=N).\u0275fac=function(O){return new(O||A)(x.rXU(Ln),x.rXU(ir),x.kS0("tabindex"),x.rXU(x.sFG),x.rXU(x.aKT),x.rXU(pe.hb))},A.\u0275dir=x.FsC({type:A,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(O,X){1&O&&x.bIt("click",function(Re){return X.onClick(Re.button,Re.ctrlKey,Re.shiftKey,Re.altKey,Re.metaKey)}),2&O&&x.BMQ("target",X.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",x.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",x.L39],replaceUrl:[2,"replaceUrl","replaceUrl",x.L39],routerLink:"routerLink"},standalone:!0,features:[x.GFd,x.OA$]}),N})();class yo{}let ui=(()=>{var A;class N{preload(O,X){return X().pipe((0,Bt.W)(()=>(0,S.of)(null)))}}return(A=N).\u0275fac=function(O){return new(O||A)},A.\u0275prov=x.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),N})(),ma=(()=>{var A;class N{constructor(O,X,De,Re,Ht){this.router=O,this.injector=De,this.preloadingStrategy=Re,this.loader=Ht}setUpPreloading(){this.subscription=this.router.events.pipe((0,rt.p)(O=>O instanceof $t),(0,je.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(O,X){const De=[];for(const Jt of X){var Re,Ht;Jt.providers&&!Jt._injector&&(Jt._injector=(0,x.Ol2)(Jt.providers,O,`Route: ${Jt.path}`));const cr=null!==(Re=Jt._injector)&&void 0!==Re?Re:O,fo=null!==(Ht=Jt._loadedInjector)&&void 0!==Ht?Ht:cr;var dn;(Jt.loadChildren&&!Jt._loadedRoutes&&void 0===Jt.canLoad||Jt.loadComponent&&!Jt._loadedComponent)&&De.push(this.preloadConfig(cr,Jt)),(Jt.children||Jt._loadedRoutes)&&De.push(this.processRoutes(fo,null!==(dn=Jt.children)&&void 0!==dn?dn:Jt._loadedRoutes))}return(0,J.H)(De).pipe((0,dr.U)())}preloadConfig(O,X){return this.preloadingStrategy.preload(X,()=>{let De;De=X.loadChildren&&void 0===X.canLoad?this.loader.loadChildren(O,X):(0,S.of)(null);const Re=De.pipe((0,Dt.Z)(Ht=>{var dn;return null===Ht?(0,S.of)(void 0):(X._loadedRoutes=Ht.routes,X._loadedInjector=Ht.injector,this.processRoutes(null!==(dn=Ht.injector)&&void 0!==dn?dn:O,Ht.routes))}));if(X.loadComponent&&!X._loadedComponent){const Ht=this.loader.loadComponent(X);return(0,J.H)([Re,Ht]).pipe((0,dr.U)())}return Re})}}return(A=N).\u0275fac=function(O){return new(O||A)(x.KVO(Ln),x.KVO(x.Ql9),x.KVO(x.uvJ),x.KVO(yo),x.KVO(Pl))},A.\u0275prov=x.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),N})();const qr=new x.nKC("");let as=(()=>{var A;class N{constructor(O,X,De,Re,Ht={}){this.urlSerializer=O,this.transitions=X,this.viewportScroller=De,this.zone=Re,this.options=Ht,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ht.scrollPositionRestoration||(Ht.scrollPositionRestoration="disabled"),Ht.anchorScrolling||(Ht.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(O=>{O instanceof yt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=O.navigationTrigger,this.restoredId=O.restoredState?O.restoredState.navigationId:0):O instanceof $t?(this.lastId=O.id,this.scheduleScrollEvent(O,this.urlSerializer.parse(O.urlAfterRedirects).fragment)):O instanceof xn&&O.code===Rn.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(O,this.urlSerializer.parse(O.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(O=>{O instanceof ja&&(O.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(O.position):O.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(O.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(O,X){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ja(O,"popstate"===this.lastSource?this.store[this.restoredId]:null,X))})},0)})}ngOnDestroy(){var O,X;null===(O=this.routerEventsSubscription)||void 0===O||O.unsubscribe(),null===(X=this.scrollEventsSubscription)||void 0===X||X.unsubscribe()}}return(A=N).\u0275fac=function(O){x.QTQ()},A.\u0275prov=x.jDH({token:A,factory:A.\u0275fac}),N})();function Ol(A,...N){return(0,x.EmA)([{provide:is,multi:!0,useValue:A},[],{provide:ir,useFactory:Gs,deps:[Ln]},{provide:x.iLQ,multi:!0,useFactory:Xs},N.map(V=>V.\u0275providers)])}function Gs(A){return A.routerState.root}function Ko(A,N){return{\u0275kind:A,\u0275providers:N}}function Xs(){const A=(0,x.WQX)(x.zZn);return N=>{var V,O;const X=A.get(x.o8S);if(N!==X.components[0])return;const De=A.get(Ln),Re=A.get(ms);1===A.get(Fs)&&De.initialNavigation(),null===(V=A.get(Nl,null,x.$GK.Optional))||void 0===V||V.setUpPreloading(),null===(O=A.get(qr,null,x.$GK.Optional))||void 0===O||O.init(),De.resetRootComponentType(X.componentTypes[0]),Re.closed||(Re.next(),Re.complete(),Re.unsubscribe())}}const ms=new x.nKC("",{factory:()=>new it.B}),Fs=new x.nKC("",{providedIn:"root",factory:()=>1}),Nl=new x.nKC("");function ks(A){return Ko(0,[{provide:Nl,useExisting:ma},{provide:yo,useExisting:A}])}function ra(A){return Ko(9,[{provide:P,useValue:Ye},{provide:ee,useValue:{skipNextTransition:!(null==A||!A.skipInitialTransition),...A}}])}const Pc=new x.nKC("ROUTER_FORROOT_GUARD"),Ls=[pe.aZ,{provide:Lr,useClass:io},Ln,q,{provide:ir,useFactory:Gs,deps:[Ln]},Pl,[]];let ac=(()=>{var A;class N{constructor(O){}static forRoot(O,X){return{ngModule:N,providers:[Ls,[],{provide:is,multi:!0,useValue:O},{provide:Pc,useFactory:yh,deps:[[Ln,new x.Xx1,new x.kdw]]},{provide:Ws,useValue:X||{}},null!=X&&X.useHash?{provide:pe.hb,useClass:pe.fw}:{provide:pe.hb,useClass:pe.Sm},{provide:qr,useFactory:()=>{const A=(0,x.WQX)(pe.Xr),N=(0,x.WQX)(x.SKi),V=(0,x.WQX)(Ws),O=(0,x.WQX)(at),X=(0,x.WQX)(Lr);return V.scrollOffset&&A.setOffset(V.scrollOffset),new as(X,O,A,N,V)}},null!=X&&X.preloadingStrategy?ks(X.preloadingStrategy).\u0275providers:[],null!=X&&X.initialNavigation?xu(X):[],null!=X&&X.bindToComponentInputs?Ko(8,[Ve,{provide:Ri,useExisting:Ve}]).\u0275providers:[],null!=X&&X.enableViewTransitions?ra().\u0275providers:[],[{provide:wu,useFactory:Xs},{provide:x.iLQ,multi:!0,useExisting:wu}]]}}static forChild(O){return{ngModule:N,providers:[{provide:is,multi:!0,useValue:O}]}}}return(A=N).\u0275fac=function(O){return new(O||A)(x.KVO(Pc,8))},A.\u0275mod=x.$C({type:A}),A.\u0275inj=x.G2t({}),N})();function yh(A){return"guarded"}function xu(A){return["disabled"===A.initialNavigation?Ko(3,[{provide:x.hnV,multi:!0,useFactory:()=>{const N=(0,x.WQX)(Ln);return()=>{N.setUpLocationChangeListener()}}},{provide:Fs,useValue:2}]).\u0275providers:[],"enabledBlocking"===A.initialNavigation?Ko(2,[{provide:Fs,useValue:0},{provide:x.hnV,multi:!0,deps:[x.zZn],useFactory:N=>{const V=N.get(pe.hj,Promise.resolve());return()=>V.then(()=>new Promise(O=>{const X=N.get(Ln),De=N.get(ms);ni(X,()=>{O(!0)}),N.get(at).afterPreactivation=()=>(O(!0),De.closed?(0,S.of)(void 0):De),X.initialNavigation()}))}}]).\u0275providers:[]]}const wu=new x.nKC("")},8880:(Vn,At,B)=>{"use strict";B.d(At,{Yq:()=>de,TS:()=>lr,sR:()=>ut,el:()=>nn,Sb:()=>yn,QE:()=>Pt,CF:()=>xr,Rg:()=>zr,p4:()=>sn,jM:()=>vn,q9:()=>Bt,Kb:()=>gn,hO:()=>Xr,CE:()=>Ir,pF:()=>$r,fL:()=>Tt,YV:()=>To,er:()=>_t,z3:()=>_n});var x=B(467),g=B(9842),H=B(4438),_e=B(2902),J=B(177),S=B(5531),ke=B(6031),se=B(1656),Ge=B(1413),wt=B(3726),Oe=B(4412),Se=B(4572),qe=B(7673),Ne=B(1635),ot=B(5964),it=B(5558),Pe=B(3669),pe=B(9974),vt=B(4360);function Je(mt,He){return mt===He}var Ce=B(4341);const $e=["tabsInner"];let Ke=(()=>{var mt;class He{constructor(ye,le){(0,g.A)(this,"doc",void 0),(0,g.A)(this,"_readyPromise",void 0),(0,g.A)(this,"win",void 0),(0,g.A)(this,"backButton",new Ge.B),(0,g.A)(this,"keyboardDidShow",new Ge.B),(0,g.A)(this,"keyboardDidHide",new Ge.B),(0,g.A)(this,"pause",new Ge.B),(0,g.A)(this,"resume",new Ge.B),(0,g.A)(this,"resize",new Ge.B),this.doc=ye,le.run(()=>{var zt;let cn;this.win=ye.defaultView,this.backButton.subscribeWithPriority=function(Zn,qn){return this.subscribe(Mn=>Mn.register(Zn,Gr=>le.run(()=>qn(Gr))))},Lt(this.pause,ye,"pause",le),Lt(this.resume,ye,"resume",le),Lt(this.backButton,ye,"ionBackButton",le),Lt(this.resize,this.win,"resize",le),Lt(this.keyboardDidShow,this.win,"ionKeyboardDidShow",le),Lt(this.keyboardDidHide,this.win,"ionKeyboardDidHide",le),this._readyPromise=new Promise(Zn=>{cn=Zn}),null!==(zt=this.win)&&void 0!==zt&&zt.cordova?ye.addEventListener("deviceready",()=>{cn("cordova")},{once:!0}):cn("dom")})}is(ye){return(0,S.a)(this.win,ye)}platforms(){return(0,S.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(ye){return je(this.win.location.href,ye)}isLandscape(){return!this.isPortrait()}isPortrait(){var ye,le;return null===(ye=(le=this.win).matchMedia)||void 0===ye?void 0:ye.call(le,"(orientation: portrait)").matches}testUserAgent(ye){const le=this.win.navigator;return!!(null!=le&&le.userAgent&&le.userAgent.indexOf(ye)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return mt=He,(0,g.A)(He,"\u0275fac",function(ye){return new(ye||mt)(H.KVO(J.qQ),H.KVO(H.SKi))}),(0,g.A)(He,"\u0275prov",H.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"})),He})();const je=(mt,He)=>{He=He.replace(/[[\]\\]/g,"\\$&");const ye=new RegExp("[\\?&]"+He+"=([^&#]*)").exec(mt);return ye?decodeURIComponent(ye[1].replace(/\+/g," ")):null},Lt=(mt,He,Ut,ye)=>{He&&He.addEventListener(Ut,le=>{ye.run(()=>{mt.next(null!=le?le.detail:void 0)})})};let Bt=(()=>{var mt;class He{constructor(ye,le,zt,cn){(0,g.A)(this,"location",void 0),(0,g.A)(this,"serializer",void 0),(0,g.A)(this,"router",void 0),(0,g.A)(this,"topOutlet",void 0),(0,g.A)(this,"direction",tn),(0,g.A)(this,"animated",Kn),(0,g.A)(this,"animationBuilder",void 0),(0,g.A)(this,"guessDirection","forward"),(0,g.A)(this,"guessAnimation",void 0),(0,g.A)(this,"lastNavId",-1),this.location=le,this.serializer=zt,this.router=cn,cn&&cn.events.subscribe(Zn=>{if(Zn instanceof _e.Z){const qn=Zn.restoredState?Zn.restoredState.navigationId:Zn.id;this.guessDirection=this.guessAnimation=qn<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?Zn.id:qn}}),ye.backButton.subscribeWithPriority(0,Zn=>{this.pop(),Zn()})}navigateForward(ye,le={}){return this.setDirection("forward",le.animated,le.animationDirection,le.animation),this.navigate(ye,le)}navigateBack(ye,le={}){return this.setDirection("back",le.animated,le.animationDirection,le.animation),this.navigate(ye,le)}navigateRoot(ye,le={}){return this.setDirection("root",le.animated,le.animationDirection,le.animation),this.navigate(ye,le)}back(ye={animated:!0,animationDirection:"back"}){return this.setDirection("back",ye.animated,ye.animationDirection,ye.animation),this.location.back()}pop(){var ye=this;return(0,x.A)(function*(){let le=ye.topOutlet;for(;le;){if(yield le.pop())return!0;le=le.parentOutlet}return!1})()}setDirection(ye,le,zt,cn){this.direction=ye,this.animated=Xn(ye,le,zt),this.animationBuilder=cn}setTopOutlet(ye){this.topOutlet=ye}consumeTransition(){let le,ye="root";const zt=this.animationBuilder;return"auto"===this.direction?(ye=this.guessDirection,le=this.guessAnimation):(le=this.animated,ye=this.direction),this.direction=tn,this.animated=Kn,this.animationBuilder=void 0,{direction:ye,animation:le,animationBuilder:zt}}navigate(ye,le){if(Array.isArray(ye))return this.router.navigate(ye,le);{const zt=this.serializer.parse(ye.toString());return void 0!==le.queryParams&&(zt.queryParams={...le.queryParams}),void 0!==le.fragment&&(zt.fragment=le.fragment),this.router.navigateByUrl(zt,le)}}}return mt=He,(0,g.A)(He,"\u0275fac",function(ye){return new(ye||mt)(H.KVO(Ke),H.KVO(J.aZ),H.KVO(_e.Sd),H.KVO(_e.Ix,8))}),(0,g.A)(He,"\u0275prov",H.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"})),He})();const Xn=(mt,He,Ut)=>{if(!1!==He){if(void 0!==Ut)return Ut;if("forward"===mt||"back"===mt)return mt;if("root"===mt&&!0===He)return"forward"}},tn="auto",Kn=void 0;let lr=(()=>{var mt;class He{get(ye,le){const zt=Ue();return zt?zt.get(ye,le):null}getBoolean(ye,le){const zt=Ue();return!!zt&&zt.getBoolean(ye,le)}getNumber(ye,le){const zt=Ue();return zt?zt.getNumber(ye,le):0}}return mt=He,(0,g.A)(He,"\u0275fac",function(ye){return new(ye||mt)}),(0,g.A)(He,"\u0275prov",H.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"})),He})();const ut=new H.nKC("USERCONFIG"),Ue=()=>{if(typeof window<"u"){const mt=window.Ionic;if(null!=mt&&mt.config)return mt.config}return null};class ce{constructor(He={}){(0,g.A)(this,"data",void 0),this.data=He,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(He){return this.data[He]}}let de=(()=>{var mt;class He{constructor(){(0,g.A)(this,"zone",(0,H.WQX)(H.SKi)),(0,g.A)(this,"applicationRef",(0,H.WQX)(H.o8S)),(0,g.A)(this,"config",(0,H.WQX)(ut))}create(ye,le,zt){var cn;return new Ae(ye,le,this.applicationRef,this.zone,zt,null!==(cn=this.config.useSetInputAPI)&&void 0!==cn&&cn)}}return mt=He,(0,g.A)(He,"\u0275fac",function(ye){return new(ye||mt)}),(0,g.A)(He,"\u0275prov",H.jDH({token:mt,factory:mt.\u0275fac})),He})();class Ae{constructor(He,Ut,ye,le,zt,cn){(0,g.A)(this,"environmentInjector",void 0),(0,g.A)(this,"injector",void 0),(0,g.A)(this,"applicationRef",void 0),(0,g.A)(this,"zone",void 0),(0,g.A)(this,"elementReferenceKey",void 0),(0,g.A)(this,"enableSignalsSupport",void 0),(0,g.A)(this,"elRefMap",new WeakMap),(0,g.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=He,this.injector=Ut,this.applicationRef=ye,this.zone=le,this.elementReferenceKey=zt,this.enableSignalsSupport=cn}attachViewToDom(He,Ut,ye,le){return this.zone.run(()=>new Promise(zt=>{const cn={...ye};void 0!==this.elementReferenceKey&&(cn[this.elementReferenceKey]=He),zt(Et(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,He,Ut,cn,le,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(He,Ut){return this.zone.run(()=>new Promise(ye=>{const le=this.elRefMap.get(Ut);if(le){le.destroy(),this.elRefMap.delete(Ut);const zt=this.elEventsMap.get(Ut);zt&&(zt(),this.elEventsMap.delete(Ut))}ye()}))}}const Et=(mt,He,Ut,ye,le,zt,cn,Zn,qn,Mn,Gr,$o)=>{const ei=H.zZn.create({providers:Xt(qn),parent:Ut}),_o=(0,H.a0P)(Zn,{environmentInjector:He,elementInjector:ei}),jo=_o.instance,Dr=_o.location.nativeElement;if(qn)if(Gr&&void 0!==jo[Gr]&&console.error(`[Ionic Error]: ${Gr} is a reserved property when using ${cn.tagName.toLowerCase()}. Rename or remove the "${Gr}" property from ${Zn.name}.`),!0===$o&&void 0!==_o.setInput){const{modal:co,popover:Qn,...zo}=qn;for(const Qe in zo)_o.setInput(Qe,zo[Qe]);void 0!==co&&Object.assign(jo,{modal:co}),void 0!==Qn&&Object.assign(jo,{popover:Qn})}else Object.assign(jo,qn);if(Mn)for(const co of Mn)Dr.classList.add(co);const Po=Ft(mt,jo,Dr);return cn.appendChild(Dr),ye.attachView(_o.hostView),le.set(Dr,_o),zt.set(Dr,Po),Dr},Mt=[ke.L,ke.a,ke.b,ke.c,ke.d],Ft=(mt,He,Ut)=>mt.run(()=>{const ye=Mt.filter(le=>"function"==typeof He[le]).map(le=>{const zt=cn=>He[le](cn.detail);return Ut.addEventListener(le,zt),()=>Ut.removeEventListener(le,zt)});return()=>ye.forEach(le=>le())}),ln=new H.nKC("NavParamsToken"),Xt=mt=>[{provide:ln,useValue:mt},{provide:ce,useFactory:dr,deps:[ln]}],dr=mt=>new ce(mt),er=(mt,He)=>{const Ut=mt.prototype;He.forEach(ye=>{Object.defineProperty(Ut,ye,{get(){return this.el[ye]},set(le){this.z.runOutsideAngular(()=>this.el[ye]=le)}})})},wn=(mt,He)=>{const Ut=mt.prototype;He.forEach(ye=>{Ut[ye]=function(){const le=arguments;return this.z.runOutsideAngular(()=>this.el[ye].apply(this.el,le))}})},wr=(mt,He,Ut)=>{Ut.forEach(ye=>mt[ye]=(0,wt.R)(He,ye))};function Xr(mt){return function(Ut){const{defineCustomElementFn:ye,inputs:le,methods:zt}=mt;return void 0!==ye&&ye(),le&&er(Ut,le),zt&&wn(Ut,zt),Ut}}const hr=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Ar=["present","dismiss","onDidDismiss","onWillDismiss"];let xr=(()=>{var mt;let He=((0,g.A)(mt=class{constructor(ye,le,zt){(0,g.A)(this,"z",void 0),(0,g.A)(this,"template",void 0),(0,g.A)(this,"isCmpOpen",!1),(0,g.A)(this,"el",void 0),this.z=zt,this.el=le.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,ye.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,ye.detectChanges()}),wr(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(ye){return new(ye||mt)(H.rXU(H.gRc),H.rXU(H.aKT),H.rXU(H.SKi))}),(0,g.A)(mt,"\u0275dir",H.FsC({type:mt,selectors:[["ion-popover"]],contentQueries:function(ye,le,zt){if(1&ye&&H.wni(zt,H.C4Q,5),2&ye){let cn;H.mGM(cn=H.lsd())&&(le.template=cn.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),mt);return He=(0,Ne.Cg)([Xr({inputs:hr,methods:Ar})],He),He})();const pr=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Kr=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let yn=(()=>{var mt;let He=((0,g.A)(mt=class{constructor(ye,le,zt){(0,g.A)(this,"z",void 0),(0,g.A)(this,"template",void 0),(0,g.A)(this,"isCmpOpen",!1),(0,g.A)(this,"el",void 0),this.z=zt,this.el=le.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,ye.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,ye.detectChanges()}),wr(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(ye){return new(ye||mt)(H.rXU(H.gRc),H.rXU(H.aKT),H.rXU(H.SKi))}),(0,g.A)(mt,"\u0275dir",H.FsC({type:mt,selectors:[["ion-modal"]],contentQueries:function(ye,le,zt){if(1&ye&&H.wni(zt,H.C4Q,5),2&ye){let cn;H.mGM(cn=H.lsd())&&(le.template=cn.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),mt);return He=(0,Ne.Cg)([Xr({inputs:pr,methods:Kr})],He),He})();const rn=(mt,He)=>((mt=mt.filter(Ut=>Ut.stackId!==He.stackId)).push(He),mt),Tr=(mt,He)=>{const Ut=mt.createUrlTree(["."],{relativeTo:He});return mt.serializeUrl(Ut)},sr=(mt,He)=>!He||mt.stackId!==He.stackId,fr=(mt,He)=>{if(!mt)return;const Ut=uo(He);for(let ye=0;ye<Ut.length;ye++){if(ye>=mt.length)return Ut[ye];if(Ut[ye]!==mt[ye])return}},uo=mt=>mt.split("/").map(He=>He.trim()).filter(He=>""!==He),ho=mt=>{mt&&(mt.ref.destroy(),mt.unlistenEvents())};class Vr{constructor(He,Ut,ye,le,zt,cn){(0,g.A)(this,"containerEl",void 0),(0,g.A)(this,"router",void 0),(0,g.A)(this,"navCtrl",void 0),(0,g.A)(this,"zone",void 0),(0,g.A)(this,"location",void 0),(0,g.A)(this,"views",[]),(0,g.A)(this,"runningTask",void 0),(0,g.A)(this,"skipTransition",!1),(0,g.A)(this,"tabsPrefix",void 0),(0,g.A)(this,"activeView",void 0),(0,g.A)(this,"nextId",0),this.containerEl=Ut,this.router=ye,this.navCtrl=le,this.zone=zt,this.location=cn,this.tabsPrefix=void 0!==He?uo(He):void 0}createView(He,Ut){var ye;const le=Tr(this.router,Ut),zt=null==He||null===(ye=He.location)||void 0===ye?void 0:ye.nativeElement,cn=Ft(this.zone,He.instance,zt);return{id:this.nextId++,stackId:fr(this.tabsPrefix,le),unlistenEvents:cn,element:zt,ref:He,url:le}}getExistingView(He){const Ut=Tr(this.router,He),ye=this.views.find(le=>le.url===Ut);return ye&&ye.ref.changeDetectorRef.reattach(),ye}setActive(He){var Ut,ye;const le=this.navCtrl.consumeTransition();let{direction:zt,animation:cn,animationBuilder:Zn}=le;const qn=this.activeView,Mn=sr(He,qn);Mn&&(zt="back",cn=void 0);const Gr=this.views.slice();let $o;const ei=this.router;ei.getCurrentNavigation?$o=ei.getCurrentNavigation():null!==(Ut=ei.navigations)&&void 0!==Ut&&Ut.value&&($o=ei.navigations.value),null!==(ye=$o)&&void 0!==ye&&null!==(ye=ye.extras)&&void 0!==ye&&ye.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const _o=this.views.includes(He),jo=this.insertView(He,zt);_o||He.ref.changeDetectorRef.detectChanges();const Dr=He.animationBuilder;return void 0===Zn&&"back"===zt&&!Mn&&void 0!==Dr&&(Zn=Dr),qn&&(qn.animationBuilder=Zn),this.zone.runOutsideAngular(()=>this.wait(()=>(qn&&qn.ref.changeDetectorRef.detach(),He.ref.changeDetectorRef.reattach(),this.transition(He,qn,cn,this.canGoBack(1),!1,Zn).then(()=>ko(He,jo,Gr,this.location,this.zone)).then(()=>({enteringView:He,direction:zt,animation:cn,tabSwitch:Mn})))))}canGoBack(He,Ut=this.getActiveStackId()){return this.getStack(Ut).length>He}pop(He,Ut=this.getActiveStackId()){return this.zone.run(()=>{const ye=this.getStack(Ut);if(ye.length<=He)return Promise.resolve(!1);const le=ye[ye.length-He-1];let zt=le.url;const cn=le.savedData;if(cn){var Zn;const Mn=cn.get("primary");null!=Mn&&null!==(Zn=Mn.route)&&void 0!==Zn&&null!==(Zn=Zn._routerState)&&void 0!==Zn&&Zn.snapshot.url&&(zt=Mn.route._routerState.snapshot.url)}const{animationBuilder:qn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(zt,{...le.savedExtras,animation:qn}).then(()=>!0)})}startBackTransition(){const He=this.activeView;if(He){const Ut=this.getStack(He.stackId),ye=Ut[Ut.length-2],le=ye.animationBuilder;return this.wait(()=>this.transition(ye,He,"back",this.canGoBack(2),!0,le))}return Promise.resolve()}endBackTransition(He){He?(this.skipTransition=!0,this.pop(1)):this.activeView&&Hr(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(He){const Ut=this.getStack(He);return Ut.length>0?Ut[Ut.length-1]:void 0}getRootUrl(He){const Ut=this.getStack(He);return Ut.length>0?Ut[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(ho),this.activeView=void 0,this.views=[]}getStack(He){return this.views.filter(Ut=>Ut.stackId===He)}insertView(He,Ut){return this.activeView=He,this.views=((mt,He,Ut)=>"root"===Ut?rn(mt,He):"forward"===Ut?((mt,He)=>(mt.indexOf(He)>=0?mt=mt.filter(ye=>ye.stackId!==He.stackId||ye.id<=He.id):mt.push(He),mt))(mt,He):((mt,He)=>mt.indexOf(He)>=0?mt.filter(ye=>ye.stackId!==He.stackId||ye.id<=He.id):rn(mt,He))(mt,He))(this.views,He,Ut),this.views.slice()}transition(He,Ut,ye,le,zt,cn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(Ut===He)return Promise.resolve(!1);const Zn=He?He.element:void 0,qn=Ut?Ut.element:void 0,Mn=this.containerEl;return Zn&&Zn!==qn&&(Zn.classList.add("ion-page"),Zn.classList.add("ion-page-invisible"),Mn.commit)?Mn.commit(Zn,qn,{duration:void 0===ye?0:void 0,direction:ye,showGoBack:le,progressAnimation:zt,animationBuilder:cn}):Promise.resolve(!1)}wait(He){var Ut=this;return(0,x.A)(function*(){void 0!==Ut.runningTask&&(yield Ut.runningTask,Ut.runningTask=void 0);const ye=Ut.runningTask=He();return ye.finally(()=>Ut.runningTask=void 0),ye})()}}const ko=(mt,He,Ut,ye,le)=>"function"==typeof requestAnimationFrame?new Promise(zt=>{requestAnimationFrame(()=>{Hr(mt,He,Ut,ye,le),zt()})}):Promise.resolve(),Hr=(mt,He,Ut,ye,le)=>{le.run(()=>Ut.filter(zt=>!He.includes(zt)).forEach(ho)),He.forEach(zt=>{const Zn=ye.path().split("?")[0].split("#")[0];if(zt!==mt&&zt.url!==Zn){const qn=zt.element;qn.setAttribute("aria-hidden","true"),qn.classList.add("ion-page-hidden"),zt.ref.changeDetectorRef.detach()}})};let zr=(()=>{var mt;class He{get activatedComponentRef(){return this.activated}set animation(ye){this.nativeEl.animation=ye}set animated(ye){this.nativeEl.animated=ye}set swipeGesture(ye){this._swipeGesture=ye,this.nativeEl.swipeHandler=ye?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:le=>this.stackCtrl.endBackTransition(le)}:void 0}constructor(ye,le,zt,cn,Zn,qn,Mn,Gr){(0,g.A)(this,"parentOutlet",void 0),(0,g.A)(this,"nativeEl",void 0),(0,g.A)(this,"activatedView",null),(0,g.A)(this,"tabsPrefix",void 0),(0,g.A)(this,"_swipeGesture",void 0),(0,g.A)(this,"stackCtrl",void 0),(0,g.A)(this,"proxyMap",new WeakMap),(0,g.A)(this,"currentActivatedRoute$",new Oe.t(null)),(0,g.A)(this,"activated",null),(0,g.A)(this,"_activatedRoute",null),(0,g.A)(this,"name",_e.Xk),(0,g.A)(this,"stackWillChange",new H.bkB),(0,g.A)(this,"stackDidChange",new H.bkB),(0,g.A)(this,"activateEvents",new H.bkB),(0,g.A)(this,"deactivateEvents",new H.bkB),(0,g.A)(this,"parentContexts",(0,H.WQX)(_e.Zp)),(0,g.A)(this,"location",(0,H.WQX)(H.c1b)),(0,g.A)(this,"environmentInjector",(0,H.WQX)(H.uvJ)),(0,g.A)(this,"inputBinder",(0,H.WQX)(xo,{optional:!0})),(0,g.A)(this,"supportsBindingToComponentInputs",!0),(0,g.A)(this,"config",(0,H.WQX)(lr)),(0,g.A)(this,"navCtrl",(0,H.WQX)(Bt)),this.parentOutlet=Gr,this.nativeEl=cn.nativeElement,this.name=ye||_e.Xk,this.tabsPrefix="true"===le?Tr(Zn,Mn):void 0,this.stackCtrl=new Vr(this.tabsPrefix,this.nativeEl,Zn,this.navCtrl,qn,zt),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var ye;this.stackCtrl.destroy(),null===(ye=this.inputBinder)||void 0===ye||ye.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const ye=this.getContext();null!=ye&&ye.route&&this.activateWith(ye.route,ye.injector)}new Promise(ye=>(0,se.c)(this.nativeEl,ye)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(ye,le){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const le=this.getContext();this.activatedView.savedData=new Map(le.children.contexts);const zt=this.activatedView.savedData.get("primary");if(zt&&le.route&&(zt.route={...le.route}),this.activatedView.savedExtras={},le.route){const cn=le.route.snapshot;this.activatedView.savedExtras.queryParams=cn.queryParams,this.activatedView.savedExtras.fragment=cn.fragment}}const ye=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(ye)}}activateWith(ye,le){var zt;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=ye;let cn,Zn=this.stackCtrl.getExistingView(ye);if(Zn){cn=this.activated=Zn.ref;const Gr=Zn.savedData;Gr&&(this.getContext().children.contexts=Gr),this.updateActivatedRouteProxy(cn.instance,ye)}else{var qn;const Gr=ye._futureSnapshot,$o=this.parentContexts.getOrCreateContext(this.name).children,ei=new Oe.t(null),_o=this.createActivatedRouteProxy(ei,ye),jo=new Jr(_o,$o,this.location.injector),Dr=null!==(qn=Gr.routeConfig.component)&&void 0!==qn?qn:Gr.component;cn=this.activated=this.outletContent.createComponent(Dr,{index:this.outletContent.length,injector:jo,environmentInjector:null!=le?le:this.environmentInjector}),ei.next(cn.instance),Zn=this.stackCtrl.createView(this.activated,ye),this.proxyMap.set(cn.instance,_o),this.currentActivatedRoute$.next({component:cn.instance,activatedRoute:ye})}null===(zt=this.inputBinder)||void 0===zt||zt.bindActivatedRouteToOutletComponent(this),this.activatedView=Zn,this.navCtrl.setTopOutlet(this);const Mn=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:Zn,tabSwitch:sr(Zn,Mn)}),this.stackCtrl.setActive(Zn).then(Gr=>{this.activateEvents.emit(cn.instance),this.stackDidChange.emit(Gr)})}canGoBack(ye=1,le){return this.stackCtrl.canGoBack(ye,le)}pop(ye=1,le){return this.stackCtrl.pop(ye,le)}getLastUrl(ye){const le=this.stackCtrl.getLastUrl(ye);return le?le.url:void 0}getLastRouteView(ye){return this.stackCtrl.getLastUrl(ye)}getRootView(ye){return this.stackCtrl.getRootUrl(ye)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(ye,le){const zt=new _e.nX;return zt._futureSnapshot=le._futureSnapshot,zt._routerState=le._routerState,zt.snapshot=le.snapshot,zt.outlet=le.outlet,zt.component=le.component,zt._paramMap=this.proxyObservable(ye,"paramMap"),zt._queryParamMap=this.proxyObservable(ye,"queryParamMap"),zt.url=this.proxyObservable(ye,"url"),zt.params=this.proxyObservable(ye,"params"),zt.queryParams=this.proxyObservable(ye,"queryParams"),zt.fragment=this.proxyObservable(ye,"fragment"),zt.data=this.proxyObservable(ye,"data"),zt}proxyObservable(ye,le){return ye.pipe((0,ot.p)(zt=>!!zt),(0,it.n)(zt=>this.currentActivatedRoute$.pipe((0,ot.p)(cn=>null!==cn&&cn.component===zt),(0,it.n)(cn=>cn&&cn.activatedRoute[le]),function ct(mt,He=Pe.D){return mt=null!=mt?mt:Je,(0,pe.N)((Ut,ye)=>{let le,zt=!0;Ut.subscribe((0,vt._)(ye,cn=>{const Zn=He(cn);(zt||!mt(le,Zn))&&(zt=!1,le=Zn,ye.next(cn))}))})}())))}updateActivatedRouteProxy(ye,le){const zt=this.proxyMap.get(ye);if(!zt)throw new Error("Could not find activated route proxy for view");zt._futureSnapshot=le._futureSnapshot,zt._routerState=le._routerState,zt.snapshot=le.snapshot,zt.outlet=le.outlet,zt.component=le.component,this.currentActivatedRoute$.next({component:ye,activatedRoute:le})}}return mt=He,(0,g.A)(He,"\u0275fac",function(ye){return new(ye||mt)(H.kS0("name"),H.kS0("tabs"),H.rXU(J.aZ),H.rXU(H.aKT),H.rXU(_e.Ix),H.rXU(H.SKi),H.rXU(_e.nX),H.rXU(mt,12))}),(0,g.A)(He,"\u0275dir",H.FsC({type:mt,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),He})();class Jr{constructor(He,Ut,ye){(0,g.A)(this,"route",void 0),(0,g.A)(this,"childContexts",void 0),(0,g.A)(this,"parent",void 0),this.route=He,this.childContexts=Ut,this.parent=ye}get(He,Ut){return He===_e.nX?this.route:He===_e.Zp?this.childContexts:this.parent.get(He,Ut)}}const xo=new H.nKC("");let Er=(()=>{var mt;class He{constructor(){(0,g.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(ye){this.unsubscribeFromRouteData(ye),this.subscribeToRouteData(ye)}unsubscribeFromRouteData(ye){var le;null===(le=this.outletDataSubscriptions.get(ye))||void 0===le||le.unsubscribe(),this.outletDataSubscriptions.delete(ye)}subscribeToRouteData(ye){const{activatedRoute:le}=ye,zt=(0,Se.z)([le.queryParams,le.params,le.data]).pipe((0,it.n)(([cn,Zn,qn],Mn)=>(qn={...cn,...Zn,...qn},0===Mn?(0,qe.of)(qn):Promise.resolve(qn)))).subscribe(cn=>{if(!ye.isActivated||!ye.activatedComponentRef||ye.activatedRoute!==le||null===le.component)return void this.unsubscribeFromRouteData(ye);const Zn=(0,H.HJs)(le.component);if(Zn)for(const{templateName:qn}of Zn.inputs)ye.activatedComponentRef.setInput(qn,cn[qn]);else this.unsubscribeFromRouteData(ye)});this.outletDataSubscriptions.set(ye,zt)}}return mt=He,(0,g.A)(He,"\u0275fac",function(ye){return new(ye||mt)}),(0,g.A)(He,"\u0275prov",H.jDH({token:mt,factory:mt.\u0275fac})),He})();const To=()=>({provide:xo,useFactory:Lr,deps:[_e.Ix]});function Lr(mt){return null!=mt&&mt.componentInputBindingEnabled?new Er:null}const io=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let nn=(()=>{var mt;let He=((0,g.A)(mt=class{constructor(ye,le,zt,cn,Zn,qn){(0,g.A)(this,"routerOutlet",void 0),(0,g.A)(this,"navCtrl",void 0),(0,g.A)(this,"config",void 0),(0,g.A)(this,"r",void 0),(0,g.A)(this,"z",void 0),(0,g.A)(this,"el",void 0),this.routerOutlet=ye,this.navCtrl=le,this.config=zt,this.r=cn,this.z=Zn,qn.detach(),this.el=this.r.nativeElement}onClick(ye){var le;const zt=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(le=this.routerOutlet)&&void 0!==le&&le.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),ye.preventDefault()):null!=zt&&(this.navCtrl.navigateBack(zt,{animation:this.routerAnimation}),ye.preventDefault())}},"\u0275fac",function(ye){return new(ye||mt)(H.rXU(zr,8),H.rXU(Bt),H.rXU(lr),H.rXU(H.aKT),H.rXU(H.SKi),H.rXU(H.gRc))}),(0,g.A)(mt,"\u0275dir",H.FsC({type:mt,hostBindings:function(ye,le){1&ye&&H.bIt("click",function(cn){return le.onClick(cn)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),mt);return He=(0,Ne.Cg)([Xr({inputs:io})],He),He})(),Ir=(()=>{var mt;class He{constructor(ye,le,zt,cn,Zn){(0,g.A)(this,"locationStrategy",void 0),(0,g.A)(this,"navCtrl",void 0),(0,g.A)(this,"elementRef",void 0),(0,g.A)(this,"router",void 0),(0,g.A)(this,"routerLink",void 0),(0,g.A)(this,"routerDirection","forward"),(0,g.A)(this,"routerAnimation",void 0),this.locationStrategy=ye,this.navCtrl=le,this.elementRef=zt,this.router=cn,this.routerLink=Zn}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){const le=this.elementRef.nativeElement;["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"].includes(le.tagName)&&"0"===le.getAttribute("tabindex")&&le.removeAttribute("tabindex")}updateTargetUrlAndHref(){var ye;if(null!==(ye=this.routerLink)&&void 0!==ye&&ye.urlTree){const le=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=le}}onClick(ye){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),ye.preventDefault()}}return mt=He,(0,g.A)(He,"\u0275fac",function(ye){return new(ye||mt)(H.rXU(J.hb),H.rXU(Bt),H.rXU(H.aKT),H.rXU(_e.Ix),H.rXU(_e.Wk,8))}),(0,g.A)(He,"\u0275dir",H.FsC({type:mt,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(ye,le){1&ye&&H.bIt("click",function(cn){return le.onClick(cn)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[H.OA$]})),He})(),$r=(()=>{var mt;class He{constructor(ye,le,zt,cn,Zn){(0,g.A)(this,"locationStrategy",void 0),(0,g.A)(this,"navCtrl",void 0),(0,g.A)(this,"elementRef",void 0),(0,g.A)(this,"router",void 0),(0,g.A)(this,"routerLink",void 0),(0,g.A)(this,"routerDirection","forward"),(0,g.A)(this,"routerAnimation",void 0),this.locationStrategy=ye,this.navCtrl=le,this.elementRef=zt,this.router=cn,this.routerLink=Zn}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var ye;if(null!==(ye=this.routerLink)&&void 0!==ye&&ye.urlTree){const le=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=le}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return mt=He,(0,g.A)(He,"\u0275fac",function(ye){return new(ye||mt)(H.rXU(J.hb),H.rXU(Bt),H.rXU(H.aKT),H.rXU(_e.Ix),H.rXU(_e.Wk,8))}),(0,g.A)(He,"\u0275dir",H.FsC({type:mt,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(ye,le){1&ye&&H.bIt("click",function(){return le.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[H.OA$]})),He})();const lo=["animated","animation","root","rootParams","swipeGesture"],Qt=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let Pt=(()=>{var mt;let He=((0,g.A)(mt=class{constructor(ye,le,zt,cn,Zn,qn){(0,g.A)(this,"z",void 0),(0,g.A)(this,"el",void 0),this.z=Zn,qn.detach(),this.el=ye.nativeElement,ye.nativeElement.delegate=cn.create(le,zt),wr(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(ye){return new(ye||mt)(H.rXU(H.aKT),H.rXU(H.uvJ),H.rXU(H.zZn),H.rXU(de),H.rXU(H.SKi),H.rXU(H.gRc))}),(0,g.A)(mt,"\u0275dir",H.FsC({type:mt,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),mt);return He=(0,Ne.Cg)([Xr({inputs:lo,methods:Qt})],He),He})(),sn=(()=>{var mt;class He{constructor(ye){(0,g.A)(this,"navCtrl",void 0),(0,g.A)(this,"tabsInner",void 0),(0,g.A)(this,"ionTabsWillChange",new H.bkB),(0,g.A)(this,"ionTabsDidChange",new H.bkB),(0,g.A)(this,"tabBarSlot","bottom"),(0,g.A)(this,"hasTab",!1),(0,g.A)(this,"selectedTab",void 0),(0,g.A)(this,"leavingTab",void 0),this.navCtrl=ye}ngAfterViewInit(){const ye=this.tabs.length>0?this.tabs.first:void 0;ye&&(this.hasTab=!0,this.setActiveTab(ye.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:ye,tabSwitch:le}){const zt=ye.stackId;le&&void 0!==zt&&this.ionTabsWillChange.emit({tab:zt})}onStackDidChange({enteringView:ye,tabSwitch:le}){const zt=ye.stackId;le&&void 0!==zt&&(this.tabBar&&(this.tabBar.selectedTab=zt),this.ionTabsDidChange.emit({tab:zt}))}select(ye){const le="string"==typeof ye,zt=le?ye:ye.detail.tab;if(this.hasTab)return this.setActiveTab(zt),void this.tabSwitch();const cn=this.outlet.getActiveStackId()===zt,Zn=`${this.outlet.tabsPrefix}/${zt}`;if(le||ye.stopPropagation(),cn){const qn=this.outlet.getActiveStackId(),Mn=this.outlet.getLastRouteView(qn);if((null==Mn?void 0:Mn.url)===Zn)return;const Gr=this.outlet.getRootView(zt);return this.navCtrl.navigateRoot(Zn,{...Gr&&Zn===Gr.url&&Gr.savedExtras,animated:!0,animationDirection:"back"})}{const qn=this.outlet.getLastRouteView(zt);return this.navCtrl.navigateRoot((null==qn?void 0:qn.url)||Zn,{...null==qn?void 0:qn.savedExtras,animated:!0,animationDirection:"back"})}}setActiveTab(ye){const zt=this.tabs.find(cn=>cn.tab===ye);zt?(this.leavingTab=this.selectedTab,this.selectedTab=zt,this.ionTabsWillChange.emit({tab:ye}),zt.el.active=!0):console.error(`[Ionic Error]: Tab with id: "${ye}" does not exist`)}tabSwitch(){const{selectedTab:ye,leavingTab:le}=this;this.tabBar&&ye&&(this.tabBar.selectedTab=ye.tab),(null==le?void 0:le.tab)!==(null==ye?void 0:ye.tab)&&null!=le&&le.el&&(le.el.active=!1),ye&&this.ionTabsDidChange.emit({tab:ye.tab})}getSelected(){var ye;return this.hasTab?null===(ye=this.selectedTab)||void 0===ye?void 0:ye.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(ye=>{const le=ye.el.getAttribute("slot");le!==this.tabBarSlot&&(this.tabBarSlot=le,this.relocateTabBar())})}relocateTabBar(){const ye=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(ye):this.tabsInner.nativeElement.after(ye)}}return mt=He,(0,g.A)(He,"\u0275fac",function(ye){return new(ye||mt)(H.rXU(Bt))}),(0,g.A)(He,"\u0275dir",H.FsC({type:mt,selectors:[["ion-tabs"]],viewQuery:function(ye,le){if(1&ye&&H.GBs($e,7,H.aKT),2&ye){let zt;H.mGM(zt=H.lsd())&&(le.tabsInner=zt.first)}},hostBindings:function(ye,le){1&ye&&H.bIt("ionTabButtonClick",function(cn){return le.select(cn)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),He})();const _t=mt=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(mt):"function"==typeof requestAnimationFrame?requestAnimationFrame(mt):setTimeout(mt);let Tt=(()=>{var mt;class He{constructor(ye,le){(0,g.A)(this,"injector",void 0),(0,g.A)(this,"elementRef",void 0),(0,g.A)(this,"onChange",()=>{}),(0,g.A)(this,"onTouched",()=>{}),(0,g.A)(this,"lastValue",void 0),(0,g.A)(this,"statusChanges",void 0),this.injector=ye,this.elementRef=le}writeValue(ye){this.elementRef.nativeElement.value=this.lastValue=ye,_n(this.elementRef)}handleValueChange(ye,le){ye===this.elementRef.nativeElement&&(le!==this.lastValue&&(this.lastValue=le,this.onChange(le)),_n(this.elementRef))}_handleBlurEvent(ye){ye===this.elementRef.nativeElement&&(this.onTouched(),_n(this.elementRef))}registerOnChange(ye){this.onChange=ye}registerOnTouched(ye){this.onTouched=ye}setDisabledState(ye){this.elementRef.nativeElement.disabled=ye}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let ye;try{ye=this.injector.get(Ce.vO)}catch{}if(!ye)return;ye.statusChanges&&(this.statusChanges=ye.statusChanges.subscribe(()=>_n(this.elementRef)));const le=ye.control;le&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(cn=>{if(typeof le[cn]<"u"){const Zn=le[cn].bind(le);le[cn]=(...qn)=>{Zn(...qn),_n(this.elementRef)}}})}}return mt=He,(0,g.A)(He,"\u0275fac",function(ye){return new(ye||mt)(H.rXU(H.zZn),H.rXU(H.aKT))}),(0,g.A)(He,"\u0275dir",H.FsC({type:mt,hostBindings:function(ye,le){1&ye&&H.bIt("ionBlur",function(cn){return le._handleBlurEvent(cn.target)})}})),He})();const _n=mt=>{_t(()=>{const He=mt.nativeElement,Ut=null!=He.value&&He.value.toString().length>0,ye=Nn(He);bt(He,ye);const le=He.closest("ion-item");le&&bt(le,Ut?[...ye,"item-has-value"]:ye)})},Nn=mt=>{const He=mt.classList,Ut=[];for(let ye=0;ye<He.length;ye++){const le=He.item(ye);null!==le&&jt(le,"ng-")&&Ut.push(`ion-${le.substring(3)}`)}return Ut},bt=(mt,He)=>{const Ut=mt.classList;Ut.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),Ut.add(...He)},jt=(mt,He)=>mt.substring(0,He.length)===He;class vn{shouldDetach(He){return!1}shouldAttach(He){return!1}store(He,Ut){}retrieve(He){return null}shouldReuseRoute(He,Ut){if(He.routeConfig!==Ut.routeConfig)return!1;const ye=He.params,le=Ut.params,zt=Object.keys(ye),cn=Object.keys(le);if(zt.length!==cn.length)return!1;for(const Zn of zt)if(le[Zn]!==ye[Zn])return!1;return!0}}class gn{constructor(He){(0,g.A)(this,"ctrl",void 0),this.ctrl=He}create(He){return this.ctrl.create(He||{})}dismiss(He,Ut,ye){return this.ctrl.dismiss(He,Ut,ye)}getTop(){return this.ctrl.getTop()}}},9795:(Vn,At,B)=>{"use strict";B.d(At,{hG:()=>bc,U1:()=>jp,Rg:()=>Oa,Xi:()=>Wd,_H:()=>qp});var x=B(9842),g=B(1635),H=B(4438),_e=B(8880),J=B(467),S=B(1771);const ke=(C,u,p,y,E)=>Ge(C[1],u[1],p[1],y[1],E).map(F=>se(C[0],u[0],p[0],y[0],F)),se=(C,u,p,y,E)=>E*(3*u*Math.pow(E-1,2)+E*(-3*p*E+3*p+y*E))-C*Math.pow(E-1,3),Ge=(C,u,p,y,E)=>Oe((y-=E)-3*(p-=E)+3*(u-=E)-(C-=E),3*p-6*u+3*C,3*u-3*C,C).filter(te=>te>=0&&te<=1),Oe=(C,u,p,y)=>{if(0===C)return((C,u,p)=>{const y=u*u-4*C*p;return y<0?[]:[(-u+Math.sqrt(y))/(2*C),(-u-Math.sqrt(y))/(2*C)]})(u,p,y);const E=(3*(p/=C)-(u/=C)*u)/3,F=(2*u*u*u-9*u*p+27*(y/=C))/27;if(0===E)return[Math.pow(-F,1/3)];if(0===F)return[Math.sqrt(-E),-Math.sqrt(-E)];const te=Math.pow(F/2,2)+Math.pow(E/3,3);if(0===te)return[Math.pow(F/2,.5)-u/3];if(te>0)return[Math.pow(-F/2+Math.sqrt(te),1/3)-Math.pow(F/2+Math.sqrt(te),1/3)-u/3];const be=Math.sqrt(Math.pow(-E/3,3)),ze=Math.acos(-F/(2*Math.sqrt(Math.pow(-E/3,3)))),gt=2*Math.pow(be,1/3);return[gt*Math.cos(ze/3)-u/3,gt*Math.cos((ze+2*Math.PI)/3)-u/3,gt*Math.cos((ze+4*Math.PI)/3)-u/3]};var Se=B(1656);const qe=function(){var C=(0,J.A)(function*(u,p,y,E,F,te){var be;if(u)return u.attachViewToDom(p,y,F,E);if(!(te||"string"==typeof y||y instanceof HTMLElement))throw new Error("framework delegate is missing");const ze="string"==typeof y?null===(be=p.ownerDocument)||void 0===be?void 0:be.createElement(y):y;return E&&E.forEach(gt=>ze.classList.add(gt)),F&&Object.assign(ze,F),p.appendChild(ze),yield new Promise(gt=>(0,Se.c)(ze,gt)),ze});return function(p,y,E,F,te,be){return C.apply(this,arguments)}}(),Ne=(C,u)=>{if(u){if(C)return C.removeViewFromDom(u.parentElement,u);u.remove()}return Promise.resolve()},ot=()=>{let C,u;return{attachViewToDom:function(){var E=(0,J.A)(function*(F,te,be={},ze=[]){var gt,Wt;let un;if(C=F,te){const pn="string"==typeof te?null===(gt=C.ownerDocument)||void 0===gt?void 0:gt.createElement(te):te;ze.forEach(Sn=>pn.classList.add(Sn)),Object.assign(pn,be),C.appendChild(pn),un=pn,yield new Promise(Sn=>(0,Se.c)(pn,Sn))}else if(C.children.length>0&&("ION-MODAL"===C.tagName||"ION-POPOVER"===C.tagName)&&!(un=C.children[0]).classList.contains("ion-delegate-host")){const Sn=null===(Wt=C.ownerDocument)||void 0===Wt?void 0:Wt.createElement("div");Sn.classList.add("ion-delegate-host"),ze.forEach(Tn=>Sn.classList.add(Tn)),Sn.append(...C.children),C.appendChild(Sn),un=Sn}const An=document.querySelector("ion-app")||document.body;return u=document.createComment("ionic teleport"),C.parentNode.insertBefore(u,C),An.appendChild(C),null!=un?un:C});return function(te,be){return E.apply(this,arguments)}}(),removeViewFromDom:()=>(C&&u&&(u.parentNode.insertBefore(C,u),u.remove()),Promise.resolve())}},it=()=>{let C;return{lock:function(){var p=(0,J.A)(function*(){const y=C;let E;return C=new Promise(F=>E=F),void 0!==y&&(yield y),E});return function(){return p.apply(this,arguments)}}()}};var Pe=B(6031),pe=B(5531);const Je=(0,S.w$)(class extends S.wt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=(0,S.lh)(this,"ionNavWillLoad",7),this.ionNavWillChange=(0,S.lh)(this,"ionNavWillChange",3),this.ionNavDidChange=(0,S.lh)(this,"ionNavDidChange",3),this.lockController=it(),this.gestureOrAnimationInProgress=!1,this.mode=(0,pe.b)(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(void 0!==this.swipeHandler)}connectedCallback(){var u=this;return(0,J.A)(function*(){u.gesture=(yield B.e(6499).then(B.bind(B,6499))).createSwipeBackGesture(u.el,()=>!u.gestureOrAnimationInProgress&&!!u.swipeHandler&&u.swipeHandler.canStart(),()=>(u.gestureOrAnimationInProgress=!0,void(u.swipeHandler&&u.swipeHandler.onStart())),y=>{var E;return null===(E=u.ani)||void 0===E?void 0:E.progressStep(y)},(y,E,F)=>{if(u.ani){u.ani.onFinish(()=>{u.gestureOrAnimationInProgress=!1,u.swipeHandler&&u.swipeHandler.onEnd(y)},{oneTimeCallback:!0});let te=y?-.001:.001;y?te+=ke([0,0],[.32,.72],[0,1],[1,1],E)[0]:(u.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),te+=ke([0,0],[1,0],[.68,.28],[1,1],E)[0]),u.ani.progressEnd(y?1:0,te,F)}else u.gestureOrAnimationInProgress=!1}),u.swipeHandlerChanged()})()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}commit(u,p,y){var E=this;return(0,J.A)(function*(){const F=yield E.lockController.lock();let te=!1;try{te=yield E.transition(u,p,y)}catch(be){console.error(be)}return F(),te})()}setRouteId(u,p,y,E){var F=this;return(0,J.A)(function*(){return{changed:yield F.setRoot(u,p,{duration:"root"===y?0:void 0,direction:"back"===y?"back":"forward",animationBuilder:E}),element:F.activeEl}})()}getRouteId(){var u=this;return(0,J.A)(function*(){const p=u.activeEl;return p?{id:p.tagName,element:p,params:u.activeParams}:void 0})()}setRoot(u,p,y){var E=this;return(0,J.A)(function*(){if(E.activeComponent===u&&(0,Se.s)(p,E.activeParams))return!1;const F=E.activeEl,te=yield qe(E.delegate,E.el,u,["ion-page","ion-page-invisible"],p);return E.activeComponent=u,E.activeEl=te,E.activeParams=p,yield E.commit(te,F,y),yield Ne(E.delegate,F),!0})()}transition(u,p,y={}){var E=this;return(0,J.A)(function*(){if(p===u)return!1;E.ionNavWillChange.emit();const{el:F,mode:te}=E,be=E.animated&&pe.c.getBoolean("animated",!0),ze=y.animationBuilder||E.animation||pe.c.get("navAnimation");return yield(0,Pe.t)(Object.assign(Object.assign({mode:te,animated:be,enteringEl:u,leavingEl:p,baseEl:F,deepWait:(0,Se.j)(F),progressCallback:y.progressAnimation?gt=>{void 0===gt||E.gestureOrAnimationInProgress?E.ani=gt:(E.gestureOrAnimationInProgress=!0,gt.onFinish(()=>{E.gestureOrAnimationInProgress=!1,E.swipeHandler&&E.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),gt.progressEnd(0,0,0))}:void 0},y),{animationBuilder:ze})),E.ionNavDidChange.emit(),!0})()}render(){return(0,S.h)("slot",{key:"8279a453c66a766e6e383ff59842b4ae070c13a9"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}"}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]),re=function Ce(){typeof customElements>"u"||["ion-router-outlet"].forEach(u=>{"ion-router-outlet"===u&&(customElements.get(u)||customElements.define(u,Je))})};var rt=B(177),Dt=B(2902),Ke=B(7849),je=B(1979),Lt=B(6081),Bt=B(4878),Xn=B(5098),tn=B(8875);const Kn='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',lr=(C,u)=>{const p=C.querySelector(Kn);Ue(p,null!=u?u:C)},ut=(C,u)=>{const p=Array.from(C.querySelectorAll(Kn));Ue(p.length>0?p[p.length-1]:null,null!=u?u:C)},Ue=(C,u)=>{let p=C;const y=null==C?void 0:C.shadowRoot;y&&(p=y.querySelector(Kn)||C),p?(0,Se.f)(p):u.focus()};let ce=0,de=0;const Ae=new WeakMap,Et=C=>({create:u=>hr(C,u),dismiss:(u,p,y)=>yn(document,u,p,C,y),getTop:()=>(0,J.A)(function*(){return Kt(document,C)})()}),Mt=Et("ion-alert"),ln=Et("ion-loading"),Xt=Et("ion-modal"),er=Et("ion-popover"),wr=C=>{typeof document<"u"&&Kr(document);const u=ce++;C.overlayIndex=u},Xr=C=>(C.hasAttribute("id")||(C.id="ion-overlay-"+ ++de),C.id),hr=(C,u)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(C).then(()=>{const p=document.createElement(C);return p.classList.add("overlay-hidden"),Object.assign(p,Object.assign(Object.assign({},u),{hasController:!0})),uo(document).appendChild(p),new Promise(y=>(0,Se.c)(p,y))}):Promise.resolve(),xr=(C,u)=>{let p=C;const y=null==C?void 0:C.shadowRoot;y&&(p=y.querySelector(Kn)||C),p?(0,Se.f)(p):u.focus()},Kr=C=>{0===ce&&(ce=1,C.addEventListener("focus",u=>{((C,u)=>{const p=Kt(u,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),y=C.target;p&&y&&!p.classList.contains(lo)&&(p.shadowRoot?(()=>{if(p.contains(y))p.lastFocus=y;else if("ION-TOAST"===y.tagName)xr(p.lastFocus,p);else{const te=p.lastFocus;lr(p),te===u.activeElement&&ut(p),p.lastFocus=u.activeElement}})():(()=>{if(p===y)p.lastFocus=void 0;else if("ION-TOAST"===y.tagName)xr(p.lastFocus,p);else{const te=(0,Se.g)(p);if(!te.contains(y))return;const be=te.querySelector(".ion-overlay-wrapper");if(!be)return;if(be.contains(y)||y===te.querySelector("ion-backdrop"))p.lastFocus=y;else{const ze=p.lastFocus;lr(be,p),ze===u.activeElement&&ut(be,p),p.lastFocus=u.activeElement}}})())})(u,C)},!0),C.addEventListener("ionBackButton",u=>{const p=Kt(C);null!=p&&p.backdropDismiss&&u.detail.register(Xn.OVERLAY_BACK_BUTTON_PRIORITY,()=>{p.dismiss(void 0,xo)})}),(0,Xn.shouldUseCloseWatcher)()||C.addEventListener("keydown",u=>{if("Escape"===u.key){const p=Kt(C);null!=p&&p.backdropDismiss&&p.dismiss(void 0,xo)}}))},yn=(C,u,p,y,E)=>{const F=Kt(C,y,E);return F?F.dismiss(u,p):Promise.reject("overlay does not exist")},rn=(C,u)=>((C,u)=>(void 0===u&&(u="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(C.querySelectorAll(u)).filter(p=>p.overlayIndex>0)))(C,u).filter(p=>!(C=>C.classList.contains("overlay-hidden"))(p)),Kt=(C,u,p)=>{const y=rn(C,u);return void 0===p?y[y.length-1]:y.find(E=>E.id===p)},Br=(C=!1)=>{const p=uo(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");p&&(C?p.setAttribute("aria-hidden","true"):p.removeAttribute("aria-hidden"))},Tr=function(){var C=(0,J.A)(function*(u,p,y,E,F){var te,be;if(u.presented)return;"ION-TOAST"!==u.el.tagName&&Br(!0),document.body.classList.add(tn.B),Ir(u.el),nn(u.el),u.presented=!0,u.willPresent.emit(),null===(te=u.willPresentShorthand)||void 0===te||te.emit();const ze=(0,pe.b)(u),gt=u.enterAnimation?u.enterAnimation:pe.c.get(p,"ios"===ze?y:E);(yield ho(u,gt,u.el,F))&&(u.didPresent.emit(),null===(be=u.didPresentShorthand)||void 0===be||be.emit()),"ION-TOAST"!==u.el.tagName&&sr(u.el),u.keyboardClose&&(null===document.activeElement||!u.el.contains(document.activeElement))&&u.el.focus(),u.el.removeAttribute("aria-hidden")});return function(p,y,E,F,te){return C.apply(this,arguments)}}(),sr=function(){var C=(0,J.A)(function*(u){let p=document.activeElement;if(!p)return;const y=null==p?void 0:p.shadowRoot;y&&(p=y.querySelector(Kn)||p),yield u.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&p.focus()});return function(p){return C.apply(this,arguments)}}(),fr=function(){var C=(0,J.A)(function*(u,p,y,E,F,te,be){var ze,gt;if(!u.presented)return!1;const Wt=void 0!==Bt.d?rn(Bt.d).filter(An=>"ION-TOAST"!==An.tagName):[];1===Wt.length&&Wt[0].id===u.el.id&&(Br(!1),document.body.classList.remove(tn.B)),u.presented=!1;try{nn(u.el),u.el.style.setProperty("pointer-events","none"),u.willDismiss.emit({data:p,role:y}),null===(ze=u.willDismissShorthand)||void 0===ze||ze.emit({data:p,role:y});const An=(0,pe.b)(u),pn=u.leaveAnimation?u.leaveAnimation:pe.c.get(E,"ios"===An?F:te);y!==Er&&(yield ho(u,pn,u.el,be)),u.didDismiss.emit({data:p,role:y}),null===(gt=u.didDismissShorthand)||void 0===gt||gt.emit({data:p,role:y}),(Ae.get(u)||[]).forEach(Tn=>Tn.destroy()),Ae.delete(u),u.el.classList.add("overlay-hidden"),u.el.style.removeProperty("pointer-events"),void 0!==u.el.lastFocus&&(u.el.lastFocus=void 0)}catch(An){console.error(An)}return u.el.remove(),$r(),!0});return function(p,y,E,F,te,be,ze){return C.apply(this,arguments)}}(),uo=C=>C.querySelector("ion-app")||C.body,ho=function(){var C=(0,J.A)(function*(u,p,y,E){y.classList.remove("overlay-hidden");const te=p(u.el,E);(!u.animated||!pe.c.getBoolean("animated",!0))&&te.duration(0),u.keyboardClose&&te.beforeAddWrite(()=>{const ze=y.ownerDocument.activeElement;null!=ze&&ze.matches("input,ion-input, ion-textarea")&&ze.blur()});const be=Ae.get(u)||[];return Ae.set(u,[...be,te]),yield te.play(),!0});return function(p,y,E,F){return C.apply(this,arguments)}}(),Vr=(C,u)=>{let p;const y=new Promise(E=>p=E);return ko(C,u,E=>{p(E.detail)}),y},ko=(C,u,p)=>{const y=E=>{(0,Se.b)(C,u,y),p(E)};(0,Se.a)(C,u,y)},Hr=C=>"cancel"===C||C===xo,zr=C=>C(),Jr=(C,u)=>{if("function"==typeof C)return pe.c.get("_zoneGate",zr)(()=>{try{return C(u)}catch(y){throw y}})},xo="backdrop",Er="gesture",Lr=C=>{let p,u=!1;const y=ot(),E=(be=!1)=>{if(p&&!be)return{delegate:p,inline:u};const{el:ze,hasController:gt,delegate:Wt}=C;return u=null!==ze.parentNode&&!gt,p=u?Wt||y:Wt,{inline:u,delegate:p}};return{attachViewToDom:function(){var be=(0,J.A)(function*(ze){const{delegate:gt}=E(!0);if(gt)return yield gt.attachViewToDom(C.el,ze);const{hasController:Wt}=C;if(Wt&&void 0!==ze)throw new Error("framework delegate is missing");return null});return function(gt){return be.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:be}=E();be&&void 0!==C.el&&be.removeViewFromDom(C.el.parentElement,C.el)}}},io=()=>{let C;const u=()=>{C&&(C(),C=void 0)};return{addClickListener:(y,E)=>{u();const F=void 0!==E?document.getElementById(E):null;F?C=((be,ze)=>{const gt=()=>{ze.present()};return be.addEventListener("click",gt),()=>{be.removeEventListener("click",gt)}})(F,y):(0,je.p)(`A trigger element with the ID "${E}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,y)},removeClickListener:u}},nn=C=>{void 0!==Bt.d&&C.setAttribute("aria-hidden","true")},Ir=C=>{var u;if(void 0===Bt.d)return;const p=rn(Bt.d);for(let y=p.length-1;y>=0;y--){const E=p[y],F=null!==(u=p[y+1])&&void 0!==u?u:C;(F.hasAttribute("aria-hidden")||"ION-TOAST"!==F.tagName)&&E.setAttribute("aria-hidden","true")}},$r=()=>{if(void 0===Bt.d)return;const C=rn(Bt.d);for(let u=C.length-1;u>=0;u--){const p=C[u];if(p.removeAttribute("aria-hidden"),"ION-TOAST"!==p.tagName)break}},lo="ion-disable-focus-trap",Pt=(C,u)=>"string"==typeof C&&C.length>0?Object.assign({"ion-color":!0,[`ion-color-${C}`]:!0},u):u,_t=C=>{const u={};return(C=>void 0!==C?(Array.isArray(C)?C:C.split(" ")).filter(p=>null!=p).map(p=>p.trim()).filter(p=>""!==p):[])(C).forEach(p=>u[p]=!0),u};var Nn=B(6008),bt=B(555),jt=B(2104);const Ut=(0,S.w$)(class extends S.wt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionBackdropTap=(0,S.lh)(this,"ionBackdropTap",7),this.visible=!0,this.tappable=!0,this.stopPropagation=!0}onMouseDown(u){this.emitTap(u)}emitTap(u){this.stopPropagation&&(u.preventDefault(),u.stopPropagation()),this.tappable&&this.ionBackdropTap.emit()}render(){const u=(0,pe.b)(this);return(0,S.h)(S.xr,{key:"fe191068e2aaadfdbe7a463c08d227a1b36d7a98","aria-hidden":"true",class:{[u]:!0,"backdrop-hide":!this.visible,"backdrop-no-tappable":!this.tappable}})}static get style(){return{ios:":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",md:":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}"}}},[33,"ion-backdrop",{visible:[4],tappable:[4],stopPropagation:[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]);function ye(){typeof customElements>"u"||["ion-backdrop"].forEach(u=>{"ion-backdrop"===u&&(customElements.get(u)||customElements.define(u,Ut))})}var le=function(C){return C.Dark="DARK",C.Light="LIGHT",C.Default="DEFAULT",C}(le||{});const zt={getEngine(){const C=(0,Lt.g)();if(null!=C&&C.isPluginAvailable("StatusBar"))return C.Plugins.StatusBar},setStyle(C){const u=this.getEngine();u&&u.setStyle(C)},getStyle:(C=(0,J.A)(function*(){const u=this.getEngine();if(!u)return le.Default;const{style:p}=yield u.getInfo();return p}),function(){return C.apply(this,arguments)})},cn=(C,u)=>{if(1===u)return 0;const p=1/(1-u);return C*p+-u*p},Zn=()=>{!Bt.w||Bt.w.innerWidth>=768||zt.setStyle({style:le.Dark})},qn=(C=le.Default)=>{!Bt.w||Bt.w.innerWidth>=768||zt.setStyle({style:C})},Mn=function(){var C=(0,J.A)(function*(u,p){"function"!=typeof u.canDismiss||!(yield u.canDismiss(void 0,Er))||(p.isRunning()?p.onFinish(()=>{u.dismiss(void 0,"handler")},{oneTimeCallback:!0}):u.dismiss(void 0,"handler"))});return function(p,y){return C.apply(this,arguments)}}(),Gr=C=>.00255275*2.71828**(-14.9619*C)-1.00255*2.71828**(-.0380968*C)+1,_o=(C,u)=>(0,Se.k)(400,C/Math.abs(1.1*u),500),jo=C=>{const{currentBreakpoint:u,backdropBreakpoint:p}=C,y=void 0===p||p<u,E=y?`calc(var(--backdrop-opacity) * ${u})`:"0",F=(0,bt.c)("backdropAnimation").fromTo("opacity",0,E);return y&&F.beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),{wrapperAnimation:(0,bt.c)("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(100%)"},{offset:1,opacity:1,transform:`translateY(${100-100*u}%)`}]),backdropAnimation:F}},Dr=C=>{const{currentBreakpoint:u,backdropBreakpoint:p}=C,y=`calc(var(--backdrop-opacity) * ${cn(u,p)})`,E=[{offset:0,opacity:y},{offset:1,opacity:0}],F=[{offset:0,opacity:y},{offset:p,opacity:0},{offset:1,opacity:0}],te=(0,bt.c)("backdropAnimation").keyframes(0!==p?F:E);return{wrapperAnimation:(0,bt.c)("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:`translateY(${100-100*u}%)`},{offset:1,opacity:1,transform:"translateY(100%)"}]),backdropAnimation:te}},co=(C,u)=>{const{presentingEl:p,currentBreakpoint:y}=u,E=(0,Se.g)(C),{wrapperAnimation:F,backdropAnimation:te}=void 0!==y?jo(u):{backdropAnimation:(0,bt.c)().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),wrapperAnimation:(0,bt.c)().fromTo("transform","translateY(100vh)","translateY(0vh)")};te.addElement(E.querySelector("ion-backdrop")),F.addElement(E.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const be=(0,bt.c)("entering-base").addElement(C).easing("cubic-bezier(0.32,0.72,0,1)").duration(500).addAnimation(F);if(p){const ze=window.innerWidth<768,gt="ION-MODAL"===p.tagName&&void 0!==p.presentingElement,Wt=(0,Se.g)(p),un=(0,bt.c)().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"}),An=document.body;if(ze){const pn=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",vr=`translateY(${gt?"-10px":pn}) scale(0.915)`;un.afterStyles({transform:vr}).beforeAddWrite(()=>An.style.setProperty("background-color","black")).addElement(p).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"},{offset:1,filter:"contrast(0.85)",transform:vr,borderRadius:"10px 10px 0 0"}]),be.addAnimation(un)}else if(be.addAnimation(te),gt){const Sn=`translateY(-10px) scale(${gt?.915:1})`;un.afterStyles({transform:Sn}).addElement(Wt.querySelector(".modal-wrapper")).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0) scale(1)"},{offset:1,filter:"contrast(0.85)",transform:Sn}]);const Tn=(0,bt.c)().afterStyles({transform:Sn}).addElement(Wt.querySelector(".modal-shadow")).keyframes([{offset:0,opacity:"1",transform:"translateY(0) scale(1)"},{offset:1,opacity:"0",transform:Sn}]);be.addAnimation([un,Tn])}else F.fromTo("opacity","0","1")}else be.addAnimation(te);return be},zo=(C,u,p=500)=>{const{presentingEl:y,currentBreakpoint:E}=u,F=(0,Se.g)(C),{wrapperAnimation:te,backdropAnimation:be}=void 0!==E?Dr(u):{backdropAnimation:(0,bt.c)().fromTo("opacity","var(--backdrop-opacity)",0),wrapperAnimation:(0,bt.c)().fromTo("transform","translateY(0vh)","translateY(100vh)")};be.addElement(F.querySelector("ion-backdrop")),te.addElement(F.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const ze=(0,bt.c)("leaving-base").addElement(C).easing("cubic-bezier(0.32,0.72,0,1)").duration(p).addAnimation(te);if(y){const gt=window.innerWidth<768,Wt="ION-MODAL"===y.tagName&&void 0!==y.presentingElement,un=(0,Se.g)(y),An=(0,bt.c)().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish(Sn=>{1===Sn&&(y.style.setProperty("overflow",""),Array.from(pn.querySelectorAll("ion-modal:not(.overlay-hidden)")).filter(vr=>void 0!==vr.presentingElement).length<=1&&pn.style.setProperty("background-color",""))}),pn=document.body;if(gt){const Sn=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",Qr=`translateY(${Wt?"-10px":Sn}) scale(0.915)`;An.addElement(y).keyframes([{offset:0,filter:"contrast(0.85)",transform:Qr,borderRadius:"10px 10px 0 0"},{offset:1,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"}]),ze.addAnimation(An)}else if(ze.addAnimation(be),Wt){const Tn=`translateY(-10px) scale(${Wt?.915:1})`;An.addElement(un.querySelector(".modal-wrapper")).afterStyles({transform:"translate3d(0, 0, 0)"}).keyframes([{offset:0,filter:"contrast(0.85)",transform:Tn},{offset:1,filter:"contrast(1)",transform:"translateY(0) scale(1)"}]);const vr=(0,bt.c)().addElement(un.querySelector(".modal-shadow")).afterStyles({transform:"translateY(0) scale(1)"}).keyframes([{offset:0,opacity:"0",transform:Tn},{offset:1,opacity:"1",transform:"translateY(0) scale(1)"}]);ze.addAnimation([An,vr])}else te.fromTo("opacity","1","0")}else ze.addAnimation(be);return ze},an=(C,u)=>{const{currentBreakpoint:p}=u,y=(0,Se.g)(C),{wrapperAnimation:E,backdropAnimation:F}=void 0!==p?jo(u):{backdropAnimation:(0,bt.c)().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),wrapperAnimation:(0,bt.c)().keyframes([{offset:0,opacity:.01,transform:"translateY(40px)"},{offset:1,opacity:1,transform:"translateY(0px)"}])};return F.addElement(y.querySelector("ion-backdrop")),E.addElement(y.querySelector(".modal-wrapper")),(0,bt.c)().addElement(C).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(280).addAnimation([F,E])},_r=(C,u)=>{const{currentBreakpoint:p}=u,y=(0,Se.g)(C),{wrapperAnimation:E,backdropAnimation:F}=void 0!==p?Dr(u):{backdropAnimation:(0,bt.c)().fromTo("opacity","var(--backdrop-opacity)",0),wrapperAnimation:(0,bt.c)().keyframes([{offset:0,opacity:.99,transform:"translateY(0px)"},{offset:1,opacity:0,transform:"translateY(40px)"}])};return F.addElement(y.querySelector("ion-backdrop")),E.addElement(y.querySelector(".modal-wrapper")),(0,bt.c)().easing("cubic-bezier(0.47,0,0.745,0.715)").duration(200).addAnimation([F,E])},Le=(0,S.w$)(class extends S.wt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=(0,S.lh)(this,"ionModalDidPresent",7),this.willPresent=(0,S.lh)(this,"ionModalWillPresent",7),this.willDismiss=(0,S.lh)(this,"ionModalWillDismiss",7),this.didDismiss=(0,S.lh)(this,"ionModalDidDismiss",7),this.ionBreakpointDidChange=(0,S.lh)(this,"ionBreakpointDidChange",7),this.didPresentShorthand=(0,S.lh)(this,"didPresent",7),this.willPresentShorthand=(0,S.lh)(this,"willPresent",7),this.willDismissShorthand=(0,S.lh)(this,"willDismiss",7),this.didDismissShorthand=(0,S.lh)(this,"didDismiss",7),this.ionMount=(0,S.lh)(this,"ionMount",7),this.lockController=it(),this.triggerController=io(),this.coreDelegate=ot(),this.isSheetModal=!1,this.inheritedAttributes={},this.inline=!1,this.gestureAnimationDismissing=!1,this.onHandleClick=()=>{const{sheetTransition:u,handleBehavior:p}=this;"cycle"!==p||void 0!==u||this.moveToNextBreakpoint()},this.onBackdropTap=()=>{const{sheetTransition:u}=this;void 0===u&&this.dismiss(void 0,xo)},this.onLifecycle=u=>{const p=this.usersElement,y=Ie[u.type];if(p&&y){const E=new CustomEvent(y,{bubbles:!1,cancelable:!1,detail:u.detail});p.dispatchEvent(E)}},this.presented=!1,this.hasController=!1,this.overlayIndex=void 0,this.delegate=void 0,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.breakpoints=void 0,this.initialBreakpoint=void 0,this.backdropBreakpoint=0,this.handle=void 0,this.handleBehavior="none",this.component=void 0,this.componentProps=void 0,this.cssClass=void 0,this.backdropDismiss=!0,this.showBackdrop=!0,this.animated=!0,this.presentingElement=void 0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0,this.keepContentsMounted=!1,this.focusTrap=!0,this.canDismiss=!0}onIsOpenChange(u,p){!0===u&&!1===p?this.present():!1===u&&!0===p&&this.dismiss()}triggerChanged(){const{trigger:u,el:p,triggerController:y}=this;u&&y.addClickListener(p,u)}breakpointsChanged(u){void 0!==u&&(this.sortedBreakpoints=u.sort((p,y)=>p-y))}connectedCallback(){const{el:u}=this;wr(u),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){var u;const{breakpoints:p,initialBreakpoint:y,el:E,htmlAttributes:F}=this,te=this.isSheetModal=void 0!==p&&void 0!==y,be=["aria-label","role"];this.inheritedAttributes=(0,Se.d)(E,be),void 0!==F&&be.forEach(ze=>{F[ze]&&(this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{[ze]:F[ze]}),delete F[ze])}),te&&(this.currentBreakpoint=this.initialBreakpoint),void 0!==p&&void 0!==y&&!p.includes(y)&&(0,je.p)("Your breakpoints array must include the initialBreakpoint value."),null!==(u=this.htmlAttributes)&&void 0!==u&&u.id||Xr(this.el)}componentDidLoad(){!0===this.isOpen&&(0,Se.r)(()=>this.present()),this.breakpointsChanged(this.breakpoints),this.triggerChanged()}getDelegate(u=!1){if(this.workingDelegate&&!u)return{delegate:this.workingDelegate,inline:this.inline};const y=this.inline=null!==this.el.parentNode&&!this.hasController;return{inline:y,delegate:this.workingDelegate=y?this.delegate||this.coreDelegate:this.delegate}}checkCanDismiss(u,p){var y=this;return(0,J.A)(function*(){const{canDismiss:E}=y;return"function"==typeof E?E(u,p):E})()}present(){var u=this;return(0,J.A)(function*(){const p=yield u.lockController.lock();if(u.presented)return void p();const{presentingElement:y,el:E}=u;u.currentBreakpoint=u.initialBreakpoint;const{inline:F,delegate:te}=u.getDelegate(!0);u.ionMount.emit(),u.usersElement=yield qe(te,E,u.component,["ion-page"],u.componentProps,F),(0,Se.j)(E)?yield(0,Pe.e)(u.usersElement):u.keepContentsMounted||(yield(0,Pe.w)()),(0,S.bN)(()=>u.el.classList.add("show-modal"));const be=void 0!==y;be&&"ios"===(0,pe.b)(u)&&(u.statusBarStyle=yield zt.getStyle(),Zn()),yield Tr(u,"modalEnter",co,an,{presentingEl:y,currentBreakpoint:u.initialBreakpoint,backdropBreakpoint:u.backdropBreakpoint}),typeof window<"u"&&(u.keyboardOpenCallback=()=>{u.gesture&&(u.gesture.enable(!1),(0,Se.r)(()=>{u.gesture&&u.gesture.enable(!0)}))},window.addEventListener(Nn.KEYBOARD_DID_OPEN,u.keyboardOpenCallback)),u.isSheetModal?u.initSheetGesture():be&&u.initSwipeToClose(),p()})()}initSwipeToClose(){var p,u=this;if("ios"!==(0,pe.b)(this))return;const{el:y}=this,E=this.leaveAnimation||pe.c.get("modalLeave",zo),F=this.animation=E(y,{presentingEl:this.presentingElement});if(!(0,Ke.f)(y))return void(0,Ke.p)(y);const be=null!==(p=this.statusBarStyle)&&void 0!==p?p:le.Default;this.gesture=((C,u,p,y)=>{const F=C.offsetHeight;let te=!1,be=!1,ze=null,gt=null,un=!0,An=0;const so=(0,jt.createGesture)({el:C,gestureName:"modalSwipeToClose",gesturePriority:39,direction:"y",threshold:10,canStart:Sr=>{const oo=Sr.event.target;return null===oo||!oo.closest||(ze=(0,Ke.a)(oo),ze?(gt=(0,Ke.i)(ze)?(0,Se.g)(ze).querySelector(".inner-scroll"):ze,!ze.querySelector("ion-refresher")&&0===gt.scrollTop):null===oo.closest("ion-footer"))},onStart:Sr=>{const{deltaY:oo}=Sr;un=!ze||!(0,Ke.i)(ze)||ze.scrollY,be=void 0!==C.canDismiss&&!0!==C.canDismiss,oo>0&&ze&&(0,Ke.d)(ze),u.progressStart(!0,te?1:0)},onMove:Sr=>{const{deltaY:oo}=Sr;oo>0&&ze&&(0,Ke.d)(ze);const Yr=Sr.deltaY/F,go=Yr>=0&&be,ai=go?.2:.9999,Oi=go?Gr(Yr/ai):Yr,_i=(0,Se.k)(1e-4,Oi,ai);u.progressStep(_i),_i>=.5&&An<.5?qn(p):_i<.5&&An>=.5&&Zn(),An=_i},onEnd:Sr=>{const oo=Sr.velocityY,Yr=Sr.deltaY/F,go=Yr>=0&&be,ai=go?.2:.9999,Oi=go?Gr(Yr/ai):Yr,_i=(0,Se.k)(1e-4,Oi,ai),Ji=!go&&(Sr.deltaY+1e3*oo)/F>=.5;let Da=Ji?-.001:.001;Ji?(u.easing("cubic-bezier(0.32, 0.72, 0, 1)"),Da+=ke([0,0],[.32,.72],[0,1],[1,1],_i)[0]):(u.easing("cubic-bezier(1, 0, 0.68, 0.28)"),Da+=ke([0,0],[1,0],[.68,.28],[1,1],_i)[0]);const Na=_o(Ji?Yr*F:(1-_i)*F,oo);te=Ji,so.enable(!1),ze&&(0,Ke.r)(ze,un),u.onFinish(()=>{Ji||so.enable(!0)}).progressEnd(Ji?1:0,Da,Na),go&&_i>ai/4?Mn(C,u):Ji&&y()}});return so})(y,F,be,()=>{this.gestureAnimationDismissing=!0,qn(this.statusBarStyle),this.animation.onFinish((0,J.A)(function*(){yield u.dismiss(void 0,Er),u.gestureAnimationDismissing=!1}))}),this.gesture.enable(!0)}initSheetGesture(){const{wrapperEl:u,initialBreakpoint:p,backdropBreakpoint:y}=this;if(!u||void 0===p)return;const E=this.enterAnimation||pe.c.get("modalEnter",co),F=this.animation=E(this.el,{presentingEl:this.presentingElement,currentBreakpoint:p,backdropBreakpoint:y});F.progressStart(!0,1);const{gesture:te,moveSheetToBreakpoint:be}=((C,u,p,y,E,F,te=[],be,ze,gt)=>{const An={WRAPPER_KEYFRAMES:[{offset:0,transform:"translateY(0%)"},{offset:1,transform:"translateY(100%)"}],BACKDROP_KEYFRAMES:0!==E?[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1-E,opacity:0},{offset:1,opacity:0}]:[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1,opacity:.01}]},pn=C.querySelector("ion-content"),Sn=p.clientHeight;let Tn=y,vr=0,Qr=!1;const Sr=F.childAnimations.find(ia=>"wrapperAnimation"===ia.id),oo=F.childAnimations.find(ia=>"backdropAnimation"===ia.id),Yr=te[te.length-1],go=te[0],ai=()=>{C.style.setProperty("pointer-events","auto"),u.style.setProperty("pointer-events","auto"),C.classList.remove(lo)},Oi=()=>{C.style.setProperty("pointer-events","none"),u.style.setProperty("pointer-events","none"),C.classList.add(lo)};Sr&&oo&&(Sr.keyframes([...An.WRAPPER_KEYFRAMES]),oo.keyframes([...An.BACKDROP_KEYFRAMES]),F.progressStart(!0,1-Tn),Tn>E?ai():Oi()),pn&&Tn!==Yr&&(pn.scrollY=!1);const Na=ia=>{const{breakpoint:aa,canDismiss:Fa,breakpointOffset:_a,animated:hl}=ia,zs=Fa&&0===aa,xs=zs?Tn:aa,jl=0!==xs;return Tn=0,Sr&&oo&&(Sr.keyframes([{offset:0,transform:`translateY(${100*_a}%)`},{offset:1,transform:`translateY(${100*(1-xs)}%)`}]),oo.keyframes([{offset:0,opacity:`calc(var(--backdrop-opacity) * ${cn(1-_a,E)})`},{offset:1,opacity:`calc(var(--backdrop-opacity) * ${cn(xs,E)})`}]),F.progressStep(0)),ys.enable(!1),zs?Mn(C,F):jl||ze(),pn&&xs===te[te.length-1]&&(pn.scrollY=!0),new Promise(Il=>{F.onFinish(()=>{jl?Sr&&oo?(0,Se.r)(()=>{Sr.keyframes([...An.WRAPPER_KEYFRAMES]),oo.keyframes([...An.BACKDROP_KEYFRAMES]),F.progressStart(!0,1-xs),Tn=xs,gt(Tn),Tn>E?ai():Oi(),ys.enable(!0),Il()}):(ys.enable(!0),Il()):Il()},{oneTimeCallback:!0}).progressEnd(1,0,hl?500:0)})},ys=(0,jt.createGesture)({el:p,gestureName:"modalSheet",gesturePriority:40,direction:"y",threshold:10,canStart:ia=>{const aa=(0,Ke.a)(ia.event.target);if(Tn=be(),1===Tn&&aa){const Fa=(0,Ke.i)(aa)?(0,Se.g)(aa).querySelector(".inner-scroll"):aa;return!aa.querySelector("ion-refresher")&&0===Fa.scrollTop}return!0},onStart:ia=>{Qr=void 0!==C.canDismiss&&!0!==C.canDismiss&&0===go,ia.deltaY>0&&pn&&(pn.scrollY=!1),(0,Se.r)(()=>{C.focus()}),F.progressStart(!0,1-Tn)},onMove:ia=>{ia.deltaY>0&&pn&&(pn.scrollY=!1);const Fa=te.length>1?1-te[1]:void 0,_a=1-Tn+ia.deltaY/Sn,hl=void 0!==Fa&&_a>=Fa&&Qr,zs=hl?.95:.9999,xs=hl&&void 0!==Fa?Fa+Gr((_a-Fa)/(zs-Fa)):_a;vr=(0,Se.k)(1e-4,xs,zs),F.progressStep(vr)},onEnd:ia=>{const _a=Tn-(ia.deltaY+350*ia.velocityY)/Sn,hl=te.reduce((zs,xs)=>Math.abs(xs-_a)<Math.abs(zs-_a)?xs:zs);Na({breakpoint:hl,breakpointOffset:vr,canDismiss:Qr,animated:!0})}});return{gesture:ys,moveSheetToBreakpoint:Na}})(this.el,this.backdropEl,u,p,y,F,this.sortedBreakpoints,()=>{var ze;return null!==(ze=this.currentBreakpoint)&&void 0!==ze?ze:0},()=>this.sheetOnDismiss(),ze=>{this.currentBreakpoint!==ze&&(this.currentBreakpoint=ze,this.ionBreakpointDidChange.emit({breakpoint:ze}))});this.gesture=te,this.moveSheetToBreakpoint=be,this.gesture.enable(!0)}sheetOnDismiss(){var u=this;this.gestureAnimationDismissing=!0,this.animation.onFinish((0,J.A)(function*(){u.currentBreakpoint=0,u.ionBreakpointDidChange.emit({breakpoint:u.currentBreakpoint}),yield u.dismiss(void 0,Er),u.gestureAnimationDismissing=!1}))}dismiss(u,p){var y=this;return(0,J.A)(function*(){var E;if(y.gestureAnimationDismissing&&p!==Er)return!1;const F=yield y.lockController.lock();if("handler"!==p&&!(yield y.checkCanDismiss(u,p)))return F(),!1;const{presentingElement:te}=y;void 0!==te&&"ios"===(0,pe.b)(y)&&qn(y.statusBarStyle),typeof window<"u"&&y.keyboardOpenCallback&&(window.removeEventListener(Nn.KEYBOARD_DID_OPEN,y.keyboardOpenCallback),y.keyboardOpenCallback=void 0);const ze=yield fr(y,u,p,"modalLeave",zo,_r,{presentingEl:te,currentBreakpoint:null!==(E=y.currentBreakpoint)&&void 0!==E?E:y.initialBreakpoint,backdropBreakpoint:y.backdropBreakpoint});if(ze){const{delegate:gt}=y.getDelegate();yield Ne(gt,y.usersElement),(0,S.bN)(()=>y.el.classList.remove("show-modal")),y.animation&&y.animation.destroy(),y.gesture&&y.gesture.destroy()}return y.currentBreakpoint=void 0,y.animation=void 0,F(),ze})()}onDidDismiss(){return Vr(this.el,"ionModalDidDismiss")}onWillDismiss(){return Vr(this.el,"ionModalWillDismiss")}setCurrentBreakpoint(u){var p=this;return(0,J.A)(function*(){if(!p.isSheetModal)return void(0,je.p)("setCurrentBreakpoint is only supported on sheet modals.");if(!p.breakpoints.includes(u))return void(0,je.p)(`Attempted to set invalid breakpoint value ${u}. Please double check that the breakpoint value is part of your defined breakpoints.`);const{currentBreakpoint:y,moveSheetToBreakpoint:E,canDismiss:F,breakpoints:te,animated:be}=p;y!==u&&E&&(p.sheetTransition=E({breakpoint:u,breakpointOffset:1-y,canDismiss:void 0!==F&&!0!==F&&0===te[0],animated:be}),yield p.sheetTransition,p.sheetTransition=void 0)})()}getCurrentBreakpoint(){var u=this;return(0,J.A)(function*(){return u.currentBreakpoint})()}moveToNextBreakpoint(){var u=this;return(0,J.A)(function*(){const{breakpoints:p,currentBreakpoint:y}=u;if(!p||null==y)return!1;const E=p.filter(ze=>0!==ze),te=(E.indexOf(y)+1)%E.length,be=E[te];return yield u.setCurrentBreakpoint(be),!0})()}render(){const{handle:u,isSheetModal:p,presentingElement:y,htmlAttributes:E,handleBehavior:F,inheritedAttributes:te,focusTrap:be}=this,ze=!1!==u&&p,gt=(0,pe.b)(this),Wt=void 0!==y&&"ios"===gt,un="cycle"===F;return(0,S.h)(S.xr,Object.assign({key:"013ba4864ca4d2c1052c512f6a4b0732b8decff7","no-router":!0,tabindex:"-1"},E,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign({[gt]:!0,"modal-default":!Wt&&!p,"modal-card":Wt,"modal-sheet":p,"overlay-hidden":!0,[lo]:!1===be},_t(this.cssClass)),onIonBackdropTap:this.onBackdropTap,onIonModalDidPresent:this.onLifecycle,onIonModalWillPresent:this.onLifecycle,onIonModalWillDismiss:this.onLifecycle,onIonModalDidDismiss:this.onLifecycle}),(0,S.h)("ion-backdrop",{key:"498b1c0a03836d6799dcf3b8e9315805c70f6480",ref:An=>this.backdropEl=An,visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),"ios"===gt&&(0,S.h)("div",{key:"ce22e4caf1096e87248926fe2477f0d5a4c8a5cf",class:"modal-shadow"}),(0,S.h)("div",Object.assign({key:"540e47b15d8290166c39b022c725182114a75682",role:"dialog"},te,{"aria-modal":"true",class:"modal-wrapper ion-overlay-wrapper",part:"content",ref:An=>this.wrapperEl=An}),ze&&(0,S.h)("button",{key:"f3b352ec9a63a7ec801462aacfd8295b4302d115",class:"modal-handle",tabIndex:un?0:-1,"aria-label":"Activate to adjust the size of the dialog overlaying the screen",onClick:un?this.onHandleClick:void 0,part:"handle"}),(0,S.h)("slot",{key:"31a3f58f4c733ffdf736523c154200874a96b1d0"})))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}:host(.modal-card){--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{-webkit-box-shadow:none;box-shadow:none}:host(.modal-card) .modal-shadow{-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}',md:':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}'}}},[33,"ion-modal",{hasController:[4,"has-controller"],overlayIndex:[2,"overlay-index"],delegate:[16],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],breakpoints:[16],initialBreakpoint:[2,"initial-breakpoint"],backdropBreakpoint:[2,"backdrop-breakpoint"],handle:[4],handleBehavior:[1,"handle-behavior"],component:[1],componentProps:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],animated:[4],presentingElement:[16],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],keepContentsMounted:[4,"keep-contents-mounted"],focusTrap:[4,"focus-trap"],canDismiss:[4,"can-dismiss"],presented:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64],setCurrentBreakpoint:[64],getCurrentBreakpoint:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),Ie={ionModalDidPresent:"ionViewDidEnter",ionModalWillPresent:"ionViewWillEnter",ionModalWillDismiss:"ionViewWillLeave",ionModalDidDismiss:"ionViewDidLeave"};var C;const fn=(C,u,p)=>{const y=u.getBoundingClientRect(),E=y.height;let F=y.width;return"cover"===C&&p&&(F=p.getBoundingClientRect().width),{contentWidth:F,contentHeight:E}},kn=(C,u,p)=>{let y=[];switch(u){case"hover":let E;y=[{eventName:"mouseenter",callback:(F=(0,J.A)(function*(te){te.stopPropagation(),E&&clearTimeout(E),E=setTimeout(()=>{(0,Se.r)(()=>{p.presentFromTrigger(te),E=void 0})},100)}),function(be){return F.apply(this,arguments)})},{eventName:"mouseleave",callback:F=>{E&&clearTimeout(E);const te=F.relatedTarget;te&&te.closest("ion-popover")!==p&&p.dismiss(void 0,void 0,!1)}},{eventName:"click",callback:F=>F.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:F=>p.presentFromTrigger(F,!0)}];break;case"context-menu":y=[{eventName:"contextmenu",callback:F=>{F.preventDefault(),p.presentFromTrigger(F)}},{eventName:"click",callback:F=>F.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:F=>p.presentFromTrigger(F,!0)}];break;default:y=[{eventName:"click",callback:F=>p.presentFromTrigger(F)},{eventName:"ionPopoverActivateTrigger",callback:F=>p.presentFromTrigger(F,!0)}]}var F;return y.forEach(({eventName:E,callback:F})=>C.addEventListener(E,F)),C.setAttribute("data-ion-popover-trigger","true"),()=>{y.forEach(({eventName:E,callback:F})=>C.removeEventListener(E,F)),C.removeAttribute("data-ion-popover-trigger")}},xn=(C,u)=>u&&"ION-ITEM"===u.tagName?C.findIndex(p=>p===u):-1,mr=C=>{const p=(0,Se.g)(C).querySelector("button");p&&(0,Se.r)(()=>p.focus())},eo=C=>{const u=function(){var p=(0,J.A)(function*(y){var E;const F=document.activeElement;let te=[];const be=null===(E=y.target)||void 0===E?void 0:E.tagName;if("ION-POPOVER"===be||"ION-ITEM"===be){try{te=Array.from(C.querySelectorAll("ion-item:not(ion-popover ion-popover *):not([disabled])"))}catch{}switch(y.key){case"ArrowLeft":(yield C.getParentPopover())&&C.dismiss(void 0,void 0,!1);break;case"ArrowDown":y.preventDefault();const gt=((C,u)=>C[xn(C,u)+1])(te,F);void 0!==gt&&mr(gt);break;case"ArrowUp":y.preventDefault();const Wt=((C,u)=>C[xn(C,u)-1])(te,F);void 0!==Wt&&mr(Wt);break;case"Home":y.preventDefault();const un=te[0];void 0!==un&&mr(un);break;case"End":y.preventDefault();const An=te[te.length-1];void 0!==An&&mr(An);break;case"ArrowRight":case" ":case"Enter":if(F&&(C=>C.hasAttribute("data-ion-popover-trigger"))(F)){const pn=new CustomEvent("ionPopoverActivateTrigger");F.dispatchEvent(pn)}}}});return function(E){return p.apply(this,arguments)}}();return C.addEventListener("keydown",u),()=>C.removeEventListener("keydown",u)},kr=(C,u,p,y,E,F,te,be,ze,gt,Wt)=>{var un;let An={top:0,left:0,width:0,height:0};if("event"===F){if(!Wt)return ze;An={top:Wt.clientY,left:Wt.clientX,width:1,height:1}}else{const ai=gt||(null===(un=null==Wt?void 0:Wt.detail)||void 0===un?void 0:un.ionShadowTarget)||(null==Wt?void 0:Wt.target);if(!ai)return ze;const Oi=ai.getBoundingClientRect();An={top:Oi.top,left:Oi.left,width:Oi.width,height:Oi.height}}const pn=Fi(te,An,u,p,y,E,C),Sn=ea(be,te,An,u,p),Tn=pn.top+Sn.top,vr=pn.left+Sn.left,{arrowTop:Qr,arrowLeft:so}=Ki(te,y,E,Tn,vr,u,p,C),{originX:Sr,originY:oo}=po(te,be,C);return{top:Tn,left:vr,referenceCoordinates:An,arrowTop:Qr,arrowLeft:so,originX:Sr,originY:oo}},po=(C,u,p)=>{switch(C){case"top":return{originX:gr(u),originY:"bottom"};case"bottom":return{originX:gr(u),originY:"top"};case"left":return{originX:"right",originY:Ur(u)};case"right":return{originX:"left",originY:Ur(u)};case"start":return{originX:p?"left":"right",originY:Ur(u)};case"end":return{originX:p?"right":"left",originY:Ur(u)}}},gr=C=>{switch(C){case"start":return"left";case"center":return"center";case"end":return"right"}},Ur=C=>{switch(C){case"start":return"top";case"center":return"center";case"end":return"bottom"}},Ki=(C,u,p,y,E,F,te,be)=>{const ze={arrowTop:y+te/2-u/2,arrowLeft:E+F-u/2},gt={arrowTop:y+te/2-u/2,arrowLeft:E-1.5*u};switch(C){case"top":return{arrowTop:y+te,arrowLeft:E+F/2-u/2};case"bottom":return{arrowTop:y-p,arrowLeft:E+F/2-u/2};case"left":return ze;case"right":return gt;case"start":return be?gt:ze;case"end":return be?ze:gt;default:return{arrowTop:0,arrowLeft:0}}},Fi=(C,u,p,y,E,F,te)=>{const be={top:u.top,left:u.left-p-E},ze={top:u.top,left:u.left+u.width+E};switch(C){case"top":return{top:u.top-y-F,left:u.left};case"right":return ze;case"bottom":return{top:u.top+u.height+F,left:u.left};case"left":return be;case"start":return te?ze:be;case"end":return te?be:ze}},ea=(C,u,p,y,E)=>{switch(C){case"center":return Li(u,p,y,E);case"end":return ja(u,p,y,E);default:return{top:0,left:0}}},ja=(C,u,p,y)=>{switch(C){case"start":case"end":case"left":case"right":return{top:-(y-u.height),left:0};default:return{top:0,left:-(p-u.width)}}},Li=(C,u,p,y)=>{switch(C){case"start":case"end":case"left":case"right":return{top:-(y/2-u.height/2),left:0};default:return{top:0,left:-(p/2-u.width/2)}}},vi=(C,u,p,y,E,F,te,be,ze,gt,Wt,un,An=0,pn=0,Sn=0)=>{let Tn=An;const vr=pn;let Sr,Qr=p,so=u,oo=gt,Yr=Wt,go=!1,ai=!1;const Oi=un?un.top+un.height:F/2-be/2,_i=un?un.height:0;let wa=!1;return Qr<y+ze?(Qr=y,go=!0,oo="left"):te+y+Qr+ze>E&&(ai=!0,Qr=E-te-y,oo="right"),Oi+_i+be>F&&("top"===C||"bottom"===C)&&(Oi-be>0?(so=Math.max(12,Oi-be-_i-(Sn-1)),Tn=so+be,Yr="bottom",wa=!0):Sr=y),{top:so,left:Qr,bottom:Sr,originX:oo,originY:Yr,checkSafeAreaLeft:go,checkSafeAreaRight:ai,arrowTop:Tn,arrowLeft:vr,addPopoverBottomClass:wa}},Mi=(C,u)=>{var p;const{event:y,size:E,trigger:F,reference:te,side:be,align:ze}=u,gt=C.ownerDocument,Wt="rtl"===gt.dir,un=gt.defaultView.innerWidth,An=gt.defaultView.innerHeight,pn=(0,Se.g)(C),Sn=pn.querySelector(".popover-content"),Tn=pn.querySelector(".popover-arrow"),vr=F||(null===(p=null==y?void 0:y.detail)||void 0===p?void 0:p.ionShadowTarget)||(null==y?void 0:y.target),{contentWidth:Qr,contentHeight:so}=fn(E,Sn,vr),{arrowWidth:Sr,arrowHeight:oo}=(C=>{if(!C)return{arrowWidth:0,arrowHeight:0};const{width:u,height:p}=C.getBoundingClientRect();return{arrowWidth:u,arrowHeight:p}})(Tn),go=kr(Wt,Qr,so,Sr,oo,te,be,ze,{top:An/2-so/2,left:un/2-Qr/2,originX:Wt?"right":"left",originY:"top"},F,y),ai="cover"===E?0:5,Oi="cover"===E?0:25,{originX:_i,originY:wa,top:Ji,left:Da,bottom:Na,checkSafeAreaLeft:ys,checkSafeAreaRight:ia,arrowTop:aa,arrowLeft:Fa,addPopoverBottomClass:_a}=vi(be,go.top,go.left,ai,un,An,Qr,so,Oi,go.originX,go.originY,go.referenceCoordinates,go.arrowTop,go.arrowLeft,oo),hl=(0,bt.c)(),zs=(0,bt.c)(),xs=(0,bt.c)();return zs.addElement(pn.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),xs.addElement(pn.querySelector(".popover-arrow")).addElement(pn.querySelector(".popover-content")).fromTo("opacity",.01,1),hl.easing("ease").duration(100).beforeAddWrite(()=>{"cover"===E&&C.style.setProperty("--width",`${Qr}px`),_a&&C.classList.add("popover-bottom"),void 0!==Na&&Sn.style.setProperty("bottom",`${Na}px`);let xf=`${Da}px`;ys&&(xf=`${Da}px + var(--ion-safe-area-left, 0)`),ia&&(xf=`${Da}px - var(--ion-safe-area-right, 0)`),Sn.style.setProperty("top",`calc(${Ji}px + var(--offset-y, 0))`),Sn.style.setProperty("left",`calc(${xf} + var(--offset-x, 0))`),Sn.style.setProperty("transform-origin",`${wa} ${_i}`),null!==Tn&&(((C,u=!1,p,y)=>!(!p&&!y||"top"!==C&&"bottom"!==C&&u))(be,go.top!==Ji||go.left!==Da,y,F)?(Tn.style.setProperty("top",`calc(${aa}px + var(--offset-y, 0))`),Tn.style.setProperty("left",`calc(${Fa}px + var(--offset-x, 0))`)):Tn.style.setProperty("display","none"))}).addAnimation([zs,xs])},Mo=C=>{const u=(0,Se.g)(C),p=u.querySelector(".popover-content"),y=u.querySelector(".popover-arrow"),E=(0,bt.c)(),F=(0,bt.c)(),te=(0,bt.c)();return F.addElement(u.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),te.addElement(u.querySelector(".popover-arrow")).addElement(u.querySelector(".popover-content")).fromTo("opacity",.99,0),E.easing("ease").afterAddWrite(()=>{C.style.removeProperty("--width"),C.classList.remove("popover-bottom"),p.style.removeProperty("top"),p.style.removeProperty("left"),p.style.removeProperty("bottom"),p.style.removeProperty("transform-origin"),y&&(y.style.removeProperty("top"),y.style.removeProperty("left"),y.style.removeProperty("display"))}).duration(300).addAnimation([F,te])},Sa=(C,u)=>{var p;const{event:y,size:E,trigger:F,reference:te,side:be,align:ze}=u,gt=C.ownerDocument,Wt="rtl"===gt.dir,un=gt.defaultView.innerWidth,An=gt.defaultView.innerHeight,pn=(0,Se.g)(C),Sn=pn.querySelector(".popover-content"),Tn=F||(null===(p=null==y?void 0:y.detail)||void 0===p?void 0:p.ionShadowTarget)||(null==y?void 0:y.target),{contentWidth:vr,contentHeight:Qr}=fn(E,Sn,Tn),Sr=kr(Wt,vr,Qr,0,0,te,be,ze,{top:An/2-Qr/2,left:un/2-vr/2,originX:Wt?"right":"left",originY:"top"},F,y),oo="cover"===E?0:12,{originX:Yr,originY:go,top:ai,left:Oi,bottom:_i}=vi(be,Sr.top,Sr.left,oo,un,An,vr,Qr,0,Sr.originX,Sr.originY,Sr.referenceCoordinates),wa=(0,bt.c)(),Ji=(0,bt.c)(),Da=(0,bt.c)(),Na=(0,bt.c)(),ys=(0,bt.c)();return Ji.addElement(pn.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),Da.addElement(pn.querySelector(".popover-wrapper")).duration(150).fromTo("opacity",.01,1),Na.addElement(Sn).beforeStyles({top:`calc(${ai}px + var(--offset-y, 0px))`,left:`calc(${Oi}px + var(--offset-x, 0px))`,"transform-origin":`${go} ${Yr}`}).beforeAddWrite(()=>{void 0!==_i&&Sn.style.setProperty("bottom",`${_i}px`)}).fromTo("transform","scale(0.8)","scale(1)"),ys.addElement(pn.querySelector(".popover-viewport")).fromTo("opacity",.01,1),wa.easing("cubic-bezier(0.36,0.66,0.04,1)").duration(300).beforeAddWrite(()=>{"cover"===E&&C.style.setProperty("--width",`${vr}px`),"bottom"===go&&C.classList.add("popover-bottom")}).addAnimation([Ji,Da,Na,ys])},fs=C=>{const u=(0,Se.g)(C),p=u.querySelector(".popover-content"),y=(0,bt.c)(),E=(0,bt.c)(),F=(0,bt.c)();return E.addElement(u.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),F.addElement(u.querySelector(".popover-wrapper")).fromTo("opacity",.99,0),y.easing("ease").afterAddWrite(()=>{C.style.removeProperty("--width"),C.classList.remove("popover-bottom"),p.style.removeProperty("top"),p.style.removeProperty("left"),p.style.removeProperty("bottom"),p.style.removeProperty("transform-origin")}).duration(150).addAnimation([E,F])},Me=(0,S.w$)(class extends S.wt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=(0,S.lh)(this,"ionPopoverDidPresent",7),this.willPresent=(0,S.lh)(this,"ionPopoverWillPresent",7),this.willDismiss=(0,S.lh)(this,"ionPopoverWillDismiss",7),this.didDismiss=(0,S.lh)(this,"ionPopoverDidDismiss",7),this.didPresentShorthand=(0,S.lh)(this,"didPresent",7),this.willPresentShorthand=(0,S.lh)(this,"willPresent",7),this.willDismissShorthand=(0,S.lh)(this,"willDismiss",7),this.didDismissShorthand=(0,S.lh)(this,"didDismiss",7),this.ionMount=(0,S.lh)(this,"ionMount",7),this.parentPopover=null,this.coreDelegate=ot(),this.lockController=it(),this.inline=!1,this.focusDescendantOnPresent=!1,this.onBackdropTap=()=>{this.dismiss(void 0,xo)},this.onLifecycle=u=>{const p=this.usersElement,y=U[u.type];if(p&&y){const E=new CustomEvent(y,{bubbles:!1,cancelable:!1,detail:u.detail});p.dispatchEvent(E)}},this.configureTriggerInteraction=()=>{const{trigger:u,triggerAction:p,el:y,destroyTriggerInteraction:E}=this;if(E&&E(),void 0===u)return;const F=this.triggerEl=void 0!==u?document.getElementById(u):null;F?this.destroyTriggerInteraction=kn(F,p,y):(0,je.p)(`A trigger element with the ID "${u}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on ion-popover.`,this.el)},this.configureKeyboardInteraction=()=>{const{destroyKeyboardInteraction:u,el:p}=this;u&&u(),this.destroyKeyboardInteraction=eo(p)},this.configureDismissInteraction=()=>{const{destroyDismissInteraction:u,parentPopover:p,triggerAction:y,triggerEl:E,el:F}=this;!p||!E||(u&&u(),this.destroyDismissInteraction=((C,u,p,y)=>{let E=[];const te=(0,Se.g)(y).querySelector(".popover-content");return E="hover"===u?[{eventName:"mouseenter",callback:be=>{document.elementFromPoint(be.clientX,be.clientY)!==C&&p.dismiss(void 0,void 0,!1)}}]:[{eventName:"click",callback:be=>{be.target.closest("[data-ion-popover-trigger]")!==C?p.dismiss(void 0,void 0,!1):be.stopPropagation()}}],E.forEach(({eventName:be,callback:ze})=>te.addEventListener(be,ze)),()=>{E.forEach(({eventName:be,callback:ze})=>te.removeEventListener(be,ze))}})(E,y,F,p))},this.presented=!1,this.hasController=!1,this.delegate=void 0,this.overlayIndex=void 0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.component=void 0,this.componentProps=void 0,this.keyboardClose=!0,this.cssClass=void 0,this.backdropDismiss=!0,this.event=void 0,this.showBackdrop=!0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.triggerAction="click",this.trigger=void 0,this.size="auto",this.dismissOnSelect=!1,this.reference="trigger",this.side="bottom",this.alignment=void 0,this.arrow=!0,this.isOpen=!1,this.keyboardEvents=!1,this.focusTrap=!0,this.keepContentsMounted=!1}onTriggerChange(){this.configureTriggerInteraction()}onIsOpenChange(u,p){!0===u&&!1===p?this.present():!1===u&&!0===p&&this.dismiss()}connectedCallback(){const{configureTriggerInteraction:u,el:p}=this;wr(p),u()}disconnectedCallback(){const{destroyTriggerInteraction:u}=this;u&&u()}componentWillLoad(){var u,p;const{el:y}=this,E=null!==(p=null===(u=this.htmlAttributes)||void 0===u?void 0:u.id)&&void 0!==p?p:Xr(y);this.parentPopover=y.closest(`ion-popover:not(#${E})`),void 0===this.alignment&&(this.alignment="ios"===(0,pe.b)(this)?"center":"start")}componentDidLoad(){const{parentPopover:u,isOpen:p}=this;!0===p&&(0,Se.r)(()=>this.present()),u&&(0,Se.a)(u,"ionPopoverWillDismiss",()=>{this.dismiss(void 0,void 0,!1)}),this.configureTriggerInteraction()}presentFromTrigger(u,p=!1){var y=this;return(0,J.A)(function*(){y.focusDescendantOnPresent=p,yield y.present(u),y.focusDescendantOnPresent=!1})()}getDelegate(u=!1){if(this.workingDelegate&&!u)return{delegate:this.workingDelegate,inline:this.inline};const y=this.inline=null!==this.el.parentNode&&!this.hasController;return{inline:y,delegate:this.workingDelegate=y?this.delegate||this.coreDelegate:this.delegate}}present(u){var p=this;return(0,J.A)(function*(){const y=yield p.lockController.lock();if(p.presented)return void y();const{el:E}=p,{inline:F,delegate:te}=p.getDelegate(!0);p.ionMount.emit(),p.usersElement=yield qe(te,E,p.component,["popover-viewport"],p.componentProps,F),p.keyboardEvents||p.configureKeyboardInteraction(),p.configureDismissInteraction(),(0,Se.j)(E)?yield(0,Pe.e)(p.usersElement):p.keepContentsMounted||(yield(0,Pe.w)()),yield Tr(p,"popoverEnter",Mi,Sa,{event:u||p.event,size:p.size,trigger:p.triggerEl,reference:p.reference,side:p.side,align:p.alignment}),p.focusDescendantOnPresent&&lr(E),y()})()}dismiss(u,p,y=!0){var E=this;return(0,J.A)(function*(){const F=yield E.lockController.lock(),{destroyKeyboardInteraction:te,destroyDismissInteraction:be}=E;y&&E.parentPopover&&E.parentPopover.dismiss(u,p,y);const ze=yield fr(E,u,p,"popoverLeave",Mo,fs,E.event);if(ze){te&&(te(),E.destroyKeyboardInteraction=void 0),be&&(be(),E.destroyDismissInteraction=void 0);const{delegate:gt}=E.getDelegate();yield Ne(gt,E.usersElement)}return F(),ze})()}getParentPopover(){var u=this;return(0,J.A)(function*(){return u.parentPopover})()}onDidDismiss(){return Vr(this.el,"ionPopoverDidDismiss")}onWillDismiss(){return Vr(this.el,"ionPopoverWillDismiss")}render(){const u=(0,pe.b)(this),{onLifecycle:p,parentPopover:y,dismissOnSelect:E,side:F,arrow:te,htmlAttributes:be,focusTrap:ze}=this,gt=(0,pe.a)("desktop"),Wt=te&&!y;return(0,S.h)(S.xr,Object.assign({key:"3a7c4c39384bab1447c4bd6b9b06d7837a09353b","aria-modal":"true","no-router":!0,tabindex:"-1"},be,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign(Object.assign({},_t(this.cssClass)),{[u]:!0,"popover-translucent":this.translucent,"overlay-hidden":!0,"popover-desktop":gt,[`popover-side-${F}`]:!0,[lo]:!1===ze,"popover-nested":!!y}),onIonPopoverDidPresent:p,onIonPopoverWillPresent:p,onIonPopoverWillDismiss:p,onIonPopoverDidDismiss:p,onIonBackdropTap:this.onBackdropTap}),!y&&(0,S.h)("ion-backdrop",{key:"38a1c4ad29238d1e81cab407f099121fa4947cce",tappable:this.backdropDismiss,visible:this.showBackdrop,part:"backdrop"}),(0,S.h)("div",{key:"f825494c5e3be89d7fcf0229e29b405bccb13edb",class:"popover-wrapper ion-overlay-wrapper",onClick:E?()=>this.dismiss():void 0},Wt&&(0,S.h)("div",{key:"3acae5a0106389c776c8ffe5bf10f3ff006e0346",class:"popover-arrow",part:"arrow"}),(0,S.h)("div",{key:"2aa73e9f06b1d2ac4c0d36c23186b9164f395079",class:"popover-content",part:"content"},(0,S.h)("slot",{key:"62f5713414aae47dde6a8aef1f9b69af287534ae"}))))}get el(){return this}static get watchers(){return{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}}static get style(){return{ios:':host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:200px;--max-height:90%;--box-shadow:none;--backdrop-opacity:var(--ion-backdrop-opacity, 0.08)}:host(.popover-desktop){--box-shadow:0px 4px 16px 0px rgba(0, 0, 0, 0.12)}.popover-content{border-radius:10px}:host(.popover-desktop) .popover-content{border:0.5px solid var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.popover-arrow{display:block;position:absolute;width:20px;height:10px;overflow:hidden;z-index:11}.popover-arrow::after{top:3px;border-radius:3px;position:absolute;width:14px;height:14px;-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--background);content:"";z-index:10}.popover-arrow::after{inset-inline-start:3px}:host(.popover-bottom) .popover-arrow{top:auto;bottom:-10px}:host(.popover-bottom) .popover-arrow::after{top:-6px}:host(.popover-side-left) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host(.popover-side-right) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-top) .popover-arrow{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.popover-side-start) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host-context([dir=rtl]):host(.popover-side-start) .popover-arrow,:host-context([dir=rtl]).popover-side-start .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}@supports selector(:dir(rtl)){:host(.popover-side-start:dir(rtl)) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}}:host(.popover-side-end) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host-context([dir=rtl]):host(.popover-side-end) .popover-arrow,:host-context([dir=rtl]).popover-side-end .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}@supports selector(:dir(rtl)){:host(.popover-side-end:dir(rtl)) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}}.popover-arrow,.popover-content{opacity:0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.popover-translucent) .popover-content,:host(.popover-translucent) .popover-arrow::after{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}',md:":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:250px;--max-height:90%;--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}.popover-content{border-radius:4px;-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]) .popover-content{-webkit-transform-origin:right top;transform-origin:right top}[dir=rtl] .popover-content{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.popover-content:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.popover-viewport{-webkit-transition-delay:100ms;transition-delay:100ms}.popover-wrapper{opacity:0}"}}},[33,"ion-popover",{hasController:[4,"has-controller"],delegate:[16],overlayIndex:[2,"overlay-index"],enterAnimation:[16],leaveAnimation:[16],component:[1],componentProps:[16],keyboardClose:[4,"keyboard-close"],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],event:[8],showBackdrop:[4,"show-backdrop"],translucent:[4],animated:[4],htmlAttributes:[16],triggerAction:[1,"trigger-action"],trigger:[1],size:[1],dismissOnSelect:[4,"dismiss-on-select"],reference:[1],side:[1],alignment:[1025],arrow:[4],isOpen:[4,"is-open"],keyboardEvents:[4,"keyboard-events"],focusTrap:[4,"focus-trap"],keepContentsMounted:[4,"keep-contents-mounted"],presented:[32],presentFromTrigger:[64],present:[64],dismiss:[64],getParentPopover:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}]),U={ionPopoverDidPresent:"ionViewDidEnter",ionPopoverWillPresent:"ionViewWillEnter",ionPopoverWillDismiss:"ionViewWillLeave",ionPopoverDidDismiss:"ionViewDidLeave"};const Ze=function M(){typeof customElements>"u"||["ion-popover","ion-backdrop"].forEach(u=>{switch(u){case"ion-popover":customElements.get(u)||customElements.define(u,Me);break;case"ion-backdrop":customElements.get(u)||ye()}})};B(3726);const Ot=C=>{try{if(C instanceof ir)return C.value;if(!Vt()||"string"!=typeof C||""===C)return C;if(C.includes("onload="))return"";const u=document.createDocumentFragment(),p=document.createElement("div");u.appendChild(p),p.innerHTML=C,Fn.forEach(te=>{const be=u.querySelectorAll(te);for(let ze=be.length-1;ze>=0;ze--){const gt=be[ze];gt.parentNode?gt.parentNode.removeChild(gt):u.removeChild(gt);const Wt=Nt(gt);for(let un=0;un<Wt.length;un++)kt(Wt[un])}});const y=Nt(u);for(let te=0;te<y.length;te++)kt(y[te]);const E=document.createElement("div");E.appendChild(u);const F=E.querySelector("div");return null!==F?F.innerHTML:E.innerHTML}catch(u){return console.error(u),""}},kt=C=>{if(C.nodeType&&1!==C.nodeType)return;if(typeof NamedNodeMap<"u"&&!(C.attributes instanceof NamedNodeMap))return void C.remove();for(let p=C.attributes.length-1;p>=0;p--){const y=C.attributes.item(p),E=y.name;if(!In.includes(E.toLowerCase())){C.removeAttribute(E);continue}const F=y.value,te=C[E];(null!=F&&F.toLowerCase().includes("javascript:")||null!=te&&te.toLowerCase().includes("javascript:"))&&C.removeAttribute(E)}const u=Nt(C);for(let p=0;p<u.length;p++)kt(u[p])},Nt=C=>null!=C.children?C.children:C.childNodes,Vt=()=>{var C;const u=window,p=null===(C=null==u?void 0:u.Ionic)||void 0===C?void 0:C.config;return!p||(p.get?p.get("sanitizerEnabled",!0):!0===p.sanitizerEnabled||void 0===p.sanitizerEnabled)},In=["class","id","href","src","name","slot"],Fn=["script","style","iframe","meta","link","object","embed"];class ir{constructor(u){this.value=u}}var Oo=function(C){return C.Heavy="HEAVY",C.Medium="MEDIUM",C.Light="LIGHT",C}(Oo||{});const qo={getEngine(){const C=(0,Lt.g)();if(null!=C&&C.isPluginAvailable("Haptics"))return C.Plugins.Haptics},available(){if(!this.getEngine())return!1;const u=(0,Lt.g)();return"web"!==(null==u?void 0:u.getPlatform())||typeof navigator<"u"&&void 0!==navigator.vibrate},impact(C){const u=this.getEngine();u&&u.impact({style:C.style})},notification(C){const u=this.getEngine();u&&u.notification({type:C.type})},selection(){this.impact({style:Oo.Light})},selectionStart(){const C=this.getEngine();C&&C.selectionStart()},selectionChanged(){const C=this.getEngine();C&&C.selectionChanged()},selectionEnd(){const C=this.getEngine();C&&C.selectionEnd()}},Uo=()=>qo.available(),la=()=>{Uo()&&qo.selectionStart()},ci=()=>{Uo()&&qo.selectionChanged()},zi=(C,u)=>{let p,y;const E=(be,ze,gt)=>{if(typeof document>"u")return;const Wt=document.elementFromPoint(be,ze);Wt&&u(Wt)&&!Wt.disabled?Wt!==p&&(te(),F(Wt,gt)):te()},F=(be,ze)=>{p=be,y||(y=p);const gt=p;(0,S.bN)(()=>gt.classList.add("ion-activated")),ze()},te=(be=!1)=>{if(!p)return;const ze=p;(0,S.bN)(()=>ze.classList.remove("ion-activated")),be&&y!==p&&p.click(),p=void 0};return(0,jt.createGesture)({el:C,gestureName:"buttonActiveDrag",threshold:0,onStart:be=>E(be.currentX,be.currentY,la),onMove:be=>E(be.currentX,be.currentY,ci),onEnd:()=>{te(!0),Uo()&&qo.selectionEnd(),y=void 0}})},Ei=(0,S.w$)(class extends S.wt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}addRipple(u,p){var y=this;return(0,J.A)(function*(){return new Promise(E=>{(0,S.gv)(()=>{const F=y.el.getBoundingClientRect(),te=F.width,be=F.height,ze=Math.sqrt(te*te+be*be),gt=Math.max(be,te),Wt=y.unbounded?gt:ze+ta,un=Math.floor(gt*ca),An=Wt/un;let pn=u-F.left,Sn=p-F.top;y.unbounded&&(pn=.5*te,Sn=.5*be);const Tn=pn-.5*un,vr=Sn-.5*un,Qr=.5*te-pn,so=.5*be-Sn;(0,S.bN)(()=>{const Sr=document.createElement("div");Sr.classList.add("ripple-effect");const oo=Sr.style;oo.top=vr+"px",oo.left=Tn+"px",oo.width=oo.height=un+"px",oo.setProperty("--final-scale",`${An}`),oo.setProperty("--translate-end",`${Qr}px, ${so}px`),(y.el.shadowRoot||y.el).appendChild(Sr),setTimeout(()=>{E(()=>{yi(Sr)})},325)})})})})()}get unbounded(){return"unbounded"===this.type}render(){const u=(0,pe.b)(this);return(0,S.h)(S.xr,{key:"2302f087ab1c6755355736e4ca77309c5fdcf185",role:"presentation",class:{[u]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}"}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),yi=C=>{C.classList.add("fade-out"),setTimeout(()=>{C.remove()},200)},ta=10,ca=.5;const Yi=C=>{const u=(0,bt.c)(),p=(0,bt.c)(),y=(0,bt.c)();return p.addElement(C.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),y.addElement(C.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(1.1)"},{offset:1,opacity:"1",transform:"scale(1)"}]),u.addElement(C).easing("ease-in-out").duration(200).addAnimation([p,y])},Ua=C=>{const u=(0,bt.c)(),p=(0,bt.c)(),y=(0,bt.c)();return p.addElement(C.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),y.addElement(C.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),u.addElement(C).easing("ease-in-out").duration(200).addAnimation([p,y])},G=C=>{const u=(0,bt.c)(),p=(0,bt.c)(),y=(0,bt.c)();return p.addElement(C.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),y.addElement(C.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(0.9)"},{offset:1,opacity:"1",transform:"scale(1)"}]),u.addElement(C).easing("ease-in-out").duration(150).addAnimation([p,y])},$=C=>{const u=(0,bt.c)(),p=(0,bt.c)(),y=(0,bt.c)();return p.addElement(C.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),y.addElement(C.querySelector(".alert-wrapper")).fromTo("opacity",.99,0),u.addElement(C).easing("ease-in-out").duration(150).addAnimation([p,y])},qt=(0,S.w$)(class extends S.wt{constructor(){super(),this.__registerHost(),this.didPresent=(0,S.lh)(this,"ionAlertDidPresent",7),this.willPresent=(0,S.lh)(this,"ionAlertWillPresent",7),this.willDismiss=(0,S.lh)(this,"ionAlertWillDismiss",7),this.didDismiss=(0,S.lh)(this,"ionAlertDidDismiss",7),this.didPresentShorthand=(0,S.lh)(this,"didPresent",7),this.willPresentShorthand=(0,S.lh)(this,"willPresent",7),this.willDismissShorthand=(0,S.lh)(this,"willDismiss",7),this.didDismissShorthand=(0,S.lh)(this,"didDismiss",7),this.delegateController=Lr(this),this.lockController=it(),this.triggerController=io(),this.customHTMLEnabled=pe.c.get("innerHTMLTemplatesEnabled",!1),this.processedInputs=[],this.processedButtons=[],this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,xo)},this.dispatchCancelHandler=u=>{if(Hr(u.detail.role)){const y=this.processedButtons.find(E=>"cancel"===E.role);this.callButtonHandler(y)}},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.header=void 0,this.subHeader=void 0,this.message=void 0,this.buttons=[],this.inputs=[],this.backdropDismiss=!0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(u,p){!0===u&&!1===p?this.present():!1===u&&!0===p&&this.dismiss()}triggerChanged(){const{trigger:u,el:p,triggerController:y}=this;u&&y.addClickListener(p,u)}onKeydown(u){const p=new Set(this.processedInputs.map(be=>be.type));if(p.has("checkbox")&&"Enter"===u.key)return void u.preventDefault();if(!p.has("radio")||u.target&&!this.el.contains(u.target)||u.target.classList.contains("alert-button"))return;const y=this.el.querySelectorAll(".alert-radio"),E=Array.from(y).filter(be=>!be.disabled),F=E.findIndex(be=>be.id===u.target.id);let te;if(["ArrowDown","ArrowRight"].includes(u.key)&&(te=F===E.length-1?E[0]:E[F+1]),["ArrowUp","ArrowLeft"].includes(u.key)&&(te=0===F?E[E.length-1]:E[F-1]),te&&E.includes(te)){const be=this.processedInputs.find(ze=>ze.id===(null==te?void 0:te.id));be&&(this.rbClick(be),te.focus())}}buttonsChanged(){this.processedButtons=this.buttons.map(p=>"string"==typeof p?{text:p,role:"cancel"===p.toLowerCase()?"cancel":void 0}:p)}inputsChanged(){const u=this.inputs,p=u.find(te=>!te.disabled),E=u.find(te=>te.checked&&!te.disabled)||p,F=new Set(u.map(te=>te.type));F.has("checkbox")&&F.has("radio")&&console.warn(`Alert cannot mix input types: ${Array.from(F.values()).join("/")}. Please see alert docs for more info.`),this.inputType=F.values().next().value,this.processedInputs=u.map((te,be)=>{var ze;return{type:te.type||"text",name:te.name||`${be}`,placeholder:te.placeholder||"",value:te.value,label:te.label,checked:!!te.checked,disabled:!!te.disabled,id:te.id||`alert-input-${this.overlayIndex}-${be}`,handler:te.handler,min:te.min,max:te.max,cssClass:null!==(ze=te.cssClass)&&void 0!==ze?ze:"",attributes:te.attributes||{},tabindex:"radio"===te.type&&te!==E?-1:0}})}connectedCallback(){wr(this.el),this.triggerChanged()}componentWillLoad(){var u;!(null===(u=this.htmlAttributes)||void 0===u)&&u.id||Xr(this.el),this.inputsChanged(),this.buttonsChanged()}disconnectedCallback(){this.triggerController.removeClickListener(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}componentDidLoad(){!this.gesture&&"ios"===(0,pe.b)(this)&&this.wrapperEl&&(this.gesture=zi(this.wrapperEl,u=>u.classList.contains("alert-button")),this.gesture.enable(!0)),!0===this.isOpen&&(0,Se.r)(()=>this.present()),this.triggerChanged()}present(){var u=this;return(0,J.A)(function*(){const p=yield u.lockController.lock();yield u.delegateController.attachViewToDom(),yield Tr(u,"alertEnter",Yi,G),p()})()}dismiss(u,p){var y=this;return(0,J.A)(function*(){const E=yield y.lockController.lock(),F=yield fr(y,u,p,"alertLeave",Ua,$);return F&&y.delegateController.removeViewFromDom(),E(),F})()}onDidDismiss(){return Vr(this.el,"ionAlertDidDismiss")}onWillDismiss(){return Vr(this.el,"ionAlertWillDismiss")}rbClick(u){for(const p of this.processedInputs)p.checked=p===u,p.tabindex=p===u?0:-1;this.activeId=u.id,Jr(u.handler,u),(0,S.$x)(this)}cbClick(u){u.checked=!u.checked,Jr(u.handler,u),(0,S.$x)(this)}buttonClick(u){var p=this;return(0,J.A)(function*(){const y=u.role,E=p.getValues();if(Hr(y))return p.dismiss({values:E},y);const F=yield p.callButtonHandler(u,E);return!1!==F&&p.dismiss(Object.assign({values:E},F),u.role)})()}callButtonHandler(u,p){return(0,J.A)(function*(){if(null!=u&&u.handler){const y=yield Jr(u.handler,p);if(!1===y)return!1;if("object"==typeof y)return y}return{}})()}getValues(){if(0===this.processedInputs.length)return;if("radio"===this.inputType){const p=this.processedInputs.find(y=>!!y.checked);return p?p.value:void 0}if("checkbox"===this.inputType)return this.processedInputs.filter(p=>p.checked).map(p=>p.value);const u={};return this.processedInputs.forEach(p=>{u[p.name]=p.value||""}),u}renderAlertInputs(){switch(this.inputType){case"checkbox":return this.renderCheckbox();case"radio":return this.renderRadio();default:return this.renderInput()}}renderCheckbox(){const u=this.processedInputs,p=(0,pe.b)(this);return 0===u.length?null:(0,S.h)("div",{class:"alert-checkbox-group"},u.map(y=>(0,S.h)("button",{type:"button",onClick:()=>this.cbClick(y),"aria-checked":`${y.checked}`,id:y.id,disabled:y.disabled,tabIndex:y.tabindex,role:"checkbox",class:Object.assign(Object.assign({},_t(y.cssClass)),{"alert-tappable":!0,"alert-checkbox":!0,"alert-checkbox-button":!0,"ion-focusable":!0,"alert-checkbox-button-disabled":y.disabled||!1})},(0,S.h)("div",{class:"alert-button-inner"},(0,S.h)("div",{class:"alert-checkbox-icon"},(0,S.h)("div",{class:"alert-checkbox-inner"})),(0,S.h)("div",{class:"alert-checkbox-label"},y.label)),"md"===p&&(0,S.h)("ion-ripple-effect",null))))}renderRadio(){const u=this.processedInputs;return 0===u.length?null:(0,S.h)("div",{class:"alert-radio-group",role:"radiogroup","aria-activedescendant":this.activeId},u.map(p=>(0,S.h)("button",{type:"button",onClick:()=>this.rbClick(p),"aria-checked":`${p.checked}`,disabled:p.disabled,id:p.id,tabIndex:p.tabindex,class:Object.assign(Object.assign({},_t(p.cssClass)),{"alert-radio-button":!0,"alert-tappable":!0,"alert-radio":!0,"ion-focusable":!0,"alert-radio-button-disabled":p.disabled||!1}),role:"radio"},(0,S.h)("div",{class:"alert-button-inner"},(0,S.h)("div",{class:"alert-radio-icon"},(0,S.h)("div",{class:"alert-radio-inner"})),(0,S.h)("div",{class:"alert-radio-label"},p.label)))))}renderInput(){const u=this.processedInputs;return 0===u.length?null:(0,S.h)("div",{class:"alert-input-group"},u.map(p=>{var y,E,F,te;return(0,S.h)("div",{class:"alert-input-wrapper"},"textarea"===p.type?(0,S.h)("textarea",Object.assign({placeholder:p.placeholder,value:p.value,id:p.id,tabIndex:p.tabindex},p.attributes,{disabled:null!==(E=null===(y=p.attributes)||void 0===y?void 0:y.disabled)&&void 0!==E?E:p.disabled,class:St(p),onInput:be=>{var ze;p.value=be.target.value,null!==(ze=p.attributes)&&void 0!==ze&&ze.onInput&&p.attributes.onInput(be)}})):(0,S.h)("input",Object.assign({placeholder:p.placeholder,type:p.type,min:p.min,max:p.max,value:p.value,id:p.id,tabIndex:p.tabindex},p.attributes,{disabled:null!==(te=null===(F=p.attributes)||void 0===F?void 0:F.disabled)&&void 0!==te?te:p.disabled,class:St(p),onInput:be=>{var ze;p.value=be.target.value,null!==(ze=p.attributes)&&void 0!==ze&&ze.onInput&&p.attributes.onInput(be)}})))}))}renderAlertButtons(){const u=this.processedButtons,p=(0,pe.b)(this);return(0,S.h)("div",{class:{"alert-button-group":!0,"alert-button-group-vertical":u.length>2}},u.map(E=>(0,S.h)("button",Object.assign({},E.htmlAttributes,{type:"button",id:E.id,class:Yt(E),tabIndex:0,onClick:()=>this.buttonClick(E)}),(0,S.h)("span",{class:"alert-button-inner"},E.text),"md"===p&&(0,S.h)("ion-ripple-effect",null))))}renderAlertMessage(u){const{customHTMLEnabled:p,message:y}=this;return p?(0,S.h)("div",{id:u,class:"alert-message",innerHTML:Ot(y)}):(0,S.h)("div",{id:u,class:"alert-message"},y)}render(){const{overlayIndex:u,header:p,subHeader:y,message:E,htmlAttributes:F}=this,te=(0,pe.b)(this),be=`alert-${u}-hdr`,ze=`alert-${u}-sub-hdr`,gt=`alert-${u}-msg`;return(0,S.h)(S.xr,Object.assign({key:"c7d53f48b359f2bc3480a2e1ba34948fc9378fb0",role:this.inputs.length>0||this.buttons.length>0?"alertdialog":"alert","aria-modal":"true","aria-labelledby":p?be:y?ze:null,"aria-describedby":void 0!==E?gt:null,tabindex:"-1"},F,{style:{zIndex:`${2e4+u}`},class:Object.assign(Object.assign({},_t(this.cssClass)),{[te]:!0,"overlay-hidden":!0,"alert-translucent":this.translucent}),onIonAlertWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap}),(0,S.h)("ion-backdrop",{key:"18c7e6b5d63435d9a6a82bda951158e7e1af6e92",tappable:this.backdropDismiss}),(0,S.h)("div",{key:"8ea08a2a70239e817442c12596f51b108aca428c",tabindex:"0","aria-hidden":"true"}),(0,S.h)("div",{key:"215ca5d72b8b180788e9748f5f22de01fa5a152a",class:"alert-wrapper ion-overlay-wrapper",ref:An=>this.wrapperEl=An},(0,S.h)("div",{key:"9880acd318428d4b5d670c67dd156477877f99f2",class:"alert-head"},p&&(0,S.h)("h2",{key:"612dec8dc9bfdcb36e1e4655dc214b7c229b20c8",id:be,class:"alert-title"},p),y&&(0,S.h)("h2",{key:"e3c54c80a1cd9399595064b5a0a887c16fdc8ff8",id:ze,class:"alert-sub-title"},y)),this.renderAlertMessage(gt),this.renderAlertInputs(),this.renderAlertButtons()),(0,S.h)("div",{key:"9062655e906b5caf36df6f742fd412552ae510be",tabindex:"0","aria-hidden":"true"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"],buttons:["buttonsChanged"],inputs:["inputsChanged"]}}static get style(){return{ios:".sc-ion-alert-ios-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-ios-h{display:none}.alert-top.sc-ion-alert-ios-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-label.sc-ion-alert-ios,.alert-radio-label.sc-ion-alert-ios{overflow-wrap:anywhere}@media (any-pointer: coarse){.alert-checkbox-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-message.sc-ion-alert-ios::-webkit-scrollbar{display:none}}.alert-input.sc-ion-alert-ios{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:0.875rem;line-height:1.25rem;z-index:0}.alert-button.ion-focused.sc-ion-alert-ios,.alert-tappable.ion-focused.sc-ion-alert-ios{background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.alert-button-inner.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit}.alert-input-disabled.sc-ion-alert-ios,.alert-checkbox-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios,.alert-radio-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:content}.alert-button.sc-ion-alert-ios,.alert-checkbox.sc-ion-alert-ios,.alert-input.sc-ion-alert-ios,.alert-radio.sc-ion-alert-ios{outline:none}.alert-radio-icon.sc-ion-alert-ios,.alert-checkbox-icon.sc-ion-alert-ios,.alert-checkbox-inner.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-ios{min-height:37px;resize:none}.sc-ion-alert-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, var(--ion-background-color-step-100, #f9f9f9)));--max-width:clamp(270px, 16.875rem, 324px);--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);font-size:max(14px, 0.875rem)}.alert-wrapper.sc-ion-alert-ios{border-radius:13px;-webkit-box-shadow:none;box-shadow:none;overflow:hidden}.alert-button.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{pointer-events:none}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.alert-translucent.sc-ion-alert-ios-h .alert-wrapper.sc-ion-alert-ios{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.alert-head.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:12px;padding-bottom:7px;text-align:center}.alert-title.sc-ion-alert-ios{margin-top:8px;color:var(--ion-text-color, #000);font-size:max(17px, 1.0625rem);font-weight:600}.alert-sub-title.sc-ion-alert-ios{color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));font-size:max(14px, 0.875rem)}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:0;padding-bottom:21px;color:var(--ion-text-color, #000);font-size:max(13px, 0.8125rem);text-align:center}.alert-message.sc-ion-alert-ios{max-height:240px}.alert-message.sc-ion-alert-ios:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:12px}.alert-input.sc-ion-alert-ios{border-radius:7px;margin-top:10px;-webkit-padding-start:7px;padding-inline-start:7px;-webkit-padding-end:7px;padding-inline-end:7px;padding-top:7px;padding-bottom:7px;border:0.55px solid var(--ion-color-step-250, var(--ion-background-color-step-250, #bfbfbf));background-color:var(--ion-background-color, #fff);-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:1rem}.alert-input.sc-ion-alert-ios::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-clear{display:none}.alert-input.sc-ion-alert-ios::-webkit-date-and-time-value{height:18px}.alert-radio-group.sc-ion-alert-ios,.alert-checkbox-group.sc-ion-alert-ios{-ms-scroll-chaining:none;overscroll-behavior:contain;max-height:240px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);overflow-y:auto;-webkit-overflow-scrolling:touch}.alert-tappable.sc-ion-alert-ios{min-height:44px}.alert-radio-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;-ms-flex-order:0;order:0;color:var(--ion-text-color, #000)}[aria-checked=true].sc-ion-alert-ios .alert-radio-label.sc-ion-alert-ios{color:var(--ion-color-primary, #0054e9)}.alert-radio-icon.sc-ion-alert-ios{position:relative;-ms-flex-order:1;order:1;min-width:30px}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{top:-7px;position:absolute;width:6px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{inset-inline-start:7px}.alert-checkbox-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-text-color, #000)}.alert-checkbox-icon.sc-ion-alert-ios{border-radius:50%;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:6px;margin-inline-end:6px;margin-top:10px;margin-bottom:10px;position:relative;width:min(1.375rem, 55.836px);height:min(1.375rem, 55.836px);border-width:0.125rem;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));background-color:var(--ion-item-background, var(--ion-background-color, #fff));contain:strict}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-icon.sc-ion-alert-ios{border-color:var(--ion-color-primary, #0054e9);background-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{top:calc(min(1.375rem, 55.836px) / 8);position:absolute;width:calc(min(1.375rem, 55.836px) / 6 + 1px);height:calc(min(1.375rem, 55.836px) * 0.5);-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:0.125rem;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-background-color, #fff)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{inset-inline-start:calc(min(1.375rem, 55.836px) / 3)}.alert-button-group.sc-ion-alert-ios{-webkit-margin-end:-0.55px;margin-inline-end:-0.55px;-ms-flex-wrap:wrap;flex-wrap:wrap}.alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios{border-right:none}[dir=rtl].sc-ion-alert-ios-h .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:none}[dir=rtl].sc-ion-alert-ios .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:none}@supports selector(:dir(rtl)){.alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child:dir(rtl){border-right:none}}.alert-button.sc-ion-alert-ios{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:0;-ms-flex:1 1 auto;flex:1 1 auto;min-width:50%;height:max(44px, 2.75rem);border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);background-color:transparent;color:var(--ion-color-primary, #0054e9);font-size:max(17px, 1.0625rem);overflow:hidden}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child{border-right:0}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:first-child{border-right:0}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:first-child:dir(rtl){border-right:0}}.alert-button.sc-ion-alert-ios:last-child{border-right:0;font-weight:bold}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:last-child:dir(rtl){border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}}.alert-button.ion-activated.sc-ion-alert-ios{background-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.1)}.alert-button-role-destructive.sc-ion-alert-ios,.alert-button-role-destructive.ion-activated.sc-ion-alert-ios,.alert-button-role-destructive.ion-focused.sc-ion-alert-ios{color:var(--ion-color-danger, #c5000f)}",md:".sc-ion-alert-md-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-md-h{display:none}.alert-top.sc-ion-alert-md-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-label.sc-ion-alert-md,.alert-radio-label.sc-ion-alert-md{overflow-wrap:anywhere}@media (any-pointer: coarse){.alert-checkbox-group.sc-ion-alert-md::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-md::-webkit-scrollbar,.alert-message.sc-ion-alert-md::-webkit-scrollbar{display:none}}.alert-input.sc-ion-alert-md{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:0.875rem;line-height:1.25rem;z-index:0}.alert-button.ion-focused.sc-ion-alert-md,.alert-tappable.ion-focused.sc-ion-alert-md{background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.alert-button-inner.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit}.alert-input-disabled.sc-ion-alert-md,.alert-checkbox-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md,.alert-radio-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:content}.alert-button.sc-ion-alert-md,.alert-checkbox.sc-ion-alert-md,.alert-input.sc-ion-alert-md,.alert-radio.sc-ion-alert-md{outline:none}.alert-radio-icon.sc-ion-alert-md,.alert-checkbox-icon.sc-ion-alert-md,.alert-checkbox-inner.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-md{min-height:37px;resize:none}.sc-ion-alert-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--max-width:280px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);font-size:0.875rem}.alert-wrapper.sc-ion-alert-md{border-radius:4px;-webkit-box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12);box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12)}.alert-head.sc-ion-alert-md{-webkit-padding-start:23px;padding-inline-start:23px;-webkit-padding-end:23px;padding-inline-end:23px;padding-top:20px;padding-bottom:15px;text-align:start}.alert-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:1.25rem;font-weight:500}.alert-sub-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:1rem}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px;padding-top:20px;padding-bottom:20px;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))}.alert-message.sc-ion-alert-md{font-size:1rem}@media screen and (max-width: 767px){.alert-message.sc-ion-alert-md{max-height:266px}}.alert-message.sc-ion-alert-md:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-head.sc-ion-alert-md+.alert-message.sc-ion-alert-md{padding-top:0}.alert-input.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:5px;border-bottom:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));color:var(--ion-text-color, #000)}.alert-input.sc-ion-alert-md::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-clear{display:none}.alert-input.sc-ion-alert-md:focus{margin-bottom:4px;border-bottom:2px solid var(--ion-color-primary, #0054e9)}.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{position:relative;border-top:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));border-bottom:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));overflow:auto}@media screen and (max-width: 767px){.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{max-height:266px}}.alert-tappable.sc-ion-alert-md{position:relative;min-height:48px}.alert-radio-label.sc-ion-alert-md{-webkit-padding-start:52px;padding-inline-start:52px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));font-size:1rem}.alert-radio-icon.sc-ion-alert-md{top:0;border-radius:50%;display:block;position:relative;width:20px;height:20px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, var(--ion-background-color-step-550, #737373))}.alert-radio-icon.sc-ion-alert-md{inset-inline-start:26px}.alert-radio-inner.sc-ion-alert-md{top:3px;border-radius:50%;position:absolute;width:10px;height:10px;-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--ion-color-primary, #0054e9)}.alert-radio-inner.sc-ion-alert-md{inset-inline-start:3px}[aria-checked=true].sc-ion-alert-md .alert-radio-label.sc-ion-alert-md{color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626))}[aria-checked=true].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}.alert-checkbox-label.sc-ion-alert-md{-webkit-padding-start:53px;padding-inline-start:53px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;width:calc(100% - 53px);color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));font-size:1rem}.alert-checkbox-icon.sc-ion-alert-md{top:0;border-radius:2px;position:relative;width:16px;height:16px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, var(--ion-background-color-step-550, #737373));contain:strict}.alert-checkbox-icon.sc-ion-alert-md{inset-inline-start:26px}[aria-checked=true].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #0054e9);background-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{top:0;position:absolute;width:6px;height:10px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary-contrast, #fff)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{inset-inline-start:3px}.alert-button-group.sc-ion-alert-md{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-pack:end;justify-content:flex-end}.alert-button.sc-ion-alert-md{border-radius:2px;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:0;margin-bottom:0;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;color:var(--ion-color-primary, #0054e9);font-weight:500;text-align:end;text-transform:uppercase;overflow:hidden}.alert-button-inner.sc-ion-alert-md{-ms-flex-pack:end;justify-content:flex-end}@media screen and (min-width: 768px){.sc-ion-alert-md-h{--max-width:min(100vw - 96px, 560px);--max-height:min(100vh - 96px, 560px)}}"}}},[34,"ion-alert",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],header:[1],subHeader:[1,"sub-header"],message:[1],buttons:[16],inputs:[1040],backdropDismiss:[4,"backdrop-dismiss"],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},[[4,"keydown","onKeydown"]],{isOpen:["onIsOpenChange"],trigger:["triggerChanged"],buttons:["buttonsChanged"],inputs:["inputsChanged"]}]),St=C=>{var u,p,y;return Object.assign(Object.assign({"alert-input":!0,"alert-input-disabled":(null!==(p=null===(u=C.attributes)||void 0===u?void 0:u.disabled)&&void 0!==p?p:C.disabled)||!1},_t(C.cssClass)),_t(C.attributes?null===(y=C.attributes.class)||void 0===y?void 0:y.toString():""))},Yt=C=>Object.assign({"alert-button":!0,"ion-focusable":!0,"ion-activatable":!0,[`alert-button-role-${C.role}`]:void 0!==C.role},_t(C.cssClass));const Hn=function hn(){typeof customElements>"u"||["ion-alert","ion-backdrop","ion-ripple-effect"].forEach(u=>{switch(u){case"ion-alert":customElements.get(u)||customElements.define(u,qt);break;case"ion-backdrop":customElements.get(u)||ye();break;case"ion-ripple-effect":customElements.get(u)||function di(){typeof customElements>"u"||["ion-ripple-effect"].forEach(u=>{"ion-ripple-effect"===u&&(customElements.get(u)||customElements.define(u,Ei))})}()}})},Vo=(0,S.w$)(class extends S.wt{constructor(){super(),this.__registerHost()}componentDidLoad(){var u=this;S.L2.isBrowser&&mo((0,J.A)(function*(){const p=(0,pe.a)(window,"hybrid");if(pe.c.getBoolean("_testing")||B.e(7338).then(B.bind(B,7338)).then(F=>F.startTapClick(pe.c)),pe.c.getBoolean("statusTap",p)&&B.e(6631).then(B.bind(B,6631)).then(F=>F.startStatusTap()),pe.c.getBoolean("inputShims",Qo())){const F=(0,pe.a)(window,"ios")?"ios":"android";B.e(7402).then(B.bind(B,7402)).then(te=>te.startInputShims(pe.c,F))}const y=yield Promise.resolve().then(B.bind(B,5098)),E=p||(0,Xn.shouldUseCloseWatcher)();pe.c.getBoolean("hardwareBackButton",E)?y.startHardwareBackButton():((0,Xn.shouldUseCloseWatcher)()&&(0,je.p)("experimentalCloseWatcher was set to `true`, but hardwareBackButton was set to `false`. Both config options must be `true` for the Close Watcher API to be used."),y.blockHardwareBackButton()),typeof window<"u"&&Promise.resolve().then(B.bind(B,6008)).then(F=>F.startKeyboardAssist(window)),Promise.resolve().then(B.bind(B,5498)).then(F=>u.focusVisible=F.startFocusVisible())}))}setFocus(u){var p=this;return(0,J.A)(function*(){p.focusVisible&&p.focusVisible.setFocus(u)})()}render(){const u=(0,pe.b)(this);return(0,S.h)(S.xr,{key:"e95cdeb2709edbc74f4e6ebf77cb110154605b72",class:{[u]:!0,"ion-page":!0,"force-statusbar-padding":pe.c.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return"html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}"}},[0,"ion-app",{setFocus:[64]}]),Qo=()=>!!((0,pe.a)(window,"ios")&&(0,pe.a)(window,"mobile")||(0,pe.a)(window,"android")&&(0,pe.a)(window,"mobileweb")),mo=C=>{"requestIdleCallback"in window?window.requestIdleCallback(C):setTimeout(C,32)},ua=function Eo(){typeof customElements>"u"||["ion-app"].forEach(u=>{"ion-app"===u&&(customElements.get(u)||customElements.define(u,Vo))})},No={bubbles:{dur:1e3,circles:9,fn:(C,u,p)=>{const y=C*u/p-C+"ms",E=2*Math.PI*u/p;return{r:5,style:{top:32*Math.sin(E)+"%",left:32*Math.cos(E)+"%","animation-delay":y}}}},circles:{dur:1e3,circles:8,fn:(C,u,p)=>{const y=u/p,E=C*y-C+"ms",F=2*Math.PI*y;return{r:5,style:{top:32*Math.sin(F)+"%",left:32*Math.cos(F)+"%","animation-delay":E}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(C,u)=>({r:6,style:{left:32-32*u+"%","animation-delay":-110*u+"ms"}})},lines:{dur:1e3,lines:8,fn:(C,u,p)=>({y1:14,y2:26,style:{transform:`rotate(${360/p*u+(u<p/2?180:-180)}deg)`,"animation-delay":C*u/p-C+"ms"}})},"lines-small":{dur:1e3,lines:8,fn:(C,u,p)=>({y1:12,y2:20,style:{transform:`rotate(${360/p*u+(u<p/2?180:-180)}deg)`,"animation-delay":C*u/p-C+"ms"}})},"lines-sharp":{dur:1e3,lines:12,fn:(C,u,p)=>({y1:17,y2:29,style:{transform:`rotate(${30*u+(u<6?180:-180)}deg)`,"animation-delay":C*u/p-C+"ms"}})},"lines-sharp-small":{dur:1e3,lines:12,fn:(C,u,p)=>({y1:12,y2:20,style:{transform:`rotate(${30*u+(u<6?180:-180)}deg)`,"animation-delay":C*u/p-C+"ms"}})}},Ql=(0,S.w$)(class extends S.wt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.duration=void 0,this.name=void 0,this.paused=!1}getName(){const u=this.name||pe.c.get("spinner"),p=(0,pe.b)(this);return u||("ios"===p?"lines":"circular")}render(){var u;const p=this,y=(0,pe.b)(p),E=p.getName(),F=null!==(u=No[E])&&void 0!==u?u:No.lines,te="number"==typeof p.duration&&p.duration>10?p.duration:F.dur,be=[];if(void 0!==F.circles)for(let ze=0;ze<F.circles;ze++)be.push(oe(F,te,ze,F.circles));else if(void 0!==F.lines)for(let ze=0;ze<F.lines;ze++)be.push(j(F,te,ze,F.lines));return(0,S.h)(S.xr,{key:"50cbaed55eeab15292447d106a80b93db4cb40de",class:Pt(p.color,{[y]:!0,[`spinner-${E}`]:!0,"spinner-paused":p.paused||pe.c.getBoolean("_testing")}),role:"progressbar",style:F.elmDuration?{animationDuration:te+"ms"}:{}},be)}static get style(){return":host{display:inline-block;position:relative;width:28px;height:28px;color:var(--color);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host(.ion-color){color:var(--ion-color-base)}svg{-webkit-transform-origin:center;transform-origin:center;position:absolute;top:0;left:0;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0)}:host-context([dir=rtl]) svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}[dir=rtl] svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}@supports selector(:dir(rtl)){svg:dir(rtl){-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}}:host(.spinner-lines) line,:host(.spinner-lines-small) line{stroke-width:7px}:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-width:4px}:host(.spinner-lines) line,:host(.spinner-lines-small) line,:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-linecap:round;stroke:currentColor}:host(.spinner-lines) svg,:host(.spinner-lines-small) svg,:host(.spinner-lines-sharp) svg,:host(.spinner-lines-sharp-small) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite}:host(.spinner-bubbles) svg{-webkit-animation:spinner-scale-out 1s linear infinite;animation:spinner-scale-out 1s linear infinite;fill:currentColor}:host(.spinner-circles) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite;fill:currentColor}:host(.spinner-crescent) circle{fill:transparent;stroke-width:4px;stroke-dasharray:128px;stroke-dashoffset:82px;stroke:currentColor}:host(.spinner-crescent) svg{-webkit-animation:spinner-rotate 1s linear infinite;animation:spinner-rotate 1s linear infinite}:host(.spinner-dots) circle{stroke-width:0;fill:currentColor}:host(.spinner-dots) svg{-webkit-animation:spinner-dots 1s linear infinite;animation:spinner-dots 1s linear infinite}:host(.spinner-circular) svg{-webkit-animation:spinner-circular linear infinite;animation:spinner-circular linear infinite}:host(.spinner-circular) circle{-webkit-animation:spinner-circular-inner ease-in-out infinite;animation:spinner-circular-inner ease-in-out infinite;stroke:currentColor;stroke-dasharray:80px, 200px;stroke-dashoffset:0px;stroke-width:5.6;fill:none}:host(.spinner-paused),:host(.spinner-paused) svg,:host(.spinner-paused) circle{-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@-webkit-keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@-webkit-keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}@keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}"}},[1,"ion-spinner",{color:[513],duration:[2],name:[1],paused:[4]}]),oe=(C,u,p,y)=>{const E=C.fn(u,p,y);return E.style["animation-duration"]=u+"ms",(0,S.h)("svg",{viewBox:E.viewBox||"0 0 64 64",style:E.style},(0,S.h)("circle",{transform:E.transform||"translate(32,32)",cx:E.cx,cy:E.cy,r:E.r,style:C.elmDuration?{animationDuration:u+"ms"}:{}}))},j=(C,u,p,y)=>{const E=C.fn(u,p,y);return E.style["animation-duration"]=u+"ms",(0,S.h)("svg",{viewBox:E.viewBox||"0 0 64 64",style:E.style},(0,S.h)("line",{transform:"translate(32,32)",y1:E.y1,y2:E.y2}))},Y=C=>{const u=(0,bt.c)(),p=(0,bt.c)(),y=(0,bt.c)();return p.addElement(C.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),y.addElement(C.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),u.addElement(C).easing("ease-in-out").duration(200).addAnimation([p,y])},Be=C=>{const u=(0,bt.c)(),p=(0,bt.c)(),y=(0,bt.c)();return p.addElement(C.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),y.addElement(C.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),u.addElement(C).easing("ease-in-out").duration(200).addAnimation([p,y])},Pn=C=>{const u=(0,bt.c)(),p=(0,bt.c)(),y=(0,bt.c)();return p.addElement(C.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),y.addElement(C.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),u.addElement(C).easing("ease-in-out").duration(200).addAnimation([p,y])},Rr=C=>{const u=(0,bt.c)(),p=(0,bt.c)(),y=(0,bt.c)();return p.addElement(C.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),y.addElement(C.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),u.addElement(C).easing("ease-in-out").duration(200).addAnimation([p,y])},Ma=(0,S.w$)(class extends S.wt{constructor(){super(),this.__registerHost(),this.didPresent=(0,S.lh)(this,"ionLoadingDidPresent",7),this.willPresent=(0,S.lh)(this,"ionLoadingWillPresent",7),this.willDismiss=(0,S.lh)(this,"ionLoadingWillDismiss",7),this.didDismiss=(0,S.lh)(this,"ionLoadingDidDismiss",7),this.didPresentShorthand=(0,S.lh)(this,"didPresent",7),this.willPresentShorthand=(0,S.lh)(this,"willPresent",7),this.willDismissShorthand=(0,S.lh)(this,"willDismiss",7),this.didDismissShorthand=(0,S.lh)(this,"didDismiss",7),this.delegateController=Lr(this),this.lockController=it(),this.triggerController=io(),this.customHTMLEnabled=pe.c.get("innerHTMLTemplatesEnabled",!1),this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,xo)},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.message=void 0,this.cssClass=void 0,this.duration=0,this.backdropDismiss=!1,this.showBackdrop=!0,this.spinner=void 0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(u,p){!0===u&&!1===p?this.present():!1===u&&!0===p&&this.dismiss()}triggerChanged(){const{trigger:u,el:p,triggerController:y}=this;u&&y.addClickListener(p,u)}connectedCallback(){wr(this.el),this.triggerChanged()}componentWillLoad(){var u;if(void 0===this.spinner){const p=(0,pe.b)(this);this.spinner=pe.c.get("loadingSpinner",pe.c.get("spinner","ios"===p?"lines":"crescent"))}null!==(u=this.htmlAttributes)&&void 0!==u&&u.id||Xr(this.el)}componentDidLoad(){!0===this.isOpen&&(0,Se.r)(()=>this.present()),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}present(){var u=this;return(0,J.A)(function*(){const p=yield u.lockController.lock();yield u.delegateController.attachViewToDom(),yield Tr(u,"loadingEnter",Y,Pn),u.duration>0&&(u.durationTimeout=setTimeout(()=>u.dismiss(),u.duration+10)),p()})()}dismiss(u,p){var y=this;return(0,J.A)(function*(){const E=yield y.lockController.lock();y.durationTimeout&&clearTimeout(y.durationTimeout);const F=yield fr(y,u,p,"loadingLeave",Be,Rr);return F&&y.delegateController.removeViewFromDom(),E(),F})()}onDidDismiss(){return Vr(this.el,"ionLoadingDidDismiss")}onWillDismiss(){return Vr(this.el,"ionLoadingWillDismiss")}renderLoadingMessage(u){const{customHTMLEnabled:p,message:y}=this;return p?(0,S.h)("div",{class:"loading-content",id:u,innerHTML:Ot(y)}):(0,S.h)("div",{class:"loading-content",id:u},y)}render(){const{message:u,spinner:p,htmlAttributes:y,overlayIndex:E}=this,F=(0,pe.b)(this),te=`loading-${E}-msg`;return(0,S.h)(S.xr,Object.assign({key:"fb3d2cd7cd0539ed6540d8be50e243c7916b3ca2",role:"dialog","aria-modal":"true","aria-labelledby":void 0!==u?te:null,tabindex:"-1"},y,{style:{zIndex:`${4e4+this.overlayIndex}`},onIonBackdropTap:this.onBackdropTap,class:Object.assign(Object.assign({},_t(this.cssClass)),{[F]:!0,"overlay-hidden":!0,"loading-translucent":this.translucent})}),(0,S.h)("ion-backdrop",{key:"c8bd30782f3040b1b80e88aa924861e439d40754",visible:this.showBackdrop,tappable:this.backdropDismiss}),(0,S.h)("div",{key:"7ad4447fafa49aa861d311221b8c2e8171b4c610",tabindex:"0","aria-hidden":"true"}),(0,S.h)("div",{key:"1879df0d895eb8ee20ccdc94dd35d708c1140b91",class:"loading-wrapper ion-overlay-wrapper"},p&&(0,S.h)("div",{key:"220f292c136681f5fa91f94669aac75b15e490ce",class:"loading-spinner"},(0,S.h)("ion-spinner",{key:"d599084a1426d941bdd080a988d8ad5b9589b823",name:p,"aria-hidden":"true"})),void 0!==u&&this.renderLoadingMessage(te)),(0,S.h)("div",{key:"e443897b353a48e0c72718dba04d83d7c5070d73",tabindex:"0","aria-hidden":"true"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:".sc-ion-loading-ios-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-ios-h{display:none}.loading-wrapper.sc-ion-loading-ios{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}ion-spinner.sc-ion-loading-ios{color:var(--spinner-color)}.sc-ion-loading-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, var(--ion-background-color-step-100, #f9f9f9)));--max-width:270px;--max-height:90%;--spinner-color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);color:var(--ion-text-color, #000);font-size:0.875rem}.loading-wrapper.sc-ion-loading-ios{border-radius:8px;-webkit-padding-start:34px;padding-inline-start:34px;-webkit-padding-end:34px;padding-inline-end:34px;padding-top:24px;padding-bottom:24px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.loading-translucent.sc-ion-loading-ios-h .loading-wrapper.sc-ion-loading-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.loading-content.sc-ion-loading-ios{font-weight:bold}.loading-spinner.sc-ion-loading-ios+.loading-content.sc-ion-loading-ios{-webkit-margin-start:16px;margin-inline-start:16px}",md:".sc-ion-loading-md-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-md-h{display:none}.loading-wrapper.sc-ion-loading-md{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}ion-spinner.sc-ion-loading-md{color:var(--spinner-color)}.sc-ion-loading-md-h{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--max-width:280px;--max-height:90%;--spinner-color:var(--ion-color-primary, #0054e9);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));font-size:0.875rem}.loading-wrapper.sc-ion-loading-md{border-radius:2px;-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px;padding-top:24px;padding-bottom:24px;-webkit-box-shadow:0 16px 20px rgba(0, 0, 0, 0.4);box-shadow:0 16px 20px rgba(0, 0, 0, 0.4)}.loading-spinner.sc-ion-loading-md+.loading-content.sc-ion-loading-md{-webkit-margin-start:16px;margin-inline-start:16px}"}}},[34,"ion-loading",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],message:[1],cssClass:[1,"css-class"],duration:[2],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],spinner:[1025],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]);B(4341),B(5498),B(2782);const Ls=C=>{const u=C.getTimezoneOffset();return C.setMinutes(C.getMinutes()-u),C};Ls(new Date("2022T01:00")),Ls(new Date("2022T13:00"));const Jh=["outletContent"],bs=["*"];let Oa=(()=>{var C;let u=((0,x.A)(C=class extends _e.Rg{constructor(y,E,F,te,be,ze,gt,Wt){super(y,E,F,te,be,ze,gt,Wt),(0,x.A)(this,"parentOutlet",void 0),(0,x.A)(this,"outletContent",void 0),this.parentOutlet=Wt}},"\u0275fac",function(y){return new(y||C)(H.kS0("name"),H.kS0("tabs"),H.rXU(rt.aZ),H.rXU(H.aKT),H.rXU(Dt.Ix),H.rXU(H.SKi),H.rXU(Dt.nX),H.rXU(C,12))}),(0,x.A)(C,"\u0275cmp",H.VBU({type:C,selectors:[["ion-router-outlet"]],viewQuery:function(y,E){if(1&y&&H.GBs(Jh,7,H.c1b),2&y){let F;H.mGM(F=H.lsd())&&(E.outletContent=F.first)}},standalone:!0,features:[H.Vt3,H.aNF],ngContentSelectors:bs,decls:3,vars:0,consts:[["outletContent",""]],template:function(y,E){1&y&&(H.NAR(),H.qex(0,null,0),H.SdG(2),H.bVm())},encapsulation:2})),C);return u=(0,g.Cg)([(0,_e.hO)({defineCustomElementFn:re})],u),u})();const Uu=(C,u)=>{const p=C.prototype;u.forEach(y=>{Object.defineProperty(p,y,{get(){return this.el[y]},set(E){this.z.runOutsideAngular(()=>this.el[y]=E)},configurable:!0})})},$p=(C,u)=>{const p=C.prototype;u.forEach(y=>{p[y]=function(){const E=arguments;return this.z.runOutsideAngular(()=>this.el[y].apply(this.el,E))}})};function el(C){return function(p){const{defineCustomElementFn:y,inputs:E,methods:F}=C;return void 0!==y&&y(),E&&Uu(p,E),F&&$p(p,F),p}}let jp=(()=>{var C;let u=((0,x.A)(C=class{constructor(y,E,F){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=F,y.detach(),this.el=E.nativeElement}},"\u0275fac",function(y){return new(y||C)(H.rXU(H.gRc),H.rXU(H.aKT),H.rXU(H.SKi))}),(0,x.A)(C,"\u0275cmp",H.VBU({type:C,selectors:[["ion-app"]],standalone:!0,features:[H.aNF],ngContentSelectors:bs,decls:1,vars:0,template:function(y,E){1&y&&(H.NAR(),H.SdG(0))},encapsulation:2,changeDetection:0})),C);return u=(0,g.Cg)([el({defineCustomElementFn:ua,methods:["setFocus"]})],u),u})(),Kp=(()=>{var C;class u extends _e.Kb{constructor(){super(Xt),(0,x.A)(this,"angularDelegate",(0,H.WQX)(_e.Yq)),(0,x.A)(this,"injector",(0,H.WQX)(H.zZn)),(0,x.A)(this,"environmentInjector",(0,H.WQX)(H.uvJ)),function Xe(){typeof customElements>"u"||["ion-modal","ion-backdrop"].forEach(u=>{switch(u){case"ion-modal":customElements.get(u)||customElements.define(u,Le);break;case"ion-backdrop":customElements.get(u)||ye()}})}()}create(y){return super.create({...y,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return C=u,(0,x.A)(u,"\u0275fac",function(y){return new(y||C)}),(0,x.A)(u,"\u0275prov",H.jDH({token:C,factory:C.\u0275fac})),u})();class cv extends _e.Kb{constructor(){super(er),(0,x.A)(this,"angularDelegate",(0,H.WQX)(_e.Yq)),(0,x.A)(this,"injector",(0,H.WQX)(H.zZn)),(0,x.A)(this,"environmentInjector",(0,H.WQX)(H.uvJ)),Ze()}create(u){return super.create({...u,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const qp=(C={})=>(0,H.EmA)([{provide:_e.sR,useValue:C},{provide:H.hnV,useFactory:cf,multi:!0,deps:[_e.sR,rt.qQ]},(0,_e.YV)(),_e.Yq,Kp,cv]),cf=(C,u)=>()=>{u.documentElement.classList.add("ion-ce"),(0,pe.i)(C)};let bc=(()=>{var C;class u extends _e.Kb{constructor(){super(Mt),Hn()}}return C=u,(0,x.A)(u,"\u0275fac",function(y){return new(y||C)}),(0,x.A)(u,"\u0275prov",H.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})),u})(),Wd=(()=>{var C;class u extends _e.Kb{constructor(){super(ln),function rl(){typeof customElements>"u"||["ion-loading","ion-backdrop","ion-spinner"].forEach(u=>{switch(u){case"ion-loading":customElements.get(u)||customElements.define(u,Ma);break;case"ion-backdrop":customElements.get(u)||ye();break;case"ion-spinner":customElements.get(u)||function ge(){typeof customElements>"u"||["ion-spinner"].forEach(u=>{"ion-spinner"===u&&(customElements.get(u)||customElements.define(u,Ql))})}()}})}()}}return C=u,(0,x.A)(u,"\u0275fac",function(y){return new(y||C)}),(0,x.A)(u,"\u0275prov",H.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})),u})()},4742:(Vn,At,B)=>{"use strict";B.d(At,{hG:()=>Fi,mC:()=>hr,el:()=>tr,Jm:()=>yn,QW:()=>en,b_:()=>rn,I9:()=>Kt,ME:()=>Br,HW:()=>Tr,tN:()=>sr,hU:()=>ho,W9:()=>Vr,A9:()=>ko,M0:()=>Er,lO:()=>To,eU:()=>Lr,iq:()=>io,KW:()=>nn,Ax:()=>Ir,Hp:()=>$r,$w:()=>lo,uz:()=>Pt,he:()=>bt,nf:()=>jt,Sb:()=>eo,CF:()=>kr,ln:()=>Qn,S1:()=>zo,Nm:()=>zn,Ip:()=>_r,IO:()=>Ie,nc:()=>Xe,BC:()=>yt,ai:()=>Rn,bv:()=>ba,Xi:()=>vi,W3:()=>qi,su:()=>ce,N7:()=>mr,Je:()=>de,Gw:()=>Ae});var x=B(9842),g=B(4438),H=B(4341),_e=B(8880),J=B(1635),S=B(3726),ke=B(177),se=B(2902),Ne=(B(9986),B(3604),B(5022),B(3615),B(8607),B(9483)),ot=B(464),Pe=(B(9568),B(7610)),vt=(B(8476),B(4261));B(1970),B(7192);var re=B(467);const rt=Ne.i,Dt=function(){var L=(0,re.A)(function*(ie,Me){if(!(typeof window>"u"))return yield rt(),(0,vt.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),Me)});return function(Me,U){return L.apply(this,arguments)}}(),Ke=["*"],je=["outletContent"];function lr(L,ie){if(1&L&&(g.j41(0,"div",1),g.eu8(1,2),g.k0s()),2&L){const Me=g.XpG();g.R7$(),g.Y8G("ngTemplateOutlet",Me.template)}}function ut(L,ie){if(1&L&&g.eu8(0,1),2&L){const Me=g.XpG();g.Y8G("ngTemplateOutlet",Me.template)}}let ce=(()=>{var L;class ie extends _e.fL{constructor(U,M){super(U,M),(0,x.A)(this,"el",void 0),this.el=M}handleInputEvent(U){this.handleValueChange(U,U.value)}registerOnChange(U){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName?M=>{U(""===M?null:parseFloat(M))}:U)}}return L=ie,(0,x.A)(ie,"\u0275fac",function(U){return new(U||L)(g.rXU(g.zZn),g.rXU(g.aKT))}),(0,x.A)(ie,"\u0275dir",g.FsC({type:L,selectors:[["ion-input","type","number"],["ion-range"]],hostBindings:function(U,M){1&U&&g.bIt("ionInput",function(Ze){return M.handleInputEvent(Ze.target)})},features:[g.Jv_([{provide:H.kq,useExisting:L,multi:!0}]),g.Vt3]})),ie})(),de=(()=>{var L;class ie extends _e.fL{constructor(U,M){super(U,M)}_handleChangeEvent(U){this.handleValueChange(U,U.value)}}return L=ie,(0,x.A)(ie,"\u0275fac",function(U){return new(U||L)(g.rXU(g.zZn),g.rXU(g.aKT))}),(0,x.A)(ie,"\u0275dir",g.FsC({type:L,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(U,M){1&U&&g.bIt("ionChange",function(Ze){return M._handleChangeEvent(Ze.target)})},features:[g.Jv_([{provide:H.kq,useExisting:L,multi:!0}]),g.Vt3]})),ie})(),Ae=(()=>{var L;class ie extends _e.fL{constructor(U,M){super(U,M)}_handleInputEvent(U){this.handleValueChange(U,U.value)}}return L=ie,(0,x.A)(ie,"\u0275fac",function(U){return new(U||L)(g.rXU(g.zZn),g.rXU(g.aKT))}),(0,x.A)(ie,"\u0275dir",g.FsC({type:L,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(U,M){1&U&&g.bIt("ionInput",function(Ze){return M._handleInputEvent(Ze.target)})},features:[g.Jv_([{provide:H.kq,useExisting:L,multi:!0}]),g.Vt3]})),ie})();const Et=(L,ie)=>{const Me=L.prototype;ie.forEach(U=>{Object.defineProperty(Me,U,{get(){return this.el[U]},set(M){this.z.runOutsideAngular(()=>this.el[U]=M)},configurable:!0})})},Mt=(L,ie)=>{const Me=L.prototype;ie.forEach(U=>{Me[U]=function(){const M=arguments;return this.z.runOutsideAngular(()=>this.el[U].apply(this.el,M))}})},Ft=(L,ie,Me)=>{Me.forEach(U=>L[U]=(0,S.R)(ie,U))};function Xt(L){return function(Me){const{defineCustomElementFn:U,inputs:M,methods:q}=L;return void 0!==U&&U(),M&&Et(Me,M),q&&Mt(Me,q),Me}}let hr=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-avatar"]],ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({})],ie),ie})(),yn=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement,Ft(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],ie),ie})(),en=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({inputs:["collapse"]})],ie),ie})(),rn=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],ie),ie})(),Kt=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({inputs:["mode"]})],ie),ie})(),Br=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({inputs:["color","mode","translucent"]})],ie),ie})(),Tr=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({inputs:["color","mode"]})],ie),ie})(),sr=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({inputs:["color","mode"]})],ie),ie})(),ho=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],ie),ie})(),Vr=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement,Ft(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],ie),ie})(),ko=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement,Ft(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",formatOptions:"formatOptions",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","formatOptions","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],ie),ie})(),Er=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({inputs:["collapse","mode","translucent"]})],ie),ie})(),To=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({inputs:["fixed"]})],ie),ie})(),Lr=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({inputs:["collapse","mode","translucent"]})],ie),ie})(),io=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],ie),ie})(),nn=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement,Ft(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({inputs:["alt","src"]})],ie),ie})(),Ir=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement,Ft(this,this.el,["ionInfinite"])}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-infinite-scroll"]],inputs:{disabled:"disabled",position:"position",threshold:"threshold"},ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({inputs:["disabled","position","threshold"],methods:["complete"]})],ie),ie})(),$r=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-infinite-scroll-content"]],inputs:{loadingSpinner:"loadingSpinner",loadingText:"loadingText"},ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({inputs:["loadingSpinner","loadingText"]})],ie),ie})(),lo=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement,Ft(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],ie),ie})(),Pt=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],ie),ie})(),bt=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({inputs:["color","mode","position"]})],ie),ie})(),jt=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],ie),ie})(),Qn=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-row"]],ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({})],ie),ie})(),zo=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement,Ft(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({inputs:["animated","autocapitalize","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","maxlength","minlength","mode","name","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],ie),ie})(),zn=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement,Ft(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],ie),ie})(),_r=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({inputs:["disabled","value"]})],ie),ie})(),Ie=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({inputs:["color","mode"]})],ie),ie})(),Xe=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement,Ft(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",shape:"shape",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","maxlength","minlength","mode","name","placeholder","readonly","required","rows","shape","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],ie),ie})(),yt=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({inputs:["color","size"]})],ie),ie})(),Rn=(()=>{var L;let ie=((0,x.A)(L=class{constructor(U,M,q){(0,x.A)(this,"z",void 0),(0,x.A)(this,"el",void 0),this.z=q,U.detach(),this.el=M.nativeElement}},"\u0275fac",function(U){return new(U||L)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.SKi))}),(0,x.A)(L,"\u0275cmp",g.VBU({type:L,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),L);return ie=(0,J.Cg)([Xt({inputs:["color","mode"]})],ie),ie})(),kn=(()=>{var L;class ie extends _e.Rg{constructor(U,M,q,Ze,st,Ot,kt,Nt){super(U,M,q,Ze,st,Ot,kt,Nt),(0,x.A)(this,"parentOutlet",void 0),(0,x.A)(this,"outletContent",void 0),this.parentOutlet=Nt}}return L=ie,(0,x.A)(ie,"\u0275fac",function(U){return new(U||L)(g.kS0("name"),g.kS0("tabs"),g.rXU(ke.aZ),g.rXU(g.aKT),g.rXU(se.Ix),g.rXU(g.SKi),g.rXU(se.nX),g.rXU(L,12))}),(0,x.A)(ie,"\u0275cmp",g.VBU({type:L,selectors:[["ion-router-outlet"]],viewQuery:function(U,M){if(1&U&&g.GBs(je,7,g.c1b),2&U){let q;g.mGM(q=g.lsd())&&(M.outletContent=q.first)}},features:[g.Vt3],ngContentSelectors:Ke,decls:3,vars:0,consts:[["outletContent",""]],template:function(U,M){1&U&&(g.NAR(),g.qex(0,null,0),g.SdG(2),g.bVm())},encapsulation:2})),ie})(),tr=(()=>{var L;class ie extends _e.el{constructor(U,M,q,Ze,st,Ot){super(U,M,q,Ze,st,Ot)}}return L=ie,(0,x.A)(ie,"\u0275fac",function(U){return new(U||L)(g.rXU(kn,8),g.rXU(_e.q9),g.rXU(_e.TS),g.rXU(g.aKT),g.rXU(g.SKi),g.rXU(g.gRc))}),(0,x.A)(ie,"\u0275cmp",g.VBU({type:L,selectors:[["ion-back-button"]],features:[g.Vt3],ngContentSelectors:Ke,decls:1,vars:0,template:function(U,M){1&U&&(g.NAR(),g.SdG(0))},encapsulation:2,changeDetection:0})),ie})(),mr=(()=>{var L;class ie extends _e.CE{}return L=ie,(0,x.A)(ie,"\u0275fac",(()=>{let Me;return function(M){return(Me||(Me=g.xGo(L)))(M||L)}})()),(0,x.A)(ie,"\u0275dir",g.FsC({type:L,selectors:[["","routerLink","",5,"a",5,"area"]],features:[g.Vt3]})),ie})(),eo=(()=>{var L;class ie extends _e.Sb{}return L=ie,(0,x.A)(ie,"\u0275fac",(()=>{let Me;return function(M){return(Me||(Me=g.xGo(L)))(M||L)}})()),(0,x.A)(ie,"\u0275cmp",g.VBU({type:L,selectors:[["ion-modal"]],features:[g.Vt3],decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(U,M){1&U&&g.DNE(0,lr,2,1,"div",0),2&U&&g.Y8G("ngIf",M.isCmpOpen||M.keepContentsMounted)},dependencies:[ke.bT,ke.T3],encapsulation:2,changeDetection:0})),ie})(),kr=(()=>{var L;class ie extends _e.CF{}return L=ie,(0,x.A)(ie,"\u0275fac",(()=>{let Me;return function(M){return(Me||(Me=g.xGo(L)))(M||L)}})()),(0,x.A)(ie,"\u0275cmp",g.VBU({type:L,selectors:[["ion-popover"]],features:[g.Vt3],decls:1,vars:1,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(U,M){1&U&&g.DNE(0,ut,1,1,"ng-container",0),2&U&&g.Y8G("ngIf",M.isCmpOpen||M.keepContentsMounted)},dependencies:[ke.bT,ke.T3],encapsulation:2,changeDetection:0})),ie})();const po={provide:H.cz,useExisting:(0,g.Rfq)(()=>gr),multi:!0};let gr=(()=>{var L;class ie extends H.zX{}return L=ie,(0,x.A)(ie,"\u0275fac",(()=>{let Me;return function(M){return(Me||(Me=g.xGo(L)))(M||L)}})()),(0,x.A)(ie,"\u0275dir",g.FsC({type:L,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(U,M){2&U&&g.BMQ("max",M._enabled?M.max:null)},features:[g.Jv_([po]),g.Vt3]})),ie})();const Ur={provide:H.cz,useExisting:(0,g.Rfq)(()=>Ki),multi:!0};let Ki=(()=>{var L;class ie extends H.VZ{}return L=ie,(0,x.A)(ie,"\u0275fac",(()=>{let Me;return function(M){return(Me||(Me=g.xGo(L)))(M||L)}})()),(0,x.A)(ie,"\u0275dir",g.FsC({type:L,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(U,M){2&U&&g.BMQ("min",M._enabled?M.min:null)},features:[g.Jv_([Ur]),g.Vt3]})),ie})(),Fi=(()=>{var L;class ie extends _e.Kb{constructor(){super(Pe.a)}}return L=ie,(0,x.A)(ie,"\u0275fac",function(U){return new(U||L)}),(0,x.A)(ie,"\u0275prov",g.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})),ie})(),vi=(()=>{var L;class ie extends _e.Kb{constructor(){super(Pe.l)}}return L=ie,(0,x.A)(ie,"\u0275fac",function(U){return new(U||L)}),(0,x.A)(ie,"\u0275prov",g.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})),ie})(),qi=(()=>{var L;class ie extends _e.Kb{constructor(){super(Pe.m),(0,x.A)(this,"angularDelegate",(0,g.WQX)(_e.Yq)),(0,x.A)(this,"injector",(0,g.WQX)(g.zZn)),(0,x.A)(this,"environmentInjector",(0,g.WQX)(g.uvJ))}create(U){return super.create({...U,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return L=ie,(0,x.A)(ie,"\u0275fac",function(U){return new(U||L)}),(0,x.A)(ie,"\u0275prov",g.jDH({token:L,factory:L.\u0275fac})),ie})();class Mo extends _e.Kb{constructor(){super(Pe.c),(0,x.A)(this,"angularDelegate",(0,g.WQX)(_e.Yq)),(0,x.A)(this,"injector",(0,g.WQX)(g.zZn)),(0,x.A)(this,"environmentInjector",(0,g.WQX)(g.uvJ))}create(ie){return super.create({...ie,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Sa=(L,ie,Me)=>()=>{const U=ie.defaultView;if(U&&typeof window<"u"){(0,ot.s)({...L,_zoneGate:q=>Me.run(q)});const M="__zone_symbol__addEventListener"in ie.body?"__zone_symbol__addEventListener":"addEventListener";return function $e(){var L=[];if(typeof window<"u"){var ie=window;(!ie.customElements||ie.Element&&(!ie.Element.prototype.closest||!ie.Element.prototype.matches||!ie.Element.prototype.remove||!ie.Element.prototype.getRootNode))&&L.push(B.e(7278).then(B.t.bind(B,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||ie.NodeList&&!ie.NodeList.prototype.forEach||!ie.fetch||!function(){try{var U=new URL("b","http://a");return U.pathname="c%20d","http://a/c%20d"===U.href&&U.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&L.push(B.e(9329).then(B.t.bind(B,7783,23)))}return Promise.all(L)}().then(()=>Dt(U,{exclude:["ion-tabs"],syncQueue:!0,raf:_e.er,jmp:q=>Me.runOutsideAngular(q),ael(q,Ze,st,Ot){q[M](Ze,st,Ot)},rel(q,Ze,st,Ot){q.removeEventListener(Ze,st,Ot)}}))}};let ba=(()=>{var L;class ie{static forRoot(U={}){return{ngModule:ie,providers:[{provide:_e.sR,useValue:U},{provide:g.hnV,useFactory:Sa,multi:!0,deps:[_e.sR,ke.qQ,g.SKi]},_e.Yq,(0,_e.YV)()]}}}return L=ie,(0,x.A)(ie,"\u0275fac",function(U){return new(U||L)}),(0,x.A)(ie,"\u0275mod",g.$C({type:L})),(0,x.A)(ie,"\u0275inj",g.G2t({providers:[qi,Mo],imports:[ke.MD]})),ie})()},1771:(Vn,At,B)=>{"use strict";B.d(At,{L2:()=>ke,wt:()=>de,xr:()=>lo,lh:()=>Ut,$x:()=>wo,OX:()=>rn,Wi:()=>gn,h:()=>Ir,w$:()=>li,gv:()=>yn,iY:()=>vn,zb:()=>Et,bN:()=>en});var x=B(467),g={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},J=Object.defineProperty,ke={isDev:!!g.isDev,isBrowser:!0,isServer:!1,isTesting:!!g.isTesting},se=g.hotModuleReplacement?window.__STENCIL_HOSTREFS__||(window.__STENCIL_HOSTREFS__=new WeakMap):new WeakMap,Ge=G=>se.get(G),Se=(G,$)=>$ in G,Ne=(G,$)=>(0,console.error)(G,$),ot=g.isTesting?["STENCIL:"]:["%cstencil","color: white;background:#4c47ff;font-weight: bold; font-size:10px; padding:2px 6px; border-radius: 5px"],it=(...G)=>console.error(...ot,...G),Pe=(...G)=>console.warn(...ot,...G),ct=new Map,$e=new Map,re=[],Lt="s-id",lr="http://www.w3.org/1999/xlink",ut=["formAssociatedCallback","formResetCallback","formDisabledCallback","formStateRestoreCallback"],Ue=typeof window<"u"?window:{},ce=Ue.document||{head:{}},de=Ue.HTMLElement||class{},Ae={$flags$:0,$resourcesUrl$:"",jmp:G=>G(),raf:G=>requestAnimationFrame(G),ael:(G,$,ve,Fe)=>G.addEventListener($,ve,Fe),rel:(G,$,ve,Fe)=>G.removeEventListener($,ve,Fe),ce:(G,$)=>new CustomEvent(G,$)},Et=G=>{Object.assign(Ae,G)},Mt=g.shadowDom,Ft=(()=>{let G=!1;try{ce.addEventListener("e",null,Object.defineProperty({},"passive",{get(){G=!0}}))}catch{}return G})(),Xt=!!g.constructableCSS&&(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),dr=0,er=!1,wn=[],wr=[],Xr=[],hr=(G,$)=>ve=>{G.push(ve),er||(er=!0,$&&4&Ae.$flags$?Kr(pr):Ae.raf(pr))},Ar=G=>{for(let $=0;$<G.length;$++)try{G[$](performance.now())}catch(ve){Ne(ve)}G.length=0},xr=(G,$)=>{let ve=0,Fe=0;for(;ve<G.length&&(Fe=performance.now())<$;)try{G[ve++](Fe)}catch(lt){Ne(lt)}ve===G.length?G.length=0:0!==ve&&G.splice(0,ve)},pr=()=>{if(g.asyncQueue&&dr++,Ar(wn),g.asyncQueue){const G=2==(6&Ae.$flags$)?performance.now()+14*Math.ceil(.1*dr):1/0;xr(wr,G),xr(Xr,G),wr.length>0&&(Xr.push(...wr),wr.length=0),(er=wn.length+wr.length+Xr.length>0)?Ae.raf(pr):dr=0}else Ar(wr),(er=wn.length>0)&&Ae.raf(pr)},Kr=G=>Promise.resolve(void 0).then(G),yn=hr(wn,!1),en=hr(wr,!0),rn=G=>{const $=new URL(G,Ae.$resourcesUrl$);return $.origin!==Ue.location.origin?$.href:$.pathname},Br={},uo=G=>"object"==(G=typeof G)||"function"===G;((G,$)=>{for(var ve in $)J(G,ve,{get:$[ve],enumerable:!0})})({},{err:()=>Hr,map:()=>zr,ok:()=>ko,unwrap:()=>Jr,unwrapErr:()=>xo});var ko=G=>({isOk:!0,isErr:!1,value:G}),Hr=G=>({isOk:!1,isErr:!0,value:G});function zr(G,$){if(G.isOk){const ve=$(G.value);return ve instanceof Promise?ve.then(Fe=>ko(Fe)):ko(ve)}if(G.isErr)return Hr(G.value);throw"should never get here"}var Jr=G=>{if(G.isOk)return G.value;throw G.value},xo=G=>{if(G.isErr)return G.value;throw G.value},Er=0,To=(G,$="")=>{if(g.profile&&performance.mark){const ve=`st:${G}:${$}:${Er++}`;return performance.mark(ve),()=>performance.measure(`[Stencil] ${G}() <${$}>`,ve)}return()=>{}},Ir=(G,$,...ve)=>{let Fe=null,lt=null,dt=null,qt=!1,St=!1;const Yt=[],hn=Hn=>{for(let yr=0;yr<Hn.length;yr++)Fe=Hn[yr],Array.isArray(Fe)?hn(Fe):null!=Fe&&"boolean"!=typeof Fe&&((qt="function"!=typeof G&&!uo(Fe))?Fe=String(Fe):g.isDev&&"function"!=typeof G&&void 0===Fe.$flags$&&it("vNode passed as children has unexpected type.\nMake sure it's using the correct h() function.\nEmpty objects can also be the cause, look for JSX comments that became objects."),qt&&St?Yt[Yt.length-1].$text$+=Fe:Yt.push(qt?$r(null,Fe):Fe),St=qt)};if(hn(ve),$&&(g.isDev&&"input"===G&&Tt($),g.vdomKey&&$.key&&(lt=$.key),g.slotRelocation&&$.name&&(dt=$.name),g.vdomClass)){const Hn=$.className||$.class;Hn&&($.class="object"!=typeof Hn?Hn:Object.keys(Hn).filter(yr=>Hn[yr]).join(" "))}if(g.isDev&&Yt.some(Qt)&&it("The <Host> must be the single root component. Make sure:\n- You are NOT using hostData() and <Host> in the same component.\n- <Host> is used once, and it's the single root component of the render() function."),g.vdomFunctional&&"function"==typeof G)return G(null===$?{}:$,Yt,Pt);const Un=$r(G,null);return Un.$attrs$=$,Yt.length>0&&(Un.$children$=Yt),g.vdomKey&&(Un.$key$=lt),g.slotRelocation&&(Un.$name$=dt),Un},$r=(G,$)=>{const ve={$flags$:0,$tag$:G,$text$:$,$elm$:null,$children$:null};return g.vdomAttribute&&(ve.$attrs$=null),g.vdomKey&&(ve.$key$=null),g.slotRelocation&&(ve.$name$=null),ve},lo={},Qt=G=>G&&G.$tag$===lo,Pt={forEach:(G,$)=>G.map(sn).forEach($),map:(G,$)=>G.map(sn).map($).map(_t)},sn=G=>({vattrs:G.$attrs$,vchildren:G.$children$,vkey:G.$key$,vname:G.$name$,vtag:G.$tag$,vtext:G.$text$}),_t=G=>{if("function"==typeof G.vtag){const ve={...G.vattrs};return G.vkey&&(ve.key=G.vkey),G.vname&&(ve.name=G.vname),Ir(G.vtag,ve,...G.vchildren||[])}const $=$r(G.vtag,G.vtext);return $.$attrs$=G.vattrs,$.$children$=G.vchildren,$.$key$=G.vkey,$.$name$=G.vname,$},Tt=G=>{const $=Object.keys(G),ve=$.indexOf("value");if(-1===ve)return;const Fe=$.indexOf("type"),lt=$.indexOf("min"),dt=$.indexOf("max"),qt=$.indexOf("step");(ve<Fe||ve<lt||ve<dt||ve<qt)&&Pe('The "value" prop of <input> should be set after "min", "max", "type" and "step"')},Nn=(G,$,ve,Fe,lt,dt,qt)=>{let St,Yt,hn,Un;if(1===dt.nodeType){if(St=dt.getAttribute("c-id"),St&&(Yt=St.split("."),(Yt[0]===qt||"0"===Yt[0])&&(hn={$flags$:0,$hostId$:Yt[0],$nodeId$:Yt[1],$depth$:Yt[2],$index$:Yt[3],$tag$:dt.tagName.toLowerCase(),$elm$:dt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},$.push(hn),dt.removeAttribute("c-id"),G.$children$||(G.$children$=[]),G.$children$[hn.$index$]=hn,G=hn,Fe&&"0"===hn.$depth$&&(Fe[hn.$index$]=hn.$elm$))),dt.shadowRoot)for(Un=dt.shadowRoot.childNodes.length-1;Un>=0;Un--)Nn(G,$,ve,Fe,lt,dt.shadowRoot.childNodes[Un],qt);for(Un=dt.childNodes.length-1;Un>=0;Un--)Nn(G,$,ve,Fe,lt,dt.childNodes[Un],qt)}else if(8===dt.nodeType)Yt=dt.nodeValue.split("."),(Yt[1]===qt||"0"===Yt[1])&&(St=Yt[0],hn={$flags$:0,$hostId$:Yt[1],$nodeId$:Yt[2],$depth$:Yt[3],$index$:Yt[4],$elm$:dt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===St?(hn.$elm$=dt.nextSibling,hn.$elm$&&3===hn.$elm$.nodeType&&(hn.$text$=hn.$elm$.textContent,$.push(hn),dt.remove(),G.$children$||(G.$children$=[]),G.$children$[hn.$index$]=hn,Fe&&"0"===hn.$depth$&&(Fe[hn.$index$]=hn.$elm$))):hn.$hostId$===qt&&("s"===St?(hn.$tag$="slot",dt["s-sn"]=Yt[5]?hn.$name$=Yt[5]:"",dt["s-sr"]=!0,g.shadowDom&&Fe&&(hn.$elm$=ce.createElement(hn.$tag$),hn.$name$&&hn.$elm$.setAttribute("name",hn.$name$),dt.parentNode.insertBefore(hn.$elm$,dt),dt.remove(),"0"===hn.$depth$&&(Fe[hn.$index$]=hn.$elm$)),ve.push(hn),G.$children$||(G.$children$=[]),G.$children$[hn.$index$]=hn):"r"===St&&(g.shadowDom&&Fe?dt.remove():g.slotRelocation&&(lt["s-cr"]=dt,dt["s-cn"]=!0))));else if(G&&"style"===G.$tag$){const Hn=$r(null,dt.textContent);Hn.$elm$=dt,Hn.$index$="0",G.$children$=[Hn]}},bt=(G,$)=>{if(1===G.nodeType){let ve=0;if(G.shadowRoot)for(;ve<G.shadowRoot.childNodes.length;ve++)bt(G.shadowRoot.childNodes[ve],$);for(ve=0;ve<G.childNodes.length;ve++)bt(G.childNodes[ve],$)}else if(8===G.nodeType){const ve=G.nodeValue.split(".");"o"===ve[0]&&($.set(ve[1]+"."+ve[2],G),G.nodeValue="",G["s-en"]=ve[3])}},vn=G=>re.push(G),gn=G=>Ge(G).$modeName$,Ut=(G,$,ve)=>{const Fe=(G=>g.lazyLoad?Ge(G).$hostElement$:G)(G);return{emit:lt=>(g.isDev&&!Fe.isConnected&&Pe(`The "${$}" event was emitted, but the dispatcher node is no longer connected to the dom.`),ye(Fe,$,{bubbles:!!(4&ve),composed:!!(2&ve),cancelable:!!(1&ve),detail:lt}))}},ye=(G,$,ve)=>{const Fe=Ae.ce($,ve);return G.dispatchEvent(Fe),Fe},le=new WeakMap,cn=(G,$,ve)=>{var Fe;const lt=qn($,ve),dt=$e.get(lt);if(!g.attachStyles)return lt;if(G=11===G.nodeType?G:ce,dt)if("string"==typeof dt){let St,qt=le.get(G=G.head||G);if(qt||le.set(G,qt=new Set),!qt.has(lt)){if(g.hydrateClientSide&&G.host&&(St=G.querySelector(`[sty-id="${lt}"]`)))St.innerHTML=dt;else{St=ce.createElement("style"),St.innerHTML=dt;const Yt=null!=(Fe=Ae.$nonce$)?Fe:function ho(G){var $,ve,Fe;return null!=(Fe=null==(ve=null==($=G.head)?void 0:$.querySelector('meta[name="csp-nonce"]'))?void 0:ve.getAttribute("content"))?Fe:void 0}(ce);null!=Yt&&St.setAttribute("nonce",Yt),(g.hydrateServerSide||g.hotModuleReplacement)&&2&$.$flags$&&St.setAttribute("sty-id",lt),(!(1&$.$flags$)||1&$.$flags$&&"HEAD"!==G.nodeName)&&G.insertBefore(St,G.querySelector("link"))}4&$.$flags$&&(St.innerHTML+="slot-fb{display:contents}slot-fb[hidden]{display:none}"),qt&&qt.add(lt)}}else g.constructableCSS&&!G.adoptedStyleSheets.includes(dt)&&(G.adoptedStyleSheets=[...G.adoptedStyleSheets,dt]);return lt},qn=(G,$)=>"sc-"+(g.mode&&$&&32&G.$flags$?G.$tagName$+"-"+$:G.$tagName$),Mn=(G,$,ve,Fe,lt,dt)=>{if(ve!==Fe){let qt=Se(G,$),St=$.toLowerCase();if(g.vdomClass&&"class"===$){const Yt=G.classList,hn=$o(ve),Un=$o(Fe);Yt.remove(...hn.filter(Hn=>Hn&&!Un.includes(Hn))),Yt.add(...Un.filter(Hn=>Hn&&!hn.includes(Hn)))}else if(g.vdomStyle&&"style"===$){if(g.updatable)for(const Yt in ve)(!Fe||null==Fe[Yt])&&(!g.hydrateServerSide&&Yt.includes("-")?G.style.removeProperty(Yt):G.style[Yt]="");for(const Yt in Fe)(!ve||Fe[Yt]!==ve[Yt])&&(!g.hydrateServerSide&&Yt.includes("-")?G.style.setProperty(Yt,Fe[Yt]):G.style[Yt]=Fe[Yt])}else if(!g.vdomKey||"key"!==$)if(g.vdomRef&&"ref"===$)Fe&&Fe(G);else if(!g.vdomListener||(g.lazyLoad?qt:G.__lookupSetter__($))||"o"!==$[0]||"n"!==$[1]){if(g.vdomPropOrAttr){const Yt=uo(Fe);if((qt||Yt&&null!==Fe)&&!lt)try{if(G.tagName.includes("-"))G[$]=Fe;else{const Un=null==Fe?"":Fe;"list"===$?qt=!1:(null==ve||G[$]!=Un)&&(G[$]=Un)}}catch{}let hn=!1;g.vdomXlink&&St!==(St=St.replace(/^xlink\:?/,""))&&($=St,hn=!0),null==Fe||!1===Fe?(!1!==Fe||""===G.getAttribute($))&&(g.vdomXlink&&hn?G.removeAttributeNS(lr,$):G.removeAttribute($)):(!qt||4&dt||lt)&&!Yt&&(Fe=!0===Fe?"":Fe,g.vdomXlink&&hn?G.setAttributeNS(lr,$,Fe):G.setAttribute($,Fe))}}else if($="-"===$[2]?$.slice(3):Se(Ue,St)?St.slice(2):St[2]+$.slice(3),ve||Fe){const Yt=$.endsWith(ei);$=$.replace(_o,""),ve&&Ae.rel(G,$,ve,Yt),Fe&&Ae.ael(G,$,Fe,Yt)}}},Gr=/\s/,$o=G=>G?G.split(Gr):[],ei="Capture",_o=new RegExp(ei+"$"),jo=(G,$,ve)=>{const Fe=11===$.$elm$.nodeType&&$.$elm$.host?$.$elm$.host:$.$elm$,lt=G&&G.$attrs$||Br,dt=$.$attrs$||Br;if(g.updatable)for(const qt of Dr(Object.keys(lt)))qt in dt||Mn(Fe,qt,lt[qt],void 0,ve,$.$flags$);for(const qt of Dr(Object.keys(dt)))Mn(Fe,qt,lt[qt],dt[qt],ve,$.$flags$)};function Dr(G){return G.includes("ref")?[...G.filter($=>"ref"!==$),"ref"]:G}var Po,co,Qn,zo=!1,Qe=!1,an=!1,zn=!1,_r=(G,$,ve,Fe)=>{var lt;const dt=$.$children$[ve];let St,Yt,hn,qt=0;if(g.slotRelocation&&!zo&&(an=!0,"slot"===dt.$tag$&&(Po&&Fe.classList.add(Po+"-s"),dt.$flags$|=dt.$children$?2:1)),g.isDev&&dt.$elm$&&it(`The JSX ${null!==dt.$text$?`"${dt.$text$}" text`:`"${dt.$tag$}" element`} node should not be shared within the same renderer. The renderer caches element lookups in order to improve performance. However, a side effect from this is that the exact same JSX node should not be reused. For more information please see https://stenciljs.com/docs/templating-jsx#avoid-shared-jsx-nodes`),g.vdomText&&null!==dt.$text$)St=dt.$elm$=ce.createTextNode(dt.$text$);else if(g.slotRelocation&&1&dt.$flags$)St=dt.$elm$=g.isDebug||g.hydrateServerSide?br(dt):ce.createTextNode("");else{if(g.svg&&!zn&&(zn="svg"===dt.$tag$),St=dt.$elm$=g.svg?ce.createElementNS(zn?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!zo&&g.slotRelocation&&2&dt.$flags$?"slot-fb":dt.$tag$):ce.createElement(!zo&&g.slotRelocation&&2&dt.$flags$?"slot-fb":dt.$tag$),g.svg&&zn&&"foreignObject"===dt.$tag$&&(zn=!1),g.vdomAttribute&&jo(null,dt,zn),!!St.getRootNode().querySelector("body")&&g.scoped&&(G=>null!=G)(Po)&&St["s-si"]!==Po&&St.classList.add(St["s-si"]=Po),g.scoped&&Cr(St,Fe),dt.$children$)for(qt=0;qt<dt.$children$.length;++qt)Yt=_r(G,dt,qt,St),Yt&&St.appendChild(Yt);g.svg&&("svg"===dt.$tag$?zn=!1:"foreignObject"===St.tagName&&(zn=!0))}return St["s-hn"]=Qn,g.slotRelocation&&3&dt.$flags$&&(St["s-sr"]=!0,St["s-cr"]=co,St["s-sn"]=dt.$name$||"",St["s-rf"]=null==(lt=dt.$attrs$)?void 0:lt.ref,hn=G&&G.$children$&&G.$children$[ve],hn&&hn.$tag$===dt.$tag$&&G.$elm$&&(g.experimentalSlotFixes?Zr(G.$elm$):Te(G.$elm$,!1))),St},Zr=G=>{Ae.$flags$|=1;const $=G.closest(Qn.toLowerCase());if(null!=$){const ve=Array.from($.childNodes).find(lt=>lt["s-cr"]),Fe=Array.from(G.childNodes);for(const lt of ve?Fe.reverse():Fe)null!=lt["s-sh"]&&(xn($,lt,null!=ve?ve:null),lt["s-sh"]=void 0,an=!0)}Ae.$flags$&=-2},Te=(G,$)=>{Ae.$flags$|=1;const ve=Array.from(G.childNodes);if(G["s-sr"]&&g.experimentalSlotFixes){let Fe=G;for(;Fe=Fe.nextSibling;)Fe&&Fe["s-sn"]===G["s-sn"]&&Fe["s-sh"]===Qn&&ve.push(Fe)}for(let Fe=ve.length-1;Fe>=0;Fe--){const lt=ve[Fe];lt["s-hn"]!==Qn&&lt["s-ol"]&&(xn(Xe(lt),lt,Ie(lt)),lt["s-ol"].remove(),lt["s-ol"]=void 0,lt["s-sh"]=void 0,an=!0),$&&Te(lt,$)}Ae.$flags$&=-2},et=(G,$,ve,Fe,lt,dt)=>{let St,qt=g.slotRelocation&&G["s-cr"]&&G["s-cr"].parentNode||G;for(g.shadowDom&&qt.shadowRoot&&qt.tagName===Qn&&(qt=qt.shadowRoot);lt<=dt;++lt)Fe[lt]&&(St=_r(null,ve,lt,G),St&&(Fe[lt].$elm$=St,xn(qt,St,g.slotRelocation?Ie($):$)))},Rt=(G,$,ve)=>{for(let Fe=$;Fe<=ve;++Fe){const lt=G[Fe];if(lt){const dt=lt.$elm$;kn(lt),dt&&(g.slotRelocation&&(Qe=!0,dt["s-ol"]?dt["s-ol"].remove():Te(dt,!0)),dt.remove())}}},Le=(G,$,ve=!1)=>!(G.$tag$!==$.$tag$||(g.slotRelocation&&"slot"===G.$tag$?"$nodeId$"in G&&ve&&8!==G.$elm$.nodeType||G.$name$!==$.$name$:g.vdomKey&&!ve&&G.$key$!==$.$key$)),Ie=G=>G&&G["s-ol"]||G,Xe=G=>(G["s-ol"]?G["s-ol"]:G).parentNode,nt=(G,$,ve=!1)=>{const Fe=$.$elm$=G.$elm$,lt=G.$children$,dt=$.$children$,qt=$.$tag$,St=$.$text$;let Yt;g.vdomText&&null!==St?g.vdomText&&g.slotRelocation&&(Yt=Fe["s-cr"])?Yt.parentNode.textContent=St:g.vdomText&&G.$text$!==St&&(Fe.data=St):(g.svg&&(zn="svg"===qt||"foreignObject"!==qt&&zn),(g.vdomAttribute||g.reflect)&&(g.slot&&"slot"===qt&&!zo?g.experimentalSlotFixes&&G.$name$!==$.$name$&&($.$elm$["s-sn"]=$.$name$||"",Zr($.$elm$.parentElement)):jo(G,$,zn)),g.updatable&&null!==lt&&null!==dt?((G,$,ve,Fe,lt=!1)=>{let Qo,mo,dt=0,qt=0,St=0,Yt=0,hn=$.length-1,Un=$[0],Hn=$[hn],yr=Fe.length-1,Or=Fe[0],Vo=Fe[yr];for(;dt<=hn&&qt<=yr;)if(null==Un)Un=$[++dt];else if(null==Hn)Hn=$[--hn];else if(null==Or)Or=Fe[++qt];else if(null==Vo)Vo=Fe[--yr];else if(Le(Un,Or,lt))nt(Un,Or,lt),Un=$[++dt],Or=Fe[++qt];else if(Le(Hn,Vo,lt))nt(Hn,Vo,lt),Hn=$[--hn],Vo=Fe[--yr];else if(Le(Un,Vo,lt))g.slotRelocation&&("slot"===Un.$tag$||"slot"===Vo.$tag$)&&Te(Un.$elm$.parentNode,!1),nt(Un,Vo,lt),xn(G,Un.$elm$,Hn.$elm$.nextSibling),Un=$[++dt],Vo=Fe[--yr];else if(Le(Hn,Or,lt))g.slotRelocation&&("slot"===Un.$tag$||"slot"===Vo.$tag$)&&Te(Hn.$elm$.parentNode,!1),nt(Hn,Or,lt),xn(G,Hn.$elm$,Un.$elm$),Hn=$[--hn],Or=Fe[++qt];else{if(St=-1,g.vdomKey)for(Yt=dt;Yt<=hn;++Yt)if($[Yt]&&null!==$[Yt].$key$&&$[Yt].$key$===Or.$key$){St=Yt;break}g.vdomKey&&St>=0?(mo=$[St],mo.$tag$!==Or.$tag$?Qo=_r($&&$[qt],ve,St,G):(nt(mo,Or,lt),$[St]=void 0,Qo=mo.$elm$),Or=Fe[++qt]):(Qo=_r($&&$[qt],ve,qt,G),Or=Fe[++qt]),Qo&&(g.slotRelocation?xn(Xe(Un.$elm$),Qo,Ie(Un.$elm$)):xn(Un.$elm$.parentNode,Qo,Un.$elm$))}dt>hn?et(G,null==Fe[yr+1]?null:Fe[yr+1].$elm$,ve,Fe,qt,yr):g.updatable&&qt>yr&&Rt($,dt,hn)})(Fe,lt,$,dt,ve):null!==dt?(g.updatable&&g.vdomText&&null!==G.$text$&&(Fe.textContent=""),et(Fe,null,$,dt,0,dt.length-1)):!ve&&g.updatable&&null!==lt&&Rt(lt,0,lt.length-1),g.svg&&zn&&"svg"===qt&&(zn=!1))},yt=G=>{const $=G.childNodes;for(const ve of $)if(1===ve.nodeType){if(ve["s-sr"]){const Fe=ve["s-sn"];ve.hidden=!1;for(const lt of $)if(lt!==ve)if(lt["s-hn"]!==ve["s-hn"]||""!==Fe){if(1===lt.nodeType&&(Fe===lt.getAttribute("slot")||Fe===lt["s-sn"])||3===lt.nodeType&&Fe===lt["s-sn"]){ve.hidden=!0;break}}else if(1===lt.nodeType||3===lt.nodeType&&""!==lt.textContent.trim()){ve.hidden=!0;break}}yt(ve)}},$t=[],fn=G=>{let $,ve,Fe;for(const lt of G.childNodes){if(lt["s-sr"]&&($=lt["s-cr"])&&$.parentNode){ve=$.parentNode.childNodes;const dt=lt["s-sn"];for(Fe=ve.length-1;Fe>=0;Fe--)if($=ve[Fe],!($["s-cn"]||$["s-nr"]||$["s-hn"]===lt["s-hn"]||g.experimentalSlotFixes&&$["s-sh"]&&$["s-sh"]===lt["s-hn"]))if(Rn($,dt)){let qt=$t.find(St=>St.$nodeToRelocate$===$);Qe=!0,$["s-sn"]=$["s-sn"]||dt,qt?(qt.$nodeToRelocate$["s-sh"]=lt["s-hn"],qt.$slotRefNode$=lt):($["s-sh"]=lt["s-hn"],$t.push({$slotRefNode$:lt,$nodeToRelocate$:$})),$["s-sr"]&&$t.map(St=>{Rn(St.$nodeToRelocate$,$["s-sn"])&&(qt=$t.find(Yt=>Yt.$nodeToRelocate$===$),qt&&!St.$slotRefNode$&&(St.$slotRefNode$=qt.$slotRefNode$))})}else $t.some(qt=>qt.$nodeToRelocate$===$)||$t.push({$nodeToRelocate$:$})}1===lt.nodeType&&fn(lt)}},Rn=(G,$)=>1===G.nodeType?null===G.getAttribute("slot")&&""===$||G.getAttribute("slot")===$:G["s-sn"]===$||""===$,kn=G=>{g.vdomRef&&(G.$attrs$&&G.$attrs$.ref&&G.$attrs$.ref(null),G.$children$&&G.$children$.map(kn))},xn=(G,$,ve)=>{const Fe=null==G?void 0:G.insertBefore($,ve);return g.scoped&&Cr($,G),Fe},tr=G=>{const $=[];return G&&$.push(...G["s-scs"]||[],G["s-si"],G["s-sc"],...tr(G.parentElement)),$},Cr=(G,$,ve=!1)=>{var Fe;if(G&&$&&1===G.nodeType){const lt=new Set(tr($).filter(Boolean));if(lt.size&&(null==(Fe=G.classList)||Fe.add(...G["s-scs"]=[...lt]),G["s-ol"]||ve))for(const dt of Array.from(G.childNodes))Cr(dt,G,!0)}},mr=(G,$,ve=!1)=>{var Fe,lt,dt,qt,St;const Yt=G.$hostElement$,hn=G.$cmpMeta$,Un=G.$vnode$||$r(null,null),Hn=Qt($)?$:Ir(null,null,$);if(Qn=Yt.tagName,g.isDev&&Array.isArray($)&&$.some(Qt))throw new Error(`The <Host> must be the single root component.\nLooks like the render() function of "${Qn.toLowerCase()}" is returning an array that contains the <Host>.\n\nThe render() function should look like this instead:\n\nrender() {\n  // Do not return an array\n  return (\n    <Host>{content}</Host>\n  );\n}\n  `);if(g.reflect&&hn.$attrsToReflect$&&(Hn.$attrs$=Hn.$attrs$||{},hn.$attrsToReflect$.map(([yr,Or])=>Hn.$attrs$[Or]=Yt[yr])),ve&&Hn.$attrs$)for(const yr of Object.keys(Hn.$attrs$))Yt.hasAttribute(yr)&&!["key","ref","style","class"].includes(yr)&&(Hn.$attrs$[yr]=Yt[yr]);if(Hn.$tag$=null,Hn.$flags$|=4,G.$vnode$=Hn,Hn.$elm$=Un.$elm$=g.shadowDom&&Yt.shadowRoot||Yt,(g.scoped||g.shadowDom)&&(Po=Yt["s-sc"]),zo=Mt&&!!(1&hn.$flags$),g.slotRelocation&&(co=Yt["s-cr"],Qe=!1),nt(Un,Hn,ve),g.slotRelocation){if(Ae.$flags$|=1,an){fn(Hn.$elm$);for(const yr of $t){const Or=yr.$nodeToRelocate$;if(!Or["s-ol"]){const Vo=g.isDebug||g.hydrateServerSide?eo(Or):ce.createTextNode("");Vo["s-nr"]=Or,xn(Or.parentNode,Or["s-ol"]=Vo,Or)}}for(const yr of $t){const Or=yr.$nodeToRelocate$,Vo=yr.$slotRefNode$;if(Vo){const Qo=Vo.parentNode;let mo=Vo.nextSibling;if(!g.experimentalSlotFixes||mo&&1===mo.nodeType){let Eo=null==(Fe=Or["s-ol"])?void 0:Fe.previousSibling;for(;Eo;){let ao=null!=(lt=Eo["s-nr"])?lt:null;if(ao&&ao["s-sn"]===Or["s-sn"]&&Qo===ao.parentNode){for(ao=ao.nextSibling;ao===Or||null!=ao&&ao["s-sr"];)ao=null==ao?void 0:ao.nextSibling;if(!ao||!ao["s-nr"]){mo=ao;break}}Eo=Eo.previousSibling}}(!mo&&Qo!==Or.parentNode||Or.nextSibling!==mo)&&Or!==mo&&(!g.experimentalSlotFixes&&!Or["s-hn"]&&Or["s-ol"]&&(Or["s-hn"]=Or["s-ol"].parentNode.nodeName),xn(Qo,Or,mo),1===Or.nodeType&&(Or.hidden=null!=(dt=Or["s-ih"])&&dt)),Or&&"function"==typeof Vo["s-rf"]&&Vo["s-rf"](Or)}else 1===Or.nodeType&&(ve&&(Or["s-ih"]=null!=(qt=Or.hidden)&&qt),Or.hidden=!0)}}Qe&&yt(Hn.$elm$),Ae.$flags$&=-2,$t.length=0}if(g.experimentalScopedSlotChanges&&2&hn.$flags$)for(const yr of Hn.$elm$.childNodes)yr["s-hn"]!==Qn&&!yr["s-sh"]&&(ve&&null==yr["s-ih"]&&(yr["s-ih"]=null!=(St=yr.hidden)&&St),yr.hidden=!0);co=void 0},br=G=>ce.createComment(`<slot${G.$name$?' name="'+G.$name$+'"':""}> (host=${Qn.toLowerCase()})`),eo=G=>ce.createComment("org-location for "+(G.localName?`<${G.localName}> (host=${G["s-hn"]})`:`[${G.textContent}]`)),kr=(G,$)=>{g.asyncLoading&&$&&!G.$onRenderResolve$&&$["s-p"]&&$["s-p"].push(new Promise(ve=>G.$onRenderResolve$=ve))},po=(G,$)=>{if(g.taskQueue&&g.updatable&&(G.$flags$|=16),g.asyncLoading&&4&G.$flags$)return void(G.$flags$|=512);kr(G,G.$ancestorComponent$);const ve=()=>gr(G,$);return g.taskQueue?en(ve):ve()},gr=(G,$)=>{const ve=G.$hostElement$,Fe=To("scheduleUpdate",G.$cmpMeta$.$tagName$),lt=g.lazyLoad?G.$lazyInstance$:ve;if(!lt)throw new Error(`Can't render component <${ve.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let dt;return $?(g.lazyLoad&&g.hostListener&&(G.$flags$|=256,G.$queuedListeners$&&(G.$queuedListeners$.map(([qt,St])=>Mi(lt,qt,St)),G.$queuedListeners$=void 0)),Mo(ve,"componentWillLoad"),g.cmpWillLoad&&(dt=Mi(lt,"componentWillLoad"))):(Mo(ve,"componentWillUpdate"),g.cmpWillUpdate&&(dt=Mi(lt,"componentWillUpdate"))),Mo(ve,"componentWillRender"),g.cmpWillRender&&(dt=Ur(dt,()=>Mi(lt,"componentWillRender"))),Fe(),Ur(dt,()=>Fi(G,lt,$))},Ur=(G,$)=>Ki(G)?G.then($).catch(ve=>{console.error(ve),$()}):$(),Ki=G=>G instanceof Promise||G&&G.then&&"function"==typeof G.then,Fi=function(){var G=(0,x.A)(function*($,ve,Fe){var lt;const dt=$.$hostElement$,qt=To("update",$.$cmpMeta$.$tagName$),St=dt["s-rc"];g.style&&Fe&&(G=>{const $=G.$cmpMeta$,ve=G.$hostElement$,Fe=$.$flags$,lt=To("attachStyles",$.$tagName$),dt=cn(g.shadowDom&&Mt&&ve.shadowRoot?ve.shadowRoot:ve.getRootNode(),$,G.$modeName$);(g.shadowDom||g.scoped)&&g.cssAnnotations&&10&Fe&&2&Fe&&(ve["s-sc"]=dt,ve.classList.add(dt+"-h"),g.scoped&&2&Fe&&ve.classList.add(dt+"-s")),lt()})($);const Yt=To("render",$.$cmpMeta$.$tagName$);if(g.isDev&&($.$flags$|=1024),g.hydrateServerSide?yield ja($,ve,dt,Fe):ja($,ve,dt,Fe),g.isDev&&($.$renderCount$=void 0===$.$renderCount$?1:$.$renderCount$+1,$.$flags$&=-1025),g.hydrateServerSide)try{Sa(dt),Fe&&(1&$.$cmpMeta$.$flags$?dt["s-en"]="":2&$.$cmpMeta$.$flags$&&(dt["s-en"]="c"))}catch(hn){Ne(hn,dt)}if(g.asyncLoading&&St&&(St.map(hn=>hn()),dt["s-rc"]=void 0),Yt(),qt(),g.asyncLoading){const hn=null!=(lt=dt["s-p"])?lt:[],Un=()=>vi($);0===hn.length?Un():(Promise.all(hn).then(Un),$.$flags$|=4,hn.length=0)}else vi($)});return function(ve,Fe,lt){return G.apply(this,arguments)}}(),ja=(G,$,ve,Fe)=>{const lt=!!g.allRenderFn,dt=!!g.lazyLoad,qt=!!g.taskQueue,St=!!g.updatable;try{if($=(lt||$.render)&&$.render(),St&&qt&&(G.$flags$&=-17),(St||dt)&&(G.$flags$|=2),g.hasRenderFn||g.reflect)if(g.vdomRender||g.reflect){if(g.hydrateServerSide)return Promise.resolve($).then(Yt=>mr(G,Yt,Fe));mr(G,$,Fe)}else 1&G.$cmpMeta$.$flags$?ve.shadowRoot.textContent=$:ve.textContent=$}catch(Yt){Ne(Yt,G.$hostElement$)}return null},vi=G=>{const $=G.$cmpMeta$.$tagName$,ve=G.$hostElement$,Fe=To("postUpdate",$),lt=g.lazyLoad?G.$lazyInstance$:ve,dt=G.$ancestorComponent$;g.cmpDidRender&&(g.isDev&&(G.$flags$|=1024),Mi(lt,"componentDidRender"),g.isDev&&(G.$flags$&=-1025)),Mo(ve,"componentDidRender"),64&G.$flags$?(g.cmpDidUpdate&&(g.isDev&&(G.$flags$|=1024),Mi(lt,"componentDidUpdate"),g.isDev&&(G.$flags$&=-1025)),Mo(ve,"componentDidUpdate"),Fe()):(G.$flags$|=64,g.asyncLoading&&g.cssAnnotations&&za(ve),g.cmpDidLoad&&(g.isDev&&(G.$flags$|=2048),Mi(lt,"componentDidLoad"),g.isDev&&(G.$flags$&=-2049)),Mo(ve,"componentDidLoad"),Fe(),g.asyncLoading&&(G.$onReadyResolve$(ve),dt||qi($))),g.method&&g.lazyLoad&&G.$onInstanceResolve$(ve),g.asyncLoading&&(G.$onRenderResolve$&&(G.$onRenderResolve$(),G.$onRenderResolve$=void 0),512&G.$flags$&&Kr(()=>po(G,!1)),G.$flags$&=-517)},wo=G=>{if(g.updatable&&(ke.isBrowser||ke.isTesting)){const $=Ge(G),ve=$.$hostElement$.isConnected;return ve&&2==(18&$.$flags$)&&po($,!1),ve}return!1},qi=G=>{g.cssAnnotations&&za(ce.documentElement),g.asyncQueue&&(Ae.$flags$|=2),Kr(()=>ye(Ue,"appload",{detail:{namespace:"app"}})),g.profile&&performance.measure&&performance.measure(`[Stencil] app initial load (by ${G})`,"st:app:start")},Mi=(G,$,ve)=>{if(G&&G[$])try{return G[$](ve)}catch(Fe){Ne(Fe)}},Mo=(G,$)=>{g.lifecycleDOMEvents&&ye(G,"stencil_"+$,{bubbles:!0,composed:!0,detail:{namespace:"app"}})},za=G=>{var $,ve;return g.hydratedClass?G.classList.add(null!=($=g.hydratedSelectorName)?$:"hydrated"):g.hydratedAttribute?G.setAttribute(null!=(ve=g.hydratedSelectorName)?ve:"hydrated",""):void 0},Sa=G=>{const $=G.children;if(null!=$)for(let ve=0,Fe=$.length;ve<Fe;ve++){const lt=$[ve];"function"==typeof lt.connectedCallback&&lt.connectedCallback(),Sa(lt)}},ba=(G,$,ve)=>{var Fe,lt;const dt=G.prototype;if(g.formAssociated&&64&$.$flags$&&1&ve&&ut.forEach(qt=>Object.defineProperty(dt,qt,{value(...St){const Yt=Ge(this),Un=g.lazyLoad?Yt.$lazyInstance$:g.lazyLoad?Yt.$hostElement$:this;if(Un){const Hn=Un[qt];"function"==typeof Hn&&Hn.call(Un,...St)}else Yt.$onReadyPromise$.then(Hn=>{const yr=Hn[qt];"function"==typeof yr&&yr.call(Hn,...St)})}})),g.member&&$.$members$||g.watchCallback&&($.$watchers$||G.watchers)){g.watchCallback&&G.watchers&&!$.$watchers$&&($.$watchers$=G.watchers);const qt=Object.entries(null!=(Fe=$.$members$)?Fe:{});if(qt.map(([St,[Yt]])=>{(g.prop||g.state)&&(31&Yt||(!g.lazyLoad||2&ve)&&32&Yt)?Object.defineProperty(dt,St,{get(){return((G,$)=>Ge(this).$instanceValues$.get($))(0,St)},set(hn){if(g.isDev){const Un=Ge(this);!(1&ve)&&0===(Un&&8&Un.$flags$)&&31&Yt&&!(1024&Yt)&&Pe(`@Prop() "${St}" on <${$.$tagName$}> is immutable but was modified from within the component.\nMore information: https://stenciljs.com/docs/properties#prop-mutability`)}((G,$,ve,Fe)=>{const lt=Ge(G);if(g.lazyLoad&&!lt)throw new Error(`Couldn't find host element for "${Fe.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const dt=g.lazyLoad?lt.$hostElement$:G,qt=lt.$instanceValues$.get($),St=lt.$flags$,Yt=g.lazyLoad?lt.$lazyInstance$:dt;ve=((G,$)=>null==G||uo(G)?G:g.propBoolean&&4&$?"false"!==G&&(""===G||!!G):g.propNumber&&2&$?parseFloat(G):g.propString&&1&$?String(G):G)(ve,Fe.$members$[$][0]);const hn=Number.isNaN(qt)&&Number.isNaN(ve);if((!g.lazyLoad||!(8&St)||void 0===qt)&&ve!==qt&&!hn&&(lt.$instanceValues$.set($,ve),g.isDev&&(1024&lt.$flags$?Pe(`The state/prop "${$}" changed during rendering. This can potentially lead to infinite-loops and other bugs.`,"\nElement",dt,"\nNew value",ve,"\nOld value",qt):2048&lt.$flags$&&Pe(`The state/prop "${$}" changed during "componentDidLoad()", this triggers extra re-renders, try to setup on "componentWillLoad()"`,"\nElement",dt,"\nNew value",ve,"\nOld value",qt)),!g.lazyLoad||Yt)){if(g.watchCallback&&Fe.$watchers$&&128&St){const Hn=Fe.$watchers$[$];Hn&&Hn.map(yr=>{try{Yt[yr](ve,qt,$)}catch(Or){Ne(Or,dt)}})}if(g.updatable&&2==(18&St)){if(g.cmpShouldUpdate&&Yt.componentShouldUpdate&&!1===Yt.componentShouldUpdate(ve,qt,$))return;po(lt,!1)}}})(this,St,hn,$)},configurable:!0,enumerable:!0}):g.lazyLoad&&g.method&&1&ve&&64&Yt&&Object.defineProperty(dt,St,{value(...hn){var Un;const Hn=Ge(this);return null==(Un=null==Hn?void 0:Hn.$onInstancePromise$)?void 0:Un.then(()=>{var yr;return null==(yr=Hn.$lazyInstance$)?void 0:yr[St](...hn)})}})}),g.observeAttribute&&(!g.lazyLoad||1&ve)){const St=new Map;dt.attributeChangedCallback=function(Yt,hn,Un){Ae.jmp(()=>{var Hn;const yr=St.get(Yt);if(this.hasOwnProperty(yr))Un=this[yr],delete this[yr];else{if(dt.hasOwnProperty(yr)&&"number"==typeof this[yr]&&this[yr]==Un)return;if(null==yr){const Or=Ge(this),Vo=null==Or?void 0:Or.$flags$;if(Vo&&!(8&Vo)&&128&Vo&&Un!==hn){const mo=g.lazyLoad?Or.$lazyInstance$:g.lazyLoad?Or.$hostElement$:this,Eo=null==(Hn=$.$watchers$)?void 0:Hn[Yt];null==Eo||Eo.forEach(ao=>{null!=mo[ao]&&mo[ao].call(mo,Un,hn,Yt)})}return}}this[yr]=(null!==Un||"boolean"!=typeof this[yr])&&Un})},G.observedAttributes=Array.from(new Set([...Object.keys(null!=(lt=$.$watchers$)?lt:{}),...qt.filter(([Yt,hn])=>15&hn[0]).map(([Yt,hn])=>{var Un;const Hn=hn[1]||Yt;return St.set(Hn,Yt),g.reflect&&512&hn[0]&&(null==(Un=$.$attrsToReflect$)||Un.push([Yt,Hn])),Hn})]))}}return G},L=function(){var G=(0,x.A)(function*($,ve,Fe,lt){let dt;if(!(32&ve.$flags$)){if(ve.$flags$|=32,(g.lazyLoad||g.hydrateClientSide)&&Fe.$lazyBundleId$){const hn=((G,$,ve)=>{const Fe=G.$tagName$.replace(/-/g,"_"),lt=G.$lazyBundleId$;if(g.isDev&&"string"!=typeof lt)return void it(`Trying to lazily load component <${G.$tagName$}> with style mode "${$.$modeName$}", but it does not exist.`);if(!lt)return;const dt=!g.hotModuleReplacement&&ct.get(lt);return dt?dt[Fe]:B(4140)(`./${lt}.entry.js${g.hotModuleReplacement&&ve?"?s-hmr="+ve:""}`).then(qt=>(g.hotModuleReplacement||ct.set(lt,qt),qt[Fe]),Ne)})(Fe,ve,lt);if(hn&&"then"in hn){const Hn=((G,$)=>g.profile&&performance.mark?(0===performance.getEntriesByName(G,"mark").length&&performance.mark(G),()=>{0===performance.getEntriesByName($,"measure").length&&performance.measure($,G)}):()=>{})(`st:load:${Fe.$tagName$}:${ve.$modeName$}`,`[Stencil] Load module for <${Fe.$tagName$}>`);dt=yield hn,Hn()}else dt=hn;if(!dt)throw new Error(`Constructor for "${Fe.$tagName$}#${ve.$modeName$}" was not found`);g.member&&!dt.isProxied&&(g.watchCallback&&(Fe.$watchers$=dt.watchers),ba(dt,Fe,2),dt.isProxied=!0);const Un=To("createInstance",Fe.$tagName$);g.member&&(ve.$flags$|=8);try{new dt(ve)}catch(Hn){Ne(Hn)}g.member&&(ve.$flags$&=-9),g.watchCallback&&(ve.$flags$|=128),Un(),ie(ve.$lazyInstance$)}else dt=$.constructor,customElements.whenDefined($.localName).then(()=>ve.$flags$|=128);if(g.style&&dt&&dt.style){let hn;"string"==typeof dt.style?hn=dt.style:g.mode&&"string"!=typeof dt.style&&(ve.$modeName$=(G=>re.map($=>$(G)).find($=>!!$))($),ve.$modeName$&&(hn=dt.style[ve.$modeName$]),g.hydrateServerSide&&ve.$modeName$&&$.setAttribute("s-mode",ve.$modeName$));const Un=qn(Fe,ve.$modeName$);if(!$e.has(Un)){const Hn=To("registerStyles",Fe.$tagName$);!g.hydrateServerSide&&g.shadowDom&&g.shadowDomShim&&8&Fe.$flags$&&(hn=yield B.e(3687).then(B.bind(B,3687)).then(yr=>yr.scopeCss(hn,Un))),((G,$,ve)=>{let Fe=$e.get(G);Xt&&ve?(Fe=Fe||new CSSStyleSheet,"string"==typeof Fe?Fe=$:Fe.replaceSync($)):Fe=$,$e.set(G,Fe)})(Un,hn,!!(1&Fe.$flags$)),Hn()}}}const qt=ve.$ancestorComponent$,St=()=>po(ve,!0);g.asyncLoading&&qt&&qt["s-rc"]?qt["s-rc"].push(St):St()});return function(ve,Fe,lt,dt){return G.apply(this,arguments)}}(),ie=G=>{g.lazyLoad&&g.connectedCallback&&Mi(G,"connectedCallback")},U=G=>{const $=G["s-cr"]=ce.createComment(g.isDebug?`content-ref (host=${G.localName})`:"");$["s-cn"]=!0,xn(G,$,G.firstChild)},M=G=>{g.lazyLoad&&g.disconnectedCallback&&Mi(G,"disconnectedCallback"),g.cmpDidUnload&&Mi(G,"componentDidUnload")},q=function(){var G=(0,x.A)(function*($){if(!(1&Ae.$flags$)){const ve=Ge($);g.hostListener&&ve.$rmListeners$&&(ve.$rmListeners$.map(Fe=>Fe()),ve.$rmListeners$=void 0),g.lazyLoad?null!=ve&&ve.$lazyInstance$?M(ve.$lazyInstance$):null!=ve&&ve.$onReadyPromise$&&ve.$onReadyPromise$.then(()=>M(ve.$lazyInstance$)):M($)}});return function(ve){return G.apply(this,arguments)}}(),st=G=>{const $=G.cloneNode;G.cloneNode=function(ve){const Fe=this,lt=!!g.shadowDom&&Fe.shadowRoot&&Mt,dt=$.call(Fe,!!lt&&ve);if(g.slot&&!lt&&ve){let St,Yt,qt=0;const hn=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;qt<Fe.childNodes.length;qt++)St=Fe.childNodes[qt]["s-nr"],Yt=hn.every(Un=>!Fe.childNodes[qt][Un]),St&&(g.appendChildSlotFix&&dt.__appendChild?dt.__appendChild(St.cloneNode(!0)):dt.appendChild(St.cloneNode(!0))),Yt&&dt.appendChild(Fe.childNodes[qt].cloneNode(!0))}return dt}},Ot=G=>{G.__appendChild=G.appendChild,G.appendChild=function($){const ve=$["s-sn"]=Oo($),Fe=Wo(this.childNodes,ve,this.tagName);if(Fe){const lt=qo(Fe,ve),dt=lt[lt.length-1],qt=xn(dt.parentNode,$,dt.nextSibling);return yt(this),qt}return this.__appendChild($)}},kt=G=>{G.__removeChild=G.removeChild,G.removeChild=function($){if($&&typeof $["s-sn"]<"u"){const ve=Wo(this.childNodes,$["s-sn"],this.tagName);if(ve){const lt=qo(ve,$["s-sn"]).find(dt=>dt===$);if(lt)return lt.remove(),void yt(this)}}return this.__removeChild($)}},Nt=G=>{const $=G.prepend;G.prepend=function(...ve){ve.forEach(Fe=>{"string"==typeof Fe&&(Fe=this.ownerDocument.createTextNode(Fe));const lt=Fe["s-sn"]=Oo(Fe),dt=Wo(this.childNodes,lt,this.tagName);if(dt){const qt=document.createTextNode("");qt["s-nr"]=Fe,dt["s-cr"].parentNode.__appendChild(qt),Fe["s-ol"]=qt;const Yt=qo(dt,lt)[0];return xn(Yt.parentNode,Fe,Yt.nextSibling)}return 1===Fe.nodeType&&Fe.getAttribute("slot")&&(Fe.hidden=!0),$.call(this,Fe)})}},Vt=G=>{G.append=function(...$){$.forEach(ve=>{"string"==typeof ve&&(ve=this.ownerDocument.createTextNode(ve)),this.appendChild(ve)})}},In=G=>{const $=G.insertAdjacentHTML;G.insertAdjacentHTML=function(ve,Fe){if("afterbegin"!==ve&&"beforeend"!==ve)return $.call(this,ve,Fe);const lt=this.ownerDocument.createElement("_");let dt;if(lt.innerHTML=Fe,"afterbegin"===ve)for(;dt=lt.firstChild;)this.prepend(dt);else if("beforeend"===ve)for(;dt=lt.firstChild;)this.append(dt)}},Fn=G=>{G.insertAdjacentText=function($,ve){this.insertAdjacentHTML($,ve)}},ir=G=>{const $=G.insertAdjacentElement;G.insertAdjacentElement=function(ve,Fe){return"afterbegin"!==ve&&"beforeend"!==ve?$.call(this,ve,Fe):"afterbegin"===ve?(this.prepend(Fe),Fe):("beforeend"===ve&&this.append(Fe),Fe)}},ur=G=>{const $=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(G,"__textContent",$),Object.defineProperty(G,"textContent",g.experimentalScopedSlotChanges?{get(){return" "+Pr(this.childNodes).map(lt=>{var dt,qt;const St=[];let Yt=lt.nextSibling;for(;Yt&&Yt["s-sn"]===lt["s-sn"];)(3===Yt.nodeType||1===Yt.nodeType)&&St.push(null!=(qt=null==(dt=Yt.textContent)?void 0:dt.trim())?qt:""),Yt=Yt.nextSibling;return St.filter(hn=>""!==hn).join(" ")}).filter(lt=>""!==lt).join(" ")+" "},set(ve){Pr(this.childNodes).forEach(lt=>{let dt=lt.nextSibling;for(;dt&&dt["s-sn"]===lt["s-sn"];){const qt=dt;dt=dt.nextSibling,qt.remove()}if(""===lt["s-sn"]){const qt=this.ownerDocument.createTextNode(ve);qt["s-sn"]="",xn(lt.parentElement,qt,lt.nextSibling)}else lt.remove()})}}:{get(){var ve;const Fe=Wo(this.childNodes,"",this.tagName);return 3===(null==(ve=null==Fe?void 0:Fe.nextSibling)?void 0:ve.nodeType)?Fe.nextSibling.textContent:Fe?Fe.textContent:this.__textContent},set(ve){var Fe;const lt=Wo(this.childNodes,"",this.tagName);if(3===(null==(Fe=null==lt?void 0:lt.nextSibling)?void 0:Fe.nodeType))lt.nextSibling.textContent=ve;else if(lt)lt.textContent=ve;else{this.__textContent=ve;const dt=this["s-cr"];dt&&xn(this,dt,this.firstChild)}}})},Mr=(G,$)=>{class ve extends Array{item(lt){return this[lt]}}if(8&$.$flags$){const Fe=G.__lookupGetter__("childNodes");Object.defineProperty(G,"children",{get(){return this.childNodes.map(lt=>1===lt.nodeType)}}),Object.defineProperty(G,"childElementCount",{get:()=>G.children.length}),Object.defineProperty(G,"childNodes",{get(){const lt=Fe.call(this);if(!(1&Ae.$flags$)&&2&Ge(this).$flags$){const dt=new ve;for(let qt=0;qt<lt.length;qt++){const St=lt[qt]["s-nr"];St&&dt.push(St)}return dt}return ve.from(lt)}})}},Pr=G=>{const $=[];for(const ve of Array.from(G))ve["s-sr"]&&$.push(ve),$.push(...Pr(ve.childNodes));return $},Oo=G=>G["s-sn"]||1===G.nodeType&&G.getAttribute("slot")||"",Wo=(G,$,ve)=>{let lt,Fe=0;for(;Fe<G.length;Fe++)if(lt=G[Fe],lt["s-sr"]&&lt["s-sn"]===$&&lt["s-hn"]===ve||(lt=Wo(lt.childNodes,$,ve),lt))return lt;return null},qo=(G,$)=>{const ve=[G];for(;(G=G.nextSibling)&&G["s-sn"]===$;)ve.push(G);return ve},li=(G,$)=>{const ve={$flags$:$[0],$tagName$:$[1]};g.member&&(ve.$members$=$[2]),g.hostListener&&(ve.$listeners$=$[3]),g.watchCallback&&(ve.$watchers$=G.$watchers$),g.reflect&&(ve.$attrsToReflect$=[]),g.shadowDom&&!Mt&&1&ve.$flags$&&(ve.$flags$|=8),g.experimentalSlotFixes?g.scoped&&2&ve.$flags$&&((G,$)=>{st(G),Ot(G),Vt(G),Nt(G),ir(G),In(G),Fn(G),ur(G),Mr(G,$),kt(G)})(G.prototype,ve):(g.slotChildNodesFix&&Mr(G.prototype,ve),g.cloneNodeFix&&st(G.prototype),g.appendChildSlotFix&&Ot(G.prototype),g.scopedSlotTextContentFix&&2&ve.$flags$&&ur(G.prototype));const Fe=G.prototype.connectedCallback,lt=G.prototype.disconnectedCallback;return Object.assign(G.prototype,{__registerHost(){((G,$)=>{const ve={$flags$:0,$hostElement$:G,$cmpMeta$:$,$instanceValues$:new Map};g.isDev&&(ve.$renderCount$=0),g.method&&g.lazyLoad&&(ve.$onInstancePromise$=new Promise(Fe=>ve.$onInstanceResolve$=Fe)),g.asyncLoading&&(ve.$onReadyPromise$=new Promise(Fe=>ve.$onReadyResolve$=Fe),G["s-p"]=[],G["s-rc"]=[]),se.set(G,ve)})(this,ve)},connectedCallback(){const dt=Ge(this);zi(this,dt,ve.$listeners$,!1),(G=>{if(!(1&Ae.$flags$)){const $=Ge(G),ve=$.$cmpMeta$,Fe=To("connectedCallback",ve.$tagName$);if(g.hostListenerTargetParent&&zi(G,$,ve.$listeners$,!0),1&$.$flags$)zi(G,$,ve.$listeners$,!1),null!=$&&$.$lazyInstance$?ie($.$lazyInstance$):null!=$&&$.$onReadyPromise$&&$.$onReadyPromise$.then(()=>ie($.$lazyInstance$));else{let lt;if($.$flags$|=1,g.hydrateClientSide&&(lt=G.getAttribute(Lt),lt)){if(g.shadowDom&&Mt&&1&ve.$flags$){const dt=g.mode?cn(G.shadowRoot,ve,G.getAttribute("s-mode")):cn(G.shadowRoot,ve);G.classList.remove(dt+"-h",dt+"-s")}((G,$,ve,Fe)=>{const lt=To("hydrateClient",$),dt=G.shadowRoot,qt=[],Yt=g.shadowDom&&dt?[]:null,hn=Fe.$vnode$=$r($,null);Ae.$orgLocNodes$||bt(ce.body,Ae.$orgLocNodes$=new Map),G[Lt]=ve,G.removeAttribute(Lt),Nn(hn,qt,[],Yt,G,G,ve),qt.map(Un=>{const Hn=Un.$hostId$+"."+Un.$nodeId$,yr=Ae.$orgLocNodes$.get(Hn),Or=Un.$elm$;yr&&Mt&&""===yr["s-en"]&&yr.parentNode.insertBefore(Or,yr.nextSibling),dt||(Or["s-hn"]=$,yr&&(Or["s-ol"]=yr,Or["s-ol"]["s-nr"]=Or)),Ae.$orgLocNodes$.delete(Hn)}),g.shadowDom&&dt&&Yt.map(Un=>{Un&&dt.appendChild(Un)}),lt()})(G,ve.$tagName$,lt,$)}if(g.slotRelocation&&!lt&&(g.hydrateServerSide||(g.slot||g.shadowDom)&&12&ve.$flags$)&&U(G),g.asyncLoading){let dt=G;for(;dt=dt.parentNode||dt.host;)if(g.hydrateClientSide&&1===dt.nodeType&&dt.hasAttribute("s-id")&&dt["s-p"]||dt["s-p"]){kr($,$.$ancestorComponent$=dt);break}}g.prop&&!g.hydrateServerSide&&ve.$members$&&Object.entries(ve.$members$).map(([dt,[qt]])=>{if(31&qt&&G.hasOwnProperty(dt)){const St=G[dt];delete G[dt],G[dt]=St}}),g.initializeNextTick?Kr(()=>L(G,$,ve)):L(G,$,ve)}Fe()}})(this),g.connectedCallback&&Fe&&Fe.call(this)},disconnectedCallback(){q(this),g.disconnectedCallback&&lt&&lt.call(this)},__attachShadow(){if(Mt)if(this.shadowRoot){if("open"!==this.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${ve.$tagName$}! Mode is set to ${this.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else this.attachShadow(g.shadowDelegatesFocus?{mode:"open",delegatesFocus:!!(16&ve.$flags$)}:{mode:"open"});else this.shadowRoot=this}}),G.is=ve.$tagName$,ba(G,ve,3)},zi=(G,$,ve,Fe)=>{g.hostListener&&ve&&(g.hostListenerTargetParent&&(ve=ve.filter(Fe?([lt])=>32&lt:([lt])=>!(32&lt))),ve.map(([lt,dt,qt])=>{const St=g.hostListenerTarget?ws(G,lt):G,Yt=Aa($,qt),hn=Ei(lt);Ae.ael(St,dt,Yt,hn),($.$rmListeners$=$.$rmListeners$||[]).push(()=>Ae.rel(St,dt,Yt,hn))}))},Aa=(G,$)=>ve=>{var Fe;try{g.lazyLoad?256&G.$flags$?null==(Fe=G.$lazyInstance$)||Fe[$](ve):(G.$queuedListeners$=G.$queuedListeners$||[]).push([$,ve]):G.$hostElement$[$](ve)}catch(lt){Ne(lt)}},ws=(G,$)=>g.hostListenerTargetDocument&&4&$?ce:g.hostListenerTargetWindow&&8&$?Ue:g.hostListenerTargetBody&&16&$?ce.body:g.hostListenerTargetParent&&32&$&&G.parentElement?G.parentElement:G,Ei=G=>Ft?{passive:!!(1&G),capture:!!(2&G)}:!!(2&G)},467:(Vn,At,B)=>{"use strict";function x(H,_e,J,S,ke,se,Ge){try{var wt=H[se](Ge),Oe=wt.value}catch(Se){return void J(Se)}wt.done?_e(Oe):Promise.resolve(Oe).then(S,ke)}function g(H){return function(){var _e=this,J=arguments;return new Promise(function(S,ke){var se=H.apply(_e,J);function Ge(Oe){x(se,S,ke,Ge,wt,"next",Oe)}function wt(Oe){x(se,S,ke,Ge,wt,"throw",Oe)}Ge(void 0)})}}B.d(At,{A:()=>g})},9842:(Vn,At,B)=>{"use strict";function x(J){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(J)}function _e(J,S,ke){return(S=function H(J){var S=function g(J,S){if("object"!=x(J)||!J)return J;var ke=J[Symbol.toPrimitive];if(void 0!==ke){var se=ke.call(J,S||"default");if("object"!=x(se))return se;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===S?String:Number)(J)}(J,"string");return"symbol"==x(S)?S:S+""}(S))in J?Object.defineProperty(J,S,{value:ke,enumerable:!0,configurable:!0,writable:!0}):J[S]=ke,J}B.d(At,{A:()=>_e})},1635:(Vn,At,B)=>{"use strict";function J(ce,de,Ae,Et){var ln,Mt=arguments.length,Ft=Mt<3?de:null===Et?Et=Object.getOwnPropertyDescriptor(de,Ae):Et;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ft=Reflect.decorate(ce,de,Ae,Et);else for(var Xt=ce.length-1;Xt>=0;Xt--)(ln=ce[Xt])&&(Ft=(Mt<3?ln(Ft):Mt>3?ln(de,Ae,Ft):ln(de,Ae))||Ft);return Mt>3&&Ft&&Object.defineProperty(de,Ae,Ft),Ft}function Se(ce,de,Ae,Et){return new(Ae||(Ae=Promise))(function(Ft,ln){function Xt(wn){try{er(Et.next(wn))}catch(wr){ln(wr)}}function dr(wn){try{er(Et.throw(wn))}catch(wr){ln(wr)}}function er(wn){wn.done?Ft(wn.value):function Mt(Ft){return Ft instanceof Ae?Ft:new Ae(function(ln){ln(Ft)})}(wn.value).then(Xt,dr)}er((Et=Et.apply(ce,de||[])).next())})}function Je(ce){return this instanceof Je?(this.v=ce,this):new Je(ce)}function Ce(ce,de,Ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Mt,Et=Ae.apply(ce,de||[]),Ft=[];return Mt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Xt("next"),Xt("throw"),Xt("return",function ln(hr){return function(Ar){return Promise.resolve(Ar).then(hr,wr)}}),Mt[Symbol.asyncIterator]=function(){return this},Mt;function Xt(hr,Ar){Et[hr]&&(Mt[hr]=function(xr){return new Promise(function(pr,Kr){Ft.push([hr,xr,pr,Kr])>1||dr(hr,xr)})},Ar&&(Mt[hr]=Ar(Mt[hr])))}function dr(hr,Ar){try{!function er(hr){hr.value instanceof Je?Promise.resolve(hr.value.v).then(wn,wr):Xr(Ft[0][2],hr)}(Et[hr](Ar))}catch(xr){Xr(Ft[0][3],xr)}}function wn(hr){dr("next",hr)}function wr(hr){dr("throw",hr)}function Xr(hr,Ar){hr(Ar),Ft.shift(),Ft.length&&dr(Ft[0][0],Ft[0][1])}}function re(ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ae,de=ce[Symbol.asyncIterator];return de?de.call(ce):(ce=function it(ce){var de="function"==typeof Symbol&&Symbol.iterator,Ae=de&&ce[de],Et=0;if(Ae)return Ae.call(ce);if(ce&&"number"==typeof ce.length)return{next:function(){return ce&&Et>=ce.length&&(ce=void 0),{value:ce&&ce[Et++],done:!ce}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(ce),Ae={},Et("next"),Et("throw"),Et("return"),Ae[Symbol.asyncIterator]=function(){return this},Ae);function Et(Ft){Ae[Ft]=ce[Ft]&&function(ln){return new Promise(function(Xt,dr){!function Mt(Ft,ln,Xt,dr){Promise.resolve(dr).then(function(er){Ft({value:er,done:Xt})},ln)}(Xt,dr,(ln=ce[Ft](ln)).done,ln.value)})}}}B.d(At,{AQ:()=>Ce,Cg:()=>J,N3:()=>Je,sH:()=>Se,xN:()=>re}),"function"==typeof SuppressedError&&SuppressedError}},Vn=>{Vn(Vn.s=5229)}]);